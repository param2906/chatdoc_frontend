function US(k,G){for(var ne=0;ne<G.length;ne++){const pe=G[ne];if(typeof pe!="string"&&!Array.isArray(pe)){for(const Le in pe)if(Le!=="default"&&!(Le in k)){const Ye=Object.getOwnPropertyDescriptor(pe,Le);Ye&&Object.defineProperty(k,Le,Ye.get?Ye:{enumerable:!0,get:()=>pe[Le]})}}}return Object.freeze(Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}))}(function(){const G=document.createElement("link").relList;if(G&&G.supports&&G.supports("modulepreload"))return;for(const Le of document.querySelectorAll('link[rel="modulepreload"]'))pe(Le);new MutationObserver(Le=>{for(const Ye of Le)if(Ye.type==="childList")for(const W of Ye.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&pe(W)}).observe(document,{childList:!0,subtree:!0});function ne(Le){const Ye={};return Le.integrity&&(Ye.integrity=Le.integrity),Le.referrerPolicy&&(Ye.referrerPolicy=Le.referrerPolicy),Le.crossOrigin==="use-credentials"?Ye.credentials="include":Le.crossOrigin==="anonymous"?Ye.credentials="omit":Ye.credentials="same-origin",Ye}function pe(Le){if(Le.ep)return;Le.ep=!0;const Ye=ne(Le);fetch(Le.href,Ye)}})();var Mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sw(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}var Ew={exports:{}},ug={},Cw={exports:{}},di={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=Symbol.for("react.element"),HS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),GS=Symbol.for("react.strict_mode"),WS=Symbol.for("react.profiler"),YS=Symbol.for("react.provider"),jS=Symbol.for("react.context"),ZS=Symbol.for("react.forward_ref"),XS=Symbol.for("react.suspense"),KS=Symbol.for("react.memo"),JS=Symbol.for("react.lazy"),Q2=Symbol.iterator;function QS(k){return k===null||typeof k!="object"?null:(k=Q2&&k[Q2]||k["@@iterator"],typeof k=="function"?k:null)}var Lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pw=Object.assign,Rw={};function $v(k,G,ne){this.props=k,this.context=G,this.refs=Rw,this.updater=ne||Lw}$v.prototype.isReactComponent={};$v.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")};$v.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Dw(){}Dw.prototype=$v.prototype;function Am(k,G,ne){this.props=k,this.context=G,this.refs=Rw,this.updater=ne||Lw}var Mm=Am.prototype=new Dw;Mm.constructor=Am;Pw(Mm,$v.prototype);Mm.isPureReactComponent=!0;var $2=Array.isArray,Iw=Object.prototype.hasOwnProperty,Sm={current:null},kw={key:!0,ref:!0,__self:!0,__source:!0};function Fw(k,G,ne){var pe,Le={},Ye=null,W=null;if(G!=null)for(pe in G.ref!==void 0&&(W=G.ref),G.key!==void 0&&(Ye=""+G.key),G)Iw.call(G,pe)&&!kw.hasOwnProperty(pe)&&(Le[pe]=G[pe]);var V=arguments.length-2;if(V===1)Le.children=ne;else if(1<V){for(var e=Array(V),y=0;y<V;y++)e[y]=arguments[y+2];Le.children=e}if(k&&k.defaultProps)for(pe in V=k.defaultProps,V)Le[pe]===void 0&&(Le[pe]=V[pe]);return{$$typeof:d0,type:k,key:Ye,ref:W,props:Le,_owner:Sm.current}}function $S(k,G){return{$$typeof:d0,type:k.type,key:G,ref:k.ref,props:k.props,_owner:k._owner}}function Em(k){return typeof k=="object"&&k!==null&&k.$$typeof===d0}function qS(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return G[ne]})}var q2=/\/+/g;function wy(k,G){return typeof k=="object"&&k!==null&&k.key!=null?qS(""+k.key):G.toString(36)}function yp(k,G,ne,pe,Le){var Ye=typeof k;(Ye==="undefined"||Ye==="boolean")&&(k=null);var W=!1;if(k===null)W=!0;else switch(Ye){case"string":case"number":W=!0;break;case"object":switch(k.$$typeof){case d0:case HS:W=!0}}if(W)return W=k,Le=Le(W),k=pe===""?"."+wy(W,0):pe,$2(Le)?(ne="",k!=null&&(ne=k.replace(q2,"$&/")+"/"),yp(Le,G,ne,"",function(y){return y})):Le!=null&&(Em(Le)&&(Le=$S(Le,ne+(!Le.key||W&&W.key===Le.key?"":(""+Le.key).replace(q2,"$&/")+"/")+k)),G.push(Le)),1;if(W=0,pe=pe===""?".":pe+":",$2(k))for(var V=0;V<k.length;V++){Ye=k[V];var e=pe+wy(Ye,V);W+=yp(Ye,G,ne,e,Le)}else if(e=QS(k),typeof e=="function")for(k=e.call(k),V=0;!(Ye=k.next()).done;)Ye=Ye.value,e=pe+wy(Ye,V++),W+=yp(Ye,G,ne,e,Le);else if(Ye==="object")throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return W}function $0(k,G,ne){if(k==null)return k;var pe=[],Le=0;return yp(k,pe,"","",function(Ye){return G.call(ne,Ye,Le++)}),pe}function e6(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var Ws={current:null},mp={transition:null},t6={ReactCurrentDispatcher:Ws,ReactCurrentBatchConfig:mp,ReactCurrentOwner:Sm};di.Children={map:$0,forEach:function(k,G,ne){$0(k,function(){G.apply(this,arguments)},ne)},count:function(k){var G=0;return $0(k,function(){G++}),G},toArray:function(k){return $0(k,function(G){return G})||[]},only:function(k){if(!Em(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};di.Component=$v;di.Fragment=VS;di.Profiler=WS;di.PureComponent=Am;di.StrictMode=GS;di.Suspense=XS;di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t6;di.cloneElement=function(k,G,ne){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var pe=Pw({},k.props),Le=k.key,Ye=k.ref,W=k._owner;if(G!=null){if(G.ref!==void 0&&(Ye=G.ref,W=Sm.current),G.key!==void 0&&(Le=""+G.key),k.type&&k.type.defaultProps)var V=k.type.defaultProps;for(e in G)Iw.call(G,e)&&!kw.hasOwnProperty(e)&&(pe[e]=G[e]===void 0&&V!==void 0?V[e]:G[e])}var e=arguments.length-2;if(e===1)pe.children=ne;else if(1<e){V=Array(e);for(var y=0;y<e;y++)V[y]=arguments[y+2];pe.children=V}return{$$typeof:d0,type:k.type,key:Le,ref:Ye,props:pe,_owner:W}};di.createContext=function(k){return k={$$typeof:jS,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:YS,_context:k},k.Consumer=k};di.createElement=Fw;di.createFactory=function(k){var G=Fw.bind(null,k);return G.type=k,G};di.createRef=function(){return{current:null}};di.forwardRef=function(k){return{$$typeof:ZS,render:k}};di.isValidElement=Em;di.lazy=function(k){return{$$typeof:JS,_payload:{_status:-1,_result:k},_init:e6}};di.memo=function(k,G){return{$$typeof:KS,type:k,compare:G===void 0?null:G}};di.startTransition=function(k){var G=mp.transition;mp.transition={};try{k()}finally{mp.transition=G}};di.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};di.useCallback=function(k,G){return Ws.current.useCallback(k,G)};di.useContext=function(k){return Ws.current.useContext(k)};di.useDebugValue=function(){};di.useDeferredValue=function(k){return Ws.current.useDeferredValue(k)};di.useEffect=function(k,G){return Ws.current.useEffect(k,G)};di.useId=function(){return Ws.current.useId()};di.useImperativeHandle=function(k,G,ne){return Ws.current.useImperativeHandle(k,G,ne)};di.useInsertionEffect=function(k,G){return Ws.current.useInsertionEffect(k,G)};di.useLayoutEffect=function(k,G){return Ws.current.useLayoutEffect(k,G)};di.useMemo=function(k,G){return Ws.current.useMemo(k,G)};di.useReducer=function(k,G,ne){return Ws.current.useReducer(k,G,ne)};di.useRef=function(k){return Ws.current.useRef(k)};di.useState=function(k){return Ws.current.useState(k)};di.useSyncExternalStore=function(k,G,ne){return Ws.current.useSyncExternalStore(k,G,ne)};di.useTransition=function(){return Ws.current.useTransition()};di.version="18.2.0";Cw.exports=di;var ua=Cw.exports;const Bi=Sw(ua),r6=US({__proto__:null,default:Bi},[ua]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6=ua,a6=Symbol.for("react.element"),i6=Symbol.for("react.fragment"),o6=Object.prototype.hasOwnProperty,s6=n6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l6={key:!0,ref:!0,__self:!0,__source:!0};function _w(k,G,ne){var pe,Le={},Ye=null,W=null;ne!==void 0&&(Ye=""+ne),G.key!==void 0&&(Ye=""+G.key),G.ref!==void 0&&(W=G.ref);for(pe in G)o6.call(G,pe)&&!l6.hasOwnProperty(pe)&&(Le[pe]=G[pe]);if(k&&k.defaultProps)for(pe in G=k.defaultProps,G)Le[pe]===void 0&&(Le[pe]=G[pe]);return{$$typeof:a6,type:k,key:Ye,ref:W,props:Le,_owner:s6.current}}ug.Fragment=i6;ug.jsx=_w;ug.jsxs=_w;Ew.exports=ug;var Bn=Ew.exports,r1={},zw={exports:{}},Pl={},Ow={exports:{}},Bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(k){function G(A,f){var P=A.length;A.push(f);e:for(;0<P;){var w=P-1>>>1,z=A[w];if(0<Le(z,f))A[w]=f,A[P]=z,P=w;else break e}}function ne(A){return A.length===0?null:A[0]}function pe(A){if(A.length===0)return null;var f=A[0],P=A.pop();if(P!==f){A[0]=P;e:for(var w=0,z=A.length,F=z>>>1;w<F;){var H=2*(w+1)-1,_=A[H],B=H+1,N=A[B];if(0>Le(_,P))B<z&&0>Le(N,_)?(A[w]=N,A[B]=P,w=B):(A[w]=_,A[H]=P,w=H);else if(B<z&&0>Le(N,P))A[w]=N,A[B]=P,w=B;else break e}}return f}function Le(A,f){var P=A.sortIndex-f.sortIndex;return P!==0?P:A.id-f.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ye=performance;k.unstable_now=function(){return Ye.now()}}else{var W=Date,V=W.now();k.unstable_now=function(){return W.now()-V}}var e=[],y=[],C=1,a=null,L=3,x=!1,h=!1,d=!1,t=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(A){for(var f=ne(y);f!==null;){if(f.callback===null)pe(y);else if(f.startTime<=A)pe(y),f.sortIndex=f.expirationTime,G(e,f);else break;f=ne(y)}}function i(A){if(d=!1,n(A),!h)if(ne(e)!==null)h=!0,T(s);else{var f=ne(y);f!==null&&E(i,f.startTime-A)}}function s(A,f){h=!1,d&&(d=!1,r(c),c=-1),x=!0;var P=L;try{for(n(f),a=ne(e);a!==null&&(!(a.expirationTime>f)||A&&!l());){var w=a.callback;if(typeof w=="function"){a.callback=null,L=a.priorityLevel;var z=w(a.expirationTime<=f);f=k.unstable_now(),typeof z=="function"?a.callback=z:a===ne(e)&&pe(e),n(f)}else pe(e);a=ne(e)}if(a!==null)var F=!0;else{var H=ne(y);H!==null&&E(i,H.startTime-f),F=!1}return F}finally{a=null,L=P,x=!1}}var o=!1,m=null,c=-1,b=5,v=-1;function l(){return!(k.unstable_now()-v<b)}function p(){if(m!==null){var A=k.unstable_now();v=A;var f=!0;try{f=m(!0,A)}finally{f?S():(o=!1,m=null)}}else o=!1}var S;if(typeof u=="function")S=function(){u(p)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,R=M.port2;M.port1.onmessage=p,S=function(){R.postMessage(null)}}else S=function(){t(p,0)};function T(A){m=A,o||(o=!0,S())}function E(A,f){c=t(function(){A(k.unstable_now())},f)}k.unstable_IdlePriority=5,k.unstable_ImmediatePriority=1,k.unstable_LowPriority=4,k.unstable_NormalPriority=3,k.unstable_Profiling=null,k.unstable_UserBlockingPriority=2,k.unstable_cancelCallback=function(A){A.callback=null},k.unstable_continueExecution=function(){h||x||(h=!0,T(s))},k.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<A?Math.floor(1e3/A):5},k.unstable_getCurrentPriorityLevel=function(){return L},k.unstable_getFirstCallbackNode=function(){return ne(e)},k.unstable_next=function(A){switch(L){case 1:case 2:case 3:var f=3;break;default:f=L}var P=L;L=f;try{return A()}finally{L=P}},k.unstable_pauseExecution=function(){},k.unstable_requestPaint=function(){},k.unstable_runWithPriority=function(A,f){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var P=L;L=A;try{return f()}finally{L=P}},k.unstable_scheduleCallback=function(A,f,P){var w=k.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?w+P:w):P=w,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=P+z,A={id:C++,callback:f,priorityLevel:A,startTime:P,expirationTime:z,sortIndex:-1},P>w?(A.sortIndex=P,G(y,A),ne(e)===null&&A===ne(y)&&(d?(r(c),c=-1):d=!0,E(i,P-w))):(A.sortIndex=z,G(e,A),h||x||(h=!0,T(s))),A},k.unstable_shouldYield=l,k.unstable_wrapCallback=function(A){var f=L;return function(){var P=L;L=f;try{return A.apply(this,arguments)}finally{L=P}}}})(Bw);Ow.exports=Bw;var u6=Ow.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=ua,Ll=u6;function ga(k){for(var G="https://reactjs.org/docs/error-decoder.html?invariant="+k,ne=1;ne<arguments.length;ne++)G+="&args[]="+encodeURIComponent(arguments[ne]);return"Minified React error #"+k+"; visit "+G+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uw=new Set,Xd={};function Zh(k,G){Vv(k,G),Vv(k+"Capture",G)}function Vv(k,G){for(Xd[k]=G,k=0;k<G.length;k++)Uw.add(G[k])}var Kf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n1=Object.prototype.hasOwnProperty,f6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eb={},tb={};function c6(k){return n1.call(tb,k)?!0:n1.call(eb,k)?!1:f6.test(k)?tb[k]=!0:(eb[k]=!0,!1)}function h6(k,G,ne,pe){if(ne!==null&&ne.type===0)return!1;switch(typeof G){case"function":case"symbol":return!0;case"boolean":return pe?!1:ne!==null?!ne.acceptsBooleans:(k=k.toLowerCase().slice(0,5),k!=="data-"&&k!=="aria-");default:return!1}}function v6(k,G,ne,pe){if(G===null||typeof G>"u"||h6(k,G,ne,pe))return!0;if(pe)return!1;if(ne!==null)switch(ne.type){case 3:return!G;case 4:return G===!1;case 5:return isNaN(G);case 6:return isNaN(G)||1>G}return!1}function Ys(k,G,ne,pe,Le,Ye,W){this.acceptsBooleans=G===2||G===3||G===4,this.attributeName=pe,this.attributeNamespace=Le,this.mustUseProperty=ne,this.propertyName=k,this.type=G,this.sanitizeURL=Ye,this.removeEmptyString=W}var cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(k){cs[k]=new Ys(k,0,!1,k,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(k){var G=k[0];cs[G]=new Ys(G,1,!1,k[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(k){cs[k]=new Ys(k,2,!1,k.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(k){cs[k]=new Ys(k,2,!1,k,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(k){cs[k]=new Ys(k,3,!1,k.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(k){cs[k]=new Ys(k,3,!0,k,null,!1,!1)});["capture","download"].forEach(function(k){cs[k]=new Ys(k,4,!1,k,null,!1,!1)});["cols","rows","size","span"].forEach(function(k){cs[k]=new Ys(k,6,!1,k,null,!1,!1)});["rowSpan","start"].forEach(function(k){cs[k]=new Ys(k,5,!1,k.toLowerCase(),null,!1,!1)});var Cm=/[\-:]([a-z])/g;function Lm(k){return k[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(k){var G=k.replace(Cm,Lm);cs[G]=new Ys(G,1,!1,k,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(k){var G=k.replace(Cm,Lm);cs[G]=new Ys(G,1,!1,k,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(k){var G=k.replace(Cm,Lm);cs[G]=new Ys(G,1,!1,k,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(k){cs[k]=new Ys(k,1,!1,k.toLowerCase(),null,!1,!1)});cs.xlinkHref=new Ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(k){cs[k]=new Ys(k,1,!1,k.toLowerCase(),null,!0,!0)});function Pm(k,G,ne,pe){var Le=cs.hasOwnProperty(G)?cs[G]:null;(Le!==null?Le.type!==0:pe||!(2<G.length)||G[0]!=="o"&&G[0]!=="O"||G[1]!=="n"&&G[1]!=="N")&&(v6(G,ne,Le,pe)&&(ne=null),pe||Le===null?c6(G)&&(ne===null?k.removeAttribute(G):k.setAttribute(G,""+ne)):Le.mustUseProperty?k[Le.propertyName]=ne===null?Le.type===3?!1:"":ne:(G=Le.attributeName,pe=Le.attributeNamespace,ne===null?k.removeAttribute(G):(Le=Le.type,ne=Le===3||Le===4&&ne===!0?"":""+ne,pe?k.setAttributeNS(pe,G,ne):k.setAttribute(G,ne))))}var qf=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q0=Symbol.for("react.element"),Av=Symbol.for("react.portal"),Mv=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),i1=Symbol.for("react.suspense"),o1=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),_c=Symbol.for("react.lazy"),Gw=Symbol.for("react.offscreen"),rb=Symbol.iterator;function Sd(k){return k===null||typeof k!="object"?null:(k=rb&&k[rb]||k["@@iterator"],typeof k=="function"?k:null)}var ho=Object.assign,Ty;function Fd(k){if(Ty===void 0)try{throw Error()}catch(ne){var G=ne.stack.trim().match(/\n( *(at )?)/);Ty=G&&G[1]||""}return`
`+Ty+k}var Ay=!1;function My(k,G){if(!k||Ay)return"";Ay=!0;var ne=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(G)if(G=function(){throw Error()},Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(y){var pe=y}Reflect.construct(k,[],G)}else{try{G.call()}catch(y){pe=y}k.call(G.prototype)}else{try{throw Error()}catch(y){pe=y}k()}}catch(y){if(y&&pe&&typeof y.stack=="string"){for(var Le=y.stack.split(`
`),Ye=pe.stack.split(`
`),W=Le.length-1,V=Ye.length-1;1<=W&&0<=V&&Le[W]!==Ye[V];)V--;for(;1<=W&&0<=V;W--,V--)if(Le[W]!==Ye[V]){if(W!==1||V!==1)do if(W--,V--,0>V||Le[W]!==Ye[V]){var e=`
`+Le[W].replace(" at new "," at ");return k.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",k.displayName)),e}while(1<=W&&0<=V);break}}}finally{Ay=!1,Error.prepareStackTrace=ne}return(k=k?k.displayName||k.name:"")?Fd(k):""}function d6(k){switch(k.tag){case 5:return Fd(k.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return k=My(k.type,!1),k;case 11:return k=My(k.type.render,!1),k;case 1:return k=My(k.type,!0),k;default:return""}}function s1(k){if(k==null)return null;if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case Mv:return"Fragment";case Av:return"Portal";case a1:return"Profiler";case Rm:return"StrictMode";case i1:return"Suspense";case o1:return"SuspenseList"}if(typeof k=="object")switch(k.$$typeof){case Vw:return(k.displayName||"Context")+".Consumer";case Hw:return(k._context.displayName||"Context")+".Provider";case Dm:var G=k.render;return k=k.displayName,k||(k=G.displayName||G.name||"",k=k!==""?"ForwardRef("+k+")":"ForwardRef"),k;case Im:return G=k.displayName||null,G!==null?G:s1(k.type)||"Memo";case _c:G=k._payload,k=k._init;try{return s1(k(G))}catch{}}return null}function p6(k){var G=k.type;switch(k.tag){case 24:return"Cache";case 9:return(G.displayName||"Context")+".Consumer";case 10:return(G._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return k=G.render,k=k.displayName||k.name||"",G.displayName||(k!==""?"ForwardRef("+k+")":"ForwardRef");case 7:return"Fragment";case 5:return G;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s1(G);case 8:return G===Rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof G=="function")return G.displayName||G.name||null;if(typeof G=="string")return G}return null}function $c(k){switch(typeof k){case"boolean":case"number":case"string":case"undefined":return k;case"object":return k;default:return""}}function Ww(k){var G=k.type;return(k=k.nodeName)&&k.toLowerCase()==="input"&&(G==="checkbox"||G==="radio")}function g6(k){var G=Ww(k)?"checked":"value",ne=Object.getOwnPropertyDescriptor(k.constructor.prototype,G),pe=""+k[G];if(!k.hasOwnProperty(G)&&typeof ne<"u"&&typeof ne.get=="function"&&typeof ne.set=="function"){var Le=ne.get,Ye=ne.set;return Object.defineProperty(k,G,{configurable:!0,get:function(){return Le.call(this)},set:function(W){pe=""+W,Ye.call(this,W)}}),Object.defineProperty(k,G,{enumerable:ne.enumerable}),{getValue:function(){return pe},setValue:function(W){pe=""+W},stopTracking:function(){k._valueTracker=null,delete k[G]}}}}function ep(k){k._valueTracker||(k._valueTracker=g6(k))}function Yw(k){if(!k)return!1;var G=k._valueTracker;if(!G)return!0;var ne=G.getValue(),pe="";return k&&(pe=Ww(k)?k.checked?"true":"false":k.value),k=pe,k!==ne?(G.setValue(k),!0):!1}function Fp(k){if(k=k||(typeof document<"u"?document:void 0),typeof k>"u")return null;try{return k.activeElement||k.body}catch{return k.body}}function l1(k,G){var ne=G.checked;return ho({},G,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ne??k._wrapperState.initialChecked})}function nb(k,G){var ne=G.defaultValue==null?"":G.defaultValue,pe=G.checked!=null?G.checked:G.defaultChecked;ne=$c(G.value!=null?G.value:ne),k._wrapperState={initialChecked:pe,initialValue:ne,controlled:G.type==="checkbox"||G.type==="radio"?G.checked!=null:G.value!=null}}function jw(k,G){G=G.checked,G!=null&&Pm(k,"checked",G,!1)}function u1(k,G){jw(k,G);var ne=$c(G.value),pe=G.type;if(ne!=null)pe==="number"?(ne===0&&k.value===""||k.value!=ne)&&(k.value=""+ne):k.value!==""+ne&&(k.value=""+ne);else if(pe==="submit"||pe==="reset"){k.removeAttribute("value");return}G.hasOwnProperty("value")?f1(k,G.type,ne):G.hasOwnProperty("defaultValue")&&f1(k,G.type,$c(G.defaultValue)),G.checked==null&&G.defaultChecked!=null&&(k.defaultChecked=!!G.defaultChecked)}function ab(k,G,ne){if(G.hasOwnProperty("value")||G.hasOwnProperty("defaultValue")){var pe=G.type;if(!(pe!=="submit"&&pe!=="reset"||G.value!==void 0&&G.value!==null))return;G=""+k._wrapperState.initialValue,ne||G===k.value||(k.value=G),k.defaultValue=G}ne=k.name,ne!==""&&(k.name=""),k.defaultChecked=!!k._wrapperState.initialChecked,ne!==""&&(k.name=ne)}function f1(k,G,ne){(G!=="number"||Fp(k.ownerDocument)!==k)&&(ne==null?k.defaultValue=""+k._wrapperState.initialValue:k.defaultValue!==""+ne&&(k.defaultValue=""+ne))}var _d=Array.isArray;function zv(k,G,ne,pe){if(k=k.options,G){G={};for(var Le=0;Le<ne.length;Le++)G["$"+ne[Le]]=!0;for(ne=0;ne<k.length;ne++)Le=G.hasOwnProperty("$"+k[ne].value),k[ne].selected!==Le&&(k[ne].selected=Le),Le&&pe&&(k[ne].defaultSelected=!0)}else{for(ne=""+$c(ne),G=null,Le=0;Le<k.length;Le++){if(k[Le].value===ne){k[Le].selected=!0,pe&&(k[Le].defaultSelected=!0);return}G!==null||k[Le].disabled||(G=k[Le])}G!==null&&(G.selected=!0)}}function c1(k,G){if(G.dangerouslySetInnerHTML!=null)throw Error(ga(91));return ho({},G,{value:void 0,defaultValue:void 0,children:""+k._wrapperState.initialValue})}function ib(k,G){var ne=G.value;if(ne==null){if(ne=G.children,G=G.defaultValue,ne!=null){if(G!=null)throw Error(ga(92));if(_d(ne)){if(1<ne.length)throw Error(ga(93));ne=ne[0]}G=ne}G==null&&(G=""),ne=G}k._wrapperState={initialValue:$c(ne)}}function Zw(k,G){var ne=$c(G.value),pe=$c(G.defaultValue);ne!=null&&(ne=""+ne,ne!==k.value&&(k.value=ne),G.defaultValue==null&&k.defaultValue!==ne&&(k.defaultValue=ne)),pe!=null&&(k.defaultValue=""+pe)}function ob(k){var G=k.textContent;G===k._wrapperState.initialValue&&G!==""&&G!==null&&(k.value=G)}function Xw(k){switch(k){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h1(k,G){return k==null||k==="http://www.w3.org/1999/xhtml"?Xw(G):k==="http://www.w3.org/2000/svg"&&G==="foreignObject"?"http://www.w3.org/1999/xhtml":k}var tp,Kw=function(k){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(G,ne,pe,Le){MSApp.execUnsafeLocalFunction(function(){return k(G,ne,pe,Le)})}:k}(function(k,G){if(k.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in k)k.innerHTML=G;else{for(tp=tp||document.createElement("div"),tp.innerHTML="<svg>"+G.valueOf().toString()+"</svg>",G=tp.firstChild;k.firstChild;)k.removeChild(k.firstChild);for(;G.firstChild;)k.appendChild(G.firstChild)}});function Kd(k,G){if(G){var ne=k.firstChild;if(ne&&ne===k.lastChild&&ne.nodeType===3){ne.nodeValue=G;return}}k.textContent=G}var Bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y6=["Webkit","ms","Moz","O"];Object.keys(Bd).forEach(function(k){y6.forEach(function(G){G=G+k.charAt(0).toUpperCase()+k.substring(1),Bd[G]=Bd[k]})});function Jw(k,G,ne){return G==null||typeof G=="boolean"||G===""?"":ne||typeof G!="number"||G===0||Bd.hasOwnProperty(k)&&Bd[k]?(""+G).trim():G+"px"}function Qw(k,G){k=k.style;for(var ne in G)if(G.hasOwnProperty(ne)){var pe=ne.indexOf("--")===0,Le=Jw(ne,G[ne],pe);ne==="float"&&(ne="cssFloat"),pe?k.setProperty(ne,Le):k[ne]=Le}}var m6=ho({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v1(k,G){if(G){if(m6[k]&&(G.children!=null||G.dangerouslySetInnerHTML!=null))throw Error(ga(137,k));if(G.dangerouslySetInnerHTML!=null){if(G.children!=null)throw Error(ga(60));if(typeof G.dangerouslySetInnerHTML!="object"||!("__html"in G.dangerouslySetInnerHTML))throw Error(ga(61))}if(G.style!=null&&typeof G.style!="object")throw Error(ga(62))}}function d1(k,G){if(k.indexOf("-")===-1)return typeof G.is=="string";switch(k){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p1=null;function km(k){return k=k.target||k.srcElement||window,k.correspondingUseElement&&(k=k.correspondingUseElement),k.nodeType===3?k.parentNode:k}var g1=null,Ov=null,Bv=null;function sb(k){if(k=y0(k)){if(typeof g1!="function")throw Error(ga(280));var G=k.stateNode;G&&(G=dg(G),g1(k.stateNode,k.type,G))}}function $w(k){Ov?Bv?Bv.push(k):Bv=[k]:Ov=k}function qw(){if(Ov){var k=Ov,G=Bv;if(Bv=Ov=null,sb(k),G)for(k=0;k<G.length;k++)sb(G[k])}}function eT(k,G){return k(G)}function tT(){}var Sy=!1;function rT(k,G,ne){if(Sy)return k(G,ne);Sy=!0;try{return eT(k,G,ne)}finally{Sy=!1,(Ov!==null||Bv!==null)&&(tT(),qw())}}function Jd(k,G){var ne=k.stateNode;if(ne===null)return null;var pe=dg(ne);if(pe===null)return null;ne=pe[G];e:switch(G){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(pe=!pe.disabled)||(k=k.type,pe=!(k==="button"||k==="input"||k==="select"||k==="textarea")),k=!pe;break e;default:k=!1}if(k)return null;if(ne&&typeof ne!="function")throw Error(ga(231,G,typeof ne));return ne}var y1=!1;if(Kf)try{var Ed={};Object.defineProperty(Ed,"passive",{get:function(){y1=!0}}),window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{y1=!1}function x6(k,G,ne,pe,Le,Ye,W,V,e){var y=Array.prototype.slice.call(arguments,3);try{G.apply(ne,y)}catch(C){this.onError(C)}}var Nd=!1,_p=null,zp=!1,m1=null,b6={onError:function(k){Nd=!0,_p=k}};function w6(k,G,ne,pe,Le,Ye,W,V,e){Nd=!1,_p=null,x6.apply(b6,arguments)}function T6(k,G,ne,pe,Le,Ye,W,V,e){if(w6.apply(this,arguments),Nd){if(Nd){var y=_p;Nd=!1,_p=null}else throw Error(ga(198));zp||(zp=!0,m1=y)}}function Xh(k){var G=k,ne=k;if(k.alternate)for(;G.return;)G=G.return;else{k=G;do G=k,G.flags&4098&&(ne=G.return),k=G.return;while(k)}return G.tag===3?ne:null}function nT(k){if(k.tag===13){var G=k.memoizedState;if(G===null&&(k=k.alternate,k!==null&&(G=k.memoizedState)),G!==null)return G.dehydrated}return null}function lb(k){if(Xh(k)!==k)throw Error(ga(188))}function A6(k){var G=k.alternate;if(!G){if(G=Xh(k),G===null)throw Error(ga(188));return G!==k?null:k}for(var ne=k,pe=G;;){var Le=ne.return;if(Le===null)break;var Ye=Le.alternate;if(Ye===null){if(pe=Le.return,pe!==null){ne=pe;continue}break}if(Le.child===Ye.child){for(Ye=Le.child;Ye;){if(Ye===ne)return lb(Le),k;if(Ye===pe)return lb(Le),G;Ye=Ye.sibling}throw Error(ga(188))}if(ne.return!==pe.return)ne=Le,pe=Ye;else{for(var W=!1,V=Le.child;V;){if(V===ne){W=!0,ne=Le,pe=Ye;break}if(V===pe){W=!0,pe=Le,ne=Ye;break}V=V.sibling}if(!W){for(V=Ye.child;V;){if(V===ne){W=!0,ne=Ye,pe=Le;break}if(V===pe){W=!0,pe=Ye,ne=Le;break}V=V.sibling}if(!W)throw Error(ga(189))}}if(ne.alternate!==pe)throw Error(ga(190))}if(ne.tag!==3)throw Error(ga(188));return ne.stateNode.current===ne?k:G}function aT(k){return k=A6(k),k!==null?iT(k):null}function iT(k){if(k.tag===5||k.tag===6)return k;for(k=k.child;k!==null;){var G=iT(k);if(G!==null)return G;k=k.sibling}return null}var oT=Ll.unstable_scheduleCallback,ub=Ll.unstable_cancelCallback,M6=Ll.unstable_shouldYield,S6=Ll.unstable_requestPaint,So=Ll.unstable_now,E6=Ll.unstable_getCurrentPriorityLevel,Fm=Ll.unstable_ImmediatePriority,sT=Ll.unstable_UserBlockingPriority,Op=Ll.unstable_NormalPriority,C6=Ll.unstable_LowPriority,lT=Ll.unstable_IdlePriority,fg=null,lf=null;function L6(k){if(lf&&typeof lf.onCommitFiberRoot=="function")try{lf.onCommitFiberRoot(fg,k,void 0,(k.current.flags&128)===128)}catch{}}var Du=Math.clz32?Math.clz32:D6,P6=Math.log,R6=Math.LN2;function D6(k){return k>>>=0,k===0?32:31-(P6(k)/R6|0)|0}var rp=64,np=4194304;function zd(k){switch(k&-k){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return k&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return k&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return k}}function Bp(k,G){var ne=k.pendingLanes;if(ne===0)return 0;var pe=0,Le=k.suspendedLanes,Ye=k.pingedLanes,W=ne&268435455;if(W!==0){var V=W&~Le;V!==0?pe=zd(V):(Ye&=W,Ye!==0&&(pe=zd(Ye)))}else W=ne&~Le,W!==0?pe=zd(W):Ye!==0&&(pe=zd(Ye));if(pe===0)return 0;if(G!==0&&G!==pe&&!(G&Le)&&(Le=pe&-pe,Ye=G&-G,Le>=Ye||Le===16&&(Ye&4194240)!==0))return G;if(pe&4&&(pe|=ne&16),G=k.entangledLanes,G!==0)for(k=k.entanglements,G&=pe;0<G;)ne=31-Du(G),Le=1<<ne,pe|=k[ne],G&=~Le;return pe}function I6(k,G){switch(k){case 1:case 2:case 4:return G+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return G+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k6(k,G){for(var ne=k.suspendedLanes,pe=k.pingedLanes,Le=k.expirationTimes,Ye=k.pendingLanes;0<Ye;){var W=31-Du(Ye),V=1<<W,e=Le[W];e===-1?(!(V&ne)||V&pe)&&(Le[W]=I6(V,G)):e<=G&&(k.expiredLanes|=V),Ye&=~V}}function x1(k){return k=k.pendingLanes&-1073741825,k!==0?k:k&1073741824?1073741824:0}function uT(){var k=rp;return rp<<=1,!(rp&4194240)&&(rp=64),k}function Ey(k){for(var G=[],ne=0;31>ne;ne++)G.push(k);return G}function p0(k,G,ne){k.pendingLanes|=G,G!==536870912&&(k.suspendedLanes=0,k.pingedLanes=0),k=k.eventTimes,G=31-Du(G),k[G]=ne}function F6(k,G){var ne=k.pendingLanes&~G;k.pendingLanes=G,k.suspendedLanes=0,k.pingedLanes=0,k.expiredLanes&=G,k.mutableReadLanes&=G,k.entangledLanes&=G,G=k.entanglements;var pe=k.eventTimes;for(k=k.expirationTimes;0<ne;){var Le=31-Du(ne),Ye=1<<Le;G[Le]=0,pe[Le]=-1,k[Le]=-1,ne&=~Ye}}function _m(k,G){var ne=k.entangledLanes|=G;for(k=k.entanglements;ne;){var pe=31-Du(ne),Le=1<<pe;Le&G|k[pe]&G&&(k[pe]|=G),ne&=~Le}}var Fi=0;function fT(k){return k&=-k,1<k?4<k?k&268435455?16:536870912:4:1}var cT,zm,hT,vT,dT,b1=!1,ap=[],Vc=null,Gc=null,Wc=null,Qd=new Map,$d=new Map,Oc=[],_6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(k,G){switch(k){case"focusin":case"focusout":Vc=null;break;case"dragenter":case"dragleave":Gc=null;break;case"mouseover":case"mouseout":Wc=null;break;case"pointerover":case"pointerout":Qd.delete(G.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(G.pointerId)}}function Cd(k,G,ne,pe,Le,Ye){return k===null||k.nativeEvent!==Ye?(k={blockedOn:G,domEventName:ne,eventSystemFlags:pe,nativeEvent:Ye,targetContainers:[Le]},G!==null&&(G=y0(G),G!==null&&zm(G)),k):(k.eventSystemFlags|=pe,G=k.targetContainers,Le!==null&&G.indexOf(Le)===-1&&G.push(Le),k)}function z6(k,G,ne,pe,Le){switch(G){case"focusin":return Vc=Cd(Vc,k,G,ne,pe,Le),!0;case"dragenter":return Gc=Cd(Gc,k,G,ne,pe,Le),!0;case"mouseover":return Wc=Cd(Wc,k,G,ne,pe,Le),!0;case"pointerover":var Ye=Le.pointerId;return Qd.set(Ye,Cd(Qd.get(Ye)||null,k,G,ne,pe,Le)),!0;case"gotpointercapture":return Ye=Le.pointerId,$d.set(Ye,Cd($d.get(Ye)||null,k,G,ne,pe,Le)),!0}return!1}function pT(k){var G=_h(k.target);if(G!==null){var ne=Xh(G);if(ne!==null){if(G=ne.tag,G===13){if(G=nT(ne),G!==null){k.blockedOn=G,dT(k.priority,function(){hT(ne)});return}}else if(G===3&&ne.stateNode.current.memoizedState.isDehydrated){k.blockedOn=ne.tag===3?ne.stateNode.containerInfo:null;return}}}k.blockedOn=null}function xp(k){if(k.blockedOn!==null)return!1;for(var G=k.targetContainers;0<G.length;){var ne=w1(k.domEventName,k.eventSystemFlags,G[0],k.nativeEvent);if(ne===null){ne=k.nativeEvent;var pe=new ne.constructor(ne.type,ne);p1=pe,ne.target.dispatchEvent(pe),p1=null}else return G=y0(ne),G!==null&&zm(G),k.blockedOn=ne,!1;G.shift()}return!0}function cb(k,G,ne){xp(k)&&ne.delete(G)}function O6(){b1=!1,Vc!==null&&xp(Vc)&&(Vc=null),Gc!==null&&xp(Gc)&&(Gc=null),Wc!==null&&xp(Wc)&&(Wc=null),Qd.forEach(cb),$d.forEach(cb)}function Ld(k,G){k.blockedOn===G&&(k.blockedOn=null,b1||(b1=!0,Ll.unstable_scheduleCallback(Ll.unstable_NormalPriority,O6)))}function qd(k){function G(Le){return Ld(Le,k)}if(0<ap.length){Ld(ap[0],k);for(var ne=1;ne<ap.length;ne++){var pe=ap[ne];pe.blockedOn===k&&(pe.blockedOn=null)}}for(Vc!==null&&Ld(Vc,k),Gc!==null&&Ld(Gc,k),Wc!==null&&Ld(Wc,k),Qd.forEach(G),$d.forEach(G),ne=0;ne<Oc.length;ne++)pe=Oc[ne],pe.blockedOn===k&&(pe.blockedOn=null);for(;0<Oc.length&&(ne=Oc[0],ne.blockedOn===null);)pT(ne),ne.blockedOn===null&&Oc.shift()}var Nv=qf.ReactCurrentBatchConfig,Np=!0;function B6(k,G,ne,pe){var Le=Fi,Ye=Nv.transition;Nv.transition=null;try{Fi=1,Om(k,G,ne,pe)}finally{Fi=Le,Nv.transition=Ye}}function N6(k,G,ne,pe){var Le=Fi,Ye=Nv.transition;Nv.transition=null;try{Fi=4,Om(k,G,ne,pe)}finally{Fi=Le,Nv.transition=Ye}}function Om(k,G,ne,pe){if(Np){var Le=w1(k,G,ne,pe);if(Le===null)zy(k,G,pe,Up,ne),fb(k,pe);else if(z6(Le,k,G,ne,pe))pe.stopPropagation();else if(fb(k,pe),G&4&&-1<_6.indexOf(k)){for(;Le!==null;){var Ye=y0(Le);if(Ye!==null&&cT(Ye),Ye=w1(k,G,ne,pe),Ye===null&&zy(k,G,pe,Up,ne),Ye===Le)break;Le=Ye}Le!==null&&pe.stopPropagation()}else zy(k,G,pe,null,ne)}}var Up=null;function w1(k,G,ne,pe){if(Up=null,k=km(pe),k=_h(k),k!==null)if(G=Xh(k),G===null)k=null;else if(ne=G.tag,ne===13){if(k=nT(G),k!==null)return k;k=null}else if(ne===3){if(G.stateNode.current.memoizedState.isDehydrated)return G.tag===3?G.stateNode.containerInfo:null;k=null}else G!==k&&(k=null);return Up=k,null}function gT(k){switch(k){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E6()){case Fm:return 1;case sT:return 4;case Op:case C6:return 16;case lT:return 536870912;default:return 16}default:return 16}}var Nc=null,Bm=null,bp=null;function yT(){if(bp)return bp;var k,G=Bm,ne=G.length,pe,Le="value"in Nc?Nc.value:Nc.textContent,Ye=Le.length;for(k=0;k<ne&&G[k]===Le[k];k++);var W=ne-k;for(pe=1;pe<=W&&G[ne-pe]===Le[Ye-pe];pe++);return bp=Le.slice(k,1<pe?1-pe:void 0)}function wp(k){var G=k.keyCode;return"charCode"in k?(k=k.charCode,k===0&&G===13&&(k=13)):k=G,k===10&&(k=13),32<=k||k===13?k:0}function ip(){return!0}function hb(){return!1}function Rl(k){function G(ne,pe,Le,Ye,W){this._reactName=ne,this._targetInst=Le,this.type=pe,this.nativeEvent=Ye,this.target=W,this.currentTarget=null;for(var V in k)k.hasOwnProperty(V)&&(ne=k[V],this[V]=ne?ne(Ye):Ye[V]);return this.isDefaultPrevented=(Ye.defaultPrevented!=null?Ye.defaultPrevented:Ye.returnValue===!1)?ip:hb,this.isPropagationStopped=hb,this}return ho(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ne=this.nativeEvent;ne&&(ne.preventDefault?ne.preventDefault():typeof ne.returnValue!="unknown"&&(ne.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var ne=this.nativeEvent;ne&&(ne.stopPropagation?ne.stopPropagation():typeof ne.cancelBubble!="unknown"&&(ne.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),G}var qv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(k){return k.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=Rl(qv),g0=ho({},qv,{view:0,detail:0}),U6=Rl(g0),Cy,Ly,Pd,cg=ho({},g0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(k){return k.relatedTarget===void 0?k.fromElement===k.srcElement?k.toElement:k.fromElement:k.relatedTarget},movementX:function(k){return"movementX"in k?k.movementX:(k!==Pd&&(Pd&&k.type==="mousemove"?(Cy=k.screenX-Pd.screenX,Ly=k.screenY-Pd.screenY):Ly=Cy=0,Pd=k),Cy)},movementY:function(k){return"movementY"in k?k.movementY:Ly}}),vb=Rl(cg),H6=ho({},cg,{dataTransfer:0}),V6=Rl(H6),G6=ho({},g0,{relatedTarget:0}),Py=Rl(G6),W6=ho({},qv,{animationName:0,elapsedTime:0,pseudoElement:0}),Y6=Rl(W6),j6=ho({},qv,{clipboardData:function(k){return"clipboardData"in k?k.clipboardData:window.clipboardData}}),Z6=Rl(j6),X6=ho({},qv,{data:0}),db=Rl(X6),K6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $6(k){var G=this.nativeEvent;return G.getModifierState?G.getModifierState(k):(k=Q6[k])?!!G[k]:!1}function Um(){return $6}var q6=ho({},g0,{key:function(k){if(k.key){var G=K6[k.key]||k.key;if(G!=="Unidentified")return G}return k.type==="keypress"?(k=wp(k),k===13?"Enter":String.fromCharCode(k)):k.type==="keydown"||k.type==="keyup"?J6[k.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(k){return k.type==="keypress"?wp(k):0},keyCode:function(k){return k.type==="keydown"||k.type==="keyup"?k.keyCode:0},which:function(k){return k.type==="keypress"?wp(k):k.type==="keydown"||k.type==="keyup"?k.keyCode:0}}),e8=Rl(q6),t8=ho({},cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pb=Rl(t8),r8=ho({},g0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),n8=Rl(r8),a8=ho({},qv,{propertyName:0,elapsedTime:0,pseudoElement:0}),i8=Rl(a8),o8=ho({},cg,{deltaX:function(k){return"deltaX"in k?k.deltaX:"wheelDeltaX"in k?-k.wheelDeltaX:0},deltaY:function(k){return"deltaY"in k?k.deltaY:"wheelDeltaY"in k?-k.wheelDeltaY:"wheelDelta"in k?-k.wheelDelta:0},deltaZ:0,deltaMode:0}),s8=Rl(o8),l8=[9,13,27,32],Hm=Kf&&"CompositionEvent"in window,Ud=null;Kf&&"documentMode"in document&&(Ud=document.documentMode);var u8=Kf&&"TextEvent"in window&&!Ud,mT=Kf&&(!Hm||Ud&&8<Ud&&11>=Ud),gb=String.fromCharCode(32),yb=!1;function xT(k,G){switch(k){case"keyup":return l8.indexOf(G.keyCode)!==-1;case"keydown":return G.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bT(k){return k=k.detail,typeof k=="object"&&"data"in k?k.data:null}var Sv=!1;function f8(k,G){switch(k){case"compositionend":return bT(G);case"keypress":return G.which!==32?null:(yb=!0,gb);case"textInput":return k=G.data,k===gb&&yb?null:k;default:return null}}function c8(k,G){if(Sv)return k==="compositionend"||!Hm&&xT(k,G)?(k=yT(),bp=Bm=Nc=null,Sv=!1,k):null;switch(k){case"paste":return null;case"keypress":if(!(G.ctrlKey||G.altKey||G.metaKey)||G.ctrlKey&&G.altKey){if(G.char&&1<G.char.length)return G.char;if(G.which)return String.fromCharCode(G.which)}return null;case"compositionend":return mT&&G.locale!=="ko"?null:G.data;default:return null}}var h8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mb(k){var G=k&&k.nodeName&&k.nodeName.toLowerCase();return G==="input"?!!h8[k.type]:G==="textarea"}function wT(k,G,ne,pe){$w(pe),G=Hp(G,"onChange"),0<G.length&&(ne=new Nm("onChange","change",null,ne,pe),k.push({event:ne,listeners:G}))}var Hd=null,e0=null;function v8(k){IT(k,0)}function hg(k){var G=Lv(k);if(Yw(G))return k}function d8(k,G){if(k==="change")return G}var TT=!1;if(Kf){var Ry;if(Kf){var Dy="oninput"in document;if(!Dy){var xb=document.createElement("div");xb.setAttribute("oninput","return;"),Dy=typeof xb.oninput=="function"}Ry=Dy}else Ry=!1;TT=Ry&&(!document.documentMode||9<document.documentMode)}function bb(){Hd&&(Hd.detachEvent("onpropertychange",AT),e0=Hd=null)}function AT(k){if(k.propertyName==="value"&&hg(e0)){var G=[];wT(G,e0,k,km(k)),rT(v8,G)}}function p8(k,G,ne){k==="focusin"?(bb(),Hd=G,e0=ne,Hd.attachEvent("onpropertychange",AT)):k==="focusout"&&bb()}function g8(k){if(k==="selectionchange"||k==="keyup"||k==="keydown")return hg(e0)}function y8(k,G){if(k==="click")return hg(G)}function m8(k,G){if(k==="input"||k==="change")return hg(G)}function x8(k,G){return k===G&&(k!==0||1/k===1/G)||k!==k&&G!==G}var ku=typeof Object.is=="function"?Object.is:x8;function t0(k,G){if(ku(k,G))return!0;if(typeof k!="object"||k===null||typeof G!="object"||G===null)return!1;var ne=Object.keys(k),pe=Object.keys(G);if(ne.length!==pe.length)return!1;for(pe=0;pe<ne.length;pe++){var Le=ne[pe];if(!n1.call(G,Le)||!ku(k[Le],G[Le]))return!1}return!0}function wb(k){for(;k&&k.firstChild;)k=k.firstChild;return k}function Tb(k,G){var ne=wb(k);k=0;for(var pe;ne;){if(ne.nodeType===3){if(pe=k+ne.textContent.length,k<=G&&pe>=G)return{node:ne,offset:G-k};k=pe}e:{for(;ne;){if(ne.nextSibling){ne=ne.nextSibling;break e}ne=ne.parentNode}ne=void 0}ne=wb(ne)}}function MT(k,G){return k&&G?k===G?!0:k&&k.nodeType===3?!1:G&&G.nodeType===3?MT(k,G.parentNode):"contains"in k?k.contains(G):k.compareDocumentPosition?!!(k.compareDocumentPosition(G)&16):!1:!1}function ST(){for(var k=window,G=Fp();G instanceof k.HTMLIFrameElement;){try{var ne=typeof G.contentWindow.location.href=="string"}catch{ne=!1}if(ne)k=G.contentWindow;else break;G=Fp(k.document)}return G}function Vm(k){var G=k&&k.nodeName&&k.nodeName.toLowerCase();return G&&(G==="input"&&(k.type==="text"||k.type==="search"||k.type==="tel"||k.type==="url"||k.type==="password")||G==="textarea"||k.contentEditable==="true")}function b8(k){var G=ST(),ne=k.focusedElem,pe=k.selectionRange;if(G!==ne&&ne&&ne.ownerDocument&&MT(ne.ownerDocument.documentElement,ne)){if(pe!==null&&Vm(ne)){if(G=pe.start,k=pe.end,k===void 0&&(k=G),"selectionStart"in ne)ne.selectionStart=G,ne.selectionEnd=Math.min(k,ne.value.length);else if(k=(G=ne.ownerDocument||document)&&G.defaultView||window,k.getSelection){k=k.getSelection();var Le=ne.textContent.length,Ye=Math.min(pe.start,Le);pe=pe.end===void 0?Ye:Math.min(pe.end,Le),!k.extend&&Ye>pe&&(Le=pe,pe=Ye,Ye=Le),Le=Tb(ne,Ye);var W=Tb(ne,pe);Le&&W&&(k.rangeCount!==1||k.anchorNode!==Le.node||k.anchorOffset!==Le.offset||k.focusNode!==W.node||k.focusOffset!==W.offset)&&(G=G.createRange(),G.setStart(Le.node,Le.offset),k.removeAllRanges(),Ye>pe?(k.addRange(G),k.extend(W.node,W.offset)):(G.setEnd(W.node,W.offset),k.addRange(G)))}}for(G=[],k=ne;k=k.parentNode;)k.nodeType===1&&G.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<G.length;ne++)k=G[ne],k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}var w8=Kf&&"documentMode"in document&&11>=document.documentMode,Ev=null,T1=null,Vd=null,A1=!1;function Ab(k,G,ne){var pe=ne.window===ne?ne.document:ne.nodeType===9?ne:ne.ownerDocument;A1||Ev==null||Ev!==Fp(pe)||(pe=Ev,"selectionStart"in pe&&Vm(pe)?pe={start:pe.selectionStart,end:pe.selectionEnd}:(pe=(pe.ownerDocument&&pe.ownerDocument.defaultView||window).getSelection(),pe={anchorNode:pe.anchorNode,anchorOffset:pe.anchorOffset,focusNode:pe.focusNode,focusOffset:pe.focusOffset}),Vd&&t0(Vd,pe)||(Vd=pe,pe=Hp(T1,"onSelect"),0<pe.length&&(G=new Nm("onSelect","select",null,G,ne),k.push({event:G,listeners:pe}),G.target=Ev)))}function op(k,G){var ne={};return ne[k.toLowerCase()]=G.toLowerCase(),ne["Webkit"+k]="webkit"+G,ne["Moz"+k]="moz"+G,ne}var Cv={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},Iy={},ET={};Kf&&(ET=document.createElement("div").style,"AnimationEvent"in window||(delete Cv.animationend.animation,delete Cv.animationiteration.animation,delete Cv.animationstart.animation),"TransitionEvent"in window||delete Cv.transitionend.transition);function vg(k){if(Iy[k])return Iy[k];if(!Cv[k])return k;var G=Cv[k],ne;for(ne in G)if(G.hasOwnProperty(ne)&&ne in ET)return Iy[k]=G[ne];return k}var CT=vg("animationend"),LT=vg("animationiteration"),PT=vg("animationstart"),RT=vg("transitionend"),DT=new Map,Mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eh(k,G){DT.set(k,G),Zh(G,[k])}for(var ky=0;ky<Mb.length;ky++){var Fy=Mb[ky],T8=Fy.toLowerCase(),A8=Fy[0].toUpperCase()+Fy.slice(1);eh(T8,"on"+A8)}eh(CT,"onAnimationEnd");eh(LT,"onAnimationIteration");eh(PT,"onAnimationStart");eh("dblclick","onDoubleClick");eh("focusin","onFocus");eh("focusout","onBlur");eh(RT,"onTransitionEnd");Vv("onMouseEnter",["mouseout","mouseover"]);Vv("onMouseLeave",["mouseout","mouseover"]);Vv("onPointerEnter",["pointerout","pointerover"]);Vv("onPointerLeave",["pointerout","pointerover"]);Zh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Od));function Sb(k,G,ne){var pe=k.type||"unknown-event";k.currentTarget=ne,T6(pe,G,void 0,k),k.currentTarget=null}function IT(k,G){G=(G&4)!==0;for(var ne=0;ne<k.length;ne++){var pe=k[ne],Le=pe.event;pe=pe.listeners;e:{var Ye=void 0;if(G)for(var W=pe.length-1;0<=W;W--){var V=pe[W],e=V.instance,y=V.currentTarget;if(V=V.listener,e!==Ye&&Le.isPropagationStopped())break e;Sb(Le,V,y),Ye=e}else for(W=0;W<pe.length;W++){if(V=pe[W],e=V.instance,y=V.currentTarget,V=V.listener,e!==Ye&&Le.isPropagationStopped())break e;Sb(Le,V,y),Ye=e}}}if(zp)throw k=m1,zp=!1,m1=null,k}function Ki(k,G){var ne=G[L1];ne===void 0&&(ne=G[L1]=new Set);var pe=k+"__bubble";ne.has(pe)||(kT(G,k,2,!1),ne.add(pe))}function _y(k,G,ne){var pe=0;G&&(pe|=4),kT(ne,k,pe,G)}var sp="_reactListening"+Math.random().toString(36).slice(2);function r0(k){if(!k[sp]){k[sp]=!0,Uw.forEach(function(ne){ne!=="selectionchange"&&(M8.has(ne)||_y(ne,!1,k),_y(ne,!0,k))});var G=k.nodeType===9?k:k.ownerDocument;G===null||G[sp]||(G[sp]=!0,_y("selectionchange",!1,G))}}function kT(k,G,ne,pe){switch(gT(G)){case 1:var Le=B6;break;case 4:Le=N6;break;default:Le=Om}ne=Le.bind(null,G,ne,k),Le=void 0,!y1||G!=="touchstart"&&G!=="touchmove"&&G!=="wheel"||(Le=!0),pe?Le!==void 0?k.addEventListener(G,ne,{capture:!0,passive:Le}):k.addEventListener(G,ne,!0):Le!==void 0?k.addEventListener(G,ne,{passive:Le}):k.addEventListener(G,ne,!1)}function zy(k,G,ne,pe,Le){var Ye=pe;if(!(G&1)&&!(G&2)&&pe!==null)e:for(;;){if(pe===null)return;var W=pe.tag;if(W===3||W===4){var V=pe.stateNode.containerInfo;if(V===Le||V.nodeType===8&&V.parentNode===Le)break;if(W===4)for(W=pe.return;W!==null;){var e=W.tag;if((e===3||e===4)&&(e=W.stateNode.containerInfo,e===Le||e.nodeType===8&&e.parentNode===Le))return;W=W.return}for(;V!==null;){if(W=_h(V),W===null)return;if(e=W.tag,e===5||e===6){pe=Ye=W;continue e}V=V.parentNode}}pe=pe.return}rT(function(){var y=Ye,C=km(ne),a=[];e:{var L=DT.get(k);if(L!==void 0){var x=Nm,h=k;switch(k){case"keypress":if(wp(ne)===0)break e;case"keydown":case"keyup":x=e8;break;case"focusin":h="focus",x=Py;break;case"focusout":h="blur",x=Py;break;case"beforeblur":case"afterblur":x=Py;break;case"click":if(ne.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=vb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=V6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=n8;break;case CT:case LT:case PT:x=Y6;break;case RT:x=i8;break;case"scroll":x=U6;break;case"wheel":x=s8;break;case"copy":case"cut":case"paste":x=Z6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=pb}var d=(G&4)!==0,t=!d&&k==="scroll",r=d?L!==null?L+"Capture":null:L;d=[];for(var u=y,n;u!==null;){n=u;var i=n.stateNode;if(n.tag===5&&i!==null&&(n=i,r!==null&&(i=Jd(u,r),i!=null&&d.push(n0(u,i,n)))),t)break;u=u.return}0<d.length&&(L=new x(L,h,null,ne,C),a.push({event:L,listeners:d}))}}if(!(G&7)){e:{if(L=k==="mouseover"||k==="pointerover",x=k==="mouseout"||k==="pointerout",L&&ne!==p1&&(h=ne.relatedTarget||ne.fromElement)&&(_h(h)||h[Jf]))break e;if((x||L)&&(L=C.window===C?C:(L=C.ownerDocument)?L.defaultView||L.parentWindow:window,x?(h=ne.relatedTarget||ne.toElement,x=y,h=h?_h(h):null,h!==null&&(t=Xh(h),h!==t||h.tag!==5&&h.tag!==6)&&(h=null)):(x=null,h=y),x!==h)){if(d=vb,i="onMouseLeave",r="onMouseEnter",u="mouse",(k==="pointerout"||k==="pointerover")&&(d=pb,i="onPointerLeave",r="onPointerEnter",u="pointer"),t=x==null?L:Lv(x),n=h==null?L:Lv(h),L=new d(i,u+"leave",x,ne,C),L.target=t,L.relatedTarget=n,i=null,_h(C)===y&&(d=new d(r,u+"enter",h,ne,C),d.target=n,d.relatedTarget=t,i=d),t=i,x&&h)t:{for(d=x,r=h,u=0,n=d;n;n=Tv(n))u++;for(n=0,i=r;i;i=Tv(i))n++;for(;0<u-n;)d=Tv(d),u--;for(;0<n-u;)r=Tv(r),n--;for(;u--;){if(d===r||r!==null&&d===r.alternate)break t;d=Tv(d),r=Tv(r)}d=null}else d=null;x!==null&&Eb(a,L,x,d,!1),h!==null&&t!==null&&Eb(a,t,h,d,!0)}}e:{if(L=y?Lv(y):window,x=L.nodeName&&L.nodeName.toLowerCase(),x==="select"||x==="input"&&L.type==="file")var s=d8;else if(mb(L))if(TT)s=m8;else{s=g8;var o=p8}else(x=L.nodeName)&&x.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(s=y8);if(s&&(s=s(k,y))){wT(a,s,ne,C);break e}o&&o(k,L,y),k==="focusout"&&(o=L._wrapperState)&&o.controlled&&L.type==="number"&&f1(L,"number",L.value)}switch(o=y?Lv(y):window,k){case"focusin":(mb(o)||o.contentEditable==="true")&&(Ev=o,T1=y,Vd=null);break;case"focusout":Vd=T1=Ev=null;break;case"mousedown":A1=!0;break;case"contextmenu":case"mouseup":case"dragend":A1=!1,Ab(a,ne,C);break;case"selectionchange":if(w8)break;case"keydown":case"keyup":Ab(a,ne,C)}var m;if(Hm)e:{switch(k){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else Sv?xT(k,ne)&&(c="onCompositionEnd"):k==="keydown"&&ne.keyCode===229&&(c="onCompositionStart");c&&(mT&&ne.locale!=="ko"&&(Sv||c!=="onCompositionStart"?c==="onCompositionEnd"&&Sv&&(m=yT()):(Nc=C,Bm="value"in Nc?Nc.value:Nc.textContent,Sv=!0)),o=Hp(y,c),0<o.length&&(c=new db(c,k,null,ne,C),a.push({event:c,listeners:o}),m?c.data=m:(m=bT(ne),m!==null&&(c.data=m)))),(m=u8?f8(k,ne):c8(k,ne))&&(y=Hp(y,"onBeforeInput"),0<y.length&&(C=new db("onBeforeInput","beforeinput",null,ne,C),a.push({event:C,listeners:y}),C.data=m))}IT(a,G)})}function n0(k,G,ne){return{instance:k,listener:G,currentTarget:ne}}function Hp(k,G){for(var ne=G+"Capture",pe=[];k!==null;){var Le=k,Ye=Le.stateNode;Le.tag===5&&Ye!==null&&(Le=Ye,Ye=Jd(k,ne),Ye!=null&&pe.unshift(n0(k,Ye,Le)),Ye=Jd(k,G),Ye!=null&&pe.push(n0(k,Ye,Le))),k=k.return}return pe}function Tv(k){if(k===null)return null;do k=k.return;while(k&&k.tag!==5);return k||null}function Eb(k,G,ne,pe,Le){for(var Ye=G._reactName,W=[];ne!==null&&ne!==pe;){var V=ne,e=V.alternate,y=V.stateNode;if(e!==null&&e===pe)break;V.tag===5&&y!==null&&(V=y,Le?(e=Jd(ne,Ye),e!=null&&W.unshift(n0(ne,e,V))):Le||(e=Jd(ne,Ye),e!=null&&W.push(n0(ne,e,V)))),ne=ne.return}W.length!==0&&k.push({event:G,listeners:W})}var S8=/\r\n?/g,E8=/\u0000|\uFFFD/g;function Cb(k){return(typeof k=="string"?k:""+k).replace(S8,`
`).replace(E8,"")}function lp(k,G,ne){if(G=Cb(G),Cb(k)!==G&&ne)throw Error(ga(425))}function Vp(){}var M1=null,S1=null;function E1(k,G){return k==="textarea"||k==="noscript"||typeof G.children=="string"||typeof G.children=="number"||typeof G.dangerouslySetInnerHTML=="object"&&G.dangerouslySetInnerHTML!==null&&G.dangerouslySetInnerHTML.__html!=null}var C1=typeof setTimeout=="function"?setTimeout:void 0,C8=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,L8=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(k){return Lb.resolve(null).then(k).catch(P8)}:C1;function P8(k){setTimeout(function(){throw k})}function Oy(k,G){var ne=G,pe=0;do{var Le=ne.nextSibling;if(k.removeChild(ne),Le&&Le.nodeType===8)if(ne=Le.data,ne==="/$"){if(pe===0){k.removeChild(Le),qd(G);return}pe--}else ne!=="$"&&ne!=="$?"&&ne!=="$!"||pe++;ne=Le}while(ne);qd(G)}function Yc(k){for(;k!=null;k=k.nextSibling){var G=k.nodeType;if(G===1||G===3)break;if(G===8){if(G=k.data,G==="$"||G==="$!"||G==="$?")break;if(G==="/$")return null}}return k}function Pb(k){k=k.previousSibling;for(var G=0;k;){if(k.nodeType===8){var ne=k.data;if(ne==="$"||ne==="$!"||ne==="$?"){if(G===0)return k;G--}else ne==="/$"&&G++}k=k.previousSibling}return null}var ed=Math.random().toString(36).slice(2),of="__reactFiber$"+ed,a0="__reactProps$"+ed,Jf="__reactContainer$"+ed,L1="__reactEvents$"+ed,R8="__reactListeners$"+ed,D8="__reactHandles$"+ed;function _h(k){var G=k[of];if(G)return G;for(var ne=k.parentNode;ne;){if(G=ne[Jf]||ne[of]){if(ne=G.alternate,G.child!==null||ne!==null&&ne.child!==null)for(k=Pb(k);k!==null;){if(ne=k[of])return ne;k=Pb(k)}return G}k=ne,ne=k.parentNode}return null}function y0(k){return k=k[of]||k[Jf],!k||k.tag!==5&&k.tag!==6&&k.tag!==13&&k.tag!==3?null:k}function Lv(k){if(k.tag===5||k.tag===6)return k.stateNode;throw Error(ga(33))}function dg(k){return k[a0]||null}var P1=[],Pv=-1;function th(k){return{current:k}}function Ji(k){0>Pv||(k.current=P1[Pv],P1[Pv]=null,Pv--)}function Yi(k,G){Pv++,P1[Pv]=k.current,k.current=G}var qc={},Ls=th(qc),sl=th(!1),Hh=qc;function Gv(k,G){var ne=k.type.contextTypes;if(!ne)return qc;var pe=k.stateNode;if(pe&&pe.__reactInternalMemoizedUnmaskedChildContext===G)return pe.__reactInternalMemoizedMaskedChildContext;var Le={},Ye;for(Ye in ne)Le[Ye]=G[Ye];return pe&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=G,k.__reactInternalMemoizedMaskedChildContext=Le),Le}function ll(k){return k=k.childContextTypes,k!=null}function Gp(){Ji(sl),Ji(Ls)}function Rb(k,G,ne){if(Ls.current!==qc)throw Error(ga(168));Yi(Ls,G),Yi(sl,ne)}function FT(k,G,ne){var pe=k.stateNode;if(G=G.childContextTypes,typeof pe.getChildContext!="function")return ne;pe=pe.getChildContext();for(var Le in pe)if(!(Le in G))throw Error(ga(108,p6(k)||"Unknown",Le));return ho({},ne,pe)}function Wp(k){return k=(k=k.stateNode)&&k.__reactInternalMemoizedMergedChildContext||qc,Hh=Ls.current,Yi(Ls,k),Yi(sl,sl.current),!0}function Db(k,G,ne){var pe=k.stateNode;if(!pe)throw Error(ga(169));ne?(k=FT(k,G,Hh),pe.__reactInternalMemoizedMergedChildContext=k,Ji(sl),Ji(Ls),Yi(Ls,k)):Ji(sl),Yi(sl,ne)}var Gf=null,pg=!1,By=!1;function _T(k){Gf===null?Gf=[k]:Gf.push(k)}function I8(k){pg=!0,_T(k)}function rh(){if(!By&&Gf!==null){By=!0;var k=0,G=Fi;try{var ne=Gf;for(Fi=1;k<ne.length;k++){var pe=ne[k];do pe=pe(!0);while(pe!==null)}Gf=null,pg=!1}catch(Le){throw Gf!==null&&(Gf=Gf.slice(k+1)),oT(Fm,rh),Le}finally{Fi=G,By=!1}}return null}var Rv=[],Dv=0,Yp=null,jp=0,Jl=[],Ql=0,Vh=null,Wf=1,Yf="";function kh(k,G){Rv[Dv++]=jp,Rv[Dv++]=Yp,Yp=k,jp=G}function zT(k,G,ne){Jl[Ql++]=Wf,Jl[Ql++]=Yf,Jl[Ql++]=Vh,Vh=k;var pe=Wf;k=Yf;var Le=32-Du(pe)-1;pe&=~(1<<Le),ne+=1;var Ye=32-Du(G)+Le;if(30<Ye){var W=Le-Le%5;Ye=(pe&(1<<W)-1).toString(32),pe>>=W,Le-=W,Wf=1<<32-Du(G)+Le|ne<<Le|pe,Yf=Ye+k}else Wf=1<<Ye|ne<<Le|pe,Yf=k}function Gm(k){k.return!==null&&(kh(k,1),zT(k,1,0))}function Wm(k){for(;k===Yp;)Yp=Rv[--Dv],Rv[Dv]=null,jp=Rv[--Dv],Rv[Dv]=null;for(;k===Vh;)Vh=Jl[--Ql],Jl[Ql]=null,Yf=Jl[--Ql],Jl[Ql]=null,Wf=Jl[--Ql],Jl[Ql]=null}var Cl=null,El=null,to=!1,Ru=null;function OT(k,G){var ne=$l(5,null,null,0);ne.elementType="DELETED",ne.stateNode=G,ne.return=k,G=k.deletions,G===null?(k.deletions=[ne],k.flags|=16):G.push(ne)}function Ib(k,G){switch(k.tag){case 5:var ne=k.type;return G=G.nodeType!==1||ne.toLowerCase()!==G.nodeName.toLowerCase()?null:G,G!==null?(k.stateNode=G,Cl=k,El=Yc(G.firstChild),!0):!1;case 6:return G=k.pendingProps===""||G.nodeType!==3?null:G,G!==null?(k.stateNode=G,Cl=k,El=null,!0):!1;case 13:return G=G.nodeType!==8?null:G,G!==null?(ne=Vh!==null?{id:Wf,overflow:Yf}:null,k.memoizedState={dehydrated:G,treeContext:ne,retryLane:1073741824},ne=$l(18,null,null,0),ne.stateNode=G,ne.return=k,k.child=ne,Cl=k,El=null,!0):!1;default:return!1}}function R1(k){return(k.mode&1)!==0&&(k.flags&128)===0}function D1(k){if(to){var G=El;if(G){var ne=G;if(!Ib(k,G)){if(R1(k))throw Error(ga(418));G=Yc(ne.nextSibling);var pe=Cl;G&&Ib(k,G)?OT(pe,ne):(k.flags=k.flags&-4097|2,to=!1,Cl=k)}}else{if(R1(k))throw Error(ga(418));k.flags=k.flags&-4097|2,to=!1,Cl=k}}}function kb(k){for(k=k.return;k!==null&&k.tag!==5&&k.tag!==3&&k.tag!==13;)k=k.return;Cl=k}function up(k){if(k!==Cl)return!1;if(!to)return kb(k),to=!0,!1;var G;if((G=k.tag!==3)&&!(G=k.tag!==5)&&(G=k.type,G=G!=="head"&&G!=="body"&&!E1(k.type,k.memoizedProps)),G&&(G=El)){if(R1(k))throw BT(),Error(ga(418));for(;G;)OT(k,G),G=Yc(G.nextSibling)}if(kb(k),k.tag===13){if(k=k.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(ga(317));e:{for(k=k.nextSibling,G=0;k;){if(k.nodeType===8){var ne=k.data;if(ne==="/$"){if(G===0){El=Yc(k.nextSibling);break e}G--}else ne!=="$"&&ne!=="$!"&&ne!=="$?"||G++}k=k.nextSibling}El=null}}else El=Cl?Yc(k.stateNode.nextSibling):null;return!0}function BT(){for(var k=El;k;)k=Yc(k.nextSibling)}function Wv(){El=Cl=null,to=!1}function Ym(k){Ru===null?Ru=[k]:Ru.push(k)}var k8=qf.ReactCurrentBatchConfig;function Lu(k,G){if(k&&k.defaultProps){G=ho({},G),k=k.defaultProps;for(var ne in k)G[ne]===void 0&&(G[ne]=k[ne]);return G}return G}var Zp=th(null),Xp=null,Iv=null,jm=null;function Zm(){jm=Iv=Xp=null}function Xm(k){var G=Zp.current;Ji(Zp),k._currentValue=G}function I1(k,G,ne){for(;k!==null;){var pe=k.alternate;if((k.childLanes&G)!==G?(k.childLanes|=G,pe!==null&&(pe.childLanes|=G)):pe!==null&&(pe.childLanes&G)!==G&&(pe.childLanes|=G),k===ne)break;k=k.return}}function Uv(k,G){Xp=k,jm=Iv=null,k=k.dependencies,k!==null&&k.firstContext!==null&&(k.lanes&G&&(ol=!0),k.firstContext=null)}function tu(k){var G=k._currentValue;if(jm!==k)if(k={context:k,memoizedValue:G,next:null},Iv===null){if(Xp===null)throw Error(ga(308));Iv=k,Xp.dependencies={lanes:0,firstContext:k}}else Iv=Iv.next=k;return G}var zh=null;function Km(k){zh===null?zh=[k]:zh.push(k)}function NT(k,G,ne,pe){var Le=G.interleaved;return Le===null?(ne.next=ne,Km(G)):(ne.next=Le.next,Le.next=ne),G.interleaved=ne,Qf(k,pe)}function Qf(k,G){k.lanes|=G;var ne=k.alternate;for(ne!==null&&(ne.lanes|=G),ne=k,k=k.return;k!==null;)k.childLanes|=G,ne=k.alternate,ne!==null&&(ne.childLanes|=G),ne=k,k=k.return;return ne.tag===3?ne.stateNode:null}var zc=!1;function Jm(k){k.updateQueue={baseState:k.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UT(k,G){k=k.updateQueue,G.updateQueue===k&&(G.updateQueue={baseState:k.baseState,firstBaseUpdate:k.firstBaseUpdate,lastBaseUpdate:k.lastBaseUpdate,shared:k.shared,effects:k.effects})}function Zf(k,G){return{eventTime:k,lane:G,tag:0,payload:null,callback:null,next:null}}function jc(k,G,ne){var pe=k.updateQueue;if(pe===null)return null;if(pe=pe.shared,Si&2){var Le=pe.pending;return Le===null?G.next=G:(G.next=Le.next,Le.next=G),pe.pending=G,Qf(k,ne)}return Le=pe.interleaved,Le===null?(G.next=G,Km(pe)):(G.next=Le.next,Le.next=G),pe.interleaved=G,Qf(k,ne)}function Tp(k,G,ne){if(G=G.updateQueue,G!==null&&(G=G.shared,(ne&4194240)!==0)){var pe=G.lanes;pe&=k.pendingLanes,ne|=pe,G.lanes=ne,_m(k,ne)}}function Fb(k,G){var ne=k.updateQueue,pe=k.alternate;if(pe!==null&&(pe=pe.updateQueue,ne===pe)){var Le=null,Ye=null;if(ne=ne.firstBaseUpdate,ne!==null){do{var W={eventTime:ne.eventTime,lane:ne.lane,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null};Ye===null?Le=Ye=W:Ye=Ye.next=W,ne=ne.next}while(ne!==null);Ye===null?Le=Ye=G:Ye=Ye.next=G}else Le=Ye=G;ne={baseState:pe.baseState,firstBaseUpdate:Le,lastBaseUpdate:Ye,shared:pe.shared,effects:pe.effects},k.updateQueue=ne;return}k=ne.lastBaseUpdate,k===null?ne.firstBaseUpdate=G:k.next=G,ne.lastBaseUpdate=G}function Kp(k,G,ne,pe){var Le=k.updateQueue;zc=!1;var Ye=Le.firstBaseUpdate,W=Le.lastBaseUpdate,V=Le.shared.pending;if(V!==null){Le.shared.pending=null;var e=V,y=e.next;e.next=null,W===null?Ye=y:W.next=y,W=e;var C=k.alternate;C!==null&&(C=C.updateQueue,V=C.lastBaseUpdate,V!==W&&(V===null?C.firstBaseUpdate=y:V.next=y,C.lastBaseUpdate=e))}if(Ye!==null){var a=Le.baseState;W=0,C=y=e=null,V=Ye;do{var L=V.lane,x=V.eventTime;if((pe&L)===L){C!==null&&(C=C.next={eventTime:x,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var h=k,d=V;switch(L=G,x=ne,d.tag){case 1:if(h=d.payload,typeof h=="function"){a=h.call(x,a,L);break e}a=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=d.payload,L=typeof h=="function"?h.call(x,a,L):h,L==null)break e;a=ho({},a,L);break e;case 2:zc=!0}}V.callback!==null&&V.lane!==0&&(k.flags|=64,L=Le.effects,L===null?Le.effects=[V]:L.push(V))}else x={eventTime:x,lane:L,tag:V.tag,payload:V.payload,callback:V.callback,next:null},C===null?(y=C=x,e=a):C=C.next=x,W|=L;if(V=V.next,V===null){if(V=Le.shared.pending,V===null)break;L=V,V=L.next,L.next=null,Le.lastBaseUpdate=L,Le.shared.pending=null}}while(1);if(C===null&&(e=a),Le.baseState=e,Le.firstBaseUpdate=y,Le.lastBaseUpdate=C,G=Le.shared.interleaved,G!==null){Le=G;do W|=Le.lane,Le=Le.next;while(Le!==G)}else Ye===null&&(Le.shared.lanes=0);Wh|=W,k.lanes=W,k.memoizedState=a}}function _b(k,G,ne){if(k=G.effects,G.effects=null,k!==null)for(G=0;G<k.length;G++){var pe=k[G],Le=pe.callback;if(Le!==null){if(pe.callback=null,pe=ne,typeof Le!="function")throw Error(ga(191,Le));Le.call(pe)}}}var HT=new Nw.Component().refs;function k1(k,G,ne,pe){G=k.memoizedState,ne=ne(pe,G),ne=ne==null?G:ho({},G,ne),k.memoizedState=ne,k.lanes===0&&(k.updateQueue.baseState=ne)}var gg={isMounted:function(k){return(k=k._reactInternals)?Xh(k)===k:!1},enqueueSetState:function(k,G,ne){k=k._reactInternals;var pe=Gs(),Le=Xc(k),Ye=Zf(pe,Le);Ye.payload=G,ne!=null&&(Ye.callback=ne),G=jc(k,Ye,Le),G!==null&&(Iu(G,k,Le,pe),Tp(G,k,Le))},enqueueReplaceState:function(k,G,ne){k=k._reactInternals;var pe=Gs(),Le=Xc(k),Ye=Zf(pe,Le);Ye.tag=1,Ye.payload=G,ne!=null&&(Ye.callback=ne),G=jc(k,Ye,Le),G!==null&&(Iu(G,k,Le,pe),Tp(G,k,Le))},enqueueForceUpdate:function(k,G){k=k._reactInternals;var ne=Gs(),pe=Xc(k),Le=Zf(ne,pe);Le.tag=2,G!=null&&(Le.callback=G),G=jc(k,Le,pe),G!==null&&(Iu(G,k,pe,ne),Tp(G,k,pe))}};function zb(k,G,ne,pe,Le,Ye,W){return k=k.stateNode,typeof k.shouldComponentUpdate=="function"?k.shouldComponentUpdate(pe,Ye,W):G.prototype&&G.prototype.isPureReactComponent?!t0(ne,pe)||!t0(Le,Ye):!0}function VT(k,G,ne){var pe=!1,Le=qc,Ye=G.contextType;return typeof Ye=="object"&&Ye!==null?Ye=tu(Ye):(Le=ll(G)?Hh:Ls.current,pe=G.contextTypes,Ye=(pe=pe!=null)?Gv(k,Le):qc),G=new G(ne,Ye),k.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=gg,k.stateNode=G,G._reactInternals=k,pe&&(k=k.stateNode,k.__reactInternalMemoizedUnmaskedChildContext=Le,k.__reactInternalMemoizedMaskedChildContext=Ye),G}function Ob(k,G,ne,pe){k=G.state,typeof G.componentWillReceiveProps=="function"&&G.componentWillReceiveProps(ne,pe),typeof G.UNSAFE_componentWillReceiveProps=="function"&&G.UNSAFE_componentWillReceiveProps(ne,pe),G.state!==k&&gg.enqueueReplaceState(G,G.state,null)}function F1(k,G,ne,pe){var Le=k.stateNode;Le.props=ne,Le.state=k.memoizedState,Le.refs=HT,Jm(k);var Ye=G.contextType;typeof Ye=="object"&&Ye!==null?Le.context=tu(Ye):(Ye=ll(G)?Hh:Ls.current,Le.context=Gv(k,Ye)),Le.state=k.memoizedState,Ye=G.getDerivedStateFromProps,typeof Ye=="function"&&(k1(k,G,Ye,ne),Le.state=k.memoizedState),typeof G.getDerivedStateFromProps=="function"||typeof Le.getSnapshotBeforeUpdate=="function"||typeof Le.UNSAFE_componentWillMount!="function"&&typeof Le.componentWillMount!="function"||(G=Le.state,typeof Le.componentWillMount=="function"&&Le.componentWillMount(),typeof Le.UNSAFE_componentWillMount=="function"&&Le.UNSAFE_componentWillMount(),G!==Le.state&&gg.enqueueReplaceState(Le,Le.state,null),Kp(k,ne,Le,pe),Le.state=k.memoizedState),typeof Le.componentDidMount=="function"&&(k.flags|=4194308)}function Rd(k,G,ne){if(k=ne.ref,k!==null&&typeof k!="function"&&typeof k!="object"){if(ne._owner){if(ne=ne._owner,ne){if(ne.tag!==1)throw Error(ga(309));var pe=ne.stateNode}if(!pe)throw Error(ga(147,k));var Le=pe,Ye=""+k;return G!==null&&G.ref!==null&&typeof G.ref=="function"&&G.ref._stringRef===Ye?G.ref:(G=function(W){var V=Le.refs;V===HT&&(V=Le.refs={}),W===null?delete V[Ye]:V[Ye]=W},G._stringRef=Ye,G)}if(typeof k!="string")throw Error(ga(284));if(!ne._owner)throw Error(ga(290,k))}return k}function fp(k,G){throw k=Object.prototype.toString.call(G),Error(ga(31,k==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":k))}function Bb(k){var G=k._init;return G(k._payload)}function GT(k){function G(r,u){if(k){var n=r.deletions;n===null?(r.deletions=[u],r.flags|=16):n.push(u)}}function ne(r,u){if(!k)return null;for(;u!==null;)G(r,u),u=u.sibling;return null}function pe(r,u){for(r=new Map;u!==null;)u.key!==null?r.set(u.key,u):r.set(u.index,u),u=u.sibling;return r}function Le(r,u){return r=Kc(r,u),r.index=0,r.sibling=null,r}function Ye(r,u,n){return r.index=n,k?(n=r.alternate,n!==null?(n=n.index,n<u?(r.flags|=2,u):n):(r.flags|=2,u)):(r.flags|=1048576,u)}function W(r){return k&&r.alternate===null&&(r.flags|=2),r}function V(r,u,n,i){return u===null||u.tag!==6?(u=Yy(n,r.mode,i),u.return=r,u):(u=Le(u,n),u.return=r,u)}function e(r,u,n,i){var s=n.type;return s===Mv?C(r,u,n.props.children,i,n.key):u!==null&&(u.elementType===s||typeof s=="object"&&s!==null&&s.$$typeof===_c&&Bb(s)===u.type)?(i=Le(u,n.props),i.ref=Rd(r,u,n),i.return=r,i):(i=Lp(n.type,n.key,n.props,null,r.mode,i),i.ref=Rd(r,u,n),i.return=r,i)}function y(r,u,n,i){return u===null||u.tag!==4||u.stateNode.containerInfo!==n.containerInfo||u.stateNode.implementation!==n.implementation?(u=jy(n,r.mode,i),u.return=r,u):(u=Le(u,n.children||[]),u.return=r,u)}function C(r,u,n,i,s){return u===null||u.tag!==7?(u=Nh(n,r.mode,i,s),u.return=r,u):(u=Le(u,n),u.return=r,u)}function a(r,u,n){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Yy(""+u,r.mode,n),u.return=r,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case q0:return n=Lp(u.type,u.key,u.props,null,r.mode,n),n.ref=Rd(r,null,u),n.return=r,n;case Av:return u=jy(u,r.mode,n),u.return=r,u;case _c:var i=u._init;return a(r,i(u._payload),n)}if(_d(u)||Sd(u))return u=Nh(u,r.mode,n,null),u.return=r,u;fp(r,u)}return null}function L(r,u,n,i){var s=u!==null?u.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return s!==null?null:V(r,u,""+n,i);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case q0:return n.key===s?e(r,u,n,i):null;case Av:return n.key===s?y(r,u,n,i):null;case _c:return s=n._init,L(r,u,s(n._payload),i)}if(_d(n)||Sd(n))return s!==null?null:C(r,u,n,i,null);fp(r,n)}return null}function x(r,u,n,i,s){if(typeof i=="string"&&i!==""||typeof i=="number")return r=r.get(n)||null,V(u,r,""+i,s);if(typeof i=="object"&&i!==null){switch(i.$$typeof){case q0:return r=r.get(i.key===null?n:i.key)||null,e(u,r,i,s);case Av:return r=r.get(i.key===null?n:i.key)||null,y(u,r,i,s);case _c:var o=i._init;return x(r,u,n,o(i._payload),s)}if(_d(i)||Sd(i))return r=r.get(n)||null,C(u,r,i,s,null);fp(u,i)}return null}function h(r,u,n,i){for(var s=null,o=null,m=u,c=u=0,b=null;m!==null&&c<n.length;c++){m.index>c?(b=m,m=null):b=m.sibling;var v=L(r,m,n[c],i);if(v===null){m===null&&(m=b);break}k&&m&&v.alternate===null&&G(r,m),u=Ye(v,u,c),o===null?s=v:o.sibling=v,o=v,m=b}if(c===n.length)return ne(r,m),to&&kh(r,c),s;if(m===null){for(;c<n.length;c++)m=a(r,n[c],i),m!==null&&(u=Ye(m,u,c),o===null?s=m:o.sibling=m,o=m);return to&&kh(r,c),s}for(m=pe(r,m);c<n.length;c++)b=x(m,r,c,n[c],i),b!==null&&(k&&b.alternate!==null&&m.delete(b.key===null?c:b.key),u=Ye(b,u,c),o===null?s=b:o.sibling=b,o=b);return k&&m.forEach(function(l){return G(r,l)}),to&&kh(r,c),s}function d(r,u,n,i){var s=Sd(n);if(typeof s!="function")throw Error(ga(150));if(n=s.call(n),n==null)throw Error(ga(151));for(var o=s=null,m=u,c=u=0,b=null,v=n.next();m!==null&&!v.done;c++,v=n.next()){m.index>c?(b=m,m=null):b=m.sibling;var l=L(r,m,v.value,i);if(l===null){m===null&&(m=b);break}k&&m&&l.alternate===null&&G(r,m),u=Ye(l,u,c),o===null?s=l:o.sibling=l,o=l,m=b}if(v.done)return ne(r,m),to&&kh(r,c),s;if(m===null){for(;!v.done;c++,v=n.next())v=a(r,v.value,i),v!==null&&(u=Ye(v,u,c),o===null?s=v:o.sibling=v,o=v);return to&&kh(r,c),s}for(m=pe(r,m);!v.done;c++,v=n.next())v=x(m,r,c,v.value,i),v!==null&&(k&&v.alternate!==null&&m.delete(v.key===null?c:v.key),u=Ye(v,u,c),o===null?s=v:o.sibling=v,o=v);return k&&m.forEach(function(p){return G(r,p)}),to&&kh(r,c),s}function t(r,u,n,i){if(typeof n=="object"&&n!==null&&n.type===Mv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case q0:e:{for(var s=n.key,o=u;o!==null;){if(o.key===s){if(s=n.type,s===Mv){if(o.tag===7){ne(r,o.sibling),u=Le(o,n.props.children),u.return=r,r=u;break e}}else if(o.elementType===s||typeof s=="object"&&s!==null&&s.$$typeof===_c&&Bb(s)===o.type){ne(r,o.sibling),u=Le(o,n.props),u.ref=Rd(r,o,n),u.return=r,r=u;break e}ne(r,o);break}else G(r,o);o=o.sibling}n.type===Mv?(u=Nh(n.props.children,r.mode,i,n.key),u.return=r,r=u):(i=Lp(n.type,n.key,n.props,null,r.mode,i),i.ref=Rd(r,u,n),i.return=r,r=i)}return W(r);case Av:e:{for(o=n.key;u!==null;){if(u.key===o)if(u.tag===4&&u.stateNode.containerInfo===n.containerInfo&&u.stateNode.implementation===n.implementation){ne(r,u.sibling),u=Le(u,n.children||[]),u.return=r,r=u;break e}else{ne(r,u);break}else G(r,u);u=u.sibling}u=jy(n,r.mode,i),u.return=r,r=u}return W(r);case _c:return o=n._init,t(r,u,o(n._payload),i)}if(_d(n))return h(r,u,n,i);if(Sd(n))return d(r,u,n,i);fp(r,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,u!==null&&u.tag===6?(ne(r,u.sibling),u=Le(u,n),u.return=r,r=u):(ne(r,u),u=Yy(n,r.mode,i),u.return=r,r=u),W(r)):ne(r,u)}return t}var Yv=GT(!0),WT=GT(!1),m0={},uf=th(m0),i0=th(m0),o0=th(m0);function Oh(k){if(k===m0)throw Error(ga(174));return k}function Qm(k,G){switch(Yi(o0,G),Yi(i0,k),Yi(uf,m0),k=G.nodeType,k){case 9:case 11:G=(G=G.documentElement)?G.namespaceURI:h1(null,"");break;default:k=k===8?G.parentNode:G,G=k.namespaceURI||null,k=k.tagName,G=h1(G,k)}Ji(uf),Yi(uf,G)}function jv(){Ji(uf),Ji(i0),Ji(o0)}function YT(k){Oh(o0.current);var G=Oh(uf.current),ne=h1(G,k.type);G!==ne&&(Yi(i0,k),Yi(uf,ne))}function $m(k){i0.current===k&&(Ji(uf),Ji(i0))}var fo=th(0);function Jp(k){for(var G=k;G!==null;){if(G.tag===13){var ne=G.memoizedState;if(ne!==null&&(ne=ne.dehydrated,ne===null||ne.data==="$?"||ne.data==="$!"))return G}else if(G.tag===19&&G.memoizedProps.revealOrder!==void 0){if(G.flags&128)return G}else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===k)break;for(;G.sibling===null;){if(G.return===null||G.return===k)return null;G=G.return}G.sibling.return=G.return,G=G.sibling}return null}var Ny=[];function qm(){for(var k=0;k<Ny.length;k++)Ny[k]._workInProgressVersionPrimary=null;Ny.length=0}var Ap=qf.ReactCurrentDispatcher,Uy=qf.ReactCurrentBatchConfig,Gh=0,co=null,Uo=null,Qo=null,Qp=!1,Gd=!1,s0=0,F8=0;function Ss(){throw Error(ga(321))}function ex(k,G){if(G===null)return!1;for(var ne=0;ne<G.length&&ne<k.length;ne++)if(!ku(k[ne],G[ne]))return!1;return!0}function tx(k,G,ne,pe,Le,Ye){if(Gh=Ye,co=G,G.memoizedState=null,G.updateQueue=null,G.lanes=0,Ap.current=k===null||k.memoizedState===null?B8:N8,k=ne(pe,Le),Gd){Ye=0;do{if(Gd=!1,s0=0,25<=Ye)throw Error(ga(301));Ye+=1,Qo=Uo=null,G.updateQueue=null,Ap.current=U8,k=ne(pe,Le)}while(Gd)}if(Ap.current=$p,G=Uo!==null&&Uo.next!==null,Gh=0,Qo=Uo=co=null,Qp=!1,G)throw Error(ga(300));return k}function rx(){var k=s0!==0;return s0=0,k}function af(){var k={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qo===null?co.memoizedState=Qo=k:Qo=Qo.next=k,Qo}function ru(){if(Uo===null){var k=co.alternate;k=k!==null?k.memoizedState:null}else k=Uo.next;var G=Qo===null?co.memoizedState:Qo.next;if(G!==null)Qo=G,Uo=k;else{if(k===null)throw Error(ga(310));Uo=k,k={memoizedState:Uo.memoizedState,baseState:Uo.baseState,baseQueue:Uo.baseQueue,queue:Uo.queue,next:null},Qo===null?co.memoizedState=Qo=k:Qo=Qo.next=k}return Qo}function l0(k,G){return typeof G=="function"?G(k):G}function Hy(k){var G=ru(),ne=G.queue;if(ne===null)throw Error(ga(311));ne.lastRenderedReducer=k;var pe=Uo,Le=pe.baseQueue,Ye=ne.pending;if(Ye!==null){if(Le!==null){var W=Le.next;Le.next=Ye.next,Ye.next=W}pe.baseQueue=Le=Ye,ne.pending=null}if(Le!==null){Ye=Le.next,pe=pe.baseState;var V=W=null,e=null,y=Ye;do{var C=y.lane;if((Gh&C)===C)e!==null&&(e=e.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),pe=y.hasEagerState?y.eagerState:k(pe,y.action);else{var a={lane:C,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};e===null?(V=e=a,W=pe):e=e.next=a,co.lanes|=C,Wh|=C}y=y.next}while(y!==null&&y!==Ye);e===null?W=pe:e.next=V,ku(pe,G.memoizedState)||(ol=!0),G.memoizedState=pe,G.baseState=W,G.baseQueue=e,ne.lastRenderedState=pe}if(k=ne.interleaved,k!==null){Le=k;do Ye=Le.lane,co.lanes|=Ye,Wh|=Ye,Le=Le.next;while(Le!==k)}else Le===null&&(ne.lanes=0);return[G.memoizedState,ne.dispatch]}function Vy(k){var G=ru(),ne=G.queue;if(ne===null)throw Error(ga(311));ne.lastRenderedReducer=k;var pe=ne.dispatch,Le=ne.pending,Ye=G.memoizedState;if(Le!==null){ne.pending=null;var W=Le=Le.next;do Ye=k(Ye,W.action),W=W.next;while(W!==Le);ku(Ye,G.memoizedState)||(ol=!0),G.memoizedState=Ye,G.baseQueue===null&&(G.baseState=Ye),ne.lastRenderedState=Ye}return[Ye,pe]}function jT(){}function ZT(k,G){var ne=co,pe=ru(),Le=G(),Ye=!ku(pe.memoizedState,Le);if(Ye&&(pe.memoizedState=Le,ol=!0),pe=pe.queue,nx(JT.bind(null,ne,pe,k),[k]),pe.getSnapshot!==G||Ye||Qo!==null&&Qo.memoizedState.tag&1){if(ne.flags|=2048,u0(9,KT.bind(null,ne,pe,Le,G),void 0,null),$o===null)throw Error(ga(349));Gh&30||XT(ne,G,Le)}return Le}function XT(k,G,ne){k.flags|=16384,k={getSnapshot:G,value:ne},G=co.updateQueue,G===null?(G={lastEffect:null,stores:null},co.updateQueue=G,G.stores=[k]):(ne=G.stores,ne===null?G.stores=[k]:ne.push(k))}function KT(k,G,ne,pe){G.value=ne,G.getSnapshot=pe,QT(G)&&$T(k)}function JT(k,G,ne){return ne(function(){QT(G)&&$T(k)})}function QT(k){var G=k.getSnapshot;k=k.value;try{var ne=G();return!ku(k,ne)}catch{return!0}}function $T(k){var G=Qf(k,1);G!==null&&Iu(G,k,1,-1)}function Nb(k){var G=af();return typeof k=="function"&&(k=k()),G.memoizedState=G.baseState=k,k={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:k},G.queue=k,k=k.dispatch=O8.bind(null,co,k),[G.memoizedState,k]}function u0(k,G,ne,pe){return k={tag:k,create:G,destroy:ne,deps:pe,next:null},G=co.updateQueue,G===null?(G={lastEffect:null,stores:null},co.updateQueue=G,G.lastEffect=k.next=k):(ne=G.lastEffect,ne===null?G.lastEffect=k.next=k:(pe=ne.next,ne.next=k,k.next=pe,G.lastEffect=k)),k}function qT(){return ru().memoizedState}function Mp(k,G,ne,pe){var Le=af();co.flags|=k,Le.memoizedState=u0(1|G,ne,void 0,pe===void 0?null:pe)}function yg(k,G,ne,pe){var Le=ru();pe=pe===void 0?null:pe;var Ye=void 0;if(Uo!==null){var W=Uo.memoizedState;if(Ye=W.destroy,pe!==null&&ex(pe,W.deps)){Le.memoizedState=u0(G,ne,Ye,pe);return}}co.flags|=k,Le.memoizedState=u0(1|G,ne,Ye,pe)}function Ub(k,G){return Mp(8390656,8,k,G)}function nx(k,G){return yg(2048,8,k,G)}function e5(k,G){return yg(4,2,k,G)}function t5(k,G){return yg(4,4,k,G)}function r5(k,G){if(typeof G=="function")return k=k(),G(k),function(){G(null)};if(G!=null)return k=k(),G.current=k,function(){G.current=null}}function n5(k,G,ne){return ne=ne!=null?ne.concat([k]):null,yg(4,4,r5.bind(null,G,k),ne)}function ax(){}function a5(k,G){var ne=ru();G=G===void 0?null:G;var pe=ne.memoizedState;return pe!==null&&G!==null&&ex(G,pe[1])?pe[0]:(ne.memoizedState=[k,G],k)}function i5(k,G){var ne=ru();G=G===void 0?null:G;var pe=ne.memoizedState;return pe!==null&&G!==null&&ex(G,pe[1])?pe[0]:(k=k(),ne.memoizedState=[k,G],k)}function o5(k,G,ne){return Gh&21?(ku(ne,G)||(ne=uT(),co.lanes|=ne,Wh|=ne,k.baseState=!0),G):(k.baseState&&(k.baseState=!1,ol=!0),k.memoizedState=ne)}function _8(k,G){var ne=Fi;Fi=ne!==0&&4>ne?ne:4,k(!0);var pe=Uy.transition;Uy.transition={};try{k(!1),G()}finally{Fi=ne,Uy.transition=pe}}function s5(){return ru().memoizedState}function z8(k,G,ne){var pe=Xc(k);if(ne={lane:pe,action:ne,hasEagerState:!1,eagerState:null,next:null},l5(k))u5(G,ne);else if(ne=NT(k,G,ne,pe),ne!==null){var Le=Gs();Iu(ne,k,pe,Le),f5(ne,G,pe)}}function O8(k,G,ne){var pe=Xc(k),Le={lane:pe,action:ne,hasEagerState:!1,eagerState:null,next:null};if(l5(k))u5(G,Le);else{var Ye=k.alternate;if(k.lanes===0&&(Ye===null||Ye.lanes===0)&&(Ye=G.lastRenderedReducer,Ye!==null))try{var W=G.lastRenderedState,V=Ye(W,ne);if(Le.hasEagerState=!0,Le.eagerState=V,ku(V,W)){var e=G.interleaved;e===null?(Le.next=Le,Km(G)):(Le.next=e.next,e.next=Le),G.interleaved=Le;return}}catch{}finally{}ne=NT(k,G,Le,pe),ne!==null&&(Le=Gs(),Iu(ne,k,pe,Le),f5(ne,G,pe))}}function l5(k){var G=k.alternate;return k===co||G!==null&&G===co}function u5(k,G){Gd=Qp=!0;var ne=k.pending;ne===null?G.next=G:(G.next=ne.next,ne.next=G),k.pending=G}function f5(k,G,ne){if(ne&4194240){var pe=G.lanes;pe&=k.pendingLanes,ne|=pe,G.lanes=ne,_m(k,ne)}}var $p={readContext:tu,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},B8={readContext:tu,useCallback:function(k,G){return af().memoizedState=[k,G===void 0?null:G],k},useContext:tu,useEffect:Ub,useImperativeHandle:function(k,G,ne){return ne=ne!=null?ne.concat([k]):null,Mp(4194308,4,r5.bind(null,G,k),ne)},useLayoutEffect:function(k,G){return Mp(4194308,4,k,G)},useInsertionEffect:function(k,G){return Mp(4,2,k,G)},useMemo:function(k,G){var ne=af();return G=G===void 0?null:G,k=k(),ne.memoizedState=[k,G],k},useReducer:function(k,G,ne){var pe=af();return G=ne!==void 0?ne(G):G,pe.memoizedState=pe.baseState=G,k={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:k,lastRenderedState:G},pe.queue=k,k=k.dispatch=z8.bind(null,co,k),[pe.memoizedState,k]},useRef:function(k){var G=af();return k={current:k},G.memoizedState=k},useState:Nb,useDebugValue:ax,useDeferredValue:function(k){return af().memoizedState=k},useTransition:function(){var k=Nb(!1),G=k[0];return k=_8.bind(null,k[1]),af().memoizedState=k,[G,k]},useMutableSource:function(){},useSyncExternalStore:function(k,G,ne){var pe=co,Le=af();if(to){if(ne===void 0)throw Error(ga(407));ne=ne()}else{if(ne=G(),$o===null)throw Error(ga(349));Gh&30||XT(pe,G,ne)}Le.memoizedState=ne;var Ye={value:ne,getSnapshot:G};return Le.queue=Ye,Ub(JT.bind(null,pe,Ye,k),[k]),pe.flags|=2048,u0(9,KT.bind(null,pe,Ye,ne,G),void 0,null),ne},useId:function(){var k=af(),G=$o.identifierPrefix;if(to){var ne=Yf,pe=Wf;ne=(pe&~(1<<32-Du(pe)-1)).toString(32)+ne,G=":"+G+"R"+ne,ne=s0++,0<ne&&(G+="H"+ne.toString(32)),G+=":"}else ne=F8++,G=":"+G+"r"+ne.toString(32)+":";return k.memoizedState=G},unstable_isNewReconciler:!1},N8={readContext:tu,useCallback:a5,useContext:tu,useEffect:nx,useImperativeHandle:n5,useInsertionEffect:e5,useLayoutEffect:t5,useMemo:i5,useReducer:Hy,useRef:qT,useState:function(){return Hy(l0)},useDebugValue:ax,useDeferredValue:function(k){var G=ru();return o5(G,Uo.memoizedState,k)},useTransition:function(){var k=Hy(l0)[0],G=ru().memoizedState;return[k,G]},useMutableSource:jT,useSyncExternalStore:ZT,useId:s5,unstable_isNewReconciler:!1},U8={readContext:tu,useCallback:a5,useContext:tu,useEffect:nx,useImperativeHandle:n5,useInsertionEffect:e5,useLayoutEffect:t5,useMemo:i5,useReducer:Vy,useRef:qT,useState:function(){return Vy(l0)},useDebugValue:ax,useDeferredValue:function(k){var G=ru();return Uo===null?G.memoizedState=k:o5(G,Uo.memoizedState,k)},useTransition:function(){var k=Vy(l0)[0],G=ru().memoizedState;return[k,G]},useMutableSource:jT,useSyncExternalStore:ZT,useId:s5,unstable_isNewReconciler:!1};function Zv(k,G){try{var ne="",pe=G;do ne+=d6(pe),pe=pe.return;while(pe);var Le=ne}catch(Ye){Le=`
Error generating stack: `+Ye.message+`
`+Ye.stack}return{value:k,source:G,stack:Le,digest:null}}function Gy(k,G,ne){return{value:k,source:null,stack:ne??null,digest:G??null}}function _1(k,G){try{console.error(G.value)}catch(ne){setTimeout(function(){throw ne})}}var H8=typeof WeakMap=="function"?WeakMap:Map;function c5(k,G,ne){ne=Zf(-1,ne),ne.tag=3,ne.payload={element:null};var pe=G.value;return ne.callback=function(){eg||(eg=!0,Y1=pe),_1(k,G)},ne}function h5(k,G,ne){ne=Zf(-1,ne),ne.tag=3;var pe=k.type.getDerivedStateFromError;if(typeof pe=="function"){var Le=G.value;ne.payload=function(){return pe(Le)},ne.callback=function(){_1(k,G)}}var Ye=k.stateNode;return Ye!==null&&typeof Ye.componentDidCatch=="function"&&(ne.callback=function(){_1(k,G),typeof pe!="function"&&(Zc===null?Zc=new Set([this]):Zc.add(this));var W=G.stack;this.componentDidCatch(G.value,{componentStack:W!==null?W:""})}),ne}function Hb(k,G,ne){var pe=k.pingCache;if(pe===null){pe=k.pingCache=new H8;var Le=new Set;pe.set(G,Le)}else Le=pe.get(G),Le===void 0&&(Le=new Set,pe.set(G,Le));Le.has(ne)||(Le.add(ne),k=tE.bind(null,k,G,ne),G.then(k,k))}function Vb(k){do{var G;if((G=k.tag===13)&&(G=k.memoizedState,G=G!==null?G.dehydrated!==null:!0),G)return k;k=k.return}while(k!==null);return null}function Gb(k,G,ne,pe,Le){return k.mode&1?(k.flags|=65536,k.lanes=Le,k):(k===G?k.flags|=65536:(k.flags|=128,ne.flags|=131072,ne.flags&=-52805,ne.tag===1&&(ne.alternate===null?ne.tag=17:(G=Zf(-1,1),G.tag=2,jc(ne,G,1))),ne.lanes|=1),k)}var V8=qf.ReactCurrentOwner,ol=!1;function Vs(k,G,ne,pe){G.child=k===null?WT(G,null,ne,pe):Yv(G,k.child,ne,pe)}function Wb(k,G,ne,pe,Le){ne=ne.render;var Ye=G.ref;return Uv(G,Le),pe=tx(k,G,ne,pe,Ye,Le),ne=rx(),k!==null&&!ol?(G.updateQueue=k.updateQueue,G.flags&=-2053,k.lanes&=~Le,$f(k,G,Le)):(to&&ne&&Gm(G),G.flags|=1,Vs(k,G,pe,Le),G.child)}function Yb(k,G,ne,pe,Le){if(k===null){var Ye=ne.type;return typeof Ye=="function"&&!hx(Ye)&&Ye.defaultProps===void 0&&ne.compare===null&&ne.defaultProps===void 0?(G.tag=15,G.type=Ye,v5(k,G,Ye,pe,Le)):(k=Lp(ne.type,null,pe,G,G.mode,Le),k.ref=G.ref,k.return=G,G.child=k)}if(Ye=k.child,!(k.lanes&Le)){var W=Ye.memoizedProps;if(ne=ne.compare,ne=ne!==null?ne:t0,ne(W,pe)&&k.ref===G.ref)return $f(k,G,Le)}return G.flags|=1,k=Kc(Ye,pe),k.ref=G.ref,k.return=G,G.child=k}function v5(k,G,ne,pe,Le){if(k!==null){var Ye=k.memoizedProps;if(t0(Ye,pe)&&k.ref===G.ref)if(ol=!1,G.pendingProps=pe=Ye,(k.lanes&Le)!==0)k.flags&131072&&(ol=!0);else return G.lanes=k.lanes,$f(k,G,Le)}return z1(k,G,ne,pe,Le)}function d5(k,G,ne){var pe=G.pendingProps,Le=pe.children,Ye=k!==null?k.memoizedState:null;if(pe.mode==="hidden")if(!(G.mode&1))G.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yi(Fv,Sl),Sl|=ne;else{if(!(ne&1073741824))return k=Ye!==null?Ye.baseLanes|ne:ne,G.lanes=G.childLanes=1073741824,G.memoizedState={baseLanes:k,cachePool:null,transitions:null},G.updateQueue=null,Yi(Fv,Sl),Sl|=k,null;G.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe=Ye!==null?Ye.baseLanes:ne,Yi(Fv,Sl),Sl|=pe}else Ye!==null?(pe=Ye.baseLanes|ne,G.memoizedState=null):pe=ne,Yi(Fv,Sl),Sl|=pe;return Vs(k,G,Le,ne),G.child}function p5(k,G){var ne=G.ref;(k===null&&ne!==null||k!==null&&k.ref!==ne)&&(G.flags|=512,G.flags|=2097152)}function z1(k,G,ne,pe,Le){var Ye=ll(ne)?Hh:Ls.current;return Ye=Gv(G,Ye),Uv(G,Le),ne=tx(k,G,ne,pe,Ye,Le),pe=rx(),k!==null&&!ol?(G.updateQueue=k.updateQueue,G.flags&=-2053,k.lanes&=~Le,$f(k,G,Le)):(to&&pe&&Gm(G),G.flags|=1,Vs(k,G,ne,Le),G.child)}function jb(k,G,ne,pe,Le){if(ll(ne)){var Ye=!0;Wp(G)}else Ye=!1;if(Uv(G,Le),G.stateNode===null)Sp(k,G),VT(G,ne,pe),F1(G,ne,pe,Le),pe=!0;else if(k===null){var W=G.stateNode,V=G.memoizedProps;W.props=V;var e=W.context,y=ne.contextType;typeof y=="object"&&y!==null?y=tu(y):(y=ll(ne)?Hh:Ls.current,y=Gv(G,y));var C=ne.getDerivedStateFromProps,a=typeof C=="function"||typeof W.getSnapshotBeforeUpdate=="function";a||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(V!==pe||e!==y)&&Ob(G,W,pe,y),zc=!1;var L=G.memoizedState;W.state=L,Kp(G,pe,W,Le),e=G.memoizedState,V!==pe||L!==e||sl.current||zc?(typeof C=="function"&&(k1(G,ne,C,pe),e=G.memoizedState),(V=zc||zb(G,ne,V,pe,L,e,y))?(a||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(G.flags|=4194308)):(typeof W.componentDidMount=="function"&&(G.flags|=4194308),G.memoizedProps=pe,G.memoizedState=e),W.props=pe,W.state=e,W.context=y,pe=V):(typeof W.componentDidMount=="function"&&(G.flags|=4194308),pe=!1)}else{W=G.stateNode,UT(k,G),V=G.memoizedProps,y=G.type===G.elementType?V:Lu(G.type,V),W.props=y,a=G.pendingProps,L=W.context,e=ne.contextType,typeof e=="object"&&e!==null?e=tu(e):(e=ll(ne)?Hh:Ls.current,e=Gv(G,e));var x=ne.getDerivedStateFromProps;(C=typeof x=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(V!==a||L!==e)&&Ob(G,W,pe,e),zc=!1,L=G.memoizedState,W.state=L,Kp(G,pe,W,Le);var h=G.memoizedState;V!==a||L!==h||sl.current||zc?(typeof x=="function"&&(k1(G,ne,x,pe),h=G.memoizedState),(y=zc||zb(G,ne,y,pe,L,h,e)||!1)?(C||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(pe,h,e),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(pe,h,e)),typeof W.componentDidUpdate=="function"&&(G.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(G.flags|=1024)):(typeof W.componentDidUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(G.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(G.flags|=1024),G.memoizedProps=pe,G.memoizedState=h),W.props=pe,W.state=h,W.context=e,pe=y):(typeof W.componentDidUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(G.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||V===k.memoizedProps&&L===k.memoizedState||(G.flags|=1024),pe=!1)}return O1(k,G,ne,pe,Ye,Le)}function O1(k,G,ne,pe,Le,Ye){p5(k,G);var W=(G.flags&128)!==0;if(!pe&&!W)return Le&&Db(G,ne,!1),$f(k,G,Ye);pe=G.stateNode,V8.current=G;var V=W&&typeof ne.getDerivedStateFromError!="function"?null:pe.render();return G.flags|=1,k!==null&&W?(G.child=Yv(G,k.child,null,Ye),G.child=Yv(G,null,V,Ye)):Vs(k,G,V,Ye),G.memoizedState=pe.state,Le&&Db(G,ne,!0),G.child}function g5(k){var G=k.stateNode;G.pendingContext?Rb(k,G.pendingContext,G.pendingContext!==G.context):G.context&&Rb(k,G.context,!1),Qm(k,G.containerInfo)}function Zb(k,G,ne,pe,Le){return Wv(),Ym(Le),G.flags|=256,Vs(k,G,ne,pe),G.child}var B1={dehydrated:null,treeContext:null,retryLane:0};function N1(k){return{baseLanes:k,cachePool:null,transitions:null}}function y5(k,G,ne){var pe=G.pendingProps,Le=fo.current,Ye=!1,W=(G.flags&128)!==0,V;if((V=W)||(V=k!==null&&k.memoizedState===null?!1:(Le&2)!==0),V?(Ye=!0,G.flags&=-129):(k===null||k.memoizedState!==null)&&(Le|=1),Yi(fo,Le&1),k===null)return D1(G),k=G.memoizedState,k!==null&&(k=k.dehydrated,k!==null)?(G.mode&1?k.data==="$!"?G.lanes=8:G.lanes=1073741824:G.lanes=1,null):(W=pe.children,k=pe.fallback,Ye?(pe=G.mode,Ye=G.child,W={mode:"hidden",children:W},!(pe&1)&&Ye!==null?(Ye.childLanes=0,Ye.pendingProps=W):Ye=bg(W,pe,0,null),k=Nh(k,pe,ne,null),Ye.return=G,k.return=G,Ye.sibling=k,G.child=Ye,G.child.memoizedState=N1(ne),G.memoizedState=B1,k):ix(G,W));if(Le=k.memoizedState,Le!==null&&(V=Le.dehydrated,V!==null))return G8(k,G,W,pe,V,Le,ne);if(Ye){Ye=pe.fallback,W=G.mode,Le=k.child,V=Le.sibling;var e={mode:"hidden",children:pe.children};return!(W&1)&&G.child!==Le?(pe=G.child,pe.childLanes=0,pe.pendingProps=e,G.deletions=null):(pe=Kc(Le,e),pe.subtreeFlags=Le.subtreeFlags&14680064),V!==null?Ye=Kc(V,Ye):(Ye=Nh(Ye,W,ne,null),Ye.flags|=2),Ye.return=G,pe.return=G,pe.sibling=Ye,G.child=pe,pe=Ye,Ye=G.child,W=k.child.memoizedState,W=W===null?N1(ne):{baseLanes:W.baseLanes|ne,cachePool:null,transitions:W.transitions},Ye.memoizedState=W,Ye.childLanes=k.childLanes&~ne,G.memoizedState=B1,pe}return Ye=k.child,k=Ye.sibling,pe=Kc(Ye,{mode:"visible",children:pe.children}),!(G.mode&1)&&(pe.lanes=ne),pe.return=G,pe.sibling=null,k!==null&&(ne=G.deletions,ne===null?(G.deletions=[k],G.flags|=16):ne.push(k)),G.child=pe,G.memoizedState=null,pe}function ix(k,G){return G=bg({mode:"visible",children:G},k.mode,0,null),G.return=k,k.child=G}function cp(k,G,ne,pe){return pe!==null&&Ym(pe),Yv(G,k.child,null,ne),k=ix(G,G.pendingProps.children),k.flags|=2,G.memoizedState=null,k}function G8(k,G,ne,pe,Le,Ye,W){if(ne)return G.flags&256?(G.flags&=-257,pe=Gy(Error(ga(422))),cp(k,G,W,pe)):G.memoizedState!==null?(G.child=k.child,G.flags|=128,null):(Ye=pe.fallback,Le=G.mode,pe=bg({mode:"visible",children:pe.children},Le,0,null),Ye=Nh(Ye,Le,W,null),Ye.flags|=2,pe.return=G,Ye.return=G,pe.sibling=Ye,G.child=pe,G.mode&1&&Yv(G,k.child,null,W),G.child.memoizedState=N1(W),G.memoizedState=B1,Ye);if(!(G.mode&1))return cp(k,G,W,null);if(Le.data==="$!"){if(pe=Le.nextSibling&&Le.nextSibling.dataset,pe)var V=pe.dgst;return pe=V,Ye=Error(ga(419)),pe=Gy(Ye,pe,void 0),cp(k,G,W,pe)}if(V=(W&k.childLanes)!==0,ol||V){if(pe=$o,pe!==null){switch(W&-W){case 4:Le=2;break;case 16:Le=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Le=32;break;case 536870912:Le=268435456;break;default:Le=0}Le=Le&(pe.suspendedLanes|W)?0:Le,Le!==0&&Le!==Ye.retryLane&&(Ye.retryLane=Le,Qf(k,Le),Iu(pe,k,Le,-1))}return cx(),pe=Gy(Error(ga(421))),cp(k,G,W,pe)}return Le.data==="$?"?(G.flags|=128,G.child=k.child,G=rE.bind(null,k),Le._reactRetry=G,null):(k=Ye.treeContext,El=Yc(Le.nextSibling),Cl=G,to=!0,Ru=null,k!==null&&(Jl[Ql++]=Wf,Jl[Ql++]=Yf,Jl[Ql++]=Vh,Wf=k.id,Yf=k.overflow,Vh=G),G=ix(G,pe.children),G.flags|=4096,G)}function Xb(k,G,ne){k.lanes|=G;var pe=k.alternate;pe!==null&&(pe.lanes|=G),I1(k.return,G,ne)}function Wy(k,G,ne,pe,Le){var Ye=k.memoizedState;Ye===null?k.memoizedState={isBackwards:G,rendering:null,renderingStartTime:0,last:pe,tail:ne,tailMode:Le}:(Ye.isBackwards=G,Ye.rendering=null,Ye.renderingStartTime=0,Ye.last=pe,Ye.tail=ne,Ye.tailMode=Le)}function m5(k,G,ne){var pe=G.pendingProps,Le=pe.revealOrder,Ye=pe.tail;if(Vs(k,G,pe.children,ne),pe=fo.current,pe&2)pe=pe&1|2,G.flags|=128;else{if(k!==null&&k.flags&128)e:for(k=G.child;k!==null;){if(k.tag===13)k.memoizedState!==null&&Xb(k,ne,G);else if(k.tag===19)Xb(k,ne,G);else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===G)break e;for(;k.sibling===null;){if(k.return===null||k.return===G)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}pe&=1}if(Yi(fo,pe),!(G.mode&1))G.memoizedState=null;else switch(Le){case"forwards":for(ne=G.child,Le=null;ne!==null;)k=ne.alternate,k!==null&&Jp(k)===null&&(Le=ne),ne=ne.sibling;ne=Le,ne===null?(Le=G.child,G.child=null):(Le=ne.sibling,ne.sibling=null),Wy(G,!1,Le,ne,Ye);break;case"backwards":for(ne=null,Le=G.child,G.child=null;Le!==null;){if(k=Le.alternate,k!==null&&Jp(k)===null){G.child=Le;break}k=Le.sibling,Le.sibling=ne,ne=Le,Le=k}Wy(G,!0,ne,null,Ye);break;case"together":Wy(G,!1,null,null,void 0);break;default:G.memoizedState=null}return G.child}function Sp(k,G){!(G.mode&1)&&k!==null&&(k.alternate=null,G.alternate=null,G.flags|=2)}function $f(k,G,ne){if(k!==null&&(G.dependencies=k.dependencies),Wh|=G.lanes,!(ne&G.childLanes))return null;if(k!==null&&G.child!==k.child)throw Error(ga(153));if(G.child!==null){for(k=G.child,ne=Kc(k,k.pendingProps),G.child=ne,ne.return=G;k.sibling!==null;)k=k.sibling,ne=ne.sibling=Kc(k,k.pendingProps),ne.return=G;ne.sibling=null}return G.child}function W8(k,G,ne){switch(G.tag){case 3:g5(G),Wv();break;case 5:YT(G);break;case 1:ll(G.type)&&Wp(G);break;case 4:Qm(G,G.stateNode.containerInfo);break;case 10:var pe=G.type._context,Le=G.memoizedProps.value;Yi(Zp,pe._currentValue),pe._currentValue=Le;break;case 13:if(pe=G.memoizedState,pe!==null)return pe.dehydrated!==null?(Yi(fo,fo.current&1),G.flags|=128,null):ne&G.child.childLanes?y5(k,G,ne):(Yi(fo,fo.current&1),k=$f(k,G,ne),k!==null?k.sibling:null);Yi(fo,fo.current&1);break;case 19:if(pe=(ne&G.childLanes)!==0,k.flags&128){if(pe)return m5(k,G,ne);G.flags|=128}if(Le=G.memoizedState,Le!==null&&(Le.rendering=null,Le.tail=null,Le.lastEffect=null),Yi(fo,fo.current),pe)break;return null;case 22:case 23:return G.lanes=0,d5(k,G,ne)}return $f(k,G,ne)}var x5,U1,b5,w5;x5=function(k,G){for(var ne=G.child;ne!==null;){if(ne.tag===5||ne.tag===6)k.appendChild(ne.stateNode);else if(ne.tag!==4&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===G)break;for(;ne.sibling===null;){if(ne.return===null||ne.return===G)return;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}};U1=function(){};b5=function(k,G,ne,pe){var Le=k.memoizedProps;if(Le!==pe){k=G.stateNode,Oh(uf.current);var Ye=null;switch(ne){case"input":Le=l1(k,Le),pe=l1(k,pe),Ye=[];break;case"select":Le=ho({},Le,{value:void 0}),pe=ho({},pe,{value:void 0}),Ye=[];break;case"textarea":Le=c1(k,Le),pe=c1(k,pe),Ye=[];break;default:typeof Le.onClick!="function"&&typeof pe.onClick=="function"&&(k.onclick=Vp)}v1(ne,pe);var W;ne=null;for(y in Le)if(!pe.hasOwnProperty(y)&&Le.hasOwnProperty(y)&&Le[y]!=null)if(y==="style"){var V=Le[y];for(W in V)V.hasOwnProperty(W)&&(ne||(ne={}),ne[W]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Xd.hasOwnProperty(y)?Ye||(Ye=[]):(Ye=Ye||[]).push(y,null));for(y in pe){var e=pe[y];if(V=Le!=null?Le[y]:void 0,pe.hasOwnProperty(y)&&e!==V&&(e!=null||V!=null))if(y==="style")if(V){for(W in V)!V.hasOwnProperty(W)||e&&e.hasOwnProperty(W)||(ne||(ne={}),ne[W]="");for(W in e)e.hasOwnProperty(W)&&V[W]!==e[W]&&(ne||(ne={}),ne[W]=e[W])}else ne||(Ye||(Ye=[]),Ye.push(y,ne)),ne=e;else y==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,V=V?V.__html:void 0,e!=null&&V!==e&&(Ye=Ye||[]).push(y,e)):y==="children"?typeof e!="string"&&typeof e!="number"||(Ye=Ye||[]).push(y,""+e):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Xd.hasOwnProperty(y)?(e!=null&&y==="onScroll"&&Ki("scroll",k),Ye||V===e||(Ye=[])):(Ye=Ye||[]).push(y,e))}ne&&(Ye=Ye||[]).push("style",ne);var y=Ye;(G.updateQueue=y)&&(G.flags|=4)}};w5=function(k,G,ne,pe){ne!==pe&&(G.flags|=4)};function Dd(k,G){if(!to)switch(k.tailMode){case"hidden":G=k.tail;for(var ne=null;G!==null;)G.alternate!==null&&(ne=G),G=G.sibling;ne===null?k.tail=null:ne.sibling=null;break;case"collapsed":ne=k.tail;for(var pe=null;ne!==null;)ne.alternate!==null&&(pe=ne),ne=ne.sibling;pe===null?G||k.tail===null?k.tail=null:k.tail.sibling=null:pe.sibling=null}}function Es(k){var G=k.alternate!==null&&k.alternate.child===k.child,ne=0,pe=0;if(G)for(var Le=k.child;Le!==null;)ne|=Le.lanes|Le.childLanes,pe|=Le.subtreeFlags&14680064,pe|=Le.flags&14680064,Le.return=k,Le=Le.sibling;else for(Le=k.child;Le!==null;)ne|=Le.lanes|Le.childLanes,pe|=Le.subtreeFlags,pe|=Le.flags,Le.return=k,Le=Le.sibling;return k.subtreeFlags|=pe,k.childLanes=ne,G}function Y8(k,G,ne){var pe=G.pendingProps;switch(Wm(G),G.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Es(G),null;case 1:return ll(G.type)&&Gp(),Es(G),null;case 3:return pe=G.stateNode,jv(),Ji(sl),Ji(Ls),qm(),pe.pendingContext&&(pe.context=pe.pendingContext,pe.pendingContext=null),(k===null||k.child===null)&&(up(G)?G.flags|=4:k===null||k.memoizedState.isDehydrated&&!(G.flags&256)||(G.flags|=1024,Ru!==null&&(X1(Ru),Ru=null))),U1(k,G),Es(G),null;case 5:$m(G);var Le=Oh(o0.current);if(ne=G.type,k!==null&&G.stateNode!=null)b5(k,G,ne,pe,Le),k.ref!==G.ref&&(G.flags|=512,G.flags|=2097152);else{if(!pe){if(G.stateNode===null)throw Error(ga(166));return Es(G),null}if(k=Oh(uf.current),up(G)){pe=G.stateNode,ne=G.type;var Ye=G.memoizedProps;switch(pe[of]=G,pe[a0]=Ye,k=(G.mode&1)!==0,ne){case"dialog":Ki("cancel",pe),Ki("close",pe);break;case"iframe":case"object":case"embed":Ki("load",pe);break;case"video":case"audio":for(Le=0;Le<Od.length;Le++)Ki(Od[Le],pe);break;case"source":Ki("error",pe);break;case"img":case"image":case"link":Ki("error",pe),Ki("load",pe);break;case"details":Ki("toggle",pe);break;case"input":nb(pe,Ye),Ki("invalid",pe);break;case"select":pe._wrapperState={wasMultiple:!!Ye.multiple},Ki("invalid",pe);break;case"textarea":ib(pe,Ye),Ki("invalid",pe)}v1(ne,Ye),Le=null;for(var W in Ye)if(Ye.hasOwnProperty(W)){var V=Ye[W];W==="children"?typeof V=="string"?pe.textContent!==V&&(Ye.suppressHydrationWarning!==!0&&lp(pe.textContent,V,k),Le=["children",V]):typeof V=="number"&&pe.textContent!==""+V&&(Ye.suppressHydrationWarning!==!0&&lp(pe.textContent,V,k),Le=["children",""+V]):Xd.hasOwnProperty(W)&&V!=null&&W==="onScroll"&&Ki("scroll",pe)}switch(ne){case"input":ep(pe),ab(pe,Ye,!0);break;case"textarea":ep(pe),ob(pe);break;case"select":case"option":break;default:typeof Ye.onClick=="function"&&(pe.onclick=Vp)}pe=Le,G.updateQueue=pe,pe!==null&&(G.flags|=4)}else{W=Le.nodeType===9?Le:Le.ownerDocument,k==="http://www.w3.org/1999/xhtml"&&(k=Xw(ne)),k==="http://www.w3.org/1999/xhtml"?ne==="script"?(k=W.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild)):typeof pe.is=="string"?k=W.createElement(ne,{is:pe.is}):(k=W.createElement(ne),ne==="select"&&(W=k,pe.multiple?W.multiple=!0:pe.size&&(W.size=pe.size))):k=W.createElementNS(k,ne),k[of]=G,k[a0]=pe,x5(k,G,!1,!1),G.stateNode=k;e:{switch(W=d1(ne,pe),ne){case"dialog":Ki("cancel",k),Ki("close",k),Le=pe;break;case"iframe":case"object":case"embed":Ki("load",k),Le=pe;break;case"video":case"audio":for(Le=0;Le<Od.length;Le++)Ki(Od[Le],k);Le=pe;break;case"source":Ki("error",k),Le=pe;break;case"img":case"image":case"link":Ki("error",k),Ki("load",k),Le=pe;break;case"details":Ki("toggle",k),Le=pe;break;case"input":nb(k,pe),Le=l1(k,pe),Ki("invalid",k);break;case"option":Le=pe;break;case"select":k._wrapperState={wasMultiple:!!pe.multiple},Le=ho({},pe,{value:void 0}),Ki("invalid",k);break;case"textarea":ib(k,pe),Le=c1(k,pe),Ki("invalid",k);break;default:Le=pe}v1(ne,Le),V=Le;for(Ye in V)if(V.hasOwnProperty(Ye)){var e=V[Ye];Ye==="style"?Qw(k,e):Ye==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&Kw(k,e)):Ye==="children"?typeof e=="string"?(ne!=="textarea"||e!=="")&&Kd(k,e):typeof e=="number"&&Kd(k,""+e):Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&Ye!=="autoFocus"&&(Xd.hasOwnProperty(Ye)?e!=null&&Ye==="onScroll"&&Ki("scroll",k):e!=null&&Pm(k,Ye,e,W))}switch(ne){case"input":ep(k),ab(k,pe,!1);break;case"textarea":ep(k),ob(k);break;case"option":pe.value!=null&&k.setAttribute("value",""+$c(pe.value));break;case"select":k.multiple=!!pe.multiple,Ye=pe.value,Ye!=null?zv(k,!!pe.multiple,Ye,!1):pe.defaultValue!=null&&zv(k,!!pe.multiple,pe.defaultValue,!0);break;default:typeof Le.onClick=="function"&&(k.onclick=Vp)}switch(ne){case"button":case"input":case"select":case"textarea":pe=!!pe.autoFocus;break e;case"img":pe=!0;break e;default:pe=!1}}pe&&(G.flags|=4)}G.ref!==null&&(G.flags|=512,G.flags|=2097152)}return Es(G),null;case 6:if(k&&G.stateNode!=null)w5(k,G,k.memoizedProps,pe);else{if(typeof pe!="string"&&G.stateNode===null)throw Error(ga(166));if(ne=Oh(o0.current),Oh(uf.current),up(G)){if(pe=G.stateNode,ne=G.memoizedProps,pe[of]=G,(Ye=pe.nodeValue!==ne)&&(k=Cl,k!==null))switch(k.tag){case 3:lp(pe.nodeValue,ne,(k.mode&1)!==0);break;case 5:k.memoizedProps.suppressHydrationWarning!==!0&&lp(pe.nodeValue,ne,(k.mode&1)!==0)}Ye&&(G.flags|=4)}else pe=(ne.nodeType===9?ne:ne.ownerDocument).createTextNode(pe),pe[of]=G,G.stateNode=pe}return Es(G),null;case 13:if(Ji(fo),pe=G.memoizedState,k===null||k.memoizedState!==null&&k.memoizedState.dehydrated!==null){if(to&&El!==null&&G.mode&1&&!(G.flags&128))BT(),Wv(),G.flags|=98560,Ye=!1;else if(Ye=up(G),pe!==null&&pe.dehydrated!==null){if(k===null){if(!Ye)throw Error(ga(318));if(Ye=G.memoizedState,Ye=Ye!==null?Ye.dehydrated:null,!Ye)throw Error(ga(317));Ye[of]=G}else Wv(),!(G.flags&128)&&(G.memoizedState=null),G.flags|=4;Es(G),Ye=!1}else Ru!==null&&(X1(Ru),Ru=null),Ye=!0;if(!Ye)return G.flags&65536?G:null}return G.flags&128?(G.lanes=ne,G):(pe=pe!==null,pe!==(k!==null&&k.memoizedState!==null)&&pe&&(G.child.flags|=8192,G.mode&1&&(k===null||fo.current&1?Ho===0&&(Ho=3):cx())),G.updateQueue!==null&&(G.flags|=4),Es(G),null);case 4:return jv(),U1(k,G),k===null&&r0(G.stateNode.containerInfo),Es(G),null;case 10:return Xm(G.type._context),Es(G),null;case 17:return ll(G.type)&&Gp(),Es(G),null;case 19:if(Ji(fo),Ye=G.memoizedState,Ye===null)return Es(G),null;if(pe=(G.flags&128)!==0,W=Ye.rendering,W===null)if(pe)Dd(Ye,!1);else{if(Ho!==0||k!==null&&k.flags&128)for(k=G.child;k!==null;){if(W=Jp(k),W!==null){for(G.flags|=128,Dd(Ye,!1),pe=W.updateQueue,pe!==null&&(G.updateQueue=pe,G.flags|=4),G.subtreeFlags=0,pe=ne,ne=G.child;ne!==null;)Ye=ne,k=pe,Ye.flags&=14680066,W=Ye.alternate,W===null?(Ye.childLanes=0,Ye.lanes=k,Ye.child=null,Ye.subtreeFlags=0,Ye.memoizedProps=null,Ye.memoizedState=null,Ye.updateQueue=null,Ye.dependencies=null,Ye.stateNode=null):(Ye.childLanes=W.childLanes,Ye.lanes=W.lanes,Ye.child=W.child,Ye.subtreeFlags=0,Ye.deletions=null,Ye.memoizedProps=W.memoizedProps,Ye.memoizedState=W.memoizedState,Ye.updateQueue=W.updateQueue,Ye.type=W.type,k=W.dependencies,Ye.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),ne=ne.sibling;return Yi(fo,fo.current&1|2),G.child}k=k.sibling}Ye.tail!==null&&So()>Xv&&(G.flags|=128,pe=!0,Dd(Ye,!1),G.lanes=4194304)}else{if(!pe)if(k=Jp(W),k!==null){if(G.flags|=128,pe=!0,ne=k.updateQueue,ne!==null&&(G.updateQueue=ne,G.flags|=4),Dd(Ye,!0),Ye.tail===null&&Ye.tailMode==="hidden"&&!W.alternate&&!to)return Es(G),null}else 2*So()-Ye.renderingStartTime>Xv&&ne!==1073741824&&(G.flags|=128,pe=!0,Dd(Ye,!1),G.lanes=4194304);Ye.isBackwards?(W.sibling=G.child,G.child=W):(ne=Ye.last,ne!==null?ne.sibling=W:G.child=W,Ye.last=W)}return Ye.tail!==null?(G=Ye.tail,Ye.rendering=G,Ye.tail=G.sibling,Ye.renderingStartTime=So(),G.sibling=null,ne=fo.current,Yi(fo,pe?ne&1|2:ne&1),G):(Es(G),null);case 22:case 23:return fx(),pe=G.memoizedState!==null,k!==null&&k.memoizedState!==null!==pe&&(G.flags|=8192),pe&&G.mode&1?Sl&1073741824&&(Es(G),G.subtreeFlags&6&&(G.flags|=8192)):Es(G),null;case 24:return null;case 25:return null}throw Error(ga(156,G.tag))}function j8(k,G){switch(Wm(G),G.tag){case 1:return ll(G.type)&&Gp(),k=G.flags,k&65536?(G.flags=k&-65537|128,G):null;case 3:return jv(),Ji(sl),Ji(Ls),qm(),k=G.flags,k&65536&&!(k&128)?(G.flags=k&-65537|128,G):null;case 5:return $m(G),null;case 13:if(Ji(fo),k=G.memoizedState,k!==null&&k.dehydrated!==null){if(G.alternate===null)throw Error(ga(340));Wv()}return k=G.flags,k&65536?(G.flags=k&-65537|128,G):null;case 19:return Ji(fo),null;case 4:return jv(),null;case 10:return Xm(G.type._context),null;case 22:case 23:return fx(),null;case 24:return null;default:return null}}var hp=!1,Cs=!1,Z8=typeof WeakSet=="function"?WeakSet:Set,za=null;function kv(k,G){var ne=k.ref;if(ne!==null)if(typeof ne=="function")try{ne(null)}catch(pe){mo(k,G,pe)}else ne.current=null}function H1(k,G,ne){try{ne()}catch(pe){mo(k,G,pe)}}var Kb=!1;function X8(k,G){if(M1=Np,k=ST(),Vm(k)){if("selectionStart"in k)var ne={start:k.selectionStart,end:k.selectionEnd};else e:{ne=(ne=k.ownerDocument)&&ne.defaultView||window;var pe=ne.getSelection&&ne.getSelection();if(pe&&pe.rangeCount!==0){ne=pe.anchorNode;var Le=pe.anchorOffset,Ye=pe.focusNode;pe=pe.focusOffset;try{ne.nodeType,Ye.nodeType}catch{ne=null;break e}var W=0,V=-1,e=-1,y=0,C=0,a=k,L=null;t:for(;;){for(var x;a!==ne||Le!==0&&a.nodeType!==3||(V=W+Le),a!==Ye||pe!==0&&a.nodeType!==3||(e=W+pe),a.nodeType===3&&(W+=a.nodeValue.length),(x=a.firstChild)!==null;)L=a,a=x;for(;;){if(a===k)break t;if(L===ne&&++y===Le&&(V=W),L===Ye&&++C===pe&&(e=W),(x=a.nextSibling)!==null)break;a=L,L=a.parentNode}a=x}ne=V===-1||e===-1?null:{start:V,end:e}}else ne=null}ne=ne||{start:0,end:0}}else ne=null;for(S1={focusedElem:k,selectionRange:ne},Np=!1,za=G;za!==null;)if(G=za,k=G.child,(G.subtreeFlags&1028)!==0&&k!==null)k.return=G,za=k;else for(;za!==null;){G=za;try{var h=G.alternate;if(G.flags&1024)switch(G.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var d=h.memoizedProps,t=h.memoizedState,r=G.stateNode,u=r.getSnapshotBeforeUpdate(G.elementType===G.type?d:Lu(G.type,d),t);r.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var n=G.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ga(163))}}catch(i){mo(G,G.return,i)}if(k=G.sibling,k!==null){k.return=G.return,za=k;break}za=G.return}return h=Kb,Kb=!1,h}function Wd(k,G,ne){var pe=G.updateQueue;if(pe=pe!==null?pe.lastEffect:null,pe!==null){var Le=pe=pe.next;do{if((Le.tag&k)===k){var Ye=Le.destroy;Le.destroy=void 0,Ye!==void 0&&H1(G,ne,Ye)}Le=Le.next}while(Le!==pe)}}function mg(k,G){if(G=G.updateQueue,G=G!==null?G.lastEffect:null,G!==null){var ne=G=G.next;do{if((ne.tag&k)===k){var pe=ne.create;ne.destroy=pe()}ne=ne.next}while(ne!==G)}}function V1(k){var G=k.ref;if(G!==null){var ne=k.stateNode;switch(k.tag){case 5:k=ne;break;default:k=ne}typeof G=="function"?G(k):G.current=k}}function T5(k){var G=k.alternate;G!==null&&(k.alternate=null,T5(G)),k.child=null,k.deletions=null,k.sibling=null,k.tag===5&&(G=k.stateNode,G!==null&&(delete G[of],delete G[a0],delete G[L1],delete G[R8],delete G[D8])),k.stateNode=null,k.return=null,k.dependencies=null,k.memoizedProps=null,k.memoizedState=null,k.pendingProps=null,k.stateNode=null,k.updateQueue=null}function A5(k){return k.tag===5||k.tag===3||k.tag===4}function Jb(k){e:for(;;){for(;k.sibling===null;){if(k.return===null||A5(k.return))return null;k=k.return}for(k.sibling.return=k.return,k=k.sibling;k.tag!==5&&k.tag!==6&&k.tag!==18;){if(k.flags&2||k.child===null||k.tag===4)continue e;k.child.return=k,k=k.child}if(!(k.flags&2))return k.stateNode}}function G1(k,G,ne){var pe=k.tag;if(pe===5||pe===6)k=k.stateNode,G?ne.nodeType===8?ne.parentNode.insertBefore(k,G):ne.insertBefore(k,G):(ne.nodeType===8?(G=ne.parentNode,G.insertBefore(k,ne)):(G=ne,G.appendChild(k)),ne=ne._reactRootContainer,ne!=null||G.onclick!==null||(G.onclick=Vp));else if(pe!==4&&(k=k.child,k!==null))for(G1(k,G,ne),k=k.sibling;k!==null;)G1(k,G,ne),k=k.sibling}function W1(k,G,ne){var pe=k.tag;if(pe===5||pe===6)k=k.stateNode,G?ne.insertBefore(k,G):ne.appendChild(k);else if(pe!==4&&(k=k.child,k!==null))for(W1(k,G,ne),k=k.sibling;k!==null;)W1(k,G,ne),k=k.sibling}var us=null,Pu=!1;function Ic(k,G,ne){for(ne=ne.child;ne!==null;)M5(k,G,ne),ne=ne.sibling}function M5(k,G,ne){if(lf&&typeof lf.onCommitFiberUnmount=="function")try{lf.onCommitFiberUnmount(fg,ne)}catch{}switch(ne.tag){case 5:Cs||kv(ne,G);case 6:var pe=us,Le=Pu;us=null,Ic(k,G,ne),us=pe,Pu=Le,us!==null&&(Pu?(k=us,ne=ne.stateNode,k.nodeType===8?k.parentNode.removeChild(ne):k.removeChild(ne)):us.removeChild(ne.stateNode));break;case 18:us!==null&&(Pu?(k=us,ne=ne.stateNode,k.nodeType===8?Oy(k.parentNode,ne):k.nodeType===1&&Oy(k,ne),qd(k)):Oy(us,ne.stateNode));break;case 4:pe=us,Le=Pu,us=ne.stateNode.containerInfo,Pu=!0,Ic(k,G,ne),us=pe,Pu=Le;break;case 0:case 11:case 14:case 15:if(!Cs&&(pe=ne.updateQueue,pe!==null&&(pe=pe.lastEffect,pe!==null))){Le=pe=pe.next;do{var Ye=Le,W=Ye.destroy;Ye=Ye.tag,W!==void 0&&(Ye&2||Ye&4)&&H1(ne,G,W),Le=Le.next}while(Le!==pe)}Ic(k,G,ne);break;case 1:if(!Cs&&(kv(ne,G),pe=ne.stateNode,typeof pe.componentWillUnmount=="function"))try{pe.props=ne.memoizedProps,pe.state=ne.memoizedState,pe.componentWillUnmount()}catch(V){mo(ne,G,V)}Ic(k,G,ne);break;case 21:Ic(k,G,ne);break;case 22:ne.mode&1?(Cs=(pe=Cs)||ne.memoizedState!==null,Ic(k,G,ne),Cs=pe):Ic(k,G,ne);break;default:Ic(k,G,ne)}}function Qb(k){var G=k.updateQueue;if(G!==null){k.updateQueue=null;var ne=k.stateNode;ne===null&&(ne=k.stateNode=new Z8),G.forEach(function(pe){var Le=nE.bind(null,k,pe);ne.has(pe)||(ne.add(pe),pe.then(Le,Le))})}}function Eu(k,G){var ne=G.deletions;if(ne!==null)for(var pe=0;pe<ne.length;pe++){var Le=ne[pe];try{var Ye=k,W=G,V=W;e:for(;V!==null;){switch(V.tag){case 5:us=V.stateNode,Pu=!1;break e;case 3:us=V.stateNode.containerInfo,Pu=!0;break e;case 4:us=V.stateNode.containerInfo,Pu=!0;break e}V=V.return}if(us===null)throw Error(ga(160));M5(Ye,W,Le),us=null,Pu=!1;var e=Le.alternate;e!==null&&(e.return=null),Le.return=null}catch(y){mo(Le,G,y)}}if(G.subtreeFlags&12854)for(G=G.child;G!==null;)S5(G,k),G=G.sibling}function S5(k,G){var ne=k.alternate,pe=k.flags;switch(k.tag){case 0:case 11:case 14:case 15:if(Eu(G,k),nf(k),pe&4){try{Wd(3,k,k.return),mg(3,k)}catch(d){mo(k,k.return,d)}try{Wd(5,k,k.return)}catch(d){mo(k,k.return,d)}}break;case 1:Eu(G,k),nf(k),pe&512&&ne!==null&&kv(ne,ne.return);break;case 5:if(Eu(G,k),nf(k),pe&512&&ne!==null&&kv(ne,ne.return),k.flags&32){var Le=k.stateNode;try{Kd(Le,"")}catch(d){mo(k,k.return,d)}}if(pe&4&&(Le=k.stateNode,Le!=null)){var Ye=k.memoizedProps,W=ne!==null?ne.memoizedProps:Ye,V=k.type,e=k.updateQueue;if(k.updateQueue=null,e!==null)try{V==="input"&&Ye.type==="radio"&&Ye.name!=null&&jw(Le,Ye),d1(V,W);var y=d1(V,Ye);for(W=0;W<e.length;W+=2){var C=e[W],a=e[W+1];C==="style"?Qw(Le,a):C==="dangerouslySetInnerHTML"?Kw(Le,a):C==="children"?Kd(Le,a):Pm(Le,C,a,y)}switch(V){case"input":u1(Le,Ye);break;case"textarea":Zw(Le,Ye);break;case"select":var L=Le._wrapperState.wasMultiple;Le._wrapperState.wasMultiple=!!Ye.multiple;var x=Ye.value;x!=null?zv(Le,!!Ye.multiple,x,!1):L!==!!Ye.multiple&&(Ye.defaultValue!=null?zv(Le,!!Ye.multiple,Ye.defaultValue,!0):zv(Le,!!Ye.multiple,Ye.multiple?[]:"",!1))}Le[a0]=Ye}catch(d){mo(k,k.return,d)}}break;case 6:if(Eu(G,k),nf(k),pe&4){if(k.stateNode===null)throw Error(ga(162));Le=k.stateNode,Ye=k.memoizedProps;try{Le.nodeValue=Ye}catch(d){mo(k,k.return,d)}}break;case 3:if(Eu(G,k),nf(k),pe&4&&ne!==null&&ne.memoizedState.isDehydrated)try{qd(G.containerInfo)}catch(d){mo(k,k.return,d)}break;case 4:Eu(G,k),nf(k);break;case 13:Eu(G,k),nf(k),Le=k.child,Le.flags&8192&&(Ye=Le.memoizedState!==null,Le.stateNode.isHidden=Ye,!Ye||Le.alternate!==null&&Le.alternate.memoizedState!==null||(lx=So())),pe&4&&Qb(k);break;case 22:if(C=ne!==null&&ne.memoizedState!==null,k.mode&1?(Cs=(y=Cs)||C,Eu(G,k),Cs=y):Eu(G,k),nf(k),pe&8192){if(y=k.memoizedState!==null,(k.stateNode.isHidden=y)&&!C&&k.mode&1)for(za=k,C=k.child;C!==null;){for(a=za=C;za!==null;){switch(L=za,x=L.child,L.tag){case 0:case 11:case 14:case 15:Wd(4,L,L.return);break;case 1:kv(L,L.return);var h=L.stateNode;if(typeof h.componentWillUnmount=="function"){pe=L,ne=L.return;try{G=pe,h.props=G.memoizedProps,h.state=G.memoizedState,h.componentWillUnmount()}catch(d){mo(pe,ne,d)}}break;case 5:kv(L,L.return);break;case 22:if(L.memoizedState!==null){qb(a);continue}}x!==null?(x.return=L,za=x):qb(a)}C=C.sibling}e:for(C=null,a=k;;){if(a.tag===5){if(C===null){C=a;try{Le=a.stateNode,y?(Ye=Le.style,typeof Ye.setProperty=="function"?Ye.setProperty("display","none","important"):Ye.display="none"):(V=a.stateNode,e=a.memoizedProps.style,W=e!=null&&e.hasOwnProperty("display")?e.display:null,V.style.display=Jw("display",W))}catch(d){mo(k,k.return,d)}}}else if(a.tag===6){if(C===null)try{a.stateNode.nodeValue=y?"":a.memoizedProps}catch(d){mo(k,k.return,d)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===k)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===k)break e;for(;a.sibling===null;){if(a.return===null||a.return===k)break e;C===a&&(C=null),a=a.return}C===a&&(C=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Eu(G,k),nf(k),pe&4&&Qb(k);break;case 21:break;default:Eu(G,k),nf(k)}}function nf(k){var G=k.flags;if(G&2){try{e:{for(var ne=k.return;ne!==null;){if(A5(ne)){var pe=ne;break e}ne=ne.return}throw Error(ga(160))}switch(pe.tag){case 5:var Le=pe.stateNode;pe.flags&32&&(Kd(Le,""),pe.flags&=-33);var Ye=Jb(k);W1(k,Ye,Le);break;case 3:case 4:var W=pe.stateNode.containerInfo,V=Jb(k);G1(k,V,W);break;default:throw Error(ga(161))}}catch(e){mo(k,k.return,e)}k.flags&=-3}G&4096&&(k.flags&=-4097)}function K8(k,G,ne){za=k,E5(k)}function E5(k,G,ne){for(var pe=(k.mode&1)!==0;za!==null;){var Le=za,Ye=Le.child;if(Le.tag===22&&pe){var W=Le.memoizedState!==null||hp;if(!W){var V=Le.alternate,e=V!==null&&V.memoizedState!==null||Cs;V=hp;var y=Cs;if(hp=W,(Cs=e)&&!y)for(za=Le;za!==null;)W=za,e=W.child,W.tag===22&&W.memoizedState!==null?e3(Le):e!==null?(e.return=W,za=e):e3(Le);for(;Ye!==null;)za=Ye,E5(Ye),Ye=Ye.sibling;za=Le,hp=V,Cs=y}$b(k)}else Le.subtreeFlags&8772&&Ye!==null?(Ye.return=Le,za=Ye):$b(k)}}function $b(k){for(;za!==null;){var G=za;if(G.flags&8772){var ne=G.alternate;try{if(G.flags&8772)switch(G.tag){case 0:case 11:case 15:Cs||mg(5,G);break;case 1:var pe=G.stateNode;if(G.flags&4&&!Cs)if(ne===null)pe.componentDidMount();else{var Le=G.elementType===G.type?ne.memoizedProps:Lu(G.type,ne.memoizedProps);pe.componentDidUpdate(Le,ne.memoizedState,pe.__reactInternalSnapshotBeforeUpdate)}var Ye=G.updateQueue;Ye!==null&&_b(G,Ye,pe);break;case 3:var W=G.updateQueue;if(W!==null){if(ne=null,G.child!==null)switch(G.child.tag){case 5:ne=G.child.stateNode;break;case 1:ne=G.child.stateNode}_b(G,W,ne)}break;case 5:var V=G.stateNode;if(ne===null&&G.flags&4){ne=V;var e=G.memoizedProps;switch(G.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&ne.focus();break;case"img":e.src&&(ne.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(G.memoizedState===null){var y=G.alternate;if(y!==null){var C=y.memoizedState;if(C!==null){var a=C.dehydrated;a!==null&&qd(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ga(163))}Cs||G.flags&512&&V1(G)}catch(L){mo(G,G.return,L)}}if(G===k){za=null;break}if(ne=G.sibling,ne!==null){ne.return=G.return,za=ne;break}za=G.return}}function qb(k){for(;za!==null;){var G=za;if(G===k){za=null;break}var ne=G.sibling;if(ne!==null){ne.return=G.return,za=ne;break}za=G.return}}function e3(k){for(;za!==null;){var G=za;try{switch(G.tag){case 0:case 11:case 15:var ne=G.return;try{mg(4,G)}catch(e){mo(G,ne,e)}break;case 1:var pe=G.stateNode;if(typeof pe.componentDidMount=="function"){var Le=G.return;try{pe.componentDidMount()}catch(e){mo(G,Le,e)}}var Ye=G.return;try{V1(G)}catch(e){mo(G,Ye,e)}break;case 5:var W=G.return;try{V1(G)}catch(e){mo(G,W,e)}}}catch(e){mo(G,G.return,e)}if(G===k){za=null;break}var V=G.sibling;if(V!==null){V.return=G.return,za=V;break}za=G.return}}var J8=Math.ceil,qp=qf.ReactCurrentDispatcher,ox=qf.ReactCurrentOwner,ql=qf.ReactCurrentBatchConfig,Si=0,$o=null,ko=null,fs=0,Sl=0,Fv=th(0),Ho=0,f0=null,Wh=0,xg=0,sx=0,Yd=null,il=null,lx=0,Xv=1/0,Vf=null,eg=!1,Y1=null,Zc=null,vp=!1,Uc=null,tg=0,jd=0,j1=null,Ep=-1,Cp=0;function Gs(){return Si&6?So():Ep!==-1?Ep:Ep=So()}function Xc(k){return k.mode&1?Si&2&&fs!==0?fs&-fs:k8.transition!==null?(Cp===0&&(Cp=uT()),Cp):(k=Fi,k!==0||(k=window.event,k=k===void 0?16:gT(k.type)),k):1}function Iu(k,G,ne,pe){if(50<jd)throw jd=0,j1=null,Error(ga(185));p0(k,ne,pe),(!(Si&2)||k!==$o)&&(k===$o&&(!(Si&2)&&(xg|=ne),Ho===4&&Bc(k,fs)),ul(k,pe),ne===1&&Si===0&&!(G.mode&1)&&(Xv=So()+500,pg&&rh()))}function ul(k,G){var ne=k.callbackNode;k6(k,G);var pe=Bp(k,k===$o?fs:0);if(pe===0)ne!==null&&ub(ne),k.callbackNode=null,k.callbackPriority=0;else if(G=pe&-pe,k.callbackPriority!==G){if(ne!=null&&ub(ne),G===1)k.tag===0?I8(t3.bind(null,k)):_T(t3.bind(null,k)),L8(function(){!(Si&6)&&rh()}),ne=null;else{switch(fT(pe)){case 1:ne=Fm;break;case 4:ne=sT;break;case 16:ne=Op;break;case 536870912:ne=lT;break;default:ne=Op}ne=F5(ne,C5.bind(null,k))}k.callbackPriority=G,k.callbackNode=ne}}function C5(k,G){if(Ep=-1,Cp=0,Si&6)throw Error(ga(327));var ne=k.callbackNode;if(Hv()&&k.callbackNode!==ne)return null;var pe=Bp(k,k===$o?fs:0);if(pe===0)return null;if(pe&30||pe&k.expiredLanes||G)G=rg(k,pe);else{G=pe;var Le=Si;Si|=2;var Ye=P5();($o!==k||fs!==G)&&(Vf=null,Xv=So()+500,Bh(k,G));do try{q8();break}catch(V){L5(k,V)}while(1);Zm(),qp.current=Ye,Si=Le,ko!==null?G=0:($o=null,fs=0,G=Ho)}if(G!==0){if(G===2&&(Le=x1(k),Le!==0&&(pe=Le,G=Z1(k,Le))),G===1)throw ne=f0,Bh(k,0),Bc(k,pe),ul(k,So()),ne;if(G===6)Bc(k,pe);else{if(Le=k.current.alternate,!(pe&30)&&!Q8(Le)&&(G=rg(k,pe),G===2&&(Ye=x1(k),Ye!==0&&(pe=Ye,G=Z1(k,Ye))),G===1))throw ne=f0,Bh(k,0),Bc(k,pe),ul(k,So()),ne;switch(k.finishedWork=Le,k.finishedLanes=pe,G){case 0:case 1:throw Error(ga(345));case 2:Fh(k,il,Vf);break;case 3:if(Bc(k,pe),(pe&130023424)===pe&&(G=lx+500-So(),10<G)){if(Bp(k,0)!==0)break;if(Le=k.suspendedLanes,(Le&pe)!==pe){Gs(),k.pingedLanes|=k.suspendedLanes&Le;break}k.timeoutHandle=C1(Fh.bind(null,k,il,Vf),G);break}Fh(k,il,Vf);break;case 4:if(Bc(k,pe),(pe&4194240)===pe)break;for(G=k.eventTimes,Le=-1;0<pe;){var W=31-Du(pe);Ye=1<<W,W=G[W],W>Le&&(Le=W),pe&=~Ye}if(pe=Le,pe=So()-pe,pe=(120>pe?120:480>pe?480:1080>pe?1080:1920>pe?1920:3e3>pe?3e3:4320>pe?4320:1960*J8(pe/1960))-pe,10<pe){k.timeoutHandle=C1(Fh.bind(null,k,il,Vf),pe);break}Fh(k,il,Vf);break;case 5:Fh(k,il,Vf);break;default:throw Error(ga(329))}}}return ul(k,So()),k.callbackNode===ne?C5.bind(null,k):null}function Z1(k,G){var ne=Yd;return k.current.memoizedState.isDehydrated&&(Bh(k,G).flags|=256),k=rg(k,G),k!==2&&(G=il,il=ne,G!==null&&X1(G)),k}function X1(k){il===null?il=k:il.push.apply(il,k)}function Q8(k){for(var G=k;;){if(G.flags&16384){var ne=G.updateQueue;if(ne!==null&&(ne=ne.stores,ne!==null))for(var pe=0;pe<ne.length;pe++){var Le=ne[pe],Ye=Le.getSnapshot;Le=Le.value;try{if(!ku(Ye(),Le))return!1}catch{return!1}}}if(ne=G.child,G.subtreeFlags&16384&&ne!==null)ne.return=G,G=ne;else{if(G===k)break;for(;G.sibling===null;){if(G.return===null||G.return===k)return!0;G=G.return}G.sibling.return=G.return,G=G.sibling}}return!0}function Bc(k,G){for(G&=~sx,G&=~xg,k.suspendedLanes|=G,k.pingedLanes&=~G,k=k.expirationTimes;0<G;){var ne=31-Du(G),pe=1<<ne;k[ne]=-1,G&=~pe}}function t3(k){if(Si&6)throw Error(ga(327));Hv();var G=Bp(k,0);if(!(G&1))return ul(k,So()),null;var ne=rg(k,G);if(k.tag!==0&&ne===2){var pe=x1(k);pe!==0&&(G=pe,ne=Z1(k,pe))}if(ne===1)throw ne=f0,Bh(k,0),Bc(k,G),ul(k,So()),ne;if(ne===6)throw Error(ga(345));return k.finishedWork=k.current.alternate,k.finishedLanes=G,Fh(k,il,Vf),ul(k,So()),null}function ux(k,G){var ne=Si;Si|=1;try{return k(G)}finally{Si=ne,Si===0&&(Xv=So()+500,pg&&rh())}}function Yh(k){Uc!==null&&Uc.tag===0&&!(Si&6)&&Hv();var G=Si;Si|=1;var ne=ql.transition,pe=Fi;try{if(ql.transition=null,Fi=1,k)return k()}finally{Fi=pe,ql.transition=ne,Si=G,!(Si&6)&&rh()}}function fx(){Sl=Fv.current,Ji(Fv)}function Bh(k,G){k.finishedWork=null,k.finishedLanes=0;var ne=k.timeoutHandle;if(ne!==-1&&(k.timeoutHandle=-1,C8(ne)),ko!==null)for(ne=ko.return;ne!==null;){var pe=ne;switch(Wm(pe),pe.tag){case 1:pe=pe.type.childContextTypes,pe!=null&&Gp();break;case 3:jv(),Ji(sl),Ji(Ls),qm();break;case 5:$m(pe);break;case 4:jv();break;case 13:Ji(fo);break;case 19:Ji(fo);break;case 10:Xm(pe.type._context);break;case 22:case 23:fx()}ne=ne.return}if($o=k,ko=k=Kc(k.current,null),fs=Sl=G,Ho=0,f0=null,sx=xg=Wh=0,il=Yd=null,zh!==null){for(G=0;G<zh.length;G++)if(ne=zh[G],pe=ne.interleaved,pe!==null){ne.interleaved=null;var Le=pe.next,Ye=ne.pending;if(Ye!==null){var W=Ye.next;Ye.next=Le,pe.next=W}ne.pending=pe}zh=null}return k}function L5(k,G){do{var ne=ko;try{if(Zm(),Ap.current=$p,Qp){for(var pe=co.memoizedState;pe!==null;){var Le=pe.queue;Le!==null&&(Le.pending=null),pe=pe.next}Qp=!1}if(Gh=0,Qo=Uo=co=null,Gd=!1,s0=0,ox.current=null,ne===null||ne.return===null){Ho=1,f0=G,ko=null;break}e:{var Ye=k,W=ne.return,V=ne,e=G;if(G=fs,V.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var y=e,C=V,a=C.tag;if(!(C.mode&1)&&(a===0||a===11||a===15)){var L=C.alternate;L?(C.updateQueue=L.updateQueue,C.memoizedState=L.memoizedState,C.lanes=L.lanes):(C.updateQueue=null,C.memoizedState=null)}var x=Vb(W);if(x!==null){x.flags&=-257,Gb(x,W,V,Ye,G),x.mode&1&&Hb(Ye,y,G),G=x,e=y;var h=G.updateQueue;if(h===null){var d=new Set;d.add(e),G.updateQueue=d}else h.add(e);break e}else{if(!(G&1)){Hb(Ye,y,G),cx();break e}e=Error(ga(426))}}else if(to&&V.mode&1){var t=Vb(W);if(t!==null){!(t.flags&65536)&&(t.flags|=256),Gb(t,W,V,Ye,G),Ym(Zv(e,V));break e}}Ye=e=Zv(e,V),Ho!==4&&(Ho=2),Yd===null?Yd=[Ye]:Yd.push(Ye),Ye=W;do{switch(Ye.tag){case 3:Ye.flags|=65536,G&=-G,Ye.lanes|=G;var r=c5(Ye,e,G);Fb(Ye,r);break e;case 1:V=e;var u=Ye.type,n=Ye.stateNode;if(!(Ye.flags&128)&&(typeof u.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Zc===null||!Zc.has(n)))){Ye.flags|=65536,G&=-G,Ye.lanes|=G;var i=h5(Ye,V,G);Fb(Ye,i);break e}}Ye=Ye.return}while(Ye!==null)}D5(ne)}catch(s){G=s,ko===ne&&ne!==null&&(ko=ne=ne.return);continue}break}while(1)}function P5(){var k=qp.current;return qp.current=$p,k===null?$p:k}function cx(){(Ho===0||Ho===3||Ho===2)&&(Ho=4),$o===null||!(Wh&268435455)&&!(xg&268435455)||Bc($o,fs)}function rg(k,G){var ne=Si;Si|=2;var pe=P5();($o!==k||fs!==G)&&(Vf=null,Bh(k,G));do try{$8();break}catch(Le){L5(k,Le)}while(1);if(Zm(),Si=ne,qp.current=pe,ko!==null)throw Error(ga(261));return $o=null,fs=0,Ho}function $8(){for(;ko!==null;)R5(ko)}function q8(){for(;ko!==null&&!M6();)R5(ko)}function R5(k){var G=k5(k.alternate,k,Sl);k.memoizedProps=k.pendingProps,G===null?D5(k):ko=G,ox.current=null}function D5(k){var G=k;do{var ne=G.alternate;if(k=G.return,G.flags&32768){if(ne=j8(ne,G),ne!==null){ne.flags&=32767,ko=ne;return}if(k!==null)k.flags|=32768,k.subtreeFlags=0,k.deletions=null;else{Ho=6,ko=null;return}}else if(ne=Y8(ne,G,Sl),ne!==null){ko=ne;return}if(G=G.sibling,G!==null){ko=G;return}ko=G=k}while(G!==null);Ho===0&&(Ho=5)}function Fh(k,G,ne){var pe=Fi,Le=ql.transition;try{ql.transition=null,Fi=1,eE(k,G,ne,pe)}finally{ql.transition=Le,Fi=pe}return null}function eE(k,G,ne,pe){do Hv();while(Uc!==null);if(Si&6)throw Error(ga(327));ne=k.finishedWork;var Le=k.finishedLanes;if(ne===null)return null;if(k.finishedWork=null,k.finishedLanes=0,ne===k.current)throw Error(ga(177));k.callbackNode=null,k.callbackPriority=0;var Ye=ne.lanes|ne.childLanes;if(F6(k,Ye),k===$o&&(ko=$o=null,fs=0),!(ne.subtreeFlags&2064)&&!(ne.flags&2064)||vp||(vp=!0,F5(Op,function(){return Hv(),null})),Ye=(ne.flags&15990)!==0,ne.subtreeFlags&15990||Ye){Ye=ql.transition,ql.transition=null;var W=Fi;Fi=1;var V=Si;Si|=4,ox.current=null,X8(k,ne),S5(ne,k),b8(S1),Np=!!M1,S1=M1=null,k.current=ne,K8(ne),S6(),Si=V,Fi=W,ql.transition=Ye}else k.current=ne;if(vp&&(vp=!1,Uc=k,tg=Le),Ye=k.pendingLanes,Ye===0&&(Zc=null),L6(ne.stateNode),ul(k,So()),G!==null)for(pe=k.onRecoverableError,ne=0;ne<G.length;ne++)Le=G[ne],pe(Le.value,{componentStack:Le.stack,digest:Le.digest});if(eg)throw eg=!1,k=Y1,Y1=null,k;return tg&1&&k.tag!==0&&Hv(),Ye=k.pendingLanes,Ye&1?k===j1?jd++:(jd=0,j1=k):jd=0,rh(),null}function Hv(){if(Uc!==null){var k=fT(tg),G=ql.transition,ne=Fi;try{if(ql.transition=null,Fi=16>k?16:k,Uc===null)var pe=!1;else{if(k=Uc,Uc=null,tg=0,Si&6)throw Error(ga(331));var Le=Si;for(Si|=4,za=k.current;za!==null;){var Ye=za,W=Ye.child;if(za.flags&16){var V=Ye.deletions;if(V!==null){for(var e=0;e<V.length;e++){var y=V[e];for(za=y;za!==null;){var C=za;switch(C.tag){case 0:case 11:case 15:Wd(8,C,Ye)}var a=C.child;if(a!==null)a.return=C,za=a;else for(;za!==null;){C=za;var L=C.sibling,x=C.return;if(T5(C),C===y){za=null;break}if(L!==null){L.return=x,za=L;break}za=x}}}var h=Ye.alternate;if(h!==null){var d=h.child;if(d!==null){h.child=null;do{var t=d.sibling;d.sibling=null,d=t}while(d!==null)}}za=Ye}}if(Ye.subtreeFlags&2064&&W!==null)W.return=Ye,za=W;else e:for(;za!==null;){if(Ye=za,Ye.flags&2048)switch(Ye.tag){case 0:case 11:case 15:Wd(9,Ye,Ye.return)}var r=Ye.sibling;if(r!==null){r.return=Ye.return,za=r;break e}za=Ye.return}}var u=k.current;for(za=u;za!==null;){W=za;var n=W.child;if(W.subtreeFlags&2064&&n!==null)n.return=W,za=n;else e:for(W=u;za!==null;){if(V=za,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:mg(9,V)}}catch(s){mo(V,V.return,s)}if(V===W){za=null;break e}var i=V.sibling;if(i!==null){i.return=V.return,za=i;break e}za=V.return}}if(Si=Le,rh(),lf&&typeof lf.onPostCommitFiberRoot=="function")try{lf.onPostCommitFiberRoot(fg,k)}catch{}pe=!0}return pe}finally{Fi=ne,ql.transition=G}}return!1}function r3(k,G,ne){G=Zv(ne,G),G=c5(k,G,1),k=jc(k,G,1),G=Gs(),k!==null&&(p0(k,1,G),ul(k,G))}function mo(k,G,ne){if(k.tag===3)r3(k,k,ne);else for(;G!==null;){if(G.tag===3){r3(G,k,ne);break}else if(G.tag===1){var pe=G.stateNode;if(typeof G.type.getDerivedStateFromError=="function"||typeof pe.componentDidCatch=="function"&&(Zc===null||!Zc.has(pe))){k=Zv(ne,k),k=h5(G,k,1),G=jc(G,k,1),k=Gs(),G!==null&&(p0(G,1,k),ul(G,k));break}}G=G.return}}function tE(k,G,ne){var pe=k.pingCache;pe!==null&&pe.delete(G),G=Gs(),k.pingedLanes|=k.suspendedLanes&ne,$o===k&&(fs&ne)===ne&&(Ho===4||Ho===3&&(fs&130023424)===fs&&500>So()-lx?Bh(k,0):sx|=ne),ul(k,G)}function I5(k,G){G===0&&(k.mode&1?(G=np,np<<=1,!(np&130023424)&&(np=4194304)):G=1);var ne=Gs();k=Qf(k,G),k!==null&&(p0(k,G,ne),ul(k,ne))}function rE(k){var G=k.memoizedState,ne=0;G!==null&&(ne=G.retryLane),I5(k,ne)}function nE(k,G){var ne=0;switch(k.tag){case 13:var pe=k.stateNode,Le=k.memoizedState;Le!==null&&(ne=Le.retryLane);break;case 19:pe=k.stateNode;break;default:throw Error(ga(314))}pe!==null&&pe.delete(G),I5(k,ne)}var k5;k5=function(k,G,ne){if(k!==null)if(k.memoizedProps!==G.pendingProps||sl.current)ol=!0;else{if(!(k.lanes&ne)&&!(G.flags&128))return ol=!1,W8(k,G,ne);ol=!!(k.flags&131072)}else ol=!1,to&&G.flags&1048576&&zT(G,jp,G.index);switch(G.lanes=0,G.tag){case 2:var pe=G.type;Sp(k,G),k=G.pendingProps;var Le=Gv(G,Ls.current);Uv(G,ne),Le=tx(null,G,pe,k,Le,ne);var Ye=rx();return G.flags|=1,typeof Le=="object"&&Le!==null&&typeof Le.render=="function"&&Le.$$typeof===void 0?(G.tag=1,G.memoizedState=null,G.updateQueue=null,ll(pe)?(Ye=!0,Wp(G)):Ye=!1,G.memoizedState=Le.state!==null&&Le.state!==void 0?Le.state:null,Jm(G),Le.updater=gg,G.stateNode=Le,Le._reactInternals=G,F1(G,pe,k,ne),G=O1(null,G,pe,!0,Ye,ne)):(G.tag=0,to&&Ye&&Gm(G),Vs(null,G,Le,ne),G=G.child),G;case 16:pe=G.elementType;e:{switch(Sp(k,G),k=G.pendingProps,Le=pe._init,pe=Le(pe._payload),G.type=pe,Le=G.tag=iE(pe),k=Lu(pe,k),Le){case 0:G=z1(null,G,pe,k,ne);break e;case 1:G=jb(null,G,pe,k,ne);break e;case 11:G=Wb(null,G,pe,k,ne);break e;case 14:G=Yb(null,G,pe,Lu(pe.type,k),ne);break e}throw Error(ga(306,pe,""))}return G;case 0:return pe=G.type,Le=G.pendingProps,Le=G.elementType===pe?Le:Lu(pe,Le),z1(k,G,pe,Le,ne);case 1:return pe=G.type,Le=G.pendingProps,Le=G.elementType===pe?Le:Lu(pe,Le),jb(k,G,pe,Le,ne);case 3:e:{if(g5(G),k===null)throw Error(ga(387));pe=G.pendingProps,Ye=G.memoizedState,Le=Ye.element,UT(k,G),Kp(G,pe,null,ne);var W=G.memoizedState;if(pe=W.element,Ye.isDehydrated)if(Ye={element:pe,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},G.updateQueue.baseState=Ye,G.memoizedState=Ye,G.flags&256){Le=Zv(Error(ga(423)),G),G=Zb(k,G,pe,ne,Le);break e}else if(pe!==Le){Le=Zv(Error(ga(424)),G),G=Zb(k,G,pe,ne,Le);break e}else for(El=Yc(G.stateNode.containerInfo.firstChild),Cl=G,to=!0,Ru=null,ne=WT(G,null,pe,ne),G.child=ne;ne;)ne.flags=ne.flags&-3|4096,ne=ne.sibling;else{if(Wv(),pe===Le){G=$f(k,G,ne);break e}Vs(k,G,pe,ne)}G=G.child}return G;case 5:return YT(G),k===null&&D1(G),pe=G.type,Le=G.pendingProps,Ye=k!==null?k.memoizedProps:null,W=Le.children,E1(pe,Le)?W=null:Ye!==null&&E1(pe,Ye)&&(G.flags|=32),p5(k,G),Vs(k,G,W,ne),G.child;case 6:return k===null&&D1(G),null;case 13:return y5(k,G,ne);case 4:return Qm(G,G.stateNode.containerInfo),pe=G.pendingProps,k===null?G.child=Yv(G,null,pe,ne):Vs(k,G,pe,ne),G.child;case 11:return pe=G.type,Le=G.pendingProps,Le=G.elementType===pe?Le:Lu(pe,Le),Wb(k,G,pe,Le,ne);case 7:return Vs(k,G,G.pendingProps,ne),G.child;case 8:return Vs(k,G,G.pendingProps.children,ne),G.child;case 12:return Vs(k,G,G.pendingProps.children,ne),G.child;case 10:e:{if(pe=G.type._context,Le=G.pendingProps,Ye=G.memoizedProps,W=Le.value,Yi(Zp,pe._currentValue),pe._currentValue=W,Ye!==null)if(ku(Ye.value,W)){if(Ye.children===Le.children&&!sl.current){G=$f(k,G,ne);break e}}else for(Ye=G.child,Ye!==null&&(Ye.return=G);Ye!==null;){var V=Ye.dependencies;if(V!==null){W=Ye.child;for(var e=V.firstContext;e!==null;){if(e.context===pe){if(Ye.tag===1){e=Zf(-1,ne&-ne),e.tag=2;var y=Ye.updateQueue;if(y!==null){y=y.shared;var C=y.pending;C===null?e.next=e:(e.next=C.next,C.next=e),y.pending=e}}Ye.lanes|=ne,e=Ye.alternate,e!==null&&(e.lanes|=ne),I1(Ye.return,ne,G),V.lanes|=ne;break}e=e.next}}else if(Ye.tag===10)W=Ye.type===G.type?null:Ye.child;else if(Ye.tag===18){if(W=Ye.return,W===null)throw Error(ga(341));W.lanes|=ne,V=W.alternate,V!==null&&(V.lanes|=ne),I1(W,ne,G),W=Ye.sibling}else W=Ye.child;if(W!==null)W.return=Ye;else for(W=Ye;W!==null;){if(W===G){W=null;break}if(Ye=W.sibling,Ye!==null){Ye.return=W.return,W=Ye;break}W=W.return}Ye=W}Vs(k,G,Le.children,ne),G=G.child}return G;case 9:return Le=G.type,pe=G.pendingProps.children,Uv(G,ne),Le=tu(Le),pe=pe(Le),G.flags|=1,Vs(k,G,pe,ne),G.child;case 14:return pe=G.type,Le=Lu(pe,G.pendingProps),Le=Lu(pe.type,Le),Yb(k,G,pe,Le,ne);case 15:return v5(k,G,G.type,G.pendingProps,ne);case 17:return pe=G.type,Le=G.pendingProps,Le=G.elementType===pe?Le:Lu(pe,Le),Sp(k,G),G.tag=1,ll(pe)?(k=!0,Wp(G)):k=!1,Uv(G,ne),VT(G,pe,Le),F1(G,pe,Le,ne),O1(null,G,pe,!0,k,ne);case 19:return m5(k,G,ne);case 22:return d5(k,G,ne)}throw Error(ga(156,G.tag))};function F5(k,G){return oT(k,G)}function aE(k,G,ne,pe){this.tag=k,this.key=ne,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=G,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=pe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $l(k,G,ne,pe){return new aE(k,G,ne,pe)}function hx(k){return k=k.prototype,!(!k||!k.isReactComponent)}function iE(k){if(typeof k=="function")return hx(k)?1:0;if(k!=null){if(k=k.$$typeof,k===Dm)return 11;if(k===Im)return 14}return 2}function Kc(k,G){var ne=k.alternate;return ne===null?(ne=$l(k.tag,G,k.key,k.mode),ne.elementType=k.elementType,ne.type=k.type,ne.stateNode=k.stateNode,ne.alternate=k,k.alternate=ne):(ne.pendingProps=G,ne.type=k.type,ne.flags=0,ne.subtreeFlags=0,ne.deletions=null),ne.flags=k.flags&14680064,ne.childLanes=k.childLanes,ne.lanes=k.lanes,ne.child=k.child,ne.memoizedProps=k.memoizedProps,ne.memoizedState=k.memoizedState,ne.updateQueue=k.updateQueue,G=k.dependencies,ne.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext},ne.sibling=k.sibling,ne.index=k.index,ne.ref=k.ref,ne}function Lp(k,G,ne,pe,Le,Ye){var W=2;if(pe=k,typeof k=="function")hx(k)&&(W=1);else if(typeof k=="string")W=5;else e:switch(k){case Mv:return Nh(ne.children,Le,Ye,G);case Rm:W=8,Le|=8;break;case a1:return k=$l(12,ne,G,Le|2),k.elementType=a1,k.lanes=Ye,k;case i1:return k=$l(13,ne,G,Le),k.elementType=i1,k.lanes=Ye,k;case o1:return k=$l(19,ne,G,Le),k.elementType=o1,k.lanes=Ye,k;case Gw:return bg(ne,Le,Ye,G);default:if(typeof k=="object"&&k!==null)switch(k.$$typeof){case Hw:W=10;break e;case Vw:W=9;break e;case Dm:W=11;break e;case Im:W=14;break e;case _c:W=16,pe=null;break e}throw Error(ga(130,k==null?k:typeof k,""))}return G=$l(W,ne,G,Le),G.elementType=k,G.type=pe,G.lanes=Ye,G}function Nh(k,G,ne,pe){return k=$l(7,k,pe,G),k.lanes=ne,k}function bg(k,G,ne,pe){return k=$l(22,k,pe,G),k.elementType=Gw,k.lanes=ne,k.stateNode={isHidden:!1},k}function Yy(k,G,ne){return k=$l(6,k,null,G),k.lanes=ne,k}function jy(k,G,ne){return G=$l(4,k.children!==null?k.children:[],k.key,G),G.lanes=ne,G.stateNode={containerInfo:k.containerInfo,pendingChildren:null,implementation:k.implementation},G}function oE(k,G,ne,pe,Le){this.tag=G,this.containerInfo=k,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ey(0),this.expirationTimes=Ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ey(0),this.identifierPrefix=pe,this.onRecoverableError=Le,this.mutableSourceEagerHydrationData=null}function vx(k,G,ne,pe,Le,Ye,W,V,e){return k=new oE(k,G,ne,V,e),G===1?(G=1,Ye===!0&&(G|=8)):G=0,Ye=$l(3,null,null,G),k.current=Ye,Ye.stateNode=k,Ye.memoizedState={element:pe,isDehydrated:ne,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jm(Ye),k}function sE(k,G,ne){var pe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Av,key:pe==null?null:""+pe,children:k,containerInfo:G,implementation:ne}}function _5(k){if(!k)return qc;k=k._reactInternals;e:{if(Xh(k)!==k||k.tag!==1)throw Error(ga(170));var G=k;do{switch(G.tag){case 3:G=G.stateNode.context;break e;case 1:if(ll(G.type)){G=G.stateNode.__reactInternalMemoizedMergedChildContext;break e}}G=G.return}while(G!==null);throw Error(ga(171))}if(k.tag===1){var ne=k.type;if(ll(ne))return FT(k,ne,G)}return G}function z5(k,G,ne,pe,Le,Ye,W,V,e){return k=vx(ne,pe,!0,k,Le,Ye,W,V,e),k.context=_5(null),ne=k.current,pe=Gs(),Le=Xc(ne),Ye=Zf(pe,Le),Ye.callback=G??null,jc(ne,Ye,Le),k.current.lanes=Le,p0(k,Le,pe),ul(k,pe),k}function wg(k,G,ne,pe){var Le=G.current,Ye=Gs(),W=Xc(Le);return ne=_5(ne),G.context===null?G.context=ne:G.pendingContext=ne,G=Zf(Ye,W),G.payload={element:k},pe=pe===void 0?null:pe,pe!==null&&(G.callback=pe),k=jc(Le,G,W),k!==null&&(Iu(k,Le,W,Ye),Tp(k,Le,W)),W}function ng(k){if(k=k.current,!k.child)return null;switch(k.child.tag){case 5:return k.child.stateNode;default:return k.child.stateNode}}function n3(k,G){if(k=k.memoizedState,k!==null&&k.dehydrated!==null){var ne=k.retryLane;k.retryLane=ne!==0&&ne<G?ne:G}}function dx(k,G){n3(k,G),(k=k.alternate)&&n3(k,G)}function lE(){return null}var O5=typeof reportError=="function"?reportError:function(k){console.error(k)};function px(k){this._internalRoot=k}Tg.prototype.render=px.prototype.render=function(k){var G=this._internalRoot;if(G===null)throw Error(ga(409));wg(k,G,null,null)};Tg.prototype.unmount=px.prototype.unmount=function(){var k=this._internalRoot;if(k!==null){this._internalRoot=null;var G=k.containerInfo;Yh(function(){wg(null,k,null,null)}),G[Jf]=null}};function Tg(k){this._internalRoot=k}Tg.prototype.unstable_scheduleHydration=function(k){if(k){var G=vT();k={blockedOn:null,target:k,priority:G};for(var ne=0;ne<Oc.length&&G!==0&&G<Oc[ne].priority;ne++);Oc.splice(ne,0,k),ne===0&&pT(k)}};function gx(k){return!(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11)}function Ag(k){return!(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11&&(k.nodeType!==8||k.nodeValue!==" react-mount-point-unstable "))}function a3(){}function uE(k,G,ne,pe,Le){if(Le){if(typeof pe=="function"){var Ye=pe;pe=function(){var y=ng(W);Ye.call(y)}}var W=z5(G,pe,k,0,null,!1,!1,"",a3);return k._reactRootContainer=W,k[Jf]=W.current,r0(k.nodeType===8?k.parentNode:k),Yh(),W}for(;Le=k.lastChild;)k.removeChild(Le);if(typeof pe=="function"){var V=pe;pe=function(){var y=ng(e);V.call(y)}}var e=vx(k,0,!1,null,null,!1,!1,"",a3);return k._reactRootContainer=e,k[Jf]=e.current,r0(k.nodeType===8?k.parentNode:k),Yh(function(){wg(G,e,ne,pe)}),e}function Mg(k,G,ne,pe,Le){var Ye=ne._reactRootContainer;if(Ye){var W=Ye;if(typeof Le=="function"){var V=Le;Le=function(){var e=ng(W);V.call(e)}}wg(G,W,k,Le)}else W=uE(ne,G,k,Le,pe);return ng(W)}cT=function(k){switch(k.tag){case 3:var G=k.stateNode;if(G.current.memoizedState.isDehydrated){var ne=zd(G.pendingLanes);ne!==0&&(_m(G,ne|1),ul(G,So()),!(Si&6)&&(Xv=So()+500,rh()))}break;case 13:Yh(function(){var pe=Qf(k,1);if(pe!==null){var Le=Gs();Iu(pe,k,1,Le)}}),dx(k,1)}};zm=function(k){if(k.tag===13){var G=Qf(k,134217728);if(G!==null){var ne=Gs();Iu(G,k,134217728,ne)}dx(k,134217728)}};hT=function(k){if(k.tag===13){var G=Xc(k),ne=Qf(k,G);if(ne!==null){var pe=Gs();Iu(ne,k,G,pe)}dx(k,G)}};vT=function(){return Fi};dT=function(k,G){var ne=Fi;try{return Fi=k,G()}finally{Fi=ne}};g1=function(k,G,ne){switch(G){case"input":if(u1(k,ne),G=ne.name,ne.type==="radio"&&G!=null){for(ne=k;ne.parentNode;)ne=ne.parentNode;for(ne=ne.querySelectorAll("input[name="+JSON.stringify(""+G)+'][type="radio"]'),G=0;G<ne.length;G++){var pe=ne[G];if(pe!==k&&pe.form===k.form){var Le=dg(pe);if(!Le)throw Error(ga(90));Yw(pe),u1(pe,Le)}}}break;case"textarea":Zw(k,ne);break;case"select":G=ne.value,G!=null&&zv(k,!!ne.multiple,G,!1)}};eT=ux;tT=Yh;var fE={usingClientEntryPoint:!1,Events:[y0,Lv,dg,$w,qw,ux]},Id={findFiberByHostInstance:_h,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cE={bundleType:Id.bundleType,version:Id.version,rendererPackageName:Id.rendererPackageName,rendererConfig:Id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qf.ReactCurrentDispatcher,findHostInstanceByFiber:function(k){return k=aT(k),k===null?null:k.stateNode},findFiberByHostInstance:Id.findFiberByHostInstance||lE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{fg=dp.inject(cE),lf=dp}catch{}}Pl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fE;Pl.createPortal=function(k,G){var ne=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gx(G))throw Error(ga(200));return sE(k,G,null,ne)};Pl.createRoot=function(k,G){if(!gx(k))throw Error(ga(299));var ne=!1,pe="",Le=O5;return G!=null&&(G.unstable_strictMode===!0&&(ne=!0),G.identifierPrefix!==void 0&&(pe=G.identifierPrefix),G.onRecoverableError!==void 0&&(Le=G.onRecoverableError)),G=vx(k,1,!1,null,null,ne,!1,pe,Le),k[Jf]=G.current,r0(k.nodeType===8?k.parentNode:k),new px(G)};Pl.findDOMNode=function(k){if(k==null)return null;if(k.nodeType===1)return k;var G=k._reactInternals;if(G===void 0)throw typeof k.render=="function"?Error(ga(188)):(k=Object.keys(k).join(","),Error(ga(268,k)));return k=aT(G),k=k===null?null:k.stateNode,k};Pl.flushSync=function(k){return Yh(k)};Pl.hydrate=function(k,G,ne){if(!Ag(G))throw Error(ga(200));return Mg(null,k,G,!0,ne)};Pl.hydrateRoot=function(k,G,ne){if(!gx(k))throw Error(ga(405));var pe=ne!=null&&ne.hydratedSources||null,Le=!1,Ye="",W=O5;if(ne!=null&&(ne.unstable_strictMode===!0&&(Le=!0),ne.identifierPrefix!==void 0&&(Ye=ne.identifierPrefix),ne.onRecoverableError!==void 0&&(W=ne.onRecoverableError)),G=z5(G,null,k,1,ne??null,Le,!1,Ye,W),k[Jf]=G.current,r0(k),pe)for(k=0;k<pe.length;k++)ne=pe[k],Le=ne._getVersion,Le=Le(ne._source),G.mutableSourceEagerHydrationData==null?G.mutableSourceEagerHydrationData=[ne,Le]:G.mutableSourceEagerHydrationData.push(ne,Le);return new Tg(G)};Pl.render=function(k,G,ne){if(!Ag(G))throw Error(ga(200));return Mg(null,k,G,!1,ne)};Pl.unmountComponentAtNode=function(k){if(!Ag(k))throw Error(ga(40));return k._reactRootContainer?(Yh(function(){Mg(null,null,k,!1,function(){k._reactRootContainer=null,k[Jf]=null})}),!0):!1};Pl.unstable_batchedUpdates=ux;Pl.unstable_renderSubtreeIntoContainer=function(k,G,ne,pe){if(!Ag(ne))throw Error(ga(200));if(k==null||k._reactInternals===void 0)throw Error(ga(38));return Mg(k,G,ne,!1,pe)};Pl.version="18.2.0-next-9e3b772b8-20220608";function B5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B5)}catch(k){console.error(k)}}B5(),zw.exports=Pl;var N5=zw.exports,i3=N5;r1.createRoot=i3.createRoot,r1.hydrateRoot=i3.hydrateRoot;function U5(k,G){return function(){return k.apply(G,arguments)}}const{toString:hE}=Object.prototype,{getPrototypeOf:yx}=Object,Sg=(k=>G=>{const ne=hE.call(G);return k[ne]||(k[ne]=ne.slice(8,-1).toLowerCase())})(Object.create(null)),ff=k=>(k=k.toLowerCase(),G=>Sg(G)===k),Eg=k=>G=>typeof G===k,{isArray:td}=Array,c0=Eg("undefined");function vE(k){return k!==null&&!c0(k)&&k.constructor!==null&&!c0(k.constructor)&&eu(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const H5=ff("ArrayBuffer");function dE(k){let G;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?G=ArrayBuffer.isView(k):G=k&&k.buffer&&H5(k.buffer),G}const pE=Eg("string"),eu=Eg("function"),V5=Eg("number"),Cg=k=>k!==null&&typeof k=="object",gE=k=>k===!0||k===!1,Pp=k=>{if(Sg(k)!=="object")return!1;const G=yx(k);return(G===null||G===Object.prototype||Object.getPrototypeOf(G)===null)&&!(Symbol.toStringTag in k)&&!(Symbol.iterator in k)},yE=ff("Date"),mE=ff("File"),xE=ff("Blob"),bE=ff("FileList"),wE=k=>Cg(k)&&eu(k.pipe),TE=k=>{let G;return k&&(typeof FormData=="function"&&k instanceof FormData||eu(k.append)&&((G=Sg(k))==="formdata"||G==="object"&&eu(k.toString)&&k.toString()==="[object FormData]"))},AE=ff("URLSearchParams"),ME=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function x0(k,G,{allOwnKeys:ne=!1}={}){if(k===null||typeof k>"u")return;let pe,Le;if(typeof k!="object"&&(k=[k]),td(k))for(pe=0,Le=k.length;pe<Le;pe++)G.call(null,k[pe],pe,k);else{const Ye=ne?Object.getOwnPropertyNames(k):Object.keys(k),W=Ye.length;let V;for(pe=0;pe<W;pe++)V=Ye[pe],G.call(null,k[V],V,k)}}function G5(k,G){G=G.toLowerCase();const ne=Object.keys(k);let pe=ne.length,Le;for(;pe-- >0;)if(Le=ne[pe],G===Le.toLowerCase())return Le;return null}const W5=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Y5=k=>!c0(k)&&k!==W5;function K1(){const{caseless:k}=Y5(this)&&this||{},G={},ne=(pe,Le)=>{const Ye=k&&G5(G,Le)||Le;Pp(G[Ye])&&Pp(pe)?G[Ye]=K1(G[Ye],pe):Pp(pe)?G[Ye]=K1({},pe):td(pe)?G[Ye]=pe.slice():G[Ye]=pe};for(let pe=0,Le=arguments.length;pe<Le;pe++)arguments[pe]&&x0(arguments[pe],ne);return G}const SE=(k,G,ne,{allOwnKeys:pe}={})=>(x0(G,(Le,Ye)=>{ne&&eu(Le)?k[Ye]=U5(Le,ne):k[Ye]=Le},{allOwnKeys:pe}),k),EE=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),CE=(k,G,ne,pe)=>{k.prototype=Object.create(G.prototype,pe),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:G.prototype}),ne&&Object.assign(k.prototype,ne)},LE=(k,G,ne,pe)=>{let Le,Ye,W;const V={};if(G=G||{},k==null)return G;do{for(Le=Object.getOwnPropertyNames(k),Ye=Le.length;Ye-- >0;)W=Le[Ye],(!pe||pe(W,k,G))&&!V[W]&&(G[W]=k[W],V[W]=!0);k=ne!==!1&&yx(k)}while(k&&(!ne||ne(k,G))&&k!==Object.prototype);return G},PE=(k,G,ne)=>{k=String(k),(ne===void 0||ne>k.length)&&(ne=k.length),ne-=G.length;const pe=k.indexOf(G,ne);return pe!==-1&&pe===ne},RE=k=>{if(!k)return null;if(td(k))return k;let G=k.length;if(!V5(G))return null;const ne=new Array(G);for(;G-- >0;)ne[G]=k[G];return ne},DE=(k=>G=>k&&G instanceof k)(typeof Uint8Array<"u"&&yx(Uint8Array)),IE=(k,G)=>{const pe=(k&&k[Symbol.iterator]).call(k);let Le;for(;(Le=pe.next())&&!Le.done;){const Ye=Le.value;G.call(k,Ye[0],Ye[1])}},kE=(k,G)=>{let ne;const pe=[];for(;(ne=k.exec(G))!==null;)pe.push(ne);return pe},FE=ff("HTMLFormElement"),_E=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ne,pe,Le){return pe.toUpperCase()+Le}),o3=(({hasOwnProperty:k})=>(G,ne)=>k.call(G,ne))(Object.prototype),zE=ff("RegExp"),j5=(k,G)=>{const ne=Object.getOwnPropertyDescriptors(k),pe={};x0(ne,(Le,Ye)=>{G(Le,Ye,k)!==!1&&(pe[Ye]=Le)}),Object.defineProperties(k,pe)},OE=k=>{j5(k,(G,ne)=>{if(eu(k)&&["arguments","caller","callee"].indexOf(ne)!==-1)return!1;const pe=k[ne];if(eu(pe)){if(G.enumerable=!1,"writable"in G){G.writable=!1;return}G.set||(G.set=()=>{throw Error("Can not rewrite read-only method '"+ne+"'")})}})},BE=(k,G)=>{const ne={},pe=Le=>{Le.forEach(Ye=>{ne[Ye]=!0})};return td(k)?pe(k):pe(String(k).split(G)),ne},NE=()=>{},UE=(k,G)=>(k=+k,Number.isFinite(k)?k:G),Zy="abcdefghijklmnopqrstuvwxyz",s3="0123456789",Z5={DIGIT:s3,ALPHA:Zy,ALPHA_DIGIT:Zy+Zy.toUpperCase()+s3},HE=(k=16,G=Z5.ALPHA_DIGIT)=>{let ne="";const{length:pe}=G;for(;k--;)ne+=G[Math.random()*pe|0];return ne};function VE(k){return!!(k&&eu(k.append)&&k[Symbol.toStringTag]==="FormData"&&k[Symbol.iterator])}const GE=k=>{const G=new Array(10),ne=(pe,Le)=>{if(Cg(pe)){if(G.indexOf(pe)>=0)return;if(!("toJSON"in pe)){G[Le]=pe;const Ye=td(pe)?[]:{};return x0(pe,(W,V)=>{const e=ne(W,Le+1);!c0(e)&&(Ye[V]=e)}),G[Le]=void 0,Ye}}return pe};return ne(k,0)},WE=ff("AsyncFunction"),YE=k=>k&&(Cg(k)||eu(k))&&eu(k.then)&&eu(k.catch),Kn={isArray:td,isArrayBuffer:H5,isBuffer:vE,isFormData:TE,isArrayBufferView:dE,isString:pE,isNumber:V5,isBoolean:gE,isObject:Cg,isPlainObject:Pp,isUndefined:c0,isDate:yE,isFile:mE,isBlob:xE,isRegExp:zE,isFunction:eu,isStream:wE,isURLSearchParams:AE,isTypedArray:DE,isFileList:bE,forEach:x0,merge:K1,extend:SE,trim:ME,stripBOM:EE,inherits:CE,toFlatObject:LE,kindOf:Sg,kindOfTest:ff,endsWith:PE,toArray:RE,forEachEntry:IE,matchAll:kE,isHTMLForm:FE,hasOwnProperty:o3,hasOwnProp:o3,reduceDescriptors:j5,freezeMethods:OE,toObjectSet:BE,toCamelCase:_E,noop:NE,toFiniteNumber:UE,findKey:G5,global:W5,isContextDefined:Y5,ALPHABET:Z5,generateString:HE,isSpecCompliantForm:VE,toJSONObject:GE,isAsyncFn:WE,isThenable:YE};function Mi(k,G,ne,pe,Le){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",G&&(this.code=G),ne&&(this.config=ne),pe&&(this.request=pe),Le&&(this.response=Le)}Kn.inherits(Mi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Kn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const X5=Mi.prototype,K5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{K5[k]={value:k}});Object.defineProperties(Mi,K5);Object.defineProperty(X5,"isAxiosError",{value:!0});Mi.from=(k,G,ne,pe,Le,Ye)=>{const W=Object.create(X5);return Kn.toFlatObject(k,W,function(e){return e!==Error.prototype},V=>V!=="isAxiosError"),Mi.call(W,k.message,G,ne,pe,Le),W.cause=k,W.name=k.name,Ye&&Object.assign(W,Ye),W};const jE=null;function J1(k){return Kn.isPlainObject(k)||Kn.isArray(k)}function J5(k){return Kn.endsWith(k,"[]")?k.slice(0,-2):k}function l3(k,G,ne){return k?k.concat(G).map(function(Le,Ye){return Le=J5(Le),!ne&&Ye?"["+Le+"]":Le}).join(ne?".":""):G}function ZE(k){return Kn.isArray(k)&&!k.some(J1)}const XE=Kn.toFlatObject(Kn,{},null,function(G){return/^is[A-Z]/.test(G)});function Lg(k,G,ne){if(!Kn.isObject(k))throw new TypeError("target must be an object");G=G||new FormData,ne=Kn.toFlatObject(ne,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,t){return!Kn.isUndefined(t[d])});const pe=ne.metaTokens,Le=ne.visitor||C,Ye=ne.dots,W=ne.indexes,e=(ne.Blob||typeof Blob<"u"&&Blob)&&Kn.isSpecCompliantForm(G);if(!Kn.isFunction(Le))throw new TypeError("visitor must be a function");function y(h){if(h===null)return"";if(Kn.isDate(h))return h.toISOString();if(!e&&Kn.isBlob(h))throw new Mi("Blob is not supported. Use a Buffer instead.");return Kn.isArrayBuffer(h)||Kn.isTypedArray(h)?e&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function C(h,d,t){let r=h;if(h&&!t&&typeof h=="object"){if(Kn.endsWith(d,"{}"))d=pe?d:d.slice(0,-2),h=JSON.stringify(h);else if(Kn.isArray(h)&&ZE(h)||(Kn.isFileList(h)||Kn.endsWith(d,"[]"))&&(r=Kn.toArray(h)))return d=J5(d),r.forEach(function(n,i){!(Kn.isUndefined(n)||n===null)&&G.append(W===!0?l3([d],i,Ye):W===null?d:d+"[]",y(n))}),!1}return J1(h)?!0:(G.append(l3(t,d,Ye),y(h)),!1)}const a=[],L=Object.assign(XE,{defaultVisitor:C,convertValue:y,isVisitable:J1});function x(h,d){if(!Kn.isUndefined(h)){if(a.indexOf(h)!==-1)throw Error("Circular reference detected in "+d.join("."));a.push(h),Kn.forEach(h,function(r,u){(!(Kn.isUndefined(r)||r===null)&&Le.call(G,r,Kn.isString(u)?u.trim():u,d,L))===!0&&x(r,d?d.concat(u):[u])}),a.pop()}}if(!Kn.isObject(k))throw new TypeError("data must be an object");return x(k),G}function u3(k){const G={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function(pe){return G[pe]})}function mx(k,G){this._pairs=[],k&&Lg(k,this,G)}const Q5=mx.prototype;Q5.append=function(G,ne){this._pairs.push([G,ne])};Q5.toString=function(G){const ne=G?function(pe){return G.call(this,pe,u3)}:u3;return this._pairs.map(function(Le){return ne(Le[0])+"="+ne(Le[1])},"").join("&")};function KE(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $5(k,G,ne){if(!G)return k;const pe=ne&&ne.encode||KE,Le=ne&&ne.serialize;let Ye;if(Le?Ye=Le(G,ne):Ye=Kn.isURLSearchParams(G)?G.toString():new mx(G,ne).toString(pe),Ye){const W=k.indexOf("#");W!==-1&&(k=k.slice(0,W)),k+=(k.indexOf("?")===-1?"?":"&")+Ye}return k}class JE{constructor(){this.handlers=[]}use(G,ne,pe){return this.handlers.push({fulfilled:G,rejected:ne,synchronous:pe?pe.synchronous:!1,runWhen:pe?pe.runWhen:null}),this.handlers.length-1}eject(G){this.handlers[G]&&(this.handlers[G]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(G){Kn.forEach(this.handlers,function(pe){pe!==null&&G(pe)})}}const f3=JE,q5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QE=typeof URLSearchParams<"u"?URLSearchParams:mx,$E=typeof FormData<"u"?FormData:null,qE=typeof Blob<"u"?Blob:null,eC=(()=>{let k;return typeof navigator<"u"&&((k=navigator.product)==="ReactNative"||k==="NativeScript"||k==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),tC=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sf={isBrowser:!0,classes:{URLSearchParams:QE,FormData:$E,Blob:qE},isStandardBrowserEnv:eC,isStandardBrowserWebWorkerEnv:tC,protocols:["http","https","file","blob","url","data"]};function rC(k,G){return Lg(k,new sf.classes.URLSearchParams,Object.assign({visitor:function(ne,pe,Le,Ye){return sf.isNode&&Kn.isBuffer(ne)?(this.append(pe,ne.toString("base64")),!1):Ye.defaultVisitor.apply(this,arguments)}},G))}function nC(k){return Kn.matchAll(/\w+|\[(\w*)]/g,k).map(G=>G[0]==="[]"?"":G[1]||G[0])}function aC(k){const G={},ne=Object.keys(k);let pe;const Le=ne.length;let Ye;for(pe=0;pe<Le;pe++)Ye=ne[pe],G[Ye]=k[Ye];return G}function eA(k){function G(ne,pe,Le,Ye){let W=ne[Ye++];const V=Number.isFinite(+W),e=Ye>=ne.length;return W=!W&&Kn.isArray(Le)?Le.length:W,e?(Kn.hasOwnProp(Le,W)?Le[W]=[Le[W],pe]:Le[W]=pe,!V):((!Le[W]||!Kn.isObject(Le[W]))&&(Le[W]=[]),G(ne,pe,Le[W],Ye)&&Kn.isArray(Le[W])&&(Le[W]=aC(Le[W])),!V)}if(Kn.isFormData(k)&&Kn.isFunction(k.entries)){const ne={};return Kn.forEachEntry(k,(pe,Le)=>{G(nC(pe),Le,ne,0)}),ne}return null}const iC={"Content-Type":void 0};function oC(k,G,ne){if(Kn.isString(k))try{return(G||JSON.parse)(k),Kn.trim(k)}catch(pe){if(pe.name!=="SyntaxError")throw pe}return(ne||JSON.stringify)(k)}const Pg={transitional:q5,adapter:["xhr","http"],transformRequest:[function(G,ne){const pe=ne.getContentType()||"",Le=pe.indexOf("application/json")>-1,Ye=Kn.isObject(G);if(Ye&&Kn.isHTMLForm(G)&&(G=new FormData(G)),Kn.isFormData(G))return Le&&Le?JSON.stringify(eA(G)):G;if(Kn.isArrayBuffer(G)||Kn.isBuffer(G)||Kn.isStream(G)||Kn.isFile(G)||Kn.isBlob(G))return G;if(Kn.isArrayBufferView(G))return G.buffer;if(Kn.isURLSearchParams(G))return ne.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),G.toString();let V;if(Ye){if(pe.indexOf("application/x-www-form-urlencoded")>-1)return rC(G,this.formSerializer).toString();if((V=Kn.isFileList(G))||pe.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Lg(V?{"files[]":G}:G,e&&new e,this.formSerializer)}}return Ye||Le?(ne.setContentType("application/json",!1),oC(G)):G}],transformResponse:[function(G){const ne=this.transitional||Pg.transitional,pe=ne&&ne.forcedJSONParsing,Le=this.responseType==="json";if(G&&Kn.isString(G)&&(pe&&!this.responseType||Le)){const W=!(ne&&ne.silentJSONParsing)&&Le;try{return JSON.parse(G)}catch(V){if(W)throw V.name==="SyntaxError"?Mi.from(V,Mi.ERR_BAD_RESPONSE,this,null,this.response):V}}return G}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sf.classes.FormData,Blob:sf.classes.Blob},validateStatus:function(G){return G>=200&&G<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Kn.forEach(["delete","get","head"],function(G){Pg.headers[G]={}});Kn.forEach(["post","put","patch"],function(G){Pg.headers[G]=Kn.merge(iC)});const xx=Pg,sC=Kn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lC=k=>{const G={};let ne,pe,Le;return k&&k.split(`
`).forEach(function(W){Le=W.indexOf(":"),ne=W.substring(0,Le).trim().toLowerCase(),pe=W.substring(Le+1).trim(),!(!ne||G[ne]&&sC[ne])&&(ne==="set-cookie"?G[ne]?G[ne].push(pe):G[ne]=[pe]:G[ne]=G[ne]?G[ne]+", "+pe:pe)}),G},c3=Symbol("internals");function kd(k){return k&&String(k).trim().toLowerCase()}function Rp(k){return k===!1||k==null?k:Kn.isArray(k)?k.map(Rp):String(k)}function uC(k){const G=Object.create(null),ne=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let pe;for(;pe=ne.exec(k);)G[pe[1]]=pe[2];return G}const fC=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function Xy(k,G,ne,pe,Le){if(Kn.isFunction(pe))return pe.call(this,G,ne);if(Le&&(G=ne),!!Kn.isString(G)){if(Kn.isString(pe))return G.indexOf(pe)!==-1;if(Kn.isRegExp(pe))return pe.test(G)}}function cC(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(G,ne,pe)=>ne.toUpperCase()+pe)}function hC(k,G){const ne=Kn.toCamelCase(" "+G);["get","set","has"].forEach(pe=>{Object.defineProperty(k,pe+ne,{value:function(Le,Ye,W){return this[pe].call(this,G,Le,Ye,W)},configurable:!0})})}class Rg{constructor(G){G&&this.set(G)}set(G,ne,pe){const Le=this;function Ye(V,e,y){const C=kd(e);if(!C)throw new Error("header name must be a non-empty string");const a=Kn.findKey(Le,C);(!a||Le[a]===void 0||y===!0||y===void 0&&Le[a]!==!1)&&(Le[a||e]=Rp(V))}const W=(V,e)=>Kn.forEach(V,(y,C)=>Ye(y,C,e));return Kn.isPlainObject(G)||G instanceof this.constructor?W(G,ne):Kn.isString(G)&&(G=G.trim())&&!fC(G)?W(lC(G),ne):G!=null&&Ye(ne,G,pe),this}get(G,ne){if(G=kd(G),G){const pe=Kn.findKey(this,G);if(pe){const Le=this[pe];if(!ne)return Le;if(ne===!0)return uC(Le);if(Kn.isFunction(ne))return ne.call(this,Le,pe);if(Kn.isRegExp(ne))return ne.exec(Le);throw new TypeError("parser must be boolean|regexp|function")}}}has(G,ne){if(G=kd(G),G){const pe=Kn.findKey(this,G);return!!(pe&&this[pe]!==void 0&&(!ne||Xy(this,this[pe],pe,ne)))}return!1}delete(G,ne){const pe=this;let Le=!1;function Ye(W){if(W=kd(W),W){const V=Kn.findKey(pe,W);V&&(!ne||Xy(pe,pe[V],V,ne))&&(delete pe[V],Le=!0)}}return Kn.isArray(G)?G.forEach(Ye):Ye(G),Le}clear(G){const ne=Object.keys(this);let pe=ne.length,Le=!1;for(;pe--;){const Ye=ne[pe];(!G||Xy(this,this[Ye],Ye,G,!0))&&(delete this[Ye],Le=!0)}return Le}normalize(G){const ne=this,pe={};return Kn.forEach(this,(Le,Ye)=>{const W=Kn.findKey(pe,Ye);if(W){ne[W]=Rp(Le),delete ne[Ye];return}const V=G?cC(Ye):String(Ye).trim();V!==Ye&&delete ne[Ye],ne[V]=Rp(Le),pe[V]=!0}),this}concat(...G){return this.constructor.concat(this,...G)}toJSON(G){const ne=Object.create(null);return Kn.forEach(this,(pe,Le)=>{pe!=null&&pe!==!1&&(ne[Le]=G&&Kn.isArray(pe)?pe.join(", "):pe)}),ne}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([G,ne])=>G+": "+ne).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(G){return G instanceof this?G:new this(G)}static concat(G,...ne){const pe=new this(G);return ne.forEach(Le=>pe.set(Le)),pe}static accessor(G){const pe=(this[c3]=this[c3]={accessors:{}}).accessors,Le=this.prototype;function Ye(W){const V=kd(W);pe[V]||(hC(Le,W),pe[V]=!0)}return Kn.isArray(G)?G.forEach(Ye):Ye(G),this}}Rg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Kn.freezeMethods(Rg.prototype);Kn.freezeMethods(Rg);const Xf=Rg;function Ky(k,G){const ne=this||xx,pe=G||ne,Le=Xf.from(pe.headers);let Ye=pe.data;return Kn.forEach(k,function(V){Ye=V.call(ne,Ye,Le.normalize(),G?G.status:void 0)}),Le.normalize(),Ye}function tA(k){return!!(k&&k.__CANCEL__)}function b0(k,G,ne){Mi.call(this,k??"canceled",Mi.ERR_CANCELED,G,ne),this.name="CanceledError"}Kn.inherits(b0,Mi,{__CANCEL__:!0});function vC(k,G,ne){const pe=ne.config.validateStatus;!ne.status||!pe||pe(ne.status)?k(ne):G(new Mi("Request failed with status code "+ne.status,[Mi.ERR_BAD_REQUEST,Mi.ERR_BAD_RESPONSE][Math.floor(ne.status/100)-4],ne.config,ne.request,ne))}const dC=sf.isStandardBrowserEnv?function(){return{write:function(ne,pe,Le,Ye,W,V){const e=[];e.push(ne+"="+encodeURIComponent(pe)),Kn.isNumber(Le)&&e.push("expires="+new Date(Le).toGMTString()),Kn.isString(Ye)&&e.push("path="+Ye),Kn.isString(W)&&e.push("domain="+W),V===!0&&e.push("secure"),document.cookie=e.join("; ")},read:function(ne){const pe=document.cookie.match(new RegExp("(^|;\\s*)("+ne+")=([^;]*)"));return pe?decodeURIComponent(pe[3]):null},remove:function(ne){this.write(ne,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pC(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function gC(k,G){return G?k.replace(/\/+$/,"")+"/"+G.replace(/^\/+/,""):k}function rA(k,G){return k&&!pC(G)?gC(k,G):G}const yC=sf.isStandardBrowserEnv?function(){const G=/(msie|trident)/i.test(navigator.userAgent),ne=document.createElement("a");let pe;function Le(Ye){let W=Ye;return G&&(ne.setAttribute("href",W),W=ne.href),ne.setAttribute("href",W),{href:ne.href,protocol:ne.protocol?ne.protocol.replace(/:$/,""):"",host:ne.host,search:ne.search?ne.search.replace(/^\?/,""):"",hash:ne.hash?ne.hash.replace(/^#/,""):"",hostname:ne.hostname,port:ne.port,pathname:ne.pathname.charAt(0)==="/"?ne.pathname:"/"+ne.pathname}}return pe=Le(window.location.href),function(W){const V=Kn.isString(W)?Le(W):W;return V.protocol===pe.protocol&&V.host===pe.host}}():function(){return function(){return!0}}();function mC(k){const G=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return G&&G[1]||""}function xC(k,G){k=k||10;const ne=new Array(k),pe=new Array(k);let Le=0,Ye=0,W;return G=G!==void 0?G:1e3,function(e){const y=Date.now(),C=pe[Ye];W||(W=y),ne[Le]=e,pe[Le]=y;let a=Ye,L=0;for(;a!==Le;)L+=ne[a++],a=a%k;if(Le=(Le+1)%k,Le===Ye&&(Ye=(Ye+1)%k),y-W<G)return;const x=C&&y-C;return x?Math.round(L*1e3/x):void 0}}function h3(k,G){let ne=0;const pe=xC(50,250);return Le=>{const Ye=Le.loaded,W=Le.lengthComputable?Le.total:void 0,V=Ye-ne,e=pe(V),y=Ye<=W;ne=Ye;const C={loaded:Ye,total:W,progress:W?Ye/W:void 0,bytes:V,rate:e||void 0,estimated:e&&W&&y?(W-Ye)/e:void 0,event:Le};C[G?"download":"upload"]=!0,k(C)}}const bC=typeof XMLHttpRequest<"u",wC=bC&&function(k){return new Promise(function(ne,pe){let Le=k.data;const Ye=Xf.from(k.headers).normalize(),W=k.responseType;let V;function e(){k.cancelToken&&k.cancelToken.unsubscribe(V),k.signal&&k.signal.removeEventListener("abort",V)}Kn.isFormData(Le)&&(sf.isStandardBrowserEnv||sf.isStandardBrowserWebWorkerEnv?Ye.setContentType(!1):Ye.setContentType("multipart/form-data;",!1));let y=new XMLHttpRequest;if(k.auth){const x=k.auth.username||"",h=k.auth.password?unescape(encodeURIComponent(k.auth.password)):"";Ye.set("Authorization","Basic "+btoa(x+":"+h))}const C=rA(k.baseURL,k.url);y.open(k.method.toUpperCase(),$5(C,k.params,k.paramsSerializer),!0),y.timeout=k.timeout;function a(){if(!y)return;const x=Xf.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),d={data:!W||W==="text"||W==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:k,request:y};vC(function(r){ne(r),e()},function(r){pe(r),e()},d),y=null}if("onloadend"in y?y.onloadend=a:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(a)},y.onabort=function(){y&&(pe(new Mi("Request aborted",Mi.ECONNABORTED,k,y)),y=null)},y.onerror=function(){pe(new Mi("Network Error",Mi.ERR_NETWORK,k,y)),y=null},y.ontimeout=function(){let h=k.timeout?"timeout of "+k.timeout+"ms exceeded":"timeout exceeded";const d=k.transitional||q5;k.timeoutErrorMessage&&(h=k.timeoutErrorMessage),pe(new Mi(h,d.clarifyTimeoutError?Mi.ETIMEDOUT:Mi.ECONNABORTED,k,y)),y=null},sf.isStandardBrowserEnv){const x=(k.withCredentials||yC(C))&&k.xsrfCookieName&&dC.read(k.xsrfCookieName);x&&Ye.set(k.xsrfHeaderName,x)}Le===void 0&&Ye.setContentType(null),"setRequestHeader"in y&&Kn.forEach(Ye.toJSON(),function(h,d){y.setRequestHeader(d,h)}),Kn.isUndefined(k.withCredentials)||(y.withCredentials=!!k.withCredentials),W&&W!=="json"&&(y.responseType=k.responseType),typeof k.onDownloadProgress=="function"&&y.addEventListener("progress",h3(k.onDownloadProgress,!0)),typeof k.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",h3(k.onUploadProgress)),(k.cancelToken||k.signal)&&(V=x=>{y&&(pe(!x||x.type?new b0(null,k,y):x),y.abort(),y=null)},k.cancelToken&&k.cancelToken.subscribe(V),k.signal&&(k.signal.aborted?V():k.signal.addEventListener("abort",V)));const L=mC(C);if(L&&sf.protocols.indexOf(L)===-1){pe(new Mi("Unsupported protocol "+L+":",Mi.ERR_BAD_REQUEST,k));return}y.send(Le||null)})},Dp={http:jE,xhr:wC};Kn.forEach(Dp,(k,G)=>{if(k){try{Object.defineProperty(k,"name",{value:G})}catch{}Object.defineProperty(k,"adapterName",{value:G})}});const TC={getAdapter:k=>{k=Kn.isArray(k)?k:[k];const{length:G}=k;let ne,pe;for(let Le=0;Le<G&&(ne=k[Le],!(pe=Kn.isString(ne)?Dp[ne.toLowerCase()]:ne));Le++);if(!pe)throw pe===!1?new Mi(`Adapter ${ne} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Kn.hasOwnProp(Dp,ne)?`Adapter '${ne}' is not available in the build`:`Unknown adapter '${ne}'`);if(!Kn.isFunction(pe))throw new TypeError("adapter is not a function");return pe},adapters:Dp};function Jy(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new b0(null,k)}function v3(k){return Jy(k),k.headers=Xf.from(k.headers),k.data=Ky.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),TC.getAdapter(k.adapter||xx.adapter)(k).then(function(pe){return Jy(k),pe.data=Ky.call(k,k.transformResponse,pe),pe.headers=Xf.from(pe.headers),pe},function(pe){return tA(pe)||(Jy(k),pe&&pe.response&&(pe.response.data=Ky.call(k,k.transformResponse,pe.response),pe.response.headers=Xf.from(pe.response.headers))),Promise.reject(pe)})}const d3=k=>k instanceof Xf?k.toJSON():k;function Kv(k,G){G=G||{};const ne={};function pe(y,C,a){return Kn.isPlainObject(y)&&Kn.isPlainObject(C)?Kn.merge.call({caseless:a},y,C):Kn.isPlainObject(C)?Kn.merge({},C):Kn.isArray(C)?C.slice():C}function Le(y,C,a){if(Kn.isUndefined(C)){if(!Kn.isUndefined(y))return pe(void 0,y,a)}else return pe(y,C,a)}function Ye(y,C){if(!Kn.isUndefined(C))return pe(void 0,C)}function W(y,C){if(Kn.isUndefined(C)){if(!Kn.isUndefined(y))return pe(void 0,y)}else return pe(void 0,C)}function V(y,C,a){if(a in G)return pe(y,C);if(a in k)return pe(void 0,y)}const e={url:Ye,method:Ye,data:Ye,baseURL:W,transformRequest:W,transformResponse:W,paramsSerializer:W,timeout:W,timeoutMessage:W,withCredentials:W,adapter:W,responseType:W,xsrfCookieName:W,xsrfHeaderName:W,onUploadProgress:W,onDownloadProgress:W,decompress:W,maxContentLength:W,maxBodyLength:W,beforeRedirect:W,transport:W,httpAgent:W,httpsAgent:W,cancelToken:W,socketPath:W,responseEncoding:W,validateStatus:V,headers:(y,C)=>Le(d3(y),d3(C),!0)};return Kn.forEach(Object.keys(Object.assign({},k,G)),function(C){const a=e[C]||Le,L=a(k[C],G[C],C);Kn.isUndefined(L)&&a!==V||(ne[C]=L)}),ne}const nA="1.4.0",bx={};["object","boolean","number","function","string","symbol"].forEach((k,G)=>{bx[k]=function(pe){return typeof pe===k||"a"+(G<1?"n ":" ")+k}});const p3={};bx.transitional=function(G,ne,pe){function Le(Ye,W){return"[Axios v"+nA+"] Transitional option '"+Ye+"'"+W+(pe?". "+pe:"")}return(Ye,W,V)=>{if(G===!1)throw new Mi(Le(W," has been removed"+(ne?" in "+ne:"")),Mi.ERR_DEPRECATED);return ne&&!p3[W]&&(p3[W]=!0,console.warn(Le(W," has been deprecated since v"+ne+" and will be removed in the near future"))),G?G(Ye,W,V):!0}};function AC(k,G,ne){if(typeof k!="object")throw new Mi("options must be an object",Mi.ERR_BAD_OPTION_VALUE);const pe=Object.keys(k);let Le=pe.length;for(;Le-- >0;){const Ye=pe[Le],W=G[Ye];if(W){const V=k[Ye],e=V===void 0||W(V,Ye,k);if(e!==!0)throw new Mi("option "+Ye+" must be "+e,Mi.ERR_BAD_OPTION_VALUE);continue}if(ne!==!0)throw new Mi("Unknown option "+Ye,Mi.ERR_BAD_OPTION)}}const Q1={assertOptions:AC,validators:bx},kc=Q1.validators;class ag{constructor(G){this.defaults=G,this.interceptors={request:new f3,response:new f3}}request(G,ne){typeof G=="string"?(ne=ne||{},ne.url=G):ne=G||{},ne=Kv(this.defaults,ne);const{transitional:pe,paramsSerializer:Le,headers:Ye}=ne;pe!==void 0&&Q1.assertOptions(pe,{silentJSONParsing:kc.transitional(kc.boolean),forcedJSONParsing:kc.transitional(kc.boolean),clarifyTimeoutError:kc.transitional(kc.boolean)},!1),Le!=null&&(Kn.isFunction(Le)?ne.paramsSerializer={serialize:Le}:Q1.assertOptions(Le,{encode:kc.function,serialize:kc.function},!0)),ne.method=(ne.method||this.defaults.method||"get").toLowerCase();let W;W=Ye&&Kn.merge(Ye.common,Ye[ne.method]),W&&Kn.forEach(["delete","get","head","post","put","patch","common"],h=>{delete Ye[h]}),ne.headers=Xf.concat(W,Ye);const V=[];let e=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(ne)===!1||(e=e&&d.synchronous,V.unshift(d.fulfilled,d.rejected))});const y=[];this.interceptors.response.forEach(function(d){y.push(d.fulfilled,d.rejected)});let C,a=0,L;if(!e){const h=[v3.bind(this),void 0];for(h.unshift.apply(h,V),h.push.apply(h,y),L=h.length,C=Promise.resolve(ne);a<L;)C=C.then(h[a++],h[a++]);return C}L=V.length;let x=ne;for(a=0;a<L;){const h=V[a++],d=V[a++];try{x=h(x)}catch(t){d.call(this,t);break}}try{C=v3.call(this,x)}catch(h){return Promise.reject(h)}for(a=0,L=y.length;a<L;)C=C.then(y[a++],y[a++]);return C}getUri(G){G=Kv(this.defaults,G);const ne=rA(G.baseURL,G.url);return $5(ne,G.params,G.paramsSerializer)}}Kn.forEach(["delete","get","head","options"],function(G){ag.prototype[G]=function(ne,pe){return this.request(Kv(pe||{},{method:G,url:ne,data:(pe||{}).data}))}});Kn.forEach(["post","put","patch"],function(G){function ne(pe){return function(Ye,W,V){return this.request(Kv(V||{},{method:G,headers:pe?{"Content-Type":"multipart/form-data"}:{},url:Ye,data:W}))}}ag.prototype[G]=ne(),ag.prototype[G+"Form"]=ne(!0)});const Ip=ag;class wx{constructor(G){if(typeof G!="function")throw new TypeError("executor must be a function.");let ne;this.promise=new Promise(function(Ye){ne=Ye});const pe=this;this.promise.then(Le=>{if(!pe._listeners)return;let Ye=pe._listeners.length;for(;Ye-- >0;)pe._listeners[Ye](Le);pe._listeners=null}),this.promise.then=Le=>{let Ye;const W=new Promise(V=>{pe.subscribe(V),Ye=V}).then(Le);return W.cancel=function(){pe.unsubscribe(Ye)},W},G(function(Ye,W,V){pe.reason||(pe.reason=new b0(Ye,W,V),ne(pe.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(G){if(this.reason){G(this.reason);return}this._listeners?this._listeners.push(G):this._listeners=[G]}unsubscribe(G){if(!this._listeners)return;const ne=this._listeners.indexOf(G);ne!==-1&&this._listeners.splice(ne,1)}static source(){let G;return{token:new wx(function(Le){G=Le}),cancel:G}}}const MC=wx;function SC(k){return function(ne){return k.apply(null,ne)}}function EC(k){return Kn.isObject(k)&&k.isAxiosError===!0}const $1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($1).forEach(([k,G])=>{$1[G]=k});const CC=$1;function aA(k){const G=new Ip(k),ne=U5(Ip.prototype.request,G);return Kn.extend(ne,Ip.prototype,G,{allOwnKeys:!0}),Kn.extend(ne,G,null,{allOwnKeys:!0}),ne.create=function(Le){return aA(Kv(k,Le))},ne}const Vo=aA(xx);Vo.Axios=Ip;Vo.CanceledError=b0;Vo.CancelToken=MC;Vo.isCancel=tA;Vo.VERSION=nA;Vo.toFormData=Lg;Vo.AxiosError=Mi;Vo.Cancel=Vo.CanceledError;Vo.all=function(G){return Promise.all(G)};Vo.spread=SC;Vo.isAxiosError=EC;Vo.mergeConfig=Kv;Vo.AxiosHeaders=Xf;Vo.formToJSON=k=>eA(Kn.isHTMLForm(k)?new FormData(k):k);Vo.HttpStatusCode=CC;Vo.default=Vo;const jh=Vo;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(k){for(var G=1;G<arguments.length;G++){var ne=arguments[G];for(var pe in ne)Object.prototype.hasOwnProperty.call(ne,pe)&&(k[pe]=ne[pe])}return k},h0.apply(this,arguments)}var Hc;(function(k){k.Pop="POP",k.Push="PUSH",k.Replace="REPLACE"})(Hc||(Hc={}));const g3="popstate";function LC(k){k===void 0&&(k={});function G(pe,Le){let{pathname:Ye,search:W,hash:V}=pe.location;return q1("",{pathname:Ye,search:W,hash:V},Le.state&&Le.state.usr||null,Le.state&&Le.state.key||"default")}function ne(pe,Le){return typeof Le=="string"?Le:iA(Le)}return RC(G,ne,null,k)}function Fo(k,G){if(k===!1||k===null||typeof k>"u")throw new Error(G)}function Tx(k,G){if(!k){typeof console<"u"&&console.warn(G);try{throw new Error(G)}catch{}}}function PC(){return Math.random().toString(36).substr(2,8)}function y3(k,G){return{usr:k.state,key:k.key,idx:G}}function q1(k,G,ne,pe){return ne===void 0&&(ne=null),h0({pathname:typeof k=="string"?k:k.pathname,search:"",hash:""},typeof G=="string"?rd(G):G,{state:ne,key:G&&G.key||pe||PC()})}function iA(k){let{pathname:G="/",search:ne="",hash:pe=""}=k;return ne&&ne!=="?"&&(G+=ne.charAt(0)==="?"?ne:"?"+ne),pe&&pe!=="#"&&(G+=pe.charAt(0)==="#"?pe:"#"+pe),G}function rd(k){let G={};if(k){let ne=k.indexOf("#");ne>=0&&(G.hash=k.substr(ne),k=k.substr(0,ne));let pe=k.indexOf("?");pe>=0&&(G.search=k.substr(pe),k=k.substr(0,pe)),k&&(G.pathname=k)}return G}function RC(k,G,ne,pe){pe===void 0&&(pe={});let{window:Le=document.defaultView,v5Compat:Ye=!1}=pe,W=Le.history,V=Hc.Pop,e=null,y=C();y==null&&(y=0,W.replaceState(h0({},W.state,{idx:y}),""));function C(){return(W.state||{idx:null}).idx}function a(){V=Hc.Pop;let t=C(),r=t==null?null:t-y;y=t,e&&e({action:V,location:d.location,delta:r})}function L(t,r){V=Hc.Push;let u=q1(d.location,t,r);ne&&ne(u,t),y=C()+1;let n=y3(u,y),i=d.createHref(u);try{W.pushState(n,"",i)}catch(s){if(s instanceof DOMException&&s.name==="DataCloneError")throw s;Le.location.assign(i)}Ye&&e&&e({action:V,location:d.location,delta:1})}function x(t,r){V=Hc.Replace;let u=q1(d.location,t,r);ne&&ne(u,t),y=C();let n=y3(u,y),i=d.createHref(u);W.replaceState(n,"",i),Ye&&e&&e({action:V,location:d.location,delta:0})}function h(t){let r=Le.location.origin!=="null"?Le.location.origin:Le.location.href,u=typeof t=="string"?t:iA(t);return Fo(r,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,r)}let d={get action(){return V},get location(){return k(Le,W)},listen(t){if(e)throw new Error("A history only accepts one active listener");return Le.addEventListener(g3,a),e=t,()=>{Le.removeEventListener(g3,a),e=null}},createHref(t){return G(Le,t)},createURL:h,encodeLocation(t){let r=h(t);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:L,replace:x,go(t){return W.go(t)}};return d}var m3;(function(k){k.data="data",k.deferred="deferred",k.redirect="redirect",k.error="error"})(m3||(m3={}));function DC(k,G,ne){ne===void 0&&(ne="/");let pe=typeof G=="string"?rd(G):G,Le=lA(pe.pathname||"/",ne);if(Le==null)return null;let Ye=oA(k);IC(Ye);let W=null;for(let V=0;W==null&&V<Ye.length;++V)W=HC(Ye[V],WC(Le));return W}function oA(k,G,ne,pe){G===void 0&&(G=[]),ne===void 0&&(ne=[]),pe===void 0&&(pe="");let Le=(Ye,W,V)=>{let e={relativePath:V===void 0?Ye.path||"":V,caseSensitive:Ye.caseSensitive===!0,childrenIndex:W,route:Ye};e.relativePath.startsWith("/")&&(Fo(e.relativePath.startsWith(pe),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+pe+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(pe.length));let y=Uh([pe,e.relativePath]),C=ne.concat(e);Ye.children&&Ye.children.length>0&&(Fo(Ye.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),oA(Ye.children,G,C,y)),!(Ye.path==null&&!Ye.index)&&G.push({path:y,score:NC(y,Ye.index),routesMeta:C})};return k.forEach((Ye,W)=>{var V;if(Ye.path===""||!((V=Ye.path)!=null&&V.includes("?")))Le(Ye,W);else for(let e of sA(Ye.path))Le(Ye,W,e)}),G}function sA(k){let G=k.split("/");if(G.length===0)return[];let[ne,...pe]=G,Le=ne.endsWith("?"),Ye=ne.replace(/\?$/,"");if(pe.length===0)return Le?[Ye,""]:[Ye];let W=sA(pe.join("/")),V=[];return V.push(...W.map(e=>e===""?Ye:[Ye,e].join("/"))),Le&&V.push(...W),V.map(e=>k.startsWith("/")&&e===""?"/":e)}function IC(k){k.sort((G,ne)=>G.score!==ne.score?ne.score-G.score:UC(G.routesMeta.map(pe=>pe.childrenIndex),ne.routesMeta.map(pe=>pe.childrenIndex)))}const kC=/^:\w+$/,FC=3,_C=2,zC=1,OC=10,BC=-2,x3=k=>k==="*";function NC(k,G){let ne=k.split("/"),pe=ne.length;return ne.some(x3)&&(pe+=BC),G&&(pe+=_C),ne.filter(Le=>!x3(Le)).reduce((Le,Ye)=>Le+(kC.test(Ye)?FC:Ye===""?zC:OC),pe)}function UC(k,G){return k.length===G.length&&k.slice(0,-1).every((pe,Le)=>pe===G[Le])?k[k.length-1]-G[G.length-1]:0}function HC(k,G){let{routesMeta:ne}=k,pe={},Le="/",Ye=[];for(let W=0;W<ne.length;++W){let V=ne[W],e=W===ne.length-1,y=Le==="/"?G:G.slice(Le.length)||"/",C=VC({path:V.relativePath,caseSensitive:V.caseSensitive,end:e},y);if(!C)return null;Object.assign(pe,C.params);let a=V.route;Ye.push({params:pe,pathname:Uh([Le,C.pathname]),pathnameBase:XC(Uh([Le,C.pathnameBase])),route:a}),C.pathnameBase!=="/"&&(Le=Uh([Le,C.pathnameBase]))}return Ye}function VC(k,G){typeof k=="string"&&(k={path:k,caseSensitive:!1,end:!0});let[ne,pe]=GC(k.path,k.caseSensitive,k.end),Le=G.match(ne);if(!Le)return null;let Ye=Le[0],W=Ye.replace(/(.)\/+$/,"$1"),V=Le.slice(1);return{params:pe.reduce((y,C,a)=>{if(C==="*"){let L=V[a]||"";W=Ye.slice(0,Ye.length-L.length).replace(/(.)\/+$/,"$1")}return y[C]=YC(V[a]||"",C),y},{}),pathname:Ye,pathnameBase:W,pattern:k}}function GC(k,G,ne){G===void 0&&(G=!1),ne===void 0&&(ne=!0),Tx(k==="*"||!k.endsWith("*")||k.endsWith("/*"),'Route path "'+k+'" will be treated as if it were '+('"'+k.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+k.replace(/\*$/,"/*")+'".'));let pe=[],Le="^"+k.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(W,V)=>(pe.push(V),"/([^\\/]+)"));return k.endsWith("*")?(pe.push("*"),Le+=k==="*"||k==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ne?Le+="\\/*$":k!==""&&k!=="/"&&(Le+="(?:(?=\\/|$))"),[new RegExp(Le,G?void 0:"i"),pe]}function WC(k){try{return decodeURI(k)}catch(G){return Tx(!1,'The URL path "'+k+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+G+").")),k}}function YC(k,G){try{return decodeURIComponent(k)}catch(ne){return Tx(!1,'The value for the URL param "'+G+'" will not be decoded because'+(' the string "'+k+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+ne+").")),k}}function lA(k,G){if(G==="/")return k;if(!k.toLowerCase().startsWith(G.toLowerCase()))return null;let ne=G.endsWith("/")?G.length-1:G.length,pe=k.charAt(ne);return pe&&pe!=="/"?null:k.slice(ne)||"/"}function jC(k,G){G===void 0&&(G="/");let{pathname:ne,search:pe="",hash:Le=""}=typeof k=="string"?rd(k):k;return{pathname:ne?ne.startsWith("/")?ne:ZC(ne,G):G,search:KC(pe),hash:JC(Le)}}function ZC(k,G){let ne=G.replace(/\/+$/,"").split("/");return k.split("/").forEach(Le=>{Le===".."?ne.length>1&&ne.pop():Le!=="."&&ne.push(Le)}),ne.length>1?ne.join("/"):"/"}function Qy(k,G,ne,pe){return"Cannot include a '"+k+"' character in a manually specified "+("`to."+G+"` field ["+JSON.stringify(pe)+"].  Please separate it out to the ")+("`to."+ne+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uA(k){return k.filter((G,ne)=>ne===0||G.route.path&&G.route.path.length>0)}function fA(k,G,ne,pe){pe===void 0&&(pe=!1);let Le;typeof k=="string"?Le=rd(k):(Le=h0({},k),Fo(!Le.pathname||!Le.pathname.includes("?"),Qy("?","pathname","search",Le)),Fo(!Le.pathname||!Le.pathname.includes("#"),Qy("#","pathname","hash",Le)),Fo(!Le.search||!Le.search.includes("#"),Qy("#","search","hash",Le)));let Ye=k===""||Le.pathname==="",W=Ye?"/":Le.pathname,V;if(pe||W==null)V=ne;else{let a=G.length-1;if(W.startsWith("..")){let L=W.split("/");for(;L[0]==="..";)L.shift(),a-=1;Le.pathname=L.join("/")}V=a>=0?G[a]:"/"}let e=jC(Le,V),y=W&&W!=="/"&&W.endsWith("/"),C=(Ye||W===".")&&ne.endsWith("/");return!e.pathname.endsWith("/")&&(y||C)&&(e.pathname+="/"),e}const Uh=k=>k.join("/").replace(/\/\/+/g,"/"),XC=k=>k.replace(/\/+$/,"").replace(/^\/*/,"/"),KC=k=>!k||k==="?"?"":k.startsWith("?")?k:"?"+k,JC=k=>!k||k==="#"?"":k.startsWith("#")?k:"#"+k;function QC(k){return k!=null&&typeof k.status=="number"&&typeof k.statusText=="string"&&typeof k.internal=="boolean"&&"data"in k}const cA=["post","put","patch","delete"];new Set(cA);const $C=["get",...cA];new Set($C);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(k){for(var G=1;G<arguments.length;G++){var ne=arguments[G];for(var pe in ne)Object.prototype.hasOwnProperty.call(ne,pe)&&(k[pe]=ne[pe])}return k},ig.apply(this,arguments)}const Ax=ua.createContext(null),qC=ua.createContext(null),Dg=ua.createContext(null),Ig=ua.createContext(null),Kh=ua.createContext({outlet:null,matches:[],isDataRoute:!1}),hA=ua.createContext(null);function w0(){return ua.useContext(Ig)!=null}function Mx(){return w0()||Fo(!1),ua.useContext(Ig).location}function vA(k){ua.useContext(Dg).static||ua.useLayoutEffect(k)}function Sx(){let{isDataRoute:k}=ua.useContext(Kh);return k?h7():e7()}function e7(){w0()||Fo(!1);let k=ua.useContext(Ax),{basename:G,navigator:ne}=ua.useContext(Dg),{matches:pe}=ua.useContext(Kh),{pathname:Le}=Mx(),Ye=JSON.stringify(uA(pe).map(e=>e.pathnameBase)),W=ua.useRef(!1);return vA(()=>{W.current=!0}),ua.useCallback(function(e,y){if(y===void 0&&(y={}),!W.current)return;if(typeof e=="number"){ne.go(e);return}let C=fA(e,JSON.parse(Ye),Le,y.relative==="path");k==null&&G!=="/"&&(C.pathname=C.pathname==="/"?G:Uh([G,C.pathname])),(y.replace?ne.replace:ne.push)(C,y.state,y)},[G,ne,Ye,Le,k])}function t7(k,G){return r7(k,G)}function r7(k,G,ne){w0()||Fo(!1);let{navigator:pe}=ua.useContext(Dg),{matches:Le}=ua.useContext(Kh),Ye=Le[Le.length-1],W=Ye?Ye.params:{};Ye&&Ye.pathname;let V=Ye?Ye.pathnameBase:"/";Ye&&Ye.route;let e=Mx(),y;if(G){var C;let d=typeof G=="string"?rd(G):G;V==="/"||(C=d.pathname)!=null&&C.startsWith(V)||Fo(!1),y=d}else y=e;let a=y.pathname||"/",L=V==="/"?a:a.slice(V.length)||"/",x=DC(k,{pathname:L}),h=s7(x&&x.map(d=>Object.assign({},d,{params:Object.assign({},W,d.params),pathname:Uh([V,pe.encodeLocation?pe.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?V:Uh([V,pe.encodeLocation?pe.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),Le,ne);return G&&h?ua.createElement(Ig.Provider,{value:{location:ig({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Hc.Pop}},h):h}function n7(){let k=c7(),G=QC(k)?k.status+" "+k.statusText:k instanceof Error?k.message:JSON.stringify(k),ne=k instanceof Error?k.stack:null,Le={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Ye=null;return ua.createElement(ua.Fragment,null,ua.createElement("h2",null,"Unexpected Application Error!"),ua.createElement("h3",{style:{fontStyle:"italic"}},G),ne?ua.createElement("pre",{style:Le},ne):null,Ye)}const a7=ua.createElement(n7,null);class i7 extends ua.Component{constructor(G){super(G),this.state={location:G.location,revalidation:G.revalidation,error:G.error}}static getDerivedStateFromError(G){return{error:G}}static getDerivedStateFromProps(G,ne){return ne.location!==G.location||ne.revalidation!=="idle"&&G.revalidation==="idle"?{error:G.error,location:G.location,revalidation:G.revalidation}:{error:G.error||ne.error,location:ne.location,revalidation:G.revalidation||ne.revalidation}}componentDidCatch(G,ne){console.error("React Router caught the following error during render",G,ne)}render(){return this.state.error?ua.createElement(Kh.Provider,{value:this.props.routeContext},ua.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o7(k){let{routeContext:G,match:ne,children:pe}=k,Le=ua.useContext(Ax);return Le&&Le.static&&Le.staticContext&&(ne.route.errorElement||ne.route.ErrorBoundary)&&(Le.staticContext._deepestRenderedBoundaryId=ne.route.id),ua.createElement(Kh.Provider,{value:G},pe)}function s7(k,G,ne){var pe;if(G===void 0&&(G=[]),ne===void 0&&(ne=null),k==null){var Le;if((Le=ne)!=null&&Le.errors)k=ne.matches;else return null}let Ye=k,W=(pe=ne)==null?void 0:pe.errors;if(W!=null){let V=Ye.findIndex(e=>e.route.id&&(W==null?void 0:W[e.route.id]));V>=0||Fo(!1),Ye=Ye.slice(0,Math.min(Ye.length,V+1))}return Ye.reduceRight((V,e,y)=>{let C=e.route.id?W==null?void 0:W[e.route.id]:null,a=null;ne&&(a=e.route.errorElement||a7);let L=G.concat(Ye.slice(0,y+1)),x=()=>{let h;return C?h=a:e.route.Component?h=ua.createElement(e.route.Component,null):e.route.element?h=e.route.element:h=V,ua.createElement(o7,{match:e,routeContext:{outlet:V,matches:L,isDataRoute:ne!=null},children:h})};return ne&&(e.route.ErrorBoundary||e.route.errorElement||y===0)?ua.createElement(i7,{location:ne.location,revalidation:ne.revalidation,component:a,error:C,children:x(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):x()},null)}var dA=function(k){return k.UseBlocker="useBlocker",k.UseRevalidator="useRevalidator",k.UseNavigateStable="useNavigate",k}(dA||{}),og=function(k){return k.UseBlocker="useBlocker",k.UseLoaderData="useLoaderData",k.UseActionData="useActionData",k.UseRouteError="useRouteError",k.UseNavigation="useNavigation",k.UseRouteLoaderData="useRouteLoaderData",k.UseMatches="useMatches",k.UseRevalidator="useRevalidator",k.UseNavigateStable="useNavigate",k.UseRouteId="useRouteId",k}(og||{});function l7(k){let G=ua.useContext(Ax);return G||Fo(!1),G}function u7(k){let G=ua.useContext(qC);return G||Fo(!1),G}function f7(k){let G=ua.useContext(Kh);return G||Fo(!1),G}function pA(k){let G=f7(),ne=G.matches[G.matches.length-1];return ne.route.id||Fo(!1),ne.route.id}function c7(){var k;let G=ua.useContext(hA),ne=u7(og.UseRouteError),pe=pA(og.UseRouteError);return G||((k=ne.errors)==null?void 0:k[pe])}function h7(){let{router:k}=l7(dA.UseNavigateStable),G=pA(og.UseNavigateStable),ne=ua.useRef(!1);return vA(()=>{ne.current=!0}),ua.useCallback(function(Le,Ye){Ye===void 0&&(Ye={}),ne.current&&(typeof Le=="number"?k.navigate(Le):k.navigate(Le,ig({fromRouteId:G},Ye)))},[k,G])}function v7(k){let{to:G,replace:ne,state:pe,relative:Le}=k;w0()||Fo(!1);let{matches:Ye}=ua.useContext(Kh),{pathname:W}=Mx(),V=Sx(),e=fA(G,uA(Ye).map(C=>C.pathnameBase),W,Le==="path"),y=JSON.stringify(e);return ua.useEffect(()=>V(JSON.parse(y),{replace:ne,state:pe,relative:Le}),[V,y,Le,ne,pe]),null}function Fc(k){Fo(!1)}function d7(k){let{basename:G="/",children:ne=null,location:pe,navigationType:Le=Hc.Pop,navigator:Ye,static:W=!1}=k;w0()&&Fo(!1);let V=G.replace(/^\/*/,"/"),e=ua.useMemo(()=>({basename:V,navigator:Ye,static:W}),[V,Ye,W]);typeof pe=="string"&&(pe=rd(pe));let{pathname:y="/",search:C="",hash:a="",state:L=null,key:x="default"}=pe,h=ua.useMemo(()=>{let d=lA(y,V);return d==null?null:{location:{pathname:d,search:C,hash:a,state:L,key:x},navigationType:Le}},[V,y,C,a,L,x,Le]);return h==null?null:ua.createElement(Dg.Provider,{value:e},ua.createElement(Ig.Provider,{children:ne,value:h}))}function p7(k){let{children:G,location:ne}=k;return t7(em(G),ne)}new Promise(()=>{});function em(k,G){G===void 0&&(G=[]);let ne=[];return ua.Children.forEach(k,(pe,Le)=>{if(!ua.isValidElement(pe))return;let Ye=[...G,Le];if(pe.type===ua.Fragment){ne.push.apply(ne,em(pe.props.children,Ye));return}pe.type!==Fc&&Fo(!1),!pe.props.index||!pe.props.children||Fo(!1);let W={id:pe.props.id||Ye.join("-"),caseSensitive:pe.props.caseSensitive,element:pe.props.element,Component:pe.props.Component,index:pe.props.index,path:pe.props.path,loader:pe.props.loader,action:pe.props.action,errorElement:pe.props.errorElement,ErrorBoundary:pe.props.ErrorBoundary,hasErrorBoundary:pe.props.ErrorBoundary!=null||pe.props.errorElement!=null,shouldRevalidate:pe.props.shouldRevalidate,handle:pe.props.handle,lazy:pe.props.lazy};pe.props.children&&(W.children=em(pe.props.children,Ye)),ne.push(W)}),ne}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const g7="startTransition",b3=r6[g7];function y7(k){let{basename:G,children:ne,future:pe,window:Le}=k,Ye=ua.useRef();Ye.current==null&&(Ye.current=LC({window:Le,v5Compat:!0}));let W=Ye.current,[V,e]=ua.useState({action:W.action,location:W.location}),{v7_startTransition:y}=pe||{},C=ua.useCallback(a=>{y&&b3?b3(()=>e(a)):e(a)},[e,y]);return ua.useLayoutEffect(()=>W.listen(C),[W,C]),ua.createElement(d7,{basename:G,children:ne,location:V.location,navigationType:V.action,navigator:W})}var w3;(function(k){k.UseScrollRestoration="useScrollRestoration",k.UseSubmit="useSubmit",k.UseSubmitFetcher="useSubmitFetcher",k.UseFetcher="useFetcher"})(w3||(w3={}));var T3;(function(k){k.UseFetchers="useFetchers",k.UseScrollRestoration="useScrollRestoration"})(T3||(T3={}));var m7={},gA={},yA={exports:{}},x7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",b7=x7,w7=b7;function mA(){}function xA(){}xA.resetWarningCache=mA;var T7=function(){function k(pe,Le,Ye,W,V,e){if(e!==w7){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}k.isRequired=k;function G(){return k}var ne={array:k,bigint:k,bool:k,func:k,number:k,object:k,string:k,symbol:k,any:k,arrayOf:G,element:k,elementType:k,instanceOf:G,node:k,objectOf:G,oneOf:G,oneOfType:G,shape:G,exact:G,checkPropTypes:xA,resetWarningCache:mA};return ne.PropTypes=ne,ne};yA.exports=T7();var kg=yA.exports;(function(k){function G(s){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},G(s)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=i;var ne=W(ua),pe=Le(kg);function Le(s){return s&&s.__esModule?s:{default:s}}function Ye(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,m=new WeakMap;return(Ye=function(b){return b?m:o})(s)}function W(s,o){if(!o&&s&&s.__esModule)return s;if(s===null||G(s)!=="object"&&typeof s!="function")return{default:s};var m=Ye(o);if(m&&m.has(s))return m.get(s);var c={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in s)if(v!=="default"&&Object.prototype.hasOwnProperty.call(s,v)){var l=b?Object.getOwnPropertyDescriptor(s,v):null;l&&(l.get||l.set)?Object.defineProperty(c,v,l):c[v]=s[v]}return c.default=s,m&&m.set(s,c),c}function V(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function e(s,o){for(var m=0;m<o.length;m++){var c=o[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}function y(s,o,m){return o&&e(s.prototype,o),m&&e(s,m),Object.defineProperty(s,"prototype",{writable:!1}),s}function C(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&a(s,o)}function a(s,o){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,b){return c.__proto__=b,c},a(s,o)}function L(s){var o=d();return function(){var c=t(s),b;if(o){var v=t(this).constructor;b=Reflect.construct(c,arguments,v)}else b=c.apply(this,arguments);return x(this,b)}}function x(s,o){if(o&&(G(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(s)}function h(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t(s){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},t(s)}var r=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],u=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function i(s){var o=function(m){C(b,m);var c=L(b);function b(v){var l;return V(this,b),l=c.call(this,v),l.p=Promise.resolve(),l.resizeHandler=null,l.handlers={},l.syncWindowResize=l.syncWindowResize.bind(h(l)),l.syncEventHandlers=l.syncEventHandlers.bind(h(l)),l.attachUpdateEvents=l.attachUpdateEvents.bind(h(l)),l.getRef=l.getRef.bind(h(l)),l.handleUpdate=l.handleUpdate.bind(h(l)),l.figureCallback=l.figureCallback.bind(h(l)),l.updatePlotly=l.updatePlotly.bind(h(l)),l}return y(b,[{key:"updatePlotly",value:function(l,p,S){var M=this;this.p=this.p.then(function(){if(!M.unmounting){if(!M.el)throw new Error("Missing element reference");return s.react(M.el,{data:M.props.data,layout:M.props.layout,config:M.props.config,frames:M.props.frames})}}).then(function(){M.unmounting||(M.syncWindowResize(l),M.syncEventHandlers(),M.figureCallback(p),S&&M.attachUpdateEvents())}).catch(function(R){M.props.onError&&M.props.onError(R)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(l){this.unmounting=!1;var p=l.frames&&l.frames.length?l.frames.length:0,S=this.props.frames&&this.props.frames.length?this.props.frames.length:0,M=!(l.layout===this.props.layout&&l.data===this.props.data&&l.config===this.props.config&&S===p),R=l.revision!==void 0,T=l.revision!==this.props.revision;!M&&(!R||R&&!T)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),s.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||u.forEach(function(p){l.el.on(p,l.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||u.forEach(function(p){l.el.removeListener(p,l.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(l){if(typeof l=="function"){var p=this.el,S=p.data,M=p.layout,R=this.el._transitionData?this.el._transitionData._frames:null,T={data:S,layout:M,frames:R};l(T,this.el)}}},{key:"syncWindowResize",value:function(l){var p=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return s.Plots.resize(p.el)},window.addEventListener("resize",this.resizeHandler),l&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(l){this.el=l,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var l=this;r.forEach(function(p){var S=l.props["on"+p],M=l.handlers[p],R=!!M;S&&!R?l.addEventHandler(p,S):!S&&R?l.removeEventHandler(p):S&&R&&S!==M&&(l.removeEventHandler(p),l.addEventHandler(p,S))})}},{key:"addEventHandler",value:function(l,p){this.handlers[l]=p,this.el.on(this.getPlotlyEventName(l),this.handlers[l])}},{key:"removeEventHandler",value:function(l){this.el.removeListener(this.getPlotlyEventName(l),this.handlers[l]),delete this.handlers[l]}},{key:"getPlotlyEventName",value:function(l){return"plotly_"+l.toLowerCase()}},{key:"render",value:function(){return ne.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),b}(ne.Component);return o.propTypes={data:pe.default.arrayOf(pe.default.object),config:pe.default.object,layout:pe.default.object,frames:pe.default.arrayOf(pe.default.object),revision:pe.default.number,onInitialized:pe.default.func,onPurge:pe.default.func,onError:pe.default.func,onUpdate:pe.default.func,debug:pe.default.bool,style:pe.default.object,className:pe.default.string,useResizeHandler:pe.default.bool,divId:pe.default.string},r.forEach(function(m){o.propTypes["on"+m]=pe.default.func}),o.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},o}})(gA);var bA={exports:{}};(function(k,G){(function(pe,Le){k.exports=Le()})(self,function(){return function(){var ne={98847:function(W,V,e){var y=e(71828),C={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in C){var L=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");y.addStyleRule(L,C[a])}},98222:function(W,V,e){W.exports=e(82887)},27206:function(W,V,e){W.exports=e(60822)},59893:function(W,V,e){W.exports=e(23381)},5224:function(W,V,e){W.exports=e(83832)},59509:function(W,V,e){W.exports=e(72201)},75557:function(W,V,e){W.exports=e(91815)},40338:function(W,V,e){W.exports=e(21462)},35080:function(W,V,e){W.exports=e(51319)},61396:function(W,V,e){W.exports=e(57516)},40549:function(W,V,e){W.exports=e(98128)},49866:function(W,V,e){W.exports=e(99442)},36089:function(W,V,e){W.exports=e(93740)},19548:function(W,V,e){W.exports=e(8729)},35831:function(W,V,e){W.exports=e(93814)},61039:function(W,V,e){W.exports=e(14382)},97040:function(W,V,e){W.exports=e(51759)},77986:function(W,V,e){W.exports=e(10421)},24296:function(W,V,e){W.exports=e(43102)},58872:function(W,V,e){W.exports=e(92165)},29626:function(W,V,e){W.exports=e(3325)},65591:function(W,V,e){W.exports=e(36071)},69738:function(W,V,e){W.exports=e(43905)},92650:function(W,V,e){W.exports=e(35902)},35630:function(W,V,e){W.exports=e(69816)},73434:function(W,V,e){W.exports=e(94507)},27909:function(W,V,e){var y=e(19548);y.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),W.exports=y},46163:function(W,V,e){W.exports=e(15154)},96881:function(W,V,e){W.exports=e(64943)},50581:function(W,V,e){W.exports=e(21164)},55334:function(W,V,e){W.exports=e(54186)},65317:function(W,V,e){W.exports=e(94873)},10021:function(W,V,e){W.exports=e(67618)},54201:function(W,V,e){W.exports=e(58810)},5861:function(W,V,e){W.exports=e(20593)},16122:function(W,V,e){W.exports=e(29396)},83043:function(W,V,e){W.exports=e(13551)},48131:function(W,V,e){W.exports=e(46858)},47582:function(W,V,e){W.exports=e(17988)},21641:function(W,V,e){W.exports=e(68868)},96268:function(W,V,e){W.exports=e(20467)},19440:function(W,V,e){W.exports=e(91271)},99488:function(W,V,e){W.exports=e(21461)},97393:function(W,V,e){W.exports=e(85956)},25743:function(W,V,e){W.exports=e(52979)},66398:function(W,V,e){W.exports=e(32275)},17280:function(W,V,e){W.exports=e(6419)},77900:function(W,V,e){W.exports=e(61510)},81299:function(W,V,e){W.exports=e(87619)},93005:function(W,V,e){W.exports=e(93601)},40344:function(W,V,e){W.exports=e(96595)},47645:function(W,V,e){W.exports=e(70954)},6197:function(W,V,e){W.exports=e(47462)},4534:function(W,V,e){W.exports=e(17659)},85461:function(W,V,e){W.exports=e(19990)},82884:function(W){W.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(W,V,e){var y=e(82884),C=e(41940),a=e(85555),L=e(44467).templatedArray;e(24695),W.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:C({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:C({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(W,V,e){var y=e(71828),C=e(89298),a=e(92605).draw;W.exports=function(d){var t=d._fullLayout,r=y.filterVisible(t.annotations);if(r.length&&d._fullData.length)return y.syncOrAsync([a,L],d)};function L(h){var d=h._fullLayout;y.filterVisible(d.annotations).forEach(function(t){var r=C.getFromId(h,t.xref),u=C.getFromId(h,t.yref),n=C.getRefType(t.xref),i=C.getRefType(t.yref);t._extremes={},n==="range"&&x(t,r),i==="range"&&x(t,u)})}function x(h,d){var t=d._id,r=t.charAt(0),u=h[r],n=h["a"+r],i=h[r+"ref"],s=h["a"+r+"ref"],o=h["_"+r+"padplus"],m=h["_"+r+"padminus"],c={x:1,y:-1}[r]*h[r+"shift"],b=3*h.arrowsize*h.arrowwidth||0,v=b+c,l=b-c,p=3*h.startarrowsize*h.arrowwidth||0,S=p+c,M=p-c,R;if(s===i){var T=C.findExtremes(d,[d.r2c(u)],{ppadplus:v,ppadminus:l}),E=C.findExtremes(d,[d.r2c(n)],{ppadplus:Math.max(o,S),ppadminus:Math.max(m,M)});R={min:[T.min[0],E.min[0]],max:[T.max[0],E.max[0]]}}else S=n?S+n:S,M=n?M-n:M,R=C.findExtremes(d,[d.r2c(u)],{ppadplus:Math.max(o,v,S),ppadminus:Math.max(m,l,M)});h._extremes[t]=R}},44317:function(W,V,e){var y=e(71828),C=e(73972),a=e(44467).arrayEditor;W.exports={hasClickToShow:L,onClick:x};function L(t,r){var u=h(t,r);return u.on.length>0||u.explicitOff.length>0}function x(t,r){var u=h(t,r),n=u.on,i=u.off.concat(u.explicitOff),s={},o=t._fullLayout.annotations,m,c;if(n.length||i.length){for(m=0;m<n.length;m++)c=a(t.layout,"annotations",o[n[m]]),c.modifyItem("visible",!0),y.extendFlat(s,c.getUpdateObj());for(m=0;m<i.length;m++)c=a(t.layout,"annotations",o[i[m]]),c.modifyItem("visible",!1),y.extendFlat(s,c.getUpdateObj());return C.call("update",t,{},s)}}function h(t,r){var u=t._fullLayout.annotations,n=[],i=[],s=[],o=(r||[]).length,m,c,b,v,l,p,S,M;for(m=0;m<u.length;m++)if(b=u[m],v=b.clicktoshow,v){for(c=0;c<o;c++)if(l=r[c],p=l.xaxis,S=l.yaxis,p._id===b.xref&&S._id===b.yref&&p.d2r(l.x)===d(b._xclick,p)&&S.d2r(l.y)===d(b._yclick,S)){b.visible?v==="onout"?M=i:M=s:M=n,M.push(m);break}c===o&&b.visible&&v==="onout"&&i.push(m)}return{on:n,off:i,explicitOff:s}}function d(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(W,V,e){var y=e(71828),C=e(7901);W.exports=function(L,x,h,d){d("opacity");var t=d("bgcolor"),r=d("bordercolor"),u=C.opacity(r);d("borderpad");var n=d("borderwidth"),i=d("showarrow");d("text",i?" ":h._dfltTitle.annotation),d("textangle"),y.coerceFont(d,"font",h.font),d("width"),d("align");var s=d("height");if(s&&d("valign"),i){var o=d("arrowside"),m,c;o.indexOf("end")!==-1&&(m=d("arrowhead"),c=d("arrowsize")),o.indexOf("start")!==-1&&(d("startarrowhead",m),d("startarrowsize",c)),d("arrowcolor",u?x.bordercolor:C.defaultLine),d("arrowwidth",(u&&n||1)*2),d("standoff"),d("startstandoff")}var b=d("hovertext"),v=h.hoverlabel||{};if(b){var l=d("hoverlabel.bgcolor",v.bgcolor||(C.opacity(t)?C.rgb(t):C.defaultLine)),p=d("hoverlabel.bordercolor",v.bordercolor||C.contrast(l));y.coerceFont(d,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||p})}d("captureevents",!!b)}},94128:function(W,V,e){var y=e(92770),C=e(58163);W.exports=function(L,x,h,d){x=x||{};var t=h==="log"&&x.type==="linear",r=h==="linear"&&x.type==="log";if(!(t||r))return;var u=L._fullLayout.annotations,n=x._id.charAt(0),i,s;function o(c){var b=i[c],v=null;t?v=C(b,x.range):v=Math.pow(10,b),y(v)||(v=null),d(s+c,v)}for(var m=0;m<u.length;m++)i=u[m],s="annotations["+m+"].",i[n+"ref"]===x._id&&o(n),i["a"+n+"ref"]===x._id&&o("a"+n)}},84046:function(W,V,e){var y=e(71828),C=e(89298),a=e(85501),L=e(25625),x=e(50215);W.exports=function(t,r){a(t,r,{name:"annotations",handleItemDefaults:h})};function h(d,t,r){function u(A,f){return y.coerce(d,t,x,A,f)}var n=u("visible"),i=u("clicktoshow");if(n||i){L(d,t,r,u);for(var s=t.showarrow,o=["x","y"],m=[-10,-30],c={_fullLayout:r},b=0;b<2;b++){var v=o[b],l=C.coerceRef(d,t,c,v,"","paper");if(l!=="paper"){var p=C.getFromId(c,l);p._annIndices.push(t._index)}if(C.coercePosition(t,c,u,l,v,.5),s){var S="a"+v,M=C.coerceRef(d,t,c,S,"pixel",["pixel","paper"]);M!=="pixel"&&M!==l&&(M=t[S]="pixel");var R=M==="pixel"?m[b]:.4;C.coercePosition(t,c,u,M,S,R)}u(v+"anchor"),u(v+"shift")}if(y.noneOrAll(d,t,["x","y"]),s&&y.noneOrAll(d,t,["ax","ay"]),i){var T=u("xclick"),E=u("yclick");t._xclick=T===void 0?t.x:C.cleanPosition(T,c,t.xref),t._yclick=E===void 0?t.y:C.cleanPosition(E,c,t.yref)}}}},92605:function(W,V,e){var y=e(39898),C=e(73972),a=e(74875),L=e(71828),x=L.strTranslate,h=e(89298),d=e(7901),t=e(91424),r=e(30211),u=e(63893),n=e(6964),i=e(28569),s=e(44467).arrayEditor,o=e(13011);W.exports={draw:m,drawOne:c,drawRaw:v};function m(l){var p=l._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var S=0;S<p.annotations.length;S++)p.annotations[S].visible&&c(l,S);return a.previousPromises(l)}function c(l,p){var S=l._fullLayout,M=S.annotations[p]||{},R=h.getFromId(l,M.xref),T=h.getFromId(l,M.yref);R&&R.setScale(),T&&T.setScale(),v(l,M,p,!1,R,T)}function b(l,p,S,M,R){var T=R[S],E=R[S+"ref"],A=S.indexOf("y")!==-1,f=h.getRefType(E)==="domain",P=A?M.h:M.w;return l?f?T+(A?-p:p)/l._length:l.p2r(l.r2p(T)+p):T+(A?-p:p)/P}function v(l,p,S,M,R,T){var E=l._fullLayout,A=l._fullLayout._size,f=l._context.edits,P,w;M?(P="annotation-"+M,w=M+".annotations"):(P="annotation",w="annotations");var z=s(l.layout,w,p),F=z.modifyBase,H=z.modifyItem,_=z.getUpdateObj;E._infolayer.selectAll("."+P+'[data-index="'+S+'"]').remove();var B="clip"+E._uid+"_ann"+S;if(!p._input||p.visible===!1){y.selectAll("#"+B).remove();return}var N={x:{},y:{}},O=+p.textangle||0,U=E._infolayer.append("g").classed(P,!0).attr("data-index",String(S)).style("opacity",p.opacity),K=U.append("g").classed("annotation-text-g",!0),re=f[p.showarrow?"annotationTail":"annotationPosition"],ae=p.captureevents||f.annotationText||re;function ue(de){var we={index:S,annotation:p._input,fullAnnotation:p,event:de};return M&&(we.subplotId=M),we}var ve=K.append("g").style("pointer-events",ae?"all":null).call(n,"pointer").on("click",function(){l._dragging=!1,l.emit("plotly_clickannotation",ue(y.event))});p.hovertext&&ve.on("mouseover",function(){var de=p.hoverlabel,we=de.font,Ae=this.getBoundingClientRect(),Re=l.getBoundingClientRect();r.loneHover({x0:Ae.left-Re.left,x1:Ae.right-Re.left,y:(Ae.top+Ae.bottom)/2-Re.top,text:p.hovertext,color:de.bgcolor,borderColor:de.bordercolor,fontFamily:we.family,fontSize:we.size,fontColor:we.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:l})}).on("mouseout",function(){r.loneUnhover(E._hoverlayer.node())});var ee=p.borderwidth,J=p.borderpad,Q=ee+J,X=ve.append("rect").attr("class","bg").style("stroke-width",ee+"px").call(d.stroke,p.bordercolor).call(d.fill,p.bgcolor),q=p.width||p.height,se=E._topclips.selectAll("#"+B).data(q?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",B).append("rect"),se.exit().remove();var Y=p.font,Z=E._meta?L.templateString(p.text,E._meta):p.text,ie=ve.append("text").classed("annotation-text",!0).text(Z);function te(de){return de.call(t.font,Y).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),u.convertToTspans(de,l,fe),de}function fe(){var de=ie.selectAll("a");if(de.size()===1&&de.text()===ie.text()){var we=ve.insert("a",":first-child").attr({"xlink:xlink:href":de.attr("xlink:href"),"xlink:xlink:show":de.attr("xlink:show")}).style({cursor:"pointer"});we.node().appendChild(X.node())}var Ae=ve.select(".annotation-text-math-group"),Re=!Ae.empty(),Fe=t.bBox((Re?Ae:ie).node()),Se=Fe.width,Te=Fe.height,Ee=p.width||Se,Ne=p.height||Te,He=Math.round(Ee+2*Q),_e=Math.round(Ne+2*Q);function We(wr,vr){return vr==="auto"&&(wr<.3333333333333333?vr="left":wr>.6666666666666666?vr="right":vr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[vr]}for(var tt=!1,Ke=["x","y"],qe=0;qe<Ke.length;qe++){var rt=Ke[qe],ft=p[rt+"ref"]||rt,pt=p["a"+rt+"ref"],gt={x:R,y:T}[rt],Mt=(O+(rt==="x"?0:-90))*Math.PI/180,Lt=He*Math.cos(Mt),Wt=_e*Math.sin(Mt),Je=Math.abs(Lt)+Math.abs(Wt),ze=p[rt+"anchor"],Oe=p[rt+"shift"]*(rt==="x"?1:-1),Ue=N[rt],ke,Me,ce,be,De,Ve=h.getRefType(ft);if(gt&&Ve!=="domain"){var it=gt.r2fraction(p[rt]);(it<0||it>1)&&(pt===ft?(it=gt.r2fraction(p["a"+rt]),(it<0||it>1)&&(tt=!0)):tt=!0),ke=gt._offset+gt.r2p(p[rt]),be=.5}else{var ot=Ve==="domain";rt==="x"?(ce=p[rt],ke=ot?gt._offset+gt._length*ce:ke=A.l+A.w*ce):(ce=1-p[rt],ke=ot?gt._offset+gt._length*ce:ke=A.t+A.h*ce),be=p.showarrow?.5:ce}if(p.showarrow){Ue.head=ke;var Tt=p["a"+rt];if(De=Lt*We(.5,p.xanchor)-Wt*We(.5,p.yanchor),pt===ft){var It=h.getRefType(pt);It==="domain"?(rt==="y"&&(Tt=1-Tt),Ue.tail=gt._offset+gt._length*Tt):It==="paper"?rt==="y"?(Tt=1-Tt,Ue.tail=A.t+A.h*Tt):Ue.tail=A.l+A.w*Tt:Ue.tail=gt._offset+gt.r2p(Tt),Me=De}else Ue.tail=ke+Tt,Me=De+Tt;Ue.text=Ue.tail+De;var Ht=E[rt==="x"?"width":"height"];if(ft==="paper"&&(Ue.head=L.constrain(Ue.head,1,Ht-1)),pt==="pixel"){var Gt=-Math.max(Ue.tail-3,Ue.text),Pt=Math.min(Ue.tail+3,Ue.text)-Ht;Gt>0?(Ue.tail+=Gt,Ue.text+=Gt):Pt>0&&(Ue.tail-=Pt,Ue.text-=Pt)}Ue.tail+=Oe,Ue.head+=Oe}else De=Je*We(be,ze),Me=De,Ue.text=ke+De;Ue.text+=Oe,De+=Oe,Me+=Oe,p["_"+rt+"padplus"]=Je/2+Me,p["_"+rt+"padminus"]=Je/2-Me,p["_"+rt+"size"]=Je,p["_"+rt+"shift"]=De}if(tt){ve.remove();return}var Jt=0,or=0;if(p.align!=="left"&&(Jt=(Ee-Se)*(p.align==="center"?.5:1)),p.valign!=="top"&&(or=(Ne-Te)*(p.valign==="middle"?.5:1)),Re)Ae.select("svg").attr({x:Q+Jt-1,y:Q+or}).call(t.setClipUrl,q?B:null,l);else{var zr=Q+or-Fe.top,mt=Q+Jt-Fe.left;ie.call(u.positionText,mt,zr).call(t.setClipUrl,q?B:null,l)}se.select("rect").call(t.setRect,Q,Q,Ee,Ne),X.call(t.setRect,ee/2,ee/2,He-ee,_e-ee),ve.call(t.setTranslate,Math.round(N.x.text-He/2),Math.round(N.y.text-_e/2)),K.attr({transform:"rotate("+O+","+N.x.text+","+N.y.text+")"});var Kt=function(wr,vr){U.selectAll(".annotation-arrow-g").remove();var ct=N.x.head,ut=N.y.head,bt=N.x.tail+wr,At=N.y.tail+vr,Ct=N.x.text+wr,St=N.y.text+vr,zt=L.rotationXYMatrix(O,Ct,St),Vt=L.apply2DTransform(zt),qt=L.apply2DTransform2(zt),$t=+X.attr("width"),sr=+X.attr("height"),Cr=Ct-.5*$t,Ze=Cr+$t,je=St-.5*sr,kt=je+sr,_t=[[Cr,je,Cr,kt],[Cr,kt,Ze,kt],[Ze,kt,Ze,je],[Ze,je,Cr,je]].map(qt);if(!_t.reduce(function(Fr,gn){return Fr^!!L.segmentsIntersect(ct,ut,ct+1e6,ut+1e6,gn[0],gn[1],gn[2],gn[3])},!1)){_t.forEach(function(Fr){var gn=L.segmentsIntersect(bt,At,ct,ut,Fr[0],Fr[1],Fr[2],Fr[3]);gn&&(bt=gn.x,At=gn.y)});var Zt=p.arrowwidth,ar=p.arrowcolor,ur=p.arrowside,nr=U.append("g").style({opacity:d.opacity(ar)}).classed("annotation-arrow-g",!0),Ot=nr.append("path").attr("d","M"+bt+","+At+"L"+ct+","+ut).style("stroke-width",Zt+"px").call(d.stroke,d.rgb(ar));if(o(Ot,ur,p),f.annotationPosition&&Ot.node().parentNode&&!M){var cr=ct,pr=ut;if(p.standoff){var gr=Math.sqrt(Math.pow(ct-bt,2)+Math.pow(ut-At,2));cr+=p.standoff*(bt-ct)/gr,pr+=p.standoff*(At-ut)/gr}var dr=nr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-cr)+","+(At-pr),transform:x(cr,pr)}).style("stroke-width",Zt+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)"),Gr,kr;i.init({element:dr.node(),gd:l,prepFn:function(){var Fr=t.getTranslate(ve);Gr=Fr.x,kr=Fr.y,R&&R.autorange&&F(R._name+".autorange",!0),T&&T.autorange&&F(T._name+".autorange",!0)},moveFn:function(Fr,gn){var Kr=Vt(Gr,kr),kn=Kr[0]+Fr,In=Kr[1]+gn;ve.call(t.setTranslate,kn,In),H("x",b(R,Fr,"x",A,p)),H("y",b(T,gn,"y",A,p)),p.axref===p.xref&&H("ax",b(R,Fr,"ax",A,p)),p.ayref===p.yref&&H("ay",b(T,gn,"ay",A,p)),nr.attr("transform",x(Fr,gn)),K.attr({transform:"rotate("+O+","+kn+","+In+")"})},doneFn:function(){C.call("_guiRelayout",l,_());var Fr=document.querySelector(".js-notes-box-panel");Fr&&Fr.redraw(Fr.selectedObj)}})}}};if(p.showarrow&&Kt(0,0),re){var jt;i.init({element:ve.node(),gd:l,prepFn:function(){jt=K.attr("transform")},moveFn:function(wr,vr){var ct="pointer";if(p.showarrow)p.axref===p.xref?H("ax",b(R,wr,"ax",A,p)):H("ax",p.ax+wr),p.ayref===p.yref?H("ay",b(T,vr,"ay",A.w,p)):H("ay",p.ay+vr),Kt(wr,vr);else{if(M)return;var ut,bt;if(R)ut=b(R,wr,"x",A,p);else{var At=p._xsize/A.w,Ct=p.x+(p._xshift-p.xshift)/A.w-At/2;ut=i.align(Ct+wr/A.w,At,0,1,p.xanchor)}if(T)bt=b(T,vr,"y",A,p);else{var St=p._ysize/A.h,zt=p.y-(p._yshift+p.yshift)/A.h-St/2;bt=i.align(zt-vr/A.h,St,0,1,p.yanchor)}H("x",ut),H("y",bt),(!R||!T)&&(ct=i.getCursor(R?.5:ut,T?.5:bt,p.xanchor,p.yanchor))}K.attr({transform:x(wr,vr)+jt}),n(ve,ct)},clickFn:function(wr,vr){p.captureevents&&l.emit("plotly_clickannotation",ue(vr))},doneFn:function(){n(ve),C.call("_guiRelayout",l,_());var wr=document.querySelector(".js-notes-box-panel");wr&&wr.redraw(wr.selectedObj)}})}}f.annotationText?ie.call(u.makeEditable,{delegate:ve,gd:l}).call(te).on("edit",function(de){p.text=de,this.call(te),H("text",de),R&&R.autorange&&F(R._name+".autorange",!0),T&&T.autorange&&F(T._name+".autorange",!0),C.call("_guiRelayout",l,_())}):ie.call(te)}},13011:function(W,V,e){var y=e(39898),C=e(7901),a=e(82884),L=e(71828),x=L.strScale,h=L.strRotate,d=L.strTranslate;W.exports=function(r,u,n){var i=r.node(),s=a[n.arrowhead||0],o=a[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),c=(n.arrowwidth||1)*(n.startarrowsize||1),b=u.indexOf("start")>=0,v=u.indexOf("end")>=0,l=s.backoff*m+n.standoff,p=o.backoff*c+n.startstandoff,S,M,R,T;if(i.nodeName==="line"){S={x:+r.attr("x1"),y:+r.attr("y1")},M={x:+r.attr("x2"),y:+r.attr("y2")};var E=S.x-M.x,A=S.y-M.y;if(R=Math.atan2(A,E),T=R+Math.PI,l&&p&&l+p>Math.sqrt(E*E+A*A)){K();return}if(l){if(l*l>E*E+A*A){K();return}var f=l*Math.cos(R),P=l*Math.sin(R);M.x+=f,M.y+=P,r.attr({x2:M.x,y2:M.y})}if(p){if(p*p>E*E+A*A){K();return}var w=p*Math.cos(R),z=p*Math.sin(R);S.x-=w,S.y-=z,r.attr({x1:S.x,y1:S.y})}}else if(i.nodeName==="path"){var F=i.getTotalLength(),H="";if(F<l+p){K();return}var _=i.getPointAtLength(0),B=i.getPointAtLength(.1);R=Math.atan2(_.y-B.y,_.x-B.x),S=i.getPointAtLength(Math.min(p,F)),H="0px,"+p+"px,";var N=i.getPointAtLength(F),O=i.getPointAtLength(F-.1);T=Math.atan2(N.y-O.y,N.x-O.x),M=i.getPointAtLength(Math.max(0,F-l));var U=H?p+l:l;H+=F-U+"px,"+F+"px",r.style("stroke-dasharray",H)}function K(){r.style("stroke-dasharray","0px,100px")}function re(ae,ue,ve,ee){ae.path&&(ae.noRotate&&(ve=0),y.select(i.parentNode).append("path").attr({class:r.attr("class"),d:ae.path,transform:d(ue.x,ue.y)+h(ve*180/Math.PI)+x(ee)}).style({fill:C.rgb(n.arrowcolor),"stroke-width":0}))}b&&re(o,S,R,c),v&&re(s,M,T,m)}},32745:function(W,V,e){var y=e(92605),C=e(44317);W.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:y.draw,drawOne:y.drawOne,drawRaw:y.drawRaw,hasClickToShow:C.hasClickToShow,onClick:C.onClick,convertCoords:e(94128)}},26997:function(W,V,e){var y=e(50215),C=e(30962).overrideAll,a=e(44467).templatedArray;W.exports=C(a("annotation",{visible:y.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:y.xanchor,xshift:y.xshift,yanchor:y.yanchor,yshift:y.yshift,text:y.text,textangle:y.textangle,font:y.font,width:y.width,height:y.height,opacity:y.opacity,align:y.align,valign:y.valign,bgcolor:y.bgcolor,bordercolor:y.bordercolor,borderpad:y.borderpad,borderwidth:y.borderwidth,showarrow:y.showarrow,arrowcolor:y.arrowcolor,arrowhead:y.arrowhead,startarrowhead:y.startarrowhead,arrowside:y.arrowside,arrowsize:y.arrowsize,startarrowsize:y.startarrowsize,arrowwidth:y.arrowwidth,standoff:y.standoff,startstandoff:y.startstandoff,hovertext:y.hovertext,hoverlabel:y.hoverlabel,captureevents:y.captureevents}),"calc","from-root")},5485:function(W,V,e){var y=e(71828),C=e(89298);W.exports=function(x){for(var h=x.fullSceneLayout,d=h.annotations,t=0;t<d.length;t++)a(d[t],x);x.fullLayout._infolayer.selectAll(".annotation-"+x.id).remove()};function a(L,x){var h=x.fullSceneLayout,d=h.domain,t=x.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},y.extendFlat(L._xa,r),C.setConvert(L._xa),L._xa._offset=t.l+d.x[0]*t.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*t.w*(d.x[1]-d.x[0])},L._ya={},y.extendFlat(L._ya,r),C.setConvert(L._ya),L._ya._offset=t.t+(1-d.y[1])*t.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*t.h*(d.y[1]-d.y[0])}}},20226:function(W,V,e){var y=e(71828),C=e(89298),a=e(85501),L=e(25625),x=e(26997);W.exports=function(t,r,u){a(t,r,{name:"annotations",handleItemDefaults:h,fullLayout:u.fullLayout})};function h(d,t,r,u){function n(o,m){return y.coerce(d,t,x,o,m)}function i(o){var m=o+"axis",c={_fullLayout:{}};return c._fullLayout[m]=r[m],C.coercePosition(t,c,n,o,o,.5)}var s=n("visible");s&&(L(d,t,u.fullLayout,n),i("x"),i("y"),i("z"),y.noneOrAll(d,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),y.noneOrAll(d,t,["ax","ay"])))}},82188:function(W,V,e){var y=e(92605).drawRaw,C=e(63538),a=["x","y","z"];W.exports=function(x){for(var h=x.fullSceneLayout,d=x.dataScale,t=h.annotations,r=0;r<t.length;r++){for(var u=t[r],n=!1,i=0;i<3;i++){var s=a[i],o=u[s],m=h[s+"axis"],c=m.r2fraction(o);if(c<0||c>1){n=!0;break}}n?x.fullLayout._infolayer.select(".annotation-"+x.id+'[data-index="'+r+'"]').remove():(u._pdata=C(x.glplot.cameraParams,[h.xaxis.r2l(u.x)*d[0],h.yaxis.r2l(u.y)*d[1],h.zaxis.r2l(u.z)*d[2]]),y(x.graphDiv,u,r,x.id,u._xa,u._ya))}}},2468:function(W,V,e){var y=e(73972),C=e(71828);W.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:a,convert:e(5485),draw:e(82188)};function a(L,x){var h=y.subplotsRegistry.gl3d;if(h)for(var d=h.attrRegex,t=Object.keys(L),r=0;r<t.length;r++){var u=t[r];d.test(u)&&(L[u].annotations||[]).length&&(C.pushUnique(x._basePlotModules,h),C.pushUnique(x._subplots.gl3d,u))}}},7561:function(W,V,e){W.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(W,V,e){var y=e(7561),C=e(71828),a=e(50606),L=a.EPOCHJD,x=a.ONEDAY,h={valType:"enumerated",values:C.sortObjectKeys(y.calendars),editType:"calc",dflt:"gregorian"},d=function(R,T,E,A){var f={};return f[E]=h,C.coerce(R,T,f,E,A)},t=function(R,T,E,A){for(var f=0;f<E.length;f++)d(R,T,E[f]+"calendar",A.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},u={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},i="##",s={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:i,w:i,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function o(R,T,E){for(var A=Math.floor((T+.05)/x)+L,f=c(E).fromJD(A),P=0,w,z,F,H,_;(P=R.indexOf("%",P))!==-1;)w=R.charAt(P+1),w==="0"||w==="-"||w==="_"?(F=3,z=R.charAt(P+2),w==="_"&&(w="-")):(z=w,w="0",F=2),H=s[z],H?(H===i?_=i:_=f.formatDate(H[w]),R=R.substr(0,P)+_+R.substr(P+F),P+=_.length):P+=F;return R}var m={};function c(R){var T=m[R];return T||(T=m[R]=y.instance(R),T)}function b(R){return C.extendFlat({},h,{description:R})}function v(R){return"Sets the calendar system to use with `"+R+"` date data."}var l={xcalendar:b(v("x"))},p=C.extendFlat({},l,{ycalendar:b(v("y"))}),S=C.extendFlat({},p,{zcalendar:b(v("z"))}),M=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));W.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:S,surface:S,mesh3d:S,scattergl:p,ohlc:l,candlestick:l},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:M},yaxis:{calendar:M},scene:{xaxis:{calendar:M},yaxis:{calendar:M},zaxis:{calendar:M}},polar:{radialaxis:{calendar:M}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:d,handleTraceDefaults:t,CANONICAL_SUNDAY:u,CANONICAL_TICK:r,DFLTRANGE:n,getCal:c,worldCalFmt:o}},22399:function(W,V){V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=90.9090909090909},7901:function(W,V,e){var y=e(84267),C=e(92770),a=e(73627).isTypedArray,L=W.exports={},x=e(22399);L.defaults=x.defaults;var h=L.defaultLine=x.defaultLine;L.lightLine=x.lightLine;var d=L.background=x.background;L.tinyRGB=function(r){var u=r.toRgb();return"rgb("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+")"},L.rgb=function(r){return L.tinyRGB(y(r))},L.opacity=function(r){return r?y(r).getAlpha():0},L.addOpacity=function(r,u){var n=y(r).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+u+")"},L.combine=function(r,u){var n=y(r).toRgb();if(n.a===1)return y(r).toRgbString();var i=y(u||d).toRgb(),s=i.a===1?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},o={r:s.r*(1-n.a)+n.r*n.a,g:s.g*(1-n.a)+n.g*n.a,b:s.b*(1-n.a)+n.b*n.a};return y(o).toRgbString()},L.contrast=function(r,u,n){var i=y(r);i.getAlpha()!==1&&(i=y(L.combine(r,d)));var s=i.isDark()?u?i.lighten(u):d:n?i.darken(n):h;return s.toString()},L.stroke=function(r,u){var n=y(u);r.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(r,u){var n=y(u);r.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(r){if(!(!r||typeof r!="object")){var u=Object.keys(r),n,i,s,o;for(n=0;n<u.length;n++)if(s=u[n],o=r[s],s.substr(s.length-5)==="color")if(Array.isArray(o))for(i=0;i<o.length;i++)o[i]=t(o[i]);else r[s]=t(o);else if(s.substr(s.length-10)==="colorscale"&&Array.isArray(o))for(i=0;i<o.length;i++)Array.isArray(o[i])&&(o[i][1]=t(o[i][1]));else if(Array.isArray(o)){var m=o[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(i=0;i<o.length;i++)L.clean(o[i])}else o&&typeof o=="object"&&!a(o)&&L.clean(o)}};function t(r){if(C(r)||typeof r!="string")return r;var u=r.trim();if(u.substr(0,3)!=="rgb")return r;var n=u.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return r;var i=n[1].trim().split(/\s*[\s,]\s*/),s=u.charAt(3)==="a"&&i.length===4;if(!s&&i.length!==3)return r;for(var o=0;o<i.length;o++){if(!i[o].length||(i[o]=Number(i[o]),!(i[o]>=0)))return r;if(o===3)i[o]>1&&(i[o]=1);else if(i[o]>=1)return r}var m=Math.round(i[0]*255)+", "+Math.round(i[1]*255)+", "+Math.round(i[2]*255);return s?"rgba("+m+", "+i[3]+")":"rgb("+m+")"}},63583:function(W,V,e){var y=e(13838),C=e(41940),a=e(1426).extendFlat,L=e(30962).overrideAll;W.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:y.linecolor,outlinewidth:y.linewidth,bordercolor:y.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:a({},y.ticks,{dflt:""}),ticklabeloverflow:a({},y.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:C({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,title:{text:{valType:"string"},font:C({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:C({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(W){W.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(W,V,e){var y=e(71828),C=e(44467),a=e(26218),L=e(38701),x=e(96115),h=e(89426),d=e(63583);W.exports=function(r,u,n){var i=C.newContainer(u,"colorbar"),s=r.colorbar||{};function o(N,O){return y.coerce(s,i,d,N,O)}var m=n.margin||{t:0,b:0,l:0,r:0},c=n.width-m.l-m.r,b=n.height-m.t-m.b,v=o("orientation"),l=v==="v",p=o("thicknessmode");o("thickness",p==="fraction"?30/(l?c:b):30);var S=o("lenmode");o("len",S==="fraction"?1:l?b:c);var M=o("yref"),R=o("xref"),T=M==="paper",E=R==="paper",A,f,P,w="left";l?(P="middle",w=E?"left":"right",A=E?1.02:1,f=.5):(P=T?"bottom":"top",w="center",A=.5,f=T?1.02:1),y.coerce(s,i,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:A}},"x"),y.coerce(s,i,{y:{valType:"number",min:T?-2:0,max:T?3:1,dflt:f}},"y"),o("xanchor",w),o("xpad"),o("yanchor",P),o("ypad"),y.noneOrAll(s,i,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var z=y.coerce(s,i,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:l?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(s,i,o,"linear");var F=n.font,H={outerTicks:!1,font:F};z.indexOf("inside")!==-1&&(H.bgColor="black"),h(s,i,o,"linear",H),x(s,i,o,"linear",H),L(s,i,o,"linear",H),o("title.text",n._dfltTitle.colorbar);var _=i.showticklabels?i.tickfont:F,B=y.extendFlat({},_,{color:F.color,size:y.bigFont(_.size)});y.coerceFont(o,"title.font",B),o("title.side",l?"top":"right")}},98981:function(W,V,e){var y=e(39898),C=e(84267),a=e(74875),L=e(73972),x=e(89298),h=e(28569),d=e(71828),t=d.strTranslate,r=e(1426).extendFlat,u=e(6964),n=e(91424),i=e(7901),s=e(92998),o=e(63893),m=e(52075).flipScale,c=e(71453),b=e(52830),v=e(13838),l=e(18783),p=l.LINE_SPACING,S=l.FROM_TL,M=l.FROM_BR,R=e(30939).cn;function T(z){var F=z._fullLayout,H=F._infolayer.selectAll("g."+R.colorbar).data(E(z),function(_){return _._id});H.enter().append("g").attr("class",function(_){return _._id}).classed(R.colorbar,!0),H.each(function(_){var B=y.select(this);d.ensureSingle(B,"rect",R.cbbg),d.ensureSingle(B,"g",R.cbfills),d.ensureSingle(B,"g",R.cblines),d.ensureSingle(B,"g",R.cbaxis,function(O){O.classed(R.crisp,!0)}),d.ensureSingle(B,"g",R.cbtitleunshift,function(O){O.append("g").classed(R.cbtitle,!0)}),d.ensureSingle(B,"rect",R.cboutline);var N=A(B,_,z);N&&N.then&&(z._promises||[]).push(N),z._context.edits.colorbarPosition&&f(B,_,z)}),H.exit().each(function(_){a.autoMargin(z,_._id)}).remove(),H.order()}function E(z){var F=z._fullLayout,H=z.calcdata,_=[],B,N,O,U;function K(Y){return r(Y,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function re(){typeof U.calc=="function"?U.calc(z,O,B):(B._fillgradient=N.reversescale?m(N.colorscale):N.colorscale,B._zrange=[N[U.min],N[U.max]])}for(var ae=0;ae<H.length;ae++){var ue=H[ae];if(O=ue[0].trace,!!O._module){var ve=O._module.colorbar;if(O.visible===!0&&ve)for(var ee=Array.isArray(ve),J=ee?ve:[ve],Q=0;Q<J.length;Q++){U=J[Q];var X=U.container;N=X?O[X]:O,N&&N.showscale&&(B=K(N.colorbar),B._id="cb"+O.uid+(ee&&X?"-"+X:""),B._traceIndex=O.index,B._propPrefix=(X?X+".":"")+"colorbar.",B._meta=O._meta,re(),_.push(B))}}}for(var q in F._colorAxes)if(N=F[q],N.showscale){var se=F._colorAxes[q];B=K(N.colorbar),B._id="cb"+q,B._propPrefix=q+".colorbar.",B._meta=F._meta,U={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(O=se[1],U.calc=O._module.colorbar.calc),re(),_.push(B)}return _}function A(z,F,H){var _=F.orientation==="v",B=F.len,N=F.lenmode,O=F.thickness,U=F.thicknessmode,K=F.outlinewidth,re=F.borderwidth,ae=F.bgcolor,ue=F.xanchor,ve=F.yanchor,ee=F.xpad,J=F.ypad,Q=F.x,X=_?F.y:1-F.y,q=F.yref==="paper",se=F.xref==="paper",Y=H._fullLayout,Z=Y._size,ie=F._fillcolor,te=F._line,fe=F.title,de=fe.side,we=F._zrange||y.extent((typeof ie=="function"?ie:te.color).domain()),Ae=typeof te.color=="function"?te.color:function(){return te.color},Re=typeof ie=="function"?ie:function(){return ie},Fe=F._levels,Se=P(H,F,we),Te=Se.fill,Ee=Se.line,Ne=Math.round(O*(U==="fraction"?_?Z.w:Z.h:1)),He=Ne/(_?Z.w:Z.h),_e=Math.round(B*(N==="fraction"?_?Z.h:Z.w:1)),We=_e/(_?Z.h:Z.w),tt=se?Z.w:H._fullLayout.width,Ke=q?Z.h:H._fullLayout.height,qe=Math.round(_?Q*tt+ee:X*Ke+J),rt={center:.5,right:1}[ue]||0,ft={top:1,middle:.5}[ve]||0,pt=_?Q-rt*He:X-ft*He,gt=_?X-ft*We:Q-rt*We,Mt=Math.round(_?Ke*(1-gt):tt*gt);F._lenFrac=We,F._thickFrac=He,F._uFrac=pt,F._vFrac=gt;var Lt=F._axis=w(H,F,we);Lt.position=He+(_?Q+ee/Z.w:X+J/Z.h);var Wt=["top","bottom"].indexOf(de)!==-1;if(_&&Wt&&(Lt.title.side=de,Lt.titlex=Q+ee/Z.w,Lt.titley=gt+(fe.side==="top"?We-J/Z.h:J/Z.h)),!_&&!Wt&&(Lt.title.side=de,Lt.titley=X+J/Z.h,Lt.titlex=gt+ee/Z.w),te.color&&F.tickmode==="auto"){Lt.tickmode="linear",Lt.tick0=Fe.start;var Je=Fe.size,ze=d.constrain(_e/50,4,15)+1,Oe=(we[1]-we[0])/((F.nticks||ze)*Je);if(Oe>1){var Ue=Math.pow(10,Math.floor(Math.log(Oe)/Math.LN10));Je*=Ue*d.roundUp(Oe/Ue,[2,5,10]),(Math.abs(Fe.start)/Fe.size+1e-6)%1<2e-6&&(Lt.tick0=0)}Lt.dtick=Je}Lt.domain=_?[gt+J/Z.h,gt+We-J/Z.h]:[gt+ee/Z.w,gt+We-ee/Z.w],Lt.setScale(),z.attr("transform",t(Math.round(Z.l),Math.round(Z.t)));var ke=z.select("."+R.cbtitleunshift).attr("transform",t(-Math.round(Z.l),-Math.round(Z.t))),Me=Lt.ticklabelposition,ce=Lt.title.font.size,be=z.select("."+R.cbaxis),De,Ve=0,it=0;function ot(Pt,Jt){var or={propContainer:Lt,propName:F._propPrefix+"title",traceIndex:F._traceIndex,_meta:F._meta,placeholder:Y._dfltTitle.colorbar,containerGroup:z.select("."+R.cbtitle)},zr=Pt.charAt(0)==="h"?Pt.substr(1):"h"+Pt;z.selectAll("."+zr+",."+zr+"-math-group").remove(),s.draw(H,Pt,r(or,Jt||{}))}function Tt(){if(_&&Wt||!_&&!Wt){var Pt,Jt;de==="top"&&(Pt=ee+Z.l+tt*Q,Jt=J+Z.t+Ke*(1-gt-We)+3+ce*.75),de==="bottom"&&(Pt=ee+Z.l+tt*Q,Jt=J+Z.t+Ke*(1-gt)-3-ce*.25),de==="right"&&(Jt=J+Z.t+Ke*X+3+ce*.75,Pt=ee+Z.l+tt*gt),ot(Lt._id+"title",{attributes:{x:Pt,y:Jt,"text-anchor":_?"start":"middle"}})}}function It(){if(_&&!Wt||!_&&Wt){var Pt=Lt.position||0,Jt=Lt._offset+Lt._length/2,or,zr;if(de==="right")zr=Jt,or=Z.l+tt*Pt+10+ce*(Lt.showticklabels?1:.5);else if(or=Jt,de==="bottom"&&(zr=Z.t+Ke*Pt+10+(Me.indexOf("inside")===-1?Lt.tickfont.size:0)+(Lt.ticks!=="intside"&&F.ticklen||0)),de==="top"){var mt=fe.text.split("<br>").length;zr=Z.t+Ke*Pt+10-Ne-p*ce*mt}ot((_?"h":"v")+Lt._id+"title",{avoid:{selection:y.select(H).selectAll("g."+Lt._id+"tick"),side:de,offsetTop:_?0:Z.t,offsetLeft:_?Z.l:0,maxShift:_?Y.width:Y.height},attributes:{x:or,y:zr,"text-anchor":"middle"},transform:{rotate:_?-90:0,offset:0}})}}function Ht(){if(!_&&!Wt||_&&Wt){var Pt=z.select("."+R.cbtitle),Jt=Pt.select("text"),or=[-K/2,K/2],zr=Pt.select(".h"+Lt._id+"title-math-group").node(),mt=15.6;Jt.node()&&(mt=parseInt(Jt.node().style.fontSize,10)*p);var Kt;if(zr?(Kt=n.bBox(zr),it=Kt.width,Ve=Kt.height,Ve>mt&&(or[1]-=(Ve-mt)/2)):Jt.node()&&!Jt.classed(R.jsPlaceholder)&&(Kt=n.bBox(Jt.node()),it=Kt.width,Ve=Kt.height),_){if(Ve){if(Ve+=5,de==="top")Lt.domain[1]-=Ve/Z.h,or[1]*=-1;else{Lt.domain[0]+=Ve/Z.h;var jt=o.lineCount(Jt);or[1]+=(1-jt)*mt}Pt.attr("transform",t(or[0],or[1])),Lt.setScale()}}else it&&(de==="right"&&(Lt.domain[0]+=(it+ce/2)/Z.w),Pt.attr("transform",t(or[0],or[1])),Lt.setScale())}z.selectAll("."+R.cbfills+",."+R.cblines).attr("transform",_?t(0,Math.round(Z.h*(1-Lt.domain[1]))):t(Math.round(Z.w*Lt.domain[0]),0)),be.attr("transform",_?t(0,Math.round(-Z.t)):t(Math.round(-Z.l),0));var wr=z.select("."+R.cbfills).selectAll("rect."+R.cbfill).attr("style","").data(Te);wr.enter().append("rect").classed(R.cbfill,!0).attr("style",""),wr.exit().remove();var vr=we.map(Lt.c2p).map(Math.round).sort(function(Ct,St){return Ct-St});wr.each(function(Ct,St){var zt=[St===0?we[0]:(Te[St]+Te[St-1])/2,St===Te.length-1?we[1]:(Te[St]+Te[St+1])/2].map(Lt.c2p).map(Math.round);_&&(zt[1]=d.constrain(zt[1]+(zt[1]>zt[0])?1:-1,vr[0],vr[1]));var Vt=y.select(this).attr(_?"x":"y",qe).attr(_?"y":"x",y.min(zt)).attr(_?"width":"height",Math.max(Ne,2)).attr(_?"height":"width",Math.max(y.max(zt)-y.min(zt),2));if(F._fillgradient)n.gradient(Vt,H,F._id,_?"vertical":"horizontalreversed",F._fillgradient,"fill");else{var qt=Re(Ct).replace("e-","");Vt.attr("fill",C(qt).toHexString())}});var ct=z.select("."+R.cblines).selectAll("path."+R.cbline).data(te.color&&te.width?Ee:[]);ct.enter().append("path").classed(R.cbline,!0),ct.exit().remove(),ct.each(function(Ct){var St=qe,zt=Math.round(Lt.c2p(Ct))+te.width/2%1;y.select(this).attr("d","M"+(_?St+","+zt:zt+","+St)+(_?"h":"v")+Ne).call(n.lineGroupStyle,te.width,Ae(Ct),te.dash)}),be.selectAll("g."+Lt._id+"tick,path").remove();var ut=qe+Ne+(K||0)/2-(F.ticks==="outside"?1:0),bt=x.calcTicks(Lt),At=x.getTickSigns(Lt)[2];return x.drawTicks(H,Lt,{vals:Lt.ticks==="inside"?x.clipEnds(Lt,bt):bt,layer:be,path:x.makeTickPath(Lt,ut,At),transFn:x.makeTransTickFn(Lt)}),x.drawLabels(H,Lt,{vals:bt,layer:be,transFn:x.makeTransTickLabelFn(Lt),labelFns:x.makeLabelFns(Lt,ut)})}function Gt(){var Pt,Jt=Ne+K/2;Me.indexOf("inside")===-1&&(Pt=n.bBox(be.node()),Jt+=_?Pt.width:Pt.height),De=ke.select("text");var or=0,zr=_&&de==="top",mt=!_&&de==="right",Kt=0;if(De.node()&&!De.classed(R.jsPlaceholder)){var jt,wr=ke.select(".h"+Lt._id+"title-math-group").node();wr&&(_&&Wt||!_&&!Wt)?(Pt=n.bBox(wr),or=Pt.width,jt=Pt.height):(Pt=n.bBox(ke.node()),or=Pt.right-Z.l-(_?qe:Mt),jt=Pt.bottom-Z.t-(_?Mt:qe),!_&&de==="top"&&(Jt+=Pt.height,Kt=Pt.height)),mt&&(De.attr("transform",t(or/2+ce/2,0)),or*=2),Jt=Math.max(Jt,_?or:jt)}var vr=(_?ee:J)*2+Jt+re+K/2,ct=0;!_&&fe.text&&ve==="bottom"&&X<=0&&(ct=vr/2,vr+=ct,Kt+=ct),Y._hColorbarMoveTitle=ct,Y._hColorbarMoveCBTitle=Kt;var ut=re+K,bt=(_?qe:Mt)-ut/2-(_?ee:0),At=(_?Mt:qe)-(_?_e:J+Kt-ct);z.select("."+R.cbbg).attr("x",bt).attr("y",At).attr(_?"width":"height",Math.max(vr-ct,2)).attr(_?"height":"width",Math.max(_e+ut,2)).call(i.fill,ae).call(i.stroke,F.bordercolor).style("stroke-width",re);var Ct=mt?Math.max(or-10,0):0;z.selectAll("."+R.cboutline).attr("x",(_?qe:Mt+ee)+Ct).attr("y",(_?Mt+J-_e:qe)+(zr?Ve:0)).attr(_?"width":"height",Math.max(Ne,2)).attr(_?"height":"width",Math.max(_e-(_?2*J+Ve:2*ee+Ct),2)).call(i.stroke,F.outlinecolor).style({fill:"none","stroke-width":K});var St=_?rt*vr:0,zt=_?0:(1-ft)*vr-Kt;if(St=se?Z.l-St:-St,zt=q?Z.t-zt:-zt,z.attr("transform",t(St,zt)),!_&&(re||C(ae).getAlpha()&&!C.equals(Y.paper_bgcolor,ae))){var Vt=be.selectAll("text"),qt=Vt[0].length,$t=z.select("."+R.cbbg).node(),sr=n.bBox($t),Cr=n.getTranslate(z),Ze=2;Vt.each(function(pr,gr){var dr=0,Gr=qt-1;if(gr===dr||gr===Gr){var kr=n.bBox(this),Fr=n.getTranslate(this),gn;if(gr===Gr){var Kr=kr.right+Fr.x,kn=sr.right+Cr.x+Mt-re-Ze+Q;gn=kn-Kr,gn>0&&(gn=0)}else if(gr===dr){var In=kr.left+Fr.x,br=sr.left+Cr.x+Mt+re+Ze;gn=br-In,gn<0&&(gn=0)}gn&&(qt<3?this.setAttribute("transform","translate("+gn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var je={},kt=S[ue],_t=M[ue],Zt=S[ve],ar=M[ve],ur=vr-Ne;_?(N==="pixels"?(je.y=X,je.t=_e*Zt,je.b=_e*ar):(je.t=je.b=0,je.yt=X+B*Zt,je.yb=X-B*ar),U==="pixels"?(je.x=Q,je.l=vr*kt,je.r=vr*_t):(je.l=ur*kt,je.r=ur*_t,je.xl=Q-O*kt,je.xr=Q+O*_t)):(N==="pixels"?(je.x=Q,je.l=_e*kt,je.r=_e*_t):(je.l=je.r=0,je.xl=Q+B*kt,je.xr=Q-B*_t),U==="pixels"?(je.y=1-X,je.t=vr*Zt,je.b=vr*ar):(je.t=ur*Zt,je.b=ur*ar,je.yt=X-O*Zt,je.yb=X+O*ar));var nr=F.y<.5?"b":"t",Ot=F.x<.5?"l":"r";H._fullLayout._reservedMargin[F._id]={};var cr={r:Y.width-bt-St,l:bt+je.r,b:Y.height-At-zt,t:At+je.b};se&&q?a.autoMargin(H,F._id,je):se?H._fullLayout._reservedMargin[F._id][nr]=cr[nr]:q||_?H._fullLayout._reservedMargin[F._id][Ot]=cr[Ot]:H._fullLayout._reservedMargin[F._id][nr]=cr[nr]}return d.syncOrAsync([a.previousPromises,Tt,Ht,It,a.previousPromises,Gt],H)}function f(z,F,H){var _=F.orientation==="v",B=H._fullLayout,N=B._size,O,U,K;h.init({element:z.node(),gd:H,prepFn:function(){O=z.attr("transform"),u(z)},moveFn:function(re,ae){z.attr("transform",O+t(re,ae)),U=h.align((_?F._uFrac:F._vFrac)+re/N.w,_?F._thickFrac:F._lenFrac,0,1,F.xanchor),K=h.align((_?F._vFrac:1-F._uFrac)-ae/N.h,_?F._lenFrac:F._thickFrac,0,1,F.yanchor);var ue=h.getCursor(U,K,F.xanchor,F.yanchor);u(z,ue)},doneFn:function(){if(u(z),U!==void 0&&K!==void 0){var re={};re[F._propPrefix+"x"]=U,re[F._propPrefix+"y"]=K,F._traceIndex!==void 0?L.call("_guiRestyle",H,re,F._traceIndex):L.call("_guiRelayout",H,re)}}})}function P(z,F,H){var _=F._levels,B=[],N=[],O,U,K=_.end+_.size/100,re=_.size,ae=1.001*H[0]-.001*H[1],ue=1.001*H[1]-.001*H[0];for(U=0;U<1e5&&(O=_.start+U*re,!(re>0?O>=K:O<=K));U++)O>ae&&O<ue&&B.push(O);if(F._fillgradient)N=[0];else if(typeof F._fillcolor=="function"){var ve=F._filllevels;if(ve)for(K=ve.end+ve.size/100,re=ve.size,U=0;U<1e5&&(O=ve.start+U*re,!(re>0?O>=K:O<=K));U++)O>H[0]&&O<H[1]&&N.push(O);else N=B.map(function(ee){return ee-_.size/2}),N.push(N[N.length-1]+_.size)}else F._fillcolor&&typeof F._fillcolor=="string"&&(N=[0]);return _.size<0&&(B.reverse(),N.reverse()),{line:B,fill:N}}function w(z,F,H){var _=z._fullLayout,B=F.orientation==="v",N={type:"linear",range:H,tickmode:F.tickmode,nticks:F.nticks,tick0:F.tick0,dtick:F.dtick,tickvals:F.tickvals,ticktext:F.ticktext,ticks:F.ticks,ticklen:F.ticklen,tickwidth:F.tickwidth,tickcolor:F.tickcolor,showticklabels:F.showticklabels,labelalias:F.labelalias,ticklabelposition:F.ticklabelposition,ticklabeloverflow:F.ticklabeloverflow,ticklabelstep:F.ticklabelstep,tickfont:F.tickfont,tickangle:F.tickangle,tickformat:F.tickformat,exponentformat:F.exponentformat,minexponent:F.minexponent,separatethousands:F.separatethousands,showexponent:F.showexponent,showtickprefix:F.showtickprefix,tickprefix:F.tickprefix,showticksuffix:F.showticksuffix,ticksuffix:F.ticksuffix,title:F.title,showline:!0,anchor:"free",side:B?"right":"bottom",position:1},O=B?"y":"x",U={type:"linear",_id:O+F._id},K={letter:O,font:_.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:_.calendar};function re(ae,ue){return d.coerce(N,U,v,ae,ue)}return c(N,U,re,K,_),b(N,U,re,K),U}W.exports={draw:T}},76228:function(W,V,e){var y=e(71828);W.exports=function(a){return y.isPlainObject(a.colorbar)}},12311:function(W,V,e){W.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(W,V,e){var y=e(63583),C=e(30587).counter,a=e(78607),L=e(63282).scales;a(L),W.exports=function(h,d){h=h||"",d=d||{};var t=d.cLetter||"c";"onlyIfNumerical"in d&&d.onlyIfNumerical;var r="noScale"in d?d.noScale:h==="marker.line",u="showScaleDflt"in d?d.showScaleDflt:t==="z",n=typeof d.colorscaleDflt=="string"?L[d.colorscaleDflt]:null,i=d.editTypeOverride||"",s;"colorAttr"in d?(s=d.colorAttr,d.colorAttr):s={z:"z",c:"color"}[t];var o=t+"auto",m=t+"min",c=t+"max",b=t+"mid",v={};v[m]=v[c]=void 0;var l={};l[o]=!1;var p={};return s==="color"&&(p.color={valType:"color",arrayOk:!0,editType:i||"style"},d.anim&&(p.color.anim=!0)),p[o]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},p[m]={valType:"number",dflt:null,editType:i||"plot",impliedEdits:l},p[c]={valType:"number",dflt:null,editType:i||"plot",impliedEdits:l},p[b]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},p.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},p.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},p.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(p.showscale={valType:"boolean",dflt:u,editType:"calc"},p.colorbar=y),d.noColorAxis||(p.coloraxis={valType:"subplotid",regex:C("coloraxis"),dflt:null,editType:"calc"}),p}},78803:function(W,V,e){var y=e(92770),C=e(71828),a=e(52075).extractOpts;W.exports=function(x,h,d){var t=x._fullLayout,r=d.vals,u=d.containerStr,n=u?C.nestedProperty(h,u).get():h,i=a(n),s=i.auto!==!1,o=i.min,m=i.max,c=i.mid,b=function(){return C.aggNums(Math.min,null,r)},v=function(){return C.aggNums(Math.max,null,r)};if(o===void 0?o=b():s&&(n._colorAx&&y(o)?o=Math.min(o,b()):o=b()),m===void 0?m=v():s&&(n._colorAx&&y(m)?m=Math.max(m,v()):m=v()),s&&c!==void 0&&(m-c>c-o?o=c-(m-c):m-c<c-o&&(m=c+(c-o))),o===m&&(o-=.5,m+=.5),i._sync("min",o),i._sync("max",m),i.autocolorscale){var l;o*m<0?l=t.colorscale.diverging:o>=0?l=t.colorscale.sequential:l=t.colorscale.sequentialminus,i._sync("colorscale",l)}}},33046:function(W,V,e){var y=e(71828),C=e(52075).hasColorscale,a=e(52075).extractOpts;W.exports=function(x,h){function d(o,m){var c=o["_"+m];c!==void 0&&(o[m]=c)}function t(o,m){var c=m.container?y.nestedProperty(o,m.container).get():o;if(c)if(c.coloraxis)c._colorAx=h[c.coloraxis];else{var b=a(c),v=b.auto;(v||b.min===void 0)&&d(c,m.min),(v||b.max===void 0)&&d(c,m.max),b.autocolorscale&&d(c,"colorscale")}}for(var r=0;r<x.length;r++){var u=x[r],n=u._module.colorbar;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++)t(u,n[i]);else t(u,n);C(u,"marker.line")&&t(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in h._colorAxes)t(h[s],{min:"cmin",max:"cmax"})}},1586:function(W,V,e){var y=e(92770),C=e(71828),a=e(76228),L=e(62499),x=e(63282).isValid,h=e(73972).traceIs;function d(t,r){var u=r.slice(0,r.length-1);return r?C.nestedProperty(t,u).get()||{}:t}W.exports=function t(r,u,n,i,s){var o=s.prefix,m=s.cLetter,c="_module"in u,b=d(r,o),v=d(u,o),l=d(u._template||{},o)||{},p=function(){return delete r.coloraxis,delete u.coloraxis,t(r,u,n,i,s)};if(c){var S=n._colorAxes||{},M=i(o+"coloraxis");if(M){var R=h(u,"contour")&&C.nestedProperty(u,"contours.coloring").get()||"heatmap",T=S[M];T?(T[2].push(p),T[0]!==R&&(T[0]=!1,C.warn(["Ignoring coloraxis:",M,"setting","as it is linked to incompatible colorscales."].join(" ")))):S[M]=[R,u,[p]];return}}var E=b[m+"min"],A=b[m+"max"],f=y(E)&&y(A)&&E<A,P=i(o+m+"auto",!f);P?i(o+m+"mid"):(i(o+m+"min"),i(o+m+"max"));var w=b.colorscale,z=l.colorscale,F;if(w!==void 0&&(F=!x(w)),z!==void 0&&(F=!x(z)),i(o+"autocolorscale",F),i(o+"colorscale"),i(o+"reversescale"),o!=="marker.line."){var H;o&&c&&(H=a(b));var _=i(o+"showscale",H);_&&(o&&l&&(v._template=l),L(b,v,n))}}},52075:function(W,V,e){var y=e(39898),C=e(84267),a=e(92770),L=e(71828),x=e(7901),h=e(63282).isValid;function d(c,b,v){var l=b?L.nestedProperty(c,b).get()||{}:c,p=l[v||"color"],S=!1;if(L.isArrayOrTypedArray(p)){for(var M=0;M<p.length;M++)if(a(p[M])){S=!0;break}}return L.isPlainObject(l)&&(S||l.showscale===!0||a(l.cmin)&&a(l.cmax)||h(l.colorscale)||L.isPlainObject(l.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function u(c){var b=c._colorAx,v=b||c,l={},p,S,M;for(S=0;S<t.length;S++)M=t[S],l[M]=v[M];if(b)for(p="c",S=0;S<r.length;S++)M=r[S],l[M]=v["c"+M];else{var R;for(S=0;S<r.length;S++){if(M=r[S],R="c"+M,R in v){l[M]=v[R];continue}R="z"+M,R in v&&(l[M]=v[R])}p=R.charAt(0)}return l._sync=function(T,E){var A=r.indexOf(T)!==-1?p+T:T;v[A]=v["_"+A]=E},l}function n(c){for(var b=u(c),v=b.min,l=b.max,p=b.reversescale?i(b.colorscale):b.colorscale,S=p.length,M=new Array(S),R=new Array(S),T=0;T<S;T++){var E=p[T];M[T]=v+E[0]*(l-v),R[T]=E[1]}return{domain:M,range:R}}function i(c){for(var b=c.length,v=new Array(b),l=b-1,p=0;l>=0;l--,p++){var S=c[l];v[p]=[1-S[0],S[1]]}return v}function s(c,b){b=b||{};for(var v=c.domain,l=c.range,p=l.length,S=new Array(p),M=0;M<p;M++){var R=C(l[M]).toRgb();S[M]=[R.r,R.g,R.b,R.a]}var T=y.scale.linear().domain(v).range(S).clamp(!0),E=b.noNumericCheck,A=b.returnArray,f;return E&&A?f=T:E?f=function(P){return m(T(P))}:A?f=function(P){return a(P)?T(P):C(P).isValid()?P:x.defaultLine}:f=function(P){return a(P)?m(T(P)):C(P).isValid()?P:x.defaultLine},f.domain=T.domain,f.range=function(){return l},f}function o(c,b){return s(n(c),b)}function m(c){var b={r:c[0],g:c[1],b:c[2],a:c[3]};return C(b).toRgbString()}W.exports={hasColorscale:d,extractOpts:u,extractScale:n,flipScale:i,makeColorScaleFunc:s,makeColorScaleFuncFromTrace:o}},21081:function(W,V,e){var y=e(63282),C=e(52075);W.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:y.scales,defaultScale:y.defaultScale,getScale:y.get,isValidScale:y.isValid,hasColorscale:C.hasColorscale,extractOpts:C.extractOpts,extractScale:C.extractScale,flipScale:C.flipScale,makeColorScaleFunc:C.makeColorScaleFunc,makeColorScaleFuncFromTrace:C.makeColorScaleFuncFromTrace}},72673:function(W,V,e){var y=e(1426).extendFlat,C=e(50693),a=e(63282).scales;W.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:y({_isSubplotObj:!0,editType:"calc"},C("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(W,V,e){var y=e(71828),C=e(44467),a=e(72673),L=e(1586);W.exports=function(h,d){function t(c,b){return y.coerce(h,d,a,c,b)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=d._colorAxes,u,n;function i(c,b){return y.coerce(u,n,a.coloraxis,c,b)}for(var s in r){var o=r[s];if(o[0])u=h[s]||{},n=C.newContainer(d,s,"coloraxis"),n._name=s,L(u,n,d,i,{prefix:"",cLetter:"c"});else{for(var m=0;m<o[2].length;m++)o[2][m]();delete d._colorAxes[s]}}}},63282:function(W,V,e){var y=e(84267),C={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=C.RdBu;function L(d,t){if(t||(t=a),!d)return t;function r(){try{d=C[d]||JSON.parse(d)}catch{d=t}}return typeof d=="string"&&(r(),typeof d=="string"&&r()),x(d)?d:t}function x(d){var t=0;if(!Array.isArray(d)||d.length<2||!d[0]||!d[d.length-1]||+d[0][0]!=0||+d[d.length-1][0]!=1)return!1;for(var r=0;r<d.length;r++){var u=d[r];if(u.length!==2||+u[0]<t||!y(u[1]).isValid())return!1;t=+u[0]}return!0}function h(d){return C[d]!==void 0?!0:x(d)}W.exports={scales:C,defaultScale:a,get:L,isValid:h}},92807:function(W){W.exports=function(e,y,C,a,L){var x=(e-C)/(a-C),h=x+y/(a-C),d=(x+h)/2;return L==="left"||L==="bottom"?x:L==="center"||L==="middle"?d:L==="right"||L==="top"?h:x<.6666666666666666-d?x:h>1.3333333333333333-d?h:d}},70461:function(W,V,e){var y=e(71828),C=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];W.exports=function(L,x,h,d){return h==="left"?L=0:h==="center"?L=1:h==="right"?L=2:L=y.constrain(Math.floor(L*3),0,2),d==="bottom"?x=0:d==="middle"?x=1:d==="top"?x=2:x=y.constrain(Math.floor(x*3),0,2),C[x][L]}},64505:function(W,V){V.selectMode=function(e){return e==="lasso"||e==="select"},V.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.openMode=function(e){return e==="drawline"||e==="drawopenpath"},V.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},V.selectingOrDrawing=function(e){return V.freeMode(e)||V.rectMode(e)}},28569:function(W,V,e){var y=e(48956),C=e(57035),a=e(38520),L=e(71828).removeElement,x=e(85555),h=W.exports={};h.align=e(92807),h.getCursor=e(70461);var d=e(26041);h.unhover=d.wrapped,h.unhoverRaw=d.raw,h.init=function(n){var i=n.gd,s=1,o=i._context.doubleClickDelay,m=n.element,c,b,v,l,p,S,M,R;i._mouseDownTime||(i._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=A,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=A,m.addEventListener("touchstart",A,{passive:!1})):m.ontouchstart=A;function T(w,z,F){return Math.abs(w)<F&&(w=0),Math.abs(z)<F&&(z=0),[w,z]}var E=n.clampFn||T;function A(w){i._dragged=!1,i._dragging=!0;var z=r(w);c=z[0],b=z[1],M=w.target,S=w,R=w.buttons===2||w.ctrlKey,typeof w.clientX>"u"&&typeof w.clientY>"u"&&(w.clientX=c,w.clientY=b),v=new Date().getTime(),v-i._mouseDownTime<o?s+=1:(s=1,i._mouseDownTime=v),n.prepFn&&n.prepFn(w,c,b),C&&!R?(p=t(),p.style.cursor=window.getComputedStyle(m).cursor):C||(p=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",P),document.addEventListener("touchend",P),n.dragmode!==!1&&(w.preventDefault(),document.addEventListener("mousemove",f),document.addEventListener("touchmove",f,{passive:!1}))}function f(w){w.preventDefault();var z=r(w),F=n.minDrag||x.MINDRAG,H=E(z[0]-c,z[1]-b,F),_=H[0],B=H[1];(_||B)&&(i._dragged=!0,h.unhover(i,w)),i._dragged&&n.moveFn&&!R&&(i._dragdata={element:m,dx:_,dy:B},n.moveFn(_,B))}function P(w){if(delete i._dragdata,n.dragmode!==!1&&(w.preventDefault(),document.removeEventListener("mousemove",f),document.removeEventListener("touchmove",f)),document.removeEventListener("mouseup",P),document.removeEventListener("touchend",P),C?L(p):l&&(p.documentElement.style.cursor=l,l=null),!i._dragging){i._dragged=!1;return}if(i._dragging=!1,new Date().getTime()-i._mouseDownTime>o&&(s=Math.max(s-1,1)),i._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(s,S),!R){var z;try{z=new MouseEvent("click",w)}catch{var F=r(w);z=document.createEvent("MouseEvents"),z.initMouseEvent("click",w.bubbles,w.cancelable,w.view,w.detail,w.screenX,w.screenY,F[0],F[1],w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget)}M.dispatchEvent(z)}i._dragging=!1,i._dragged=!1}};function t(){var u=document.createElement("div");u.className="dragcover";var n=u.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(u),u}h.coverSlip=t;function r(u){return y(u.changedTouches?u.changedTouches[0]:u,document.body)}},26041:function(W,V,e){var y=e(11086),C=e(79990),a=e(24401).getGraphDiv,L=e(26675),x=W.exports={};x.wrapped=function(h,d,t){h=a(h),h._fullLayout&&C.clear(h._fullLayout._uid+L.HOVERID),x.raw(h,d,t)},x.raw=function(d,t){var r=d._fullLayout,u=d._hoverdata;t||(t={}),!(t.target&&!d._dragged&&y.triggerHandler(d,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,t.target&&u&&d.emit("plotly_unhover",{event:t,points:u}))}},79952:function(W,V){V.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(W,V,e){var y=e(39898),C=e(71828),a=C.numberFormat,L=e(92770),x=e(84267),h=e(73972),d=e(7901),t=e(21081),r=C.strTranslate,u=e(63893),n=e(77922),i=e(18783),s=i.LINE_SPACING,o=e(37822).DESELECTDIM,m=e(34098),c=e(39984),b=e(23469).appendArrayPointValue,v=W.exports={};v.font=function(Se,Te,Ee,Ne){C.isPlainObject(Te)&&(Ne=Te.color,Ee=Te.size,Te=Te.family),Te&&Se.style("font-family",Te),Ee+1&&Se.style("font-size",Ee+"px"),Ne&&Se.call(d.fill,Ne)},v.setPosition=function(Se,Te,Ee){Se.attr("x",Te).attr("y",Ee)},v.setSize=function(Se,Te,Ee){Se.attr("width",Te).attr("height",Ee)},v.setRect=function(Se,Te,Ee,Ne,He){Se.call(v.setPosition,Te,Ee).call(v.setSize,Ne,He)},v.translatePoint=function(Se,Te,Ee,Ne){var He=Ee.c2p(Se.x),_e=Ne.c2p(Se.y);if(L(He)&&L(_e)&&Te.node())Te.node().nodeName==="text"?Te.attr("x",He).attr("y",_e):Te.attr("transform",r(He,_e));else return!1;return!0},v.translatePoints=function(Se,Te,Ee){Se.each(function(Ne){var He=y.select(this);v.translatePoint(Ne,He,Te,Ee)})},v.hideOutsideRangePoint=function(Se,Te,Ee,Ne,He,_e){Te.attr("display",Ee.isPtWithinRange(Se,He)&&Ne.isPtWithinRange(Se,_e)?null:"none")},v.hideOutsideRangePoints=function(Se,Te){if(Te._hasClipOnAxisFalse){var Ee=Te.xaxis,Ne=Te.yaxis;Se.each(function(He){var _e=He[0].trace,We=_e.xcalendar,tt=_e.ycalendar,Ke=h.traceIs(_e,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(Ke).each(function(qe){v.hideOutsideRangePoint(qe,y.select(this),Ee,Ne,We,tt)})})}},v.crispRound=function(Se,Te,Ee){return!Te||!L(Te)?Ee||0:Se._context.staticPlot?Te:Te<1?1:Math.round(Te)},v.singleLineStyle=function(Se,Te,Ee,Ne,He){Te.style("fill","none");var _e=(((Se||[])[0]||{}).trace||{}).line||{},We=Ee||_e.width||0,tt=He||_e.dash||"";d.stroke(Te,Ne||_e.color),v.dashLine(Te,tt,We)},v.lineGroupStyle=function(Se,Te,Ee,Ne){Se.style("fill","none").each(function(He){var _e=(((He||[])[0]||{}).trace||{}).line||{},We=Te||_e.width||0,tt=Ne||_e.dash||"";y.select(this).call(d.stroke,Ee||_e.color).call(v.dashLine,tt,We)})},v.dashLine=function(Se,Te,Ee){Ee=+Ee||0,Te=v.dashStyle(Te,Ee),Se.style({"stroke-dasharray":Te,"stroke-width":Ee+"px"})},v.dashStyle=function(Se,Te){Te=+Te||1;var Ee=Math.max(Te,3);return Se==="solid"?Se="":Se==="dot"?Se=Ee+"px,"+Ee+"px":Se==="dash"?Se=3*Ee+"px,"+3*Ee+"px":Se==="longdash"?Se=5*Ee+"px,"+5*Ee+"px":Se==="dashdot"?Se=3*Ee+"px,"+Ee+"px,"+Ee+"px,"+Ee+"px":Se==="longdashdot"&&(Se=5*Ee+"px,"+2*Ee+"px,"+Ee+"px,"+2*Ee+"px"),Se};function l(Se,Te,Ee){var Ne=Te.fillpattern,He=Ne&&v.getPatternAttr(Ne.shape,0,"");if(He){var _e=v.getPatternAttr(Ne.bgcolor,0,null),We=v.getPatternAttr(Ne.fgcolor,0,null),tt=Ne.fgopacity,Ke=v.getPatternAttr(Ne.size,0,8),qe=v.getPatternAttr(Ne.solidity,0,.3),rt=Te.uid;v.pattern(Se,"point",Ee,rt,He,Ke,qe,void 0,Ne.fillmode,_e,We,tt)}else Te.fillcolor&&Se.call(d.fill,Te.fillcolor)}v.singleFillStyle=function(Se,Te){var Ee=y.select(Se.node()),Ne=Ee.data(),He=((Ne[0]||[])[0]||{}).trace||{};l(Se,He,Te)},v.fillGroupStyle=function(Se,Te){Se.style("stroke-width",0).each(function(Ee){var Ne=y.select(this);Ee[0].trace&&l(Ne,Ee[0].trace,Te)})};var p=e(90998);v.symbolNames=[],v.symbolFuncs=[],v.symbolBackOffs=[],v.symbolNeedLines={},v.symbolNoDot={},v.symbolNoFill={},v.symbolList=[],Object.keys(p).forEach(function(Se){var Te=p[Se],Ee=Te.n;v.symbolList.push(Ee,String(Ee),Se,Ee+100,String(Ee+100),Se+"-open"),v.symbolNames[Ee]=Se,v.symbolFuncs[Ee]=Te.f,v.symbolBackOffs[Ee]=Te.backoff||0,Te.needLine&&(v.symbolNeedLines[Ee]=!0),Te.noDot?v.symbolNoDot[Ee]=!0:v.symbolList.push(Ee+200,String(Ee+200),Se+"-dot",Ee+300,String(Ee+300),Se+"-open-dot"),Te.noFill&&(v.symbolNoFill[Ee]=!0)});var S=v.symbolNames.length,M="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";v.symbolNumber=function(Se){if(L(Se))Se=+Se;else if(typeof Se=="string"){var Te=0;Se.indexOf("-open")>0&&(Te=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(Te+=200,Se=Se.replace("-dot","")),Se=v.symbolNames.indexOf(Se),Se>=0&&(Se+=Te)}return Se%100>=S||Se>=400?0:Math.floor(Math.max(Se,0))};function R(Se,Te,Ee,Ne){var He=Se%100;return v.symbolFuncs[He](Te,Ee,Ne)+(Se>=200?M:"")}var T={x1:1,x2:0,y1:0,y2:0},E={x1:0,x2:0,y1:1,y2:0},A=a("~f"),f={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:T},horizontalreversed:{node:"linearGradient",attrs:T,reversed:!0},vertical:{node:"linearGradient",attrs:E},verticalreversed:{node:"linearGradient",attrs:E,reversed:!0}};v.gradient=function(Se,Te,Ee,Ne,He,_e){for(var We=He.length,tt=f[Ne],Ke=new Array(We),qe=0;qe<We;qe++)tt.reversed?Ke[We-1-qe]=[A((1-He[qe][0])*100),He[qe][1]]:Ke[qe]=[A(He[qe][0]*100),He[qe][1]];var rt=Te._fullLayout,ft="g"+rt._uid+"-"+Ee,pt=rt._defs.select(".gradients").selectAll("#"+ft).data([Ne+Ke.join(";")],C.identity);pt.exit().remove(),pt.enter().append(tt.node).each(function(){var gt=y.select(this);tt.attrs&&gt.attr(tt.attrs),gt.attr("id",ft);var Mt=gt.selectAll("stop").data(Ke);Mt.exit().remove(),Mt.enter().append("stop"),Mt.each(function(Lt){var Wt=x(Lt[1]);y.select(this).attr({offset:Lt[0]+"%","stop-color":d.tinyRGB(Wt),"stop-opacity":Wt.getAlpha()})})}),Se.style(_e,J(ft,Te)).style(_e+"-opacity",null),Se.classed("gradient_filled",!0)},v.pattern=function(Se,Te,Ee,Ne,He,_e,We,tt,Ke,qe,rt,ft){var pt=Te==="legend";tt&&(Ke==="overlay"?(qe=tt,rt=d.contrast(qe)):(qe=void 0,rt=tt));var gt=Ee._fullLayout,Mt="p"+gt._uid+"-"+Ne,Lt,Wt,Je=function(Tt,It,Ht,Gt,Pt){return Gt+(Pt-Gt)*(Tt-It)/(Ht-It)},ze,Oe,Ue,ke,Me={},ce=x(rt),be=d.tinyRGB(ce),De=ce.getAlpha(),Ve=ft*De;switch(He){case"/":Lt=_e*Math.sqrt(2),Wt=_e*Math.sqrt(2),ze="M-"+Lt/4+","+Wt/4+"l"+Lt/2+",-"+Wt/2+"M0,"+Wt+"L"+Lt+",0M"+Lt/4*3+","+Wt/4*5+"l"+Lt/2+",-"+Wt/2,Oe=We*_e,ke="path",Me={d:ze,opacity:Ve,stroke:be,"stroke-width":Oe+"px"};break;case"\\":Lt=_e*Math.sqrt(2),Wt=_e*Math.sqrt(2),ze="M"+Lt/4*3+",-"+Wt/4+"l"+Lt/2+","+Wt/2+"M0,0L"+Lt+","+Wt+"M-"+Lt/4+","+Wt/4*3+"l"+Lt/2+","+Wt/2,Oe=We*_e,ke="path",Me={d:ze,opacity:Ve,stroke:be,"stroke-width":Oe+"px"};break;case"x":Lt=_e*Math.sqrt(2),Wt=_e*Math.sqrt(2),ze="M-"+Lt/4+","+Wt/4+"l"+Lt/2+",-"+Wt/2+"M0,"+Wt+"L"+Lt+",0M"+Lt/4*3+","+Wt/4*5+"l"+Lt/2+",-"+Wt/2+"M"+Lt/4*3+",-"+Wt/4+"l"+Lt/2+","+Wt/2+"M0,0L"+Lt+","+Wt+"M-"+Lt/4+","+Wt/4*3+"l"+Lt/2+","+Wt/2,Oe=_e-_e*Math.sqrt(1-We),ke="path",Me={d:ze,opacity:Ve,stroke:be,"stroke-width":Oe+"px"};break;case"|":Lt=_e,Wt=_e,ke="path",ze="M"+Lt/2+",0L"+Lt/2+","+Wt,Oe=We*_e,ke="path",Me={d:ze,opacity:Ve,stroke:be,"stroke-width":Oe+"px"};break;case"-":Lt=_e,Wt=_e,ke="path",ze="M0,"+Wt/2+"L"+Lt+","+Wt/2,Oe=We*_e,ke="path",Me={d:ze,opacity:Ve,stroke:be,"stroke-width":Oe+"px"};break;case"+":Lt=_e,Wt=_e,ke="path",ze="M"+Lt/2+",0L"+Lt/2+","+Wt+"M0,"+Wt/2+"L"+Lt+","+Wt/2,Oe=_e-_e*Math.sqrt(1-We),ke="path",Me={d:ze,opacity:Ve,stroke:be,"stroke-width":Oe+"px"};break;case".":Lt=_e,Wt=_e,We<Math.PI/4?Ue=Math.sqrt(We*_e*_e/Math.PI):Ue=Je(We,Math.PI/4,1,_e/2,_e/Math.sqrt(2)),ke="circle",Me={cx:Lt/2,cy:Wt/2,r:Ue,opacity:Ve,fill:be};break}var it=[He||"noSh",qe||"noBg",rt||"noFg",_e,We].join(";"),ot=gt._defs.select(".patterns").selectAll("#"+Mt).data([it],C.identity);ot.exit().remove(),ot.enter().append("pattern").each(function(){var Tt=y.select(this);if(Tt.attr({id:Mt,width:Lt+"px",height:Wt+"px",patternUnits:"userSpaceOnUse",patternTransform:pt?"scale(0.8)":""}),qe){var It=x(qe),Ht=d.tinyRGB(It),Gt=It.getAlpha(),Pt=Tt.selectAll("rect").data([0]);Pt.exit().remove(),Pt.enter().append("rect").attr({width:Lt+"px",height:Wt+"px",fill:Ht,"fill-opacity":Gt})}var Jt=Tt.selectAll(ke).data([0]);Jt.exit().remove(),Jt.enter().append(ke).attr(Me)}),Se.style("fill",J(Mt,Ee)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},v.initGradients=function(Se){var Te=Se._fullLayout,Ee=C.ensureSingle(Te._defs,"g","gradients");Ee.selectAll("linearGradient,radialGradient").remove(),y.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},v.initPatterns=function(Se){var Te=Se._fullLayout,Ee=C.ensureSingle(Te._defs,"g","patterns");Ee.selectAll("pattern").remove(),y.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},v.getPatternAttr=function(Se,Te,Ee){return Se&&C.isArrayOrTypedArray(Se)?Te<Se.length?Se[Te]:Ee:Se},v.pointStyle=function(Se,Te,Ee,Ne){if(Se.size()){var He=v.makePointStyleFns(Te);Se.each(function(_e){v.singlePointStyle(_e,y.select(this),Te,He,Ee,Ne)})}},v.singlePointStyle=function(Se,Te,Ee,Ne,He,_e){var We=Ee.marker,tt=We.line;if(_e&&_e.i>=0&&Se.i===void 0&&(Se.i=_e.i),Te.style("opacity",Ne.selectedOpacityFn?Ne.selectedOpacityFn(Se):Se.mo===void 0?We.opacity:Se.mo),Ne.ms2mrc){var Ke;Se.ms==="various"||We.size==="various"?Ke=3:Ke=Ne.ms2mrc(Se.ms),Se.mrc=Ke,Ne.selectedSizeFn&&(Ke=Se.mrc=Ne.selectedSizeFn(Se));var qe=v.symbolNumber(Se.mx||We.symbol)||0;Se.om=qe%200>=100;var rt=Fe(Se,Ee),ft=q(Se,Ee);Te.attr("d",R(qe,Ke,rt,ft))}var pt=!1,gt,Mt,Lt;if(Se.so)Lt=tt.outlierwidth,Mt=tt.outliercolor,gt=We.outliercolor;else{var Wt=(tt||{}).width;Lt=(Se.mlw+1||Wt+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Se?Mt=Se.mlcc=Ne.lineScale(Se.mlc):C.isArrayOrTypedArray(tt.color)?Mt=d.defaultLine:Mt=tt.color,C.isArrayOrTypedArray(We.color)&&(gt=d.defaultLine,pt=!0),"mc"in Se?gt=Se.mcc=Ne.markerScale(Se.mc):gt=We.color||We.colors||"rgba(0,0,0,0)",Ne.selectedColorFn&&(gt=Ne.selectedColorFn(Se))}if(Se.om)Te.call(d.stroke,gt).style({"stroke-width":(Lt||1)+"px",fill:"none"});else{Te.style("stroke-width",(Se.isBlank?0:Lt)+"px");var Je=We.gradient,ze=Se.mgt;ze?pt=!0:ze=Je&&Je.type,C.isArrayOrTypedArray(ze)&&(ze=ze[0],f[ze]||(ze=0));var Oe=We.pattern,Ue=Oe&&v.getPatternAttr(Oe.shape,Se.i,"");if(ze&&ze!=="none"){var ke=Se.mgc;ke?pt=!0:ke=Je.color;var Me=Ee.uid;pt&&(Me+="-"+Se.i),v.gradient(Te,He,Me,ze,[[0,ke],[1,gt]],"fill")}else if(Ue){var ce=!1,be=Oe.fgcolor;!be&&_e&&_e.color&&(be=_e.color,ce=!0);var De=v.getPatternAttr(be,Se.i,_e&&_e.color||null),Ve=v.getPatternAttr(Oe.bgcolor,Se.i,null),it=Oe.fgopacity,ot=v.getPatternAttr(Oe.size,Se.i,8),Tt=v.getPatternAttr(Oe.solidity,Se.i,.3);ce=ce||Se.mcc||C.isArrayOrTypedArray(Oe.shape)||C.isArrayOrTypedArray(Oe.bgcolor)||C.isArrayOrTypedArray(Oe.fgcolor)||C.isArrayOrTypedArray(Oe.size)||C.isArrayOrTypedArray(Oe.solidity);var It=Ee.uid;ce&&(It+="-"+Se.i),v.pattern(Te,"point",He,It,Ue,ot,Tt,Se.mcc,Oe.fillmode,Ve,De,it)}else C.isArrayOrTypedArray(gt)?d.fill(Te,gt[Se.i]):d.fill(Te,gt);Lt&&d.stroke(Te,Mt)}},v.makePointStyleFns=function(Se){var Te={},Ee=Se.marker;return Te.markerScale=v.tryColorscale(Ee,""),Te.lineScale=v.tryColorscale(Ee,"line"),h.traceIs(Se,"symbols")&&(Te.ms2mrc=m.isBubble(Se)?c(Se):function(){return(Ee.size||6)/2}),Se.selectedpoints&&C.extendFlat(Te,v.makeSelectedPointStyleFns(Se)),Te},v.makeSelectedPointStyleFns=function(Se){var Te={},Ee=Se.selected||{},Ne=Se.unselected||{},He=Se.marker||{},_e=Ee.marker||{},We=Ne.marker||{},tt=He.opacity,Ke=_e.opacity,qe=We.opacity,rt=Ke!==void 0,ft=qe!==void 0;(C.isArrayOrTypedArray(tt)||rt||ft)&&(Te.selectedOpacityFn=function(Ue){var ke=Ue.mo===void 0?He.opacity:Ue.mo;return Ue.selected?rt?Ke:ke:ft?qe:o*ke});var pt=He.color,gt=_e.color,Mt=We.color;(gt||Mt)&&(Te.selectedColorFn=function(Ue){var ke=Ue.mcc||pt;return Ue.selected?gt||ke:Mt||ke});var Lt=He.size,Wt=_e.size,Je=We.size,ze=Wt!==void 0,Oe=Je!==void 0;return h.traceIs(Se,"symbols")&&(ze||Oe)&&(Te.selectedSizeFn=function(Ue){var ke=Ue.mrc||Lt/2;return Ue.selected?ze?Wt/2:ke:Oe?Je/2:ke}),Te},v.makeSelectedTextStyleFns=function(Se){var Te={},Ee=Se.selected||{},Ne=Se.unselected||{},He=Se.textfont||{},_e=Ee.textfont||{},We=Ne.textfont||{},tt=He.color,Ke=_e.color,qe=We.color;return Te.selectedTextColorFn=function(rt){var ft=rt.tc||tt;return rt.selected?Ke||ft:qe||(Ke?ft:d.addOpacity(ft,o))},Te},v.selectedPointStyle=function(Se,Te){if(!(!Se.size()||!Te.selectedpoints)){var Ee=v.makeSelectedPointStyleFns(Te),Ne=Te.marker||{},He=[];Ee.selectedOpacityFn&&He.push(function(_e,We){_e.style("opacity",Ee.selectedOpacityFn(We))}),Ee.selectedColorFn&&He.push(function(_e,We){d.fill(_e,Ee.selectedColorFn(We))}),Ee.selectedSizeFn&&He.push(function(_e,We){var tt=We.mx||Ne.symbol||0,Ke=Ee.selectedSizeFn(We);_e.attr("d",R(v.symbolNumber(tt),Ke,Fe(We,Te),q(We,Te))),We.mrc2=Ke}),He.length&&Se.each(function(_e){for(var We=y.select(this),tt=0;tt<He.length;tt++)He[tt](We,_e)})}},v.tryColorscale=function(Se,Te){var Ee=Te?C.nestedProperty(Se,Te).get():Se;if(Ee){var Ne=Ee.color;if((Ee.colorscale||Ee._colorAx)&&C.isArrayOrTypedArray(Ne))return t.makeColorScaleFuncFromTrace(Ee)}return C.identity};var P={start:1,end:-1,middle:0,bottom:1,top:-1};function w(Se,Te,Ee,Ne,He){var _e=y.select(Se.node().parentNode),We=Te.indexOf("top")!==-1?"top":Te.indexOf("bottom")!==-1?"bottom":"middle",tt=Te.indexOf("left")!==-1?"end":Te.indexOf("right")!==-1?"start":"middle",Ke=Ne?Ne/.8+1:0,qe=(u.lineCount(Se)-1)*s+1,rt=P[tt]*Ke,ft=Ee*.75+P[We]*Ke+(P[We]-1)*qe*Ee/2;Se.attr("text-anchor",tt),He||_e.attr("transform",r(rt,ft))}function z(Se,Te){var Ee=Se.ts||Te.textfont.size;return L(Ee)&&Ee>0?Ee:0}v.textPointStyle=function(Se,Te,Ee){if(Se.size()){var Ne;if(Te.selectedpoints){var He=v.makeSelectedTextStyleFns(Te);Ne=He.selectedTextColorFn}var _e=Te.texttemplate,We=Ee._fullLayout;Se.each(function(tt){var Ke=y.select(this),qe=_e?C.extractOption(tt,Te,"txt","texttemplate"):C.extractOption(tt,Te,"tx","text");if(!qe&&qe!==0){Ke.remove();return}if(_e){var rt=Te._module.formatLabels,ft=rt?rt(tt,Te,We):{},pt={};b(pt,Te,tt.i);var gt=Te._meta||{};qe=C.texttemplateString(qe,ft,We._d3locale,pt,tt,gt)}var Mt=tt.tp||Te.textposition,Lt=z(tt,Te),Wt=Ne?Ne(tt):tt.tc||Te.textfont.color;Ke.call(v.font,tt.tf||Te.textfont.family,Lt,Wt).text(qe).call(u.convertToTspans,Ee).call(w,Mt,Lt,tt.mrc)})}},v.selectedTextStyle=function(Se,Te){if(!(!Se.size()||!Te.selectedpoints)){var Ee=v.makeSelectedTextStyleFns(Te);Se.each(function(Ne){var He=y.select(this),_e=Ee.selectedTextColorFn(Ne),We=Ne.tp||Te.textposition,tt=z(Ne,Te);d.fill(He,_e);var Ke=h.traceIs(Te,"bar-like");w(He,We,tt,Ne.mrc2||Ne.mrc,Ke)})}};var F=.5;v.smoothopen=function(Se,Te){if(Se.length<3)return"M"+Se.join("L");var Ee="M"+Se[0],Ne=[],He;for(He=1;He<Se.length-1;He++)Ne.push(U(Se[He-1],Se[He],Se[He+1],Te));for(Ee+="Q"+Ne[0][0]+" "+Se[1],He=2;He<Se.length-1;He++)Ee+="C"+Ne[He-2][1]+" "+Ne[He-1][0]+" "+Se[He];return Ee+="Q"+Ne[Se.length-3][1]+" "+Se[Se.length-1],Ee},v.smoothclosed=function(Se,Te){if(Se.length<3)return"M"+Se.join("L")+"Z";var Ee="M"+Se[0],Ne=Se.length-1,He=[U(Se[Ne],Se[0],Se[1],Te)],_e;for(_e=1;_e<Ne;_e++)He.push(U(Se[_e-1],Se[_e],Se[_e+1],Te));for(He.push(U(Se[Ne-1],Se[Ne],Se[0],Te)),_e=1;_e<=Ne;_e++)Ee+="C"+He[_e-1][1]+" "+He[_e][0]+" "+Se[_e];return Ee+="C"+He[Ne][1]+" "+He[0][0]+" "+Se[0]+"Z",Ee};var H,_;function B(Se,Te,Ee){return Ee&&(Se=ae(Se)),Te?O(Se[1]):N(Se[0])}function N(Se){var Te=y.round(Se,2);return H=Te,Te}function O(Se){var Te=y.round(Se,2);return _=Te,Te}function U(Se,Te,Ee,Ne){var He=Se[0]-Te[0],_e=Se[1]-Te[1],We=Ee[0]-Te[0],tt=Ee[1]-Te[1],Ke=Math.pow(He*He+_e*_e,F/2),qe=Math.pow(We*We+tt*tt,F/2),rt=(qe*qe*He-Ke*Ke*We)*Ne,ft=(qe*qe*_e-Ke*Ke*tt)*Ne,pt=3*qe*(Ke+qe),gt=3*Ke*(Ke+qe);return[[N(Te[0]+(pt&&rt/pt)),O(Te[1]+(pt&&ft/pt))],[N(Te[0]-(gt&&rt/gt)),O(Te[1]-(gt&&ft/gt))]]}var K={hv:function(Se,Te,Ee){return"H"+N(Te[0])+"V"+B(Te,1,Ee)},vh:function(Se,Te,Ee){return"V"+O(Te[1])+"H"+B(Te,0,Ee)},hvh:function(Se,Te,Ee){return"H"+N((Se[0]+Te[0])/2)+"V"+O(Te[1])+"H"+B(Te,0,Ee)},vhv:function(Se,Te,Ee){return"V"+O((Se[1]+Te[1])/2)+"H"+N(Te[0])+"V"+B(Te,1,Ee)}},re=function(Se,Te,Ee){return"L"+B(Te,0,Ee)+","+B(Te,1,Ee)};v.steps=function(Se){var Te=K[Se]||re;return function(Ee){for(var Ne="M"+N(Ee[0][0])+","+O(Ee[0][1]),He=Ee.length,_e=1;_e<He;_e++)Ne+=Te(Ee[_e-1],Ee[_e],_e===He-1);return Ne}};function ae(Se,Te){var Ee=Se.backoff,Ne=Se.trace,He=Se.d,_e=Se.i;if(Ee&&Ne&&Ne.marker&&Ne.marker.angle%360===0&&Ne.line&&Ne.line.shape!=="spline"){var We=C.isArrayOrTypedArray(Ee),tt=Se,Ke=Te?Te[0]:H||0,qe=Te?Te[1]:_||0,rt=tt[0],ft=tt[1],pt=rt-Ke,gt=ft-qe,Mt=Math.atan2(gt,pt),Lt=We?Ee[_e]:Ee;if(Lt==="auto"){var Wt=tt.i;Ne.type==="scatter"&&Wt--;var Je=tt.marker,ze=Je.symbol;C.isArrayOrTypedArray(ze)&&(ze=ze[Wt]);var Oe=Je.size;C.isArrayOrTypedArray(Oe)&&(Oe=Oe[Wt]),Lt=Je?v.symbolBackOffs[v.symbolNumber(ze)]*Oe:0,Lt+=v.getMarkerStandoff(He[Wt],Ne)||0}var Ue=rt-Lt*Math.cos(Mt),ke=ft-Lt*Math.sin(Mt);(Ue<=rt&&Ue>=Ke||Ue>=rt&&Ue<=Ke)&&(ke<=ft&&ke>=qe||ke>=ft&&ke<=qe)&&(Se=[Ue,ke])}return Se}v.applyBackoff=ae,v.makeTester=function(){var Se=C.ensureSingleById(y.select("body"),"svg","js-plotly-tester",function(Ee){Ee.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Te=C.ensureSingle(Se,"path","js-reference-point",function(Ee){Ee.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});v.tester=Se,v.testref=Te},v.savedBBoxes={};var ue=0,ve=1e4;v.bBox=function(Se,Te,Ee){Ee||(Ee=ee(Se));var Ne;if(Ee){if(Ne=v.savedBBoxes[Ee],Ne)return C.extendFlat({},Ne)}else if(Se.childNodes.length===1){var He=Se.childNodes[0];if(Ee=ee(He),Ee){var _e=+He.getAttribute("x")||0,We=+He.getAttribute("y")||0,tt=He.getAttribute("transform");if(!tt){var Ke=v.bBox(He,!1,Ee);return _e&&(Ke.left+=_e,Ke.right+=_e),We&&(Ke.top+=We,Ke.bottom+=We),Ke}if(Ee+="~"+_e+"~"+We+"~"+tt,Ne=v.savedBBoxes[Ee],Ne)return C.extendFlat({},Ne)}}var qe,rt;Te?qe=Se:(rt=v.tester.node(),qe=Se.cloneNode(!0),rt.appendChild(qe)),y.select(qe).attr("transform",null).call(u.positionText,0,0);var ft=qe.getBoundingClientRect(),pt=v.testref.node().getBoundingClientRect();Te||rt.removeChild(qe);var gt={height:ft.height,width:ft.width,left:ft.left-pt.left,top:ft.top-pt.top,right:ft.right-pt.left,bottom:ft.bottom-pt.top};return ue>=ve&&(v.savedBBoxes={},ue=0),Ee&&(v.savedBBoxes[Ee]=gt),ue++,C.extendFlat({},gt)};function ee(Se){var Te=Se.getAttribute("data-unformatted");if(Te!==null)return Te+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}v.setClipUrl=function(Se,Te,Ee){Se.attr("clip-path",J(Te,Ee))};function J(Se,Te){if(!Se)return null;var Ee=Te._context,Ne=Ee._exportedPlot?"":Ee._baseUrl||"";return Ne?"url('"+Ne+"#"+Se+"')":"url(#"+Se+")"}v.getTranslate=function(Se){var Te=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ee=Se.attr?"attr":"getAttribute",Ne=Se[Ee]("transform")||"",He=Ne.replace(Te,function(_e,We,tt){return[We,tt].join(" ")}).split(" ");return{x:+He[0]||0,y:+He[1]||0}},v.setTranslate=function(Se,Te,Ee){var Ne=/(\btranslate\(.*?\);?)/,He=Se.attr?"attr":"getAttribute",_e=Se.attr?"attr":"setAttribute",We=Se[He]("transform")||"";return Te=Te||0,Ee=Ee||0,We=We.replace(Ne,"").trim(),We+=r(Te,Ee),We=We.trim(),Se[_e]("transform",We),We},v.getScale=function(Se){var Te=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ee=Se.attr?"attr":"getAttribute",Ne=Se[Ee]("transform")||"",He=Ne.replace(Te,function(_e,We,tt){return[We,tt].join(" ")}).split(" ");return{x:+He[0]||1,y:+He[1]||1}},v.setScale=function(Se,Te,Ee){var Ne=/(\bscale\(.*?\);?)/,He=Se.attr?"attr":"getAttribute",_e=Se.attr?"attr":"setAttribute",We=Se[He]("transform")||"";return Te=Te||1,Ee=Ee||1,We=We.replace(Ne,"").trim(),We+="scale("+Te+","+Ee+")",We=We.trim(),Se[_e]("transform",We),We};var Q=/\s*sc.*/;v.setPointGroupScale=function(Se,Te,Ee){if(Te=Te||1,Ee=Ee||1,!!Se){var Ne=Te===1&&Ee===1?"":"scale("+Te+","+Ee+")";Se.each(function(){var He=(this.getAttribute("transform")||"").replace(Q,"");He+=Ne,He=He.trim(),this.setAttribute("transform",He)})}};var X=/translate\([^)]*\)\s*$/;v.setTextPointsScale=function(Se,Te,Ee){Se&&Se.each(function(){var Ne,He=y.select(this),_e=He.select("text");if(_e.node()){var We=parseFloat(_e.attr("x")||0),tt=parseFloat(_e.attr("y")||0),Ke=(He.attr("transform")||"").match(X);Te===1&&Ee===1?Ne=[]:Ne=[r(We,tt),"scale("+Te+","+Ee+")",r(-We,-tt)],Ke&&Ne.push(Ke),He.attr("transform",Ne.join(""))}})};function q(Se,Te){var Ee;return Se&&(Ee=Se.mf),Ee===void 0&&(Ee=Te.marker&&Te.marker.standoff||0),!Te._geo&&!Te._xA?-Ee:Ee}v.getMarkerStandoff=q;var se=Math.atan2,Y=Math.cos,Z=Math.sin;function ie(Se,Te){var Ee=Te[0],Ne=Te[1];return[Ee*Y(Se)-Ne*Z(Se),Ee*Z(Se)+Ne*Y(Se)]}var te,fe,de,we,Ae,Re;function Fe(Se,Te){var Ee=Se.ma;Ee===void 0&&(Ee=Te.marker.angle||0);var Ne,He,_e=Te.marker.angleref;if(_e==="previous"||_e==="north"){if(Te._geo){var We=Te._geo.project(Se.lonlat);Ne=We[0],He=We[1]}else{var tt=Te._xA,Ke=Te._yA;if(tt&&Ke)Ne=tt.c2p(Se.x),He=Ke.c2p(Se.y);else return 90}if(Te._geo){var qe=Se.lonlat[0],rt=Se.lonlat[1],ft=Te._geo.project([qe,rt+1e-5]),pt=Te._geo.project([qe+1e-5,rt]),gt=se(pt[1]-He,pt[0]-Ne),Mt=se(ft[1]-He,ft[0]-Ne),Lt;if(_e==="north")Lt=Ee/180*Math.PI;else if(_e==="previous"){var Wt=qe/180*Math.PI,Je=rt/180*Math.PI,ze=te/180*Math.PI,Oe=fe/180*Math.PI,Ue=ze-Wt,ke=Y(Oe)*Z(Ue),Me=Z(Oe)*Y(Je)-Y(Oe)*Z(Je)*Y(Ue);Lt=-se(ke,Me)-Math.PI,te=qe,fe=rt}var ce=ie(gt,[Y(Lt),0]),be=ie(Mt,[Z(Lt),0]);Ee=se(ce[1]+be[1],ce[0]+be[0])/Math.PI*180,_e==="previous"&&!(Re===Te.uid&&Se.i===Ae+1)&&(Ee=null)}if(_e==="previous"&&!Te._geo)if(Re===Te.uid&&Se.i===Ae+1&&L(Ne)&&L(He)){var De=Ne-de,Ve=He-we,it=Te.line&&Te.line.shape||"",ot=it.slice(it.length-1);ot==="h"&&(Ve=0),ot==="v"&&(De=0),Ee+=se(Ve,De)/Math.PI*180+90}else Ee=null}return de=Ne,we=He,Ae=Se.i,Re=Te.uid,Ee}v.getMarkerAngle=Fe},90998:function(W,V,e){var y=e(95616),C=e(39898).round,a="M0,0Z",L=Math.sqrt(2),x=Math.sqrt(3),h=Math.PI,d=Math.cos,t=Math.sin;W.exports={circle:{n:0,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l="M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z";return b?o(c,b,l):l}},square:{n:1,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")}},diamond:{n:2,f:function(m,c,b){if(r(c))return a;var v=C(m*1.3,2);return o(c,b,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"Z")}},cross:{n:3,f:function(m,c,b){if(r(c))return a;var v=C(m*.4,2),l=C(m*1.2,2);return o(c,b,"M"+l+","+v+"H"+v+"V"+l+"H-"+v+"V"+v+"H-"+l+"V-"+v+"H-"+v+"V-"+l+"H"+v+"V-"+v+"H"+l+"Z")}},x:{n:4,f:function(m,c,b){if(r(c))return a;var v=C(m*.8/L,2),l="l"+v+","+v,p="l"+v+",-"+v,S="l-"+v+",-"+v,M="l-"+v+","+v;return o(c,b,"M0,"+v+l+p+S+p+S+M+S+M+l+M+l+"Z")}},"triangle-up":{n:5,f:function(m,c,b){if(r(c))return a;var v=C(m*2/x,2),l=C(m/2,2),p=C(m,2);return o(c,b,"M-"+v+","+l+"H"+v+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(m,c,b){if(r(c))return a;var v=C(m*2/x,2),l=C(m/2,2),p=C(m,2);return o(c,b,"M-"+v+",-"+l+"H"+v+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(m,c,b){if(r(c))return a;var v=C(m*2/x,2),l=C(m/2,2),p=C(m,2);return o(c,b,"M"+l+",-"+v+"V"+v+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(m,c,b){if(r(c))return a;var v=C(m*2/x,2),l=C(m/2,2),p=C(m,2);return o(c,b,"M-"+l+",-"+v+"V"+v+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(m,c,b){if(r(c))return a;var v=C(m*.6,2),l=C(m*1.2,2);return o(c,b,"M-"+l+",-"+v+"H"+v+"V"+l+"Z")}},"triangle-se":{n:10,f:function(m,c,b){if(r(c))return a;var v=C(m*.6,2),l=C(m*1.2,2);return o(c,b,"M"+v+",-"+l+"V"+v+"H-"+l+"Z")}},"triangle-sw":{n:11,f:function(m,c,b){if(r(c))return a;var v=C(m*.6,2),l=C(m*1.2,2);return o(c,b,"M"+l+","+v+"H-"+v+"V-"+l+"Z")}},"triangle-nw":{n:12,f:function(m,c,b){if(r(c))return a;var v=C(m*.6,2),l=C(m*1.2,2);return o(c,b,"M-"+v+","+l+"V-"+v+"H"+l+"Z")}},pentagon:{n:13,f:function(m,c,b){if(r(c))return a;var v=C(m*.951,2),l=C(m*.588,2),p=C(-m,2),S=C(m*-.309,2),M=C(m*.809,2);return o(c,b,"M"+v+","+S+"L"+l+","+M+"H-"+l+"L-"+v+","+S+"L0,"+p+"Z")}},hexagon:{n:14,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l=C(m/2,2),p=C(m*x/2,2);return o(c,b,"M"+p+",-"+l+"V"+l+"L0,"+v+"L-"+p+","+l+"V-"+l+"L0,-"+v+"Z")}},hexagon2:{n:15,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l=C(m/2,2),p=C(m*x/2,2);return o(c,b,"M-"+l+","+p+"H"+l+"L"+v+",0L"+l+",-"+p+"H-"+l+"L-"+v+",0Z")}},octagon:{n:16,f:function(m,c,b){if(r(c))return a;var v=C(m*.924,2),l=C(m*.383,2);return o(c,b,"M-"+l+",-"+v+"H"+l+"L"+v+",-"+l+"V"+l+"L"+l+","+v+"H-"+l+"L-"+v+","+l+"V-"+l+"Z")}},star:{n:17,f:function(m,c,b){if(r(c))return a;var v=m*1.4,l=C(v*.225,2),p=C(v*.951,2),S=C(v*.363,2),M=C(v*.588,2),R=C(-v,2),T=C(v*-.309,2),E=C(v*.118,2),A=C(v*.809,2),f=C(v*.382,2);return o(c,b,"M"+l+","+T+"H"+p+"L"+S+","+E+"L"+M+","+A+"L0,"+f+"L-"+M+","+A+"L-"+S+","+E+"L-"+p+","+T+"H-"+l+"L0,"+R+"Z")}},hexagram:{n:18,f:function(m,c,b){if(r(c))return a;var v=C(m*.66,2),l=C(m*.38,2),p=C(m*.76,2);return o(c,b,"M-"+p+",0l-"+l+",-"+v+"h"+p+"l"+l+",-"+v+"l"+l+","+v+"h"+p+"l-"+l+","+v+"l"+l+","+v+"h-"+p+"l-"+l+","+v+"l-"+l+",-"+v+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(m,c,b){if(r(c))return a;var v=C(m*x*.8,2),l=C(m*.8,2),p=C(m*1.6,2),S=C(m*4,2),M="A "+S+","+S+" 0 0 1 ";return o(c,b,"M-"+v+","+l+M+v+","+l+M+"0,-"+p+M+"-"+v+","+l+"Z")}},"star-triangle-down":{n:20,f:function(m,c,b){if(r(c))return a;var v=C(m*x*.8,2),l=C(m*.8,2),p=C(m*1.6,2),S=C(m*4,2),M="A "+S+","+S+" 0 0 1 ";return o(c,b,"M"+v+",-"+l+M+"-"+v+",-"+l+M+"0,"+p+M+v+",-"+l+"Z")}},"star-square":{n:21,f:function(m,c,b){if(r(c))return a;var v=C(m*1.1,2),l=C(m*2,2),p="A "+l+","+l+" 0 0 1 ";return o(c,b,"M-"+v+",-"+v+p+"-"+v+","+v+p+v+","+v+p+v+",-"+v+p+"-"+v+",-"+v+"Z")}},"star-diamond":{n:22,f:function(m,c,b){if(r(c))return a;var v=C(m*1.4,2),l=C(m*1.9,2),p="A "+l+","+l+" 0 0 1 ";return o(c,b,"M-"+v+",0"+p+"0,"+v+p+v+",0"+p+"0,-"+v+p+"-"+v+",0Z")}},"diamond-tall":{n:23,f:function(m,c,b){if(r(c))return a;var v=C(m*.7,2),l=C(m*1.4,2);return o(c,b,"M0,"+l+"L"+v+",0L0,-"+l+"L-"+v+",0Z")}},"diamond-wide":{n:24,f:function(m,c,b){if(r(c))return a;var v=C(m*1.4,2),l=C(m*.7,2);return o(c,b,"M0,"+l+"L"+v+",0L0,-"+l+"L-"+v+",0Z")}},hourglass:{n:25,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M"+v+","+v+"H-"+v+"L"+v+",-"+v+"H-"+v+"Z")},noDot:!0},bowtie:{n:26,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M"+v+","+v+"V-"+v+"L-"+v+","+v+"V-"+v+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l=C(m/L,2);return o(c,b,"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,c,b){if(r(c))return a;var v=C(m*1.3,2);return o(c,b,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM0,-"+v+"V"+v+"M-"+v+",0H"+v)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,c,b){if(r(c))return a;var v=C(m*1.3,2),l=C(m*.65,2);return o(c,b,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM-"+l+",-"+l+"L"+l+","+l+"M-"+l+","+l+"L"+l+",-"+l)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,c,b){if(r(c))return a;var v=C(m*1.4,2);return o(c,b,"M0,"+v+"V-"+v+"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,c,b){if(r(c))return a;var v=C(m*1.2,2),l=C(m*.85,2);return o(c,b,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,c,b){if(r(c))return a;var v=C(m/2,2),l=C(m,2);return o(c,b,"M"+v+","+l+"V-"+l+"M"+(v-l)+",-"+l+"V"+l+"M"+l+","+v+"H-"+l+"M-"+l+","+(v-l)+"H"+l)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,c,b){if(r(c))return a;var v=C(m*1.2,2),l=C(m*1.6,2),p=C(m*.8,2);return o(c,b,"M-"+v+","+p+"L0,0M"+v+","+p+"L0,0M0,-"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,c,b){if(r(c))return a;var v=C(m*1.2,2),l=C(m*1.6,2),p=C(m*.8,2);return o(c,b,"M-"+v+",-"+p+"L0,0M"+v+",-"+p+"L0,0M0,"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,c,b){if(r(c))return a;var v=C(m*1.2,2),l=C(m*1.6,2),p=C(m*.8,2);return o(c,b,"M"+p+","+v+"L0,0M"+p+",-"+v+"L0,0M-"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,c,b){if(r(c))return a;var v=C(m*1.2,2),l=C(m*1.6,2),p=C(m*.8,2);return o(c,b,"M-"+p+","+v+"L0,0M-"+p+",-"+v+"L0,0M"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,c,b){if(r(c))return a;var v=C(m*1.4,2);return o(c,b,"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,c,b){if(r(c))return a;var v=C(m*1.4,2);return o(c,b,"M0,"+v+"V-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,c,b){if(r(c))return a;var v=C(m,2);return o(c,b,"M"+v+","+v+"L-"+v+",-"+v)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l=C(m*2,2);return o(c,b,"M0,0L-"+v+","+l+"H"+v+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l=C(m*2,2);return o(c,b,"M0,0L-"+v+",-"+l+"H"+v+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,c,b){if(r(c))return a;var v=C(m*2,2),l=C(m,2);return o(c,b,"M0,0L"+v+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,c,b){if(r(c))return a;var v=C(m*2,2),l=C(m,2);return o(c,b,"M0,0L-"+v+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l=C(m*2,2);return o(c,b,"M-"+v+",0H"+v+"M0,0L-"+v+","+l+"H"+v+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,c,b){if(r(c))return a;var v=C(m,2),l=C(m*2,2);return o(c,b,"M-"+v+",0H"+v+"M0,0L-"+v+",-"+l+"H"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,c,b){if(r(c))return a;var v=C(m*2,2),l=C(m,2);return o(c,b,"M0,-"+l+"V"+l+"M0,0L"+v+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,c,b){if(r(c))return a;var v=C(m*2,2),l=C(m,2);return o(c,b,"M0,-"+l+"V"+l+"M0,0L-"+v+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,c,b){if(r(c))return a;var v=h/2.5,l=2*m*d(v),p=2*m*t(v);return o(c,b,"M0,0L"+-l+","+p+"L"+l+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,c,b){if(r(c))return a;var v=h/4,l=2*m*d(v),p=2*m*t(v);return o(c,b,"M0,0L"+-l+","+p+"A "+2*m+","+2*m+" 0 0 1 "+l+","+p+"Z")},backoff:.4,noDot:!0}};function r(m){return m===null}var u,n,i,s;function o(m,c,b){if((!m||m%360===0)&&!c)return b;if(i===m&&s===c&&u===b)return n;i=m,s=c,u=b;function v(F,H){var _=d(F),B=t(F),N=H[0],O=H[1]+(c||0);return[N*_-O*B,N*B+O*_]}for(var l=m/180*h,p=0,S=0,M=y(b),R="",T=0;T<M.length;T++){var E=M[T],A=E[0],f=p,P=S;if(A==="M"||A==="L")p=+E[1],S=+E[2];else if(A==="m"||A==="l")p+=+E[1],S+=+E[2];else if(A==="H")p=+E[1];else if(A==="h")p+=+E[1];else if(A==="V")S=+E[1];else if(A==="v")S+=+E[1];else if(A==="A"){p=+E[1],S=+E[2];var w=v(l,[+E[6],+E[7]]);E[6]=w[0],E[7]=w[1],E[3]=+E[3]+m}(A==="H"||A==="V")&&(A="L"),(A==="h"||A==="v")&&(A="l"),(A==="m"||A==="l")&&(p-=f,S-=P);var z=v(l,[p,S]);(A==="H"||A==="V")&&(A="L"),(A==="M"||A==="L"||A==="m"||A==="l")&&(E[1]=z[0],E[2]=z[1]),E[0]=A,R+=E[0]+E.slice(1).join(",")}return n=R,R}},25673:function(W){W.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(W,V,e){var y=e(92770),C=e(73972),a=e(89298),L=e(71828),x=e(45827);W.exports=function(t){for(var r=t.calcdata,u=0;u<r.length;u++){var n=r[u],i=n[0].trace;if(i.visible===!0&&C.traceIs(i,"errorBarsOK")){var s=a.getFromId(t,i.xaxis),o=a.getFromId(t,i.yaxis);h(n,i,s,"x"),h(n,i,o,"y")}}};function h(d,t,r,u){var n=t["error_"+u]||{},i=n.visible&&["linear","log"].indexOf(r.type)!==-1,s=[];if(i){for(var o=x(n),m=0;m<d.length;m++){var c=d[m],b=c.i;if(b===void 0)b=m;else if(b===null)continue;var v=c[u];if(y(r.c2l(v))){var l=o(v,b);if(y(l[0])&&y(l[1])){var p=c[u+"s"]=v-l[0],S=c[u+"h"]=v+l[1];s.push(p,S)}}}var M=r._id,R=t._extremes[M],T=a.findExtremes(r,s,L.extendFlat({tozero:R.opts.tozero},{padded:!0}));R.min=R.min.concat(T.min),R.max=R.max.concat(T.max)}}},45827:function(W){W.exports=function(y){var C=y.type,a=y.symmetric;if(C==="data"){var L=y.array||[];if(a)return function(r,u){var n=+L[u];return[n,n]};var x=y.arrayminus||[];return function(r,u){var n=+L[u],i=+x[u];return!isNaN(n)||!isNaN(i)?[i||0,n||0]:[NaN,NaN]}}else{var h=V(C,y.value),d=V(C,y.valueminus);return a||y.valueminus===void 0?function(r){var u=h(r);return[u,u]}:function(r){return[d(r),h(r)]}}};function V(e,y){if(e==="percent")return function(C){return Math.abs(C*y/100)};if(e==="constant")return function(){return Math.abs(y)};if(e==="sqrt")return function(C){return Math.sqrt(Math.abs(C))}}},97587:function(W,V,e){var y=e(92770),C=e(73972),a=e(71828),L=e(44467),x=e(25673);W.exports=function(h,d,t,r){var u="error_"+r.axis,n=L.newContainer(d,u),i=h[u]||{};function s(p,S){return a.coerce(i,n,x,p,S)}var o=i.array!==void 0||i.value!==void 0||i.type==="sqrt",m=s("visible",o);if(m!==!1){var c=s("type","array"in i?"data":"percent"),b=!0;c!=="sqrt"&&(b=s("symmetric",!((c==="data"?"arrayminus":"valueminus")in i))),c==="data"?(s("array"),s("traceref"),b||(s("arrayminus"),s("tracerefminus"))):(c==="percent"||c==="constant")&&(s("value"),b||s("valueminus"));var v="copy_"+r.inherit+"style";if(r.inherit){var l=d["error_"+r.inherit];(l||{}).visible&&s(v,!(i.color||y(i.thickness)||y(i.width)))}(!r.inherit||!n[v])&&(s("color",t),s("thickness"),s("width",C.traceIs(d,"gl3d")?0:4))}}},37369:function(W,V,e){var y=e(71828),C=e(30962).overrideAll,a=e(25673),L={error_x:y.extendFlat({},a),error_y:y.extendFlat({},a)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var x={error_x:y.extendFlat({},a),error_y:y.extendFlat({},a),error_z:y.extendFlat({},a)};delete x.error_x.copy_ystyle,delete x.error_y.copy_ystyle,delete x.error_z.copy_ystyle,delete x.error_z.copy_zstyle,W.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:C(x,"calc","nested"),scattergl:C(L,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:h};function h(d,t,r){(t.error_y||{}).visible&&(r.yerr=d.yh-d.y,t.error_y.symmetric||(r.yerrneg=d.y-d.ys)),(t.error_x||{}).visible&&(r.xerr=d.xh-d.x,t.error_x.symmetric||(r.xerrneg=d.x-d.xs))}},19398:function(W,V,e){var y=e(39898),C=e(92770),a=e(91424),L=e(34098);W.exports=function(d,t,r,u){var n,i=r.xaxis,s=r.yaxis,o=u&&u.duration>0,m=d._context.staticPlot;t.each(function(c){var b=c[0].trace,v=b.error_x||{},l=b.error_y||{},p;b.ids&&(p=function(T){return T.id});var S=L.hasMarkers(b)&&b.marker.maxdisplayed>0;!l.visible&&!v.visible&&(c=[]);var M=y.select(this).selectAll("g.errorbar").data(c,p);if(M.exit().remove(),!!c.length){v.visible||M.selectAll("path.xerror").remove(),l.visible||M.selectAll("path.yerror").remove(),M.style("opacity",1);var R=M.enter().append("g").classed("errorbar",!0);o&&R.style("opacity",0).transition().duration(u.duration).style("opacity",1),a.setClipUrl(M,r.layerClipId,d),M.each(function(T){var E=y.select(this),A=x(T,i,s);if(!(S&&!T.vis)){var f,P=E.select("path.yerror");if(l.visible&&C(A.x)&&C(A.yh)&&C(A.ys)){var w=l.width;f="M"+(A.x-w)+","+A.yh+"h"+2*w+"m-"+w+",0V"+A.ys,A.noYS||(f+="m-"+w+",0h"+2*w),n=!P.size(),n?P=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):o&&(P=P.transition().duration(u.duration).ease(u.easing)),P.attr("d",f)}else P.remove();var z=E.select("path.xerror");if(v.visible&&C(A.y)&&C(A.xh)&&C(A.xs)){var F=(v.copy_ystyle?l:v).width;f="M"+A.xh+","+(A.y-F)+"v"+2*F+"m0,-"+F+"H"+A.xs,A.noXS||(f+="m0,-"+F+"v"+2*F),n=!z.size(),n?z=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):o&&(z=z.transition().duration(u.duration).ease(u.easing)),z.attr("d",f)}else z.remove()}})}})};function x(h,d,t){var r={x:d.c2p(h.x),y:t.c2p(h.y)};return h.yh!==void 0&&(r.yh=t.c2p(h.yh),r.ys=t.c2p(h.ys),C(r.ys)||(r.noYS=!0,r.ys=t.c2p(h.ys,!0))),h.xh!==void 0&&(r.xh=d.c2p(h.xh),r.xs=d.c2p(h.xs),C(r.xs)||(r.noXS=!0,r.xs=d.c2p(h.xs,!0))),r}},62662:function(W,V,e){var y=e(39898),C=e(7901);W.exports=function(L){L.each(function(x){var h=x[0].trace,d=h.error_y||{},t=h.error_x||{},r=y.select(this);r.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(C.stroke,d.color),t.copy_ystyle&&(t=d),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(C.stroke,t.color)})}},77914:function(W,V,e){var y=e(41940),C=e(528).hoverlabel,a=e(1426).extendFlat;W.exports={hoverlabel:{bgcolor:a({},C.bgcolor,{arrayOk:!0}),bordercolor:a({},C.bordercolor,{arrayOk:!0}),font:y({arrayOk:!0,editType:"none"}),align:a({},C.align,{arrayOk:!0}),namelength:a({},C.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(W,V,e){var y=e(71828),C=e(73972);W.exports=function(x){var h=x.calcdata,d=x._fullLayout;function t(s){return function(o){return y.coerceHoverinfo({hoverinfo:o},{_module:s._module},d)}}for(var r=0;r<h.length;r++){var u=h[r],n=u[0].trace;if(!C.traceIs(n,"pie-like")){var i=C.traceIs(n,"2dMap")?a:y.fillArray;i(n.hoverinfo,u,"hi",t(n)),n.hovertemplate&&i(n.hovertemplate,u,"ht"),n.hoverlabel&&(i(n.hoverlabel.bgcolor,u,"hbg"),i(n.hoverlabel.bordercolor,u,"hbc"),i(n.hoverlabel.font.size,u,"hts"),i(n.hoverlabel.font.color,u,"htc"),i(n.hoverlabel.font.family,u,"htf"),i(n.hoverlabel.namelength,u,"hnl"),i(n.hoverlabel.align,u,"hta"))}}};function a(L,x,h,d){d=d||y.identity,Array.isArray(L)&&(x[0][h]=d(L))}},75914:function(W,V,e){var y=e(73972),C=e(88335).hover;W.exports=function(L,x,h){var d=y.getComponentMethod("annotations","onClick")(L,L._hoverdata);h!==void 0&&C(L,x,h,!0);function t(){L.emit("plotly_click",{points:L._hoverdata,event:x})}L._hoverdata&&x&&x.target&&(d&&d.then?d.then(t):t(),x.stopImmediatePropagation&&x.stopImmediatePropagation())}},26675:function(W){W.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(W,V,e){var y=e(71828),C=e(77914),a=e(38048);W.exports=function(x,h,d,t){function r(n,i){return y.coerce(x,h,C,n,i)}var u=y.extendFlat({},t.hoverlabel);h.hovertemplate&&(u.namelength=-1),a(x,h,r,u)}},23469:function(W,V,e){var y=e(71828);V.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},V.isTraceInSubplots=function(d,t){if(d.type==="splom"){for(var r=d.xaxes||[],u=d.yaxes||[],n=0;n<r.length;n++)for(var i=0;i<u.length;i++)if(t.indexOf(r[n]+u[i])!==-1)return!0;return!1}return t.indexOf(V.getSubplot(d))!==-1},V.flat=function(d,t){for(var r=new Array(d.length),u=0;u<d.length;u++)r[u]=t;return r},V.p2c=function(d,t){for(var r=new Array(d.length),u=0;u<d.length;u++)r[u]=d[u].p2c(t);return r},V.getDistanceFunction=function(d,t,r,u){return d==="closest"?u||V.quadrature(t,r):d.charAt(0)==="x"?t:r},V.getClosest=function(d,t,r){if(r.index!==!1)r.index>=0&&r.index<d.length?r.distance=0:r.index=!1;else for(var u=0;u<d.length;u++){var n=t(d[u]);n<=r.distance&&(r.index=u,r.distance=n)}return r},V.inbox=function(d,t,r){return d*t<0||d===0?r:1/0},V.quadrature=function(d,t){return function(r){var u=d(r),n=t(r);return Math.sqrt(u*u+n*n)}},V.makeEventData=function(d,t,r){var u="index"in d?d.index:d.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:u};if(t._indexToPoints){var i=t._indexToPoints[u];i.length===1?n.pointIndex=i[0]:n.pointIndices=i}else n.pointIndex=u;return t._module.eventData?n=t._module.eventData(n,d,t,r,u):("xVal"in d?n.x=d.xVal:"x"in d&&(n.x=d.x),"yVal"in d?n.y=d.yVal:"y"in d&&(n.y=d.y),d.xa&&(n.xaxis=d.xa),d.ya&&(n.yaxis=d.ya),d.zLabelVal!==void 0&&(n.z=d.zLabelVal)),V.appendArrayPointValue(n,t,u),n},V.appendArrayPointValue=function(d,t,r){var u=t._arrayAttrs;if(u)for(var n=0;n<u.length;n++){var i=u[n],s=a(i);if(d[s]===void 0){var o=y.nestedProperty(t,i).get(),m=L(o,r);m!==void 0&&(d[s]=m)}}},V.appendArrayMultiPointValues=function(d,t,r){var u=t._arrayAttrs;if(u)for(var n=0;n<u.length;n++){var i=u[n],s=a(i);if(d[s]===void 0){for(var o=y.nestedProperty(t,i).get(),m=new Array(r.length),c=0;c<r.length;c++)m[c]=L(o,r[c]);d[s]=m}}};var C={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(d){return C[d]||d}function L(d,t){if(Array.isArray(t)){if(Array.isArray(d)&&Array.isArray(d[t[0]]))return d[t[0]][t[1]]}else return d[t]}var x={x:!0,y:!0},h={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(d){return typeof d!="string"?!1:!!h[d]},V.isXYhover=function(d){return typeof d!="string"?!1:!!x[d]}},88335:function(W,V,e){var y=e(39898),C=e(92770),a=e(84267),L=e(71828),x=L.strTranslate,h=L.strRotate,d=e(11086),t=e(63893),r=e(39918),u=e(91424),n=e(7901),i=e(28569),s=e(89298),o=e(73972),m=e(23469),c=e(26675),b=e(99017),v=e(43969),l=c.YANGLE,p=Math.PI*l/180,S=1/Math.sin(p),M=Math.cos(p),R=Math.sin(p),T=c.HOVERARROWSIZE,E=c.HOVERTEXTPAD,A={box:!0,ohlc:!0,violin:!0,candlestick:!0},f={scatter:!0,scattergl:!0,splom:!0};V.hover=function(se,Y,Z,ie){se=L.getGraphDiv(se);var te=Y.target;L.throttle(se._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){P(se,Y,Z,ie,te)})},V.loneHover=function(se,Y){var Z=!0;Array.isArray(se)||(Z=!1,se=[se]);var ie=Y.gd,te=J(ie),fe=Q(ie),de=se.map(function(He){var _e=He._x0||He.x0||He.x||0,We=He._x1||He.x1||He.x||0,tt=He._y0||He.y0||He.y||0,Ke=He._y1||He.y1||He.y||0,qe=He.eventData;if(qe){var rt=Math.min(_e,We),ft=Math.max(_e,We),pt=Math.min(tt,Ke),gt=Math.max(tt,Ke),Mt=He.trace;if(o.traceIs(Mt,"gl3d")){var Lt=ie._fullLayout[Mt.scene]._scene.container,Wt=Lt.offsetLeft,Je=Lt.offsetTop;rt+=Wt,ft+=Wt,pt+=Je,gt+=Je}qe.bbox={x0:rt+fe,x1:ft+fe,y0:pt+te,y1:gt+te},Y.inOut_bbox&&Y.inOut_bbox.push(qe.bbox)}else qe=!1;return{color:He.color||n.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:qe}}),we=!1,Ae=F(de,{gd:ie,hovermode:"closest",rotateLabels:we,bgColor:Y.bgColor||n.background,container:y.select(Y.container),outerContainer:Y.outerContainer||Y.container}),Re=Ae.hoverLabels,Fe=5,Se=0,Te=0;Re.sort(function(He,_e){return He.y0-_e.y0}).each(function(He,_e){var We=He.y0-He.by/2;We-Fe<Se?He.offset=Se-We+Fe:He.offset=0,Se=We+He.by+He.offset,_e===Y.anchorIndex&&(Te=He.offset)}).each(function(He){He.offset-=Te});var Ee=ie._fullLayout._invScaleX,Ne=ie._fullLayout._invScaleY;return O(Re,we,Ee,Ne),Z?Re:Re.node()};function P(q,se,Y,Z,ie){Y||(Y="xy");var te=Array.isArray(Y)?Y:[Y],fe=q._fullLayout,de=fe._plots||[],we=de[Y],Ae=fe._has("cartesian");if(we){var Re=we.overlays.map(function(Mr){return Mr.id});te=te.concat(Re)}for(var Fe=te.length,Se=new Array(Fe),Te=new Array(Fe),Ee=!1,Ne=0;Ne<Fe;Ne++){var He=te[Ne];if(de[He])Ee=!0,Se[Ne]=de[He].xaxis,Te[Ne]=de[He].yaxis;else if(fe[He]&&fe[He]._subplot){var _e=fe[He]._subplot;Se[Ne]=_e.xaxis,Te[Ne]=_e.yaxis}else{L.warn("Unrecognized subplot: "+He);return}}var We=se.hovermode||fe.hovermode;if(We&&!Ee&&(We="closest"),["x","y","closest","x unified","y unified"].indexOf(We)===-1||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return i.unhoverRaw(q,se);var tt=fe.hoverdistance;tt===-1&&(tt=1/0);var Ke=fe.spikedistance;Ke===-1&&(Ke=1/0);var qe=[],rt=[],ft,pt,gt,Mt,Lt,Wt,Je,ze,Oe,Ue,ke,Me,ce,be={hLinePoint:null,vLinePoint:null},De=!1;if(Array.isArray(se))for(We="array",gt=0;gt<se.length;gt++)Lt=q.calcdata[se[gt].curveNumber||0],Lt&&(Wt=Lt[0].trace,Lt[0].trace.hoverinfo!=="skip"&&(rt.push(Lt),Wt.orientation==="h"&&(De=!0)));else{for(Mt=0;Mt<q.calcdata.length;Mt++)Lt=q.calcdata[Mt],Wt=Lt[0].trace,Wt.hoverinfo!=="skip"&&m.isTraceInSubplots(Wt,te)&&(rt.push(Lt),Wt.orientation==="h"&&(De=!0));var Ve=!ie,it,ot;if(Ve)"xpx"in se?it=se.xpx:it=Se[0]._length/2,"ypx"in se?ot=se.ypx:ot=Te[0]._length/2;else{if(d.triggerHandler(q,"plotly_beforehover",se)===!1)return;var Tt=ie.getBoundingClientRect();it=se.clientX-Tt.left,ot=se.clientY-Tt.top,fe._calcInverseTransform(q);var It=L.apply3DTransform(fe._invTransform)(it,ot);if(it=It[0],ot=It[1],it<0||it>Se[0]._length||ot<0||ot>Te[0]._length)return i.unhoverRaw(q,se)}if(se.pointerX=it+Se[0]._offset,se.pointerY=ot+Te[0]._offset,"xval"in se?ft=m.flat(te,se.xval):ft=m.p2c(Se,it),"yval"in se?pt=m.flat(te,se.yval):pt=m.p2c(Te,ot),!C(ft[0])||!C(pt[0]))return L.warn("Fx.hover failed",se,q),i.unhoverRaw(q,se)}var Ht=1/0;function Gt(Mr,Br){for(Mt=0;Mt<rt.length;Mt++)if(Lt=rt[Mt],!(!Lt||!Lt[0]||!Lt[0].trace)&&(Wt=Lt[0].trace,!(Wt.visible!==!0||Wt._length===0)&&["carpet","contourcarpet"].indexOf(Wt._module.name)===-1)){if(Wt.type==="splom"?(ze=0,Je=te[ze]):(Je=m.getSubplot(Wt),ze=te.indexOf(Je)),Oe=We,m.isUnifiedHover(Oe)&&(Oe=Oe.charAt(0)),Me={cd:Lt,trace:Wt,xa:Se[ze],ya:Te[ze],maxHoverDistance:tt,maxSpikeDistance:Ke,index:!1,distance:Math.min(Ht,tt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Wt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},fe[Je]&&(Me.subplot=fe[Je]._subplot),fe._splomScenes&&fe._splomScenes[Wt.uid]&&(Me.scene=fe._splomScenes[Wt.uid]),ce=qe.length,Oe==="array"){var Nr=se[Mt];"pointNumber"in Nr?(Me.index=Nr.pointNumber,Oe="closest"):(Oe="","xval"in Nr&&(Ue=Nr.xval,Oe="x"),"yval"in Nr&&(ke=Nr.yval,Oe=Oe?"closest":"y"))}else Mr!==void 0&&Br!==void 0?(Ue=Mr,ke=Br):(Ue=ft[ze],ke=pt[ze]);if(tt!==0)if(Wt._module&&Wt._module.hoverPoints){var en=Wt._module.hoverPoints(Me,Ue,ke,Oe,{finiteRange:!0,hoverLayer:fe._hoverlayer});if(en)for(var dn,cn=0;cn<en.length;cn++)dn=en[cn],C(dn.x0)&&C(dn.y0)&&qe.push(U(dn,We))}else L.log("Unrecognized trace type in hover:",Wt);if(We==="closest"&&qe.length>ce&&(qe.splice(0,ce),Ht=qe[0].distance),Ae&&Ke!==0&&qe.length===0){Me.distance=Ke,Me.index=!1;var An=Wt._module.hoverPoints(Me,Ue,ke,"closest",{hoverLayer:fe._hoverlayer});if(An&&(An=An.filter(function(ra){return ra.spikeDistance<=Ke})),An&&An.length){var Rn,Jn=An.filter(function(ra){return ra.xa.showspikes&&ra.xa.spikesnap!=="hovered data"});if(Jn.length){var ta=Jn[0];C(ta.x0)&&C(ta.y0)&&(Rn=Jt(ta),(!be.vLinePoint||be.vLinePoint.spikeDistance>Rn.spikeDistance)&&(be.vLinePoint=Rn))}var fa=An.filter(function(ra){return ra.ya.showspikes&&ra.ya.spikesnap!=="hovered data"});if(fa.length){var na=fa[0];C(na.x0)&&C(na.y0)&&(Rn=Jt(na),(!be.hLinePoint||be.hLinePoint.spikeDistance>Rn.spikeDistance)&&(be.hLinePoint=Rn))}}}}}Gt();function Pt(Mr,Br,Nr){for(var en=null,dn=1/0,cn,An=0;An<Mr.length;An++)cn=Mr[An].spikeDistance,Nr&&An===0&&(cn=-1/0),cn<=dn&&cn<=Br&&(en=Mr[An],dn=cn);return en}function Jt(Mr){return Mr?{xa:Mr.xa,ya:Mr.ya,x:Mr.xSpike!==void 0?Mr.xSpike:(Mr.x0+Mr.x1)/2,y:Mr.ySpike!==void 0?Mr.ySpike:(Mr.y0+Mr.y1)/2,distance:Mr.distance,spikeDistance:Mr.spikeDistance,curveNumber:Mr.trace.index,color:Mr.color,pointNumber:Mr.index}:null}var or={fullLayout:fe,container:fe._hoverlayer,event:se},zr=q._spikepoints,mt={vLinePoint:be.vLinePoint,hLinePoint:be.hLinePoint};q._spikepoints=mt;var Kt=function(){qe.sort(function(Mr,Br){return Mr.distance-Br.distance}),qe=ve(qe,We)};Kt();var jt=We.charAt(0),wr=(jt==="x"||jt==="y")&&qe[0]&&f[qe[0].trace.type];if(Ae&&Ke!==0&&qe.length!==0){var vr=qe.filter(function(Mr){return Mr.ya.showspikes}),ct=Pt(vr,Ke,wr);be.hLinePoint=Jt(ct);var ut=qe.filter(function(Mr){return Mr.xa.showspikes}),bt=Pt(ut,Ke,wr);be.vLinePoint=Jt(bt)}if(qe.length===0){var At=i.unhoverRaw(q,se);return Ae&&(be.hLinePoint!==null||be.vLinePoint!==null)&&ae(zr)&&K(q,be,or),At}if(Ae&&ae(zr)&&K(q,be,or),m.isXYhover(Oe)&&qe[0].length!==0&&qe[0].trace.type!=="splom"){var Ct=qe[0];A[Ct.trace.type]?qe=qe.filter(function(Mr){return Mr.trace.index===Ct.trace.index}):qe=[Ct];var St=qe.length,zt=ee("x",Ct,fe),Vt=ee("y",Ct,fe);Gt(zt,Vt);var qt=[],$t={},sr=0,Cr=function(Mr){var Br=A[Mr.trace.type]?w(Mr):Mr.trace.index;if(!$t[Br])sr++,$t[Br]=sr,qt.push(Mr);else{var Nr=$t[Br]-1,en=qt[Nr];Nr>0&&Math.abs(Mr.distance)<Math.abs(en.distance)&&(qt[Nr]=Mr)}},Ze;for(Ze=0;Ze<St;Ze++)Cr(qe[Ze]);for(Ze=qe.length-1;Ze>St-1;Ze--)Cr(qe[Ze]);qe=qt,Kt()}var je=q._hoverdata,kt=[],_t=J(q),Zt=Q(q);for(gt=0;gt<qe.length;gt++){var ar=qe[gt],ur=m.makeEventData(ar,ar.trace,ar.cd);if(ar.hovertemplate!==!1){var nr=!1;ar.cd[ar.index]&&ar.cd[ar.index].ht&&(nr=ar.cd[ar.index].ht),ar.hovertemplate=nr||ar.trace.hovertemplate||!1}if(ar.xa&&ar.ya){var Ot=ar.x0+ar.xa._offset,cr=ar.x1+ar.xa._offset,pr=ar.y0+ar.ya._offset,gr=ar.y1+ar.ya._offset,dr=Math.min(Ot,cr),Gr=Math.max(Ot,cr),kr=Math.min(pr,gr),Fr=Math.max(pr,gr);ur.bbox={x0:dr+Zt,x1:Gr+Zt,y0:kr+_t,y1:Fr+_t}}ar.eventData=[ur],kt.push(ur)}q._hoverdata=kt;var gn=We==="y"&&(rt.length>1||qe.length>1)||We==="closest"&&De&&qe.length>1,Kr=n.combine(fe.plot_bgcolor||n.background,fe.paper_bgcolor),kn=F(qe,{gd:q,hovermode:We,rotateLabels:gn,bgColor:Kr,container:fe._hoverlayer,outerContainer:fe._paper.node(),commonLabelOpts:fe.hoverlabel,hoverdistance:fe.hoverdistance}),In=kn.hoverLabels;if(m.isUnifiedHover(We)||(_(In,gn,fe,kn.commonLabelBoundingBox),O(In,gn,fe._invScaleX,fe._invScaleY)),ie&&ie.tagName){var br=o.getComponentMethod("annotations","hasClickToShow")(q,kt);r(y.select(ie),br?"pointer":"")}!ie||Z||!re(q,se,je)||(je&&q.emit("plotly_unhover",{event:se,points:je}),q.emit("plotly_hover",{event:se,points:q._hoverdata,xaxes:Se,yaxes:Te,xvals:ft,yvals:pt}))}function w(q){return[q.trace.index,q.index,q.x0,q.y0,q.name,q.attr,q.xa?q.xa._id:"",q.ya?q.ya._id:""].join(",")}var z=/<extra>([\s\S]*)<\/extra>/;function F(q,se){var Y=se.gd,Z=Y._fullLayout,ie=se.hovermode,te=se.rotateLabels,fe=se.bgColor,de=se.container,we=se.outerContainer,Ae=se.commonLabelOpts||{};if(q.length===0)return[[]];var Re=se.fontFamily||c.HOVERFONT,Fe=se.fontSize||c.HOVERFONTSIZE,Se=q[0],Te=Se.xa,Ee=Se.ya,Ne=ie.charAt(0),He=Ne+"Label",_e=Se[He];if(_e===void 0&&Te.type==="multicategory")for(var We=0;We<q.length&&(_e=q[We][He],_e===void 0);We++);var tt=X(Y,we),Ke=tt.top,qe=tt.width,rt=tt.height,ft=_e!==void 0&&Se.distance<=se.hoverdistance&&(ie==="x"||ie==="y");if(ft){var pt=!0,gt,Mt;for(gt=0;gt<q.length;gt++)if(pt&&q[gt].zLabel===void 0&&(pt=!1),Mt=q[gt].hoverinfo||q[gt].trace.hoverinfo,Mt){var Lt=Array.isArray(Mt)?Mt:Mt.split("+");if(Lt.indexOf("all")===-1&&Lt.indexOf(ie)===-1){ft=!1;break}}pt&&(ft=!1)}var Wt=de.selectAll("g.axistext").data(ft?[0]:[]);Wt.enter().append("g").classed("axistext",!0),Wt.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(Wt.each(function(){var St=y.select(this),zt=L.ensureSingle(St,"path","",function(kr){kr.style({"stroke-width":"1px"})}),Vt=L.ensureSingle(St,"text","",function(kr){kr.attr("data-notex",1)}),qt=Ae.bgcolor||n.defaultLine,$t=Ae.bordercolor||n.contrast(qt),sr=n.contrast(qt),Cr={family:Ae.font.family||Re,size:Ae.font.size||Fe,color:Ae.font.color||sr};zt.style({fill:qt,stroke:$t}),Vt.text(_e).call(u.font,Cr).call(t.positionText,0,0).call(t.convertToTspans,Y),St.attr("transform","");var Ze=X(Y,Vt.node()),je,kt;if(ie==="x"){var _t=Te.side==="top"?"-":"";Vt.attr("text-anchor","middle").call(t.positionText,0,Te.side==="top"?Ke-Ze.bottom-T-E:Ke-Ze.top+T+E),je=Te._offset+(Se.x0+Se.x1)/2,kt=Ee._offset+(Te.side==="top"?0:Ee._length);var Zt=Ze.width/2+E;je<Zt?(je=Zt,zt.attr("d","M-"+(Zt-T)+",0L-"+(Zt-T*2)+","+_t+T+"H"+Zt+"v"+_t+(E*2+Ze.height)+"H-"+Zt+"V"+_t+T+"Z")):je>Z.width-Zt?(je=Z.width-Zt,zt.attr("d","M"+(Zt-T)+",0L"+Zt+","+_t+T+"v"+_t+(E*2+Ze.height)+"H-"+Zt+"V"+_t+T+"H"+(Zt-T*2)+"Z")):zt.attr("d","M0,0L"+T+","+_t+T+"H"+Zt+"v"+_t+(E*2+Ze.height)+"H-"+Zt+"V"+_t+T+"H-"+T+"Z"),Je.minX=je-Zt,Je.maxX=je+Zt,Te.side==="top"?(Je.minY=kt-(E*2+Ze.height),Je.maxY=kt-E):(Je.minY=kt+E,Je.maxY=kt+(E*2+Ze.height))}else{var ar,ur,nr;Ee.side==="right"?(ar="start",ur=1,nr="",je=Te._offset+Te._length):(ar="end",ur=-1,nr="-",je=Te._offset),kt=Ee._offset+(Se.y0+Se.y1)/2,Vt.attr("text-anchor",ar),zt.attr("d","M0,0L"+nr+T+","+T+"V"+(E+Ze.height/2)+"h"+nr+(E*2+Ze.width)+"V-"+(E+Ze.height/2)+"H"+nr+T+"V-"+T+"Z"),Je.minY=kt-(E+Ze.height/2),Je.maxY=kt+(E+Ze.height/2),Ee.side==="right"?(Je.minX=je+T,Je.maxX=je+T+(E*2+Ze.width)):(Je.minX=je-T-(E*2+Ze.width),Je.maxX=je-T);var Ot=Ze.height/2,cr=Ke-Ze.top-Ot,pr="clip"+Z._uid+"commonlabel"+Ee._id,gr;if(je<Ze.width+2*E+T){gr="M-"+(T+E)+"-"+Ot+"h-"+(Ze.width-E)+"V"+Ot+"h"+(Ze.width-E)+"Z";var dr=Ze.width-je+E;t.positionText(Vt,dr,cr),ar==="end"&&Vt.selectAll("tspan").each(function(){var kr=y.select(this),Fr=u.tester.append("text").text(kr.text()).call(u.font,Cr),gn=X(Y,Fr.node());Math.round(gn.width)<Math.round(Ze.width)&&kr.attr("x",dr-gn.width),Fr.remove()})}else t.positionText(Vt,ur*(E+T),cr),gr=null;var Gr=Z._topclips.selectAll("#"+pr).data(gr?[0]:[]);Gr.enter().append("clipPath").attr("id",pr).append("path"),Gr.exit().remove(),Gr.select("path").attr("d",gr),u.setClipUrl(Vt,gr?pr:null,Y)}St.attr("transform",x(je,kt))}),m.isUnifiedHover(ie)){de.selectAll("g.hovertext").remove();var ze=q.filter(function(St){return St.hoverinfo!=="none"});if(ze.length===0)return[];var Oe=Z.hoverlabel,Ue=Oe.font,ke={showlegend:!0,legend:{title:{text:_e,font:Ue},font:Ue,bgcolor:Oe.bgcolor,bordercolor:Oe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Z.legend?Z.legend.traceorder:void 0,orientation:"v"}},Me={font:Ue};b(ke,Me,Y._fullData);var ce=Me.legend;ce.entries=[];for(var be=0;be<ze.length;be++){var De=ze[be];if(De.hoverinfo!=="none"){var Ve=H(De,!0,ie,Z,_e),it=Ve[0],ot=Ve[1];De.name=ot,ot!==""?De.text=ot+" : "+it:De.text=it;var Tt=De.cd[De.index];Tt&&(Tt.mc&&(De.mc=Tt.mc),Tt.mcc&&(De.mc=Tt.mcc),Tt.mlc&&(De.mlc=Tt.mlc),Tt.mlcc&&(De.mlc=Tt.mlcc),Tt.mlw&&(De.mlw=Tt.mlw),Tt.mrc&&(De.mrc=Tt.mrc),Tt.dir&&(De.dir=Tt.dir)),De._distinct=!0,ce.entries.push([De])}}ce.entries.sort(function(St,zt){return St[0].trace.index-zt[0].trace.index}),ce.layer=de,ce._inHover=!0,ce._groupTitleFont=Oe.grouptitlefont,v(Y,ce);var It=de.select("g.legend"),Ht=X(Y,It.node()),Gt=Ht.width+2*E,Pt=Ht.height+2*E,Jt=ze[0],or=(Jt.x0+Jt.x1)/2,zr=(Jt.y0+Jt.y1)/2,mt=!(o.traceIs(Jt.trace,"bar-like")||o.traceIs(Jt.trace,"box-violin")),Kt,jt;Ne==="y"?mt?(jt=zr-E,Kt=zr+E):(jt=Math.min.apply(null,ze.map(function(St){return Math.min(St.y0,St.y1)})),Kt=Math.max.apply(null,ze.map(function(St){return Math.max(St.y0,St.y1)}))):jt=Kt=L.mean(ze.map(function(St){return(St.y0+St.y1)/2}))-Pt/2;var wr,vr;Ne==="x"?mt?(wr=or+E,vr=or-E):(wr=Math.max.apply(null,ze.map(function(St){return Math.max(St.x0,St.x1)})),vr=Math.min.apply(null,ze.map(function(St){return Math.min(St.x0,St.x1)}))):wr=vr=L.mean(ze.map(function(St){return(St.x0+St.x1)/2}))-Gt/2;var ct=Te._offset,ut=Ee._offset;Kt+=ut,wr+=ct,vr+=ct-Gt,jt+=ut-Pt;var bt,At;return wr+Gt<qe&&wr>=0?bt=wr:vr+Gt<qe&&vr>=0?bt=vr:ct+Gt<qe?bt=ct:wr-or<or-vr+Gt?bt=qe-Gt:bt=0,bt+=E,Kt+Pt<rt&&Kt>=0?At=Kt:jt+Pt<rt&&jt>=0?At=jt:ut+Pt<rt?At=ut:Kt-zr<zr-jt+Pt?At=rt-Pt:At=0,At+=E,It.attr("transform",x(bt-1,At-1)),It}var Ct=de.selectAll("g.hovertext").data(q,function(St){return w(St)});return Ct.enter().append("g").classed("hovertext",!0).each(function(){var St=y.select(this);St.append("rect").call(n.fill,n.addOpacity(fe,.8)),St.append("text").classed("name",!0),St.append("path").style("stroke-width","1px"),St.append("text").classed("nums",!0).call(u.font,Re,Fe)}),Ct.exit().remove(),Ct.each(function(St){var zt=y.select(this).attr("transform",""),Vt=St.color;Array.isArray(Vt)&&(Vt=Vt[St.eventData[0].pointNumber]);var qt=St.bgcolor||Vt,$t=n.combine(n.opacity(qt)?qt:n.defaultLine,fe),sr=n.combine(n.opacity(Vt)?Vt:n.defaultLine,fe),Cr=St.borderColor||n.contrast($t),Ze=H(St,ft,ie,Z,_e,zt),je=Ze[0],kt=Ze[1],_t=zt.select("text.nums").call(u.font,St.fontFamily||Re,St.fontSize||Fe,St.fontColor||Cr).text(je).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Y),Zt=zt.select("text.name"),ar=0,ur=0;if(kt&&kt!==je){Zt.call(u.font,St.fontFamily||Re,St.fontSize||Fe,sr).text(kt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Y);var nr=X(Y,Zt.node());ar=nr.width+2*E,ur=nr.height+2*E}else Zt.remove(),zt.select("rect").remove();zt.select("path").style({fill:$t,stroke:Cr});var Ot=St.xa._offset+(St.x0+St.x1)/2,cr=St.ya._offset+(St.y0+St.y1)/2,pr=Math.abs(St.x1-St.x0),gr=Math.abs(St.y1-St.y0),dr=X(Y,_t.node()),Gr=dr.width/Z._invScaleX,kr=dr.height/Z._invScaleY;St.ty0=(Ke-dr.top)/Z._invScaleY,St.bx=Gr+2*E,St.by=Math.max(kr+2*E,ur),St.anchor="start",St.txwidth=Gr,St.tx2width=ar,St.offset=0;var Fr=(Gr+T+E+ar)*Z._invScaleX,gn,Kr;if(te)St.pos=Ot,gn=cr+gr/2+Fr<=rt,Kr=cr-gr/2-Fr>=0,(St.idealAlign==="top"||!gn)&&Kr?(cr-=gr/2,St.anchor="end"):gn?(cr+=gr/2,St.anchor="start"):St.anchor="middle",St.crossPos=cr;else{if(St.pos=cr,gn=Ot+pr/2+Fr<=qe,Kr=Ot-pr/2-Fr>=0,(St.idealAlign==="left"||!gn)&&Kr)Ot-=pr/2,St.anchor="end";else if(gn)Ot+=pr/2,St.anchor="start";else{St.anchor="middle";var kn=Fr/2,In=Ot+kn-qe,br=Ot-kn;In>0&&(Ot-=In),br<0&&(Ot+=-br)}St.crossPos=Ot}_t.attr("text-anchor",St.anchor),ar&&Zt.attr("text-anchor",St.anchor),zt.attr("transform",x(Ot,cr)+(te?h(l):""))}),{hoverLabels:Ct,commonLabelBoundingBox:Je}}function H(q,se,Y,Z,ie,te){var fe="",de="";q.nameOverride!==void 0&&(q.name=q.nameOverride),q.name&&(q.trace._meta&&(q.name=L.templateString(q.name,q.trace._meta)),fe=ue(q.name,q.nameLength));var we=Y.charAt(0),Ae=we==="x"?"y":"x";q.zLabel!==void 0?(q.xLabel!==void 0&&(de+="x: "+q.xLabel+"<br>"),q.yLabel!==void 0&&(de+="y: "+q.yLabel+"<br>"),q.trace.type!=="choropleth"&&q.trace.type!=="choroplethmapbox"&&(de+=(de?"z: ":"")+q.zLabel)):se&&q[we+"Label"]===ie?de=q[Ae+"Label"]||"":q.xLabel===void 0?q.yLabel!==void 0&&q.trace.type!=="scattercarpet"&&(de=q.yLabel):q.yLabel===void 0?de=q.xLabel:de="("+q.xLabel+", "+q.yLabel+")",(q.text||q.text===0)&&!Array.isArray(q.text)&&(de+=(de?"<br>":"")+q.text),q.extraText!==void 0&&(de+=(de?"<br>":"")+q.extraText),te&&de===""&&!q.hovertemplate&&(fe===""&&te.remove(),de=fe);var Re=q.hovertemplate||!1;if(Re){var Fe=q.hovertemplateLabels||q;q[we+"Label"]!==ie&&(Fe[we+"other"]=Fe[we+"Val"],Fe[we+"otherLabel"]=Fe[we+"Label"]),de=L.hovertemplateString(Re,Fe,Z._d3locale,q.eventData[0]||{},q.trace._meta),de=de.replace(z,function(Se,Te){return fe=ue(Te,q.nameLength),""})}return[de,fe]}function _(q,se,Y,Z){var ie=se?"xa":"ya",te=se?"ya":"xa",fe=0,de=1,we=q.size(),Ae=new Array(we),Re=0,Fe=Z.minX,Se=Z.maxX,Te=Z.minY,Ee=Z.maxY,Ne=function(Ue){return Ue*Y._invScaleX},He=function(Ue){return Ue*Y._invScaleY};q.each(function(Ue){var ke=Ue[ie],Me=Ue[te],ce=ke._id.charAt(0)==="x",be=ke.range;Re===0&&be&&be[0]>be[1]!==ce&&(de=-1);var De=0,Ve=ce?Y.width:Y.height;if(Y.hovermode==="x"||Y.hovermode==="y"){var it=B(Ue,se),ot=Ue.anchor,Tt=ot==="end"?-1:1,It,Ht;if(ot==="middle")It=Ue.crossPos+(ce?He(it.y-Ue.by/2):Ne(Ue.bx/2+Ue.tx2width/2)),Ht=It+(ce?He(Ue.by):Ne(Ue.bx));else if(ce)It=Ue.crossPos+He(T+it.y)-He(Ue.by/2-T),Ht=It+He(Ue.by);else{var Gt=Ne(Tt*T+it.x),Pt=Gt+Ne(Tt*Ue.bx);It=Ue.crossPos+Math.min(Gt,Pt),Ht=Ue.crossPos+Math.max(Gt,Pt)}ce?Te!==void 0&&Ee!==void 0&&Math.min(Ht,Ee)-Math.max(It,Te)>1&&(Me.side==="left"?(De=Me._mainLinePosition,Ve=Y.width):Ve=Me._mainLinePosition):Fe!==void 0&&Se!==void 0&&Math.min(Ht,Se)-Math.max(It,Fe)>1&&(Me.side==="top"?(De=Me._mainLinePosition,Ve=Y.height):Ve=Me._mainLinePosition)}Ae[Re++]=[{datum:Ue,traceIndex:Ue.trace.index,dp:0,pos:Ue.pos,posref:Ue.posref,size:Ue.by*(ce?S:1)/2,pmin:De,pmax:Ve}]}),Ae.sort(function(Ue,ke){return Ue[0].posref-ke[0].posref||de*(ke[0].traceIndex-Ue[0].traceIndex)});var _e,We,tt,Ke,qe,rt,ft;function pt(Ue){var ke=Ue[0],Me=Ue[Ue.length-1];if(We=ke.pmin-ke.pos-ke.dp+ke.size,tt=Me.pos+Me.dp+Me.size-ke.pmax,We>.01){for(qe=Ue.length-1;qe>=0;qe--)Ue[qe].dp+=We;_e=!1}if(!(tt<.01)){if(We<-.01){for(qe=Ue.length-1;qe>=0;qe--)Ue[qe].dp-=tt;_e=!1}if(_e){var ce=0;for(Ke=0;Ke<Ue.length;Ke++)rt=Ue[Ke],rt.pos+rt.dp+rt.size>ke.pmax&&ce++;for(Ke=Ue.length-1;Ke>=0&&!(ce<=0);Ke--)rt=Ue[Ke],rt.pos>ke.pmax-1&&(rt.del=!0,ce--);for(Ke=0;Ke<Ue.length&&!(ce<=0);Ke++)if(rt=Ue[Ke],rt.pos<ke.pmin+1)for(rt.del=!0,ce--,tt=rt.size*2,qe=Ue.length-1;qe>=0;qe--)Ue[qe].dp-=tt;for(Ke=Ue.length-1;Ke>=0&&!(ce<=0);Ke--)rt=Ue[Ke],rt.pos+rt.dp+rt.size>ke.pmax&&(rt.del=!0,ce--)}}}for(;!_e&&fe<=we;){for(fe++,_e=!0,Ke=0;Ke<Ae.length-1;){var gt=Ae[Ke],Mt=Ae[Ke+1],Lt=gt[gt.length-1],Wt=Mt[0];if(We=Lt.pos+Lt.dp+Lt.size-Wt.pos-Wt.dp+Wt.size,We>.01&&Lt.pmin===Wt.pmin&&Lt.pmax===Wt.pmax){for(qe=Mt.length-1;qe>=0;qe--)Mt[qe].dp+=We;for(gt.push.apply(gt,Mt),Ae.splice(Ke+1,1),ft=0,qe=gt.length-1;qe>=0;qe--)ft+=gt[qe].dp;for(tt=ft/gt.length,qe=gt.length-1;qe>=0;qe--)gt[qe].dp-=tt;_e=!1}else Ke++}Ae.forEach(pt)}for(Ke=Ae.length-1;Ke>=0;Ke--){var Je=Ae[Ke];for(qe=Je.length-1;qe>=0;qe--){var ze=Je[qe],Oe=ze.datum;Oe.offset=ze.dp,Oe.del=ze.del}}}function B(q,se){var Y=0,Z=q.offset;return se&&(Z*=-R,Y=q.offset*M),{x:Y,y:Z}}function N(q){var se={start:1,end:-1,middle:0}[q.anchor],Y=se*(T+E),Z=Y+se*(q.txwidth+E),ie=q.anchor==="middle";return ie&&(Y-=q.tx2width/2,Z+=q.txwidth/2+E),{alignShift:se,textShiftX:Y,text2ShiftX:Z}}function O(q,se,Y,Z){var ie=function(fe){return fe*Y},te=function(fe){return fe*Z};q.each(function(fe){var de=y.select(this);if(fe.del)return de.remove();var we=de.select("text.nums"),Ae=fe.anchor,Re=Ae==="end"?-1:1,Fe=N(fe),Se=B(fe,se),Te=Se.x,Ee=Se.y,Ne=Ae==="middle";de.select("path").attr("d",Ne?"M-"+ie(fe.bx/2+fe.tx2width/2)+","+te(Ee-fe.by/2)+"h"+ie(fe.bx)+"v"+te(fe.by)+"h-"+ie(fe.bx)+"Z":"M0,0L"+ie(Re*T+Te)+","+te(T+Ee)+"v"+te(fe.by/2-T)+"h"+ie(Re*fe.bx)+"v-"+te(fe.by)+"H"+ie(Re*T+Te)+"V"+te(Ee-T)+"Z");var He=Te+Fe.textShiftX,_e=Ee+fe.ty0-fe.by/2+E,We=fe.textAlign||"auto";We!=="auto"&&(We==="left"&&Ae!=="start"?(we.attr("text-anchor","start"),He=Ne?-fe.bx/2-fe.tx2width/2+E:-fe.bx-E):We==="right"&&Ae!=="end"&&(we.attr("text-anchor","end"),He=Ne?fe.bx/2-fe.tx2width/2-E:fe.bx+E)),we.call(t.positionText,ie(He),te(_e)),fe.tx2width&&(de.select("text.name").call(t.positionText,ie(Fe.text2ShiftX+Fe.alignShift*E+Te),te(Ee+fe.ty0-fe.by/2+E)),de.select("rect").call(u.setRect,ie(Fe.text2ShiftX+(Fe.alignShift-1)*fe.tx2width/2+Te),te(Ee-fe.by/2-1),ie(fe.tx2width),te(fe.by+2)))})}function U(q,se){var Y=q.index,Z=q.trace||{},ie=q.cd[0],te=q.cd[Y]||{};function fe(Se){return Se||C(Se)&&Se===0}var de=Array.isArray(Y)?function(Se,Te){var Ee=L.castOption(ie,Y,Se);return fe(Ee)?Ee:L.extractOption({},Z,"",Te)}:function(Se,Te){return L.extractOption(te,Z,Se,Te)};function we(Se,Te,Ee){var Ne=de(Te,Ee);fe(Ne)&&(q[Se]=Ne)}if(we("hoverinfo","hi","hoverinfo"),we("bgcolor","hbg","hoverlabel.bgcolor"),we("borderColor","hbc","hoverlabel.bordercolor"),we("fontFamily","htf","hoverlabel.font.family"),we("fontSize","hts","hoverlabel.font.size"),we("fontColor","htc","hoverlabel.font.color"),we("nameLength","hnl","hoverlabel.namelength"),we("textAlign","hta","hoverlabel.align"),q.posref=se==="y"||se==="closest"&&Z.orientation==="h"?q.xa._offset+(q.x0+q.x1)/2:q.ya._offset+(q.y0+q.y1)/2,q.x0=L.constrain(q.x0,0,q.xa._length),q.x1=L.constrain(q.x1,0,q.xa._length),q.y0=L.constrain(q.y0,0,q.ya._length),q.y1=L.constrain(q.y1,0,q.ya._length),q.xLabelVal!==void 0&&(q.xLabel="xLabel"in q?q.xLabel:s.hoverLabelText(q.xa,q.xLabelVal,Z.xhoverformat),q.xVal=q.xa.c2d(q.xLabelVal)),q.yLabelVal!==void 0&&(q.yLabel="yLabel"in q?q.yLabel:s.hoverLabelText(q.ya,q.yLabelVal,Z.yhoverformat),q.yVal=q.ya.c2d(q.yLabelVal)),q.zLabelVal!==void 0&&q.zLabel===void 0&&(q.zLabel=String(q.zLabelVal)),!isNaN(q.xerr)&&!(q.xa.type==="log"&&q.xerr<=0)){var Ae=s.tickText(q.xa,q.xa.c2l(q.xerr),"hover").text;q.xerrneg!==void 0?q.xLabel+=" +"+Ae+" / -"+s.tickText(q.xa,q.xa.c2l(q.xerrneg),"hover").text:q.xLabel+="  "+Ae,se==="x"&&(q.distance+=1)}if(!isNaN(q.yerr)&&!(q.ya.type==="log"&&q.yerr<=0)){var Re=s.tickText(q.ya,q.ya.c2l(q.yerr),"hover").text;q.yerrneg!==void 0?q.yLabel+=" +"+Re+" / -"+s.tickText(q.ya,q.ya.c2l(q.yerrneg),"hover").text:q.yLabel+="  "+Re,se==="y"&&(q.distance+=1)}var Fe=q.hoverinfo||q.trace.hoverinfo;return Fe&&Fe!=="all"&&(Fe=Array.isArray(Fe)?Fe:Fe.split("+"),Fe.indexOf("x")===-1&&(q.xLabel=void 0),Fe.indexOf("y")===-1&&(q.yLabel=void 0),Fe.indexOf("z")===-1&&(q.zLabel=void 0),Fe.indexOf("text")===-1&&(q.text=void 0),Fe.indexOf("name")===-1&&(q.name=void 0)),q}function K(q,se,Y){var Z=Y.container,ie=Y.fullLayout,te=ie._size,fe=Y.event,de=!!se.hLinePoint,we=!!se.vLinePoint,Ae,Re;if(Z.selectAll(".spikeline").remove(),!!(we||de)){var Fe=n.combine(ie.plot_bgcolor,ie.paper_bgcolor);if(de){var Se=se.hLinePoint,Te,Ee;Ae=Se&&Se.xa,Re=Se&&Se.ya;var Ne=Re.spikesnap;Ne==="cursor"?(Te=fe.pointerX,Ee=fe.pointerY):(Te=Ae._offset+Se.x,Ee=Re._offset+Se.y);var He=a.readability(Se.color,Fe)<1.5?n.contrast(Fe):Se.color,_e=Re.spikemode,We=Re.spikethickness,tt=Re.spikecolor||He,Ke=s.getPxPosition(q,Re),qe,rt;if(_e.indexOf("toaxis")!==-1||_e.indexOf("across")!==-1){if(_e.indexOf("toaxis")!==-1&&(qe=Ke,rt=Te),_e.indexOf("across")!==-1){var ft=Re._counterDomainMin,pt=Re._counterDomainMax;Re.anchor==="free"&&(ft=Math.min(ft,Re.position),pt=Math.max(pt,Re.position)),qe=te.l+ft*te.w,rt=te.l+pt*te.w}Z.insert("line",":first-child").attr({x1:qe,x2:rt,y1:Ee,y2:Ee,"stroke-width":We,stroke:tt,"stroke-dasharray":u.dashStyle(Re.spikedash,We)}).classed("spikeline",!0).classed("crisp",!0),Z.insert("line",":first-child").attr({x1:qe,x2:rt,y1:Ee,y2:Ee,"stroke-width":We+2,stroke:Fe}).classed("spikeline",!0).classed("crisp",!0)}_e.indexOf("marker")!==-1&&Z.insert("circle",":first-child").attr({cx:Ke+(Re.side!=="right"?We:-We),cy:Ee,r:We,fill:tt}).classed("spikeline",!0)}if(we){var gt=se.vLinePoint,Mt,Lt;Ae=gt&&gt.xa,Re=gt&&gt.ya;var Wt=Ae.spikesnap;Wt==="cursor"?(Mt=fe.pointerX,Lt=fe.pointerY):(Mt=Ae._offset+gt.x,Lt=Re._offset+gt.y);var Je=a.readability(gt.color,Fe)<1.5?n.contrast(Fe):gt.color,ze=Ae.spikemode,Oe=Ae.spikethickness,Ue=Ae.spikecolor||Je,ke=s.getPxPosition(q,Ae),Me,ce;if(ze.indexOf("toaxis")!==-1||ze.indexOf("across")!==-1){if(ze.indexOf("toaxis")!==-1&&(Me=ke,ce=Lt),ze.indexOf("across")!==-1){var be=Ae._counterDomainMin,De=Ae._counterDomainMax;Ae.anchor==="free"&&(be=Math.min(be,Ae.position),De=Math.max(De,Ae.position)),Me=te.t+(1-De)*te.h,ce=te.t+(1-be)*te.h}Z.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:Me,y2:ce,"stroke-width":Oe,stroke:Ue,"stroke-dasharray":u.dashStyle(Ae.spikedash,Oe)}).classed("spikeline",!0).classed("crisp",!0),Z.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:Me,y2:ce,"stroke-width":Oe+2,stroke:Fe}).classed("spikeline",!0).classed("crisp",!0)}ze.indexOf("marker")!==-1&&Z.insert("circle",":first-child").attr({cx:Mt,cy:ke-(Ae.side!=="top"?Oe:-Oe),r:Oe,fill:Ue}).classed("spikeline",!0)}}}function re(q,se,Y){if(!Y||Y.length!==q._hoverdata.length)return!0;for(var Z=Y.length-1;Z>=0;Z--){var ie=Y[Z],te=q._hoverdata[Z];if(ie.curveNumber!==te.curveNumber||String(ie.pointNumber)!==String(te.pointNumber)||String(ie.pointNumbers)!==String(te.pointNumbers))return!0}return!1}function ae(q,se){return!se||se.vLinePoint!==q._spikepoints.vLinePoint||se.hLinePoint!==q._spikepoints.hLinePoint}function ue(q,se){return t.plainText(q||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function ve(q,se){for(var Y=se.charAt(0),Z=[],ie=[],te=[],fe=0;fe<q.length;fe++){var de=q[fe];o.traceIs(de.trace,"bar-like")||o.traceIs(de.trace,"box-violin")?te.push(de):de.trace[Y+"period"]?ie.push(de):Z.push(de)}return Z.concat(ie).concat(te)}function ee(q,se,Y){var Z=se[q+"a"],ie=se[q+"Val"],te=se.cd[0];if(Z.type==="category"||Z.type==="multicategory")ie=Z._categoriesMap[ie];else if(Z.type==="date"){var fe=se.trace[q+"periodalignment"];if(fe){var de=se.cd[se.index],we=de[q+"Start"];we===void 0&&(we=de[q]);var Ae=de[q+"End"];Ae===void 0&&(Ae=de[q]);var Re=Ae-we;fe==="end"?ie+=Re:fe==="middle"&&(ie+=Re/2)}ie=Z.d2c(ie)}return te&&te.t&&te.t.posLetter===Z._id&&(Y.boxmode==="group"||Y.violinmode==="group")&&(ie+=te.t.dPos),ie}function J(q){return q.offsetTop+q.clientTop}function Q(q){return q.offsetLeft+q.clientLeft}function X(q,se){var Y=q._fullLayout,Z=se.getBoundingClientRect(),ie=Z.left,te=Z.top,fe=ie+Z.width,de=te+Z.height,we=L.apply3DTransform(Y._invTransform)(ie,te),Ae=L.apply3DTransform(Y._invTransform)(fe,de),Re=we[0],Fe=we[1],Se=Ae[0],Te=Ae[1];return{x:Re,y:Fe,width:Se-Re,height:Te-Fe,top:Math.min(Fe,Te),left:Math.min(Re,Se),right:Math.max(Re,Se),bottom:Math.max(Fe,Te)}}},38048:function(W,V,e){var y=e(71828),C=e(7901),a=e(23469).isUnifiedHover;W.exports=function(x,h,d,t){t=t||{};var r=h.legend;function u(n){t.font[n]||(t.font[n]=r?h.legend.font[n]:h.font[n])}h&&a(h.hovermode)&&(t.font||(t.font={}),u("size"),u("family"),u("color"),r?(t.bgcolor||(t.bgcolor=C.combine(h.legend.bgcolor,h.paper_bgcolor)),t.bordercolor||(t.bordercolor=h.legend.bordercolor)):t.bgcolor||(t.bgcolor=h.paper_bgcolor)),d("hoverlabel.bgcolor",t.bgcolor),d("hoverlabel.bordercolor",t.bordercolor),d("hoverlabel.namelength",t.namelength),y.coerceFont(d,"hoverlabel.font",t.font),d("hoverlabel.align",t.align)}},98212:function(W,V,e){var y=e(71828),C=e(528);W.exports=function(L,x){function h(d,t){return x[d]!==void 0?x[d]:y.coerce(L,x,C,d,t)}return h("clickmode"),h("hovermode")}},30211:function(W,V,e){var y=e(39898),C=e(71828),a=e(28569),L=e(23469),x=e(528),h=e(88335);W.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:x},attributes:e(77914),layoutAttributes:x,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:h.hover,unhover:a.unhover,loneHover:h.loneHover,loneUnhover:d,click:e(75914)};function d(u){var n=C.isD3Selection(u)?u:y.select(u);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function t(u,n,i){return C.castOption(u,n,"hoverlabel."+i)}function r(u,n,i){function s(o){return C.coerceHoverinfo({hoverinfo:o},{_module:u._module},n)}return C.castOption(u,i,"hoverinfo",s)}},528:function(W,V,e){var y=e(26675),C=e(41940),a=C({editType:"none"});a.family.dflt=y.HOVERFONT,a.size.dflt=y.HOVERFONTSIZE,W.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:C({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(W,V,e){var y=e(71828),C=e(528),a=e(98212),L=e(38048);W.exports=function(h,d){function t(o,m){return y.coerce(h,d,C,o,m)}var r=a(h,d);r&&(t("hoverdistance"),t("spikedistance"));var u=t("dragmode");u==="select"&&t("selectdirection");var n=d._has("mapbox"),i=d._has("geo"),s=d._basePlotModules.length;d.dragmode==="zoom"&&((n||i)&&s===1||n&&i&&s===2)&&(d.dragmode="pan"),L(h,d,t),y.coerceFont(t,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},22774:function(W,V,e){var y=e(71828),C=e(38048),a=e(528);W.exports=function(x,h){function d(t,r){return y.coerce(x,h,a,t,r)}C(x,h,d)}},83312:function(W,V,e){var y=e(71828),C=e(30587).counter,a=e(27670).Y,L=e(85555).idRegex,x=e(44467),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[C("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(i,s,o){var m=s[o+"axes"],c=Object.keys((i._splomAxes||{})[o]||{});if(Array.isArray(m))return m;if(c.length)return c}function t(i,s){var o=i.grid||{},m=d(s,o,"x"),c=d(s,o,"y");if(!i.grid&&!m&&!c)return;var b=Array.isArray(o.subplots)&&Array.isArray(o.subplots[0]),v=Array.isArray(m),l=Array.isArray(c),p=v&&m!==o.xaxes&&l&&c!==o.yaxes,S,M;b?(S=o.subplots.length,M=o.subplots[0].length):(l&&(S=c.length),v&&(M=m.length));var R=x.newContainer(s,"grid");function T(B,N){return y.coerce(o,R,h,B,N)}var E=T("rows",S),A=T("columns",M);if(!(E*A>1)){delete s.grid;return}if(!b&&!v&&!l){var f=T("pattern")==="independent";f&&(b=!0)}R._hasSubplotGrid=b;var P=T("roworder"),w=P==="top to bottom",z=b?.2:.1,F=b?.3:.1,H,_;p&&s._splomGridDflt&&(H=s._splomGridDflt.xside,_=s._splomGridDflt.yside),R._domains={x:r("x",T,z,H,A),y:r("y",T,F,_,E,w)}}function r(i,s,o,m,c,b){var v=s(i+"gap",o),l=s("domain."+i);s(i+"side",m);for(var p=new Array(c),S=l[0],M=(l[1]-S)/(c-v),R=M*(1-v),T=0;T<c;T++){var E=S+M*T;p[b?c-1-T:T]=[E,E+R]}return p}function u(i,s){var o=s.grid;if(!(!o||!o._domains)){var m=i.grid||{},c=s._subplots,b=o._hasSubplotGrid,v=o.rows,l=o.columns,p=o.pattern==="independent",S,M,R,T,E,A,f,P=o._axisMap={};if(b){var w=m.subplots||[];A=o.subplots=new Array(v);var z=1;for(S=0;S<v;S++){var F=A[S]=new Array(l),H=w[S]||[];for(M=0;M<l;M++)if(p?(E=z===1?"xy":"x"+z+"y"+z,z++):E=H[M],F[M]="",c.cartesian.indexOf(E)!==-1){if(f=E.indexOf("y"),R=E.slice(0,f),T=E.slice(f),P[R]!==void 0&&P[R]!==M||P[T]!==void 0&&P[T]!==S)continue;F[M]=E,P[R]=M,P[T]=S}}}else{var _=d(s,m,"x"),B=d(s,m,"y");o.xaxes=n(_,c.xaxis,l,P,"x"),o.yaxes=n(B,c.yaxis,v,P,"y")}var N=o._anchors={},O=o.roworder==="top to bottom";for(var U in P){var K=U.charAt(0),re=o[K+"side"],ae,ue,ve;if(re.length<8)N[U]="free";else if(K==="x"){if(re.charAt(0)==="t"===O?(ae=0,ue=1,ve=v):(ae=v-1,ue=-1,ve=-1),b){var ee=P[U];for(S=ae;S!==ve;S+=ue)if(E=A[S][ee],!!E&&(f=E.indexOf("y"),E.slice(0,f)===U)){N[U]=E.slice(f);break}}else for(S=ae;S!==ve;S+=ue)if(T=o.yaxes[S],c.cartesian.indexOf(U+T)!==-1){N[U]=T;break}}else if(re.charAt(0)==="l"?(ae=0,ue=1,ve=l):(ae=l-1,ue=-1,ve=-1),b){var J=P[U];for(S=ae;S!==ve;S+=ue)if(E=A[J][S],!!E&&(f=E.indexOf("y"),E.slice(f)===U)){N[U]=E.slice(0,f);break}}else for(S=ae;S!==ve;S+=ue)if(R=o.xaxes[S],c.cartesian.indexOf(R+U)!==-1){N[U]=R;break}}}}function n(i,s,o,m,c){var b=new Array(o),v;function l(p,S){s.indexOf(S)!==-1&&m[S]===void 0?(b[p]=S,m[S]=p):b[p]=""}if(Array.isArray(i))for(v=0;v<o;v++)l(v,i[v]);else for(l(0,c),v=1;v<o;v++)l(v,c+(v+1));return b}W.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:t,contentDefaults:u}},69819:function(W,V,e){var y=e(85555),C=e(44467).templatedArray;e(24695),W.exports=C("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(W,V,e){var y=e(92770),C=e(58163);W.exports=function(L,x,h,d){x=x||{};var t=h==="log"&&x.type==="linear",r=h==="linear"&&x.type==="log";if(t||r){for(var u=L._fullLayout.images,n=x._id.charAt(0),i,s,o=0;o<u.length;o++)if(i=u[o],s="images["+o+"].",i[n+"ref"]===x._id){var m=i[n],c=i["size"+n],b=null,v=null;if(t){b=C(m,x.range);var l=c/Math.pow(10,b)/2;v=2*Math.log(l+Math.sqrt(1+l*l))/Math.LN10}else b=Math.pow(10,m),v=b*(Math.pow(10,c/2)-Math.pow(10,-c/2));y(b)?y(v)||(v=null):(b=null,v=null),d(s+n,b),d(s+"size"+n,v)}}}},81603:function(W,V,e){var y=e(71828),C=e(89298),a=e(85501),L=e(69819),x="images";W.exports=function(t,r){var u={name:x,handleItemDefaults:h};a(t,r,u)};function h(d,t,r){function u(l,p){return y.coerce(d,t,L,l,p)}var n=u("source"),i=u("visible",!!n);if(!i)return t;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var s={_fullLayout:r},o=["x","y"],m=0;m<2;m++){var c=o[m],b=C.coerceRef(d,t,s,c,"paper",void 0);if(b!=="paper"){var v=C.getFromId(s,b);v._imgIndices.push(t._index)}C.coercePosition(t,s,u,b,c,0)}return t}},80750:function(W,V,e){var y=e(39898),C=e(91424),a=e(89298),L=e(41675),x=e(77922);W.exports=function(d){var t=d._fullLayout,r=[],u={},n=[],i,s;for(s=0;s<t.images.length;s++){var o=t.images[s];if(o.visible)if(o.layer==="below"&&o.xref!=="paper"&&o.yref!=="paper"){i=L.ref2id(o.xref)+L.ref2id(o.yref);var m=t._plots[i];if(!m){n.push(o);continue}m.mainplot&&(i=m.mainplot.id),u[i]||(u[i]=[]),u[i].push(o)}else o.layer==="above"?r.push(o):n.push(o)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function b(T){var E=y.select(this);if(this._imgSrc!==T.source)if(E.attr("xmlns",x.svg),T.source&&T.source.slice(0,5)==="data:")E.attr("xlink:href",T.source),this._imgSrc=T.source;else{var A=new Promise((function(f){var P=new Image;this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=w,P.onload=function(){var z=document.createElement("canvas");z.width=this.width,z.height=this.height;var F=z.getContext("2d",{willReadFrequently:!0});F.drawImage(this,0,0);var H=z.toDataURL("image/png");E.attr("xlink:href",H),f()},E.on("error",w),P.src=T.source,this._imgSrc=T.source;function w(){E.remove(),f()}}).bind(this));d._promises.push(A)}}function v(T){var E=y.select(this),A=a.getFromId(d,T.xref),f=a.getFromId(d,T.yref),P=a.getRefType(T.xref)==="domain",w=a.getRefType(T.yref)==="domain",z=t._size,F,H;A!==void 0?F=typeof T.xref=="string"&&P?A._length*T.sizex:Math.abs(A.l2p(T.sizex)-A.l2p(0)):F=T.sizex*z.w,f!==void 0?H=typeof T.yref=="string"&&w?f._length*T.sizey:Math.abs(f.l2p(T.sizey)-f.l2p(0)):H=T.sizey*z.h;var _=F*c.x[T.xanchor].offset,B=H*c.y[T.yanchor].offset,N=c.x[T.xanchor].sizing+c.y[T.yanchor].sizing,O,U;switch(A!==void 0?O=typeof T.xref=="string"&&P?A._length*T.x+A._offset:A.r2p(T.x)+A._offset:O=T.x*z.w+z.l,O+=_,f!==void 0?U=typeof T.yref=="string"&&w?f._length*(1-T.y)+f._offset:f.r2p(T.y)+f._offset:U=z.h-T.y*z.h+z.t,U+=B,T.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}E.attr({x:O,y:U,width:F,height:H,preserveAspectRatio:N,opacity:T.opacity});var K=A&&a.getRefType(T.xref)!=="domain"?A._id:"",re=f&&a.getRefType(T.yref)!=="domain"?f._id:"",ae=K+re;C.setClipUrl(E,ae?"clip"+t._uid+ae:null,d)}var l=t._imageLowerLayer.selectAll("image").data(n),p=t._imageUpperLayer.selectAll("image").data(r);l.enter().append("image"),p.enter().append("image"),l.exit().remove(),p.exit().remove(),l.each(function(T){b.bind(this)(T),v.bind(this)(T)}),p.each(function(T){b.bind(this)(T),v.bind(this)(T)});var S=Object.keys(t._plots);for(s=0;s<S.length;s++){i=S[s];var M=t._plots[i];if(M.imagelayer){var R=M.imagelayer.selectAll("image").data(u[i]||[]);R.enter().append("image"),R.exit().remove(),R.each(function(T){b.bind(this)(T),v.bind(this)(T)})}}}},68804:function(W,V,e){W.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(W,V,e){var y=e(41940),C=e(22399);W.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:y({editType:"legend"}),grouptitlefont:y({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:y({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(W){W.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(W,V,e){var y=e(73972),C=e(71828),a=e(44467),L=e(9012),x=e(33030),h=e(10820),d=e(10130);function t(r,u,n,i){var s=u[r]||{},o=a.newContainer(n,r);function m(ve,ee){return C.coerce(s,o,x,ve,ee)}var c=C.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var b=m("visible");if(b){for(var v,l=function(ve,ee){var J=v._input,Q=v;return C.coerce(J,Q,L,ve,ee)},p=n.font||{},S=C.coerceFont(m,"grouptitlefont",C.extendFlat({},p,{size:Math.round(p.size*1.1)})),M=0,R=!1,T="normal",E=(n.shapes||[]).filter(function(ve){return ve.showlegend}),A=i.concat(E).filter(function(ve){return r===(ve.legend||"legend")}),f=0;f<A.length;f++)if(v=A[f],!!v.visible){var P=v._isShape;(v.showlegend||v._dfltShowLegend&&!(v._module&&v._module.attributes&&v._module.attributes.showlegend&&v._module.attributes.showlegend.dflt===!1))&&(M++,v.showlegend&&(R=!0,(!P&&y.traceIs(v,"pie-like")||v._input.showlegend===!0)&&M++),C.coerceFont(l,"legendgrouptitle.font",S)),(!P&&y.traceIs(v,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(v.fill)!==-1)&&(T=d.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),v.legendgroup!==void 0&&v.legendgroup!==""&&(T=d.isReversed({traceorder:T})?"reversed+grouped":"grouped")}var w=C.coerce(u,n,h,"showlegend",R&&M>(r==="legend"?1:0));if(w===!1&&(n[r]=void 0),!(w===!1&&!s.uirevision)&&(m("uirevision",n.uirevision),w!==!1)){m("borderwidth");var z=m("orientation"),F=m("yref"),H=m("xref"),_=z==="h",B=F==="paper",N=H==="paper",O,U,K,re="left";_?(O=0,y.getComponentMethod("rangeslider","isVisible")(u.xaxis)?B?(U=1.1,K="bottom"):(U=1,K="top"):B?(U=-.1,K="top"):(U=0,K="bottom")):(U=1,K="auto",N?O=1.02:(O=1,re="right")),C.coerce(s,o,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:O}},"x"),C.coerce(s,o,{y:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:U}},"y"),m("traceorder",T),d.isGrouped(n[r])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",re),m("yanchor",K),m("valign"),C.noneOrAll(s,o,["x","y"]);var ae=m("title.text");if(ae){m("title.side",_?"left":"top");var ue=C.extendFlat({},c,{size:C.bigFont(c.size)});C.coerceFont(m,"title.font",ue)}}}}W.exports=function(u,n,i){var s,o=i.slice(),m=n.shapes;if(m)for(s=0;s<m.length;s++){var c=m[s];if(c.showlegend){var b={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};o.push(b)}}var v=["legend"];for(s=0;s<o.length;s++)C.pushUnique(v,o[s].legend);for(n._legends=[],s=0;s<v.length;s++){var l=v[s];t(l,u,n,o),n[l]&&n[l].visible&&(n[l]._id=l),n._legends.push(l)}}},43969:function(W,V,e){var y=e(39898),C=e(71828),a=e(74875),L=e(73972),x=e(11086),h=e(28569),d=e(91424),t=e(7901),r=e(63893),u=e(85167),n=e(14928),i=e(18783),s=i.LINE_SPACING,o=i.FROM_TL,m=i.FROM_BR,c=e(82424),b=e(53630),v=e(10130),l=1,p=/^legend[0-9]*$/;W.exports=function(O,U){if(U)S(O,U);else{var K=O._fullLayout,re=K._legends,ae=K._infolayer.selectAll('[class^="legend"]');ae.each(function(){var J=y.select(this),Q=J.attr("class"),X=Q.split(" ")[0];X.match(p)&&re.indexOf(X)===-1&&J.remove()});for(var ue=0;ue<re.length;ue++){var ve=re[ue],ee=O._fullLayout[ve];S(O,ee)}}};function S(N,O){var U=O||{},K=N._fullLayout,re=B(U),ae,ue,ve=U._inHover;if(ve?(ue=U.layer,ae="hover"):(ue=K._infolayer,ae=re),!!ue){ae+=K._uid,N._legendMouseDownTime||(N._legendMouseDownTime=0);var ee;if(ve){if(!U.entries)return;ee=c(U.entries,U)}else{for(var J=(N.calcdata||[]).slice(),Q=K.shapes,X=0;X<Q.length;X++){var q=Q[X];if(q.showlegend){var se={_isShape:!0,_fullInput:q,index:q._index,name:q.name||q.label.text||"shape "+q._index,legend:q.legend,legendgroup:q.legendgroup,legendgrouptitle:q.legendgrouptitle,legendrank:q.legendrank,legendwidth:q.legendwidth,showlegend:q.showlegend,visible:q.visible,opacity:q.opacity,mode:q.type==="line"?"lines":"markers",line:q.line,marker:{line:q.line,color:q.fillcolor,size:12,symbol:q.type==="rect"?"square":q.type==="circle"?"circle":"hexagon2"}};J.push([{trace:se}])}}ee=K.showlegend&&c(J,U,K._legends.length>1)}var Y=K.hiddenlabels||[];if(!ve&&(!K.showlegend||!ee.length))return ue.selectAll("."+re).remove(),K._topdefs.select("#"+ae).remove(),a.autoMargin(N,re);var Z=C.ensureSingle(ue,"g",re,function(Se){ve||Se.attr("pointer-events","all")}),ie=C.ensureSingleById(K._topdefs,"clipPath",ae,function(Se){Se.append("rect")}),te=C.ensureSingle(Z,"rect","bg",function(Se){Se.attr("shape-rendering","crispEdges")});te.call(t.stroke,U.bordercolor).call(t.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px");var fe=C.ensureSingle(Z,"g","scrollbox"),de=U.title;if(U._titleWidth=0,U._titleHeight=0,de.text){var we=C.ensureSingle(fe,"text",re+"titletext");we.attr("text-anchor","start").call(d.font,de.font).text(de.text),f(we,fe,N,U,l)}else fe.selectAll("."+re+"titletext").remove();var Ae=C.ensureSingle(Z,"rect","scrollbar",function(Se){Se.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),Re=fe.selectAll("g.groups").data(ee);Re.enter().append("g").attr("class","groups"),Re.exit().remove();var Fe=Re.selectAll("g.traces").data(C.identity);Fe.enter().append("g").attr("class","traces"),Fe.exit().remove(),Fe.style("opacity",function(Se){var Te=Se[0].trace;return L.traceIs(Te,"pie-like")?Y.indexOf(Se[0].label)!==-1?.5:1:Te.visible==="legendonly"?.5:1}).each(function(){y.select(this).call(T,N,U)}).call(b,N,U).each(function(){ve||y.select(this).call(A,N,re)}),C.syncOrAsync([a.previousPromises,function(){return z(N,Re,Fe,U)},function(){var Se=K._size,Te=U.borderwidth,Ee=U.xref==="paper",Ne=U.yref==="paper";if(!ve){var He,_e;Ee?He=Se.l+Se.w*U.x-o[H(U)]*U._width:He=K.width*U.x-o[H(U)]*U._width,Ne?_e=Se.t+Se.h*(1-U.y)-o[_(U)]*U._effHeight:_e=K.height*(1-U.y)-o[_(U)]*U._effHeight;var We=F(N,re,He,_e);if(We)return;if(K.margin.autoexpand){var tt=He,Ke=_e;He=Ee?C.constrain(He,0,K.width-U._width):tt,_e=Ne?C.constrain(_e,0,K.height-U._effHeight):Ke,He!==tt&&C.log("Constrain "+re+".x to make legend fit inside graph"),_e!==Ke&&C.log("Constrain "+re+".y to make legend fit inside graph")}d.setTranslate(Z,He,_e)}if(Ae.on(".drag",null),Z.on("wheel",null),ve||U._height<=U._maxHeight||N._context.staticPlot){var qe=U._effHeight;ve&&(qe=U._height),te.attr({width:U._width-Te,height:qe-Te,x:Te/2,y:Te/2}),d.setTranslate(fe,0,0),ie.select("rect").attr({width:U._width-2*Te,height:qe-2*Te,x:Te,y:Te}),d.setClipUrl(fe,ae,N),d.setRect(Ae,0,0,0,0),delete U._scrollY}else{var rt=Math.max(n.scrollBarMinHeight,U._effHeight*U._effHeight/U._height),ft=U._effHeight-rt-2*n.scrollBarMargin,pt=U._height-U._effHeight,gt=ft/pt,Mt=Math.min(U._scrollY||0,pt);te.attr({width:U._width-2*Te+n.scrollBarWidth+n.scrollBarMargin,height:U._effHeight-Te,x:Te/2,y:Te/2}),ie.select("rect").attr({width:U._width-2*Te+n.scrollBarWidth+n.scrollBarMargin,height:U._effHeight-2*Te,x:Te,y:Te+Mt}),d.setClipUrl(fe,ae,N),Me(Mt,rt,gt),Z.on("wheel",function(){Mt=C.constrain(U._scrollY+y.event.deltaY/ft*pt,0,pt),Me(Mt,rt,gt),Mt!==0&&Mt!==pt&&y.event.preventDefault()});var Lt,Wt,Je,ze=function(it,ot,Tt){var It=(Tt-ot)/gt+it;return C.constrain(It,0,pt)},Oe=function(it,ot,Tt){var It=(ot-Tt)/gt+it;return C.constrain(It,0,pt)},Ue=y.behavior.drag().on("dragstart",function(){var it=y.event.sourceEvent;it.type==="touchstart"?Lt=it.changedTouches[0].clientY:Lt=it.clientY,Je=Mt}).on("drag",function(){var it=y.event.sourceEvent;it.buttons===2||it.ctrlKey||(it.type==="touchmove"?Wt=it.changedTouches[0].clientY:Wt=it.clientY,Mt=ze(Je,Lt,Wt),Me(Mt,rt,gt))});Ae.call(Ue);var ke=y.behavior.drag().on("dragstart",function(){var it=y.event.sourceEvent;it.type==="touchstart"&&(Lt=it.changedTouches[0].clientY,Je=Mt)}).on("drag",function(){var it=y.event.sourceEvent;it.type==="touchmove"&&(Wt=it.changedTouches[0].clientY,Mt=Oe(Je,Lt,Wt),Me(Mt,rt,gt))});fe.call(ke)}function Me(it,ot,Tt){U._scrollY=N._fullLayout[re]._scrollY=it,d.setTranslate(fe,0,-it),d.setRect(Ae,U._width,n.scrollBarMargin+it*Tt,n.scrollBarWidth,ot),ie.select("rect").attr("y",Te+it)}if(N._context.edits.legendPosition){var ce,be,De,Ve;Z.classed("cursor-move",!0),h.init({element:Z.node(),gd:N,prepFn:function(){var it=d.getTranslate(Z);De=it.x,Ve=it.y},moveFn:function(it,ot){var Tt=De+it,It=Ve+ot;d.setTranslate(Z,Tt,It),ce=h.align(Tt,U._width,Se.l,Se.l+Se.w,U.xanchor),be=h.align(It+U._height,-U._height,Se.t+Se.h,Se.t,U.yanchor)},doneFn:function(){if(ce!==void 0&&be!==void 0){var it={};it[re+".x"]=ce,it[re+".y"]=be,L.call("_guiRelayout",N,it)}},clickFn:function(it,ot){var Tt=ue.selectAll("g.traces").filter(function(){var It=this.getBoundingClientRect();return ot.clientX>=It.left&&ot.clientX<=It.right&&ot.clientY>=It.top&&ot.clientY<=It.bottom});Tt.size()>0&&R(N,Z,Tt,it,ot)}})}}],N)}}function M(N,O,U){var K=N[0],re=K.width,ae=O.entrywidthmode,ue=K.trace.legendwidth||O.entrywidth;return ae==="fraction"?O._maxWidth*ue:U+(ue||re)}function R(N,O,U,K,re){var ae=U.data()[0][0].trace,ue={event:re,node:U.node(),curveNumber:ae.index,expandedIndex:ae._expandedIndex,data:N.data,layout:N.layout,frames:N._transitionData._frames,config:N._context,fullData:N._fullData,fullLayout:N._fullLayout};ae._group&&(ue.group=ae._group),L.traceIs(ae,"pie-like")&&(ue.label=U.datum()[0].label);var ve=x.triggerHandler(N,"plotly_legendclick",ue);if(ve!==!1){if(K===1)O._clickTimeout=setTimeout(function(){N._fullLayout&&u(U,N,K)},N._context.doubleClickDelay);else if(K===2){O._clickTimeout&&clearTimeout(O._clickTimeout),N._legendMouseDownTime=0;var ee=x.triggerHandler(N,"plotly_legenddoubleclick",ue);ee!==!1&&u(U,N,K)}}}function T(N,O,U){var K=B(U),re=N.data()[0][0],ae=re.trace,ue=L.traceIs(ae,"pie-like"),ve=!U._inHover&&O._context.edits.legendText&&!ue,ee=U._maxNameLength,J,Q;re.groupTitle?(J=re.groupTitle.text,Q=re.groupTitle.font):(Q=U.font,U.entries?J=re.text:(J=ue?re.label:ae.name,ae._meta&&(J=C.templateString(J,ae._meta))));var X=C.ensureSingle(N,"text",K+"text");X.attr("text-anchor","start").call(d.font,Q).text(ve?E(J,ee):J);var q=U.itemwidth+n.itemGap*2;r.positionText(X,q,0),ve?X.call(r.makeEditable,{gd:O,text:J}).call(f,N,O,U).on("edit",function(se){this.text(E(se,ee)).call(f,N,O,U);var Y=re.trace._fullInput||{},Z={};if(L.hasTransform(Y,"groupby")){var ie=L.getTransformIndices(Y,"groupby"),te=ie[ie.length-1],fe=C.keyedContainer(Y,"transforms["+te+"].styles","target","value.name");fe.set(re.trace._group,se),Z=fe.constructUpdate()}else Z.name=se;return Y._isShape?L.call("_guiRelayout",O,"shapes["+ae.index+"].name",Z.name):L.call("_guiRestyle",O,Z,ae.index)}):f(X,N,O,U)}function E(N,O){var U=Math.max(4,O);if(N&&N.trim().length>=U/2)return N;N=N||"";for(var K=U-N.length;K>0;K--)N+=" ";return N}function A(N,O,U){var K=O._context.doubleClickDelay,re,ae=1,ue=C.ensureSingle(N,"rect",U+"toggle",function(ve){O._context.staticPlot||ve.style("cursor","pointer").attr("pointer-events","all"),ve.call(t.fill,"rgba(0,0,0,0)")});O._context.staticPlot||(ue.on("mousedown",function(){re=new Date().getTime(),re-O._legendMouseDownTime<K?ae+=1:(ae=1,O._legendMouseDownTime=re)}),ue.on("mouseup",function(){if(!(O._dragged||O._editing)){var ve=O._fullLayout[U];new Date().getTime()-O._legendMouseDownTime>K&&(ae=Math.max(ae-1,1)),R(O,ve,N,ae,y.event)}}))}function f(N,O,U,K,re){K._inHover&&N.attr("data-notex",!0),r.convertToTspans(N,U,function(){P(O,U,K,re)})}function P(N,O,U,K){var re=N.data()[0][0];if(!U._inHover&&re&&!re.trace.showlegend){N.remove();return}var ae=N.select("g[class*=math-group]"),ue=ae.node(),ve=B(U);U||(U=O._fullLayout[ve]);var ee=U.borderwidth,J;K===l?J=U.title.font:re.groupTitle?J=re.groupTitle.font:J=U.font;var Q=J.size*s,X,q;if(ue){var se=d.bBox(ue);X=se.height,q=se.width,K===l?d.setTranslate(ae,ee,ee+X*.75):d.setTranslate(ae,0,X*.25)}else{var Y="."+ve+(K===l?"title":"")+"text",Z=N.select(Y),ie=r.lineCount(Z),te=Z.node();if(X=Q*ie,q=te?d.bBox(te).width:0,K===l){var fe=0;U.title.side==="left"?q+=n.itemGap*2:U.title.side==="top center"?U._width&&(fe=.5*(U._width-2*ee-2*n.titlePad-q)):U.title.side==="top right"&&U._width&&(fe=U._width-2*ee-2*n.titlePad-q),r.positionText(Z,ee+n.titlePad+fe,ee+Q)}else{var de=n.itemGap*2+U.itemwidth;re.groupTitle&&(de=n.itemGap,q-=U.itemwidth),r.positionText(Z,de,-Q*((ie-1)/2-.3))}}K===l?(U._titleWidth=q,U._titleHeight=X):(re.lineHeight=Q,re.height=Math.max(X,16)+3,re.width=q)}function w(N){var O=0,U=0,K=N.title.side;return K&&(K.indexOf("left")!==-1&&(O=N._titleWidth),K.indexOf("top")!==-1&&(U=N._titleHeight)),[O,U]}function z(N,O,U,K){var re=N._fullLayout,ae=B(K);K||(K=re[ae]);var ue=re._size,ve=v.isVertical(K),ee=v.isGrouped(K),J=K.entrywidthmode==="fraction",Q=K.borderwidth,X=2*Q,q=n.itemGap,se=K.itemwidth+q*2,Y=2*(Q+q),Z=_(K),ie=K.y<0||K.y===0&&Z==="top",te=K.y>1||K.y===1&&Z==="bottom",fe=K.tracegroupgap,de={};K._maxHeight=Math.max(ie||te?re.height/2:ue.h,30);var we=0;K._width=0,K._height=0;var Ae=w(K);if(ve)U.each(function(Je){var ze=Je[0].height;d.setTranslate(this,Q+Ae[0],Q+Ae[1]+K._height+ze/2+q),K._height+=ze,K._width=Math.max(K._width,Je[0].width)}),we=se+K._width,K._width+=q+se+X,K._height+=Y,ee&&(O.each(function(Je,ze){d.setTranslate(this,0,ze*K.tracegroupgap)}),K._height+=(K._lgroupsLength-1)*K.tracegroupgap);else{var Re=H(K),Fe=K.x<0||K.x===0&&Re==="right",Se=K.x>1||K.x===1&&Re==="left",Te=te||ie,Ee=re.width/2;K._maxWidth=Math.max(Fe?Te&&Re==="left"?ue.l+ue.w:Ee:Se?Te&&Re==="right"?ue.r+ue.w:Ee:ue.w,2*se);var Ne=0,He=0;U.each(function(Je){var ze=M(Je,K,se);Ne=Math.max(Ne,ze),He+=ze}),we=null;var _e=0;if(ee){var We=0,tt=0,Ke=0;O.each(function(){var Je=0,ze=0;y.select(this).selectAll("g.traces").each(function(Ue){var ke=M(Ue,K,se),Me=Ue[0].height;d.setTranslate(this,Ae[0],Ae[1]+Q+q+Me/2+ze),ze+=Me,Je=Math.max(Je,ke),de[Ue[0].trace.legendgroup]=Je});var Oe=Je+q;tt>0&&Oe+Q+tt>K._maxWidth?(_e=Math.max(_e,tt),tt=0,Ke+=We+fe,We=ze):We=Math.max(We,ze),d.setTranslate(this,tt,Ke),tt+=Oe}),K._width=Math.max(_e,tt)+Q,K._height=Ke+We+Y}else{var qe=U.size(),rt=He+X+(qe-1)*q<K._maxWidth,ft=0,pt=0,gt=0,Mt=0;U.each(function(Je){var ze=Je[0].height,Oe=M(Je,K,se),Ue=rt?Oe:Ne;J||(Ue+=q),Ue+Q+pt-q>=K._maxWidth&&(_e=Math.max(_e,Mt),pt=0,gt+=ft,K._height+=ft,ft=0),d.setTranslate(this,Ae[0]+Q+pt,Ae[1]+Q+gt+ze/2+q),Mt=pt+Oe+q,pt+=Ue,ft=Math.max(ft,ze)}),rt?(K._width=pt+X,K._height=ft+Y):(K._width=Math.max(_e,Mt)+X,K._height+=ft+Y)}}K._width=Math.ceil(Math.max(K._width+Ae[0],K._titleWidth+2*(Q+n.titlePad))),K._height=Math.ceil(Math.max(K._height+Ae[1],K._titleHeight+2*(Q+n.itemGap))),K._effHeight=Math.min(K._height,K._maxHeight);var Lt=N._context.edits,Wt=Lt.legendText||Lt.legendPosition;U.each(function(Je){var ze=y.select(this).select("."+ae+"toggle"),Oe=Je[0].height,Ue=Je[0].trace.legendgroup,ke=M(Je,K,se);ee&&Ue!==""&&(ke=de[Ue]);var Me=Wt?se:we||ke;!ve&&!J&&(Me+=q/2),d.setRect(ze,0,-Oe/2,Me,Oe)})}function F(N,O,U,K){var re=N._fullLayout,ae=re[O],ue=H(ae),ve=_(ae),ee=ae.xref==="paper",J=ae.yref==="paper";N._fullLayout._reservedMargin[O]={};var Q=ae.y<.5?"b":"t",X=ae.x<.5?"l":"r",q={r:re.width-U,l:U+ae._width,b:re.height-K,t:K+ae._effHeight};if(ee&&J)return a.autoMargin(N,O,{x:ae.x,y:ae.y,l:ae._width*o[ue],r:ae._width*m[ue],b:ae._effHeight*m[ve],t:ae._effHeight*o[ve]});ee?N._fullLayout._reservedMargin[O][Q]=q[Q]:J||ae.orientation==="v"?N._fullLayout._reservedMargin[O][X]=q[X]:N._fullLayout._reservedMargin[O][Q]=q[Q]}function H(N){return C.isRightAnchor(N)?"right":C.isCenterAnchor(N)?"center":"left"}function _(N){return C.isBottomAnchor(N)?"bottom":C.isMiddleAnchor(N)?"middle":"top"}function B(N){return N._id||"legend"}},82424:function(W,V,e){var y=e(73972),C=e(10130);W.exports=function(L,x,h){var d=x._inHover,t=C.isGrouped(x),r=C.isReversed(x),u={},n=[],i=!1,s={},o=0,m=0,c,b;function v(O,U,K){if(x.visible!==!1&&!(h&&O!==x._id))if(U===""||!C.isGrouped(x)){var re="~~i"+o;n.push(re),u[re]=[K],o++}else n.indexOf(U)===-1?(n.push(U),i=!0,u[U]=[K]):u[U].push(K)}for(c=0;c<L.length;c++){var l=L[c],p=l[0],S=p.trace,M=S.legend,R=S.legendgroup;if(!(!d&&(!S.visible||!S.showlegend)))if(y.traceIs(S,"pie-like"))for(s[R]||(s[R]={}),b=0;b<l.length;b++){var T=l[b].label;s[R][T]||(v(M,R,{label:T,color:l[b].color,i:l[b].i,trace:S,pts:l[b].pts}),s[R][T]=!0,m=Math.max(m,(T||"").length))}else v(M,R,p),m=Math.max(m,(S.name||"").length)}if(!n.length)return[];var E=!i||!t,A=[];for(c=0;c<n.length;c++){var f=u[n[c]];E?A.push(f[0]):A.push(f)}for(E&&(A=[A]),c=0;c<A.length;c++){var P=1/0;for(b=0;b<A[c].length;b++){var w=A[c][b].trace.legendrank;P>w&&(P=w)}A[c][0]._groupMinRank=P,A[c][0]._preGroupSort=c}var z=function(O,U){return O[0]._groupMinRank-U[0]._groupMinRank||O[0]._preGroupSort-U[0]._preGroupSort},F=function(O,U){return O.trace.legendrank-U.trace.legendrank||O._preSort-U._preSort};for(A.forEach(function(O,U){O[0]._preGroupSort=U}),A.sort(z),c=0;c<A.length;c++){A[c].forEach(function(O,U){O._preSort=U}),A[c].sort(F);var H=A[c][0].trace,_=null;for(b=0;b<A[c].length;b++){var B=A[c][b].trace.legendgrouptitle;if(B&&B.text){_=B,d&&(B.font=x._groupTitleFont);break}}if(r&&A[c].reverse(),_){var N=!1;for(b=0;b<A[c].length;b++)if(y.traceIs(A[c][b].trace,"pie-like")){N=!0;break}A[c].unshift({i:-1,groupTitle:_,noClick:N,trace:{showlegend:H.showlegend,legendgroup:H.legendgroup,visible:x.groupclick==="toggleitem"?!0:H.visible}})}for(b=0;b<A[c].length;b++)A[c][b]=[A[c][b]]}return x._lgroupsLength=A.length,x._maxNameLength=m,A}},85167:function(W,V,e){var y=e(73972),C=e(71828),a=C.pushUnique,L=!0;W.exports=function(h,d,t){var r=d._fullLayout;if(d._dragged||d._editing)return;var u=r.legend.itemclick,n=r.legend.itemdoubleclick,i=r.legend.groupclick;t===1&&u==="toggle"&&n==="toggleothers"&&L&&d.data&&d._context.showTips&&C.notifier(C._(d,"Double-click on legend to isolate one trace"),"long"),L=!1;var s;if(t===1?s=u:t===2&&(s=n),!s)return;var o=i==="togglegroup",m=r.hiddenlabels?r.hiddenlabels.slice():[],c=h.data()[0][0];if(c.groupTitle&&c.noClick)return;var b=d._fullData,v=(r.shapes||[]).filter(function(Ne){return Ne.showlegend}),l=b.concat(v),p=c.trace;p._isShape&&(p=p._fullInput);var S=p.legendgroup,M,R,T,E,A,f,P={},w=[],z=[],F=[];function H(Ne,He){var _e=w.indexOf(Ne),We=P.visible;return We||(We=P.visible=[]),w.indexOf(Ne)===-1&&(w.push(Ne),_e=w.length-1),We[_e]=He,_e}var _=(r.shapes||[]).map(function(Ne){return Ne._input}),B=!1;function N(Ne,He){_[Ne].visible=He,B=!0}function O(Ne,He){if(!(c.groupTitle&&!o)){var _e=Ne._fullInput||Ne,We=_e._isShape,tt=_e.index;if(tt===void 0&&(tt=_e._index),y.hasTransform(_e,"groupby")){var Ke=z[tt];if(!Ke){var qe=y.getTransformIndices(_e,"groupby"),rt=qe[qe.length-1];Ke=C.keyedContainer(_e,"transforms["+rt+"].styles","target","value.visible"),z[tt]=Ke}var ft=Ke.get(Ne._group);ft===void 0&&(ft=!0),ft!==!1&&Ke.set(Ne._group,He),F[tt]=H(tt,_e.visible!==!1)}else{var pt=_e.visible===!1?!1:He;We?N(tt,pt):H(tt,pt)}}}var U=p.legend,K=p._fullInput,re=K&&K._isShape;if(!re&&y.traceIs(p,"pie-like")){var ae=c.label,ue=m.indexOf(ae);if(s==="toggle")ue===-1?m.push(ae):m.splice(ue,1);else if(s==="toggleothers"){var ve=ue!==-1,ee=[];for(M=0;M<d.calcdata.length;M++){var J=d.calcdata[M];for(R=0;R<J.length;R++){var Q=J[R],X=Q.label;U===J[0].trace.legend&&ae!==X&&(m.indexOf(X)===-1&&(ve=!0),a(m,X),ee.push(X))}}if(!ve)for(var q=0;q<ee.length;q++){var se=m.indexOf(ee[q]);se!==-1&&m.splice(se,1)}}y.call("_guiRelayout",d,"hiddenlabels",m)}else{var Y=S&&S.length,Z=[],ie;if(Y)for(M=0;M<l.length;M++)ie=l[M],ie.visible&&ie.legendgroup===S&&Z.push(M);if(s==="toggle"){var te;switch(p.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if(Y)if(o)for(M=0;M<l.length;M++){var fe=l[M];fe.visible!==!1&&fe.legendgroup===S&&O(fe,te)}else O(p,te);else O(p,te)}else if(s==="toggleothers"){var de,we,Ae,Re,Fe,Se=!0;for(M=0;M<l.length;M++)if(Fe=l[M],de=Fe===p,Ae=Fe.showlegend!==!0,!(de||Ae)&&(we=Y&&Fe.legendgroup===S,!we&&Fe.legend===U&&Fe.visible===!0&&!y.traceIs(Fe,"notLegendIsolatable"))){Se=!1;break}for(M=0;M<l.length;M++)if(Fe=l[M],!(Fe.visible===!1||Fe.legend!==U)&&!y.traceIs(Fe,"notLegendIsolatable"))switch(p.visible){case"legendonly":O(Fe,!0);break;case!0:Re=Se?!0:"legendonly",de=Fe===p,Ae=Fe.showlegend!==!0&&!Fe.legendgroup,we=de||Y&&Fe.legendgroup===S,O(Fe,we||Ae?!0:Re);break}}for(M=0;M<z.length;M++)if(T=z[M],!!T){var Te=T.constructUpdate(),Ee=Object.keys(Te);for(R=0;R<Ee.length;R++)E=Ee[R],f=P[E]=P[E]||[],f[F[M]]=Te[E]}for(A=Object.keys(P),M=0;M<A.length;M++)for(E=A[M],R=0;R<w.length;R++)P[E].hasOwnProperty(R)||(P[E][R]=void 0);B?y.call("_guiUpdate",d,P,{shapes:_},w):y.call("_guiRestyle",d,P,w)}}},10130:function(W,V){V.isGrouped=function(y){return(y.traceorder||"").indexOf("grouped")!==-1},V.isVertical=function(y){return y.orientation!=="h"},V.isReversed=function(y){return(y.traceorder||"").indexOf("reversed")!==-1}},2199:function(W,V,e){W.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(W,V,e){var y=e(39898),C=e(73972),a=e(71828),L=a.strTranslate,x=e(91424),h=e(7901),d=e(52075).extractOpts,t=e(34098),r=e(63463),u=e(53581).castOption,n=e(14928),i=12,s=5,o=2,m=10,c=5;W.exports=function(S,M,R){var T=M._fullLayout;R||(R=T.legend);var E=R.itemsizing==="constant",A=R.itemwidth,f=(A+n.itemGap*2)/2,P=L(f,0),w=function(ee,J,Q,X){var q;if(ee+1)q=ee;else if(J&&J.width>0)q=J.width;else return 0;return E?X:Math.min(q,Q)};S.each(function(ee){var J=y.select(this),Q=a.ensureSingle(J,"g","layers");Q.style("opacity",ee[0].trace.opacity);var X=R.valign,q=ee[0].lineHeight,se=ee[0].height;if(X==="middle"||!q||!se)Q.attr("transform",null);else{var Y={top:1,bottom:-1}[X],Z=Y*(.5*(q-se+3));Q.attr("transform",L(0,Z))}var ie=Q.selectAll("g.legendfill").data([ee]);ie.enter().append("g").classed("legendfill",!0);var te=Q.selectAll("g.legendlines").data([ee]);te.enter().append("g").classed("legendlines",!0);var fe=Q.selectAll("g.legendsymbols").data([ee]);fe.enter().append("g").classed("legendsymbols",!0),fe.selectAll("g.legendpoints").data([ee]).enter().append("g").classed("legendpoints",!0)}).each(ve).each(H).each(B).each(_).each(O).each(ae).each(re).each(z).each(F).each(U).each(K);function z(ee){var J=v(ee),Q=J.showFill,X=J.showLine,q=J.showGradientLine,se=J.showGradientFill,Y=J.anyFill,Z=J.anyLine,ie=ee[0],te=ie.trace,fe,de,we=d(te),Ae=we.colorscale,Re=we.reversescale,Fe=function(We){if(We.size())if(Q)x.fillGroupStyle(We,M);else{var tt="legendfill-"+te.uid;x.gradient(We,M,tt,b(Re),Ae,"fill")}},Se=function(We){if(We.size()){var tt="legendline-"+te.uid;x.lineGroupStyle(We),x.gradient(We,M,tt,b(Re),Ae,"stroke")}},Te=t.hasMarkers(te)||!Y?"M5,0":Z?"M5,-2":"M5,-3",Ee=y.select(this),Ne=Ee.select(".legendfill").selectAll("path").data(Q||se?[ee]:[]);if(Ne.enter().append("path").classed("js-fill",!0),Ne.exit().remove(),Ne.attr("d",Te+"h"+A+"v6h-"+A+"z").call(Fe),X||q){var He=w(void 0,te.line,m,s);de=a.minExtend(te,{line:{width:He}}),fe=[a.minExtend(ie,{trace:de})]}var _e=Ee.select(".legendlines").selectAll("path").data(X||q?[fe]:[]);_e.enter().append("path").classed("js-line",!0),_e.exit().remove(),_e.attr("d",Te+(q?"l"+A+",0.0001":"h"+A)).call(X?x.lineGroupStyle:Se)}function F(ee){var J=v(ee),Q=J.anyFill,X=J.anyLine,q=J.showLine,se=J.showMarker,Y=ee[0],Z=Y.trace,ie=!se&&!X&&!Q&&t.hasText(Z),te,fe;function de(Ne,He,_e,We){var tt=a.nestedProperty(Z,Ne).get(),Ke=a.isArrayOrTypedArray(tt)&&He?He(tt):tt;if(E&&Ke&&We!==void 0&&(Ke=We),_e){if(Ke<_e[0])return _e[0];if(Ke>_e[1])return _e[1]}return Ke}function we(Ne){return Y._distinct&&Y.index&&Ne[Y.index]?Ne[Y.index]:Ne[0]}if(se||ie||q){var Ae={},Re={};if(se){Ae.mc=de("marker.color",we),Ae.mx=de("marker.symbol",we),Ae.mo=de("marker.opacity",a.mean,[.2,1]),Ae.mlc=de("marker.line.color",we),Ae.mlw=de("marker.line.width",a.mean,[0,5],o),Re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Fe=de("marker.size",a.mean,[2,16],i);Ae.ms=Fe,Re.marker.size=Fe}q&&(Re.line={width:de("line.width",we,[0,10],s)}),ie&&(Ae.tx="Aa",Ae.tp=de("textposition",we),Ae.ts=10,Ae.tc=de("textfont.color",we),Ae.tf=de("textfont.family",we)),te=[a.minExtend(Y,Ae)],fe=a.minExtend(Z,Re),fe.selectedpoints=null,fe.texttemplate=null}var Se=y.select(this).select("g.legendpoints"),Te=Se.selectAll("path.scatterpts").data(se?te:[]);Te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),Te.exit().remove(),Te.call(x.pointStyle,fe,M),se&&(te[0].mrc=3);var Ee=Se.selectAll("g.pointtext").data(ie?te:[]);Ee.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),Ee.exit().remove(),Ee.selectAll("text").call(x.textPointStyle,fe,M)}function H(ee){var J=ee[0].trace,Q=J.type==="waterfall";if(ee[0]._distinct&&Q){var X=ee[0].trace[ee[0].dir].marker;return ee[0].mc=X.color,ee[0].mlw=X.line.width,ee[0].mlc=X.line.color,N(ee,this,"waterfall")}var q=[];J.visible&&Q&&(q=ee[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=y.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(Y){var Z=y.select(this),ie=J[Y[0]].marker,te=w(void 0,ie.line,c,o);Z.attr("d",Y[1]).style("stroke-width",te+"px").call(h.fill,ie.color),te&&Z.call(h.stroke,ie.line.color)})}function _(ee){N(ee,this)}function B(ee){N(ee,this,"funnel")}function N(ee,J,Q){var X=ee[0].trace,q=X.marker||{},se=q.line||{},Y=Q?X.visible&&X.type===Q:C.traceIs(X,"bar"),Z=y.select(J).select("g.legendpoints").selectAll("path.legend"+Q).data(Y?[ee]:[]);Z.enter().append("path").classed("legend"+Q,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Z.exit().remove(),Z.each(function(ie){var te=y.select(this),fe=ie[0],de=w(fe.mlw,q.line,c,o);te.style("stroke-width",de+"px");var we=fe.mcc;if(!R._inHover&&"mc"in fe){var Ae=d(q),Re=Ae.mid;Re===void 0&&(Re=(Ae.max+Ae.min)/2),we=x.tryColorscale(q,"")(Re)}var Fe=we||fe.mc||q.color,Se=q.pattern,Te=Se&&x.getPatternAttr(Se.shape,0,"");if(Te){var Ee=x.getPatternAttr(Se.bgcolor,0,null),Ne=x.getPatternAttr(Se.fgcolor,0,null),He=Se.fgopacity,_e=l(Se.size,8,10),We=l(Se.solidity,.5,1),tt="legend-"+X.uid;te.call(x.pattern,"legend",M,tt,Te,_e,We,we,Se.fillmode,Ee,Ne,He)}else te.call(h.fill,Fe);de&&h.stroke(te,fe.mlc||se.color)})}function O(ee){var J=ee[0].trace,Q=y.select(this).select("g.legendpoints").selectAll("path.legendbox").data(J.visible&&C.traceIs(J,"box-violin")?[ee]:[]);Q.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Q.exit().remove(),Q.each(function(){var X=y.select(this);if((J.boxpoints==="all"||J.points==="all")&&h.opacity(J.fillcolor)===0&&h.opacity((J.line||{}).color)===0){var q=a.minExtend(J,{marker:{size:E?i:a.constrain(J.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Q.call(x.pointStyle,q,M)}else{var se=w(void 0,J.line,c,o);X.style("stroke-width",se+"px").call(h.fill,J.fillcolor),se&&h.stroke(X,J.line.color)}})}function U(ee){var J=ee[0].trace,Q=y.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(J.visible&&J.type==="candlestick"?[ee,ee]:[]);Q.enter().append("path").classed("legendcandle",!0).attr("d",function(X,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(X,q){var se=y.select(this),Y=J[q?"increasing":"decreasing"],Z=w(void 0,Y.line,c,o);se.style("stroke-width",Z+"px").call(h.fill,Y.fillcolor),Z&&h.stroke(se,Y.line.color)})}function K(ee){var J=ee[0].trace,Q=y.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(J.visible&&J.type==="ohlc"?[ee,ee]:[]);Q.enter().append("path").classed("legendohlc",!0).attr("d",function(X,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(X,q){var se=y.select(this),Y=J[q?"increasing":"decreasing"],Z=w(void 0,Y.line,c,o);se.style("fill","none").call(x.dashLine,Y.line.dash,Z),Z&&h.stroke(se,Y.line.color)})}function re(ee){ue(ee,this,"pie")}function ae(ee){ue(ee,this,"funnelarea")}function ue(ee,J,Q){var X=ee[0],q=X.trace,se=Q?q.visible&&q.type===Q:C.traceIs(q,Q),Y=y.select(J).select("g.legendpoints").selectAll("path.legend"+Q).data(se?[ee]:[]);if(Y.enter().append("path").classed("legend"+Q,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Y.exit().remove(),Y.size()){var Z=q.marker||{},ie=w(u(Z.line.width,X.pts),Z.line,c,o),te="pieLike",fe=a.minExtend(q,{marker:{line:{width:ie}}},te),de=a.minExtend(X,{trace:fe},te);r(Y,de,fe,M)}}function ve(ee){var J=ee[0].trace,Q,X=[];if(J.visible)switch(J.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],Q=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],Q=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Q="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Q=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Q=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Q=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Q=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Q=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Q=!1;break}var q=y.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(se,Y){var Z=y.select(this),ie=d(J),te=ie.colorscale,fe=ie.reversescale,de=function(Fe){if(Fe.size()){var Se="legendfill-"+J.uid;x.gradient(Fe,M,Se,b(fe,Q==="radial"),te,"fill")}},we;if(te){if(!Q){var Re=te.length;we=Y===0?te[fe?Re-1:0][1]:Y===1?te[fe?0:Re-1][1]:te[Math.floor((Re-1)/2)][1]}}else{var Ae=J.vertexcolor||J.facecolor||J.color;we=a.isArrayOrTypedArray(Ae)?Ae[Y]||Ae[0]:Ae}Z.attr("d",se[0]),we?Z.call(h.fill,we):Z.call(de)})}};function b(p,S){var M=S?"radial":"horizontal";return M+(p?"":"reversed")}function v(p){var S=p[0].trace,M=S.contours,R=t.hasLines(S),T=t.hasMarkers(S),E=S.visible&&S.fill&&S.fill!=="none",A=!1,f=!1;if(M){var P=M.coloring;P==="lines"?A=!0:R=P==="none"||P==="heatmap"||M.showlines,M.type==="constraint"?E=M._operation!=="=":(P==="fill"||P==="heatmap")&&(f=!0)}return{showMarker:T,showLine:R,showFill:E,showGradientLine:A,showGradientFill:f,anyLine:R||A,anyFill:E||f}}function l(p,S,M){return p&&a.isArrayOrTypedArray(p)?S:p>M?M:p}},42068:function(W,V,e){e(93348),W.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(W,V,e){var y=e(73972),C=e(74875),a=e(41675),L=e(24255),x=e(34031).eraseActiveShape,h=e(71828),d=h._,t=W.exports={};t.toImage={name:"toImage",title:function(p){var S=p._context.toImageButtonOptions||{},M=S.format||"png";return M==="png"?d(p,"Download plot as a png"):d(p,"Download plot")},icon:L.camera,click:function(p){var S=p._context.toImageButtonOptions,M={format:S.format||"png"};h.notifier(d(p,"Taking snapshot - this may take a few seconds"),"long"),M.format!=="svg"&&h.isIE()&&(h.notifier(d(p,"IE only supports svg.  Changing format to svg."),"long"),M.format="svg"),["filename","width","height","scale"].forEach(function(R){R in S&&(M[R]=S[R])}),y.call("downloadImage",p,M).then(function(R){h.notifier(d(p,"Snapshot succeeded")+" - "+R,"long")}).catch(function(){h.notifier(d(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(p){return d(p,"Edit in Chart Studio")},icon:L.disk,click:function(p){C.sendDataToCloud(p)}},t.editInChartStudio={name:"editInChartStudio",title:function(p){return d(p,"Edit in Chart Studio")},icon:L.pencil,click:function(p){C.sendDataToCloud(p)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(p){return d(p,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return d(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(p){return d(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(p){return d(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:r},t.drawline={name:"drawline",title:function(p){return d(p,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:r},t.drawrect={name:"drawrect",title:function(p){return d(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(p){return d(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(p){return d(p,"Erase active shape")},icon:L.eraseshape,click:x},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return d(p,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return d(p,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return d(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return d(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:r};function r(p,S){var M=S.currentTarget,R=M.getAttribute("data-attr"),T=M.getAttribute("data-val")||!0,E=p._fullLayout,A={},f=a.list(p,null,!0),P=E._cartesianSpikesEnabled,w,z;if(R==="zoom"){var F=T==="in"?.5:2,H=(1+F)/2,_=(1-F)/2,B;for(z=0;z<f.length;z++)if(w=f[z],!w.fixedrange)if(B=w._name,T==="auto")A[B+".autorange"]=!0;else if(T==="reset")w._rangeInitial0===void 0&&w._rangeInitial1===void 0?A[B+".autorange"]=!0:w._rangeInitial0===void 0?(A[B+".autorange"]=w._autorangeInitial,A[B+".range"]=[null,w._rangeInitial1]):w._rangeInitial1===void 0?(A[B+".range"]=[w._rangeInitial0,null],A[B+".autorange"]=w._autorangeInitial):A[B+".range"]=[w._rangeInitial0,w._rangeInitial1],w._showSpikeInitial!==void 0&&(A[B+".showspikes"]=w._showSpikeInitial,P==="on"&&!w._showSpikeInitial&&(P="off"));else{var N=[w.r2l(w.range[0]),w.r2l(w.range[1])],O=[H*N[0]+_*N[1],H*N[1]+_*N[0]];A[B+".range[0]"]=w.l2r(O[0]),A[B+".range[1]"]=w.l2r(O[1])}}else R==="hovermode"&&(T==="x"||T==="y")&&(T=E._isHoriz?"y":"x",M.setAttribute("data-val",T)),A[R]=T;E._cartesianSpikesEnabled=P,y.call("_guiRelayout",p,A)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:u},t.pan3d={name:"pan3d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:u},t.orbitRotation={name:"orbitRotation",title:function(p){return d(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:u},t.tableRotation={name:"tableRotation",title:function(p){return d(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:u};function u(p,S){for(var M=S.currentTarget,R=M.getAttribute("data-attr"),T=M.getAttribute("data-val")||!0,E=p._fullLayout._subplots.gl3d||[],A={},f=R.split("."),P=0;P<E.length;P++)A[E[P]+"."+f[1]]=T;var w=T==="pan"?T:"zoom";A.dragmode=w,y.call("_guiRelayout",p,A)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return d(p,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return d(p,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(p,S){for(var M=S.currentTarget,R=M.getAttribute("data-attr"),T=R==="resetLastSave",E=R==="resetDefault",A=p._fullLayout,f=A._subplots.gl3d||[],P={},w=0;w<f.length;w++){var z=f[w],F=z+".camera",H=z+".aspectratio",_=z+".aspectmode",B=A[z]._scene,N;T?(P[F+".up"]=B.viewInitial.up,P[F+".eye"]=B.viewInitial.eye,P[F+".center"]=B.viewInitial.center,N=!0):E&&(P[F+".up"]=null,P[F+".eye"]=null,P[F+".center"]=null,N=!0),N&&(P[H+".x"]=B.viewInitial.aspectratio.x,P[H+".y"]=B.viewInitial.aspectratio.y,P[H+".z"]=B.viewInitial.aspectratio.z,P[_]=B.viewInitial.aspectmode)}y.call("_guiRelayout",p,P)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:s};function i(p,S){var M=S.currentTarget,R=M._previousVal,T=p._fullLayout,E=T._subplots.gl3d||[],A=["xaxis","yaxis","zaxis"],f={},P={};if(R)P=R,M._previousVal=null;else{for(var w=0;w<E.length;w++){var z=E[w],F=T[z],H=z+".hovermode";f[H]=F.hovermode,P[H]=!1;for(var _=0;_<3;_++){var B=A[_],N=z+"."+B+".showspikes";P[N]=!1,f[N]=F[B].showspikes}}M._previousVal=f}return P}function s(p,S){var M=i(p,S);y.call("_guiRelayout",p,M)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:o},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:o},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return d(p,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:o},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:c};function o(p,S){for(var M=S.currentTarget,R=M.getAttribute("data-attr"),T=M.getAttribute("data-val")||!0,E=p._fullLayout,A=E._subplots.geo||[],f=0;f<A.length;f++){var P=A[f],w=E[P];if(R==="zoom"){var z=w.projection.scale,F=T==="in"?2*z:.5*z;y.call("_guiRelayout",p,P+".projection.scale",F)}}R==="reset"&&l(p,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:c},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:c};function m(p){var S=p._fullLayout;return S.hovermode?!1:S._has("cartesian")?S._isHoriz?"y":"x":"closest"}function c(p){var S=m(p);y.call("_guiRelayout",p,"hovermode",S)}t.resetViewSankey={name:"resetSankeyGroup",title:function(p){return d(p,"Reset view")},icon:L.home,click:function(p){for(var S={"node.groups":[],"node.x":[],"node.y":[]},M=0;M<p._fullData.length;M++){var R=p._fullData[M]._viewInitial;S["node.groups"].push(R.node.groups.slice()),S["node.x"].push(R.node.x.slice()),S["node.y"].push(R.node.y.slice())}y.call("restyle",p,S)}},t.toggleHover={name:"toggleHover",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(p,S){var M=i(p,S);M.hovermode=m(p),y.call("_guiRelayout",p,M)}},t.resetViews={name:"resetViews",title:function(p){return d(p,"Reset views")},icon:L.home,click:function(p,S){var M=S.currentTarget;M.setAttribute("data-attr","zoom"),M.setAttribute("data-val","reset"),r(p,S),M.setAttribute("data-attr","resetLastSave"),n(p,S),l(p,"geo"),l(p,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(p){return d(p,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var S=p._fullLayout,M=S._cartesianSpikesEnabled;S._cartesianSpikesEnabled=M==="on"?"off":"on",y.call("_guiRelayout",p,b(p))}};function b(p){for(var S=p._fullLayout,M=S._cartesianSpikesEnabled==="on",R=a.list(p,null,!0),T={},E=0;E<R.length;E++){var A=R[E];T[A._name+".showspikes"]=M?!0:A._showSpikeInitial}return T}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return d(p,"Reset view")},attr:"reset",icon:L.home,click:function(p){l(p,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:v},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:v};function v(p,S){for(var M=S.currentTarget,R=M.getAttribute("data-val"),T=p._fullLayout,E=T._subplots.mapbox||[],A=1.05,f={},P=0;P<E.length;P++){var w=E[P],z=T[w].zoom,F=R==="in"?A*z:z/A;f[w+".zoom"]=F}y.call("_guiRelayout",p,f)}function l(p,S){for(var M=p._fullLayout,R=M._subplots[S]||[],T={},E=0;E<R.length;E++)for(var A=R[E],f=M[A]._subplot,P=f.viewInitial,w=Object.keys(P),z=0;z<w.length;z++){var F=w[z];T[A+"."+F]=P[F]}y.call("_guiRelayout",p,T)}},93348:function(W,V,e){var y=e(26023),C=Object.keys(y),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),x=[],h=function(d){if(L.indexOf(d._cat||d.name)===-1){var t=d.name,r=(d._cat||d.name).toLowerCase();x.indexOf(t)===-1&&x.push(t),x.indexOf(r)===-1&&x.push(r)}};C.forEach(function(d){h(y[d])}),x.sort(),W.exports={DRAW_MODES:a,backButtons:L,foreButtons:x}},35750:function(W,V,e){var y=e(71828),C=e(7901),a=e(44467),L=e(42068);W.exports=function(h,d){var t=h.modebar||{},r=a.newContainer(d,"modebar");function u(i,s){return y.coerce(t,r,L,i,s)}u("orientation"),u("bgcolor",C.addOpacity(d.paper_bgcolor,.5));var n=C.contrast(C.rgb(d.modebar.bgcolor));u("color",C.addOpacity(n,.3)),u("activecolor",C.addOpacity(n,.7)),u("uirevision",d.uirevision),u("add"),u("remove")}},64168:function(W,V,e){W.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(W,V,e){var y=e(41675),C=e(34098),a=e(73972),L=e(23469).isUnifiedHover,x=e(37676),h=e(26023),d=e(93348).DRAW_MODES,t=e(71828).extendDeep;W.exports=function(c){var b=c._fullLayout,v=c._context,l=b._modeBar;if(!v.displayModeBar&&!v.watermark){l&&(l.destroy(),delete b._modeBar);return}if(!Array.isArray(v.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(v.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p=v.modeBarButtons,S;Array.isArray(p)&&p.length?S=o(p):!v.displayModeBar&&v.watermark?S=[]:S=r(c),l?l.update(c,S):b._modeBar=x(c,S)};function r(m){var c=m._fullLayout,b=m._fullData,v=m._context;function l(Y,Z){if(typeof Z=="string"){if(Z.toLowerCase()===Y.toLowerCase())return!0}else{var ie=Z.name,te=Z._cat||Z.name;if(ie===Y||te===Y.toLowerCase())return!0}return!1}var p=c.modebar.add;typeof p=="string"&&(p=[p]);var S=c.modebar.remove;typeof S=="string"&&(S=[S]);var M=v.modeBarButtonsToAdd.concat(p.filter(function(Y){for(var Z=0;Z<v.modeBarButtonsToRemove.length;Z++)if(l(Y,v.modeBarButtonsToRemove[Z]))return!1;return!0})),R=v.modeBarButtonsToRemove.concat(S.filter(function(Y){for(var Z=0;Z<v.modeBarButtonsToAdd.length;Z++)if(l(Y,v.modeBarButtonsToAdd[Z]))return!1;return!0})),T=c._has("cartesian"),E=c._has("gl3d"),A=c._has("geo"),f=c._has("pie"),P=c._has("funnelarea"),w=c._has("gl2d"),z=c._has("ternary"),F=c._has("mapbox"),H=c._has("polar"),_=c._has("smith"),B=c._has("sankey"),N=u(c),O=L(c.hovermode),U=[];function K(Y){if(Y.length){for(var Z=[],ie=0;ie<Y.length;ie++){for(var te=Y[ie],fe=h[te],de=fe.name.toLowerCase(),we=(fe._cat||fe.name).toLowerCase(),Ae=!1,Re=0;Re<R.length;Re++){var Fe=R[Re].toLowerCase();if(Fe===de||Fe===we){Ae=!0;break}}Ae||Z.push(h[te])}U.push(Z)}}var re=["toImage"];v.showEditInChartStudio?re.push("editInChartStudio"):v.showSendToCloud&&re.push("sendDataToCloud"),K(re);var ae=[],ue=[],ve=[],ee=[];(T||w||f||P||z)+A+E+F+H+_>1?(ue=["toggleHover"],ve=["resetViews"]):A?(ae=["zoomInGeo","zoomOutGeo"],ue=["hoverClosestGeo"],ve=["resetGeo"]):E?(ue=["hoverClosest3d"],ve=["resetCameraDefault3d","resetCameraLastSave3d"]):F?(ae=["zoomInMapbox","zoomOutMapbox"],ue=["toggleHover"],ve=["resetViewMapbox"]):w?ue=["hoverClosestGl2d"]:f?ue=["hoverClosestPie"]:B?(ue=["hoverClosestCartesian","hoverCompareCartesian"],ve=["resetViewSankey"]):ue=["toggleHover"],T&&(ue=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(i(b)||O)&&(ue=[]),(T||w)&&!N&&(ae=["zoomIn2d","zoomOut2d","autoScale2d"],ve[0]!=="resetViews"&&(ve=["resetScale2d"])),E?ee=["zoom3d","pan3d","orbitRotation","tableRotation"]:(T||w)&&!N||z?ee=["zoom2d","pan2d"]:F||A?ee=["pan2d"]:H&&(ee=["zoom2d"]),n(b)&&ee.push("select2d","lasso2d");var J=[],Q=function(Y){J.indexOf(Y)===-1&&ue.indexOf(Y)!==-1&&J.push(Y)};if(Array.isArray(M)){for(var X=[],q=0;q<M.length;q++){var se=M[q];typeof se=="string"?(se=se.toLowerCase(),d.indexOf(se)!==-1?(c._has("mapbox")||c._has("cartesian"))&&ee.push(se):se==="togglespikelines"?Q("toggleSpikelines"):se==="togglehover"?Q("toggleHover"):se==="hovercompare"?Q("hoverCompareCartesian"):se==="hoverclosest"?(Q("hoverClosestCartesian"),Q("hoverClosestGeo"),Q("hoverClosest3d"),Q("hoverClosestGl2d"),Q("hoverClosestPie")):se==="v1hovermode"&&(Q("toggleHover"),Q("hoverClosestCartesian"),Q("hoverCompareCartesian"),Q("hoverClosestGeo"),Q("hoverClosest3d"),Q("hoverClosestGl2d"),Q("hoverClosestPie"))):X.push(se)}M=X}return K(ee),K(ae.concat(ve)),K(J),s(U,M)}function u(m){for(var c=y.list({_fullLayout:m},null,!0),b=0;b<c.length;b++)if(!c[b].fixedrange)return!1;return!0}function n(m){for(var c=!1,b=0;b<m.length&&!c;b++){var v=m[b];!v._module||!v._module.selectPoints||(a.traceIs(v,"scatter-like")?(C.hasMarkers(v)||C.hasText(v))&&(c=!0):a.traceIs(v,"box-violin")?(v.boxpoints==="all"||v.points==="all")&&(c=!0):c=!0)}return c}function i(m){for(var c=0;c<m.length;c++)if(!a.traceIs(m[c],"noHover"))return!1;return!0}function s(m,c){if(c.length)if(Array.isArray(c[0]))for(var b=0;b<c.length;b++)m.push(c[b]);else m.push(c);return m}function o(m){for(var c=t([],m),b=0;b<c.length;b++)for(var v=c[b],l=0;l<v.length;l++){var p=v[l];if(typeof p=="string")if(h[p]!==void 0)c[b][l]=h[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},37676:function(W,V,e){var y=e(39898),C=e(92770),a=e(71828),L=e(24255),x=e(11506).version,h=new DOMParser;function d(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var t=d.prototype;t.update=function(n,i){this.graphInfo=n;var s=this.graphInfo._context,o=this.graphInfo._fullLayout,m="modebar-"+o._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",s.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),o.modebar.orientation==="v"&&(this.element.className+=" vertical",i=i.reverse());var c=o.modebar,b=s.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(m),a.addRelatedStyleRule(m,b+"#"+m+" .modebar-group","background-color: "+c.bgcolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+c.color),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+c.activecolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+c.activecolor);var v=!this.hasButtons(i),l=this.hasLogo!==s.displaylogo,p=this.locale!==s.locale;if(this.locale=s.locale,(v||l||p)&&(this.removeAllButtons(),this.updateButtons(i),s.watermark||s.displaylogo)){var S=this.getLogo();s.watermark&&(S.className=S.className+" watermark"),o.modebar.orientation==="v"?this.element.insertBefore(S,this.element.childNodes[0]):this.element.appendChild(S),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(n){var i=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(s){var o=i.createGroup();s.forEach(function(m){var c=m.name;if(!c)throw new Error("must provide button 'name' in button config");if(i.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");i.buttonsNames.push(c);var b=i.createButton(m);i.buttonElements.push(b),o.appendChild(b)}),i.element.appendChild(o)})},t.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},t.createButton=function(n){var i=this,s=document.createElement("a");s.setAttribute("rel","tooltip"),s.className="modebar-btn";var o=n.title;o===void 0?o=n.name:typeof o=="function"&&(o=o(this.graphInfo)),(o||o===0)&&s.setAttribute("data-title",o),n.attr!==void 0&&s.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),s.setAttribute("data-val",m));var c=n.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");s.addEventListener("click",function(v){n.click(i.graphInfo,v),i.updateActiveButton(v.currentTarget)}),s.setAttribute("data-toggle",n.toggle||!1),n.toggle&&y.select(s).classed("active",!0);var b=n.icon;return typeof b=="function"?s.appendChild(b()):s.appendChild(this.createIcon(b||L.question)),s.setAttribute("data-gravity",n.gravity||"n"),s},t.createIcon=function(n){var i=C(n.height)?Number(n.height):n.ascent-n.descent,s="http://www.w3.org/2000/svg",o;if(n.path){o=document.createElementNS(s,"svg"),o.setAttribute("viewBox",[0,0,n.width,i].join(" ")),o.setAttribute("class","icon");var m=document.createElementNS(s,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),o.appendChild(m)}if(n.svg){var c=h.parseFromString(n.svg,"application/xml");o=c.childNodes[0]}return o.setAttribute("height","1em"),o.setAttribute("width","1em"),o},t.updateActiveButton=function(n){var i=this.graphInfo._fullLayout,s=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(o){var m=o.getAttribute("data-val")||!0,c=o.getAttribute("data-attr"),b=o.getAttribute("data-toggle")==="true",v=y.select(o);if(b)c===s&&v.classed("active",!v.classed("active"));else{var l=c===null?c:a.nestedProperty(i,c).get();v.classed("active",l===m)}})},t.hasButtons=function(n){var i=this.buttons;if(!i||n.length!==i.length)return!1;for(var s=0;s<n.length;++s){if(n[s].length!==i[s].length)return!1;for(var o=0;o<n[s].length;o++)if(n[s][o].name!==i[s][o].name)return!1}return!0};function r(n){return n+" (v"+x+")"}t.getLogo=function(){var n=this.createGroup(),i=document.createElement("a");return i.href="https://plotly.com/",i.target="_blank",i.setAttribute("data-title",r(a._(this.graphInfo,"Produced with Plotly.js"))),i.className="modebar-btn plotlyjsicon modebar-btn--logo",i.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(i),n},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function u(n,i){var s=n._fullLayout,o=new d({graphInfo:n,container:s._modebardiv.node(),buttons:i});return s._privateplot&&y.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}W.exports=u},37113:function(W,V,e){var y=e(41940),C=e(22399),a=e(44467).templatedArray,L=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});W.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:y({editType:"plot"}),bgcolor:{valType:"color",dflt:C.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(W){W.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(W,V,e){var y=e(71828),C=e(7901),a=e(44467),L=e(85501),x=e(37113),h=e(89573);W.exports=function(u,n,i,s,o){var m=u.rangeselector||{},c=a.newContainer(n,"rangeselector");function b(M,R){return y.coerce(m,c,x,M,R)}var v=L(m,c,{name:"buttons",handleItemDefaults:d,calendar:o}),l=b("visible",v.length>0);if(l){var p=t(n,i,s);b("x",p[0]),b("y",p[1]),y.noneOrAll(u,n,["x","y"]),b("xanchor"),b("yanchor"),y.coerceFont(b,"font",i.font);var S=b("bgcolor");b("activecolor",C.contrast(S,h.lightAmount,h.darkAmount)),b("bordercolor"),b("borderwidth")}};function d(r,u,n,i){var s=i.calendar;function o(b,v){return y.coerce(r,u,x.buttons,b,v)}var m=o("visible");if(m){var c=o("step");c!=="all"&&(s&&s!=="gregorian"&&(c==="month"||c==="year")?u.stepmode="backward":o("stepmode"),o("count")),o("label")}}function t(r,u,n){for(var i=n.filter(function(c){return u[c].anchor===r._id}),s=0,o=0;o<i.length;o++){var m=u[i[o]].domain;m&&(s=Math.max(m[1],s))}return[r.domain[0],s+h.yPad]}},21598:function(W,V,e){var y=e(39898),C=e(73972),a=e(74875),L=e(7901),x=e(91424),h=e(71828),d=h.strTranslate,t=e(63893),r=e(41675),u=e(18783),n=u.LINE_SPACING,i=u.FROM_TL,s=u.FROM_BR,o=e(89573),m=e(70565);W.exports=function(E){var A=E._fullLayout,f=A._infolayer.selectAll(".rangeselector").data(c(E),b);f.enter().append("g").classed("rangeselector",!0),f.exit().remove(),f.style({cursor:"pointer","pointer-events":"all"}),f.each(function(P){var w=y.select(this),z=P,F=z.rangeselector,H=w.selectAll("g.button").data(h.filterVisible(F.buttons));H.enter().append("g").classed("button",!0),H.exit().remove(),H.each(function(_){var B=y.select(this),N=m(z,_);_._isActive=v(z,_,N),B.call(l,F,_),B.call(S,F,_,E),B.on("click",function(){E._dragged||C.call("_guiRelayout",E,N)}),B.on("mouseover",function(){_._isHovered=!0,B.call(l,F,_)}),B.on("mouseout",function(){_._isHovered=!1,B.call(l,F,_)})}),R(E,H,F,z._name,w)})};function c(T){for(var E=r.list(T,"x",!0),A=[],f=0;f<E.length;f++){var P=E[f];P.rangeselector&&P.rangeselector.visible&&A.push(P)}return A}function b(T){return T._id}function v(T,E,A){if(E.step==="all")return T.autorange===!0;var f=Object.keys(A);return T.range[0]===A[f[0]]&&T.range[1]===A[f[1]]}function l(T,E,A){var f=h.ensureSingle(T,"rect","selector-rect",function(P){P.attr("shape-rendering","crispEdges")});f.attr({rx:o.rx,ry:o.ry}),f.call(L.stroke,E.bordercolor).call(L.fill,p(E,A)).style("stroke-width",E.borderwidth+"px")}function p(T,E){return E._isActive||E._isHovered?T.activecolor:T.bgcolor}function S(T,E,A,f){function P(z){t.convertToTspans(z,f)}var w=h.ensureSingle(T,"text","selector-text",function(z){z.attr("text-anchor","middle")});w.call(x.font,E.font).text(M(A,f._fullLayout._meta)).call(P)}function M(T,E){return T.label?E?h.templateString(T.label,E):T.label:T.step==="all"?"all":T.count+T.step.charAt(0)}function R(T,E,A,f,P){var w=0,z=0,F=A.borderwidth;E.each(function(){var U=y.select(this),K=U.select(".selector-text"),re=A.font.size*n,ae=Math.max(re*t.lineCount(K),16)+3;z=Math.max(z,ae)}),E.each(function(){var U=y.select(this),K=U.select(".selector-rect"),re=U.select(".selector-text"),ae=re.node()&&x.bBox(re.node()).width,ue=A.font.size*n,ve=t.lineCount(re),ee=Math.max(ae+10,o.minButtonWidth);U.attr("transform",d(F+w,F)),K.attr({x:0,y:0,width:ee,height:z}),t.positionText(re,ee/2,z/2-(ve-1)*ue/2+3),w+=ee+5});var H=T._fullLayout._size,_=H.l+H.w*A.x,B=H.t+H.h*(1-A.y),N="left";h.isRightAnchor(A)&&(_-=w,N="right"),h.isCenterAnchor(A)&&(_-=w/2,N="center");var O="top";h.isBottomAnchor(A)&&(B-=z,O="bottom"),h.isMiddleAnchor(A)&&(B-=z/2,O="middle"),w=Math.ceil(w),z=Math.ceil(z),_=Math.round(_),B=Math.round(B),a.autoMargin(T,f+"-range-selector",{x:A.x,y:A.y,l:w*i[N],r:w*s[N],b:z*s[O],t:z*i[O]}),P.attr("transform",d(_,B))}},70565:function(W,V,e){var y=e(81041),C=e(71828).titleCase;W.exports=function(x,h){var d=x._name,t={};if(h.step==="all")t[d+".autorange"]=!0;else{var r=a(x,h);t[d+".range[0]"]=r[0],t[d+".range[1]"]=r[1]}return t};function a(L,x){var h=L.range,d=new Date(L.r2l(h[1])),t=x.step,r=y["utc"+C(t)],u=x.count,n;switch(x.stepmode){case"backward":n=L.l2r(+r.offset(d,-u));break;case"todate":var i=r.offset(d,-u);n=L.l2r(+r.ceil(i));break}var s=h[1];return[n,s]}},97218:function(W,V,e){W.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(W,V,e){var y=e(22399);W.exports={bgcolor:{valType:"color",dflt:y.background,editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(W,V,e){var y=e(41675).list,C=e(71739).getAutoRange,a=e(73251);W.exports=function(x){for(var h=y(x,"x",!0),d=0;d<h.length;d++){var t=h[d],r=t[a.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=C(x,t))}}},73251:function(W){W.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(W,V,e){var y=e(71828),C=e(44467),a=e(41675),L=e(75148),x=e(47850);W.exports=function(d,t,r){var u=d[r],n=t[r];if(!(u.rangeslider||t._requestRangeslider[n._id]))return;y.isPlainObject(u.rangeslider)||(u.rangeslider={});var i=u.rangeslider,s=C.newContainer(n,"rangeslider");function o(f,P){return y.coerce(i,s,L,f,P)}var m,c;function b(f,P){return y.coerce(m,c,x,f,P)}var v=o("visible");if(v){o("bgcolor",t.plot_bgcolor),o("bordercolor"),o("borderwidth"),o("thickness"),o("autorange",!n.isValidRange(i.range)),o("range");var l=t._subplots;if(l)for(var p=l.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===a.name2id(r)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),S=y.simpleMap(p,a.id2name),M=0;M<S.length;M++){var R=S[M];m=i[R]||{},c=C.newContainer(s,R,"yaxis");var T=t[R],E;m.range&&T.isValidRange(m.range)&&(E="fixed");var A=b("rangemode",E);A!=="match"&&b("range",T.range.slice())}s._input=i}}},72413:function(W,V,e){var y=e(39898),C=e(73972),a=e(74875),L=e(71828),x=L.strTranslate,h=e(91424),d=e(7901),t=e(92998),r=e(93612),u=e(41675),n=e(28569),i=e(6964),s=e(73251);W.exports=function(T){for(var E=T._fullLayout,A=E._rangeSliderData,f=0;f<A.length;f++){var P=A[f][s.name];P._clipId=P._id+"-"+E._uid}function w(F){return F._name}var z=E._infolayer.selectAll("g."+s.containerClassName).data(A,w);z.exit().each(function(F){var H=F[s.name];E._topdefs.select("#"+H._clipId).remove()}).remove(),A.length!==0&&(z.enter().append("g").classed(s.containerClassName,!0).attr("pointer-events","all"),z.each(function(F){var H=y.select(this),_=F[s.name],B=E[u.id2name(F.anchor)],N=_[u.id2name(F.anchor)];if(_.range){var O=L.simpleMap(_.range,F.r2l),U=L.simpleMap(F.range,F.r2l),K;U[0]<U[1]?K=[Math.min(O[0],U[0]),Math.max(O[1],U[1])]:K=[Math.max(O[0],U[0]),Math.min(O[1],U[1])],_.range=_._input.range=L.simpleMap(K,F.l2r)}F.cleanRange("rangeslider.range");var re=E._size,ae=F.domain;_._width=re.w*(ae[1]-ae[0]);var ue=Math.round(re.l+re.w*ae[0]),ve=Math.round(re.t+re.h*(1-F._counterDomainMin)+(F.side==="bottom"?F._depth:0)+_._offsetShift+s.extraPad);H.attr("transform",x(ue,ve)),_._rl=L.simpleMap(_.range,F.r2l);var ee=_._rl[0],J=_._rl[1],Q=J-ee;if(_.p2d=function(we){return we/_._width*Q+ee},_.d2p=function(we){return(we-ee)/Q*_._width},F.rangebreaks){var X=F.locateBreaks(ee,J);if(X.length){var q,se,Y=0;for(q=0;q<X.length;q++)se=X[q],Y+=se.max-se.min;var Z=_._width/(J-ee-Y),ie=[-Z*ee];for(q=0;q<X.length;q++)se=X[q],ie.push(ie[ie.length-1]-Z*(se.max-se.min));for(_.d2p=function(we){for(var Ae=ie[0],Re=0;Re<X.length;Re++){var Fe=X[Re];if(we>=Fe.max)Ae=ie[Re+1];else if(we<Fe.min)break}return Ae+Z*we},q=0;q<X.length;q++)se=X[q],se.pmin=_.d2p(se.min),se.pmax=_.d2p(se.max);_.p2d=function(we){for(var Ae=ie[0],Re=0;Re<X.length;Re++){var Fe=X[Re];if(we>=Fe.pmax)Ae=ie[Re+1];else if(we<Fe.pmin)break}return(we-Ae)/Z}}}if(N.rangemode!=="match"){var te=B.r2l(N.range[0]),fe=B.r2l(N.range[1]),de=fe-te;_.d2pOppAxis=function(we){return(we-te)/de*_._height}}H.call(b,T,F,_).call(v,T,F,_).call(l,T,F,_).call(S,T,F,_,N).call(M,T,F,_).call(R,T,F,_),o(H,T,F,_),c(H,T,F,_,B,N),F.side==="bottom"&&t.draw(T,F._id+"title",{propContainer:F,propName:F._name+".title",placeholder:E._dfltTitle.x,attributes:{x:F._offset+F._length/2,y:ve+_._height+_._offsetShift+10+1.5*F.title.font.size,"text-anchor":"middle"}})}))};function o(T,E,A,f){if(E._context.staticPlot)return;var P=T.select("rect."+s.slideBoxClassName).node(),w=T.select("rect."+s.grabAreaMinClassName).node(),z=T.select("rect."+s.grabAreaMaxClassName).node();function F(){var H=y.event,_=H.target,B=H.clientX||H.touches[0].clientX,N=B-T.node().getBoundingClientRect().left,O=f.d2p(A._rl[0]),U=f.d2p(A._rl[1]),K=n.coverSlip();this.addEventListener("touchmove",re),this.addEventListener("touchend",ae),K.addEventListener("mousemove",re),K.addEventListener("mouseup",ae);function re(ue){var ve=ue.clientX||ue.touches[0].clientX,ee=+ve-B,J,Q,X;switch(_){case P:if(X="ew-resize",O+ee>A._length||U+ee<0)return;J=O+ee,Q=U+ee;break;case w:if(X="col-resize",O+ee>A._length)return;J=O+ee,Q=U;break;case z:if(X="col-resize",U+ee<0)return;J=O,Q=U+ee;break;default:X="ew-resize",J=N,Q=N+ee;break}if(Q<J){var q=Q;Q=J,J=q}f._pixelMin=J,f._pixelMax=Q,i(y.select(K),X),m(T,E,A,f)}function ae(){K.removeEventListener("mousemove",re),K.removeEventListener("mouseup",ae),this.removeEventListener("touchmove",re),this.removeEventListener("touchend",ae),L.removeElement(K)}}T.on("mousedown",F),T.on("touchstart",F)}function m(T,E,A,f){function P(F){return A.l2r(L.constrain(F,f._rl[0],f._rl[1]))}var w=P(f.p2d(f._pixelMin)),z=P(f.p2d(f._pixelMax));window.requestAnimationFrame(function(){C.call("_guiRelayout",E,A._name+".range",[w,z])})}function c(T,E,A,f,P,w){var z=s.handleWidth/2;function F(ue){return L.constrain(ue,0,f._width)}function H(ue){return L.constrain(ue,0,f._height)}function _(ue){return L.constrain(ue,-z,f._width+z)}var B=F(f.d2p(A._rl[0])),N=F(f.d2p(A._rl[1]));if(T.select("rect."+s.slideBoxClassName).attr("x",B).attr("width",N-B),T.select("rect."+s.maskMinClassName).attr("width",B),T.select("rect."+s.maskMaxClassName).attr("x",N).attr("width",f._width-N),w.rangemode!=="match"){var O=f._height-H(f.d2pOppAxis(P._rl[1])),U=f._height-H(f.d2pOppAxis(P._rl[0]));T.select("rect."+s.maskMinOppAxisClassName).attr("x",B).attr("height",O).attr("width",N-B),T.select("rect."+s.maskMaxOppAxisClassName).attr("x",B).attr("y",U).attr("height",f._height-U).attr("width",N-B),T.select("rect."+s.slideBoxClassName).attr("y",O).attr("height",U-O)}var K=.5,re=Math.round(_(B-z))-K,ae=Math.round(_(N-z))+K;T.select("g."+s.grabberMinClassName).attr("transform",x(re,K)),T.select("g."+s.grabberMaxClassName).attr("transform",x(ae,K))}function b(T,E,A,f){var P=L.ensureSingle(T,"rect",s.bgClassName,function(H){H.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),w=f.borderwidth%2===0?f.borderwidth:f.borderwidth-1,z=-f._offsetShift,F=h.crispRound(E,f.borderwidth);P.attr({width:f._width+w,height:f._height+w,transform:x(z,z),"stroke-width":F}).call(d.stroke,f.bordercolor).call(d.fill,f.bgcolor)}function v(T,E,A,f){var P=E._fullLayout,w=L.ensureSingleById(P._topdefs,"clipPath",f._clipId,function(z){z.append("rect").attr({x:0,y:0})});w.select("rect").attr({width:f._width,height:f._height})}function l(T,E,A,f){var P=E.calcdata,w=T.selectAll("g."+s.rangePlotClassName).data(A._subplotsWith,L.identity);w.enter().append("g").attr("class",function(F){return s.rangePlotClassName+" "+F}).call(h.setClipUrl,f._clipId,E),w.order(),w.exit().remove();var z;w.each(function(F,H){var _=y.select(this),B=H===0,N=u.getFromId(E,F,"y"),O=N._name,U=f[O],K={data:[],layout:{xaxis:{type:A.type,domain:[0,1],range:f.range.slice(),calendar:A.calendar},width:f._width,height:f._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};A.rangebreaks&&(K.layout.xaxis.rangebreaks=A.rangebreaks),K.layout[O]={type:N.type,domain:[0,1],range:U.rangemode!=="match"?U.range.slice():N.range.slice(),calendar:N.calendar},N.rangebreaks&&(K.layout[O].rangebreaks=N.rangebreaks),a.supplyDefaults(K);var re=K._fullLayout.xaxis,ae=K._fullLayout[O];re.clearCalc(),re.setScale(),ae.clearCalc(),ae.setScale();var ue={id:F,plotgroup:_,xaxis:re,yaxis:ae,isRangePlot:!0};B?z=ue:(ue.mainplot="xy",ue.mainplotinfo=z),r.rangePlot(E,ue,p(P,F))})}function p(T,E){for(var A=[],f=0;f<T.length;f++){var P=T[f],w=P[0].trace;w.xaxis+w.yaxis===E&&A.push(P)}return A}function S(T,E,A,f,P){var w=L.ensureSingle(T,"rect",s.maskMinClassName,function(_){_.attr({x:0,y:0,"shape-rendering":"crispEdges"})});w.attr("height",f._height).call(d.fill,s.maskColor);var z=L.ensureSingle(T,"rect",s.maskMaxClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});if(z.attr("height",f._height).call(d.fill,s.maskColor),P.rangemode!=="match"){var F=L.ensureSingle(T,"rect",s.maskMinOppAxisClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",f._width).call(d.fill,s.maskOppAxisColor);var H=L.ensureSingle(T,"rect",s.maskMaxOppAxisClassName,function(_){_.attr({y:0,"shape-rendering":"crispEdges"})});H.attr("width",f._width).style("border-top",s.maskOppBorder).call(d.fill,s.maskOppAxisColor)}}function M(T,E,A,f){if(!E._context.staticPlot){var P=L.ensureSingle(T,"rect",s.slideBoxClassName,function(w){w.attr({y:0,cursor:s.slideBoxCursor,"shape-rendering":"crispEdges"})});P.attr({height:f._height,fill:s.slideBoxFill})}}function R(T,E,A,f){var P=L.ensureSingle(T,"g",s.grabberMinClassName),w=L.ensureSingle(T,"g",s.grabberMaxClassName),z={x:0,width:s.handleWidth,rx:s.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":s.handleStrokeWidth,"shape-rendering":"crispEdges"},F={y:Math.round(f._height/4),height:Math.round(f._height/2)},H=L.ensureSingle(P,"rect",s.handleMinClassName,function(U){U.attr(z)});H.attr(F);var _=L.ensureSingle(w,"rect",s.handleMaxClassName,function(U){U.attr(z)});_.attr(F);var B={width:s.grabAreaWidth,x:0,y:0,fill:s.grabAreaFill,cursor:E._context.staticPlot?void 0:s.grabAreaCursor},N=L.ensureSingle(P,"rect",s.grabAreaMinClassName,function(U){U.attr(B)});N.attr("height",f._height);var O=L.ensureSingle(w,"rect",s.grabAreaMaxClassName,function(U){U.attr(B)});O.attr("height",f._height)}},549:function(W,V,e){var y=e(41675),C=e(63893),a=e(73251),L=e(18783).LINE_SPACING,x=a.name;function h(d){var t=d&&d[x];return t&&t.visible}V.isVisible=h,V.makeData=function(d){var t=y.list({_fullLayout:d},"x",!0),r=d.margin,u=[];if(!d._has("gl2d"))for(var n=0;n<t.length;n++){var i=t[n];if(h(i)){u.push(i);var s=i[x];s._id=x+i._id,s._height=(d.height-r.b-r.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}d._rangeSliderData=u},V.autoMarginOpts=function(d,t){var r=d._fullLayout,u=t[x],n=t._id.charAt(0),i=0,s=0;if(t.side==="bottom"&&(i=t._depth,t.title.text!==r._dfltTitle[n])){s=1.5*t.title.font.size+10+u._offsetShift;var o=(t.title.text.match(C.BR_TAG_ALL)||[]).length;s+=o*t.title.font.size*L}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:u._height+i+Math.max(r.margin.b,s),pad:a.extraPad+u._offsetShift*2}}},13137:function(W,V,e){var y=e(71828),C=e(75148),a=e(47850),L=e(549);W.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:y.extendFlat({},C,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},47850:function(W){W.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(W,V,e){var y=e(50215),C=e(82196).line,a=e(79952).P,L=e(1426).extendFlat,x=e(30962).overrideAll,h=e(44467).templatedArray;e(24695),W.exports=x(h("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},y.xref,{}),yref:L({},y.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:C.color,width:L({},C.width,{min:1,dflt:1}),dash:L({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(W){W.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(W,V,e){var y=e(71828),C=e(89298),a=e(85501),L=e(8389),x=e(30477);W.exports=function(t,r){a(t,r,{name:"selections",handleItemDefaults:h});for(var u=r.selections,n=0;n<u.length;n++){var i=u[n];i&&i.path===void 0&&(i.x0===void 0||i.x1===void 0||i.y0===void 0||i.y1===void 0)&&(r.selections[n]=null)}};function h(d,t,r){function u(w,z){return y.coerce(d,t,L,w,z)}var n=u("path"),i=n?"path":"rect",s=u("type",i),o=s!=="path";o&&delete t.path,u("opacity"),u("line.color"),u("line.width"),u("line.dash");for(var m=["x","y"],c=0;c<2;c++){var b=m[c],v={_fullLayout:r},l,p,S,M=C.coerceRef(d,t,v,b);if(l=C.getFromId(v,M),l._selectionIndices.push(t._index),S=x.rangeToShapePosition(l),p=x.shapePositionToRange(l),o){var R=b+"0",T=b+"1",E=d[R],A=d[T];d[R]=p(d[R],!0),d[T]=p(d[T],!0),C.coercePosition(t,v,u,M,R),C.coercePosition(t,v,u,M,T);var f=t[R],P=t[T];f!==void 0&&P!==void 0&&(t[R]=S(f),t[T]=S(P),d[R]=E,d[T]=A)}}o&&y.noneOrAll(d,t,["x0","x1","y0","y1"])}},32485:function(W,V,e){var y=e(60165).readPaths,C=e(42359),a=e(51873).clearOutlineControllers,L=e(7901),x=e(91424),h=e(44467).arrayEditor,d=e(30477),t=d.getPathString;W.exports={draw:r,drawOne:n,activateLastSelection:o};function r(c){var b=c._fullLayout;a(c),b._selectionLayer.selectAll("path").remove();for(var v in b._plots){var l=b._plots[v].selectionLayer;l&&l.selectAll("path").remove()}for(var p=0;p<b.selections.length;p++)n(c,p)}function u(c){return c._context.editSelection}function n(c,b){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+b+'"]').remove();var v=d.makeSelectionsOptionsAndPlotinfo(c,b),l=v.options,p=v.plotinfo;if(!l._input)return;S(c._fullLayout._selectionLayer);function S(M){var R=t(c,l),T={"data-index":b,"fill-rule":"evenodd",d:R},E=l.opacity,A="rgba(0,0,0,0)",f=l.line.color||L.contrast(c._fullLayout.plot_bgcolor),P=l.line.width,w=l.line.dash;P||(P=5,w="solid");var z=u(c)&&c._fullLayout._activeSelectionIndex===b;z&&(A=c._fullLayout.activeselection.fillcolor,E=c._fullLayout.activeselection.opacity);for(var F=[],H=1;H>=0;H--){var _=M.append("path").attr(T).style("opacity",H?.1:E).call(L.stroke,f).call(L.fill,A).call(x.dashLine,H?"solid":w,H?4+P:P);if(i(_,c,l),z){var B=h(c.layout,"selections",l);_.style({cursor:"move"});var N={element:_.node(),plotinfo:p,gd:c,editHelpers:B,isActiveSelection:!0},O=y(R,c);C(O,_,N)}else _.style("pointer-events",H?"all":"none");F[H]=_}var U=F[0],K=F[1];K.node().addEventListener("click",function(){return s(c,U)})}}function i(c,b,v){var l=v.xref+v.yref;x.setClipUrl(c,"clip"+b._fullLayout._uid+l,b)}function s(c,b){if(u(c)){var v=b.node(),l=+v.getAttribute("data-index");if(l>=0){if(l===c._fullLayout._activeSelectionIndex){m(c);return}c._fullLayout._activeSelectionIndex=l,c._fullLayout._deactivateSelection=m,r(c)}}}function o(c){if(u(c)){var b=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=b,c._fullLayout._deactivateSelection=m,r(c)}}function m(c){if(u(c)){var b=c._fullLayout._activeSelectionIndex;b>=0&&(a(c),delete c._fullLayout._activeSelectionIndex,r(c))}}},53777:function(W,V,e){var y=e(79952).P,C=e(1426).extendFlat;W.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:C({},y,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(W){W.exports=function(e,y,C){C("newselection.mode");var a=C("newselection.line.width");a&&(C("newselection.line.color"),C("newselection.line.dash")),C("activeselection.fillcolor"),C("activeselection.opacity")}},35855:function(W,V,e){var y=e(64505),C=y.selectMode,a=e(51873),L=a.clearOutline,x=e(60165),h=x.readPaths,d=x.writePaths,t=x.fixDatesForPaths;W.exports=function(u,n){if(u.length){var i=u[0][0];if(i){var s=i.getAttribute("d"),o=n.gd,m=o._fullLayout.newselection,c=n.plotinfo,b=c.xaxis,v=c.yaxis,l=n.isActiveSelection,p=n.dragmode,S=(o.layout||{}).selections||[];if(!C(p)&&l!==void 0){var M=o._fullLayout._activeSelectionIndex;if(M<S.length)switch(o._fullLayout.selections[M].type){case"rect":p="select";break;case"path":p="lasso";break}}var R=h(s,o,c,l),T={xref:b._id,yref:v._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},E;R.length===1&&(E=R[0]),E&&E.length===5&&p==="select"?(T.type="rect",T.x0=E[0][1],T.y0=E[0][2],T.x1=E[2][1],T.y1=E[2][2]):(T.type="path",b&&v&&t(R,b,v),T.path=d(R),E=null),L(o);for(var A=n.editHelpers,f=(A||{}).modifyItem,P=[],w=0;w<S.length;w++){var z=o._fullLayout.selections[w];if(!z){P[w]=z;continue}if(P[w]=z._input,l!==void 0&&w===o._fullLayout._activeSelectionIndex){var F=T;switch(z.type){case"rect":f("x0",F.x0),f("x1",F.x1),f("y0",F.y0),f("y1",F.y1);break;case"path":f("path",F.path);break}}}return l===void 0?(P.push(T),P):A?A.getUpdateObj():{}}}}},75549:function(W,V,e){var y=e(71828).strTranslate;function C(h,d){switch(h.type){case"log":return h.p2d(d);case"date":return h.p2r(d,0,h.calendar);default:return h.p2r(d)}}function a(h,d){switch(h.type){case"log":return h.d2p(d);case"date":return h.r2p(d,0,h.calendar);default:return h.r2p(d)}}function L(h){var d=h._id.charAt(0)==="y"?1:0;return function(t){return C(h,t[d])}}function x(h){return y(h.xaxis._offset,h.yaxis._offset)}W.exports={p2r:C,r2p:a,axValue:L,getTransform:x}},47322:function(W,V,e){var y=e(32485),C=e(3937);W.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:y.draw,drawOne:y.drawOne,reselect:C.reselect,prepSelect:C.prepSelect,clearOutline:C.clearOutline,clearSelectionsCache:C.clearSelectionsCache,selectOnClick:C.selectOnClick}},3937:function(W,V,e){var y=e(52142),C=e(38258),a=e(73972),L=e(91424).dashStyle,x=e(7901),h=e(30211),d=e(23469).makeEventData,t=e(64505),r=t.freeMode,u=t.rectMode,n=t.drawMode,i=t.openMode,s=t.selectMode,o=e(30477),m=e(21459),c=e(42359),b=e(51873).clearOutline,v=e(60165),l=v.handleEllipse,p=v.readPaths,S=e(90551).newShapes,M=e(35855),R=e(32485).activateLastSelection,T=e(71828),E=T.sorterAsc,A=e(61082),f=e(79990),P=e(41675).getFromId,w=e(33306),z=e(61549).redrawReglTraces,F=e(34122),H=F.MINSELECT,_=A.filter,B=A.tester,N=e(75549),O=N.p2r,U=N.axValue,K=N.getTransform;function re(Ue){return Ue.subplot!==void 0}function ae(Ue,ke,Me,ce,be){var De=!re(ce),Ve=r(be),it=u(be),ot=i(be),Tt=n(be),It=s(be),Ht=be==="drawline",Gt=be==="drawcircle",Pt=Ht||Gt,Jt=ce.gd,or=Jt._fullLayout,zr=It&&or.newselection.mode==="immediate"&&De,mt=or._zoomlayer,Kt=ce.element.getBoundingClientRect(),jt=ce.plotinfo,wr=K(jt),vr=ke-Kt.left,ct=Me-Kt.top;or._calcInverseTransform(Jt);var ut=T.apply3DTransform(or._invTransform)(vr,ct);vr=ut[0],ct=ut[1];var bt=or._invScaleX,At=or._invScaleY,Ct=vr,St=ct,zt="M"+vr+","+ct,Vt=ce.xaxes[0],qt=ce.yaxes[0],$t=Vt._length,sr=qt._length,Cr=Ue.altKey&&!(n(be)&&ot),Ze,je,kt,_t,Zt,ar,ur;X(Ue,Jt,ce),Ve&&(Ze=_([[vr,ct]],F.BENDPX));var nr=mt.selectAll("path.select-outline-"+jt.id).data([1]),Ot=Tt?or.newshape:or.newselection;Tt&&(ce.hasText=Ot.label.text||Ot.label.texttemplate);var cr=Tt&&!ot?Ot.fillcolor:"rgba(0,0,0,0)",pr=Ot.line.color||(De?x.contrast(Jt._fullLayout.plot_bgcolor):"#7f7f7f");nr.enter().append("path").attr("class","select-outline select-outline-"+jt.id).style({opacity:Tt?Ot.opacity/2:1,"stroke-dasharray":L(Ot.line.dash,Ot.line.width),"stroke-width":Ot.line.width+"px","shape-rendering":"crispEdges"}).call(x.stroke,pr).call(x.fill,cr).attr("fill-rule","evenodd").classed("cursor-move",!!Tt).attr("transform",wr).attr("d",zt+"Z");var gr=mt.append("path").attr("class","zoombox-corners").style({fill:x.background,stroke:x.defaultLine,"stroke-width":1}).attr("transform",wr).attr("d","M0,0Z");if(Tt&&ce.hasText){var dr=mt.select(".label-temp");dr.empty()&&(dr=mt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=or._uid+F.SELECTID,kr=[],Fr=ie(Jt,ce.xaxes,ce.yaxes,ce.subplot);zr&&!Ue.shiftKey&&(ce._clearSubplotSelections=function(){if(De){var Kr=Vt._id,kn=qt._id;Ke(Jt,Kr,kn,Fr);for(var In=(Jt.layout||{}).selections||[],br=[],Mr=!1,Br=0;Br<In.length;Br++){var Nr=or.selections[Br];Nr.xref!==Kr||Nr.yref!==kn?br.push(In[Br]):Mr=!0}Mr&&(Jt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Jt,{selections:br}))}});var gn=Wt(ce);ce.moveFn=function(Kr,kn){ce._clearSubplotSelections&&(ce._clearSubplotSelections(),ce._clearSubplotSelections=void 0),Ct=Math.max(0,Math.min($t,bt*Kr+vr)),St=Math.max(0,Math.min(sr,At*kn+ct));var In=Math.abs(Ct-vr),br=Math.abs(St-ct);if(it){var Mr,Br,Nr;if(It){var en=or.selectdirection;switch(en==="any"?br<Math.min(In*.6,H)?Mr="h":In<Math.min(br*.6,H)?Mr="v":Mr="d":Mr=en,Mr){case"h":Br=Gt?sr/2:0,Nr=sr;break;case"v":Br=Gt?$t/2:0,Nr=$t;break}}if(Tt)switch(or.newshape.drawdirection){case"vertical":Mr="h",Br=Gt?sr/2:0,Nr=sr;break;case"horizontal":Mr="v",Br=Gt?$t/2:0,Nr=$t;break;case"ortho":In<br?(Mr="h",Br=ct,Nr=St):(Mr="v",Br=vr,Nr=Ct);break;default:Mr="d"}Mr==="h"?(_t=Pt?l(Gt,[Ct,Br],[Ct,Nr]):[[vr,Br],[vr,Nr],[Ct,Nr],[Ct,Br]],_t.xmin=Pt?Ct:Math.min(vr,Ct),_t.xmax=Pt?Ct:Math.max(vr,Ct),_t.ymin=Math.min(Br,Nr),_t.ymax=Math.max(Br,Nr),gr.attr("d","M"+_t.xmin+","+(ct-H)+"h-4v"+2*H+"h4ZM"+(_t.xmax-1)+","+(ct-H)+"h4v"+2*H+"h-4Z")):Mr==="v"?(_t=Pt?l(Gt,[Br,St],[Nr,St]):[[Br,ct],[Br,St],[Nr,St],[Nr,ct]],_t.xmin=Math.min(Br,Nr),_t.xmax=Math.max(Br,Nr),_t.ymin=Pt?St:Math.min(ct,St),_t.ymax=Pt?St:Math.max(ct,St),gr.attr("d","M"+(vr-H)+","+_t.ymin+"v-4h"+2*H+"v4ZM"+(vr-H)+","+(_t.ymax-1)+"v4h"+2*H+"v-4Z")):Mr==="d"&&(_t=Pt?l(Gt,[vr,ct],[Ct,St]):[[vr,ct],[vr,St],[Ct,St],[Ct,ct]],_t.xmin=Math.min(vr,Ct),_t.xmax=Math.max(vr,Ct),_t.ymin=Math.min(ct,St),_t.ymax=Math.max(ct,St),gr.attr("d","M0,0Z"))}else Ve&&(Ze.addPt([Ct,St]),_t=Ze.filtered);if(ce.selectionDefs&&ce.selectionDefs.length?(kt=Te(ce.mergedPolygons,_t,Cr),_t.subtract=Cr,je=Q(ce.selectionDefs.concat([_t]))):(kt=[_t],je=B(_t)),c(Ne(kt,ot),nr,ce),It){var dn=_e(Jt,!1),cn=dn.eventData?dn.eventData.points.slice():[];dn=_e(Jt,!1,je,Fr,ce),je=dn.selectionTesters,ur=dn.eventData;var An;Ze?An=Ze.filtered:An=gt(kt),f.throttle(Gr,F.SELECTDELAY,function(){kr=He(je,Fr);for(var Rn=kr.slice(),Jn=0;Jn<cn.length;Jn++){for(var ta=cn[Jn],fa=!1,na=0;na<Rn.length;na++)if(Rn[na].curveNumber===ta.curveNumber&&Rn[na].pointNumber===ta.pointNumber){fa=!0;break}fa||Rn.push(ta)}Rn.length&&(ur||(ur={}),ur.points=Rn),gn(ur,An),Je(Jt,ur)})}},ce.clickFn=function(Kr,kn){if(gr.remove(),Jt._fullLayout._activeShapeIndex>=0){Jt._fullLayout._deactivateShape(Jt);return}if(!Tt){var In=or.clickmode;f.done(Gr).then(function(){if(f.clear(Gr),Kr===2){for(nr.remove(),Zt=0;Zt<Fr.length;Zt++)ar=Fr[Zt],ar._module.selectPoints(ar,!1);if(Fe(Jt,Fr),Y(ce),Oe(Jt),Fr.length){var br=Fr[0].xaxis,Mr=Fr[0].yaxis;if(br&&Mr){for(var Br=[],Nr=Jt._fullLayout.selections,en=0;en<Nr.length;en++){var dn=Nr[en];dn&&(dn.xref!==br._id||dn.yref!==Mr._id)&&Br.push(dn)}Br.length<Nr.length&&(Jt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Jt,{selections:Br}))}}}else In.indexOf("select")>-1&&ue(kn,Jt,ce.xaxes,ce.yaxes,ce.subplot,ce,nr),In==="event"&&ze(Jt,void 0);h.click(Jt,kn)}).catch(T.error)}},ce.doneFn=function(){gr.remove(),f.done(Gr).then(function(){f.clear(Gr),!zr&&_t&&ce.selectionDefs&&(_t.subtract=Cr,ce.selectionDefs.push(_t),ce.mergedPolygons.length=0,[].push.apply(ce.mergedPolygons,kt)),(zr||Tt)&&Y(ce,zr),ce.doneFnCompleted&&ce.doneFnCompleted(kr),It&&ze(Jt,ur)}).catch(T.error)}}function ue(Ue,ke,Me,ce,be,De,Ve){var it=ke._hoverdata,ot=ke._fullLayout,Tt=ot.clickmode,It=Tt.indexOf("event")>-1,Ht=[],Gt,Pt,Jt,or,zr,mt,Kt,jt,wr,vr;if(fe(it)){X(Ue,ke,De),Gt=ie(ke,Me,ce,be);var ct=de(it,Gt),ut=ct.pointNumbers.length>0;if(ut?Ae(Gt,ct):Re(Gt)&&(Kt=we(ct))){for(Ve&&Ve.remove(),vr=0;vr<Gt.length;vr++)Pt=Gt[vr],Pt._module.selectPoints(Pt,!1);Fe(ke,Gt),Y(De),It&&Oe(ke)}else{jt=Ue.shiftKey&&(Kt!==void 0?Kt:we(ct)),Jt=ve(ct.pointNumber,ct.searchInfo,jt);var bt=De.selectionDefs.concat([Jt]);for(or=Q(bt),vr=0;vr<Gt.length;vr++)if(zr=Gt[vr]._module.selectPoints(Gt[vr],or),mt=Ee(zr,Gt[vr]),Ht.length)for(var At=0;At<mt.length;At++)Ht.push(mt[At]);else Ht=mt;if(wr={points:Ht},Fe(ke,Gt,wr),Jt&&De&&De.selectionDefs.push(Jt),Ve){var Ct=De.mergedPolygons,St=i(De.dragmode);c(Ne(Ct,St),Ve,De)}It&&ze(ke,wr)}}}function ve(Ue,ke,Me){return{pointNumber:Ue,searchInfo:ke,subtract:!!Me}}function ee(Ue){return"pointNumber"in Ue&&"searchInfo"in Ue}function J(Ue){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ke,Me,ce,be){var De=Ue.searchInfo.cd[0].trace._expandedIndex,Ve=be.cd[0].trace._expandedIndex;return Ve===De&&ce===Ue.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ue.subtract}}function Q(Ue){if(!Ue.length)return;for(var ke=[],Me=ee(Ue[0])?0:Ue[0][0][0],ce=Me,be=ee(Ue[0])?0:Ue[0][0][1],De=be,Ve=0;Ve<Ue.length;Ve++)if(ee(Ue[Ve]))ke.push(J(Ue[Ve]));else{var it=B(Ue[Ve]);it.subtract=!!Ue[Ve].subtract,ke.push(it),Me=Math.min(Me,it.xmin),ce=Math.max(ce,it.xmax),be=Math.min(be,it.ymin),De=Math.max(De,it.ymax)}function ot(Tt,It,Ht,Gt){for(var Pt=!1,Jt=0;Jt<ke.length;Jt++)ke[Jt].contains(Tt,It,Ht,Gt)&&(Pt=!ke[Jt].subtract);return Pt}return{xmin:Me,xmax:ce,ymin:be,ymax:De,pts:[],contains:ot,isRect:!1,degenerate:!1}}function X(Ue,ke,Me){var ce=ke._fullLayout,be=Me.plotinfo,De=Me.dragmode,Ve=ce._lastSelectedSubplot&&ce._lastSelectedSubplot===be.id,it=(Ue.shiftKey||Ue.altKey)&&!(n(De)&&i(De));Ve&&it&&be.selection&&be.selection.selectionDefs&&!Me.selectionDefs?(Me.selectionDefs=be.selection.selectionDefs,Me.mergedPolygons=be.selection.mergedPolygons):(!it||!be.selection)&&Y(Me),Ve||(b(ke),ce._lastSelectedSubplot=be.id)}function q(Ue){return Ue._fullLayout._activeShapeIndex>=0}function se(Ue){return Ue._fullLayout._activeSelectionIndex>=0}function Y(Ue,ke){var Me=Ue.dragmode,ce=Ue.plotinfo,be=Ue.gd;q(be)&&be._fullLayout._deactivateShape(be),se(be)&&be._fullLayout._deactivateSelection(be);var De=be._fullLayout,Ve=De._zoomlayer,it=n(Me),ot=s(Me);if(it||ot){var Tt=Ve.selectAll(".select-outline-"+ce.id);if(Tt&&be._fullLayout._outlining){var It;it&&(It=S(Tt,Ue)),It&&a.call("_guiRelayout",be,{shapes:It});var Ht;ot&&!re(Ue)&&(Ht=M(Tt,Ue)),Ht&&(be._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",be,{selections:Ht}).then(function(){ke&&R(be)})),be._fullLayout._outlining=!1}}ce.selection={},ce.selection.selectionDefs=Ue.selectionDefs=[],ce.selection.mergedPolygons=Ue.mergedPolygons=[]}function Z(Ue){return Ue._id}function ie(Ue,ke,Me,ce){if(!Ue.calcdata)return[];var be=[],De=ke.map(Z),Ve=Me.map(Z),it,ot,Tt;for(Tt=0;Tt<Ue.calcdata.length;Tt++)if(it=Ue.calcdata[Tt],ot=it[0].trace,!(ot.visible!==!0||!ot._module||!ot._module.selectPoints))if(re({subplot:ce})&&(ot.subplot===ce||ot.geo===ce))be.push(te(ot._module,it,ke[0],Me[0]));else if(ot.type==="splom"){if(ot._xaxes[De[0]]&&ot._yaxes[Ve[0]]){var It=te(ot._module,it,ke[0],Me[0]);It.scene=Ue._fullLayout._splomScenes[ot.uid],be.push(It)}}else if(ot.type==="sankey"){var Ht=te(ot._module,it,ke[0],Me[0]);be.push(Ht)}else{if(De.indexOf(ot.xaxis)===-1||Ve.indexOf(ot.yaxis)===-1)continue;be.push(te(ot._module,it,P(Ue,ot.xaxis),P(Ue,ot.yaxis)))}return be}function te(Ue,ke,Me,ce){return{_module:Ue,cd:ke,xaxis:Me,yaxis:ce}}function fe(Ue){return Ue&&Array.isArray(Ue)&&Ue[0].hoverOnBox!==!0}function de(Ue,ke){var Me=Ue[0],ce=-1,be=[],De,Ve;for(Ve=0;Ve<ke.length;Ve++)if(De=ke[Ve],Me.fullData._expandedIndex===De.cd[0].trace._expandedIndex){if(Me.hoverOnBox===!0)break;Me.pointNumber!==void 0?ce=Me.pointNumber:Me.binNumber!==void 0&&(ce=Me.binNumber,be=Me.pointNumbers);break}return{pointNumber:ce,pointNumbers:be,searchInfo:De}}function we(Ue){var ke=Ue.searchInfo.cd[0].trace,Me=Ue.pointNumber,ce=Ue.pointNumbers,be=ce.length>0,De=be?ce[0]:Me;return ke.selectedpoints?ke.selectedpoints.indexOf(De)>-1:!1}function Ae(Ue,ke){var Me=[],ce,be,De,Ve;for(Ve=0;Ve<Ue.length;Ve++)ce=Ue[Ve],ce.cd[0].trace.selectedpoints&&ce.cd[0].trace.selectedpoints.length>0&&Me.push(ce);if(Me.length===1&&(De=Me[0]===ke.searchInfo,De&&(be=ke.searchInfo.cd[0].trace,be.selectedpoints.length===ke.pointNumbers.length))){for(Ve=0;Ve<ke.pointNumbers.length;Ve++)if(be.selectedpoints.indexOf(ke.pointNumbers[Ve])<0)return!1;return!0}return!1}function Re(Ue){var ke=0,Me,ce,be;for(be=0;be<Ue.length;be++)if(Me=Ue[be],ce=Me.cd[0].trace,ce.selectedpoints&&(ce.selectedpoints.length>1||(ke+=ce.selectedpoints.length,ke>1)))return!1;return ke===1}function Fe(Ue,ke,Me){var ce;for(ce=0;ce<ke.length;ce++){var be=ke[ce].cd[0].trace._fullInput,De=Ue._fullLayout._tracePreGUI[be.uid]||{};De.selectedpoints===void 0&&(De.selectedpoints=be._input.selectedpoints||null)}var Ve;if(Me){var it=Me.points||[];for(ce=0;ce<ke.length;ce++)Ve=ke[ce].cd[0].trace,Ve._input.selectedpoints=Ve._fullInput.selectedpoints=[],Ve._fullInput!==Ve&&(Ve.selectedpoints=[]);for(var ot=0;ot<it.length;ot++){var Tt=it[ot],It=Tt.data,Ht=Tt.fullData,Gt=Tt.pointIndex,Pt=Tt.pointIndices;Pt?([].push.apply(It.selectedpoints,Pt),Ve._fullInput!==Ve&&[].push.apply(Ht.selectedpoints,Pt)):(It.selectedpoints.push(Gt),Ve._fullInput!==Ve&&Ht.selectedpoints.push(Gt))}}else for(ce=0;ce<ke.length;ce++)Ve=ke[ce].cd[0].trace,delete Ve.selectedpoints,delete Ve._input.selectedpoints,Ve._fullInput!==Ve&&delete Ve._fullInput.selectedpoints;Se(Ue,ke)}function Se(Ue,ke){for(var Me=!1,ce=0;ce<ke.length;ce++){var be=ke[ce],De=be.cd;a.traceIs(De[0].trace,"regl")&&(Me=!0);var Ve=be._module,it=Ve.styleOnSelect||Ve.style;it&&(it(Ue,De,De[0].node3),De[0].nodeRangePlot3&&it(Ue,De,De[0].nodeRangePlot3))}Me&&(w(Ue),z(Ue))}function Te(Ue,ke,Me){for(var ce=Me?y.difference:y.union,be=ce({regions:Ue},{regions:[ke]}),De=be.regions.reverse(),Ve=0;Ve<De.length;Ve++){var it=De[Ve];it.subtract=ft(it,De.slice(0,Ve))}return De}function Ee(Ue,ke){if(Array.isArray(Ue))for(var Me=ke.cd,ce=ke.cd[0].trace,be=0;be<Ue.length;be++)Ue[be]=d(Ue[be],ce,Me);return Ue}function Ne(Ue,ke){for(var Me=[],ce=0;ce<Ue.length;ce++){Me[ce]=[];for(var be=0;be<Ue[ce].length;be++){Me[ce][be]=[],Me[ce][be][0]=be?"L":"M";for(var De=0;De<Ue[ce][be].length;De++)Me[ce][be].push(Ue[ce][be][De])}ke||Me[ce].push(["Z",Me[ce][0][1],Me[ce][0][2]])}return Me}function He(Ue,ke){for(var Me=[],ce,be,De=0;De<ke.length;De++){var Ve=ke[De];be=Ve._module.selectPoints(Ve,Ue),ce=Ee(be,Ve),Me=Me.concat(ce)}return Me}function _e(Ue,ke,Me,ce,be){var De=!!ce,Ve,it,ot;be&&(Ve=be.plotinfo,it=be.xaxes[0]._id,ot=be.yaxes[0]._id);var Tt=[],It=[],Ht=rt(Ue),Gt=Ue._fullLayout;if(Ve){var Pt=Gt._zoomlayer,Jt=Gt.dragmode,or=n(Jt),zr=s(Jt);if(or||zr){var mt=P(Ue,it,"x"),Kt=P(Ue,ot,"y");if(mt&&Kt){var jt=Pt.selectAll(".select-outline-"+Ve.id);if(jt&&Ue._fullLayout._outlining&&jt.length){for(var wr=jt[0][0],vr=wr.getAttribute("d"),ct=p(vr,Ue,Ve),ut=[],bt=0;bt<ct.length;bt++){for(var At=ct[bt],Ct=[],St=0;St<At.length;St++)Ct.push([pt(mt,At[St][1]),pt(Kt,At[St][2])]);Ct.xref=it,Ct.yref=ot,Ct.subtract=ft(Ct,ut),ut.push(Ct)}Ht=Ht.concat(ut)}}}}var zt=it&&ot?[it+ot]:Gt._subplots.cartesian;We(Ue);for(var Vt={},qt=0;qt<zt.length;qt++){var $t=zt[qt],sr=$t.indexOf("y"),Cr=$t.slice(0,sr),Ze=$t.slice(sr),je=it&&ot?Me:void 0;if(je=qe(Ht,Cr,Ze,je),je){var kt=ce;if(!De){var _t=P(Ue,Cr,"x"),Zt=P(Ue,Ze,"y");kt=ie(Ue,[_t],[Zt],$t);for(var ar=0;ar<kt.length;ar++){var ur=kt[ar],nr=ur.cd[0],Ot=nr.trace;if(ur._module.name==="scattergl"&&!nr.t.xpx){var cr=Ot.x,pr=Ot.y,gr=Ot._length;nr.t.xpx=[],nr.t.ypx=[];for(var dr=0;dr<gr;dr++)nr.t.xpx[dr]=_t.c2p(cr[dr]),nr.t.ypx[dr]=Zt.c2p(pr[dr])}ur._module.name==="splom"&&(Vt[Ot.uid]||(Vt[Ot.uid]=!0))}}var Gr=He(je,kt);Tt=Tt.concat(Gr),It=It.concat(kt)}}var kr={points:Tt};Fe(Ue,It,kr);var Fr=Gt.clickmode,gn=Fr.indexOf("event")>-1&&ke;if(!Ve&&ke){var Kr=rt(Ue,!0);if(Kr.length){var kn=Kr[0].xref,In=Kr[0].yref;if(kn&&In){var br=gt(Kr),Mr=Lt([P(Ue,kn,"x"),P(Ue,In,"y")]);Mr(kr,br)}}Ue._fullLayout._noEmitSelectedAtStart?Ue._fullLayout._noEmitSelectedAtStart=!1:gn&&ze(Ue,kr),Gt._reselect=!1}if(!Ve&&Gt._deselect){var Br=Gt._deselect;it=Br.xref,ot=Br.yref,tt(it,ot,It)||Ke(Ue,it,ot,ce),gn&&(kr.points.length?ze(Ue,kr):Oe(Ue)),Gt._deselect=!1}return{eventData:kr,selectionTesters:Me}}function We(Ue){var ke=Ue.calcdata;if(ke)for(var Me=0;Me<ke.length;Me++){var ce=ke[Me][0],be=ce.trace,De=Ue._fullLayout._splomScenes;if(De){var Ve=De[be.uid];Ve&&(Ve.selectBatch=[])}}}function tt(Ue,ke,Me){for(var ce=0;ce<Me.length;ce++){var be=Me[ce];if(be.xaxis&&be.xaxis._id===Ue&&be.yaxis&&be.yaxis._id===ke)return!0}return!1}function Ke(Ue,ke,Me,ce){ce=ie(Ue,[P(Ue,ke,"x")],[P(Ue,Me,"y")],ke+Me);for(var be=0;be<ce.length;be++){var De=ce[be];De._module.selectPoints(De,!1)}Fe(Ue,ce)}function qe(Ue,ke,Me,ce){for(var be,De=0;De<Ue.length;De++){var Ve=Ue[De];if(!(ke!==Ve.xref||Me!==Ve.yref))if(be){var it=!!Ve.subtract;be=Te(be,Ve,it),ce=Q(be)}else be=[Ve],ce=B(Ve)}return ce}function rt(Ue,ke){for(var Me=[],ce=Ue._fullLayout,be=ce.selections,De=be.length,Ve=0;Ve<De;Ve++)if(!(ke&&Ve!==ce._activeSelectionIndex)){var it=be[Ve];if(it){var ot=it.xref,Tt=it.yref,It=P(Ue,ot,"x"),Ht=P(Ue,Tt,"y"),Gt,Pt,Jt,or,zr;if(it.type==="rect"){zr=[];var mt=pt(It,it.x0),Kt=pt(It,it.x1),jt=pt(Ht,it.y0),wr=pt(Ht,it.y1);zr=[[mt,jt],[mt,wr],[Kt,wr],[Kt,jt]],Gt=Math.min(mt,Kt),Pt=Math.max(mt,Kt),Jt=Math.min(jt,wr),or=Math.max(jt,wr),zr.xmin=Gt,zr.xmax=Pt,zr.ymin=Jt,zr.ymax=or,zr.xref=ot,zr.yref=Tt,zr.subtract=!1,zr.isRect=!0,Me.push(zr)}else if(it.type==="path")for(var vr=it.path.split("Z"),ct=[],ut=0;ut<vr.length;ut++){var bt=vr[ut];if(bt){bt+="Z";var At=o.extractPathCoords(bt,m.paramIsX,"raw"),Ct=o.extractPathCoords(bt,m.paramIsY,"raw");Gt=1/0,Pt=-1/0,Jt=1/0,or=-1/0,zr=[];for(var St=0;St<At.length;St++){var zt=pt(It,At[St]),Vt=pt(Ht,Ct[St]);zr.push([zt,Vt]),Gt=Math.min(zt,Gt),Pt=Math.max(zt,Pt),Jt=Math.min(Vt,Jt),or=Math.max(Vt,or)}zr.xmin=Gt,zr.xmax=Pt,zr.ymin=Jt,zr.ymax=or,zr.xref=ot,zr.yref=Tt,zr.subtract=ft(zr,ct),ct.push(zr),Me.push(zr)}}}}return Me}function ft(Ue,ke){for(var Me=!1,ce=0;ce<ke.length;ce++)for(var be=ke[ce],De=0;De<Ue.length;De++)if(C(Ue[De],be)){Me=!Me;break}return Me}function pt(Ue,ke){return Ue.type==="date"&&(ke=ke.replace("_"," ")),Ue.type==="log"?Ue.c2p(ke):Ue.r2p(ke,null,Ue.calendar)}function gt(Ue){for(var ke=Ue.length,Me=[],ce=0;ce<ke;ce++){var be=Ue[ce];Me=Me.concat(be),Me=Me.concat([be[0]])}return Mt(Me)}function Mt(Ue){return Ue.isRect=Ue.length===5&&Ue[0][0]===Ue[4][0]&&Ue[0][1]===Ue[4][1]&&Ue[0][0]===Ue[1][0]&&Ue[2][0]===Ue[3][0]&&Ue[0][1]===Ue[3][1]&&Ue[1][1]===Ue[2][1]||Ue[0][1]===Ue[1][1]&&Ue[2][1]===Ue[3][1]&&Ue[0][0]===Ue[3][0]&&Ue[1][0]===Ue[2][0],Ue.isRect&&(Ue.xmin=Math.min(Ue[0][0],Ue[2][0]),Ue.xmax=Math.max(Ue[0][0],Ue[2][0]),Ue.ymin=Math.min(Ue[0][1],Ue[2][1]),Ue.ymax=Math.max(Ue[0][1],Ue[2][1])),Ue}function Lt(Ue){return function(ke,Me){for(var ce,be,De=0;De<Ue.length;De++){var Ve=Ue[De],it=Ve._id,ot=it.charAt(0);if(Me.isRect){ce||(ce={});var Tt=Me[ot+"min"],It=Me[ot+"max"];Tt!==void 0&&It!==void 0&&(ce[it]=[O(Ve,Tt),O(Ve,It)].sort(E))}else be||(be={}),be[it]=Me.map(U(Ve))}ce&&(ke.range=ce),be&&(ke.lassoPoints=be)}}function Wt(Ue){var ke=Ue.plotinfo;return ke.fillRangeItems||Lt(Ue.xaxes.concat(Ue.yaxes))}function Je(Ue,ke){Ue.emit("plotly_selecting",ke)}function ze(Ue,ke){ke&&(ke.selections=(Ue.layout||{}).selections||[]),Ue.emit("plotly_selected",ke)}function Oe(Ue){Ue.emit("plotly_deselect",null)}W.exports={reselect:_e,prepSelect:ae,clearOutline:b,clearSelectionsCache:Y,selectOnClick:ue}},89827:function(W,V,e){var y=e(50215),C=e(41940),a=e(82196).line,L=e(79952).P,x=e(1426).extendFlat,h=e(44467).templatedArray;e(24695);var d=e(9012),t=e(5386).R,r=e(37281);W.exports=h("shape",{visible:x({},d.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:x({},d.legend,{editType:"calc+arraydraw"}),legendgroup:x({},d.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:x({},d.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:C({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:x({},d.legendrank,{editType:"calc+arraydraw"}),legendwidth:x({},d.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:x({},y.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:x({},y.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:x({},a.color,{editType:"arraydraw"}),width:x({},a.width,{editType:"calc+arraydraw"}),dash:x({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(r)}),font:C({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(W,V,e){var y=e(71828),C=e(89298),a=e(21459),L=e(30477);W.exports=function(u){var n=u._fullLayout,i=y.filterVisible(n.shapes);if(!(!i.length||!u._fullData.length))for(var s=0;s<i.length;s++){var o=i[s];o._extremes={};var m,c,b=C.getRefType(o.xref),v=C.getRefType(o.yref);if(o.xref!=="paper"&&b!=="domain"){var l=o.xsizemode==="pixel"?o.xanchor:o.x0,p=o.xsizemode==="pixel"?o.xanchor:o.x1;m=C.getFromId(u,o.xref),c=t(m,l,p,o.path,a.paramIsX),c&&(o._extremes[m._id]=C.findExtremes(m,c,x(o)))}if(o.yref!=="paper"&&v!=="domain"){var S=o.ysizemode==="pixel"?o.yanchor:o.y0,M=o.ysizemode==="pixel"?o.yanchor:o.y1;m=C.getFromId(u,o.yref),c=t(m,S,M,o.path,a.paramIsY),c&&(o._extremes[m._id]=C.findExtremes(m,c,h(o)))}}};function x(r){return d(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function h(r){return d(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function d(r,u,n,i,s,o){var m=r/2,c=o;if(u==="pixel"){var b=s?L.extractPathCoords(s,o?a.paramIsY:a.paramIsX):[n,i],v=y.aggNums(Math.max,null,b),l=y.aggNums(Math.min,null,b),p=l<0?Math.abs(l)+m:m,S=v>0?v+m:m;return{ppad:m,ppadplus:c?p:S,ppadminus:c?S:p}}else return{ppad:m}}function t(r,u,n,i,s){var o=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(u!==void 0)return[o(u),o(n)];if(i){var m=1/0,c=-1/0,b=i.match(a.segmentRE),v,l,p,S,M;for(r.type==="date"&&(o=L.decodeDate(o)),v=0;v<b.length;v++)l=b[v],p=s[l.charAt(0)].drawn,p!==void 0&&(S=b[v].substr(1).match(a.paramRE),!(!S||S.length<p)&&(M=o(S[p]),M<m&&(m=M),M>c&&(c=M)));if(c>=m)return[m,c]}}},21459:function(W){W.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(W,V,e){var y=e(71828),C=e(89298),a=e(85501),L=e(89827),x=e(30477);W.exports=function(r,u){a(r,u,{name:"shapes",handleItemDefaults:d})};function h(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function d(t,r,u){function n(ee,J){return y.coerce(t,r,L,ee,J)}r._isShape=!0;var i=n("visible");if(i){var s=n("showlegend");s&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),y.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var o=n("path"),m=o?"path":"rect",c=n("type",m),b=c!=="path";b&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var v=n("line.width");v&&(n("line.color"),n("line.dash"));for(var l=n("xsizemode"),p=n("ysizemode"),S=["x","y"],M=0;M<2;M++){var R=S[M],T=R+"anchor",E=R==="x"?l:p,A={_fullLayout:u},f,P,w,z=C.coerceRef(t,r,A,R,void 0,"paper"),F=C.getRefType(z);if(F==="range"?(f=C.getFromId(A,z),f._shapeIndices.push(r._index),w=x.rangeToShapePosition(f),P=x.shapePositionToRange(f)):P=w=y.identity,b){var H=.25,_=.75,B=R+"0",N=R+"1",O=t[B],U=t[N];t[B]=P(t[B],!0),t[N]=P(t[N],!0),E==="pixel"?(n(B,0),n(N,10)):(C.coercePosition(r,A,n,z,B,H),C.coercePosition(r,A,n,z,N,_)),r[B]=w(r[B]),r[N]=w(r[N]),t[B]=O,t[N]=U}if(E==="pixel"){var K=t[T];t[T]=P(t[T],!0),C.coercePosition(r,A,n,z,T,.25),r[T]=w(r[T]),t[T]=K}}b&&y.noneOrAll(t,r,["x0","x1","y0","y1"]);var re=c==="line",ae,ue;if(b&&(ae=n("label.texttemplate")),ae||(ue=n("label.text")),ue||ae){n("label.textangle");var ve=n("label.textposition",re?"middle":"middle center");n("label.xanchor"),n("label.yanchor",h(re,ve)),n("label.padding"),y.coerceFont(n,"label.font",u.font)}}}},48100:function(W,V,e){var y=e(71828),C=e(89298),a=e(63893),L=e(91424),x=e(60165).readPaths,h=e(30477),d=h.getPathString,t=e(37281),r=e(18783).FROM_TL;W.exports=function(s,o,m,c){if(c.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var b;if(m.label.texttemplate){var v={};if(m.type!=="path"){var l=C.getFromId(s,m.xref),p=C.getFromId(s,m.yref);for(var S in t){var M=t[S](m,l,p);M!==void 0&&(v[S]=M)}}b=y.texttemplateStringForShapes(m.label.texttemplate,{},s._fullLayout._d3locale,v)}else b=m.label.text;var R={"data-index":o},T=m.label.font,E={"data-notex":1},A=c.append("g").attr(R).classed("shape-label",!0),f=A.append("text").attr(E).classed("shape-label-text",!0).text(b),P,w,z,F;if(m.path){var H=d(s,m),_=x(H,s);P=1/0,z=1/0,w=-1/0,F=-1/0;for(var B=0;B<_.length;B++)for(var N=0;N<_[B].length;N++)for(var O=_[B][N],U=1;U<O.length;U+=2){var K=O[U],re=O[U+1];P=Math.min(P,K),w=Math.max(w,K),z=Math.min(z,re),F=Math.max(F,re)}}else{var ae=C.getFromId(s,m.xref),ue=C.getRefType(m.xref),ve=C.getFromId(s,m.yref),ee=C.getRefType(m.yref),J=h.getDataToPixel(s,ae,!1,ue),Q=h.getDataToPixel(s,ve,!0,ee);P=J(m.x0),w=J(m.x1),z=Q(m.y0),F=Q(m.y1)}var X=m.label.textangle;X==="auto"&&(m.type==="line"?X=u(P,z,w,F):X=0),f.call(function(te){return te.call(L.font,T).attr({}),a.convertToTspans(te,s),te});var q=L.bBox(f.node()),se=n(P,z,w,F,m,X,q),Y=se.textx,Z=se.texty,ie=se.xanchor;f.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ie],y:Z,x:Y,transform:"rotate("+X+","+Y+","+Z+")"}).call(a.positionText,Y,Z)}};function u(i,s,o,m){var c,b;return b=Math.abs(o-i),o>=i?c=s-m:c=m-s,-180/Math.PI*Math.atan2(c,b)}function n(i,s,o,m,c,b,v){var l=c.label.textposition,p=c.label.textangle,S=c.label.padding,M=c.type,R=Math.PI/180*b,T=Math.sin(R),E=Math.cos(R),A=c.label.xanchor,f=c.label.yanchor,P,w,z,F;if(M==="line"){l==="start"?(P=i,w=s):l==="end"?(P=o,w=m):(P=(i+o)/2,w=(s+m)/2),A==="auto"&&(l==="start"?p==="auto"?o>i?A="left":o<i?A="right":A="center":o>i?A="right":o<i?A="left":A="center":l==="end"?p==="auto"?o>i?A="right":o<i?A="left":A="center":o>i?A="left":o<i?A="right":A="center":A="center");var H={left:1,center:0,right:-1},_={bottom:-1,middle:0,top:1};if(p==="auto"){var B=_[f];z=-S*T*B,F=S*E*B}else{var N=H[A],O=_[f];z=S*N,F=S*O}P=P+z,w=w+F}else z=S+3,l.indexOf("right")!==-1?(P=Math.max(i,o)-z,A==="auto"&&(A="right")):l.indexOf("left")!==-1?(P=Math.min(i,o)+z,A==="auto"&&(A="left")):(P=(i+o)/2,A==="auto"&&(A="center")),l.indexOf("top")!==-1?w=Math.min(s,m):l.indexOf("bottom")!==-1?w=Math.max(s,m):w=(s+m)/2,F=S,f==="bottom"?w=w-F:f==="top"&&(w=w+F);var U=r[f],K=c.label.font.size,re=v.height,ae=(re*U-K)*T,ue=-(re*U-K)*E;return{textx:P+ae,texty:w+ue,xanchor:A}}},42359:function(W,V,e){var y=e(71828),C=y.strTranslate,a=e(28569),L=e(64505),x=L.drawMode,h=L.selectMode,d=e(73972),t=e(7901),r=e(89995),u=r.i000,n=r.i090,i=r.i180,s=r.i270,o=e(51873),m=o.clearOutlineControllers,c=e(60165),b=c.pointsOnRectangle,v=c.pointsOnEllipse,l=c.writePaths,p=e(90551).newShapes,S=e(90551).createShapeObj,M=e(35855),R=e(48100);W.exports=function f(P,w,z,F){F||(F=0);var H=z.gd;function _(){f(P,w,z,F++),(v(P[0])||z.hasText)&&B({redrawing:!0})}function B(Te){var Ee={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,Ee=p(w,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,Ee=M(w,z),H._fullLayout._reselect=!0),Object.keys(Ee).length&&d.call((Te||{}).redrawing?"relayout":"_guiRelayout",H,Ee)}var N=H._fullLayout,O=N._zoomlayer,U=z.dragmode,K=x(U),re=h(U);(K||re)&&(H._fullLayout._outlining=!0),m(H),w.attr("d",l(P));var ae,ue,ve,ee,J;if(!F&&(z.isActiveShape||z.isActiveSelection)){J=T([],P);var Q=O.append("g").attr("class","outline-controllers");fe(Q),Se()}if(K&&z.hasText){var X=O.select(".label-temp"),q=S(w,z,z.dragmode);R(H,"label-temp",q,X)}function se(Te){ve=+Te.srcElement.getAttribute("data-i"),ee=+Te.srcElement.getAttribute("data-j"),ae[ve][ee].moveFn=Y}function Y(Te,Ee){if(P.length){var Ne=J[ve][ee][1],He=J[ve][ee][2],_e=P[ve],We=_e.length;if(b(_e)){var tt=Te,Ke=Ee;if(z.isActiveSelection){var qe=E(_e,ee);qe[1]===_e[ee][1]?Ke=0:tt=0}for(var rt=0;rt<We;rt++)if(rt!==ee){var ft=_e[rt];ft[1]===_e[ee][1]&&(ft[1]=Ne+tt),ft[2]===_e[ee][2]&&(ft[2]=He+Ke)}if(_e[ee][1]=Ne+tt,_e[ee][2]=He+Ke,!b(_e))for(var pt=0;pt<We;pt++)for(var gt=0;gt<_e[pt].length;gt++)_e[pt][gt]=J[ve][pt][gt]}else _e[ee][1]=Ne+Te,_e[ee][2]=He+Ee;_()}}function Z(){B()}function ie(){if(P.length&&P[ve]&&P[ve].length){for(var Te=[],Ee=0;Ee<P[ve].length;Ee++)Ee!==ee&&Te.push(P[ve][Ee]);Te.length>1&&!(Te.length===2&&Te[1][0]==="Z")&&(ee===0&&(Te[0][0]="M"),P[ve]=Te,_(),B())}}function te(Te,Ee){if(Te===2){ve=+Ee.srcElement.getAttribute("data-i"),ee=+Ee.srcElement.getAttribute("data-j");var Ne=P[ve];!b(Ne)&&!v(Ne)&&ie()}}function fe(Te){ae=[];for(var Ee=0;Ee<P.length;Ee++){var Ne=P[Ee],He=b(Ne),_e=!He&&v(Ne);ae[Ee]=[];for(var We=Ne.length,tt=0;tt<We;tt++)if(Ne[tt][0]!=="Z"&&!(_e&&tt!==u&&tt!==n&&tt!==i&&tt!==s)){var Ke=He&&z.isActiveSelection,qe;Ke&&(qe=E(Ne,tt));var rt=Ne[tt][1],ft=Ne[tt][2],pt=Te.append(Ke?"rect":"circle").attr("data-i",Ee).attr("data-j",tt).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Ke){var gt=qe[1]-rt,Mt=qe[2]-ft,Lt=Mt?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Wt=gt?5:Math.max(Math.min(25,Math.abs(Mt)-5),5);pt.classed(Mt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Lt).attr("height",Wt).attr("x",rt-Lt/2).attr("y",ft-Wt/2).attr("transform",C(gt/2,Mt/2))}else pt.classed("cursor-grab",!0).attr("r",5).attr("cx",rt).attr("cy",ft);ae[Ee][tt]={element:pt.node(),gd:H,prepFn:se,doneFn:Z,clickFn:te},a.init(ae[Ee][tt])}}}function de(Te,Ee){if(P.length)for(var Ne=0;Ne<P.length;Ne++)for(var He=0;He<P[Ne].length;He++)for(var _e=0;_e+2<P[Ne][He].length;_e+=2)P[Ne][He][_e+1]=J[Ne][He][_e+1]+Te,P[Ne][He][_e+2]=J[Ne][He][_e+2]+Ee}function we(Te,Ee){de(Te,Ee),_()}function Ae(Te){ve=+Te.srcElement.getAttribute("data-i"),ve||(ve=0),ue[ve].moveFn=we}function Re(){B()}function Fe(Te){Te===2&&A(H)}function Se(){if(ue=[],!!P.length){var Te=0;ue[Te]={element:w[0][0],gd:H,prepFn:Ae,doneFn:Re,clickFn:Fe},a.init(ue[Te])}}};function T(f,P){for(var w=0;w<P.length;w++){var z=P[w];f[w]=[];for(var F=0;F<z.length;F++){f[w][F]=[];for(var H=0;H<z[F].length;H++)f[w][F][H]=z[F][H]}}return f}function E(f,P){var w=f[P][1],z=f[P][2],F=f.length,H,_,B;return H=(P+1)%F,_=f[H][1],B=f[H][2],_===w&&B===z&&(H=(P+2)%F,_=f[H][1],B=f[H][2]),[H,_,B]}function A(f){if(h(f._fullLayout.dragmode)){m(f);var P=f._fullLayout._activeSelectionIndex,w=(f.layout||{}).selections||[];if(P<w.length){for(var z=[],F=0;F<w.length;F++)F!==P&&z.push(w[F]);delete f._fullLayout._activeSelectionIndex;var H=f._fullLayout.selections[P];f._fullLayout._deselect={xref:H.xref,yref:H.yref},d.call("_guiRelayout",f,{selections:z})}}}},34031:function(W,V,e){var y=e(39898),C=e(73972),a=e(71828),L=e(89298),x=e(60165).readPaths,h=e(42359),d=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),u=e(91424),n=e(44467).arrayEditor,i=e(28569),s=e(6964),o=e(21459),m=e(30477),c=m.getPathString;W.exports={draw:b,drawOne:p,eraseActiveShape:A,drawLabel:d};function b(f){var P=f._fullLayout;P._shapeUpperLayer.selectAll("path").remove(),P._shapeLowerLayer.selectAll("path").remove(),P._shapeUpperLayer.selectAll("text").remove(),P._shapeLowerLayer.selectAll("text").remove();for(var w in P._plots){var z=P._plots[w].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var F=0;F<P.shapes.length;F++)P.shapes[F].visible===!0&&p(f,F)}function v(f){return!!f._fullLayout._outlining}function l(f){return!f._context.edits.shapePosition}function p(f,P){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+P+'"]').remove();var w=m.makeShapesOptionsAndPlotinfo(f,P),z=w.options,F=w.plotinfo;if(!z._input||z.visible!==!0)return;if(z.layer!=="below")_(f._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")_(f._fullLayout._shapeLowerLayer);else if(F._hadPlotinfo){var H=F.mainplotinfo||F;_(H.shapelayer)}else _(f._fullLayout._shapeLowerLayer);function _(B){var N=c(f,z),O={"data-index":P,"fill-rule":z.fillrule,d:N},U=z.opacity,K=z.fillcolor,re=z.line.width?z.line.color:"rgba(0,0,0,0)",ae=z.line.width,ue=z.line.dash;!ae&&z.editable===!0&&(ae=5,ue="solid");var ve=N[N.length-1]!=="Z",ee=l(f)&&z.editable&&f._fullLayout._activeShapeIndex===P;ee&&(K=ve?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,U=f._fullLayout.activeshape.opacity);var J=B.append("g").classed("shape-group",!0).attr({"data-index":P}),Q=J.append("path").attr(O).style("opacity",U).call(r.stroke,re).call(r.fill,K).call(u.dashLine,ue,ae);S(J,f,z),d(f,P,z,J);var X;if((ee||f._context.edits.shapePosition)&&(X=n(f.layout,"shapes",z)),ee){Q.style({cursor:"move"});var q={element:Q.node(),plotinfo:F,gd:f,editHelpers:X,hasText:z.label.text||z.label.texttemplate,isActiveShape:!0},se=x(N,f);h(se,Q,q)}else f._context.edits.shapePosition?M(f,Q,z,P,B,X):z.editable===!0&&Q.style("pointer-events",ve||r.opacity(K)*U<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return T(f,Q)})}}function S(f,P,w){var z=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(f,z?"clip"+P._fullLayout._uid+z:null,P)}function M(f,P,w,z,F,H){var _=10,B=10,N=w.xsizemode==="pixel",O=w.ysizemode==="pixel",U=w.type==="line",K=w.type==="path",re=H.modifyItem,ae,ue,ve,ee,J,Q,X,q,se,Y,Z,ie,te,fe,de,we=y.select(P.node().parentNode),Ae=L.getFromId(f,w.xref),Re=L.getRefType(w.xref),Fe=L.getFromId(f,w.yref),Se=L.getRefType(w.yref),Te=m.getDataToPixel(f,Ae,!1,Re),Ee=m.getDataToPixel(f,Fe,!0,Se),Ne=m.getPixelToData(f,Ae,!1,Re),He=m.getPixelToData(f,Fe,!0,Se),_e=Ke(),We={element:_e.node(),gd:f,prepFn:ft,doneFn:pt,clickFn:gt},tt;i.init(We),_e.node().onmousemove=rt;function Ke(){return U?qe():P}function qe(){var Oe=10,Ue=Math.max(w.line.width,Oe),ke=F.append("g").attr("data-index",z).attr("drag-helper",!0);ke.append("path").attr("d",P.attr("d")).style({cursor:"move","stroke-width":Ue,"stroke-opacity":"0"});var Me={"fill-opacity":"0"},ce=Math.max(Ue/2,Oe);return ke.append("circle").attr({"data-line-point":"start-point",cx:N?Te(w.xanchor)+w.x0:Te(w.x0),cy:O?Ee(w.yanchor)-w.y0:Ee(w.y0),r:ce}).style(Me).classed("cursor-grab",!0),ke.append("circle").attr({"data-line-point":"end-point",cx:N?Te(w.xanchor)+w.x1:Te(w.x1),cy:O?Ee(w.yanchor)-w.y1:Ee(w.y1),r:ce}).style(Me).classed("cursor-grab",!0),ke}function rt(Oe){if(v(f)){tt=null;return}if(U)Oe.target.tagName==="path"?tt="move":tt=Oe.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ue=We.element.getBoundingClientRect(),ke=Ue.right-Ue.left,Me=Ue.bottom-Ue.top,ce=Oe.clientX-Ue.left,be=Oe.clientY-Ue.top,De=!K&&ke>_&&Me>B&&!Oe.shiftKey?i.getCursor(ce/ke,1-be/Me):"move";s(P,De),tt=De.split("-")[0]}}function ft(Oe){v(f)||(N&&(J=Te(w.xanchor)),O&&(Q=Ee(w.yanchor)),w.type==="path"?de=w.path:(ae=N?w.x0:Te(w.x0),ue=O?w.y0:Ee(w.y0),ve=N?w.x1:Te(w.x1),ee=O?w.y1:Ee(w.y1)),ae<ve?(se=ae,te="x0",Y=ve,fe="x1"):(se=ve,te="x1",Y=ae,fe="x0"),!O&&ue<ee||O&&ue>ee?(X=ue,Z="y0",q=ee,ie="y1"):(X=ee,Z="y1",q=ue,ie="y0"),rt(Oe),Wt(F,w),ze(P,w,f),We.moveFn=tt==="move"?Mt:Lt,We.altKey=Oe.altKey)}function pt(){v(f)||(s(P),Je(F),S(P,f,w),C.call("_guiRelayout",f,H.getUpdateObj()))}function gt(){v(f)||Je(F)}function Mt(Oe,Ue){if(w.type==="path"){var ke=function(be){return be},Me=ke,ce=ke;N?re("xanchor",w.xanchor=Ne(J+Oe)):(Me=function(De){return Ne(Te(De)+Oe)},Ae&&Ae.type==="date"&&(Me=m.encodeDate(Me))),O?re("yanchor",w.yanchor=He(Q+Ue)):(ce=function(De){return He(Ee(De)+Ue)},Fe&&Fe.type==="date"&&(ce=m.encodeDate(ce))),re("path",w.path=R(de,Me,ce))}else N?re("xanchor",w.xanchor=Ne(J+Oe)):(re("x0",w.x0=Ne(ae+Oe)),re("x1",w.x1=Ne(ve+Oe))),O?re("yanchor",w.yanchor=He(Q+Ue)):(re("y0",w.y0=He(ue+Ue)),re("y1",w.y1=He(ee+Ue)));P.attr("d",c(f,w)),Wt(F,w),d(f,z,w,we)}function Lt(Oe,Ue){if(K){var ke=function(mt){return mt},Me=ke,ce=ke;N?re("xanchor",w.xanchor=Ne(J+Oe)):(Me=function(Kt){return Ne(Te(Kt)+Oe)},Ae&&Ae.type==="date"&&(Me=m.encodeDate(Me))),O?re("yanchor",w.yanchor=He(Q+Ue)):(ce=function(Kt){return He(Ee(Kt)+Ue)},Fe&&Fe.type==="date"&&(ce=m.encodeDate(ce))),re("path",w.path=R(de,Me,ce))}else if(U){if(tt==="resize-over-start-point"){var be=ae+Oe,De=O?ue-Ue:ue+Ue;re("x0",w.x0=N?be:Ne(be)),re("y0",w.y0=O?De:He(De))}else if(tt==="resize-over-end-point"){var Ve=ve+Oe,it=O?ee-Ue:ee+Ue;re("x1",w.x1=N?Ve:Ne(Ve)),re("y1",w.y1=O?it:He(it))}}else{var ot=function(mt){return tt.indexOf(mt)!==-1},Tt=ot("n"),It=ot("s"),Ht=ot("w"),Gt=ot("e"),Pt=Tt?X+Ue:X,Jt=It?q+Ue:q,or=Ht?se+Oe:se,zr=Gt?Y+Oe:Y;O&&(Tt&&(Pt=X-Ue),It&&(Jt=q-Ue)),(!O&&Jt-Pt>B||O&&Pt-Jt>B)&&(re(Z,w[Z]=O?Pt:He(Pt)),re(ie,w[ie]=O?Jt:He(Jt))),zr-or>_&&(re(te,w[te]=N?or:Ne(or)),re(fe,w[fe]=N?zr:Ne(zr)))}P.attr("d",c(f,w)),Wt(F,w),d(f,z,w,we)}function Wt(Oe,Ue){(N||O)&&ke();function ke(){var Me=Ue.type!=="path",ce=Oe.selectAll(".visual-cue").data([0]),be=1;ce.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":be}).classed("visual-cue",!0);var De=Te(N?Ue.xanchor:a.midRange(Me?[Ue.x0,Ue.x1]:m.extractPathCoords(Ue.path,o.paramIsX))),Ve=Ee(O?Ue.yanchor:a.midRange(Me?[Ue.y0,Ue.y1]:m.extractPathCoords(Ue.path,o.paramIsY)));if(De=m.roundPositionForSharpStrokeRendering(De,be),Ve=m.roundPositionForSharpStrokeRendering(Ve,be),N&&O){var it="M"+(De-1-be)+","+(Ve-1-be)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ce.attr("d",it)}else if(N){var ot="M"+(De-1-be)+","+(Ve-9-be)+"v18 h2 v-18 Z";ce.attr("d",ot)}else{var Tt="M"+(De-9-be)+","+(Ve-1-be)+"h18 v2 h-18 Z";ce.attr("d",Tt)}}}function Je(Oe){Oe.selectAll(".visual-cue").remove()}function ze(Oe,Ue,ke){var Me=Ue.xref,ce=Ue.yref,be=L.getFromId(ke,Me),De=L.getFromId(ke,ce),Ve="";Me!=="paper"&&!be.autorange&&(Ve+=Me),ce!=="paper"&&!De.autorange&&(Ve+=ce),u.setClipUrl(Oe,Ve?"clip"+ke._fullLayout._uid+Ve:null,ke)}}function R(f,P,w){return f.replace(o.segmentRE,function(z){var F=0,H=z.charAt(0),_=o.paramIsX[H],B=o.paramIsY[H],N=o.numParams[H],O=z.substr(1).replace(o.paramRE,function(U){return F>=N||(_[F]?U=P(U):B[F]&&(U=w(U)),F++),U});return H+O})}function T(f,P){if(l(f)){var w=P.node(),z=+w.getAttribute("data-index");if(z>=0){if(z===f._fullLayout._activeShapeIndex){E(f);return}f._fullLayout._activeShapeIndex=z,f._fullLayout._deactivateShape=E,b(f)}}}function E(f){if(l(f)){var P=f._fullLayout._activeShapeIndex;P>=0&&(t(f),delete f._fullLayout._activeShapeIndex,b(f))}}function A(f){if(l(f)){t(f);var P=f._fullLayout._activeShapeIndex,w=(f.layout||{}).shapes||[];if(P<w.length){for(var z=[],F=0;F<w.length;F++)F!==P&&z.push(w[F]);return delete f._fullLayout._activeShapeIndex,C.call("_guiRelayout",f,{shapes:z})}}}},29241:function(W,V,e){var y=e(30962).overrideAll,C=e(9012),a=e(41940),L=e(79952).P,x=e(1426).extendFlat,h=e(5386).R,d=e(37281);W.exports=y({newshape:{visible:x({},C.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:x({},C.legend,{}),legendgroup:x({},C.legendgroup,{}),legendgrouptitle:{text:x({},C.legendgrouptitle.text,{}),font:a({})},legendrank:x({},C.legendrank,{}),legendwidth:x({},C.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:x({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:x({},C.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:h({newshape:!0},{keys:Object.keys(d)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(W){var V=32;W.exports={CIRCLE_SIDES:V,i000:0,i090:V/4,i180:V/2,i270:V/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(W,V,e){var y=e(7901),C=e(71828);function a(L,x){return L?"bottom":x.indexOf("top")!==-1?"top":x.indexOf("bottom")!==-1?"bottom":"middle"}W.exports=function(x,h,d){d("newshape.visible"),d("newshape.name"),d("newshape.showlegend"),d("newshape.legend"),d("newshape.legendwidth"),d("newshape.legendgroup"),d("newshape.legendgrouptitle.text"),C.coerceFont(d,"newshape.legendgrouptitle.font"),d("newshape.legendrank"),d("newshape.drawdirection"),d("newshape.layer"),d("newshape.fillcolor"),d("newshape.fillrule"),d("newshape.opacity");var t=d("newshape.line.width");if(t){var r=(x||{}).plot_bgcolor||"#FFF";d("newshape.line.color",y.contrast(r)),d("newshape.line.dash")}var u=x.dragmode==="drawline",n=d("newshape.label.text"),i=d("newshape.label.texttemplate");if(n||i){d("newshape.label.textangle");var s=d("newshape.label.textposition",u?"middle":"middle center");d("newshape.label.xanchor"),d("newshape.label.yanchor",a(u,s)),d("newshape.label.padding"),C.coerceFont(d,"newshape.label.font",h.font)}d("activeshape.fillcolor"),d("activeshape.opacity")}},60165:function(W,V,e){var y=e(95616),C=e(89995),a=C.CIRCLE_SIDES,L=C.SQRT2,x=e(75549),h=x.p2r,d=x.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];V.writePaths=function(i){var s=i.length;if(!s)return"M0,0Z";for(var o="",m=0;m<s;m++)for(var c=i[m].length,b=0;b<c;b++){var v=i[m][b][0];if(v==="Z")o+="Z";else for(var l=i[m][b].length,p=0;p<l;p++){var S=p;v==="Q"||v==="S"?S=r[p]:v==="C"&&(S=t[p]),o+=i[m][b][S],p>0&&p<l-1&&(o+=",")}}return o},V.readPaths=function(i,s,o,m){var c=y(i),b=[],v=-1,l=function(){v++,b[v]=[]},p,S=0,M=0,R,T,E=function(){R=S,T=M};E();for(var A=0;A<c.length;A++){var f=[],P,w,z,F,H=c[A][0],_=H;switch(H){case"M":l(),S=+c[A][1],M=+c[A][2],f.push([_,S,M]),E();break;case"Q":case"S":P=+c[A][1],z=+c[A][2],S=+c[A][3],M=+c[A][4],f.push([_,S,M,P,z]);break;case"C":P=+c[A][1],z=+c[A][2],w=+c[A][3],F=+c[A][4],S=+c[A][5],M=+c[A][6],f.push([_,S,M,P,z,w,F]);break;case"T":case"L":S=+c[A][1],M=+c[A][2],f.push([_,S,M]);break;case"H":_="L",S=+c[A][1],f.push([_,S,M]);break;case"V":_="L",M=+c[A][1],f.push([_,S,M]);break;case"A":_="L";var B=+c[A][1],N=+c[A][2];+c[A][4]||(B=-B,N=-N);var O=S-B,U=M;for(p=1;p<=a/2;p++){var K=2*Math.PI*p/a;f.push([_,O+B*Math.cos(K),U+N*Math.sin(K)])}break;case"Z":(S!==R||M!==T)&&(S=R,M=T,f.push([_,S,M]));break}for(var re=(o||{}).domain,ae=s._fullLayout._size,ue=o&&o.xsizemode==="pixel",ve=o&&o.ysizemode==="pixel",ee=m===!1,J=0;J<f.length;J++){for(p=0;p+2<7;p+=2){var Q=f[J][p+1],X=f[J][p+2];Q===void 0||X===void 0||(S=Q,M=X,o&&(o.xaxis&&o.xaxis.p2r?(ee&&(Q-=o.xaxis._offset),ue?Q=d(o.xaxis,o.xanchor)+Q:Q=h(o.xaxis,Q)):(ee&&(Q-=ae.l),re?Q=re.x[0]+Q/ae.w:Q=Q/ae.w),o.yaxis&&o.yaxis.p2r?(ee&&(X-=o.yaxis._offset),ve?X=d(o.yaxis,o.yanchor)-X:X=h(o.yaxis,X)):(ee&&(X-=ae.t),re?X=re.y[1]-X/ae.h:X=1-X/ae.h)),f[J][p+1]=Q,f[J][p+2]=X)}b[v].push(f[J].slice())}}return b};function u(i,s){return Math.abs(i-s)<=1e-6}function n(i,s){var o=s[1]-i[1],m=s[2]-i[2];return Math.sqrt(o*o+m*m)}V.pointsOnRectangle=function(i){var s=i.length;if(s!==5)return!1;for(var o=1;o<3;o++){var m=i[0][o]-i[1][o],c=i[3][o]-i[2][o];if(!u(m,c))return!1;var b=i[0][o]-i[3][o],v=i[1][o]-i[2][o];if(!u(b,v))return!1}return!u(i[0][1],i[1][1])&&!u(i[0][1],i[3][1])?!1:!!(n(i[0],i[1])*n(i[0],i[3]))},V.pointsOnEllipse=function(i){var s=i.length;if(s!==a+1)return!1;s=a;for(var o=0;o<s;o++){var m=(s*2-o)%s,c=(s/2+m)%s,b=(s/2+o)%s;if(!u(n(i[o],i[b]),n(i[m],i[c])))return!1}return!0},V.handleEllipse=function(i,s,o){if(!i)return[s,o];var m=V.ellipseOver({x0:s[0],y0:s[1],x1:o[0],y1:o[1]}),c=(m.x1+m.x0)/2,b=(m.y1+m.y0)/2,v=(m.x1-m.x0)/2,l=(m.y1-m.y0)/2;v||(v=l=l/L),l||(l=v=v/L);for(var p=[],S=0;S<a;S++){var M=S*2*Math.PI/a;p.push([c+v*Math.cos(M),b+l*Math.sin(M)])}return p},V.ellipseOver=function(i){var s=i.x0,o=i.y0,m=i.x1,c=i.y1,b=m-s,v=c-o;s-=b,o-=v;var l=(s+m)/2,p=(o+c)/2,S=L;return b*=S,v*=S,{x0:l-b,y0:p-v,x1:l+b,y1:p+v}},V.fixDatesForPaths=function(i,s,o){var m=s.type==="date",c=o.type==="date";if(!m&&!c)return i;for(var b=0;b<i.length;b++)for(var v=0;v<i[b].length;v++)for(var l=0;l+2<i[b][v].length;l+=2)m&&(i[b][v][l+1]=i[b][v][l+1].replace(" ","_")),c&&(i[b][v][l+2]=i[b][v][l+2].replace(" ","_"));return i}},90551:function(W,V,e){var y=e(64505),C=y.drawMode,a=y.openMode,L=e(89995),x=L.i000,h=L.i090,d=L.i180,t=L.i270,r=L.cos45,u=L.sin45,n=e(75549),i=n.p2r,s=n.r2p,o=e(51873),m=o.clearOutline,c=e(60165),b=c.readPaths,v=c.writePaths,l=c.ellipseOver,p=c.fixDatesForPaths;function S(R,T){if(R.length){var E=R[0][0];if(E){var A=T.gd,f=T.isActiveShape,P=T.dragmode,w=(A.layout||{}).shapes||[];if(!C(P)&&f!==void 0){var z=A._fullLayout._activeShapeIndex;if(z<w.length)switch(A._fullLayout.shapes[z].type){case"rect":P="drawrect";break;case"circle":P="drawcircle";break;case"line":P="drawline";break;case"path":var F=w[z].path||"";F[F.length-1]==="Z"?P="drawclosedpath":P="drawopenpath";break}}var H=M(R,T,P);m(A);for(var _=T.editHelpers,B=(_||{}).modifyItem,N=[],O=0;O<w.length;O++){var U=A._fullLayout.shapes[O];if(N[O]=U._input,f!==void 0&&O===A._fullLayout._activeShapeIndex){var K=H;switch(U.type){case"line":case"rect":case"circle":B("x0",K.x0),B("x1",K.x1),B("y0",K.y0),B("y1",K.y1);break;case"path":B("path",K.path);break}}}return f===void 0?(N.push(H),N):_?_.getUpdateObj():{}}}}function M(R,T,E){var A=R[0][0],f=T.gd,P=A.getAttribute("d"),w=f._fullLayout.newshape,z=T.plotinfo,F=T.isActiveShape,H=z.xaxis,_=z.yaxis,B=!!z.domain||!z.xaxis,N=!!z.domain||!z.yaxis,O=a(E),U=b(P,f,z,F),K={editable:!0,visible:w.visible,name:w.name,showlegend:w.showlegend,legend:w.legend,legendwidth:w.legendwidth,legendgroup:w.legendgroup,legendgrouptitle:{text:w.legendgrouptitle.text,font:w.legendgrouptitle.font},legendrank:w.legendrank,label:w.label,xref:B?"paper":H._id,yref:N?"paper":_._id,layer:w.layer,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}};O||(K.fillcolor=w.fillcolor,K.fillrule=w.fillrule);var re;if(U.length===1&&(re=U[0]),re&&re.length===5&&E==="drawrect")K.type="rect",K.x0=re[0][1],K.y0=re[0][2],K.x1=re[2][1],K.y1=re[2][2];else if(re&&E==="drawline")K.type="line",K.x0=re[0][1],K.y0=re[0][2],K.x1=re[1][1],K.y1=re[1][2];else if(re&&E==="drawcircle"){K.type="circle";var ae=re[x][1],ue=re[h][1],ve=re[d][1],ee=re[t][1],J=re[x][2],Q=re[h][2],X=re[d][2],q=re[t][2],se=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),Y=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");se&&(ae=s(z.xaxis,ae),ue=s(z.xaxis,ue),ve=s(z.xaxis,ve),ee=s(z.xaxis,ee)),Y&&(J=s(z.yaxis,J),Q=s(z.yaxis,Q),X=s(z.yaxis,X),q=s(z.yaxis,q));var Z=(ue+ee)/2,ie=(J+X)/2,te=(ee-ue+ve-ae)/2,fe=(q-Q+X-J)/2,de=l({x0:Z,y0:ie,x1:Z+te*r,y1:ie+fe*u});se&&(de.x0=i(z.xaxis,de.x0),de.x1=i(z.xaxis,de.x1)),Y&&(de.y0=i(z.yaxis,de.y0),de.y1=i(z.yaxis,de.y1)),K.x0=de.x0,K.y0=de.y0,K.x1=de.x1,K.y1=de.y1}else K.type="path",H&&_&&p(U,H,_),K.path=v(U),re=null;return K}W.exports={newShapes:S,createShapeObj:M}},51873:function(W){function V(y){var C=y._fullLayout._zoomlayer;C&&C.selectAll(".outline-controllers").remove()}function e(y){var C=y._fullLayout._zoomlayer;C&&C.selectAll(".select-outline").remove(),y._fullLayout._outlining=!1}W.exports={clearOutlineControllers:V,clearOutline:e}},30477:function(W,V,e){var y=e(21459),C=e(71828),a=e(89298);V.rangeToShapePosition=function(x){return x.type==="log"?x.r2d:function(h){return h}},V.shapePositionToRange=function(x){return x.type==="log"?x.d2r:function(h){return h}},V.decodeDate=function(x){return function(h){return h.replace&&(h=h.replace("_"," ")),x(h)}},V.encodeDate=function(x){return function(h){return x(h).replace(" ","_")}},V.extractPathCoords=function(x,h,d){var t=[],r=x.match(y.segmentRE);return r.forEach(function(u){var n=h[u.charAt(0)].drawn;if(n!==void 0){var i=u.substr(1).match(y.paramRE);if(!(!i||i.length<n)){var s=i[n],o=d?s:C.cleanNumber(s);t.push(o)}}}),t},V.getDataToPixel=function(x,h,d,t){var r=x._fullLayout._size,u;if(h)if(t==="domain")u=function(i){return h._length*(d?1-i:i)+h._offset};else{var n=V.shapePositionToRange(h);u=function(i){return h._offset+h.r2p(n(i,!0))},h.type==="date"&&(u=V.decodeDate(u))}else d?u=function(i){return r.t+r.h*(1-i)}:u=function(i){return r.l+r.w*i};return u},V.getPixelToData=function(x,h,d,t){var r=x._fullLayout._size,u;if(h)if(t==="domain")u=function(i){var s=(i-h._offset)/h._length;return d?1-s:s};else{var n=V.rangeToShapePosition(h);u=function(i){return n(h.p2r(i-h._offset))}}else d?u=function(i){return 1-(i-r.t)/r.h}:u=function(i){return(i-r.l)/r.w};return u},V.roundPositionForSharpStrokeRendering=function(x,h){var d=Math.round(h%2)===1,t=Math.round(x);return d?t+.5:t},V.makeShapesOptionsAndPlotinfo=function(x,h){var d=x._fullLayout.shapes[h]||{},t=x._fullLayout._plots[d.xref+d.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},d.xref&&d.xref!=="paper"&&(t.xaxis=x._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(t.yaxis=x._fullLayout[d.yref+"axis"])),t.xsizemode=d.xsizemode,t.ysizemode=d.ysizemode,t.xanchor=d.xanchor,t.yanchor=d.yanchor,{options:d,plotinfo:t}},V.makeSelectionsOptionsAndPlotinfo=function(x,h){var d=x._fullLayout.selections[h]||{},t=x._fullLayout._plots[d.xref+d.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},d.xref&&(t.xaxis=x._fullLayout[d.xref+"axis"]),d.yref&&(t.yaxis=x._fullLayout[d.yref+"axis"])),{options:d,plotinfo:t}},V.getPathString=function(x,h){var d=h.type,t=a.getRefType(h.xref),r=a.getRefType(h.yref),u=a.getFromId(x,h.xref),n=a.getFromId(x,h.yref),i=x._fullLayout._size,s,o,m,c,b,v,l,p;if(u?t==="domain"?o=function(z){return u._offset+u._length*z}:(s=V.shapePositionToRange(u),o=function(z){return u._offset+u.r2p(s(z,!0))}):o=function(z){return i.l+i.w*z},n?r==="domain"?c=function(z){return n._offset+n._length*(1-z)}:(m=V.shapePositionToRange(n),c=function(z){return n._offset+n.r2p(m(z,!0))}):c=function(z){return i.t+i.h*(1-z)},d==="path")return u&&u.type==="date"&&(o=V.decodeDate(o)),n&&n.type==="date"&&(c=V.decodeDate(c)),L(h,o,c);if(h.xsizemode==="pixel"){var S=o(h.xanchor);b=S+h.x0,v=S+h.x1}else b=o(h.x0),v=o(h.x1);if(h.ysizemode==="pixel"){var M=c(h.yanchor);l=M-h.y0,p=M-h.y1}else l=c(h.y0),p=c(h.y1);if(d==="line")return"M"+b+","+l+"L"+v+","+p;if(d==="rect")return"M"+b+","+l+"H"+v+"V"+p+"H"+b+"Z";var R=(b+v)/2,T=(l+p)/2,E=Math.abs(R-b),A=Math.abs(T-l),f="A"+E+","+A,P=R+E+","+T,w=R+","+(T-A);return"M"+P+f+" 0 1,1 "+w+f+" 0 0,1 "+P+"Z"};function L(x,h,d){var t=x.path,r=x.xsizemode,u=x.ysizemode,n=x.xanchor,i=x.yanchor;return t.replace(y.segmentRE,function(s){var o=0,m=s.charAt(0),c=y.paramIsX[m],b=y.paramIsY[m],v=y.numParams[m],l=s.substr(1).replace(y.paramRE,function(p){return c[o]?r==="pixel"?p=h(n)+Number(p):p=h(p):b[o]&&(u==="pixel"?p=d(i)-Number(p):p=d(p)),o++,o>v&&(p="X"),p});return o>v&&(l=l.replace(/[\s,]*X.*/,""),C.log("Ignoring extra params in segment "+s)),m+l})}},89853:function(W,V,e){var y=e(34031);W.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:y.draw,drawOne:y.drawOne}},37281:function(W){function V(s,o){return o?o.d2l(s):s}function e(s,o){return o?o.l2d(s):s}function y(s){return s.x0}function C(s){return s.x1}function a(s){return s.y0}function L(s){return s.y1}function x(s,o){return V(s.x1,o)-V(s.x0,o)}function h(s,o,m){return V(s.y1,m)-V(s.y0,m)}function d(s,o){return Math.abs(x(s,o))}function t(s,o,m){return Math.abs(h(s,o,m))}function r(s,o,m){return s.type!=="line"?void 0:Math.sqrt(Math.pow(x(s,o),2)+Math.pow(h(s,o,m),2))}function u(s,o){return e((V(s.x1,o)+V(s.x0,o))/2,o)}function n(s,o,m){return e((V(s.y1,m)+V(s.y0,m))/2,m)}function i(s,o,m){return s.type!=="line"?void 0:h(s,o,m)/x(s,o)}W.exports={x0:y,x1:C,y0:a,y1:L,slope:i,dx:x,dy:h,width:d,height:t,length:r,xcenter:u,ycenter:n}},75067:function(W,V,e){var y=e(41940),C=e(35025),a=e(1426).extendDeepAll,L=e(30962).overrideAll,x=e(85594),h=e(44467).templatedArray,d=e(98292),t=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});W.exports=L(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(C({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:x.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:y({})},font:y({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},98292:function(W){W.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(W,V,e){var y=e(71828),C=e(85501),a=e(75067),L=e(98292),x=L.name,h=a.steps;W.exports=function(u,n){C(u,n,{name:x,handleItemDefaults:d})};function d(r,u,n){function i(p,S){return y.coerce(r,u,a,p,S)}for(var s=C(r,u,{name:"steps",handleItemDefaults:t}),o=0,m=0;m<s.length;m++)s[m].visible&&o++;var c;if(o<2?c=u.visible=!1:c=i("visible"),!!c){u._stepCount=o;var b=u._visibleSteps=y.filterVisible(s),v=i("active");(s[v]||{}).visible||(u.active=b[0]._index),i("x"),i("y"),y.noneOrAll(r,u,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),y.coerceFont(i,"font",n.font);var l=i("currentvalue.visible");l&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),y.coerceFont(i,"currentvalue.font",u.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen")}}function t(r,u){function n(o,m){return y.coerce(r,u,h,o,m)}var i;if(r.method!=="skip"&&!Array.isArray(r.args)?i=u.visible=!1:i=n("visible"),i){n("method"),n("args");var s=n("label","step-"+u._index);n("value",s),n("execute")}}},44504:function(W,V,e){var y=e(39898),C=e(74875),a=e(7901),L=e(91424),x=e(71828),h=x.strTranslate,d=e(63893),t=e(44467).arrayEditor,r=e(98292),u=e(18783),n=u.LINE_SPACING,i=u.FROM_TL,s=u.FROM_BR;W.exports=function(B){var N=B._context.staticPlot,O=B._fullLayout,U=m(O,B),K=O._infolayer.selectAll("g."+r.containerClassName).data(U.length>0?[0]:[]);K.enter().append("g").classed(r.containerClassName,!0).style("cursor",N?null:"ew-resize");function re(ee){ee._commandObserver&&(ee._commandObserver.remove(),delete ee._commandObserver),C.autoMargin(B,o(ee))}if(K.exit().each(function(){y.select(this).selectAll("g."+r.groupClassName).each(re)}).remove(),U.length!==0){var ae=K.selectAll("g."+r.groupClassName).data(U,c);ae.enter().append("g").classed(r.groupClassName,!0),ae.exit().each(re).remove();for(var ue=0;ue<U.length;ue++){var ve=U[ue];b(B,ve)}ae.each(function(ee){var J=y.select(this);f(ee),C.manageCommandObserver(B,ee,ee._visibleSteps,function(Q){var X=J.data()[0];X.active!==Q.index&&(X._dragging||T(B,J,X,Q.index,!1,!0))}),v(B,y.select(this),ee)})}};function o(_){return r.autoMarginIdRoot+_._index}function m(_,B){for(var N=_[r.name],O=[],U=0;U<N.length;U++){var K=N[U];K.visible&&(K._gd=B,O.push(K))}return O}function c(_){return _._index}function b(_,B){var N=L.tester.selectAll("g."+r.labelGroupClass).data(B._visibleSteps);N.enter().append("g").classed(r.labelGroupClass,!0);var O=0,U=0;N.each(function(q){var se=y.select(this),Y=S(se,{step:q},B),Z=Y.node();if(Z){var ie=L.bBox(Z);U=Math.max(U,ie.height),O=Math.max(O,ie.width)}}),N.remove();var K=B._dims={};K.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var re=_._fullLayout._size;K.lx=re.l+re.w*B.x,K.ly=re.t+re.h*(1-B.y),B.lenmode==="fraction"?K.outerLength=Math.round(re.w*B.len):K.outerLength=B.len,K.inputAreaStart=0,K.inputAreaLength=Math.round(K.outerLength-B.pad.l-B.pad.r);var ae=K.inputAreaLength-2*r.stepInset,ue=ae/(B._stepCount-1),ve=O+r.labelPadding;if(K.labelStride=Math.max(1,Math.ceil(ve/ue)),K.labelHeight=U,K.currentValueMaxWidth=0,K.currentValueHeight=0,K.currentValueTotalHeight=0,K.currentValueMaxLines=1,B.currentvalue.visible){var ee=L.tester.append("g");N.each(function(q){var se=l(ee,B,q.label),Y=se.node()&&L.bBox(se.node())||{width:0,height:0},Z=d.lineCount(se);K.currentValueMaxWidth=Math.max(K.currentValueMaxWidth,Math.ceil(Y.width)),K.currentValueHeight=Math.max(K.currentValueHeight,Math.ceil(Y.height)),K.currentValueMaxLines=Math.max(K.currentValueMaxLines,Z)}),K.currentValueTotalHeight=K.currentValueHeight+B.currentvalue.offset,ee.remove()}K.height=K.currentValueTotalHeight+r.tickOffset+B.ticklen+r.labelOffset+K.labelHeight+B.pad.t+B.pad.b;var J="left";x.isRightAnchor(B)&&(K.lx-=K.outerLength,J="right"),x.isCenterAnchor(B)&&(K.lx-=K.outerLength/2,J="center");var Q="top";x.isBottomAnchor(B)&&(K.ly-=K.height,Q="bottom"),x.isMiddleAnchor(B)&&(K.ly-=K.height/2,Q="middle"),K.outerLength=Math.ceil(K.outerLength),K.height=Math.ceil(K.height),K.lx=Math.round(K.lx),K.ly=Math.round(K.ly);var X={y:B.y,b:K.height*s[Q],t:K.height*i[Q]};B.lenmode==="fraction"?(X.l=0,X.xl=B.x-B.len*i[J],X.r=0,X.xr=B.x+B.len*s[J]):(X.x=B.x,X.l=K.outerLength*i[J],X.r=K.outerLength*s[J]),C.autoMargin(_,o(B),X)}function v(_,B,N){(N.steps[N.active]||{}).visible||(N.active=N._visibleSteps[0]._index),B.call(l,N).call(H,N).call(M,N).call(A,N).call(F,_,N).call(p,_,N);var O=N._dims;L.setTranslate(B,O.lx+N.pad.l,O.ly+N.pad.t),B.call(P,N,!1),B.call(l,N)}function l(_,B,N){if(B.currentvalue.visible){var O=B._dims,U,K;switch(B.currentvalue.xanchor){case"right":U=O.inputAreaLength-r.currentValueInset-O.currentValueMaxWidth,K="left";break;case"center":U=O.inputAreaLength*.5,K="middle";break;default:U=r.currentValueInset,K="left"}var re=x.ensureSingle(_,"text",r.labelClass,function(Q){Q.attr({"text-anchor":K,"data-notex":1})}),ae=B.currentvalue.prefix?B.currentvalue.prefix:"";if(typeof N=="string")ae+=N;else{var ue=B.steps[B.active].label,ve=B._gd._fullLayout._meta;ve&&(ue=x.templateString(ue,ve)),ae+=ue}B.currentvalue.suffix&&(ae+=B.currentvalue.suffix),re.call(L.font,B.currentvalue.font).text(ae).call(d.convertToTspans,B._gd);var ee=d.lineCount(re),J=(O.currentValueMaxLines+1-ee)*B.currentvalue.font.size*n;return d.positionText(re,U,J),re}}function p(_,B,N){var O=x.ensureSingle(_,"rect",r.gripRectClass,function(U){U.call(E,B,_,N).style("pointer-events","all")});O.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(a.stroke,N.bordercolor).call(a.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function S(_,B,N){var O=x.ensureSingle(_,"text",r.labelClass,function(re){re.attr({"text-anchor":"middle","data-notex":1})}),U=B.step.label,K=N._gd._fullLayout._meta;return K&&(U=x.templateString(U,K)),O.call(L.font,N.font).text(U).call(d.convertToTspans,N._gd),O}function M(_,B){var N=x.ensureSingle(_,"g",r.labelsClass),O=B._dims,U=N.selectAll("g."+r.labelGroupClass).data(O.labelSteps);U.enter().append("g").classed(r.labelGroupClass,!0),U.exit().remove(),U.each(function(K){var re=y.select(this);re.call(S,K,B),L.setTranslate(re,w(B,K.fraction),r.tickOffset+B.ticklen+B.font.size*n+r.labelOffset+O.currentValueTotalHeight)})}function R(_,B,N,O,U){var K=Math.round(O*(N._stepCount-1)),re=N._visibleSteps[K]._index;re!==N.active&&T(_,B,N,re,!0,U)}function T(_,B,N,O,U,K){var re=N.active;N.active=O,t(_.layout,r.name,N).applyUpdate("active",O);var ae=N.steps[N.active];B.call(P,N,K),B.call(l,N),_.emit("plotly_sliderchange",{slider:N,step:N.steps[N.active],interaction:U,previousActive:re}),ae&&ae.method&&U&&(B._nextMethod?(B._nextMethod.step=ae,B._nextMethod.doCallback=U,B._nextMethod.doTransition=K):(B._nextMethod={step:ae,doCallback:U,doTransition:K},B._nextMethodRaf=window.requestAnimationFrame(function(){var ue=B._nextMethod.step;ue.method&&(ue.execute&&C.executeAPICommand(_,ue.method,ue.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function E(_,B,N){if(B._context.staticPlot)return;var O=N.node(),U=y.select(B);function K(){return N.data()[0]}function re(){var ae=K();B.emit("plotly_sliderstart",{slider:ae});var ue=N.select("."+r.gripRectClass);y.event.stopPropagation(),y.event.preventDefault(),ue.call(a.fill,ae.activebgcolor);var ve=z(ae,y.mouse(O)[0]);R(B,N,ae,ve,!0),ae._dragging=!0;function ee(){var Q=K(),X=z(Q,y.mouse(O)[0]);R(B,N,Q,X,!1)}U.on("mousemove",ee),U.on("touchmove",ee);function J(){var Q=K();Q._dragging=!1,ue.call(a.fill,Q.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),B.emit("plotly_sliderend",{slider:Q,step:Q.steps[Q.active]})}U.on("mouseup",J),U.on("touchend",J)}_.on("mousedown",re),_.on("touchstart",re)}function A(_,B){var N=_.selectAll("rect."+r.tickRectClass).data(B._visibleSteps),O=B._dims;N.enter().append("rect").classed(r.tickRectClass,!0),N.exit().remove(),N.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),N.each(function(U,K){var re=K%O.labelStride===0,ae=y.select(this);ae.attr({height:re?B.ticklen:B.minorticklen}).call(a.fill,B.tickcolor),L.setTranslate(ae,w(B,K/(B._stepCount-1))-.5*B.tickwidth,(re?r.tickOffset:r.minorTickOffset)+O.currentValueTotalHeight)})}function f(_){var B=_._dims;B.labelSteps=[];for(var N=_._stepCount,O=0;O<N;O+=B.labelStride)B.labelSteps.push({fraction:O/(N-1),step:_._visibleSteps[O]})}function P(_,B,N){for(var O=_.select("rect."+r.gripRectClass),U=0,K=0;K<B._stepCount;K++)if(B._visibleSteps[K]._index===B.active){U=K;break}var re=w(B,U/(B._stepCount-1));if(!B._invokingCommand){var ae=O;N&&B.transition.duration>0&&(ae=ae.transition().duration(B.transition.duration).ease(B.transition.easing)),ae.attr("transform",h(re-r.gripWidth*.5,B._dims.currentValueTotalHeight))}}function w(_,B){var N=_._dims;return N.inputAreaStart+r.stepInset+(N.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,B))}function z(_,B){var N=_._dims;return Math.min(1,Math.max(0,(B-r.stepInset-N.inputAreaStart)/(N.inputAreaLength-2*r.stepInset-2*N.inputAreaStart)))}function F(_,B,N){var O=N._dims,U=x.ensureSingle(_,"rect",r.railTouchRectClass,function(K){K.call(E,B,_,N).style("pointer-events","all")});U.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,r.tickOffset+N.ticklen+O.labelHeight)}).call(a.fill,N.bgcolor).attr("opacity",0),L.setTranslate(U,0,O.currentValueTotalHeight)}function H(_,B){var N=B._dims,O=N.inputAreaLength-r.railInset*2,U=x.ensureSingle(_,"rect",r.railRectClass);U.attr({width:O,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),L.setTranslate(U,r.railInset,(N.inputAreaWidth-r.railWidth)*.5+N.currentValueTotalHeight)}},23243:function(W,V,e){var y=e(98292);W.exports={moduleType:"component",name:y.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(W,V,e){var y=e(39898),C=e(92770),a=e(74875),L=e(73972),x=e(71828),h=x.strTranslate,d=e(91424),t=e(7901),r=e(63893),u=e(37822),n=e(18783).OPPOSITE_SIDE,i=/ [XY][0-9]* /;function s(o,m,c){var b=c.propContainer,v=c.propName,l=c.placeholder,p=c.traceIndex,S=c.avoid||{},M=c.attributes,R=c.transform,T=c.containerGroup,E=o._fullLayout,A=1,f=!1,P=b.title,w=(P&&P.text?P.text:"").trim(),z=P&&P.font?P.font:{},F=z.family,H=z.size,_=z.color,B;v==="title.text"?B="titleText":v.indexOf("axis")!==-1?B="axisTitleText":v.indexOf("colorbar"!==-1)&&(B="colorbarTitleText");var N=o._context.edits[B];w===""?A=0:w.replace(i," % ")===l.replace(i," % ")&&(A=.2,f=!0,N||(w="")),c._meta?w=x.templateString(w,c._meta):E._meta&&(w=x.templateString(w,E._meta));var O=w||N,U;T||(T=x.ensureSingle(E._infolayer,"g","g-"+m),U=E._hColorbarMoveTitle);var K=T.selectAll("text").data(O?[0]:[]);if(K.enter().append("text"),K.text(w).attr("class",m),K.exit().remove(),!O)return T;function re(ee){x.syncOrAsync([ae,ue],ee)}function ae(ee){var J;return!R&&U&&(R={}),R?(J="",R.rotate&&(J+="rotate("+[R.rotate,M.x,M.y]+")"),(R.offset||U)&&(J+=h(0,(R.offset||0)-(U||0)))):J=null,ee.attr("transform",J),ee.style({"font-family":F,"font-size":y.round(H,2)+"px",fill:t.rgb(_),opacity:A*t.opacity(_),"font-weight":a.fontWeight}).attr(M).call(r.convertToTspans,o),a.previousPromises(o)}function ue(ee){var J=y.select(ee.node().parentNode);if(S&&S.selection&&S.side&&w){J.attr("transform",null);var Q=n[S.side],X=S.side==="left"||S.side==="top"?-1:1,q=C(S.pad)?S.pad:2,se=d.bBox(J.node()),Y={t:0,b:0,l:0,r:0},Z=o._fullLayout._reservedMargin;for(var ie in Z)for(var te in Z[ie]){var fe=Z[ie][te];Y[te]=Math.max(Y[te],fe)}var de={left:Y.l,top:Y.t,right:E.width-Y.r,bottom:E.height-Y.b},we=S.maxShift||X*(de[S.side]-se[S.side]),Ae=0;if(we<0)Ae=we;else{var Re=S.offsetLeft||0,Fe=S.offsetTop||0;se.left-=Re,se.right-=Re,se.top-=Fe,se.bottom-=Fe,S.selection.each(function(){var Te=d.bBox(this);x.bBoxIntersect(se,Te,q)&&(Ae=Math.max(Ae,X*(Te[S.side]-se[Q])+q))}),Ae=Math.min(we,Ae),b._titleScoot=Math.abs(Ae)}if(Ae>0||we<0){var Se={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[S.side];J.attr("transform",h(Se[0],Se[1]))}}}K.call(re);function ve(){A=0,f=!0,K.text(l).on("mouseover.opacity",function(){y.select(this).transition().duration(u.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){y.select(this).transition().duration(u.HIDE_PLACEHOLDER).style("opacity",0)})}return N&&(w?K.on(".opacity",null):ve(),K.call(r.makeEditable,{gd:o}).on("edit",function(ee){p!==void 0?L.call("_guiRestyle",o,v,ee,p):L.call("_guiRelayout",o,v,ee)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(re)}).on("input",function(ee){this.text(ee||" ").call(r.positionText,M.x,M.y)})),K.classed("js-placeholder",f),T}W.exports={draw:s}},7163:function(W,V,e){var y=e(41940),C=e(22399),a=e(1426).extendFlat,L=e(30962).overrideAll,x=e(35025),h=e(44467).templatedArray,d=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});W.exports=L(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(x({editType:"arraydraw"}),{}),font:y({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:C.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(W){W.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(W,V,e){var y=e(71828),C=e(85501),a=e(7163),L=e(75909),x=L.name,h=a.buttons;W.exports=function(u,n){var i={name:x,handleItemDefaults:d};C(u,n,i)};function d(r,u,n){function i(m,c){return y.coerce(r,u,a,m,c)}var s=C(r,u,{name:"buttons",handleItemDefaults:t}),o=i("visible",s.length>0);o&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),y.noneOrAll(r,u,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),y.coerceFont(i,"font",n.font),i("bgcolor",n.paper_bgcolor),i("bordercolor"),i("borderwidth"))}function t(r,u){function n(s,o){return y.coerce(r,u,h,s,o)}var i=n("visible",r.method==="skip"||Array.isArray(r.args));i&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(W,V,e){var y=e(39898),C=e(74875),a=e(7901),L=e(91424),x=e(71828),h=e(63893),d=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),u=e(25849);W.exports=function(z){var F=z._fullLayout,H=x.filterVisible(F[r.name]);function _(ue){C.autoMargin(z,A(ue))}var B=F._menulayer.selectAll("g."+r.containerClassName).data(H.length>0?[0]:[]);if(B.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),B.exit().each(function(){y.select(this).selectAll("g."+r.headerGroupClassName).each(_)}).remove(),H.length!==0){var N=B.selectAll("g."+r.headerGroupClassName).data(H,n);N.enter().append("g").classed(r.headerGroupClassName,!0);for(var O=x.ensureSingle(B,"g",r.dropdownButtonGroupClassName,function(ue){ue.style("pointer-events","all")}),U=0;U<H.length;U++){var K=H[U];E(z,K)}var re="updatemenus"+F._uid,ae=new u(z,O,re);N.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(P)),N.exit().each(function(ue){O.call(P),_(ue)}).remove(),N.each(function(ue){var ve=y.select(this),ee=ue.type==="dropdown"?O:null;C.manageCommandObserver(z,ue,ue.buttons,function(J){o(z,ue,ue.buttons[J.index],ve,ee,ae,J.index,!0)}),ue.type==="dropdown"?(m(z,ve,O,ae,ue),s(O,ue)&&c(z,ve,O,ae,ue)):c(z,ve,null,null,ue)})}};function n(w){return w._index}function i(w){return+w.attr(r.menuIndexAttrName)==-1}function s(w,z){return+w.attr(r.menuIndexAttrName)===z._index}function o(w,z,F,H,_,B,N,O){z.active=N,d(w.layout,r.name,z).applyUpdate("active",N),z.type==="buttons"?c(w,H,null,null,z):z.type==="dropdown"&&(_.attr(r.menuIndexAttrName,"-1"),m(w,H,_,B,z),O||c(w,H,_,B,z))}function m(w,z,F,H,_){var B=x.ensureSingle(z,"g",r.headerClassName,function(ue){ue.style("pointer-events","all")}),N=_._dims,O=_.active,U=_.buttons[O]||r.blankHeaderOpts,K={y:_.pad.t,yPad:0,x:_.pad.l,xPad:0,index:0},re={width:N.headerWidth,height:N.headerHeight};B.call(l,_,U,w).call(f,_,K,re);var ae=x.ensureSingle(z,"text",r.headerArrowClassName,function(ue){ue.attr("text-anchor","end").call(L.font,_.font).text(r.arrowSymbol[_.direction])});ae.attr({x:N.headerWidth-r.arrowOffsetX+_.pad.l,y:N.headerHeight/2+r.textOffsetY+_.pad.t}),B.on("click",function(){F.call(P,String(s(F,_)?-1:_._index)),c(w,z,F,H,_)}),B.on("mouseover",function(){B.call(R)}),B.on("mouseout",function(){B.call(T,_)}),L.setTranslate(z,N.lx,N.ly)}function c(w,z,F,H,_){F||(F=z,F.attr("pointer-events","all"));var B=!i(F)||_.type==="buttons"?_.buttons:[],N=_.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,O=F.selectAll("g."+N).data(x.filterVisible(B)),U=O.enter().append("g").classed(N,!0),K=O.exit();_.type==="dropdown"?(U.attr("opacity","0").transition().attr("opacity","1"),K.transition().attr("opacity","0").remove()):K.remove();var re=0,ae=0,ue=_._dims,ve=["up","down"].indexOf(_.direction)!==-1;_.type==="dropdown"&&(ve?ae=ue.headerHeight+r.gapButtonHeader:re=ue.headerWidth+r.gapButtonHeader),_.type==="dropdown"&&_.direction==="up"&&(ae=-r.gapButtonHeader+r.gapButton-ue.openHeight),_.type==="dropdown"&&_.direction==="left"&&(re=-r.gapButtonHeader+r.gapButton-ue.openWidth);var ee={x:ue.lx+re+_.pad.l,y:ue.ly+ae+_.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},J={l:ee.x+_.borderwidth,t:ee.y+_.borderwidth};O.each(function(Q,X){var q=y.select(this);q.call(l,_,Q,w).call(f,_,ee),q.on("click",function(){y.event.defaultPrevented||(Q.execute&&(Q.args2&&_.active===X?(o(w,_,Q,z,F,H,-1),C.executeAPICommand(w,Q.method,Q.args2)):(o(w,_,Q,z,F,H,X),C.executeAPICommand(w,Q.method,Q.args))),w.emit("plotly_buttonclicked",{menu:_,button:Q,active:_.active}))}),q.on("mouseover",function(){q.call(R)}),q.on("mouseout",function(){q.call(T,_),O.call(M,_)})}),O.call(M,_),ve?(J.w=Math.max(ue.openWidth,ue.headerWidth),J.h=ee.y-J.t):(J.w=ee.x-J.l,J.h=Math.max(ue.openHeight,ue.headerHeight)),J.direction=_.direction,H&&(O.size()?b(w,z,F,H,_,J):v(H))}function b(w,z,F,H,_,B){var N=_.direction,O=N==="up"||N==="down",U=_._dims,K=_.active,re,ae,ue;if(O)for(ae=0,ue=0;ue<K;ue++)ae+=U.heights[ue]+r.gapButton;else for(re=0,ue=0;ue<K;ue++)re+=U.widths[ue]+r.gapButton;H.enable(B,re,ae),H.hbar&&H.hbar.attr("opacity","0").transition().attr("opacity","1"),H.vbar&&H.vbar.attr("opacity","0").transition().attr("opacity","1")}function v(w){var z=!!w.hbar,F=!!w.vbar;z&&w.hbar.transition().attr("opacity","0").each("end",function(){z=!1,F||w.disable()}),F&&w.vbar.transition().attr("opacity","0").each("end",function(){F=!1,z||w.disable()})}function l(w,z,F,H){w.call(p,z).call(S,z,F,H)}function p(w,z){var F=x.ensureSingle(w,"rect",r.itemRectClassName,function(H){H.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});F.call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function S(w,z,F,H){var _=x.ensureSingle(w,"text",r.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),B=F.label,N=H._fullLayout._meta;N&&(B=x.templateString(B,N)),_.call(L.font,z.font).text(B).call(h.convertToTspans,H)}function M(w,z){var F=z.active;w.each(function(H,_){var B=y.select(this);_===F&&z.showactive&&B.select("rect."+r.itemRectClassName).call(a.fill,r.activeColor)})}function R(w){w.select("rect."+r.itemRectClassName).call(a.fill,r.hoverColor)}function T(w,z){w.select("rect."+r.itemRectClassName).call(a.fill,z.bgcolor)}function E(w,z){var F=z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},H=L.tester.selectAll("g."+r.dropdownButtonClassName).data(x.filterVisible(z.buttons));H.enter().append("g").classed(r.dropdownButtonClassName,!0);var _=["up","down"].indexOf(z.direction)!==-1;H.each(function(re,ae){var ue=y.select(this);ue.call(l,z,re,w);var ve=ue.select("."+r.itemTextClassName),ee=ve.node()&&L.bBox(ve.node()).width,J=Math.max(ee+r.textPadX,r.minWidth),Q=z.font.size*t,X=h.lineCount(ve),q=Math.max(Q*X,r.minHeight)+r.textOffsetY;q=Math.ceil(q),J=Math.ceil(J),F.widths[ae]=J,F.heights[ae]=q,F.height1=Math.max(F.height1,q),F.width1=Math.max(F.width1,J),_?(F.totalWidth=Math.max(F.totalWidth,J),F.openWidth=F.totalWidth,F.totalHeight+=q+r.gapButton,F.openHeight+=q+r.gapButton):(F.totalWidth+=J+r.gapButton,F.openWidth+=J+r.gapButton,F.totalHeight=Math.max(F.totalHeight,q),F.openHeight=F.totalHeight)}),_?F.totalHeight-=r.gapButton:F.totalWidth-=r.gapButton,F.headerWidth=F.width1+r.arrowPadX,F.headerHeight=F.height1,z.type==="dropdown"&&(_?(F.width1+=r.arrowPadX,F.totalHeight=F.height1):F.totalWidth=F.width1,F.totalWidth+=r.arrowPadX),H.remove();var B=F.totalWidth+z.pad.l+z.pad.r,N=F.totalHeight+z.pad.t+z.pad.b,O=w._fullLayout._size;F.lx=O.l+O.w*z.x,F.ly=O.t+O.h*(1-z.y);var U="left";x.isRightAnchor(z)&&(F.lx-=B,U="right"),x.isCenterAnchor(z)&&(F.lx-=B/2,U="center");var K="top";x.isBottomAnchor(z)&&(F.ly-=N,K="bottom"),x.isMiddleAnchor(z)&&(F.ly-=N/2,K="middle"),F.totalWidth=Math.ceil(F.totalWidth),F.totalHeight=Math.ceil(F.totalHeight),F.lx=Math.round(F.lx),F.ly=Math.round(F.ly),C.autoMargin(w,A(z),{x:z.x,y:z.y,l:B*({right:1,center:.5}[U]||0),r:B*({left:1,center:.5}[U]||0),b:N*({top:1,middle:.5}[K]||0),t:N*({bottom:1,middle:.5}[K]||0)})}function A(w){return r.autoMarginIdRoot+w._index}function f(w,z,F,H){H=H||{};var _=w.select("."+r.itemRectClassName),B=w.select("."+r.itemTextClassName),N=z.borderwidth,O=F.index,U=z._dims;L.setTranslate(w,N+F.x,N+F.y);var K=["up","down"].indexOf(z.direction)!==-1,re=H.height||(K?U.heights[O]:U.height1);_.attr({x:0,y:0,width:H.width||(K?U.width1:U.widths[O]),height:re});var ae=z.font.size*t,ue=h.lineCount(B),ve=(ue-1)*ae/2;h.positionText(B,r.textOffsetX,re/2-ve+r.textOffsetY),K?F.y+=U.heights[O]+F.yPad:F.x+=U.widths[O]+F.xPad,F.index++}function P(w,z){w.attr(r.menuIndexAttrName,z||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(W,V,e){var y=e(75909);W.exports={moduleType:"component",name:y.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(W,V,e){W.exports=x;var y=e(39898),C=e(7901),a=e(91424),L=e(71828);function x(h,d,t){this.gd=h,this.container=d,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}x.barWidth=2,x.barLength=20,x.barRadius=2,x.barPad=1,x.barColor="#808BA4",x.prototype.enable=function(d,t,r){var u=this.gd._fullLayout,n=u.width,i=u.height;this.position=d;var s=this.position.l,o=this.position.w,m=this.position.t,c=this.position.h,b=this.position.direction,v=b==="down",l=b==="left",p=b==="right",S=b==="up",M=o,R=c,T,E,A,f;!v&&!l&&!p&&!S&&(this.position.direction="down",v=!0);var P=v||S;P?(T=s,E=T+M,v?(A=m,f=Math.min(A+R,i),R=f-A):(f=m+R,A=Math.max(f-R,0),R=f-A)):(A=m,f=A+R,l?(E=s+M,T=Math.max(E-M,0),M=E-T):(T=s,E=Math.min(T+M,n),M=E-T)),this._box={l:T,t:A,w:M,h:R};var w=o>M,z=x.barLength+2*x.barPad,F=x.barWidth+2*x.barPad,H=s,_=m+c;_+F>i&&(_=i-F);var B=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(C.fill,x.barColor),w?(this.hbar=B.attr({rx:x.barRadius,ry:x.barRadius,x:H,y:_,width:z,height:F}),this._hbarXMin=H+z/2,this._hbarTranslateMax=M-z):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var N=c>R,O=x.barWidth+2*x.barPad,U=x.barLength+2*x.barPad,K=s+o,re=m;K+O>n&&(K=n-O);var ae=this.container.selectAll("rect.scrollbar-vertical").data(N?[0]:[]);ae.exit().on(".drag",null).remove(),ae.enter().append("rect").classed("scrollbar-vertical",!0).call(C.fill,x.barColor),N?(this.vbar=ae.attr({rx:x.barRadius,ry:x.barRadius,x:K,y:re,width:O,height:U}),this._vbarYMin=re+U/2,this._vbarTranslateMax=R-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ue=this.id,ve=T-.5,ee=N?E+O+.5:E+.5,J=A-.5,Q=w?f+F+.5:f+.5,X=u._topdefs.selectAll("#"+ue).data(w||N?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",ue).append("rect"),w||N?(this._clipRect=X.select("rect").attr({x:Math.floor(ve),y:Math.floor(J),width:Math.ceil(ee)-Math.floor(ve),height:Math.ceil(Q)-Math.floor(J)}),this.container.call(a.setClipUrl,ue,this.gd),this.bg.attr({x:s,y:m,width:o,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),w||N){var q=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var se=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault(),y.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(se),N&&this.vbar.on(".drag",null).call(se)}this.setTranslate(t,r)},x.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},x.prototype._onBoxDrag=function(){var d=this.translateX,t=this.translateY;this.hbar&&(d-=y.event.dx),this.vbar&&(t-=y.event.dy),this.setTranslate(d,t)},x.prototype._onBoxWheel=function(){var d=this.translateX,t=this.translateY;this.hbar&&(d+=y.event.deltaY),this.vbar&&(t+=y.event.deltaY),this.setTranslate(d,t)},x.prototype._onBarDrag=function(){var d=this.translateX,t=this.translateY;if(this.hbar){var r=d+this._hbarXMin,u=r+this._hbarTranslateMax,n=L.constrain(y.event.x,r,u),i=(n-r)/(u-r),s=this.position.w-this._box.w;d=i*s}if(this.vbar){var o=t+this._vbarYMin,m=o+this._vbarTranslateMax,c=L.constrain(y.event.y,o,m),b=(c-o)/(m-o),v=this.position.h-this._box.h;t=b*v}this.setTranslate(d,t)},x.prototype.setTranslate=function(d,t){var r=this.position.w-this._box.w,u=this.position.h-this._box.h;if(d=L.constrain(d||0,0,r),t=L.constrain(t||0,0,u),this.translateX=d,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=d/r;this.hbar.call(a.setTranslate,d+n*this._hbarTranslateMax,t)}if(this.vbar){var i=t/u;this.vbar.call(a.setTranslate,d,t+i*this._vbarTranslateMax)}}},18783:function(W){W.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(W){W.exports={axisRefDescription:function(V,e,y){return["If set to a",V,"axis id (e.g. *"+V+"* or","*"+V+"2*), the `"+V+"` position refers to a",V,"coordinate. If set to *paper*, the `"+V+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+y+"). If set to a",V,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+V+"2 domain* refers to the domain of the second",V," axis and a",V,"position of 0.5 refers to the","point between the",e,"and the",y,"of the domain of the","second",V,"axis."].join(" ")}}},22372:function(W){W.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(W){W.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(W){W.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(W){W.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(W){W.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(W){W.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(W){W.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(W,V){V.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],V.STYLE=V.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(W,V){V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},8729:function(W,V,e){V.version=e(11506).version,e(7417),e(98847);for(var y=e(73972),C=V.register=y.register,a=e(10641),L=Object.keys(a),x=0;x<L.length;x++){var h=L[x];h.charAt(0)!=="_"&&(V[h]=a[h]),C({moduleType:"apiMethod",name:h,fn:a[h]})}C(e(67368)),C([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),C([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(C(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=e(24255);var d=e(30211),t=e(74875);V.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},V.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},V.Snapshot=e(44511),V.PlotSchema=e(86281)},24255:function(W){W.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(W,V){V.isLeftAnchor=function(y){return y.xanchor==="left"||y.xanchor==="auto"&&y.x<=.3333333333333333},V.isCenterAnchor=function(y){return y.xanchor==="center"||y.xanchor==="auto"&&y.x>.3333333333333333&&y.x<.6666666666666666},V.isRightAnchor=function(y){return y.xanchor==="right"||y.xanchor==="auto"&&y.x>=.6666666666666666},V.isTopAnchor=function(y){return y.yanchor==="top"||y.yanchor==="auto"&&y.y>=.6666666666666666},V.isMiddleAnchor=function(y){return y.yanchor==="middle"||y.yanchor==="auto"&&y.y>.3333333333333333&&y.y<.6666666666666666},V.isBottomAnchor=function(y){return y.yanchor==="bottom"||y.yanchor==="auto"&&y.y<=.3333333333333333}},26348:function(W,V,e){var y=e(64872),C=y.mod,a=y.modHalf,L=Math.PI,x=2*L;function h(b){return b/180*L}function d(b){return b/L*180}function t(b){return Math.abs(b[1]-b[0])>x-1e-14}function r(b,v){return a(v-b,x)}function u(b,v){return Math.abs(r(b,v))}function n(b,v){if(t(v))return!0;var l,p;v[0]<v[1]?(l=v[0],p=v[1]):(l=v[1],p=v[0]),l=C(l,x),p=C(p,x),l>p&&(p+=x);var S=C(b,x),M=S+x;return S>=l&&S<=p||M>=l&&M<=p}function i(b,v,l,p){if(!n(v,p))return!1;var S,M;return l[0]<l[1]?(S=l[0],M=l[1]):(S=l[1],M=l[0]),b>=S&&b<=M}function s(b,v,l,p,S,M,R){S=S||0,M=M||0;var T=t([l,p]),E,A,f,P,w;T?(E=0,A=L,f=x):l<p?(E=l,f=p):(E=p,f=l),b<v?(P=b,w=v):(P=v,w=b);function z(B,N){return[B*Math.cos(N)+S,M-B*Math.sin(N)]}var F=Math.abs(f-E)<=L?0:1;function H(B,N,O){return"A"+[B,B]+" "+[0,F,O]+" "+z(B,N)}var _;return T?P===null?_="M"+z(w,E)+H(w,A,0)+H(w,f,0)+"Z":_="M"+z(P,E)+H(P,A,0)+H(P,f,0)+"ZM"+z(w,E)+H(w,A,1)+H(w,f,1)+"Z":P===null?(_="M"+z(w,E)+H(w,f,0),R&&(_+="L0,0Z")):_="M"+z(P,E)+"L"+z(w,E)+H(w,f,0)+"L"+z(P,f)+H(P,E,1)+"Z",_}function o(b,v,l,p,S){return s(null,b,v,l,p,S,0)}function m(b,v,l,p,S){return s(null,b,v,l,p,S,1)}function c(b,v,l,p,S,M){return s(b,v,l,p,S,M,1)}W.exports={deg2rad:h,rad2deg:d,angleDelta:r,angleDist:u,isFullCircle:t,isAngleInsideSector:n,isPtInsideSector:i,pathArc:o,pathSector:m,pathAnnulus:c}},73627:function(W,V){var e=Array.isArray,y=ArrayBuffer,C=DataView;function a(d){return y.isView(d)&&!(d instanceof C)}V.isTypedArray=a;function L(d){return e(d)||a(d)}V.isArrayOrTypedArray=L;function x(d){return!L(d[0])}V.isArray1D=x,V.ensureArray=function(d,t){return e(d)||(d=[]),d.length=t,d},V.concat=function(){var d=[],t=!0,r=0,u,n,i,s,o,m,c,b;for(i=0;i<arguments.length;i++)s=arguments[i],m=s.length,m&&(n?d.push(s):(n=s,o=m),e(s)?u=!1:(t=!1,r?u!==s.constructor&&(u=!1):u=s.constructor),r+=m);if(!r)return[];if(!d.length)return n;if(t)return n.concat.apply(n,d);if(u){for(c=new u(r),c.set(n),i=0;i<d.length;i++)s=d[i],c.set(s,o),o+=s.length;return c}for(c=new Array(r),b=0;b<n.length;b++)c[b]=n[b];for(i=0;i<d.length;i++){for(s=d[i],b=0;b<s.length;b++)c[o+b]=s[b];o+=b}return c},V.maxRowLength=function(d){return h(d,Math.max,0)},V.minRowLength=function(d){return h(d,Math.min,1/0)};function h(d,t,r){if(L(d))if(L(d[0])){for(var u=r,n=0;n<d.length;n++)u=t(u,d[n].length);return u}else return d.length;return 0}},95218:function(W,V,e){var y=e(92770),C=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;W.exports=function(x){return typeof x=="string"&&(x=x.replace(a,"")),y(x)?Number(x):C}},33306:function(W){W.exports=function(e){var y=e._fullLayout;y._glcanvas&&y._glcanvas.size()&&y._glcanvas.each(function(C){C.regl&&C.regl.clear({color:!0,depth:!0})})}},86367:function(W){W.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(W,V,e){var y=e(92770),C=e(84267),a=e(9012),L=e(63282),x=e(7901),h=e(37822).DESELECTDIM,d=e(65487),t=e(30587).counter,r=e(64872).modHalf,u=e(73627).isArrayOrTypedArray;V.valObjectMeta={data_array:{coerceFunction:function(i,s,o){u(i)?s.set(i):o!==void 0&&s.set(o)}},enumerated:{coerceFunction:function(i,s,o,m){m.coerceNumber&&(i=+i),m.values.indexOf(i)===-1?s.set(o):s.set(i)},validateFunction:function(i,s){s.coerceNumber&&(i=+i);for(var o=s.values,m=0;m<o.length;m++){var c=String(o[m]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var b=new RegExp(c.substr(1,c.length-2));if(b.test(i))return!0}else if(i===o[m])return!0}return!1}},boolean:{coerceFunction:function(i,s,o){i===!0||i===!1?s.set(i):s.set(o)}},number:{coerceFunction:function(i,s,o,m){!y(i)||m.min!==void 0&&i<m.min||m.max!==void 0&&i>m.max?s.set(o):s.set(+i)}},integer:{coerceFunction:function(i,s,o,m){i%1||!y(i)||m.min!==void 0&&i<m.min||m.max!==void 0&&i>m.max?s.set(o):s.set(+i)}},string:{coerceFunction:function(i,s,o,m){if(typeof i!="string"){var c=typeof i=="number";m.strict===!0||!c?s.set(o):s.set(String(i))}else m.noBlank&&!i?s.set(o):s.set(i)}},color:{coerceFunction:function(i,s,o){C(i).isValid()?s.set(i):s.set(o)}},colorlist:{coerceFunction:function(i,s,o){function m(c){return C(c).isValid()}!Array.isArray(i)||!i.length?s.set(o):i.every(m)?s.set(i):s.set(o)}},colorscale:{coerceFunction:function(i,s,o){s.set(L.get(i,o))}},angle:{coerceFunction:function(i,s,o){i==="auto"?s.set("auto"):y(i)?s.set(r(+i,360)):s.set(o)}},subplotid:{coerceFunction:function(i,s,o,m){var c=m.regex||t(o);if(typeof i=="string"&&c.test(i)){s.set(i);return}s.set(o)},validateFunction:function(i,s){var o=s.dflt;return i===o?!0:typeof i!="string"?!1:!!t(o).test(i)}},flaglist:{coerceFunction:function(i,s,o,m){if((m.extras||[]).indexOf(i)!==-1){s.set(i);return}if(typeof i!="string"){s.set(o);return}for(var c=i.split("+"),b=0;b<c.length;){var v=c[b];m.flags.indexOf(v)===-1||c.indexOf(v)<b?c.splice(b,1):b++}c.length?s.set(c.join("+")):s.set(o)}},any:{coerceFunction:function(i,s,o){i===void 0?s.set(o):s.set(i)}},info_array:{coerceFunction:function(i,s,o,m){function c(z,F,H){var _,B={set:function(N){_=N}};return H===void 0&&(H=F.dflt),V.valObjectMeta[F.valType].coerceFunction(z,B,H,F),_}var b=m.dimensions===2||m.dimensions==="1-2"&&Array.isArray(i)&&Array.isArray(i[0]);if(!Array.isArray(i)){s.set(o);return}var v=m.items,l=[],p=Array.isArray(v),S=p&&b&&Array.isArray(v[0]),M=b&&p&&!S,R=p&&!M?v.length:i.length,T,E,A,f,P,w;if(o=Array.isArray(o)?o:[],b)for(T=0;T<R;T++)for(l[T]=[],A=Array.isArray(i[T])?i[T]:[],M?P=v.length:p?P=v[T].length:P=A.length,E=0;E<P;E++)M?f=v[E]:p?f=v[T][E]:f=v,w=c(A[E],f,(o[T]||[])[E]),w!==void 0&&(l[T][E]=w);else for(T=0;T<R;T++)w=c(i[T],p?v[T]:v,o[T]),w!==void 0&&(l[T]=w);s.set(l)},validateFunction:function(i,s){if(!Array.isArray(i))return!1;var o=s.items,m=Array.isArray(o),c=s.dimensions===2;if(!s.freeLength&&i.length!==o.length)return!1;for(var b=0;b<i.length;b++)if(c){if(!Array.isArray(i[b])||!s.freeLength&&i[b].length!==o[b].length)return!1;for(var v=0;v<i[b].length;v++)if(!n(i[b][v],m?o[b][v]:o))return!1}else if(!n(i[b],m?o[b]:o))return!1;return!0}}},V.coerce=function(i,s,o,m,c){var b=d(o,m).get(),v=d(i,m),l=d(s,m),p=v.get(),S=s._template;if(p===void 0&&S&&(p=d(S,m).get(),S=0),c===void 0&&(c=b.dflt),b.arrayOk&&u(p))return l.set(p),p;var M=V.valObjectMeta[b.valType].coerceFunction;M(p,l,c,b);var R=l.get();return S&&R===c&&!n(p,b)&&(p=d(S,m).get(),M(p,l,c,b),R=l.get()),R},V.coerce2=function(i,s,o,m,c){var b=d(i,m),v=V.coerce(i,s,o,m,c),l=b.get();return l!=null?v:!1},V.coerceFont=function(i,s,o){var m={};return o=o||{},m.family=i(s+".family",o.family),m.size=i(s+".size",o.size),m.color=i(s+".color",o.color),m},V.coercePattern=function(i,s,o,m){var c=i(s+".shape");if(c){i(s+".solidity"),i(s+".size");var b=i(s+".fillmode"),v=b==="overlay";if(!m){var l=i(s+".bgcolor",v?o:void 0);i(s+".fgcolor",v?x.contrast(l):o)}i(s+".fgopacity",v?.5:1)}},V.coerceHoverinfo=function(i,s,o){var m=s._module.attributes,c=m.hoverinfo?m:a,b=c.hoverinfo,v;if(o._dataLength===1){var l=b.dflt==="all"?b.flags.slice():b.dflt.split("+");l.splice(l.indexOf("name"),1),v=l.join("+")}return V.coerce(i,s,c,"hoverinfo",v)},V.coerceSelectionMarkerOpacity=function(i,s){if(i.marker){var o=i.marker.opacity;if(o!==void 0){var m,c;!u(o)&&!i.selected&&!i.unselected&&(m=o,c=h*o),s("selected.marker.opacity",m),s("unselected.marker.opacity",c)}}};function n(i,s){var o=V.valObjectMeta[s.valType];if(s.arrayOk&&u(i))return!0;if(o.validateFunction)return o.validateFunction(i,s);var m={},c=m,b={set:function(v){c=v}};return o.coerceFunction(i,b,m,s),c!==m}V.validate=n},41631:function(W,V,e){var y=e(84096).i$,C=e(92770),a=e(47769),L=e(64872).mod,x=e(50606),h=x.BADNUM,d=x.ONEDAY,t=x.ONEHOUR,r=x.ONEMIN,u=x.ONESEC,n=x.EPOCHJD,i=e(73972),s=e(84096).g0,o=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function b(_){return _&&i.componentsRegistry.calendars&&typeof _=="string"&&_!=="gregorian"}V.dateTick0=function(_,B){var N=v(_,!!B);if(B<2)return N;var O=V.dateTime2ms(N,_);return O+=d*(B-1),V.ms2DateTime(O,0,_)};function v(_,B){return b(_)?B?i.getComponentMethod("calendars","CANONICAL_SUNDAY")[_]:i.getComponentMethod("calendars","CANONICAL_TICK")[_]:B?"2000-01-02":"2000-01-01"}V.dfltRange=function(_){return b(_)?i.getComponentMethod("calendars","DFLTRANGE")[_]:["2000-01-01","2001-01-01"]},V.isJSDate=function(_){return typeof _=="object"&&_!==null&&typeof _.getTime=="function"};var l,p;V.dateTime2ms=function(_,B){if(V.isJSDate(_)){var N=_.getTimezoneOffset()*r,O=(_.getUTCMinutes()-_.getMinutes())*r+(_.getUTCSeconds()-_.getSeconds())*u+(_.getUTCMilliseconds()-_.getMilliseconds());if(O){var U=3*r;N=N-U/2+L(O-N+U/2,U)}return _=Number(_)-N,_>=l&&_<=p?_:h}if(typeof _!="string"&&typeof _!="number")return h;_=String(_);var K=b(B),re=_.charAt(0);K&&(re==="G"||re==="g")&&(_=_.substr(1),B="");var ae=K&&B.substr(0,7)==="chinese",ue=_.match(ae?m:o);if(!ue)return h;var ve=ue[1],ee=ue[3]||"1",J=Number(ue[5]||1),Q=Number(ue[7]||0),X=Number(ue[9]||0),q=Number(ue[11]||0);if(K){if(ve.length===2)return h;ve=Number(ve);var se;try{var Y=i.getComponentMethod("calendars","getCal")(B);if(ae){var Z=ee.charAt(ee.length-1)==="i";ee=parseInt(ee,10),se=Y.newDate(ve,Y.toMonthIndex(ve,ee,Z),J)}else se=Y.newDate(ve,Number(ee),J)}catch{return h}return se?(se.toJD()-n)*d+Q*t+X*r+q*u:h}ve.length===2?ve=(Number(ve)+2e3-c)%100+c:ve=Number(ve),ee-=1;var ie=new Date(Date.UTC(2e3,ee,J,Q,X));return ie.setUTCFullYear(ve),ie.getUTCMonth()!==ee||ie.getUTCDate()!==J?h:ie.getTime()+q*u},l=V.MIN_MS=V.dateTime2ms("-9999"),p=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(_,B){return V.dateTime2ms(_,B)!==h};function S(_,B){return String(_+Math.pow(10,B)).substr(1)}var M=90*d,R=3*t,T=5*r;V.ms2DateTime=function(_,B,N){if(typeof _!="number"||!(_>=l&&_<=p))return h;B||(B=0);var O=Math.floor(L(_+.05,1)*10),U=Math.round(_-O/10),K,re,ae,ue,ve,ee;if(b(N)){var J=Math.floor(U/d)+n,Q=Math.floor(L(_,d));try{K=i.getComponentMethod("calendars","getCal")(N).fromJD(J).formatDate("yyyy-mm-dd")}catch{K=s("G%Y-%m-%d")(new Date(U))}if(K.charAt(0)==="-")for(;K.length<11;)K="-0"+K.substr(1);else for(;K.length<10;)K="0"+K;re=B<M?Math.floor(Q/t):0,ae=B<M?Math.floor(Q%t/r):0,ue=B<R?Math.floor(Q%r/u):0,ve=B<T?Q%u*10+O:0}else ee=new Date(U),K=s("%Y-%m-%d")(ee),re=B<M?ee.getUTCHours():0,ae=B<M?ee.getUTCMinutes():0,ue=B<R?ee.getUTCSeconds():0,ve=B<T?ee.getUTCMilliseconds()*10+O:0;return E(K,re,ae,ue,ve)},V.ms2DateTimeLocal=function(_){if(!(_>=l+d&&_<=p-d))return h;var B=Math.floor(L(_+.05,1)*10),N=new Date(Math.round(_-B/10)),O=y("%Y-%m-%d")(N),U=N.getHours(),K=N.getMinutes(),re=N.getSeconds(),ae=N.getUTCMilliseconds()*10+B;return E(O,U,K,re,ae)};function E(_,B,N,O,U){if((B||N||O||U)&&(_+=" "+S(B,2)+":"+S(N,2),(O||U)&&(_+=":"+S(O,2),U))){for(var K=4;U%10===0;)K-=1,U/=10;_+="."+S(U,K)}return _}V.cleanDate=function(_,B,N){if(_===h)return B;if(V.isJSDate(_)||typeof _=="number"&&isFinite(_)){if(b(N))return a.error("JS Dates and milliseconds are incompatible with world calendars",_),B;if(_=V.ms2DateTimeLocal(+_),!_&&B!==void 0)return B}else if(!V.isDateTime(_,N))return a.error("unrecognized date",_),B;return _};var A=/%\d?f/g,f=/%h/g,P={1:"1",2:"1",3:"2",4:"2"};function w(_,B,N,O){_=_.replace(A,function(K){var re=Math.min(+K.charAt(1)||6,6),ae=(B/1e3%1+2).toFixed(re).substr(2).replace(/0+$/,"")||"0";return ae});var U=new Date(Math.floor(B+.05));if(_=_.replace(f,function(){return P[N("%q")(U)]}),b(O))try{_=i.getComponentMethod("calendars","worldCalFmt")(_,B,O)}catch{return"Invalid"}return N(_)(U)}var z=[59,59.9,59.99,59.999,59.9999];function F(_,B){var N=L(_+.05,d),O=S(Math.floor(N/t),2)+":"+S(L(Math.floor(N/r),60),2);if(B!=="M"){C(B)||(B=0);var U=Math.min(L(_/u,60),z[B]),K=(100+U).toFixed(B).substr(1);B>0&&(K=K.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+K}return O}V.formatDate=function(_,B,N,O,U,K){if(U=b(U)&&U,!B)if(N==="y")B=K.year;else if(N==="m")B=K.month;else if(N==="d")B=K.dayMonth+`
`+K.year;else return F(_,N)+`
`+w(K.dayMonthYear,_,O,U);return w(B,_,O,U)};var H=3*d;V.incrementMonth=function(_,B,N){N=b(N)&&N;var O=L(_,d);if(_=Math.round(_-O),N)try{var U=Math.round(_/d)+n,K=i.getComponentMethod("calendars","getCal")(N),re=K.fromJD(U);return B%12?K.add(re,B,"m"):K.add(re,B/12,"y"),(re.toJD()-n)*d+O}catch{a.error("invalid ms "+_+" in calendar "+N)}var ae=new Date(_+H);return ae.setUTCMonth(ae.getUTCMonth()+B)+O-H},V.findExactDates=function(_,B){for(var N=0,O=0,U=0,K=0,re,ae,ue=b(B)&&i.getComponentMethod("calendars","getCal")(B),ve=0;ve<_.length;ve++){if(ae=_[ve],!C(ae)){K++;continue}if(!(ae%d))if(ue)try{re=ue.fromJD(ae/d+n),re.day()===1?re.month()===1?N++:O++:U++}catch{}else re=new Date(ae),re.getUTCDate()===1?re.getUTCMonth()===0?N++:O++:U++}O+=N,U+=O;var ee=_.length-K;return{exactYears:N/ee,exactMonths:O/ee,exactDays:U/ee}}},24401:function(W,V,e){var y=e(39898),C=e(47769),a=e(35657),L=e(79576);function x(c){var b;if(typeof c=="string"){if(b=document.getElementById(c),b===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return b}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function h(c){var b=y.select(c);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")}function d(c){var b=c&&c.parentNode;b&&b.removeChild(c)}function t(c,b){r("global",c,b)}function r(c,b,v){var l="plotly.js-style-"+c,p=document.getElementById(l);p||(p=document.createElement("style"),p.setAttribute("id",l),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var S=p.sheet;S.insertRule?S.insertRule(b+"{"+v+"}",0):S.addRule?S.addRule(b,v,0):C.warn("addStyleRule failed")}function u(c){var b="plotly.js-style-"+c,v=document.getElementById(b);v&&d(v)}function n(c){var b=s(c),v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(l){var p=i(l);if(p){var S=a.convertCssMatrix(p);v=L.multiply(v,v,S)}}),v}function i(c){var b=window.getComputedStyle(c,null),v=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return v==="none"?null:v.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function s(c){for(var b=[];o(c);)b.push(c),c=c.parentNode;return b}function o(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function m(c,b){return c&&b&&c.top===b.top&&c.left===b.left&&c.right===b.right&&c.bottom===b.bottom}W.exports={getGraphDiv:x,isPlotDiv:h,removeElement:d,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:u,getFullTransformMatrix:n,getElementTransformMatrix:i,getElementAndAncestors:s,equalDomRects:m}},11086:function(W,V,e){var y=e(15398).EventEmitter,C={init:function(a){if(a._ev instanceof y)return a;var L=new y,x=new y;return a._ev=L,a._internalEv=x,a.on=L.on.bind(L),a.once=L.once.bind(L),a.removeListener=L.removeListener.bind(L),a.removeAllListeners=L.removeAllListeners.bind(L),a._internalOn=x.on.bind(x),a._internalOnce=x.once.bind(x),a._removeInternalListener=x.removeListener.bind(x),a._removeAllInternalListeners=x.removeAllListeners.bind(x),a.emit=function(h,d){typeof jQuery<"u"&&jQuery(a).trigger(h,d),L.emit(h,d),x.emit(h,d)},a},triggerHandler:function(a,L,x){var h,d;typeof jQuery<"u"&&(h=jQuery(a).triggerHandler(L,x));var t=a._ev;if(!t)return h;var r=t._events[L];if(!r)return h;function u(i){if(i.listener){if(t.removeListener(L,i.listener),!i.fired)return i.fired=!0,i.listener.apply(t,[x])}else return i.apply(t,[x])}r=Array.isArray(r)?r:[r];var n;for(n=0;n<r.length-1;n++)u(r[n]);return d=u(r[n]),h!==void 0?h:d},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};W.exports=C},1426:function(W,V,e){var y=e(41965),C=Array.isArray;function a(x,h){var d,t;for(d=0;d<x.length;d++){if(t=x[d],t!==null&&typeof t=="object")return!1;t!==void 0&&(h[d]=t)}return!0}V.extendFlat=function(){return L(arguments,!1,!1,!1)},V.extendDeep=function(){return L(arguments,!0,!1,!1)},V.extendDeepAll=function(){return L(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(x,h,d,t){var r=x[0],u=x.length,n,i,s,o,m,c,b;if(u===2&&C(r)&&C(x[1])&&r.length===0){if(b=a(x[1],r),b)return r;r.splice(0,r.length)}for(var v=1;v<u;v++){n=x[v];for(i in n)s=r[i],o=n[i],t&&C(o)?r[i]=o:h&&o&&(y(o)||(m=C(o)))?(m?(m=!1,c=s&&C(s)?s:[]):c=s&&y(s)?s:{},r[i]=L([c,o],h,d,t)):(typeof o<"u"||d)&&(r[i]=o)}return r}},75744:function(W){W.exports=function(e){for(var y={},C=[],a=0,L=0;L<e.length;L++){var x=e[L];y[x]!==1&&(y[x]=1,C[a++]=x)}return C}},76756:function(W){W.exports=function(a){for(var L=y(a)?e:V,x=[],h=0;h<a.length;h++){var d=a[h];L(d)&&x.push(d)}return x};function V(C){return C.visible===!0}function e(C){var a=C[0].trace;return a.visible===!0&&a._length!==0}function y(C){return Array.isArray(C)&&Array.isArray(C[0])&&C[0][0]&&C[0][0].trace}},41327:function(W,V,e){var y=e(39898),C=e(24138),a=e(30774),L=e(29261),x=e(85268),h=e(23389),d=e(47769),t=e(41965),r=e(65487),u=e(61082),n=Object.keys(C),i={"ISO-3":h,"USA-states":h,"country names":s};function s(S){for(var M=0;M<n.length;M++){var R=n[M],T=new RegExp(C[R]);if(T.test(S.trim().toLowerCase()))return R}return d.log("Unrecognized country name: "+S+"."),!1}function o(S,M,R){if(!M||typeof M!="string")return!1;var T=i[S](M),E,A,f;if(T){if(S==="USA-states")for(E=[],f=0;f<R.length;f++)A=R[f],A.properties&&A.properties.gu&&A.properties.gu==="USA"&&E.push(A);else E=R;for(f=0;f<E.length;f++)if(A=E[f],A.id===T)return A;d.log(["Location with id",T,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(S){var M=S.geometry,R=M.coordinates,T=S.id,E=[],A,f,P,w;function z(F){for(var H=0;H<F.length-1;H++)if(F[H][0]>0&&F[H+1][0]<0)return H;return null}switch(T==="RUS"||T==="FJI"?A=function(F){var H;if(z(F)===null)H=F;else for(H=new Array(F.length),w=0;w<F.length;w++)H[w]=[F[w][0]<0?F[w][0]+360:F[w][0],F[w][1]];E.push(u.tester(H))}:T==="ATA"?A=function(F){var H=z(F);if(H===null)return E.push(u.tester(F));var _=new Array(F.length+1),B=0;for(w=0;w<F.length;w++)w>H?_[B++]=[F[w][0]+360,F[w][1]]:w===H?(_[B++]=F[w],_[B++]=[F[w][0],-90]):_[B++]=F[w];var N=u.tester(_);N.pts.pop(),E.push(N)}:A=function(F){E.push(u.tester(F))},M.type){case"MultiPolygon":for(f=0;f<R.length;f++)for(P=0;P<R[f].length;P++)A(R[f][P]);break;case"Polygon":for(f=0;f<R.length;f++)A(R[f]);break}return E}function c(S){var M=S.geojson,R=window.PlotlyGeoAssets||{},T=typeof M=="string"?R[M]:M;return t(T)?T:(d.error("Oops ... something went wrong when fetching "+M),!1)}function b(S){var M=S[0].trace,R=c(M);if(!R)return!1;var T={},E=[],A;for(A=0;A<M._length;A++){var f=S[A];(f.loc||f.loc===0)&&(T[f.loc]=f)}function P(F){var H=r(F,M.featureidkey||"id").get(),_=T[H];if(_){var B=F.geometry;if(B.type==="Polygon"||B.type==="MultiPolygon"){var N={type:"Feature",id:H,geometry:B,properties:{}};N.properties.ct=v(N),_.fIn=F,_.fOut=N,E.push(N)}else d.log(["Location",_.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete T[H]}switch(R.type){case"FeatureCollection":var w=R.features;for(A=0;A<w.length;A++)P(w[A]);break;case"Feature":P(R);break;default:return d.warn(["Invalid GeoJSON type",(R.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var z in T)d.log(["Location *"+z+"*","does not have a matching feature with id-key","*"+M.featureidkey+"*."].join(" "));return E}function v(S){var M=S.geometry,R;if(M.type==="MultiPolygon")for(var T=M.coordinates,E=0,A=0;A<T.length;A++){var f={type:"Polygon",coordinates:T[A]},P=a.default(f);P>E&&(E=P,R=f)}else R=M;return L.default(R).geometry.coordinates}function l(S){var M=window.PlotlyGeoAssets||{},R=[];function T(w){return new Promise(function(z,F){y.json(w,function(H,_){if(H){delete M[w];var B=H.status===404?'GeoJSON at URL "'+w+'" does not exist.':"Unexpected error while fetching from "+w;return F(new Error(B))}return M[w]=_,z(_)})})}function E(w){return new Promise(function(z,F){var H=0,_=setInterval(function(){if(M[w]&&M[w]!=="pending")return clearInterval(_),z(M[w]);if(H>100)return clearInterval(_),F("Unexpected error while fetching from "+w);H++},50)})}for(var A=0;A<S.length;A++){var f=S[A][0].trace,P=f.geojson;typeof P=="string"&&(M[P]?M[P]==="pending"&&R.push(E(P)):(M[P]="pending",R.push(T(P))))}return R}function p(S){return x.default(S)}W.exports={locationToFeature:o,feature2polygons:m,getTraceGeojson:c,extractTraceFeature:b,fetchTraceGeoData:l,computeBbox:p}},18214:function(W,V,e){var y=e(50606).BADNUM;V.calcTraceToLineCoords=function(C){for(var a=C[0].trace,L=a.connectgaps,x=[],h=[],d=0;d<C.length;d++){var t=C[d],r=t.lonlat;r[0]!==y?h.push(r):!L&&h.length>0&&(x.push(h),h=[])}return h.length>0&&x.push(h),x},V.makeLine=function(C){return C.length===1?{type:"LineString",coordinates:C[0]}:{type:"MultiLineString",coordinates:C}},V.makePolygon=function(C){if(C.length===1)return{type:"Polygon",coordinates:C};for(var a=new Array(C.length),L=0;L<C.length;L++)a[L]=[C[L]];return{type:"MultiPolygon",coordinates:a}},V.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(W,V,e){var y=e(64872).mod;V.segmentsIntersect=C;function C(d,t,r,u,n,i,s,o){var m=r-d,c=n-d,b=s-n,v=u-t,l=i-t,p=o-i,S=m*p-b*v;if(S===0)return null;var M=(c*p-b*l)/S,R=(c*v-m*l)/S;return R<0||R>1||M<0||M>1?null:{x:d+m*M,y:t+v*M}}V.segmentDistance=function(t,r,u,n,i,s,o,m){if(C(t,r,u,n,i,s,o,m))return 0;var c=u-t,b=n-r,v=o-i,l=m-s,p=c*c+b*b,S=v*v+l*l,M=Math.min(a(c,b,p,i-t,s-r),a(c,b,p,o-t,m-r),a(v,l,S,t-i,r-s),a(v,l,S,u-i,n-s));return Math.sqrt(M)};function a(d,t,r,u,n){var i=u*d+n*t;if(i<0)return u*u+n*n;if(i>r){var s=u-d,o=n-t;return s*s+o*o}else{var m=u*t-n*d;return m*m/r}}var L,x,h;V.getTextLocation=function(t,r,u,n){if((t!==x||n!==h)&&(L={},x=t,h=n),L[u])return L[u];var i=t.getPointAtLength(y(u-n/2,r)),s=t.getPointAtLength(y(u+n/2,r)),o=Math.atan((s.y-i.y)/(s.x-i.x)),m=t.getPointAtLength(y(u,r)),c=(m.x*4+i.x+s.x)/6,b=(m.y*4+i.y+s.y)/6,v={x:c,y:b,theta:o};return L[u]=v,v},V.clearLocationCache=function(){x=null},V.getVisibleSegment=function(t,r,u){var n=r.left,i=r.right,s=r.top,o=r.bottom,m=0,c=t.getTotalLength(),b=c,v,l;function p(M){var R=t.getPointAtLength(M);M===0?v=R:M===c&&(l=R);var T=R.x<n?n-R.x:R.x>i?R.x-i:0,E=R.y<s?s-R.y:R.y>o?R.y-o:0;return Math.sqrt(T*T+E*E)}for(var S=p(m);S;){if(m+=S+u,m>b)return;S=p(m)}for(S=p(b);S;){if(b-=S+u,m>b)return;S=p(b)}return{min:m,max:b,len:b-m,total:c,isClosed:m===0&&b===c&&Math.abs(v.x-l.x)<.1&&Math.abs(v.y-l.y)<.1}},V.findPointOnPath=function(t,r,u,n){n=n||{};for(var i=n.pathLength||t.getTotalLength(),s=n.tolerance||.001,o=n.iterationLimit||30,m=t.getPointAtLength(0)[u]>t.getPointAtLength(i)[u]?-1:1,c=0,b=0,v=i,l,p,S;c<o;){if(l=(b+v)/2,p=t.getPointAtLength(l),S=p[u]-r,Math.abs(S)<s)return p;m*S>0?v=l:b=l,c++}return p}},81697:function(W,V,e){var y=e(92770),C=e(84267),a=e(25075),L=e(21081),x=e(22399).defaultLine,h=e(73627).isArrayOrTypedArray,d=a(x),t=1;function r(o,m){var c=o;return c[3]*=m,c}function u(o){if(y(o))return d;var m=a(o);return m.length?m:d}function n(o){return y(o)?o:t}function i(o,m,c){var b=o.color,v=h(b),l=h(m),p=L.extractOpts(o),S=[],M,R,T,E,A;if(p.colorscale!==void 0?M=L.makeColorScaleFuncFromTrace(o):M=u,v?R=function(P,w){return P[w]===void 0?d:a(M(P[w]))}:R=u,l?T=function(P,w){return P[w]===void 0?t:n(P[w])}:T=n,v||l)for(var f=0;f<c;f++)E=R(b,f),A=T(m,f),S[f]=r(E,A);else S=r(a(b),m);return S}function s(o){var m=L.extractOpts(o),c=m.colorscale;return m.reversescale&&(c=L.flipScale(m.colorscale)),c.map(function(b){var v=b[0],l=C(b[1]),p=l.toRgb();return{index:v,rgb:[p.r,p.g,p.b,p.a]}})}W.exports={formatColor:i,parseColorScale:s}},28984:function(W,V,e){var y=e(23389);function C(a){return[a]}W.exports={keyFun:function(a){return a.key},repeat:C,descend:y,wrap:C,unwrap:function(a){return a[0]}}},23389:function(W){W.exports=function(e){return e}},39240:function(W){W.exports=function(e,y){if(!y)return e;var C=1/Math.abs(y),a=C>1?(C*e+C*y)/C:e+y,L=String(a).length;if(L>16){var x=String(y).length,h=String(e).length;if(L>=h+x){var d=parseFloat(a).toPrecision(12);d.indexOf("e+")===-1&&(a=+d)}}return a}},71828:function(W,V,e){var y=e(39898),C=e(84096).g0,a=e(60721).WU,L=e(92770),x=e(50606),h=x.FP_SAFE,d=-h,t=x.BADNUM,r=W.exports={};r.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var u={};r.warnBadFormat=function(q){var se=String(q);u[se]||(u[se]=1,r.warn('encountered bad format: "'+se+'"'))},r.noFormat=function(q){return String(q)},r.numberFormat=function(q){var se;try{se=a(r.adjustFormat(q))}catch{return r.warnBadFormat(q),r.noFormat}return se},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var n=e(73627);r.isTypedArray=n.isTypedArray,r.isArrayOrTypedArray=n.isArrayOrTypedArray,r.isArray1D=n.isArray1D,r.ensureArray=n.ensureArray,r.concat=n.concat,r.maxRowLength=n.maxRowLength,r.minRowLength=n.minRowLength;var i=e(64872);r.mod=i.mod,r.modHalf=i.modHalf;var s=e(96554);r.valObjectMeta=s.valObjectMeta,r.coerce=s.coerce,r.coerce2=s.coerce2,r.coerceFont=s.coerceFont,r.coercePattern=s.coercePattern,r.coerceHoverinfo=s.coerceHoverinfo,r.coerceSelectionMarkerOpacity=s.coerceSelectionMarkerOpacity,r.validate=s.validate;var o=e(41631);r.dateTime2ms=o.dateTime2ms,r.isDateTime=o.isDateTime,r.ms2DateTime=o.ms2DateTime,r.ms2DateTimeLocal=o.ms2DateTimeLocal,r.cleanDate=o.cleanDate,r.isJSDate=o.isJSDate,r.formatDate=o.formatDate,r.incrementMonth=o.incrementMonth,r.dateTick0=o.dateTick0,r.dfltRange=o.dfltRange,r.findExactDates=o.findExactDates,r.MIN_MS=o.MIN_MS,r.MAX_MS=o.MAX_MS;var m=e(65888);r.findBin=m.findBin,r.sorterAsc=m.sorterAsc,r.sorterDes=m.sorterDes,r.distinctVals=m.distinctVals,r.roundUp=m.roundUp,r.sort=m.sort,r.findIndexOfMin=m.findIndexOfMin,r.sortObjectKeys=e(78607);var c=e(80038);r.aggNums=c.aggNums,r.len=c.len,r.mean=c.mean,r.median=c.median,r.midRange=c.midRange,r.variance=c.variance,r.stdev=c.stdev,r.interp=c.interp;var b=e(35657);r.init2dArray=b.init2dArray,r.transposeRagged=b.transposeRagged,r.dot=b.dot,r.translationMatrix=b.translationMatrix,r.rotationMatrix=b.rotationMatrix,r.rotationXYMatrix=b.rotationXYMatrix,r.apply3DTransform=b.apply3DTransform,r.apply2DTransform=b.apply2DTransform,r.apply2DTransform2=b.apply2DTransform2,r.convertCssMatrix=b.convertCssMatrix,r.inverseTransformMatrix=b.inverseTransformMatrix;var v=e(26348);r.deg2rad=v.deg2rad,r.rad2deg=v.rad2deg,r.angleDelta=v.angleDelta,r.angleDist=v.angleDist,r.isFullCircle=v.isFullCircle,r.isAngleInsideSector=v.isAngleInsideSector,r.isPtInsideSector=v.isPtInsideSector,r.pathArc=v.pathArc,r.pathSector=v.pathSector,r.pathAnnulus=v.pathAnnulus;var l=e(99863);r.isLeftAnchor=l.isLeftAnchor,r.isCenterAnchor=l.isCenterAnchor,r.isRightAnchor=l.isRightAnchor,r.isTopAnchor=l.isTopAnchor,r.isMiddleAnchor=l.isMiddleAnchor,r.isBottomAnchor=l.isBottomAnchor;var p=e(87642);r.segmentsIntersect=p.segmentsIntersect,r.segmentDistance=p.segmentDistance,r.getTextLocation=p.getTextLocation,r.clearLocationCache=p.clearLocationCache,r.getVisibleSegment=p.getVisibleSegment,r.findPointOnPath=p.findPointOnPath;var S=e(1426);r.extendFlat=S.extendFlat,r.extendDeep=S.extendDeep,r.extendDeepAll=S.extendDeepAll,r.extendDeepNoArrays=S.extendDeepNoArrays;var M=e(47769);r.log=M.log,r.warn=M.warn,r.error=M.error;var R=e(30587);r.counterRegex=R.counter;var T=e(79990);r.throttle=T.throttle,r.throttleDone=T.done,r.clearThrottle=T.clear;var E=e(24401);r.getGraphDiv=E.getGraphDiv,r.isPlotDiv=E.isPlotDiv,r.removeElement=E.removeElement,r.addStyleRule=E.addStyleRule,r.addRelatedStyleRule=E.addRelatedStyleRule,r.deleteRelatedStyleRule=E.deleteRelatedStyleRule,r.getFullTransformMatrix=E.getFullTransformMatrix,r.getElementTransformMatrix=E.getElementTransformMatrix,r.getElementAndAncestors=E.getElementAndAncestors,r.equalDomRects=E.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(se){return L(se)?(se=Number(se),se>h||se<d?t:se):t},r.isIndex=function(q,se){return se!==void 0&&q>=se?!1:L(q)&&q>=0&&q%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(q,se){for(var Y=new Array(se),Z=0;Z<se;Z++)Y[Z]=q;return Y},r.swapAttrs=function(q,se,Y,Z){Y||(Y="x"),Z||(Z="y");for(var ie=0;ie<se.length;ie++){var te=se[ie],fe=r.nestedProperty(q,te.replace("?",Y)),de=r.nestedProperty(q,te.replace("?",Z)),we=fe.get();fe.set(de.get()),de.set(we)}},r.raiseToTop=function(se){se.parentNode.appendChild(se)},r.cancelTransition=function(q){return q.transition().duration(0)},r.constrain=function(q,se,Y){return se>Y?Math.max(Y,Math.min(se,q)):Math.max(se,Math.min(Y,q))},r.bBoxIntersect=function(q,se,Y){return Y=Y||0,q.left<=se.right+Y&&se.left<=q.right+Y&&q.top<=se.bottom+Y&&se.top<=q.bottom+Y},r.simpleMap=function(q,se,Y,Z,ie){for(var te=q.length,fe=new Array(te),de=0;de<te;de++)fe[de]=se(q[de],Y,Z,ie);return fe},r.randstr=function q(se,Y,Z,ie){if(Z||(Z=16),Y===void 0&&(Y=24),Y<=0)return"0";var te=Math.log(Math.pow(2,Y))/Math.log(Z),fe="",de,we,Ae;for(de=2;te===1/0;de*=2)te=Math.log(Math.pow(2,Y/de))/Math.log(Z)*de;var Re=te-Math.floor(te);for(de=0;de<Math.floor(te);de++)Ae=Math.floor(Math.random()*Z).toString(Z),fe=Ae+fe;Re&&(we=Math.pow(Z,Re),Ae=Math.floor(Math.random()*we).toString(Z),fe=Ae+fe);var Fe=parseInt(fe,Z);return se&&se[fe]||Fe!==1/0&&Fe>=Math.pow(2,Y)?ie>10?(r.warn("randstr failed uniqueness"),fe):q(se,Y,Z,(ie||0)+1):fe},r.OptionControl=function(q,se){q||(q={}),se||(se="opt");var Y={};return Y.optionList=[],Y._newoption=function(Z){Z[se]=q,Y[Z.name]=Z,Y.optionList.push(Z)},Y["_"+se]=q,Y},r.smooth=function(q,se){if(se=Math.round(se)||0,se<2)return q;var Y=q.length,Z=2*Y,ie=2*se-1,te=new Array(ie),fe=new Array(Y),de,we,Ae,Re;for(de=0;de<ie;de++)te[de]=(1-Math.cos(Math.PI*(de+1)/se))/(2*se);for(de=0;de<Y;de++){for(Re=0,we=0;we<ie;we++)Ae=de+we+1-se,Ae<-Y?Ae-=Z*Math.round(Ae/Z):Ae>=Z&&(Ae-=Z*Math.floor(Ae/Z)),Ae<0?Ae=-1-Ae:Ae>=Y&&(Ae=Z-1-Ae),Re+=q[Ae]*te[we];fe[de]=Re}return fe},r.syncOrAsync=function(q,se,Y){var Z,ie;function te(){return r.syncOrAsync(q,se,Y)}for(;q.length;)if(ie=q.splice(0,1)[0],Z=ie(se),Z&&Z.then)return Z.then(te);return Y&&Y(se)},r.stripTrailingSlash=function(q){return q.substr(-1)==="/"?q.substr(0,q.length-1):q},r.noneOrAll=function(q,se,Y){if(q){var Z=!1,ie=!0,te,fe;for(te=0;te<Y.length;te++)fe=q[Y[te]],fe!=null?Z=!0:ie=!1;if(Z&&!ie)for(te=0;te<Y.length;te++)q[Y[te]]=se[Y[te]]}},r.mergeArray=function(q,se,Y,Z){var ie=typeof Z=="function";if(r.isArrayOrTypedArray(q))for(var te=Math.min(q.length,se.length),fe=0;fe<te;fe++){var de=q[fe];se[fe][Y]=ie?Z(de):de}},r.mergeArrayCastPositive=function(q,se,Y){return r.mergeArray(q,se,Y,function(Z){var ie=+Z;return isFinite(ie)&&ie>0?ie:0})},r.fillArray=function(q,se,Y,Z){if(Z=Z||r.identity,r.isArrayOrTypedArray(q))for(var ie=0;ie<se.length;ie++)se[ie][Y]=Z(q[ie])},r.castOption=function(q,se,Y,Z){Z=Z||r.identity;var ie=r.nestedProperty(q,Y).get();return r.isArrayOrTypedArray(ie)?Array.isArray(se)&&r.isArrayOrTypedArray(ie[se[0]])?Z(ie[se[0]][se[1]]):Z(ie[se]):ie},r.extractOption=function(q,se,Y,Z){if(Y in q)return q[Y];var ie=r.nestedProperty(se,Z).get();if(!Array.isArray(ie))return ie};function A(q){var se={};for(var Y in q)for(var Z=q[Y],ie=0;ie<Z.length;ie++)se[Z[ie]]=+Y;return se}r.tagSelected=function(q,se,Y){var Z=se.selectedpoints,ie=se._indexToPoints,te;ie&&(te=A(ie));function fe(Fe){return Fe!==void 0&&Fe<q.length}for(var de=0;de<Z.length;de++){var we=Z[de];if(r.isIndex(we)||r.isArrayOrTypedArray(we)&&r.isIndex(we[0])&&r.isIndex(we[1])){var Ae=te?te[we]:we,Re=Y?Y[Ae]:Ae;fe(Re)&&(q[Re].selected=1)}}},r.selIndices2selPoints=function(q){var se=q.selectedpoints,Y=q._indexToPoints;if(Y){for(var Z=A(Y),ie=[],te=0;te<se.length;te++){var fe=se[te];if(r.isIndex(fe)){var de=Z[fe];r.isIndex(de)&&ie.push(de)}}return ie}else return se},r.getTargetArray=function(q,se){var Y=se.target;if(typeof Y=="string"&&Y){var Z=r.nestedProperty(q,Y).get();return Array.isArray(Z)?Z:!1}else if(Array.isArray(Y))return Y;return!1};function f(q,se,Y){var Z={};typeof se!="object"&&(se={});var ie=Y==="pieLike"?-1:3,te=Object.keys(q),fe,de,we;for(fe=0;fe<te.length;fe++)de=te[fe],we=q[de],!(de.charAt(0)==="_"||typeof we=="function")&&(de==="module"?Z[de]=we:Array.isArray(we)?de==="colorscale"||ie===-1?Z[de]=we.slice():Z[de]=we.slice(0,ie):r.isTypedArray(we)?ie===-1?Z[de]=we.subarray():Z[de]=we.subarray(0,ie):we&&typeof we=="object"?Z[de]=f(q[de],se[de],Y):Z[de]=we);for(te=Object.keys(se),fe=0;fe<te.length;fe++)de=te[fe],we=se[de],(typeof we!="object"||!(de in Z)||typeof Z[de]!="object")&&(Z[de]=we);return Z}r.minExtend=f,r.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},r.containsAny=function(q,se){for(var Y=0;Y<se.length;Y++)if(q.indexOf(se[Y])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var P=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return P.test(window.navigator.userAgent)};var w=/iPad|iPhone|iPod/;r.isIOS=function(){return w.test(window.navigator.userAgent)};var z=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var q=z.exec(window.navigator.userAgent);if(q&&q.length===2){var se=parseInt(q[1]);if(!isNaN(se))return se}return null},r.isD3Selection=function(q){return q instanceof y.selection},r.ensureSingle=function(q,se,Y,Z){var ie=q.select(se+(Y?"."+Y:""));if(ie.size())return ie;var te=q.append(se);return Y&&te.classed(Y,!0),Z&&te.call(Z),te},r.ensureSingleById=function(q,se,Y,Z){var ie=q.select(se+"#"+Y);if(ie.size())return ie;var te=q.append(se).attr("id",Y);return Z&&te.call(Z),te},r.objectFromPath=function(q,se){for(var Y=q.split("."),Z,ie=Z={},te=0;te<Y.length;te++){var fe=Y[te],de=null,we=Y[te].match(/(.*)\[([0-9]+)\]/);we?(fe=we[1],de=we[2],Z=Z[fe]=[],te===Y.length-1?Z[de]=se:Z[de]={},Z=Z[de]):(te===Y.length-1?Z[fe]=se:Z[fe]={},Z=Z[fe])}return ie};var F=/^([^\[\.]+)\.(.+)?/,H=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function _(q){return q.slice(0,2)==="__"}r.expandObjectPaths=function(q){var se,Y,Z,ie,te,fe,de;if(typeof q=="object"&&!Array.isArray(q)){for(Y in q)if(q.hasOwnProperty(Y))if(se=Y.match(F)){if(ie=q[Y],Z=se[1],_(Z))continue;delete q[Y],q[Z]=r.extendDeepNoArrays(q[Z]||{},r.objectFromPath(Y,r.expandObjectPaths(ie))[Z])}else if(se=Y.match(H)){if(ie=q[Y],Z=se[1],_(Z))continue;if(te=parseInt(se[2]),delete q[Y],q[Z]=q[Z]||[],se[3]===".")de=se[4],fe=q[Z][te]=q[Z][te]||{},r.extendDeepNoArrays(fe,r.objectFromPath(de,r.expandObjectPaths(ie)));else{if(_(Z))continue;q[Z][te]=r.expandObjectPaths(ie)}}else{if(_(Y))continue;q[Y]=r.expandObjectPaths(q[Y])}}return q},r.numSeparate=function(q,se,Y){if(Y||(Y=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof q=="number"&&(q=String(q));var Z=/(\d+)(\d{3})/,ie=se.charAt(0),te=se.charAt(1),fe=q.split("."),de=fe[0],we=fe.length>1?ie+fe[1]:"";if(te&&(fe.length>1||de.length>4||Y))for(;Z.test(de);)de=de.replace(Z,"$1"+te+"$2");return de+we},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;r.templateString=function(q,se){var Y={};return q.replace(r.TEMPLATE_STRING_REGEX,function(Z,ie){var te;return B.test(ie)?te=se[ie]:(Y[ie]=Y[ie]||r.nestedProperty(se,ie).get,te=Y[ie]()),r.isValidTextValue(te)?te:""})};var N={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ue.apply(N,arguments)};var O={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ue.apply(O,arguments)};var U=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function K(q){var se=q.match(U);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:q,op:null,number:null}}var re={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ue.apply(re,arguments)};var ae=/^[:|\|]/;function ue(q,se,Y){var Z=this,ie=arguments;se||(se={});var te={};return q.replace(r.TEMPLATE_STRING_REGEX,function(fe,de,we){var Ae=de==="xother"||de==="yother",Re=de==="_xother"||de==="_yother",Fe=de==="_xother_"||de==="_yother_",Se=de==="xother_"||de==="yother_",Te=Ae||Re||Se||Fe,Ee=de;(Re||Fe)&&(Ee=Ee.substring(1)),(Se||Fe)&&(Ee=Ee.substring(0,Ee.length-1));var Ne=null,He=null;if(Z.parseMultDiv){var _e=K(Ee);Ee=_e.key,Ne=_e.op,He=_e.number}var We;if(Te){if(We=se[Ee],We===void 0)return""}else{var tt,Ke;for(Ke=3;Ke<ie.length;Ke++)if(tt=ie[Ke],!!tt){if(tt.hasOwnProperty(Ee)){We=tt[Ee];break}if(B.test(Ee)||(We=r.nestedProperty(tt,Ee).get(),We=te[Ee]||r.nestedProperty(tt,Ee).get(),We&&(te[Ee]=We)),We!==void 0)break}}if(We!==void 0&&(Ne==="*"&&(We*=He),Ne==="/"&&(We/=He)),We===void 0&&Z)return Z.count<Z.max&&(r.warn("Variable '"+Ee+"' in "+Z.name+" could not be found!"),We=fe),Z.count===Z.max&&r.warn("Too many "+Z.name+" warnings - additional warnings will be suppressed"),Z.count++,fe;if(we){var qe;if(we[0]===":"&&(qe=Y?Y.numberFormat:r.numberFormat,We=qe(we.replace(ae,""))(We)),we[0]==="|"){qe=Y?Y.timeFormat:C;var rt=r.dateTime2ms(We);We=r.formatDate(rt,we.replace(ae,""),!1,qe)}}else{var ft=Ee+"Label";se.hasOwnProperty(ft)&&(We=se[ft])}return Te&&(We="("+We+")",(Re||Fe)&&(We=" "+We),(Se||Fe)&&(We=We+" ")),We})}var ve=48,ee=57;r.subplotSort=function(q,se){for(var Y=Math.min(q.length,se.length)+1,Z=0,ie=0,te=0;te<Y;te++){var fe=q.charCodeAt(te)||0,de=se.charCodeAt(te)||0,we=fe>=ve&&fe<=ee,Ae=de>=ve&&de<=ee;if(we&&(Z=10*Z+fe-ve),Ae&&(ie=10*ie+de-ve),!we||!Ae){if(Z!==ie)return Z-ie;if(fe!==de)return fe-de}}return ie-Z};var J=2e9;r.seedPseudoRandom=function(){J=2e9},r.pseudoRandom=function(){var q=J;return J=(69069*J+1)%4294967296,Math.abs(J-q)<429496729?r.pseudoRandom():J/4294967296},r.fillText=function(q,se,Y){var Z=Array.isArray(Y)?function(fe){Y.push(fe)}:function(fe){Y.text=fe},ie=r.extractOption(q,se,"htx","hovertext");if(r.isValidTextValue(ie))return Z(ie);var te=r.extractOption(q,se,"tx","text");if(r.isValidTextValue(te))return Z(te)},r.isValidTextValue=function(q){return q||q===0},r.formatPercent=function(q,se){se=se||0;for(var Y=(Math.round(100*q*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",Z=0;Z<se;Z++)Y.indexOf(".")!==-1&&(Y=Y.replace("0%","%"),Y=Y.replace(".%","%"));return Y},r.isHidden=function(q){var se=window.getComputedStyle(q).display;return!se||se==="none"},r.strTranslate=function(q,se){return q||se?"translate("+q+","+se+")":""},r.strRotate=function(q){return q?"rotate("+q+")":""},r.strScale=function(q){return q!==1?"scale("+q+")":""},r.getTextTransform=function(q){var se=q.noCenter,Y=q.textX,Z=q.textY,ie=q.targetX,te=q.targetY,fe=q.anchorX||0,de=q.anchorY||0,we=q.rotate,Ae=q.scale;return Ae?Ae>1&&(Ae=1):Ae=0,r.strTranslate(ie-Ae*(Y+fe),te-Ae*(Z+de))+r.strScale(Ae)+(we?"rotate("+we+(se?"":" "+Y+" "+Z)+")":"")},r.setTransormAndDisplay=function(q,se){q.attr("transform",r.getTextTransform(se)),q.style("display",se.scale?null:"none")},r.ensureUniformFontSize=function(q,se){var Y=r.extendFlat({},se);return Y.size=Math.max(se.size,q._fullLayout.uniformtext.minsize||0),Y},r.join2=function(q,se,Y){var Z=q.length;return Z>1?q.slice(0,-1).join(se)+Y+q[Z-1]:q.join(se)},r.bigFont=function(q){return Math.round(1.2*q)};var Q=r.getFirefoxVersion(),X=Q!==null&&Q<86;r.getPositionFromD3Event=function(){return X?[y.event.layerX,y.event.layerY]:[y.event.offsetX,y.event.offsetY]}},41965:function(W){W.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(W,V,e){var y=e(65487),C=/^\w*$/,a=0,L=1,x=2,h=3,d=4;W.exports=function(r,u,n,i){n=n||"name",i=i||"value";var s,o,m,c={};u&&u.length?(m=y(r,u),o=m.get()):o=r,u=u||"";var b={};if(o)for(s=0;s<o.length;s++)b[o[s][n]]=s;var v=C.test(i),l={set:function(p,S){var M=S===null?d:a;if(!o){if(!m||M===d)return;o=[],m.set(o)}var R=b[p];if(R===void 0){if(M===d)return;M=M|h,R=o.length,b[p]=R}else S!==(v?o[R][i]:y(o[R],i).get())&&(M=M|x);var T=o[R]=o[R]||{};return T[n]=p,v?T[i]=S:y(T,i).set(S),S!==null&&(M=M&~d),c[R]=c[R]|M,l},get:function(p){if(o){var S=b[p];if(S!==void 0)return v?o[S][i]:y(o[S],i).get()}},rename:function(p,S){var M=b[p];return M===void 0||(c[M]=c[M]|L,b[S]=M,delete b[p],o[M][n]=S),l},remove:function(p){var S=b[p];if(S===void 0)return l;var M=o[S];if(Object.keys(M).length>2)return c[S]=c[S]|x,l.set(p,null);if(v){for(s=S;s<o.length;s++)c[s]=c[s]|h;for(s=S;s<o.length;s++)b[o[s][n]]--;o.splice(S,1),delete b[p]}else y(M,i).set(null),c[S]=c[S]|x|d;return l},constructUpdate:function(){for(var p,S,M={},R=Object.keys(c),T=0;T<R.length;T++)S=R[T],p=u+"["+S+"]",o[S]?(c[S]&L&&(M[p+"."+n]=o[S][n]),c[S]&x&&(v?M[p+"."+i]=c[S]&d?null:o[S][i]:M[p+"."+i]=c[S]&d?null:y(o[S],i).get())):M[p]=null;return M}};return l}},15867:function(W,V,e){var y=e(73972);W.exports=function(a,L){for(var x=a._context.locale,h=0;h<2;h++){for(var d=a._context.locales,t=0;t<2;t++){var r=(d[x]||{}).dictionary;if(r){var u=r[L];if(u)return u}d=y.localeRegistry}var n=x.split("-")[0];if(n===x)break;x=n}return L}},47769:function(W,V,e){var y=e(72075).dfltConfig,C=e(75046),a=W.exports={};a.log=function(){var L;if(y.logging>1){var x=["LOG:"];for(L=0;L<arguments.length;L++)x.push(arguments[L]);console.trace.apply(console,x)}if(y.notifyOnLogging>1){var h=[];for(L=0;L<arguments.length;L++)h.push(arguments[L]);C(h.join("<br>"),"long")}},a.warn=function(){var L;if(y.logging>0){var x=["WARN:"];for(L=0;L<arguments.length;L++)x.push(arguments[L]);console.trace.apply(console,x)}if(y.notifyOnLogging>0){var h=[];for(L=0;L<arguments.length;L++)h.push(arguments[L]);C(h.join("<br>"),"stick")}},a.error=function(){var L;if(y.logging>0){var x=["ERROR:"];for(L=0;L<arguments.length;L++)x.push(arguments[L]);console.error.apply(console,x)}if(y.notifyOnLogging>0){var h=[];for(L=0;L<arguments.length;L++)h.push(arguments[L]);C(h.join("<br>"),"stick")}}},77310:function(W,V,e){var y=e(39898);W.exports=function(a,L,x){var h=a.selectAll("g."+x.replace(/\s/g,".")).data(L,function(t){return t[0].trace.uid});h.exit().remove(),h.enter().append("g").attr("class",x),h.order();var d=a.classed("rangeplot")?"nodeRangePlot3":"node3";return h.each(function(t){t[0][d]=y.select(this)}),h}},35657:function(W,V,e){var y=e(79576);V.init2dArray=function(C,a){for(var L=new Array(C),x=0;x<C;x++)L[x]=new Array(a);return L},V.transposeRagged=function(C){var a=0,L=C.length,x,h;for(x=0;x<L;x++)a=Math.max(a,C[x].length);var d=new Array(a);for(x=0;x<a;x++)for(d[x]=new Array(L),h=0;h<L;h++)d[x][h]=C[h][x];return d},V.dot=function(C,a){if(!(C.length&&a.length)||C.length!==a.length)return null;var L=C.length,x,h;if(C[0].length)for(x=new Array(L),h=0;h<L;h++)x[h]=V.dot(C[h],a);else if(a[0].length){var d=V.transposeRagged(a);for(x=new Array(d.length),h=0;h<d.length;h++)x[h]=V.dot(C,d[h])}else for(x=0,h=0;h<L;h++)x+=C[h]*a[h];return x},V.translationMatrix=function(C,a){return[[1,0,C],[0,1,a],[0,0,1]]},V.rotationMatrix=function(C){var a=C*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},V.rotationXYMatrix=function(C,a,L){return V.dot(V.dot(V.translationMatrix(a,L),V.rotationMatrix(C)),V.translationMatrix(-a,-L))},V.apply3DTransform=function(C){return function(){var a=arguments,L=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return V.dot(C,[L[0],L[1],L[2],1]).slice(0,3)}},V.apply2DTransform=function(C){return function(){var a=arguments;a.length===3&&(a=a[0]);var L=arguments.length===1?a[0]:[a[0],a[1]];return V.dot(C,[L[0],L[1],1]).slice(0,2)}},V.apply2DTransform2=function(C){var a=V.apply2DTransform(C);return function(L){return a(L.slice(0,2)).concat(a(L.slice(2,4)))}},V.convertCssMatrix=function(C){if(C){var a=C.length;if(a===16)return C;if(a===6)return[C[0],C[1],0,0,C[2],C[3],0,0,0,0,1,0,C[4],C[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(C){var a=[];return y.invert(a,C),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(W){function V(y,C){var a=y%C;return a<0?a+C:a}function e(y,C){return Math.abs(y)>C/2?y-Math.round(y/C)*C:y}W.exports={mod:V,modHalf:e}},65487:function(W,V,e){var y=e(92770),C=e(73627).isArrayOrTypedArray;W.exports=function(i,s){if(y(s))s=String(s);else if(typeof s!="string"||s.substr(s.length-4)==="[-1]")throw"bad property string";var o=s.split("."),m,c,b,v;for(v=0;v<o.length;v++)if(String(o[v]).slice(0,2)==="__")throw"bad property string";for(v=0;v<o.length;){if(m=String(o[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])o[v]=m[1];else if(v===0)o.splice(0,1);else throw"bad property string";for(c=m[2].substr(1,m[2].length-2).split("]["),b=0;b<c.length;b++)v++,o.splice(v,0,Number(c[b]))}v++}return typeof i!="object"?u(i,s,o):{set:h(i,o,s),get:a(i,o),astr:s,parts:o,obj:i}};function a(n,i){return function(){var s=n,o,m,c,b,v;for(b=0;b<i.length-1;b++){if(o=i[b],o===-1){for(m=!0,c=[],v=0;v<s.length;v++)c[v]=a(s[v],i.slice(b+1))(),c[v]!==c[0]&&(m=!1);return m?c[0]:c}if(typeof o=="number"&&!C(s)||(s=s[o],typeof s!="object"||s===null))return}if(!(typeof s!="object"||s===null)&&(c=s[i[b]],c!==null))return c}}var L=/(^|\.)args\[/;function x(n,i){return n===void 0||n===null&&!i.match(L)}function h(n,i,s){return function(o){var m=n,c="",b=x(o,s),v,l;for(l=0;l<i.length-1;l++){if(v=i[l],typeof v=="number"&&!C(m))throw"array index but container is not an array";if(v===-1){if(b=!t(m,i.slice(l+1),o,s),b)break;return}if(!r(m,v,i[l+1],b))break;if(m=m[v],typeof m!="object"||m===null)throw"container is not an object";c=d(c,v)}if(b){if(l===i.length-1&&(delete m[i[l]],Array.isArray(m)&&+i[l]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[i[l]]=o}}function d(n,i){var s=i;return y(i)?s="["+i+"]":n&&(s="."+i),n+s}function t(n,i,s,o){var m=C(s),c=!0,b=s,v=o.replace("-1",0),l=m?!1:x(s,v),p=i[0],S;for(S=0;S<n.length;S++)v=o.replace("-1",S),m&&(b=s[S%s.length],l=x(b,v)),l&&(c=!1),r(n,S,p,l)&&h(n[S],i,o.replace("-1",S))(b);return c}function r(n,i,s,o){if(n[i]===void 0){if(o)return!1;typeof s=="number"?n[i]=[]:n[i]={}}return!0}function u(n,i,s){return{set:function(){throw"bad container"},get:function(){},astr:i,parts:s,obj:n}}},64213:function(W){W.exports=function(){}},75046:function(W,V,e){var y=e(39898),C=e(92770),a=[];W.exports=function(L,x){if(a.indexOf(L)!==-1)return;a.push(L);var h=1e3;C(x)?h=x:x==="long"&&(h=3e3);var d=y.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0);var t=d.selectAll(".notifier-note").data(a);function r(u){u.duration(700).style("opacity",0).each("end",function(n){var i=a.indexOf(n);i!==-1&&a.splice(i,1),y.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var n=y.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(r)});for(var i=n.append("p"),s=u.split(/<br\s*\/?>/g),o=0;o<s.length;o++)o&&i.append("br"),i.append("span").text(s[o]);x==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(h).call(r)})}},39918:function(W,V,e){var y=e(6964),C="data-savedcursor",a="!!";W.exports=function(x,h){var d=x.attr(C);if(h){if(!d){for(var t=(x.attr("class")||"").split(" "),r=0;r<t.length;r++){var u=t[r];u.indexOf("cursor-")===0&&x.attr(C,u.substr(7)).classed(u,!1)}x.attr(C)||x.attr(C,a)}y(x,h)}else d&&(x.attr(C,null),d===a?y(x):y(x,d))}},61082:function(W,V,e){var y=e(35657).dot,C=e(50606).BADNUM,a=W.exports={};a.tester=function(x){var h=x.slice(),d=h[0][0],t=d,r=h[0][1],u=r,n;for((h[h.length-1][0]!==h[0][0]||h[h.length-1][1]!==h[0][1])&&h.push(h[0]),n=1;n<h.length;n++)d=Math.min(d,h[n][0]),t=Math.max(t,h[n][0]),r=Math.min(r,h[n][1]),u=Math.max(u,h[n][1]);var i=!1,s;h.length===5&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(i=!0,s=function(v){return v[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(i=!0,s=function(v){return v[1]===h[0][1]}));function o(v,l){var p=v[0],S=v[1];return!(p===C||p<d||p>t||S===C||S<r||S>u||l&&s(v))}function m(v,l){var p=v[0],S=v[1];if(p===C||p<d||p>t||S===C||S<r||S>u)return!1;var M=h.length,R=h[0][0],T=h[0][1],E=0,A,f,P,w,z;for(A=1;A<M;A++)if(f=R,P=T,R=h[A][0],T=h[A][1],w=Math.min(f,R),!(p<w||p>Math.max(f,R)||S>Math.max(P,T)))if(S<Math.min(P,T))p!==w&&E++;else{if(R===f?z=S:z=P+(p-f)*(T-P)/(R-f),S===z)return!(A===1&&l);S<=z&&p!==w&&E++}return E%2===1}var c=!0,b=h[0];for(n=1;n<h.length;n++)if(b[0]!==h[n][0]||b[1]!==h[n][1]){c=!1;break}return{xmin:d,xmax:t,ymin:r,ymax:u,pts:h,contains:i?o:m,isRect:i,degenerate:c}},a.isSegmentBent=function(x,h,d,t){var r=x[h],u=[x[d][0]-r[0],x[d][1]-r[1]],n=y(u,u),i=Math.sqrt(n),s=[-u[1]/i,u[0]/i],o,m,c;for(o=h+1;o<d;o++)if(m=[x[o][0]-r[0],x[o][1]-r[1]],c=y(m,u),c<0||c>n||Math.abs(y(m,s))>t)return!0;return!1},a.filter=function(x,h){var d=[x[0]],t=0,r=0;function u(i){x.push(i);var s=d.length,o=t;d.splice(r+1);for(var m=o+1;m<x.length;m++)(m===x.length-1||a.isSegmentBent(x,o,m+1,h))&&(d.push(x[m]),d.length<s-2&&(t=m,r=d.length-1),o=m)}if(x.length>1){var n=x.pop();u(n)}return{addPt:u,raw:x,filtered:d}}},79749:function(W,V,e){var y=e(58617),C=e(98580);W.exports=function(L,x,h){var d=L._fullLayout,t=!0;return d._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(h);return}if(!(r.pick&&!d._has("parcoords"))){try{r.regl=C({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:x||[],cachedCode:h||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(u){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:u,layer:r.key})},!1)}}),t||y({container:d._glcontainer.node()}),t}},45142:function(W,V,e){var y=e(92770),C=e(35791);W.exports=function(x){var h;if(x&&x.hasOwnProperty("userAgent")?h=x.userAgent:h=a(),typeof h!="string")return!0;var d=C({ua:{headers:{"user-agent":h}},tablet:!0,featureDetect:!1});if(!d)for(var t=h.split(" "),r=1;r<t.length;r++){var u=t[r];if(u.indexOf("Safari")!==-1)for(var n=r-1;n>-1;n--){var i=t[n];if(i.substr(0,8)==="Version/"){var s=i.substr(8).split(".")[0];if(y(s)&&(s=+s),s>=13)return!0}}}return d};function a(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},75138:function(W){W.exports=function(e,y){if(y instanceof RegExp){for(var C=y.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===C)return e;e.push(y)}else(y||y===0)&&e.indexOf(y)===-1&&e.push(y);return e}},10847:function(W,V,e){var y=e(71828),C=e(72075).dfltConfig;function a(x,h){for(var d=[],t,r=0;r<h.length;r++)t=h[r],t===x?d[r]=t:typeof t=="object"?d[r]=Array.isArray(t)?y.extendDeep([],t):y.extendDeepAll({},t):d[r]=t;return d}var L={};L.add=function(x,h,d,t,r){var u,n;if(x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},n=x.undoQueue.index,x.autoplay){x.undoQueue.inSequence||(x.autoplay=!1);return}!x.undoQueue.sequence||x.undoQueue.beginSequence?(u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},x.undoQueue.queue.splice(n,x.undoQueue.queue.length-n,u),x.undoQueue.index+=1):u=x.undoQueue.queue[n-1],x.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(h),u.undo.args.unshift(d),u.redo.calls.push(t),u.redo.args.push(r)),x.undoQueue.queue.length>C.queueLength&&(x.undoQueue.queue.shift(),x.undoQueue.index--)},L.startSequence=function(x){x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},x.undoQueue.sequence=!0,x.undoQueue.beginSequence=!0},L.stopSequence=function(x){x.undoQueue=x.undoQueue||{index:0,queue:[],sequence:!1},x.undoQueue.sequence=!1,x.undoQueue.beginSequence=!1},L.undo=function(h){var d,t;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index<=0)){for(h.undoQueue.index--,d=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<d.undo.calls.length;t++)L.plotDo(h,d.undo.calls[t],d.undo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1}},L.redo=function(h){var d,t;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index>=h.undoQueue.queue.length)){for(d=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<d.redo.calls.length;t++)L.plotDo(h,d.redo.calls[t],d.redo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1,h.undoQueue.index++}},L.plotDo=function(x,h,d){x.autoplay=!0,d=a(x,d),h.apply(null,d)},W.exports=L},30587:function(W,V){V.counter=function(e,y,C,a){var L=(y||"")+(C?"":"$"),x=a===!1?"":"^";return e==="xy"?new RegExp(x+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(x+e+"([2-9]|[1-9][0-9]+)?"+L)}},6962:function(W){var V=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;W.exports=function(y,C){for(;C;){var a=y.match(V);if(a)y=a[1];else if(y.match(e))y="";else throw new Error("bad relativeAttr call:"+[y,C]);if(C.charAt(0)==="^")C=C.slice(1);else break}return y&&C.charAt(0)!=="["?y+"."+C:y+C}},51332:function(W,V,e){var y=e(73627).isArrayOrTypedArray,C=e(41965);W.exports=function a(L,x){for(var h in x){var d=x[h],t=L[h];if(t!==d)if(h.charAt(0)==="_"||typeof d=="function"){if(h in L)continue;L[h]=d}else if(y(d)&&y(t)&&C(d[0])){if(h==="customdata"||h==="ids")continue;for(var r=Math.min(d.length,t.length),u=0;u<r;u++)t[u]!==d[u]&&C(d[u])&&C(t[u])&&a(t[u],d[u])}else C(d)&&C(t)&&(a(t,d),Object.keys(t).length||delete L[h])}}},65888:function(W,V,e){var y=e(92770),C=e(47769),a=e(23389),L=e(50606).BADNUM,x=1e-9;V.findBin=function(u,n,i){if(y(n.start))return i?Math.ceil((u-n.start)/n.size-x)-1:Math.floor((u-n.start)/n.size+x);var s=0,o=n.length,m=0,c=o>1?(n[o-1]-n[0])/(o-1):1,b,v;for(c>=0?v=i?h:d:v=i?r:t,u+=c*x*(i?-1:1)*(c>=0?1:-1);s<o&&m++<100;)b=Math.floor((s+o)/2),v(n[b],u)?s=b+1:o=b;return m>90&&C.log("Long binary search..."),s-1};function h(u,n){return u<n}function d(u,n){return u<=n}function t(u,n){return u>n}function r(u,n){return u>=n}V.sorterAsc=function(u,n){return u-n},V.sorterDes=function(u,n){return n-u},V.distinctVals=function(u){var n=u.slice();n.sort(V.sorterAsc);var i;for(i=n.length-1;i>-1&&n[i]===L;i--);for(var s=n[i]-n[0]||1,o=s/(i||1)/1e4,m=[],c,b=0;b<=i;b++){var v=n[b],l=v-c;c===void 0?(m.push(v),c=v):l>o&&(s=Math.min(s,l),m.push(v),c=v)}return{vals:m,minDiff:s}},V.roundUp=function(u,n,i){for(var s=0,o=n.length-1,m,c=0,b=i?0:1,v=i?1:0,l=i?Math.ceil:Math.floor;s<o&&c++<100;)m=l((s+o)/2),n[m]<=u?s=m+b:o=m-v;return n[s]},V.sort=function(u,n){for(var i=0,s=0,o=1;o<u.length;o++){var m=n(u[o],u[o-1]);if(m<0?i=1:m>0&&(s=1),i&&s)return u.sort(n)}return s?u:u.reverse()},V.findIndexOfMin=function(u,n){n=n||a;for(var i=1/0,s,o=0;o<u.length;o++){var m=n(u[o]);m<i&&(i=m,s=o)}return s}},6964:function(W){W.exports=function(e,y){(e.attr("class")||"").split(" ").forEach(function(C){C.indexOf("cursor-")===0&&e.classed(C,!1)}),y&&e.classed("cursor-"+y,!0)}},58617:function(W,V,e){var y=e(7901),C=function(){};W.exports=function(L){for(var x in L)typeof L[x]=="function"&&(L[x]=C);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var h=document.createElement("div");h.className="no-webgl",h.style.cursor="pointer",h.style.fontSize="24px",h.style.color=y.defaults[0],h.style.position="absolute",h.style.left=h.style.top="0px",h.style.width=h.style.height="100%",h.style["background-color"]=y.lightLine,h.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",h.appendChild(d),L.container.appendChild(h),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(W){W.exports=function(e){return Object.keys(e).sort()}},80038:function(W,V,e){var y=e(92770),C=e(73627).isArrayOrTypedArray;V.aggNums=function(a,L,x,h){var d,t;if((!h||h>x.length)&&(h=x.length),y(L)||(L=!1),C(x[0])){for(t=new Array(h),d=0;d<h;d++)t[d]=V.aggNums(a,L,x[d]);x=t}for(d=0;d<h;d++)y(L)?y(x[d])&&(L=a(+L,+x[d])):L=x[d];return L},V.len=function(a){return V.aggNums(function(L){return L+1},0,a)},V.mean=function(a,L){return L||(L=V.len(a)),V.aggNums(function(x,h){return x+h},0,a)/L},V.midRange=function(a){if(!(a===void 0||a.length===0))return(V.aggNums(Math.max,null,a)+V.aggNums(Math.min,null,a))/2},V.variance=function(a,L,x){return L||(L=V.len(a)),y(x)||(x=V.mean(a,L)),V.aggNums(function(h,d){return h+Math.pow(d-x,2)},0,a)/L},V.stdev=function(a,L,x){return Math.sqrt(V.variance(a,L,x))},V.median=function(a){var L=a.slice().sort();return V.interp(L,.5)},V.interp=function(a,L){if(!y(L))throw"n should be a finite number";if(L=L*a.length-.5,L<0)return a[0];if(L>a.length-1)return a[a.length-1];var x=L%1;return x*a[Math.ceil(L)]+(1-x)*a[Math.floor(L)]}},78614:function(W,V,e){var y=e(25075);function C(a){return a?y(a):[0,0,0,1]}W.exports=C},3883:function(W,V,e){var y=e(32396),C=e(91424),a=e(71828),L=null;function x(){if(L!==null)return L;L=!1;var h=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!h){var d=Array.from(y.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")L=d.some(function(i){return t.apply(null,i)});else{var r=C.tester.append("image").attr("style",y.STYLE),u=window.getComputedStyle(r.node()),n=u.imageRendering;L=d.some(function(i){var s=i[1];return n===s||n===s.toLowerCase()}),r.remove()}}return L}W.exports=x},63893:function(W,V,e){var y=e(39898),C=e(71828),a=C.strTranslate,L=e(77922),x=e(18783).LINE_SPACING,h=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(N,O,U){var K=N.text(),re=!N.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&K.match(h),ae=y.select(N.node().parentNode);if(ae.empty())return;var ue=N.attr("class")?N.attr("class").split(" ")[0]:"text";ue+="-math",ae.selectAll("svg."+ue).remove(),ae.selectAll("g."+ue+"-group").remove(),N.style("display",null).attr({"data-unformatted":K,"data-math":"N"});function ve(){ae.empty()||(ue=N.attr("class")+"-math",ae.select("svg."+ue).remove()),N.text("").style("white-space","pre");var ee=F(N.node(),K);ee&&N.style("pointer-events","all"),V.positionText(N),U&&U.call(N)}return re?(O&&O._promises||[]).push(new Promise(function(ee){N.style("display","none");var J=parseInt(N.node().style.fontSize,10),Q={fontSize:J};n(re[2],Q,function(X,q,se){ae.selectAll("svg."+ue).remove(),ae.selectAll("g."+ue+"-group").remove();var Y=X&&X.select("svg");if(!Y||!Y.node()){ve(),ee();return}var Z=ae.append("g").classed(ue+"-group",!0).attr({"pointer-events":"none","data-unformatted":K,"data-math":"Y"});Z.node().appendChild(Y.node()),q&&q.node()&&Y.node().insertBefore(q.node().cloneNode(!0),Y.node().firstChild);var ie=se.width,te=se.height;Y.attr({class:ue,height:te,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=N.node().style.fill||"black",de=Y.select("g");de.attr({fill:fe,stroke:fe});var we=de.node().getBoundingClientRect(),Ae=we.width,Re=we.height;(Ae>ie||Re>te)&&(Y.style("overflow","hidden"),we=Y.node().getBoundingClientRect(),Ae=we.width,Re=we.height);var Fe=+N.attr("x"),Se=+N.attr("y"),Te=J||N.node().getBoundingClientRect().height,Ee=-Te/4;if(ue[0]==="y")Z.attr({transform:"rotate("+[-90,Fe,Se]+")"+a(-Ae/2,Ee-Re/2)});else if(ue[0]==="l")Se=Ee-Re/2;else if(ue[0]==="a"&&ue.indexOf("atitle")!==0)Fe=0,Se=Ee;else{var Ne=N.attr("text-anchor");Fe=Fe-Ae*(Ne==="middle"?.5:Ne==="end"?1:0),Se=Se+Ee-Re/2}Y.attr({x:Fe,y:Se}),U&&U.call(N,Z),ee(Z)})})):ve(),N};var d=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(N){return N.replace(d,"\\lt ").replace(t,"\\gt ")}var u=[["$","$"],["\\(","\\)"]];function n(N,O,U){var K=parseInt((MathJax.version||"").split(".")[0]);if(K!==2&&K!==3){C.warn("No MathJax version:",MathJax.version);return}var re,ae,ue,ve,ee=function(){return ae=C.extendDeepAll({},MathJax.Hub.config),ue=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},J=function(){ae=C.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u},Q=function(){if(re=MathJax.Hub.config.menuSettings.renderer,re!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){re=MathJax.config.startup.output,re!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var fe="math-output-"+C.randstr({},64);ve=y.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(r(N));var de=ve.node();return K===2?MathJax.Hub.Typeset(de):MathJax.typeset([de])},se=function(){var fe=ve.select(K===2?".MathJax_SVG":".MathJax"),de=!fe.empty()&&ve.select("svg").node();if(!de)C.log("There was an error in the tex syntax.",N),U();else{var we=de.getBoundingClientRect(),Ae;K===2?Ae=y.select("body").select("#MathJax_SVG_glyphs"):Ae=fe.select("defs"),U(fe,Ae,we)}ve.remove()},Y=function(){if(re!=="SVG")return MathJax.Hub.setRenderer(re)},Z=function(){re!=="svg"&&(MathJax.config.startup.output=re)},ie=function(){return ue!==void 0&&(MathJax.Hub.processSectionDelay=ue),MathJax.Hub.Config(ae)},te=function(){MathJax.config=ae};K===2?MathJax.Hub.Queue(ee,Q,q,se,Y,ie):K===3&&(J(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),se(),Z(),te()}))}var i={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},s={sub:"0.3em",sup:"-0.6em"},o={sub:"-0.21em",sup:"0.42em"},m="",c=["http:","https:","mailto:","",void 0,":"],b=V.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,l=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var S=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,M=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,R=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,T=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(N,O){if(!N)return null;var U=N.match(O),K=U&&(U[3]||U[4]);return K&&w(K)}var A=/(^|;)\s*color:/;V.plainText=function(N,O){O=O||{};for(var U=O.len!==void 0&&O.len!==-1?O.len:1/0,K=O.allowedTags!==void 0?O.allowedTags:["br"],re="...",ae=re.length,ue=N.split(v),ve=[],ee="",J=0,Q=0;Q<ue.length;Q++){var X=ue[Q],q=X.match(l),se=q&&q[2].toLowerCase();if(se)K.indexOf(se)!==-1&&(ve.push(X),ee=se);else{var Y=X.length;if(J+Y<U)ve.push(X),J+=Y;else if(J<U){var Z=U-J;ee&&(ee!=="br"||Z<=ae||Y<=ae)&&ve.pop(),U>ae?ve.push(X.substr(0,Z-ae)+re):ve.push(X.substr(0,Z));break}ee=""}}return ve.join("")};var f={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},P=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function w(N){return N.replace(P,function(O,U){var K;return U.charAt(0)==="#"?K=z(U.charAt(1)==="x"?parseInt(U.substr(2),16):parseInt(U.substr(1),10)):K=f[U],K||O})}V.convertEntities=w;function z(N){if(!(N>1114111)){var O=String.fromCodePoint;if(O)return O(N);var U=String.fromCharCode;return N<=65535?U(N):U((N>>10)+55232,N%1024+56320)}}function F(N,O){O=O.replace(b," ");var U=!1,K=[],re,ae=-1;function ue(){ae++;var Re=document.createElementNS(L.svg,"tspan");y.select(Re).attr({class:"line",dy:ae*x+"em"}),N.appendChild(Re),re=Re;var Fe=K;if(K=[{node:Re}],Fe.length>1)for(var Se=1;Se<Fe.length;Se++)ve(Fe[Se])}function ve(Re){var Fe=Re.type,Se={},Te;if(Fe==="a"){Te="a";var Ee=Re.target,Ne=Re.href,He=Re.popup;Ne&&(Se={"xlink:xlink:show":Ee==="_blank"||Ee.charAt(0)!=="_"?"new":"replace",target:Ee,"xlink:xlink:href":Ne},He&&(Se.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+He+'");return false;'))}else Te="tspan";Re.style&&(Se.style=Re.style);var _e=document.createElementNS(L.svg,Te);if(Fe==="sup"||Fe==="sub"){ee(re,m),re.appendChild(_e);var We=document.createElementNS(L.svg,"tspan");ee(We,m),y.select(We).attr("dy",o[Fe]),Se.dy=s[Fe],re.appendChild(_e),re.appendChild(We)}else re.appendChild(_e);y.select(_e).attr(Se),re=Re.node=_e,K.push(Re)}function ee(Re,Fe){Re.appendChild(document.createTextNode(Fe))}function J(Re){if(K.length===1){C.log("Ignoring unexpected end tag </"+Re+">.",O);return}var Fe=K.pop();Re!==Fe.type&&C.log("Start tag <"+Fe.type+"> doesnt match end tag <"+Re+">. Pretending it did match.",O),re=K[K.length-1].node}var Q=p.test(O);Q?ue():(re=N,K=[{node:N}]);for(var X=O.split(v),q=0;q<X.length;q++){var se=X[q],Y=se.match(l),Z=Y&&Y[2].toLowerCase(),ie=i[Z];if(Z==="br")ue();else if(ie===void 0)ee(re,w(se));else if(Y[1])J(Z);else{var te=Y[4],fe={type:Z},de=E(te,S);if(de?(de=de.replace(A,"$1 fill:"),ie&&(de+=";"+ie)):ie&&(de=ie),de&&(fe.style=de),Z==="a"){U=!0;var we=E(te,M);if(we){var Ae=H(we);Ae&&(fe.href=Ae,fe.target=E(te,R)||"_blank",fe.popup=E(te,T))}}ve(fe)}}return U}function H(N){var O=encodeURI(decodeURI(N)),U=document.createElement("a"),K=document.createElement("a");U.href=N,K.href=O;var re=U.protocol,ae=K.protocol;return c.indexOf(re)!==-1&&c.indexOf(ae)!==-1?O:""}V.sanitizeHTML=function(O){O=O.replace(b," ");for(var U=document.createElement("p"),K=U,re=[],ae=O.split(v),ue=0;ue<ae.length;ue++){var ve=ae[ue],ee=ve.match(l),J=ee&&ee[2].toLowerCase();if(J in i)if(ee[1])re.length&&(K=re.pop());else{var Q=ee[4],X=E(Q,S),q=X?{style:X}:{};if(J==="a"){var se=E(Q,M);if(se){var Y=H(se);if(Y){q.href=Y;var Z=E(Q,R);Z&&(q.target=Z)}}}var ie=document.createElement(J);K.appendChild(ie),y.select(ie).attr(q),K=ie,re.push(ie)}else K.appendChild(document.createTextNode(w(ve)))}var te="innerHTML";return U[te]},V.lineCount=function(O){return O.selectAll("tspan.line").size()||1},V.positionText=function(O,U,K){return O.each(function(){var re=y.select(this);function ae(ee,J){return J===void 0?(J=re.attr(ee),J===null&&(re.attr(ee,0),J=0)):re.attr(ee,J),J}var ue=ae("x",U),ve=ae("y",K);this.nodeName==="text"&&re.selectAll("tspan.line").attr({x:ue,y:ve})})};function _(N,O,U){var K=U.horizontalAlign,re=U.verticalAlign||"top",ae=N.node().getBoundingClientRect(),ue=O.node().getBoundingClientRect(),ve,ee,J;return re==="bottom"?ee=function(){return ae.bottom-ve.height}:re==="middle"?ee=function(){return ae.top+(ae.height-ve.height)/2}:ee=function(){return ae.top},K==="right"?J=function(){return ae.right-ve.width}:K==="center"?J=function(){return ae.left+(ae.width-ve.width)/2}:J=function(){return ae.left},function(){ve=this.node().getBoundingClientRect();var Q=J()-ue.left,X=ee()-ue.top,q=U.gd||{};if(U.gd){q._fullLayout._calcInverseTransform(q);var se=C.apply3DTransform(q._fullLayout._invTransform)(Q,X);Q=se[0],X=se[1]}return this.style({top:X+"px",left:Q+"px","z-index":1e3}),this}}var B="1px ";V.makeTextShadow=function(N){var O=B,U=B,K=B;return O+U+K+N+", -"+O+"-"+U+K+N+", "+O+"-"+U+K+N+", -"+O+U+K+N},V.makeEditable=function(N,O){var U=O.gd,K=O.delegate,re=y.dispatch("edit","input","cancel"),ae=K||N;if(N.style({"pointer-events":K?"none":"all"}),N.size()!==1)throw new Error("boo");function ue(){ee(),N.style({opacity:0});var J=ae.attr("class"),Q;J?Q="."+J.split(" ")[0]+"-math-group":Q="[class*=-math-group]",Q&&y.select(N.node().parentNode).select(Q).style({opacity:0})}function ve(J){var Q=J.node(),X=document.createRange();X.selectNodeContents(Q);var q=window.getSelection();q.removeAllRanges(),q.addRange(X),Q.focus()}function ee(){var J=y.select(U),Q=J.select(".svg-container"),X=Q.append("div"),q=N.node().style,se=parseFloat(q.fontSize||12),Y=O.text;Y===void 0&&(Y=N.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":se,color:O.fill||q.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Y).call(_(N,Q,O)).on("blur",function(){U._editing=!1,N.text(this.textContent).style({opacity:1});var Z=y.select(this).attr("class"),ie;Z?ie="."+Z.split(" ")[0]+"-math-group":ie="[class*=-math-group]",ie&&y.select(N.node().parentNode).select(ie).style({opacity:0});var te=this.textContent;y.select(this).transition().duration(0).remove(),y.select(document).on("mouseup",null),re.edit.call(N,te)}).on("focus",function(){var Z=this;U._editing=!0,y.select(document).on("mouseup",function(){if(y.event.target===Z)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){y.event.which===27?(U._editing=!1,N.style({opacity:1}),y.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),re.cancel.call(N,this.textContent)):(re.input.call(N,this.textContent),y.select(this).call(_(N,Q,O)))}).on("keydown",function(){y.event.which===13&&this.blur()}).call(ve)}return O.immediate?ue():ae.on("click",ue),y.rebind(N,re,"on")}},79990:function(W,V){var e={};V.throttle=function(a,L,x){var h=e[a],d=Date.now();if(!h){for(var t in e)e[t].ts<d-6e4&&delete e[t];h=e[a]={ts:0,timer:null}}y(h);function r(){x(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}if(d>h.ts+L){r();return}h.timer=setTimeout(function(){r(),h.timer=null},L)},V.done=function(C){var a=e[C];return!a||!a.timer?Promise.resolve():new Promise(function(L){var x=a.onDone;a.onDone=function(){x&&x(),L(),a.onDone=null}})},V.clear=function(C){if(C)y(e[C]),delete e[C];else for(var a in e)V.clear(a)};function y(C){C&&C.timer!==null&&(clearTimeout(C.timer),C.timer=null)}},58163:function(W,V,e){var y=e(92770);W.exports=function(a,L){if(a>0)return Math.log(a)/Math.LN10;var x=Math.log(Math.min(L[0],L[1]))/Math.LN10;return y(x)||(x=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),x}},90973:function(W,V,e){var y=W.exports={},C=e(78776).locationmodeToLayer,a=e(96892).zL;y.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},y.getTopojsonPath=function(L,x){return L+x+".json"},y.getTopojsonFeatures=function(L,x){var h=C[L.locationmode],d=x.objects[h];return a(x,d).features}},37815:function(W){W.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(W){W.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(W,V,e){var y=e(73972);W.exports=function(a){for(var L=y.layoutArrayContainers,x=y.layoutArrayRegexes,h=a.split("[")[0],d,t,r=0;r<x.length;r++)if(t=a.match(x[r]),t&&t.index===0){d=t[0];break}if(d||(d=L[L.indexOf(h)]),!d)return!1;var u=a.substr(d.length);return u?(t=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:d,index:Number(t[1]),property:t[3]||""}:!1):{array:d,index:"",property:""}}},30962:function(W,V,e){var y=e(1426).extendFlat,C=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},x=a.flags.slice().concat(["fullReplot"]),h=L.flags.slice().concat("layoutReplot");W.exports={traces:a,layout:L,traceFlags:function(){return d(x)},layoutFlags:function(){return d(h)},update:function(u,n){var i=n.editType;if(i&&i!=="none")for(var s=i.split("+"),o=0;o<s.length;o++)u[s[o]]=!0},overrideAll:t};function d(u){for(var n={},i=0;i<u.length;i++)n[u[i]]=!1;return n}function t(u,n,i){var s=y({},u);for(var o in s){var m=s[o];C(m)&&(s[o]=r(m,n,i,o))}return i==="from-root"&&(s.editType=n),s}function r(u,n,i,s){if(u.valType){var o=y({},u);if(o.editType=n,Array.isArray(u.items)){o.items=new Array(u.items.length);for(var m=0;m<u.items.length;m++)o.items[m]=r(u.items[m],n)}return o}else return t(u,n,s.charAt(0)==="_"?"nested":"from-root")}},58377:function(W,V,e){var y=e(92770),C=e(27812),a=e(73972),L=e(71828),x=e(74875),h=e(41675),d=e(7901),t=h.cleanId,r=h.getFromTrace,u=a.traceIs;V.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&L.log("Clearing previous rejected promises from queue."),p._promises=[]},V.cleanLayout=function(p){var S,M;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var R=(x.subplotsRegistry.cartesian||{}).attrRegex,T=(x.subplotsRegistry.polar||{}).attrRegex,E=(x.subplotsRegistry.ternary||{}).attrRegex,A=(x.subplotsRegistry.gl3d||{}).attrRegex,f=Object.keys(p);for(S=0;S<f.length;S++){var P=f[S];if(R&&R.test(P)){var w=p[P];w.anchor&&w.anchor!=="free"&&(w.anchor=t(w.anchor)),w.overlaying&&(w.overlaying=t(w.overlaying)),w.type||(w.isdate?w.type="date":w.islog?w.type="log":w.isdate===!1&&w.islog===!1&&(w.type="linear")),(w.autorange==="withzero"||w.autorange==="tozero")&&(w.autorange=!0,w.rangemode="tozero"),delete w.islog,delete w.isdate,delete w.categories,c(w,"domain")&&delete w.domain,w.autotick!==void 0&&(w.tickmode===void 0&&(w.tickmode=w.autotick?"auto":"linear"),delete w.autotick),i(w)}else if(T&&T.test(P)){var z=p[P];i(z.radialaxis)}else if(E&&E.test(P)){var F=p[P];i(F.aaxis),i(F.baxis),i(F.caxis)}else if(A&&A.test(P)){var H=p[P],_=H.cameraposition;if(Array.isArray(_)&&_[0].length===4){var B=_[0],N=_[1],O=_[2],U=C([],B),K=[];for(M=0;M<3;++M)K[M]=N[M]+O*U[2+4*M];H.camera={eye:{x:K[0],y:K[1],z:K[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete H.cameraposition}i(H.xaxis),i(H.yaxis),i(H.zaxis)}}var re=Array.isArray(p.annotations)?p.annotations.length:0;for(S=0;S<re;S++){var ae=p.annotations[S];L.isPlainObject(ae)&&(ae.ref&&(ae.ref==="paper"?(ae.xref="paper",ae.yref="paper"):ae.ref==="data"&&(ae.xref="x",ae.yref="y"),delete ae.ref),n(ae,"xref"),n(ae,"yref"))}var ue=Array.isArray(p.shapes)?p.shapes.length:0;for(S=0;S<ue;S++){var ve=p.shapes[S];L.isPlainObject(ve)&&(n(ve,"xref"),n(ve,"yref"))}var ee=Array.isArray(p.images)?p.images.length:0;for(S=0;S<ee;S++){var J=p.images[S];L.isPlainObject(J)&&(n(J,"xref"),n(J,"yref"))}var Q=p.legend;return Q&&(Q.x>3?(Q.x=1.02,Q.xanchor="left"):Q.x<-2&&(Q.x=-.02,Q.xanchor="right"),Q.y>3?(Q.y=1.02,Q.yanchor="bottom"):Q.y<-2&&(Q.y=-.02,Q.yanchor="top")),i(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),d.clean(p),p.template&&p.template.layout&&V.cleanLayout(p.template.layout),p};function n(p,S){var M=p[S],R=S.charAt(0);M&&M!=="paper"&&(p[S]=t(M,R,!0))}function i(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),S("titlefont","font"),S("titleposition","position"),S("titleside","side"),S("titleoffset","offset"));function S(M,R){var T=p[M],E=p.title&&p.title[R];T&&!E&&(p.title||(p.title={}),p.title[R]=p[M],delete p[M])}}V.cleanData=function(p){for(var S=0;S<p.length;S++){var M=p[S],R;if(M.type==="histogramy"&&"xbins"in M&&!("ybins"in M)&&(M.ybins=M.xbins,delete M.xbins),M.error_y&&"opacity"in M.error_y){var T=d.defaults,E=M.error_y.color||(u(M,"bar")?d.defaultLine:T[S%T.length]);M.error_y.color=d.addOpacity(d.rgb(E),d.opacity(E)*M.error_y.opacity),delete M.error_y.opacity}if("bardir"in M&&(M.bardir==="h"&&(u(M,"bar")||M.type.substr(0,9)==="histogram")&&(M.orientation="h",V.swapXYData(M)),delete M.bardir),M.type==="histogramy"&&V.swapXYData(M),(M.type==="histogramx"||M.type==="histogramy")&&(M.type="histogram"),"scl"in M&&!("colorscale"in M)&&(M.colorscale=M.scl,delete M.scl),"reversescl"in M&&!("reversescale"in M)&&(M.reversescale=M.reversescl,delete M.reversescl),M.xaxis&&(M.xaxis=t(M.xaxis,"x")),M.yaxis&&(M.yaxis=t(M.yaxis,"y")),u(M,"gl3d")&&M.scene&&(M.scene=x.subplotsRegistry.gl3d.cleanId(M.scene)),!u(M,"pie-like")&&!u(M,"bar-like"))if(Array.isArray(M.textposition))for(R=0;R<M.textposition.length;R++)M.textposition[R]=m(M.textposition[R]);else M.textposition&&(M.textposition=m(M.textposition));var A=a.getModule(M);if(A&&A.colorbar){var f=A.colorbar.container,P=f?M[f]:M;P&&P.colorscale&&(P.colorscale==="YIGnBu"&&(P.colorscale="YlGnBu"),P.colorscale==="YIOrRd"&&(P.colorscale="YlOrRd"))}if(M.type==="surface"&&L.isPlainObject(M.contours)){var w=["x","y","z"];for(R=0;R<w.length;R++){var z=M.contours[w[R]];L.isPlainObject(z)&&(z.highlightColor&&(z.highlightcolor=z.highlightColor,delete z.highlightColor),z.highlightWidth&&(z.highlightwidth=z.highlightWidth,delete z.highlightWidth))}}if(M.type==="candlestick"||M.type==="ohlc"){var F=(M.increasing||{}).showlegend!==!1,H=(M.decreasing||{}).showlegend!==!1,_=s(M.increasing),B=s(M.decreasing);if(_!==!1&&B!==!1){var N=o(_,B,F,H);N&&(M.name=N)}else(_||B)&&!M.name&&(M.name=_||B)}if(Array.isArray(M.transforms)){var O=M.transforms;for(R=0;R<O.length;R++){var U=O[R];if(L.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var K=U.styles,re=Object.keys(K);U.styles=[];for(var ae=0;ae<re.length;ae++)U.styles.push({target:re[ae],value:K[re[ae]]})}break}}}c(M,"line")&&delete M.line,"marker"in M&&(c(M.marker,"line")&&delete M.marker.line,c(M,"marker")&&delete M.marker),d.clean(M),M.autobinx&&(delete M.autobinx,delete M.xbins),M.autobiny&&(delete M.autobiny,delete M.ybins),i(M),M.colorbar&&i(M.colorbar),M.marker&&M.marker.colorbar&&i(M.marker.colorbar),M.line&&M.line.colorbar&&i(M.line.colorbar),M.aaxis&&i(M.aaxis),M.baxis&&i(M.baxis)}};function s(p){if(!L.isPlainObject(p))return!1;var S=p.name;return delete p.name,delete p.showlegend,(typeof S=="string"||typeof S=="number")&&String(S)}function o(p,S,M,R){if(M&&!R)return p;if(R&&!M||!p.trim())return S;if(!S.trim())return p;var T=Math.min(p.length,S.length),E;for(E=0;E<T&&p.charAt(E)===S.charAt(E);E++);var A=p.substr(0,E);return A.trim()}function m(p){var S="middle",M="center";return typeof p=="string"&&(p.indexOf("top")!==-1?S="top":p.indexOf("bottom")!==-1&&(S="bottom"),p.indexOf("left")!==-1?M="left":p.indexOf("right")!==-1&&(M="right")),S+" "+M}function c(p,S){return S in p&&typeof p[S]=="object"&&Object.keys(p[S]).length===0}V.swapXYData=function(p){var S;if(L.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var M=p.error_y,R="copy_ystyle"in M?M.copy_ystyle:!(M.color||M.thickness||M.width);L.swapAttrs(p,["error_?.copy_ystyle"]),R&&L.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var T=p.hoverinfo.split("+");for(S=0;S<T.length;S++)T[S]==="x"?T[S]="y":T[S]==="y"&&(T[S]="x");p.hoverinfo=T.join("+")}},V.coerceTraceIndices=function(p,S){if(y(S))return[S];if(!Array.isArray(S)||!S.length)return p.data.map(function(T,E){return E});if(Array.isArray(S)){for(var M=[],R=0;R<S.length;R++)L.isIndex(S[R],p.data.length)?M.push(S[R]):L.warn("trace index (",S[R],") is not a number or is out of bounds");return M}return S},V.manageArrayContainers=function(p,S,M){var R=p.obj,T=p.parts,E=T.length,A=T[E-1],f=y(A);if(f&&S===null){var P=T.slice(0,E-1).join("."),w=L.nestedProperty(R,P).get();w.splice(A,1)}else f&&p.get()===void 0&&p.get()===void 0&&(M[p.astr]=null),p.set(S)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(p){var S=p.search(b);if(S>0)return p.substr(0,S)}V.hasParent=function(p,S){for(var M=v(S);M;){if(M in p)return!0;M=v(M)}return!1};var l=["x","y","z"];V.clearAxisTypes=function(p,S,M){for(var R=0;R<S.length;R++)for(var T=p._fullData[R],E=0;E<3;E++){var A=r(p,T,l[E]);if(A&&A.type!=="log"){var f=A._name,P=A._id.substr(1);if(P.substr(0,5)==="scene"){if(M[P]!==void 0)continue;f=P+"."+f}var w=f+".type";M[f]===void 0&&M[w]===void 0&&L.nestedProperty(p.layout,w).set(null)}}}},10641:function(W,V,e){var y=e(72391);V._doPlot=y._doPlot,V.newPlot=y.newPlot,V.restyle=y.restyle,V.relayout=y.relayout,V.redraw=y.redraw,V.update=y.update,V._guiRestyle=y._guiRestyle,V._guiRelayout=y._guiRelayout,V._guiUpdate=y._guiUpdate,V._storeDirectGUIEdit=y._storeDirectGUIEdit,V.react=y.react,V.extendTraces=y.extendTraces,V.prependTraces=y.prependTraces,V.addTraces=y.addTraces,V.deleteTraces=y.deleteTraces,V.moveTraces=y.moveTraces,V.purge=y.purge,V.addFrames=y.addFrames,V.deleteFrames=y.deleteFrames,V.animate=y.animate,V.setPlotConfig=y.setPlotConfig;var C=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;V.deleteActiveShape=function(x){return a(C(x))},V.toImage=e(403),V.validate=e(84936),V.downloadImage=e(7239);var L=e(96318);V.makeTemplate=L.makeTemplate,V.validateTemplate=L.validateTemplate},6611:function(W,V,e){var y=e(41965),C=e(64213),a=e(47769),L=e(65888).sorterAsc,x=e(73972);V.containerArrayMatch=e(14458);var h=V.isAddVal=function(r){return r==="add"||y(r)},d=V.isRemoveVal=function(r){return r===null||r==="remove"};V.applyContainerArrayChanges=function(r,u,n,i,s){var o=u.astr,m=x.getComponentMethod(o,"supplyLayoutDefaults"),c=x.getComponentMethod(o,"draw"),b=x.getComponentMethod(o,"drawOne"),v=i.replot||i.recalc||m===C||c===C,l=r.layout,p=r._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",o);var S=n[""][""];if(d(S))u.set(null);else if(Array.isArray(S))u.set(S);else return a.warn("Unrecognized full array edit value",o,S),!0;return v?!1:(m(l,p),c(r),!0)}var M=Object.keys(n).map(Number).sort(L),R=u.get(),T=R||[],E=s(p,o).get(),A=[],f=-1,P=T.length,w,z,F,H,_,B,N,O;for(w=0;w<M.length;w++){if(F=M[w],H=n[F],_=Object.keys(H),B=H[""],N=h(B),F<0||F>T.length-(N?0:1)){a.warn("index out of range",o,F);continue}if(B!==void 0)_.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",o,F),d(B)?A.push(F):N?(B==="add"&&(B={}),T.splice(F,0,B),E&&E.splice(F,0,{})):a.warn("Unrecognized full object edit value",o,F,B),f===-1&&(f=F);else for(z=0;z<_.length;z++)O=o+"["+F+"].",s(T[F],_[z],O).set(H[_[z]])}for(w=A.length-1;w>=0;w--)T.splice(A[w],1),E&&E.splice(A[w],1);if(T.length?R||u.set(T):u.set(null),v)return!1;if(m(l,p),b!==C){var U;if(f===-1)U=M;else{for(P=Math.max(T.length,P),U=[],w=0;w<M.length&&(F=M[w],!(F>=f));w++)U.push(F);for(w=f;w<P;w++)U.push(w)}for(w=0;w<U.length;w++)b(r,U[w])}else c(r);return!0}},72391:function(W,V,e){var y=e(39898),C=e(92770),a=e(57035),L=e(71828),x=L.nestedProperty,h=e(11086),d=e(10847),t=e(73972),r=e(86281),u=e(74875),n=e(89298),i=e(91424),s=e(7901),o=e(4305).initInteractions,m=e(77922),c=e(47322).clearOutline,b=e(72075).dfltConfig,v=e(6611),l=e(58377),p=e(61549),S=e(30962),M=e(85555).AX_NAME_PATTERN,R=0,T=5;function E(ce,be,De,Ve){var it;if(ce=L.getGraphDiv(ce),h.init(ce),L.isPlainObject(be)){var ot=be;be=ot.data,De=ot.layout,Ve=ot.config,it=ot.frames}var Tt=h.triggerHandler(ce,"plotly_beforeplot",[be,De,Ve]);if(Tt===!1)return Promise.reject();!be&&!De&&!L.isPlotDiv(ce)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ce);function It(){if(it)return V.addFrames(ce,it)}z(ce,Ve),De||(De={}),y.select(ce).classed("js-plotly-plot",!0),i.makeTester(),Array.isArray(ce._promises)||(ce._promises=[]);var Ht=(ce.data||[]).length===0&&Array.isArray(be);Array.isArray(be)&&(l.cleanData(be),Ht?ce.data=be:ce.data.push.apply(ce.data,be),ce.empty=!1),(!ce.layout||Ht)&&(ce.layout=l.cleanLayout(De)),u.supplyDefaults(ce);var Gt=ce._fullLayout,Pt=Gt._has("cartesian");Gt._replotting=!0,(Ht||Gt._shouldCreateBgLayer)&&(Me(ce),Gt._shouldCreateBgLayer&&delete Gt._shouldCreateBgLayer),i.initGradients(ce),i.initPatterns(ce),Ht&&n.saveShowSpikeInitial(ce);var Jt=!ce.calcdata||ce.calcdata.length!==(ce._fullData||[]).length;Jt&&u.doCalcdata(ce);for(var or=0;or<ce.calcdata.length;or++)ce.calcdata[or][0].trace=ce._fullData[or];ce._context.responsive?ce._responsiveChartHandler||(ce._responsiveChartHandler=function(){L.isHidden(ce)||u.resize(ce)},window.addEventListener("resize",ce._responsiveChartHandler)):L.clearResponsive(ce);var zr=L.extendFlat({},Gt._size),mt=0;function Kt(){for(var St=Gt._basePlotModules,zt=0;zt<St.length;zt++)St[zt].drawFramework&&St[zt].drawFramework(ce);!Gt._glcanvas&&Gt._has("gl")&&(Gt._glcanvas=Gt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(sr){return sr.key}),Gt._glcanvas.enter().append("canvas").attr("class",function(sr){return"gl-canvas gl-canvas-"+sr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Vt=ce._context.plotGlPixelRatio;if(Gt._glcanvas){Gt._glcanvas.attr("width",Gt.width*Vt).attr("height",Gt.height*Vt).style("width",Gt.width+"px").style("height",Gt.height+"px");var qt=Gt._glcanvas.data()[0].regl;if(qt&&(Math.floor(Gt.width*Vt)!==qt._gl.drawingBufferWidth||Math.floor(Gt.height*Vt)!==qt._gl.drawingBufferHeight)){var $t="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(mt)L.error($t);else return L.log($t+" Clearing graph and plotting again."),u.cleanPlot([],{},ce._fullData,Gt),u.supplyDefaults(ce),Gt=ce._fullLayout,u.doCalcdata(ce),mt++,Kt()}}return Gt.modebar.orientation==="h"?Gt._modebardiv.style("height",null).style("width","100%"):Gt._modebardiv.style("width",null).style("height",Gt.height+"px"),u.previousPromises(ce)}function jt(){if(u.clearAutoMarginIds(ce),p.drawMarginPushers(ce),n.allowAutoMargin(ce),ce._fullLayout.title.text&&ce._fullLayout.title.automargin&&u.allowAutoMargin(ce,"title.automargin"),Gt._has("pie"))for(var St=ce._fullData,zt=0;zt<St.length;zt++){var Vt=St[zt];Vt.type==="pie"&&Vt.automargin&&u.allowAutoMargin(ce,"pie."+Vt.uid+".automargin")}return u.doAutoMargin(ce),u.previousPromises(ce)}function wr(){if(u.didMarginChange(zr,Gt._size))return L.syncOrAsync([jt,p.layoutStyles],ce)}function vr(){if(!Jt){ct();return}return L.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ct],ce)}function ct(){ce._transitioning||(p.doAutoRangeAndConstraints(ce),Ht&&n.saveRangeInitial(ce),t.getComponentMethod("rangeslider","calcAutorange")(ce))}function ut(){return n.draw(ce,Ht?"":"redraw")}var bt=[u.previousPromises,It,Kt,jt,wr];Pt&&bt.push(vr),bt.push(p.layoutStyles),Pt&&bt.push(ut,function(zt){zt._fullLayout._insideTickLabelsAutorange&&fe(zt,zt._fullLayout._insideTickLabelsAutorange).then(function(){zt._fullLayout._insideTickLabelsAutorange=void 0})}),bt.push(p.drawData,p.finalDraw,o,u.addLinks,u.rehover,u.redrag,u.reselect,u.doAutoMargin,At,u.previousPromises);function At(St){St._fullLayout._insideTickLabelsAutorange&&Ht&&n.saveRangeInitial(St,!0)}var Ct=L.syncOrAsync(bt,ce);return(!Ct||!Ct.then)&&(Ct=Promise.resolve()),Ct.then(function(){return A(ce),ce})}function A(ce){var be=ce._fullLayout;be._redrawFromAutoMarginCount?be._redrawFromAutoMarginCount--:ce.emit("plotly_afterplot")}function f(ce){return L.extendFlat(b,ce)}function P(ce,be){try{ce._fullLayout._paper.style("background",be)}catch(De){L.error(De)}}function w(ce,be){var De=s.combine(be,"white");P(ce,De)}function z(ce,be){if(!ce._context){ce._context=L.extendDeep({},b);var De=y.select("base");ce._context._baseUrl=De.size()&&De.attr("href")?window.location.href.split("#")[0]:""}var Ve=ce._context,it,ot,Tt;if(be){for(ot=Object.keys(be),it=0;it<ot.length;it++)Tt=ot[it],!(Tt==="editable"||Tt==="edits")&&Tt in Ve&&(Tt==="setBackground"&&be[Tt]==="opaque"?Ve[Tt]=w:Ve[Tt]=be[Tt]);be.plot3dPixelRatio&&!Ve.plotGlPixelRatio&&(Ve.plotGlPixelRatio=Ve.plot3dPixelRatio);var It=be.editable;if(It!==void 0)for(Ve.editable=It,ot=Object.keys(Ve.edits),it=0;it<ot.length;it++)Ve.edits[ot[it]]=It;if(be.edits)for(ot=Object.keys(be.edits),it=0;it<ot.length;it++)Tt=ot[it],Tt in Ve.edits&&(Ve.edits[Tt]=be.edits[Tt]);Ve._exportedPlot=be._exportedPlot}Ve.staticPlot&&(Ve.editable=!1,Ve.edits={},Ve.autosizable=!1,Ve.scrollZoom=!1,Ve.doubleClick=!1,Ve.showTips=!1,Ve.showLink=!1,Ve.displayModeBar=!1),Ve.displayModeBar==="hover"&&!a&&(Ve.displayModeBar=!0),(Ve.setBackground==="transparent"||typeof Ve.setBackground!="function")&&(Ve.setBackground=P),Ve._hasZeroHeight=Ve._hasZeroHeight||ce.clientHeight===0,Ve._hasZeroWidth=Ve._hasZeroWidth||ce.clientWidth===0;var Ht=Ve.scrollZoom,Gt=Ve._scrollZoom={};if(Ht===!0)Gt.cartesian=1,Gt.gl3d=1,Gt.geo=1,Gt.mapbox=1;else if(typeof Ht=="string"){var Pt=Ht.split("+");for(it=0;it<Pt.length;it++)Gt[Pt[it]]=1}else Ht!==!1&&(Gt.gl3d=1,Gt.geo=1,Gt.mapbox=1)}function F(ce){if(ce=L.getGraphDiv(ce),!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);return l.cleanData(ce.data),l.cleanLayout(ce.layout),ce.calcdata=void 0,V._doPlot(ce).then(function(){return ce.emit("plotly_redraw"),ce})}function H(ce,be,De,Ve){return ce=L.getGraphDiv(ce),u.cleanPlot([],{},ce._fullData||[],ce._fullLayout||{}),u.purge(ce),V._doPlot(ce,be,De,Ve)}function _(ce,be){var De=be+1,Ve=[],it,ot;for(it=0;it<ce.length;it++)ot=ce[it],ot<0?Ve.push(De+ot):Ve.push(ot);return Ve}function B(ce,be,De){var Ve,it;for(Ve=0;Ve<be.length;Ve++){if(it=be[Ve],it!==parseInt(it,10))throw new Error("all values in "+De+" must be integers");if(it>=ce.data.length||it<-ce.data.length)throw new Error(De+" must be valid indices for gd.data.");if(be.indexOf(it,Ve+1)>-1||it>=0&&be.indexOf(-ce.data.length+it)>-1||it<0&&be.indexOf(ce.data.length+it)>-1)throw new Error("each index in "+De+" must be unique.")}}function N(ce,be,De){if(!Array.isArray(ce.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(be)||(be=[be]),B(ce,be,"currentIndices"),typeof De<"u"&&!Array.isArray(De)&&(De=[De]),typeof De<"u"&&B(ce,De,"newIndices"),typeof De<"u"&&be.length!==De.length)throw new Error("current and new indices must be of equal length.")}function O(ce,be,De){var Ve,it;if(!Array.isArray(ce.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("traces must be defined.");for(Array.isArray(be)||(be=[be]),Ve=0;Ve<be.length;Ve++)if(it=be[Ve],typeof it!="object"||Array.isArray(it)||it===null)throw new Error("all values in traces array must be non-array objects");if(typeof De<"u"&&!Array.isArray(De)&&(De=[De]),typeof De<"u"&&De.length!==be.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function U(ce,be,De,Ve){var it=L.isPlainObject(Ve);if(!Array.isArray(ce.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(be))throw new Error("update must be a key:value object");if(typeof De>"u")throw new Error("indices must be an integer or array of integers");B(ce,De,"indices");for(var ot in be){if(!Array.isArray(be[ot])||be[ot].length!==De.length)throw new Error("attribute "+ot+" must be an array of length equal to indices array length");if(it&&(!(ot in Ve)||!Array.isArray(Ve[ot])||Ve[ot].length!==be[ot].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function K(ce,be,De,Ve){var it=L.isPlainObject(Ve),ot=[],Tt,It,Ht,Gt,Pt;Array.isArray(De)||(De=[De]),De=_(De,ce.data.length-1);for(var Jt in be)for(var or=0;or<De.length;or++){if(Tt=ce.data[De[or]],Ht=x(Tt,Jt),It=Ht.get(),Gt=be[Jt][or],!L.isArrayOrTypedArray(Gt))throw new Error("attribute: "+Jt+" index: "+or+" must be an array");if(!L.isArrayOrTypedArray(It))throw new Error("cannot extend missing or non-array attribute: "+Jt);if(It.constructor!==Gt.constructor)throw new Error("cannot extend array with an array of a different type: "+Jt);Pt=it?Ve[Jt][or]:Ve,C(Pt)||(Pt=-1),ot.push({prop:Ht,target:It,insert:Gt,maxp:Math.floor(Pt)})}return ot}function re(ce,be,De,Ve,it){U(ce,be,De,Ve);for(var ot=K(ce,be,De,Ve),Tt={},It={},Ht=0;Ht<ot.length;Ht++){var Gt=ot[Ht].prop,Pt=ot[Ht].maxp,Jt=it(ot[Ht].target,ot[Ht].insert,Pt);Gt.set(Jt[0]),Array.isArray(Tt[Gt.astr])||(Tt[Gt.astr]=[]),Tt[Gt.astr].push(Jt[1]),Array.isArray(It[Gt.astr])||(It[Gt.astr]=[]),It[Gt.astr].push(ot[Ht].target.length)}return{update:Tt,maxPoints:It}}function ae(ce,be){var De=new ce.constructor(ce.length+be.length);return De.set(ce),De.set(be,ce.length),De}function ue(ce,be,De,Ve){ce=L.getGraphDiv(ce);function it(Ht,Gt,Pt){var Jt,or;if(L.isTypedArray(Ht))if(Pt<0){var zr=new Ht.constructor(0),mt=ae(Ht,Gt);Pt<0?(Jt=mt,or=zr):(Jt=zr,or=mt)}else if(Jt=new Ht.constructor(Pt),or=new Ht.constructor(Ht.length+Gt.length-Pt),Pt===Gt.length)Jt.set(Gt),or.set(Ht);else if(Pt<Gt.length){var Kt=Gt.length-Pt;Jt.set(Gt.subarray(Kt)),or.set(Ht),or.set(Gt.subarray(0,Kt),Ht.length)}else{var jt=Pt-Gt.length,wr=Ht.length-jt;Jt.set(Ht.subarray(wr)),Jt.set(Gt,jt),or.set(Ht.subarray(0,wr))}else Jt=Ht.concat(Gt),or=Pt>=0&&Pt<Jt.length?Jt.splice(0,Jt.length-Pt):[];return[Jt,or]}var ot=re(ce,be,De,Ve,it),Tt=V.redraw(ce),It=[ce,ot.update,De,ot.maxPoints];return d.add(ce,V.prependTraces,It,ue,arguments),Tt}function ve(ce,be,De,Ve){ce=L.getGraphDiv(ce);function it(Ht,Gt,Pt){var Jt,or;if(L.isTypedArray(Ht))if(Pt<=0){var zr=new Ht.constructor(0),mt=ae(Gt,Ht);Pt<0?(Jt=mt,or=zr):(Jt=zr,or=mt)}else if(Jt=new Ht.constructor(Pt),or=new Ht.constructor(Ht.length+Gt.length-Pt),Pt===Gt.length)Jt.set(Gt),or.set(Ht);else if(Pt<Gt.length){var Kt=Gt.length-Pt;Jt.set(Gt.subarray(0,Kt)),or.set(Gt.subarray(Kt)),or.set(Ht,Kt)}else{var jt=Pt-Gt.length;Jt.set(Gt),Jt.set(Ht.subarray(0,jt),Gt.length),or.set(Ht.subarray(jt))}else Jt=Gt.concat(Ht),or=Pt>=0&&Pt<Jt.length?Jt.splice(Pt,Jt.length):[];return[Jt,or]}var ot=re(ce,be,De,Ve,it),Tt=V.redraw(ce),It=[ce,ot.update,De,ot.maxPoints];return d.add(ce,V.extendTraces,It,ve,arguments),Tt}function ee(ce,be,De){ce=L.getGraphDiv(ce);var Ve=[],it=V.deleteTraces,ot=ee,Tt=[ce,Ve],It=[ce,be],Ht,Gt;for(O(ce,be,De),Array.isArray(be)||(be=[be]),be=be.map(function(Pt){return L.extendFlat({},Pt)}),l.cleanData(be),Ht=0;Ht<be.length;Ht++)ce.data.push(be[Ht]);for(Ht=0;Ht<be.length;Ht++)Ve.push(-be.length+Ht);if(typeof De>"u")return Gt=V.redraw(ce),d.add(ce,it,Tt,ot,It),Gt;Array.isArray(De)||(De=[De]);try{N(ce,Ve,De)}catch(Pt){throw ce.data.splice(ce.data.length-be.length,be.length),Pt}return d.startSequence(ce),d.add(ce,it,Tt,ot,It),Gt=V.moveTraces(ce,Ve,De),d.stopSequence(ce),Gt}function J(ce,be){ce=L.getGraphDiv(ce);var De=[],Ve=V.addTraces,it=J,ot=[ce,De,be],Tt=[ce,be],It,Ht;if(typeof be>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(be)||(be=[be]),B(ce,be,"indices"),be=_(be,ce.data.length-1),be.sort(L.sorterDes),It=0;It<be.length;It+=1)Ht=ce.data.splice(be[It],1)[0],De.push(Ht);var Gt=V.redraw(ce);return d.add(ce,Ve,ot,it,Tt),Gt}function Q(ce,be,De){ce=L.getGraphDiv(ce);var Ve=[],it=[],ot=Q,Tt=Q,It=[ce,De,be],Ht=[ce,be,De],Gt;if(N(ce,be,De),be=Array.isArray(be)?be:[be],typeof De>"u")for(De=[],Gt=0;Gt<be.length;Gt++)De.push(-be.length+Gt);for(De=Array.isArray(De)?De:[De],be=_(be,ce.data.length-1),De=_(De,ce.data.length-1),Gt=0;Gt<ce.data.length;Gt++)be.indexOf(Gt)===-1&&Ve.push(ce.data[Gt]);for(Gt=0;Gt<be.length;Gt++)it.push({newIndex:De[Gt],trace:ce.data[be[Gt]]});for(it.sort(function(Jt,or){return Jt.newIndex-or.newIndex}),Gt=0;Gt<it.length;Gt+=1)Ve.splice(it[Gt].newIndex,0,it[Gt].trace);ce.data=Ve;var Pt=V.redraw(ce);return d.add(ce,ot,It,Tt,Ht),Pt}function X(ce,be,De,Ve){ce=L.getGraphDiv(ce),l.clearPromiseQueue(ce);var it={};if(typeof be=="string")it[be]=De;else if(L.isPlainObject(be))it=L.extendFlat({},be),Ve===void 0&&(Ve=De);else return L.warn("Restyle fail.",be,De,Ve),Promise.reject();Object.keys(it).length&&(ce.changed=!0);var ot=l.coerceTraceIndices(ce,Ve),Tt=ie(ce,it,ot),It=Tt.flags;It.calc&&(ce.calcdata=void 0),It.clearAxisTypes&&l.clearAxisTypes(ce,ot,{});var Ht=[];It.fullReplot?Ht.push(V._doPlot):(Ht.push(u.previousPromises),u.supplyDefaults(ce),It.markerSize&&(u.doCalcdata(ce),we(Ht)),It.style&&Ht.push(p.doTraceStyle),It.colorbars&&Ht.push(p.doColorBars),Ht.push(A)),Ht.push(u.rehover,u.redrag,u.reselect),d.add(ce,X,[ce,Tt.undoit,Tt.traces],X,[ce,Tt.redoit,Tt.traces]);var Gt=L.syncOrAsync(Ht,ce);return(!Gt||!Gt.then)&&(Gt=Promise.resolve()),Gt.then(function(){return ce.emit("plotly_restyle",Tt.eventData),ce})}function q(ce){return ce===void 0?null:ce}function se(ce,be){return be?function(De,Ve,it){var ot=x(De,Ve),Tt=ot.set;return ot.set=function(It){var Ht=(it||"")+Ve;Y(Ht,ot.get(),It,ce),Tt(It)},ot}:x}function Y(ce,be,De,Ve){if(Array.isArray(be)||Array.isArray(De))for(var it=Array.isArray(be)?be:[],ot=Array.isArray(De)?De:[],Tt=Math.max(it.length,ot.length),It=0;It<Tt;It++)Y(ce+"["+It+"]",it[It],ot[It],Ve);else if(L.isPlainObject(be)||L.isPlainObject(De)){var Ht=L.isPlainObject(be)?be:{},Gt=L.isPlainObject(De)?De:{},Pt=L.extendFlat({},Ht,Gt);for(var Jt in Pt)Y(ce+"."+Jt,Ht[Jt],Gt[Jt],Ve)}else Ve[ce]===void 0&&(Ve[ce]=q(be))}function Z(ce,be,De){for(var Ve in De){var it=x(ce,Ve);Y(Ve,it.get(),De[Ve],be)}}function ie(ce,be,De){var Ve=ce._fullLayout,it=ce._fullData,ot=ce.data,Tt=Ve._guiEditing,It=se(Ve._preGUI,Tt),Ht=L.extendDeepAll({},be),Gt;te(be);var Pt=S.traceFlags(),Jt={},or={},zr;function mt(){return De.map(function(){})}function Kt(Kr){var kn=n.id2name(Kr);zr.indexOf(kn)===-1&&zr.push(kn)}function jt(Kr){return"LAYOUT"+Kr+".autorange"}function wr(Kr){return"LAYOUT"+Kr+".range"}function vr(Kr){for(var kn=Kr;kn<it.length;kn++)if(it[kn]._input===ot[Kr])return it[kn]}function ct(Kr,kn,In){if(Array.isArray(Kr)){Kr.forEach(function(Nr){ct(Nr,kn,In)});return}if(!(Kr in be||l.hasParent(be,Kr))){var br;if(Kr.substr(0,6)==="LAYOUT")br=It(ce.layout,Kr.replace("LAYOUT",""));else{var Mr=De[In],Br=Ve._tracePreGUI[vr(Mr)._fullInput.uid];br=se(Br,Tt)(ot[Mr],Kr)}Kr in or||(or[Kr]=mt()),or[Kr][In]===void 0&&(or[Kr][In]=q(br.get())),kn!==void 0&&br.set(kn)}}function ut(Kr){return function(kn){return it[kn][Kr]}}function bt(Kr){return function(kn,In){return kn===!1?it[De[In]][Kr]:null}}for(var At in be){if(l.hasParent(be,At))throw new Error("cannot set "+At+" and a parent attribute simultaneously");var Ct=be[At],St,zt,Vt,qt,$t,sr;if((At==="autobinx"||At==="autobiny")&&(At=At.charAt(At.length-1)+"bins",Array.isArray(Ct)?Ct=Ct.map(bt(At)):Ct===!1?Ct=De.map(ut(At)):Ct=null),Jt[At]=Ct,At.substr(0,6)==="LAYOUT"){Vt=It(ce.layout,At.replace("LAYOUT","")),or[At]=[q(Vt.get())],Vt.set(Array.isArray(Ct)?Ct[0]:Ct),Pt.calc=!0;continue}for(or[At]=mt(),Gt=0;Gt<De.length;Gt++){St=ot[De[Gt]],zt=vr(De[Gt]);var Cr=Ve._tracePreGUI[zt._fullInput.uid];if(Vt=se(Cr,Tt)(St,At),qt=Vt.get(),$t=Array.isArray(Ct)?Ct[Gt%Ct.length]:Ct,$t!==void 0){var Ze=Vt.parts[Vt.parts.length-1],je=At.substr(0,At.length-Ze.length-1),kt=je?je+".":"",_t=je?x(zt,je).get():zt;if(sr=r.getTraceValObject(zt,Vt.parts),sr&&sr.impliedEdits&&$t!==null)for(var Zt in sr.impliedEdits)ct(L.relativeAttr(At,Zt),sr.impliedEdits[Zt],Gt);else if((Ze==="thicknessmode"||Ze==="lenmode")&&qt!==$t&&($t==="fraction"||$t==="pixels")&&_t){var ar=Ve._size,ur=_t.orient,nr=ur==="top"||ur==="bottom";if(Ze==="thicknessmode"){var Ot=nr?ar.h:ar.w;ct(kt+"thickness",_t.thickness*($t==="fraction"?1/Ot:Ot),Gt)}else{var cr=nr?ar.w:ar.h;ct(kt+"len",_t.len*($t==="fraction"?1/cr:cr),Gt)}}else if(At==="type"&&($t==="pie"!=(qt==="pie")||$t==="funnelarea"!=(qt==="funnelarea"))){var pr="x",gr="y";($t==="bar"||qt==="bar")&&St.orientation==="h"&&(pr="y",gr="x"),L.swapAttrs(St,["?","?src"],"labels",pr),L.swapAttrs(St,["d?","?0"],"label",pr),L.swapAttrs(St,["?","?src"],"values",gr),qt==="pie"||qt==="funnelarea"?(x(St,"marker.color").set(x(St,"marker.colors").get()),Ve._pielayer.selectAll("g.trace").remove()):t.traceIs(St,"cartesian")&&x(St,"marker.colors").set(x(St,"marker.color").get())}or[At][Gt]=q(qt);var dr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(dr.indexOf(At)!==-1){if(At==="orientation"){Vt.set($t);var Gr=St.x&&!St.y?"h":"v";if((Vt.get()||Gr)===zt.orientation)continue}else At==="orientationaxes"&&(St.orientation={v:"h",h:"v"}[zt.orientation]);l.swapXYData(St),Pt.calc=Pt.clearAxisTypes=!0}else u.dataArrayContainers.indexOf(Vt.parts[0])!==-1?(l.manageArrayContainers(Vt,$t,or),Pt.calc=!0):(sr?sr.arrayOk&&!t.traceIs(zt,"regl")&&(L.isArrayOrTypedArray($t)||L.isArrayOrTypedArray(qt))?Pt.calc=!0:S.update(Pt,sr):Pt.calc=!0,Vt.set($t))}}if(["swapxyaxes","orientationaxes"].indexOf(At)!==-1&&n.swap(ce,De),At==="orientationaxes"){var kr=x(ce.layout,"hovermode"),Fr=kr.get();Fr==="x"?kr.set("y"):Fr==="y"?kr.set("x"):Fr==="x unified"?kr.set("y unified"):Fr==="y unified"&&kr.set("x unified")}if(["orientation","type"].indexOf(At)!==-1){for(zr=[],Gt=0;Gt<De.length;Gt++){var gn=ot[De[Gt]];t.traceIs(gn,"cartesian")&&(Kt(gn.xaxis||"x"),Kt(gn.yaxis||"y"))}ct(zr.map(jt),!0,0),ct(zr.map(wr),[0,1],0)}}return(Pt.calc||Pt.plot)&&(Pt.fullReplot=!0),{flags:Pt,undoit:or,redoit:Jt,traces:De,eventData:L.extendDeepNoArrays([],[Ht,De])}}function te(ce){var be=L.counterRegex("axis",".title",!1,!1),De=/colorbar\.title$/,Ve=Object.keys(ce),it,ot,Tt;for(it=0;it<Ve.length;it++)ot=Ve[it],Tt=ce[ot],(ot==="title"||be.test(ot)||De.test(ot))&&(typeof Tt=="string"||typeof Tt=="number")?It(ot,ot.replace("title","title.text")):ot.indexOf("titlefont")>-1&&ot.indexOf("grouptitlefont")===-1?It(ot,ot.replace("titlefont","title.font")):ot.indexOf("titleposition")>-1?It(ot,ot.replace("titleposition","title.position")):ot.indexOf("titleside")>-1?It(ot,ot.replace("titleside","title.side")):ot.indexOf("titleoffset")>-1&&It(ot,ot.replace("titleoffset","title.offset"));function It(Ht,Gt){ce[Gt]=ce[Ht],delete ce[Ht]}}function fe(ce,be,De){ce=L.getGraphDiv(ce),l.clearPromiseQueue(ce);var Ve={};if(typeof be=="string")Ve[be]=De;else if(L.isPlainObject(be))Ve=L.extendFlat({},be);else return L.warn("Relayout fail.",be,De),Promise.reject();Object.keys(Ve).length&&(ce.changed=!0);var it=Se(ce,Ve),ot=it.flags;ot.calc&&(ce.calcdata=void 0);var Tt=[u.previousPromises];ot.layoutReplot?Tt.push(p.layoutReplot):Object.keys(Ve).length&&(de(ce,ot,it)||u.supplyDefaults(ce),ot.legend&&Tt.push(p.doLegend),ot.layoutstyle&&Tt.push(p.layoutStyles),ot.axrange&&we(Tt,it.rangesAltered),ot.ticks&&Tt.push(p.doTicksRelayout),ot.modebar&&Tt.push(p.doModeBar),ot.camera&&Tt.push(p.doCamera),ot.colorbars&&Tt.push(p.doColorBars),Tt.push(A)),Tt.push(u.rehover,u.redrag,u.reselect),d.add(ce,fe,[ce,it.undoit],fe,[ce,it.redoit]);var It=L.syncOrAsync(Tt,ce);return(!It||!It.then)&&(It=Promise.resolve(ce)),It.then(function(){return ce.emit("plotly_relayout",it.eventData),ce})}function de(ce,be,De){var Ve=ce._fullLayout;if(!be.axrange)return!1;for(var it in be)if(it!=="axrange"&&be[it])return!1;for(var ot in De.rangesAltered){var Tt=n.id2name(ot),It=ce.layout[Tt],Ht=Ve[Tt];Ht.autorange=It.autorange;var Gt=Ht._rangeInitial0,Pt=Ht._rangeInitial1;if(Gt===void 0&&Pt!==void 0||Gt!==void 0&&Pt===void 0)return!1;if(It.range&&(Ht.range=It.range.slice()),Ht.cleanRange(),Ht._matchGroup){for(var Jt in Ht._matchGroup)if(Jt!==ot){var or=Ve[n.id2name(Jt)];or.autorange=Ht.autorange,or.range=Ht.range.slice(),or._input.range=Ht.range.slice()}}}return!0}function we(ce,be){var De=be?function(Ve){var it=[],ot=!0;for(var Tt in be){var It=n.getFromId(Ve,Tt);if(it.push(Tt),(It.ticklabelposition||"").indexOf("inside")!==-1&&It._anchorAxis&&it.push(It._anchorAxis._id),It._matchGroup)for(var Ht in It._matchGroup)be[Ht]||it.push(Ht)}return n.draw(Ve,it,{skipTitle:ot})}:function(Ve){return n.draw(Ve,"redraw")};ce.push(c,p.doAutoRangeAndConstraints,De,p.drawData,p.finalDraw)}var Ae=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Re=/^[xyz]axis[0-9]*\.autorange$/,Fe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Se(ce,be){var De=ce.layout,Ve=ce._fullLayout,it=Ve._guiEditing,ot=se(Ve._preGUI,it),Tt=Object.keys(be),It=n.list(ce),Ht=L.extendDeepAll({},be),Gt={},Pt,Jt,or;for(te(be),Tt=Object.keys(be),Jt=0;Jt<Tt.length;Jt++)if(Tt[Jt].indexOf("allaxes")===0){for(or=0;or<It.length;or++){var zr=It[or]._id.substr(1),mt=zr.indexOf("scene")!==-1?zr+".":"",Kt=Tt[Jt].replace("allaxes",mt+It[or]._name);be[Kt]||(be[Kt]=be[Tt[Jt]])}delete be[Tt[Jt]]}var jt=S.layoutFlags(),wr={},vr={};function ct(Br,Nr){if(Array.isArray(Br)){Br.forEach(function(dn){ct(dn,Nr)});return}if(!(Br in be||l.hasParent(be,Br))){var en=ot(De,Br);Br in vr||(vr[Br]=q(en.get())),Nr!==void 0&&en.set(Nr)}}var ut={},bt;function At(Br){var Nr=n.name2id(Br.split(".")[0]);return ut[Nr]=1,Nr}for(var Ct in be){if(l.hasParent(be,Ct))throw new Error("cannot set "+Ct+" and a parent attribute simultaneously");for(var St=ot(De,Ct),zt=be[Ct],Vt=St.parts.length,qt=Vt-1;qt>0&&typeof St.parts[qt]!="string";)qt--;var $t=St.parts[qt],sr=St.parts[qt-1]+"."+$t,Cr=St.parts.slice(0,qt).join("."),Ze=x(ce.layout,Cr).get(),je=x(Ve,Cr).get(),kt=St.get();if(zt!==void 0){wr[Ct]=zt,vr[Ct]=$t==="reverse"?zt:q(kt);var _t=r.getLayoutValObject(Ve,St.parts);if(_t&&_t.impliedEdits&&zt!==null)for(var Zt in _t.impliedEdits)ct(L.relativeAttr(Ct,Zt),_t.impliedEdits[Zt]);if(["width","height"].indexOf(Ct)!==-1)if(zt){ct("autosize",null);var ar=Ct==="height"?"width":"height";ct(ar,Ve[ar])}else Ve[Ct]=ce._initialAutoSize[Ct];else if(Ct==="autosize")ct("width",zt?null:Ve.width),ct("height",zt?null:Ve.height);else if(sr.match(Ae))At(sr),x(Ve,Cr+"._inputRange").set(null);else if(sr.match(Re)){At(sr),x(Ve,Cr+"._inputRange").set(null);var ur=x(Ve,Cr).get();ur._inputDomain&&(ur._input.domain=ur._inputDomain.slice())}else sr.match(Fe)&&x(Ve,Cr+"._inputDomain").set(null);if($t==="type"){bt=Ze;var nr=je.type==="linear"&&zt==="log",Ot=je.type==="log"&&zt==="linear";if(nr||Ot){if(!bt||!bt.range)ct(Cr+".autorange",!0);else if(je.autorange)nr&&(bt.range=bt.range[1]>bt.range[0]?[1,2]:[2,1]);else{var cr=bt.range[0],pr=bt.range[1];nr?(cr<=0&&pr<=0&&ct(Cr+".autorange",!0),cr<=0?cr=pr/1e6:pr<=0&&(pr=cr/1e6),ct(Cr+".range[0]",Math.log(cr)/Math.LN10),ct(Cr+".range[1]",Math.log(pr)/Math.LN10)):(ct(Cr+".range[0]",Math.pow(10,cr)),ct(Cr+".range[1]",Math.pow(10,pr)))}Array.isArray(Ve._subplots.polar)&&Ve._subplots.polar.length&&Ve[St.parts[0]]&&St.parts[1]==="radialaxis"&&delete Ve[St.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(ce,je,zt,ct),t.getComponentMethod("images","convertCoords")(ce,je,zt,ct)}else ct(Cr+".autorange",!0),ct(Cr+".range",null);x(Ve,Cr+"._inputRange").set(null)}else if($t.match(M)){var gr=x(Ve,Ct).get(),dr=(zt||{}).type;(!dr||dr==="-")&&(dr="linear"),t.getComponentMethod("annotations","convertCoords")(ce,gr,dr,ct),t.getComponentMethod("images","convertCoords")(ce,gr,dr,ct)}var Gr=v.containerArrayMatch(Ct);if(Gr){Pt=Gr.array,Jt=Gr.index;var kr=Gr.property,Fr=_t||{editType:"calc"};Jt!==""&&kr===""&&(v.isAddVal(zt)?vr[Ct]=null:v.isRemoveVal(zt)?vr[Ct]=(x(De,Pt).get()||[])[Jt]:L.warn("unrecognized full object value",be)),S.update(jt,Fr),Gt[Pt]||(Gt[Pt]={});var gn=Gt[Pt][Jt];gn||(gn=Gt[Pt][Jt]={}),gn[kr]=zt,delete be[Ct]}else $t==="reverse"?(Ze.range?Ze.range.reverse():(ct(Cr+".autorange",!0),Ze.range=[1,0]),je.autorange?jt.calc=!0:jt.plot=!0):(Ct==="dragmode"&&(zt===!1&&kt!==!1||zt!==!1&&kt===!1)||Ve._has("scatter-like")&&Ve._has("regl")&&Ct==="dragmode"&&(zt==="lasso"||zt==="select")&&!(kt==="lasso"||kt==="select")||Ve._has("gl2d")?jt.plot=!0:_t?S.update(jt,_t):jt.calc=!0,St.set(zt))}}for(Pt in Gt){var Kr=v.applyContainerArrayChanges(ce,ot(De,Pt),Gt[Pt],jt,ot);Kr||(jt.plot=!0)}for(var kn in ut){bt=n.getFromId(ce,kn);var In=bt&&bt._constraintGroup;if(In){jt.calc=!0;for(var br in In)ut[br]||(n.getFromId(ce,br)._constraintShrinkable=!0)}}(Te(ce)||be.height||be.width)&&(jt.plot=!0);var Mr=Ve.shapes;for(Jt=0;Jt<Mr.length;Jt++)if(Mr[Jt].showlegend){jt.calc=!0;break}return(jt.plot||jt.calc)&&(jt.layoutReplot=!0),{flags:jt,rangesAltered:ut,undoit:vr,redoit:wr,eventData:Ht}}function Te(ce){var be=ce._fullLayout,De=be.width,Ve=be.height;return ce.layout.autosize&&u.plotAutoSize(ce,ce.layout,be),be.width!==De||be.height!==Ve}function Ee(ce,be,De,Ve){ce=L.getGraphDiv(ce),l.clearPromiseQueue(ce),L.isPlainObject(be)||(be={}),L.isPlainObject(De)||(De={}),Object.keys(be).length&&(ce.changed=!0),Object.keys(De).length&&(ce.changed=!0);var it=l.coerceTraceIndices(ce,Ve),ot=ie(ce,L.extendFlat({},be),it),Tt=ot.flags,It=Se(ce,L.extendFlat({},De)),Ht=It.flags;(Tt.calc||Ht.calc)&&(ce.calcdata=void 0),Tt.clearAxisTypes&&l.clearAxisTypes(ce,it,De);var Gt=[];Ht.layoutReplot?Gt.push(p.layoutReplot):Tt.fullReplot?Gt.push(V._doPlot):(Gt.push(u.previousPromises),de(ce,Ht,It)||u.supplyDefaults(ce),Tt.style&&Gt.push(p.doTraceStyle),(Tt.colorbars||Ht.colorbars)&&Gt.push(p.doColorBars),Ht.legend&&Gt.push(p.doLegend),Ht.layoutstyle&&Gt.push(p.layoutStyles),Ht.axrange&&we(Gt,It.rangesAltered),Ht.ticks&&Gt.push(p.doTicksRelayout),Ht.modebar&&Gt.push(p.doModeBar),Ht.camera&&Gt.push(p.doCamera),Gt.push(A)),Gt.push(u.rehover,u.redrag,u.reselect),d.add(ce,Ee,[ce,ot.undoit,It.undoit,ot.traces],Ee,[ce,ot.redoit,It.redoit,ot.traces]);var Pt=L.syncOrAsync(Gt,ce);return(!Pt||!Pt.then)&&(Pt=Promise.resolve(ce)),Pt.then(function(){return ce.emit("plotly_update",{data:ot.eventData,layout:It.eventData}),ce})}function Ne(ce){return function(De){De._fullLayout._guiEditing=!0;var Ve=ce.apply(null,arguments);return De._fullLayout._guiEditing=!1,Ve}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],_e=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function We(ce,be){for(var De=0;De<be.length;De++){var Ve=be[De],it=ce.match(Ve.pattern);if(it){var ot=it[1]||"";return{head:ot,tail:ce.substr(ot.length+1),attr:Ve.attr}}}}function tt(ce,be){var De=x(be,ce).get();if(De!==void 0)return De;var Ve=ce.split(".");for(Ve.pop();Ve.length>1;)if(Ve.pop(),De=x(be,Ve.join(".")+".uirevision").get(),De!==void 0)return De;return be.uirevision}function Ke(ce,be){for(var De=0;De<be.length;De++)if(be[De]._fullInput.uid===ce)return De;return-1}function qe(ce,be,De){for(var Ve=0;Ve<be.length;Ve++)if(be[Ve].uid===ce)return Ve;return!be[De]||be[De].uid?-1:De}function rt(ce,be){var De=L.isPlainObject(ce),Ve=Array.isArray(ce);return De||Ve?(De&&L.isPlainObject(be)||Ve&&Array.isArray(be))&&JSON.stringify(ce)===JSON.stringify(be):ce===be}function ft(ce,be,De,Ve){var it=Ve._preGUI,ot,Tt,It,Ht,Gt,Pt,Jt,or,zr,mt,Kt=[],jt={},wr={};for(ot in it){if(Gt=We(ot,He),Gt){if(zr=Gt.head,mt=Gt.tail,Tt=Gt.attr||zr+".uirevision",It=x(Ve,Tt).get(),Ht=It&&tt(Tt,be),Ht&&Ht===It){if(Pt=it[ot],Pt===null&&(Pt=void 0),Jt=x(be,ot),or=Jt.get(),rt(or,Pt)){or===void 0&&mt==="autorange"&&Kt.push(zr),Jt.set(q(x(Ve,ot).get()));continue}else if(mt==="autorange"||mt.substr(0,6)==="range["){var vr=it[zr+".range[0]"],ct=it[zr+".range[1]"],ut=it[zr+".autorange"];if(ut||ut===null&&vr===null&&ct===null){if(!(zr in jt)){var bt=x(be,zr).get();jt[zr]=bt&&(bt.autorange||bt.autorange!==!1&&(!bt.range||bt.range.length!==2))}if(jt[zr]){Jt.set(q(x(Ve,ot).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+ot);delete it[ot],Gt&&Gt.tail.substr(0,6)==="range["&&(wr[Gt.head]=1)}for(var At=0;At<Kt.length;At++){var Ct=Kt[At];if(wr[Ct]){var St=x(be,Ct).get();St&&delete St.autorange}}var zt=Ve._tracePreGUI;for(var Vt in zt){var qt=zt[Vt],$t=null,sr;for(ot in qt){if(!$t){var Cr=Ke(Vt,De);if(Cr<0){delete zt[Vt];break}var Ze=De[Cr];sr=Ze._fullInput;var je=qe(Vt,ce,sr.index);if(je<0){delete zt[Vt];break}$t=ce[je]}if(Gt=We(ot,_e),Gt){if(Gt.attr?(It=x(Ve,Gt.attr).get(),Ht=It&&tt(Gt.attr,be)):(It=sr.uirevision,Ht=$t.uirevision,Ht===void 0&&(Ht=be.uirevision)),Ht&&Ht===It&&(Pt=qt[ot],Pt===null&&(Pt=void 0),Jt=x($t,ot),or=Jt.get(),rt(or,Pt))){Jt.set(q(x(sr,ot).get()));continue}}else L.warn("unrecognized GUI edit: "+ot+" in trace uid "+Vt);delete qt[ot]}}}function pt(ce,be,De,Ve){var it,ot;function Tt(){return V.addFrames(ce,it)}ce=L.getGraphDiv(ce),l.clearPromiseQueue(ce);var It=ce._fullData,Ht=ce._fullLayout;if(!L.isPlotDiv(ce)||!It||!Ht)ot=V.newPlot(ce,be,De,Ve);else{if(L.isPlainObject(be)){var Gt=be;be=Gt.data,De=Gt.layout,Ve=Gt.config,it=Gt.frames}var Pt=!1;if(Ve){var Jt=L.extendDeep({},ce._context);ce._context=void 0,z(ce,Ve),Pt=Wt(Jt,ce._context)}ce.data=be||[],l.cleanData(ce.data),ce.layout=De||{},l.cleanLayout(ce.layout),ft(ce.data,ce.layout,It,Ht),u.supplyDefaults(ce,{skipUpdateCalc:!0});var or=ce._fullData,zr=ce._fullLayout,mt=zr.datarevision===void 0,Kt=zr.transition,jt=Mt(ce,Ht,zr,mt,Kt),wr=jt.newDataRevision,vr=gt(ce,It,or,mt,Kt,wr);if(Te(ce)&&(jt.layoutReplot=!0),vr.calc||jt.calc){ce.calcdata=void 0;for(var ct=Object.getOwnPropertyNames(zr),ut=0;ut<ct.length;ut++){var bt=ct[ut],At=bt.substring(0,5);if(At==="xaxis"||At==="yaxis"){var Ct=zr[bt]._emptyCategories;Ct&&Ct()}}}else u.supplyDefaultsUpdateCalc(ce.calcdata,or);var St=[];if(it&&(ce._transitionData={},u.createTransitionData(ce),St.push(Tt)),zr.transition&&!Pt&&(vr.anim||jt.anim))jt.ticks&&St.push(p.doTicksRelayout),u.doCalcdata(ce),p.doAutoRangeAndConstraints(ce),St.push(function(){return u.transitionFromReact(ce,vr,jt,Ht)});else if(vr.fullReplot||jt.layoutReplot||Pt)ce._fullLayout._skipDefaults=!0,St.push(V._doPlot);else{for(var zt in jt.arrays){var Vt=jt.arrays[zt];if(Vt.length){var qt=t.getComponentMethod(zt,"drawOne");if(qt!==L.noop)for(var $t=0;$t<Vt.length;$t++)qt(ce,Vt[$t]);else{var sr=t.getComponentMethod(zt,"draw");if(sr===L.noop)throw new Error("cannot draw components: "+zt);sr(ce)}}}St.push(u.previousPromises),vr.style&&St.push(p.doTraceStyle),(vr.colorbars||jt.colorbars)&&St.push(p.doColorBars),jt.legend&&St.push(p.doLegend),jt.layoutstyle&&St.push(p.layoutStyles),jt.axrange&&we(St),jt.ticks&&St.push(p.doTicksRelayout),jt.modebar&&St.push(p.doModeBar),jt.camera&&St.push(p.doCamera),St.push(A)}St.push(u.rehover,u.redrag,u.reselect),ot=L.syncOrAsync(St,ce),(!ot||!ot.then)&&(ot=Promise.resolve(ce))}return ot.then(function(){return ce.emit("plotly_react",{data:be,layout:De}),ce})}function gt(ce,be,De,Ve,it,ot){var Tt=be.length===De.length;if(!it&&!Tt)return{fullReplot:!0,calc:!0};var It=S.traceFlags();It.arrays={},It.nChanges=0,It.nChangesAnim=0;var Ht,Gt;function Pt(zr){var mt=r.getTraceValObject(Gt,zr);return!Gt._module.animatable&&mt.anim&&(mt.anim=!1),mt}var Jt={getValObject:Pt,flags:It,immutable:Ve,transition:it,newDataRevision:ot,gd:ce},or={};for(Ht=0;Ht<be.length;Ht++)if(De[Ht]){if(Gt=De[Ht]._fullInput,u.hasMakesDataTransform(Gt)&&(Gt=De[Ht]),or[Gt.uid])continue;or[Gt.uid]=1,Lt(be[Ht]._fullInput,Gt,[],Jt)}return(It.calc||It.plot)&&(It.fullReplot=!0),it&&It.nChanges&&It.nChangesAnim&&(It.anim=It.nChanges===It.nChangesAnim&&Tt?"all":"some"),It}function Mt(ce,be,De,Ve,it){var ot=S.layoutFlags();ot.arrays={},ot.rangesAltered={},ot.nChanges=0,ot.nChangesAnim=0;function Tt(Ht){return r.getLayoutValObject(De,Ht)}var It={getValObject:Tt,flags:ot,immutable:Ve,transition:it,gd:ce};return Lt(be,De,[],It),(ot.plot||ot.calc)&&(ot.layoutReplot=!0),it&&ot.nChanges&&ot.nChangesAnim&&(ot.anim=ot.nChanges===ot.nChangesAnim?"all":"some"),ot}function Lt(ce,be,De,Ve){var it,ot,Tt,It=Ve.getValObject,Ht=Ve.flags,Gt=Ve.immutable,Pt=Ve.inArray,Jt=Ve.arrayIndex;function or(){var Cr=it.editType;if(Pt&&Cr.indexOf("arraydraw")!==-1){L.pushUnique(Ht.arrays[Pt],Jt);return}S.update(Ht,it),Cr!=="none"&&Ht.nChanges++,Ve.transition&&it.anim&&Ht.nChangesAnim++,(Ae.test(Tt)||Re.test(Tt))&&(Ht.rangesAltered[De[0]]=1),Fe.test(Tt)&&x(be,"_inputDomain").set(null),ot==="datarevision"&&(Ht.newDataRevision=1)}function zr(Cr){return Cr.valType==="data_array"||Cr.arrayOk}for(ot in ce){if(Ht.calc&&!Ve.transition)return;var mt=ce[ot],Kt=be[ot],jt=De.concat(ot);if(Tt=jt.join("."),!(ot.charAt(0)==="_"||typeof mt=="function"||mt===Kt)){if((ot==="tick0"||ot==="dtick")&&De[0]!=="geo"){var wr=be.tickmode;if(wr==="auto"||wr==="array"||!wr)continue}if(!(ot==="range"&&be.autorange)&&!((ot==="zmin"||ot==="zmax")&&be.type==="contourcarpet")&&(it=It(jt),!!it&&!(it._compareAsJSON&&JSON.stringify(mt)===JSON.stringify(Kt)))){var vr=it.valType,ct,ut=zr(it),bt=Array.isArray(mt),At=Array.isArray(Kt);if(bt&&At){var Ct="_input_"+ot,St=ce[Ct],zt=be[Ct];if(Array.isArray(St)&&St===zt)continue}if(Kt===void 0)ut&&bt?Ht.calc=!0:or();else if(it._isLinkedToArray){var Vt=[],qt=!1;Pt||(Ht.arrays[ot]=Vt);var $t=Math.min(mt.length,Kt.length),sr=Math.max(mt.length,Kt.length);if($t!==sr)if(it.editType==="arraydraw")qt=!0;else{or();continue}for(ct=0;ct<$t;ct++)Lt(mt[ct],Kt[ct],jt.concat(ct),L.extendFlat({inArray:ot,arrayIndex:ct},Ve));if(qt)for(ct=$t;ct<sr;ct++)Vt.push(ct)}else!vr&&L.isPlainObject(mt)?Lt(mt,Kt,jt,Ve):ut?bt&&At?(Gt&&(Ht.calc=!0),(Gt||Ve.newDataRevision)&&or()):bt!==At?Ht.calc=!0:or():bt&&At?(mt.length!==Kt.length||String(mt)!==String(Kt))&&or():or()}}}for(ot in be)if(!(ot in ce||ot.charAt(0)==="_"||typeof be[ot]=="function"))if(it=It(De.concat(ot)),zr(it)&&Array.isArray(be[ot])){Ht.calc=!0;return}else or()}function Wt(ce,be){var De;for(De in ce)if(De.charAt(0)!=="_"){var Ve=ce[De],it=be[De];if(Ve!==it)if(L.isPlainObject(Ve)&&L.isPlainObject(it)){if(Wt(Ve,it))return!0}else if(Array.isArray(Ve)&&Array.isArray(it)){if(Ve.length!==it.length)return!0;for(var ot=0;ot<Ve.length;ot++)if(Ve[ot]!==it[ot])if(L.isPlainObject(Ve[ot])&&L.isPlainObject(it[ot])){if(Wt(Ve[ot],it[ot]))return!0}else return!0}else return!0}}function Je(ce,be,De){if(ce=L.getGraphDiv(ce),!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ve=ce._transitionData;Ve._frameQueue||(Ve._frameQueue=[]),De=u.supplyAnimationDefaults(De);var it=De.transition,ot=De.frame;Ve._frameWaitingCnt===void 0&&(Ve._frameWaitingCnt=0);function Tt(Gt){return Array.isArray(it)?Gt>=it.length?it[0]:it[Gt]:it}function It(Gt){return Array.isArray(ot)?Gt>=ot.length?ot[0]:ot[Gt]:ot}function Ht(Gt,Pt){var Jt=0;return function(){if(Gt&&++Jt===Pt)return Gt()}}return new Promise(function(Gt,Pt){function Jt(){if(Ve._frameQueue.length!==0){for(;Ve._frameQueue.length;){var $t=Ve._frameQueue.pop();$t.onInterrupt&&$t.onInterrupt()}ce.emit("plotly_animationinterrupted",[])}}function or($t){if($t.length!==0){for(var sr=0;sr<$t.length;sr++){var Cr;$t[sr].type==="byname"?Cr=u.computeFrame(ce,$t[sr].name):Cr=$t[sr].data;var Ze=It(sr),je=Tt(sr);je.duration=Math.min(je.duration,Ze.duration);var kt={frame:Cr,name:$t[sr].name,frameOpts:Ze,transitionOpts:je};sr===$t.length-1&&(kt.onComplete=Ht(Gt,2),kt.onInterrupt=Pt),Ve._frameQueue.push(kt)}De.mode==="immediate"&&(Ve._lastFrameAt=-1/0),Ve._animationRaf||Kt()}}function zr(){ce.emit("plotly_animated"),window.cancelAnimationFrame(Ve._animationRaf),Ve._animationRaf=null}function mt(){Ve._currentFrame&&Ve._currentFrame.onComplete&&Ve._currentFrame.onComplete();var $t=Ve._currentFrame=Ve._frameQueue.shift();if($t){var sr=$t.name?$t.name.toString():null;ce._fullLayout._currentFrame=sr,Ve._lastFrameAt=Date.now(),Ve._timeToNext=$t.frameOpts.duration,u.transition(ce,$t.frame.data,$t.frame.layout,l.coerceTraceIndices(ce,$t.frame.traces),$t.frameOpts,$t.transitionOpts).then(function(){$t.onComplete&&$t.onComplete()}),ce.emit("plotly_animatingframe",{name:sr,frame:$t.frame,animation:{frame:$t.frameOpts,transition:$t.transitionOpts}})}else zr()}function Kt(){ce.emit("plotly_animating"),Ve._lastFrameAt=-1/0,Ve._timeToNext=0,Ve._runningTransitions=0,Ve._currentFrame=null;var $t=function(){Ve._animationRaf=window.requestAnimationFrame($t),Date.now()-Ve._lastFrameAt>Ve._timeToNext&&mt()};$t()}var jt=0;function wr($t){return Array.isArray(it)?jt>=it.length?$t.transitionOpts=it[jt]:$t.transitionOpts=it[0]:$t.transitionOpts=it,jt++,$t}var vr,ct,ut=[],bt=be==null,At=Array.isArray(be),Ct=!bt&&!At&&L.isPlainObject(be);if(Ct)ut.push({type:"object",data:wr(L.extendFlat({},be))});else if(bt||["string","number"].indexOf(typeof be)!==-1)for(vr=0;vr<Ve._frames.length;vr++)ct=Ve._frames[vr],ct&&(bt||String(ct.group)===String(be))&&ut.push({type:"byname",name:String(ct.name),data:wr({name:ct.name})});else if(At)for(vr=0;vr<be.length;vr++){var St=be[vr];["number","string"].indexOf(typeof St)!==-1?(St=String(St),ut.push({type:"byname",name:St,data:wr({name:St})})):L.isPlainObject(St)&&ut.push({type:"object",data:wr(L.extendFlat({},St))})}for(vr=0;vr<ut.length;vr++)if(ct=ut[vr],ct.type==="byname"&&!Ve._frameHash[ct.data.name]){L.warn('animate failure: frame not found: "'+ct.data.name+'"'),Pt();return}["next","immediate"].indexOf(De.mode)!==-1&&Jt(),De.direction==="reverse"&&ut.reverse();var zt=ce._fullLayout._currentFrame;if(zt&&De.fromcurrent){var Vt=-1;for(vr=0;vr<ut.length;vr++)if(ct=ut[vr],ct.type==="byname"&&ct.name===zt){Vt=vr;break}if(Vt>0&&Vt<ut.length-1){var qt=[];for(vr=0;vr<ut.length;vr++)ct=ut[vr],(ut[vr].type!=="byname"||vr>Vt)&&qt.push(ct);ut=qt}}ut.length>0?or(ut):(ce.emit("plotly_animated"),Gt())})}function ze(ce,be,De){if(ce=L.getGraphDiv(ce),be==null)return Promise.resolve();if(!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ve,it,ot,Tt,It=ce._transitionData._frames,Ht=ce._transitionData._frameHash;if(!Array.isArray(be))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+be);var Gt=It.length+be.length*2,Pt=[],Jt={};for(Ve=be.length-1;Ve>=0;Ve--)if(L.isPlainObject(be[Ve])){var or=be[Ve].name,zr=(Ht[or]||Jt[or]||{}).name,mt=be[Ve].name,Kt=Ht[zr]||Jt[zr];zr&&mt&&typeof mt=="number"&&Kt&&R<T&&(R++,L.warn('addFrames: overwriting frame "'+(Ht[zr]||Jt[zr]).name+'" with a frame whose name of type "number" also equates to "'+zr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),R===T&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Jt[or]={name:or},Pt.push({frame:u.supplyFrameDefaults(be[Ve]),index:De&&De[Ve]!==void 0&&De[Ve]!==null?De[Ve]:Gt+Ve})}Pt.sort(function(Ct,St){return Ct.index>St.index?-1:Ct.index<St.index?1:0});var jt=[],wr=[],vr=It.length;for(Ve=Pt.length-1;Ve>=0;Ve--){if(it=Pt[Ve].frame,typeof it.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!it.name)for(;Ht[it.name="frame "+ce._transitionData._counter++];);if(Ht[it.name]){for(ot=0;ot<It.length&&(It[ot]||{}).name!==it.name;ot++);jt.push({type:"replace",index:ot,value:it}),wr.unshift({type:"replace",index:ot,value:It[ot]})}else Tt=Math.max(0,Math.min(Pt[Ve].index,vr)),jt.push({type:"insert",index:Tt,value:it}),wr.unshift({type:"delete",index:Tt}),vr++}var ct=u.modifyFrames,ut=u.modifyFrames,bt=[ce,wr],At=[ce,jt];return d&&d.add(ce,ct,bt,ut,At),u.modifyFrames(ce,jt)}function Oe(ce,be){if(ce=L.getGraphDiv(ce),!L.isPlotDiv(ce))throw new Error("This element is not a Plotly plot: "+ce);var De,Ve,it=ce._transitionData._frames,ot=[],Tt=[];if(!be)for(be=[],De=0;De<it.length;De++)be.push(De);for(be=be.slice(),be.sort(),De=be.length-1;De>=0;De--)Ve=be[De],ot.push({type:"delete",index:Ve}),Tt.unshift({type:"insert",index:Ve,value:it[Ve]});var It=u.modifyFrames,Ht=u.modifyFrames,Gt=[ce,Tt],Pt=[ce,ot];return d&&d.add(ce,It,Gt,Ht,Pt),u.modifyFrames(ce,ot)}function Ue(ce){ce=L.getGraphDiv(ce);var be=ce._fullLayout||{},De=ce._fullData||[];return u.cleanPlot([],{},De,be),u.purge(ce),h.purge(ce),be._container&&be._container.remove(),delete ce._context,ce}function ke(ce){var be=ce._fullLayout,De=ce.getBoundingClientRect();if(!L.equalDomRects(De,be._lastBBox)){var Ve=be._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(ce));be._invScaleX=Math.sqrt(Ve[0][0]*Ve[0][0]+Ve[0][1]*Ve[0][1]+Ve[0][2]*Ve[0][2]),be._invScaleY=Math.sqrt(Ve[1][0]*Ve[1][0]+Ve[1][1]*Ve[1][1]+Ve[1][2]*Ve[1][2]),be._lastBBox=De}}function Me(ce){var be=y.select(ce),De=ce._fullLayout;if(De._calcInverseTransform=ke,De._calcInverseTransform(ce),De._container=be.selectAll(".plot-container").data([0]),De._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),De._paperdiv=De._container.selectAll(".svg-container").data([0]),De._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),De._glcontainer=De._paperdiv.selectAll(".gl-container").data([{}]),De._glcontainer.enter().append("div").classed("gl-container",!0),De._paperdiv.selectAll(".main-svg").remove(),De._paperdiv.select(".modebar-container").remove(),De._paper=De._paperdiv.insert("svg",":first-child").classed("main-svg",!0),De._toppaper=De._paperdiv.append("svg").classed("main-svg",!0),De._modebardiv=De._paperdiv.append("div"),delete De._modeBar,De._hoverpaper=De._paperdiv.append("svg").classed("main-svg",!0),!De._uid){var Ve={};y.selectAll("defs").each(function(){this.id&&(Ve[this.id.split("-")[1]]=1)}),De._uid=L.randstr(Ve)}De._paperdiv.selectAll(".main-svg").attr(m.svgAttrs),De._defs=De._paper.append("defs").attr("id","defs-"+De._uid),De._clips=De._defs.append("g").classed("clips",!0),De._topdefs=De._toppaper.append("defs").attr("id","topdefs-"+De._uid),De._topclips=De._topdefs.append("g").classed("clips",!0),De._bgLayer=De._paper.append("g").classed("bglayer",!0),De._draggers=De._paper.append("g").classed("draglayer",!0);var it=De._paper.append("g").classed("layer-below",!0);De._imageLowerLayer=it.append("g").classed("imagelayer",!0),De._shapeLowerLayer=it.append("g").classed("shapelayer",!0),De._cartesianlayer=De._paper.append("g").classed("cartesianlayer",!0),De._polarlayer=De._paper.append("g").classed("polarlayer",!0),De._smithlayer=De._paper.append("g").classed("smithlayer",!0),De._ternarylayer=De._paper.append("g").classed("ternarylayer",!0),De._geolayer=De._paper.append("g").classed("geolayer",!0),De._funnelarealayer=De._paper.append("g").classed("funnelarealayer",!0),De._pielayer=De._paper.append("g").classed("pielayer",!0),De._iciclelayer=De._paper.append("g").classed("iciclelayer",!0),De._treemaplayer=De._paper.append("g").classed("treemaplayer",!0),De._sunburstlayer=De._paper.append("g").classed("sunburstlayer",!0),De._indicatorlayer=De._toppaper.append("g").classed("indicatorlayer",!0),De._glimages=De._paper.append("g").classed("glimages",!0);var ot=De._toppaper.append("g").classed("layer-above",!0);De._imageUpperLayer=ot.append("g").classed("imagelayer",!0),De._shapeUpperLayer=ot.append("g").classed("shapelayer",!0),De._selectionLayer=De._toppaper.append("g").classed("selectionlayer",!0),De._infolayer=De._toppaper.append("g").classed("infolayer",!0),De._menulayer=De._toppaper.append("g").classed("menulayer",!0),De._zoomlayer=De._toppaper.append("g").classed("zoomlayer",!0),De._hoverlayer=De._hoverpaper.append("g").classed("hoverlayer",!0),De._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ce.emit("plotly_framework")}V.animate=Je,V.addFrames=ze,V.deleteFrames=Oe,V.addTraces=ee,V.deleteTraces=J,V.extendTraces=ue,V.moveTraces=Q,V.prependTraces=ve,V.newPlot=H,V._doPlot=E,V.purge=Ue,V.react=pt,V.redraw=F,V.relayout=fe,V.restyle=X,V.setPlotConfig=f,V.update=Ee,V._guiRelayout=Ne(fe),V._guiRestyle=Ne(X),V._guiUpdate=Ne(Ee),V._storeDirectGUIEdit=Z},72075:function(W){var V={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function y(C,a){for(var L in C){var x=C[L];x.valType?a[L]=x.dflt:(a[L]||(a[L]={}),y(x,a[L]))}}y(V,e),W.exports={configAttributes:V,dfltConfig:e}},86281:function(W,V,e){var y=e(73972),C=e(71828),a=e(9012),L=e(10820),x=e(31391),h=e(85594),d=e(72075).configAttributes,t=e(30962),r=C.extendDeepAll,u=C.isPlainObject,n=C.isArrayOrTypedArray,i=C.nestedProperty,s=C.valObjectMeta,o="_isSubplotObj",m="_isLinkedToArray",c="_arrayAttrRegexps",b="_deprecated",v=[o,m,c,b];V.IS_SUBPLOT_OBJ=o,V.IS_LINKED_TO_ARRAY=m,V.DEPRECATED=b,V.UNDERSCORE_ATTRS=v,V.get=function(){var H={};y.allTypes.forEach(function(B){H[B]=M(B)});var _={};return Object.keys(y.transformsRegistry).forEach(function(B){_[B]=T(B)}),{defs:{valObjects:s,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:H,layout:R(),transforms:_,frames:E(),animation:A(h),config:A(d)}},V.crawl=function(H,_,B,N){var O=B||0;N=N||"",Object.keys(H).forEach(function(U){var K=H[U];if(v.indexOf(U)===-1){var re=(N?N+".":"")+U;_(K,U,H,O,re),!V.isValObject(K)&&u(K)&&U!=="impliedEdits"&&V.crawl(K,_,O+1,re)}})},V.isValObject=function(H){return H&&H.valType!==void 0},V.findArrayAttributes=function(H){var _=[],B=[],N=[],O,U;function K(J,Q,X,q){B=B.slice(0,q).concat([Q]),N=N.slice(0,q).concat([J&&J._isLinkedToArray]);var se=J&&(J.valType==="data_array"||J.arrayOk===!0)&&!(B[q-1]==="colorbar"&&(Q==="ticktext"||Q==="tickvals"));se&&re(O,0,"")}function re(J,Q,X){var q=J[B[Q]],se=X+B[Q];if(Q===B.length-1)n(q)&&_.push(U+se);else if(N[Q]){if(Array.isArray(q))for(var Y=0;Y<q.length;Y++)u(q[Y])&&re(q[Y],Q+1,se+"["+Y+"].")}else u(q)&&re(q,Q+1,se+".")}O=H,U="",V.crawl(a,K),H._module&&H._module.attributes&&V.crawl(H._module.attributes,K);var ae=H.transforms;if(ae)for(var ue=0;ue<ae.length;ue++){var ve=ae[ue],ee=ve._module;ee&&(U="transforms["+ue+"].",O=ve,V.crawl(ee.attributes,K))}return _},V.getTraceValObject=function(H,_){var B=_[0],N=1,O,U;if(B==="transforms"){if(_.length===1)return a.transforms;var K=H.transforms;if(!Array.isArray(K)||!K.length)return!1;var re=_[1];if(!S(re)||re>=K.length)return!1;O=(y.transformsRegistry[K[re].type]||{}).attributes,U=O&&O[_[2]],N=3}else{var ae=H._module;if(ae||(ae=(y.modules[H.type||a.type.dflt]||{})._module),!ae)return!1;if(O=ae.attributes,U=O&&O[B],!U){var ue=ae.basePlotModule;ue&&ue.attributes&&(U=ue.attributes[B])}U||(U=a[B])}return p(U,_,N)},V.getLayoutValObject=function(H,_){var B=l(H,_[0]);return p(B,_,1)};function l(H,_){var B,N,O,U,K=H._basePlotModules;if(K){var re;for(B=0;B<K.length;B++){if(O=K[B],O.attrRegex&&O.attrRegex.test(_)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!re&&O.layoutAttributes&&(re=O.layoutAttributes)}var ae=O.baseLayoutAttrOverrides;if(ae&&_ in ae)return ae[_]}if(re)return re}var ue=H._modules;if(ue){for(B=0;B<ue.length;B++)if(U=ue[B].layoutAttributes,U&&_ in U)return U[_]}for(N in y.componentsRegistry){if(O=y.componentsRegistry[N],O.name==="colorscale"&&_.indexOf("coloraxis")===0)return O.layoutAttributes[_];if(!O.schema&&_===O.name)return O.layoutAttributes}return _ in L?L[_]:!1}function p(H,_,B){if(!H)return!1;if(H._isLinkedToArray){if(S(_[B]))B++;else if(B<_.length)return!1}for(;B<_.length;B++){var N=H[_[B]];if(u(N))H=N;else break;if(B===_.length-1)break;if(H._isLinkedToArray){if(B++,!S(_[B]))return!1}else if(H.valType==="info_array"){B++;var O=_[B];if(!S(O))return!1;var U=H.items;if(Array.isArray(U)){if(O>=U.length)return!1;if(H.dimensions===2){if(B++,_.length===B)return H;var K=_[B];if(!S(K))return!1;H=U[O][K]}else H=U[O]}else H=U}}return H}function S(H){return H===Math.round(H)&&H>=0}function M(H){var _,B;_=y.modules[H]._module,B=_.basePlotModule;var N={};N.type=null;var O=r({},a),U=r({},_.attributes);V.crawl(U,function(ae,ue,ve,ee,J){i(O,J).set(void 0),ae===void 0&&i(U,J).set(void 0)}),r(N,O),y.traceIs(H,"noOpacity")&&delete N.opacity,y.traceIs(H,"showLegend")||(delete N.showlegend,delete N.legendgroup),y.traceIs(H,"noHover")&&(delete N.hoverinfo,delete N.hoverlabel),_.selectPoints||delete N.selectedpoints,r(N,U),B.attributes&&r(N,B.attributes),N.type=H;var K={meta:_.meta||{},categories:_.categories||{},animatable:!!_.animatable,type:H,attributes:A(N)};if(_.layoutAttributes){var re={};r(re,_.layoutAttributes),K.layoutAttributes=A(re)}return _.animatable||V.crawl(K,function(ae){V.isValObject(ae)&&"anim"in ae&&delete ae.anim}),K}function R(){var H={},_,B;r(H,L);for(_ in y.subplotsRegistry)if(B=y.subplotsRegistry[_],!!B.layoutAttributes)if(Array.isArray(B.attr))for(var N=0;N<B.attr.length;N++)z(H,B,B.attr[N]);else{var O=B.attr==="subplot"?B.name:B.attr;z(H,B,O)}for(_ in y.componentsRegistry){B=y.componentsRegistry[_];var U=B.schema;if(U&&(U.subplots||U.layout)){var K=U.subplots;if(K&&K.xaxis&&!K.yaxis)for(var re in K.xaxis)delete H.yaxis[re];delete H.xaxis.shift,delete H.xaxis.autoshift}else B.name==="colorscale"?r(H,B.layoutAttributes):B.layoutAttributes&&F(H,B.layoutAttributes,B.name)}return{layoutAttributes:A(H)}}function T(H){var _=y.transformsRegistry[H],B=r({},_.attributes);return Object.keys(y.componentsRegistry).forEach(function(N){var O=y.componentsRegistry[N];O.schema&&O.schema.transforms&&O.schema.transforms[H]&&Object.keys(O.schema.transforms[H]).forEach(function(U){F(B,O.schema.transforms[H][U],U)})}),{attributes:A(B)}}function E(){var H={frames:r({},x)};return A(H),H.frames}function A(H){return f(H),P(H),w(H),H}function f(H){function _(N){return{valType:"string",editType:"none"}}function B(N,O,U){V.isValObject(N)?(N.arrayOk===!0||N.valType==="data_array")&&(U[O+"src"]=_()):u(N)&&(N.role="object")}V.crawl(H,B)}function P(H){function _(B,N,O){if(B){var U=B[m];U&&(delete B[m],O[N]={items:{}},O[N].items[U]=B,O[N].role="object")}}V.crawl(H,_)}function w(H){function _(B){for(var N in B)if(u(B[N]))_(B[N]);else if(Array.isArray(B[N]))for(var O=0;O<B[N].length;O++)_(B[N][O]);else B[N]instanceof RegExp&&(B[N]=B[N].toString())}_(H)}function z(H,_,B){var N=i(H,B),O=r({},_.layoutAttributes);O[o]=!0,N.set(O)}function F(H,_,B){var N=i(H,B);N.set(r(N.get()||{},_))}},44467:function(W,V,e){var y=e(71828),C=e(9012),a="templateitemname",L={name:{valType:"string",editType:"none"}};L[a]={valType:"string",editType:"calc"},V.templatedArray=function(d,t){return t._isLinkedToArray=d,t.name=L.name,t[a]=L[a],t},V.traceTemplater=function(d){var t={},r,u;for(r in d)u=d[r],Array.isArray(u)&&u.length&&(t[r]=0);function n(i){r=y.coerce(i,{},C,"type");var s={type:r,_template:null};if(r in t){u=d[r];var o=t[r]%u.length;t[r]++,s._template=u[o]}return s}return{newTrace:n}},V.newContainer=function(d,t,r){var u=d._template,n=u&&(u[t]||r&&u[r]);y.isPlainObject(n)||(n=null);var i=d[t]={_template:n};return i},V.arrayTemplater=function(d,t,r){var u=d._template,n=u&&u[h(t)],i=u&&u[t];(!Array.isArray(i)||!i.length)&&(i=[]);var s={};function o(c){var b={name:c.name,_input:c},v=b[a]=c[a];if(!x(v))return b._template=n,b;for(var l=0;l<i.length;l++){var p=i[l];if(p.name===v)return s[v]=1,b._template=p,b}return b[r]=c[r]||!1,b._template=!1,b}function m(){for(var c=[],b=0;b<i.length;b++){var v=i[b],l=v.name;if(x(l)&&!s[l]){var p={_template:v,name:l,_input:{_templateitemname:l}};p[a]=v[a],c.push(p),s[l]=1}}return c}return{newItem:o,defaultItems:m}};function x(d){return d&&typeof d=="string"}function h(d){var t=d.length-1;return d.charAt(t)!=="s"&&y.warn("bad argument to arrayDefaultKey: "+d),d.substr(0,d.length-1)+"defaults"}V.arrayDefaultKey=h,V.arrayEditor=function(d,t,r){var u=(y.nestedProperty(d,t).get()||[]).length,n=r._index,i=n>=u&&(r._input||{})._templateitemname;i&&(n=u);var s=t+"["+n+"]",o;function m(){o={},i&&(o[s]={},o[s][a]=i)}m();function c(p,S){o[p]=S}function b(p,S){i?y.nestedProperty(o[s],p).set(S):o[s+"."+p]=S}function v(){var p=o;return m(),p}function l(p,S){p&&b(p,S);var M=v();for(var R in M)y.nestedProperty(d,R).set(M[R])}return{modifyBase:c,modifyItem:b,getUpdateObj:v,applyUpdate:l}}},61549:function(W,V,e){var y=e(39898),C=e(73972),a=e(74875),L=e(71828),x=e(63893),h=e(33306),d=e(7901),t=e(91424),r=e(92998),u=e(64168),n=e(89298),i=e(18783),s=e(99082),o=s.enforce,m=s.clean,c=e(71739).doAutoRange,b="start",v="middle",l="end";V.layoutStyles=function(B){return L.syncOrAsync([a.doAutoMargin,S],B)};function p(B,N,O){for(var U=0;U<O.length;U++){var K=O[U][0],re=O[U][1];if(!(K[0]>=B[1]||K[1]<=B[0])&&re[0]<N[1]&&re[1]>N[0])return!0}return!1}function S(B){var N=B._fullLayout,O=N._size,U=O.p,K=n.list(B,"",!0),re,ae,ue,ve,ee,J;if(N._paperdiv.style({width:B._context.responsive&&N.autosize&&!B._context._hasZeroWidth&&!B.layout.width?"100%":N.width+"px",height:B._context.responsive&&N.autosize&&!B._context._hasZeroHeight&&!B.layout.height?"100%":N.height+"px"}).selectAll(".main-svg").call(t.setSize,N.width,N.height),B._context.setBackground(B,N.paper_bgcolor),V.drawMainTitle(B),u.manage(B),!N._has("cartesian"))return a.previousPromises(B);function Q(Me,ce,be){var De=Me._lw/2;if(Me._id.charAt(0)==="x"){if(ce){if(be==="top")return ce._offset-U-De}else return O.t+O.h*(1-(Me.position||0))+De%1;return ce._offset+ce._length+U+De}if(ce){if(be==="right")return ce._offset+ce._length+U+De}else return O.l+O.w*(Me.position||0)+De%1;return ce._offset-U-De}for(re=0;re<K.length;re++){ve=K[re];var X=ve._anchorAxis;ve._linepositions={},ve._lw=t.crispRound(B,ve.linewidth,1),ve._mainLinePosition=Q(ve,X,ve.side),ve._mainMirrorPosition=ve.mirror&&X?Q(ve,X,i.OPPOSITE_SIDE[ve.side]):null}var q=[],se=[],Y=[],Z=d.opacity(N.paper_bgcolor)===1&&d.opacity(N.plot_bgcolor)===1&&N.paper_bgcolor===N.plot_bgcolor;for(ae in N._plots)if(ue=N._plots[ae],ue.mainplot)ue.bg&&ue.bg.remove(),ue.bg=void 0;else{var ie=ue.xaxis.domain,te=ue.yaxis.domain,fe=ue.plotgroup;if(p(ie,te,Y)){var de=fe.node(),we=ue.bg=L.ensureSingle(fe,"rect","bg");de.insertBefore(we.node(),de.childNodes[0]),se.push(ae)}else fe.select("rect.bg").remove(),Y.push([ie,te]),Z||(q.push(ae),se.push(ae))}var Ae=N._bgLayer.selectAll(".bg").data(q);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(Me){N._plots[Me].bg=y.select(this)}),re=0;re<se.length;re++)ue=N._plots[se[re]],ee=ue.xaxis,J=ue.yaxis,ue.bg&&ee._offset!==void 0&&J._offset!==void 0&&ue.bg.call(t.setRect,ee._offset-U,J._offset-U,ee._length+2*U,J._length+2*U).call(d.fill,N.plot_bgcolor).style("stroke-width",0);if(!N._hasOnlyLargeSploms)for(ae in N._plots){ue=N._plots[ae],ee=ue.xaxis,J=ue.yaxis;var Re=ue.clipId="clip"+N._uid+ae+"plot",Fe=L.ensureSingleById(N._clips,"clipPath",Re,function(Me){Me.classed("plotclip",!0).append("rect")});ue.clipRect=Fe.select("rect").attr({width:ee._length,height:J._length}),t.setTranslate(ue.plot,ee._offset,J._offset);var Se,Te;ue._hasClipOnAxisFalse?(Se=null,Te=Re):(Se=Re,Te=null),t.setClipUrl(ue.plot,Se,B),ue.layerClipId=Te}var Ee,Ne,He,_e,We,tt,Ke,qe,rt,ft,pt,gt,Mt;function Lt(Me){return"M"+Ee+","+Me+"H"+Ne}function Wt(Me){return"M"+ee._offset+","+Me+"h"+ee._length}function Je(Me){return"M"+Me+","+qe+"V"+Ke}function ze(Me){return J._shift!==void 0&&(Me+=J._shift),"M"+Me+","+J._offset+"v"+J._length}function Oe(Me,ce,be){if(!Me.showline||ae!==Me._mainSubplot)return"";if(!Me._anchorAxis)return be(Me._mainLinePosition);var De=ce(Me._mainLinePosition);return Me.mirror&&(De+=ce(Me._mainMirrorPosition)),De}for(ae in N._plots){ue=N._plots[ae],ee=ue.xaxis,J=ue.yaxis;var Ue="M0,0";M(ee,ae)&&(We=T(ee,"left",J,K),Ee=ee._offset-(We?U+We:0),tt=T(ee,"right",J,K),Ne=ee._offset+ee._length+(tt?U+tt:0),He=Q(ee,J,"bottom"),_e=Q(ee,J,"top"),Mt=!ee._anchorAxis||ae!==ee._mainSubplot,Mt&&(ee.mirror==="allticks"||ee.mirror==="all")&&(ee._linepositions[ae]=[He,_e]),Ue=Oe(ee,Lt,Wt),Mt&&ee.showline&&(ee.mirror==="all"||ee.mirror==="allticks")&&(Ue+=Lt(He)+Lt(_e)),ue.xlines.style("stroke-width",ee._lw+"px").call(d.stroke,ee.showline?ee.linecolor:"rgba(0,0,0,0)")),ue.xlines.attr("d",Ue);var ke="M0,0";M(J,ae)&&(pt=T(J,"bottom",ee,K),Ke=J._offset+J._length+(pt?U:0),gt=T(J,"top",ee,K),qe=J._offset-(gt?U:0),rt=Q(J,ee,"left"),ft=Q(J,ee,"right"),Mt=!J._anchorAxis||ae!==J._mainSubplot,Mt&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ae]=[rt,ft]),ke=Oe(J,Je,ze),Mt&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(ke+=Je(rt)+Je(ft)),ue.ylines.style("stroke-width",J._lw+"px").call(d.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),ue.ylines.attr("d",ke)}return n.makeClipPaths(B),a.previousPromises(B)}function M(B,N){return(B.ticks||B.showline)&&(N===B._mainSubplot||B.mirror==="all"||B.mirror==="allticks")}function R(B,N,O){if(!O.showline||!O._lw)return!1;if(O.mirror==="all"||O.mirror==="allticks")return!0;var U=O._anchorAxis;if(!U)return!1;var K=i.FROM_BL[N];return O.side===N?U.domain[K]===B.domain[K]:O.mirror&&U.domain[1-K]===B.domain[1-K]}function T(B,N,O,U){if(R(B,N,O))return O._lw;for(var K=0;K<U.length;K++){var re=U[K];if(re._mainAxis===O._mainAxis&&R(B,N,re))return re._lw}return 0}V.drawMainTitle=function(B){var N=B._fullLayout.title,O=B._fullLayout,U=H(O),K=_(O),re=z(O,K),ae=w(O,U);if(r.draw(B,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:ae,y:re,"text-anchor":U,dy:K}}),N.text&&N.automargin){var ue=y.selectAll(".gtitle"),ve=t.bBox(ue.node()).height,ee=f(B,N,ve);ee>0&&(P(B,re,ee,ve),ue.attr({x:ae,y:re,"text-anchor":U,dy:F(N.yanchor)}).call(x.positionText,ae,re))}};function E(B,N,O,U,K){var re=N.yref==="paper"?B._fullLayout._size.h:B._fullLayout.height,ae=L.isTopAnchor(N)?U:U-K,ue=O==="b"?re-ae:ae;return L.isTopAnchor(N)&&O==="t"||L.isBottomAnchor(N)&&O==="b"?!1:ue<K}function A(B,N,O,U,K){var re=0;return O==="middle"&&(re+=K/2),B==="t"?(O==="top"&&(re+=K),re+=U-N*U):(O==="bottom"&&(re+=K),re+=N*U),re}function f(B,N,O){var U=N.y,K=N.yanchor,re=U>.5?"t":"b",ae=B._fullLayout.margin[re],ue=0;return N.yref==="paper"?ue=O+N.pad.t+N.pad.b:N.yref==="container"&&(ue=A(re,U,K,B._fullLayout.height,O)+N.pad.t+N.pad.b),ue>ae?ue:0}function P(B,N,O,U){var K="title.automargin",re=B._fullLayout.title,ae=re.y>.5?"t":"b",ue={x:re.x,y:re.y,t:0,b:0},ve={};re.yref==="paper"&&E(B,re,ae,N,U)?ue[ae]=O:re.yref==="container"&&(ve[ae]=O,B._fullLayout._reservedMargin[K]=ve),a.allowAutoMargin(B,K),a.autoMargin(B,K,ue)}function w(B,N){var O=B.title,U=B._size,K=0;switch(N===b?K=O.pad.l:N===l&&(K=-O.pad.r),O.xref){case"paper":return U.l+U.w*O.x+K;case"container":default:return B.width*O.x+K}}function z(B,N){var O=B.title,U=B._size,K=0;if(N==="0em"||!N?K=-O.pad.b:N===i.CAP_SHIFT+"em"&&(K=O.pad.t),O.y==="auto")return U.t/2;switch(O.yref){case"paper":return U.t+U.h-U.h*O.y+K;case"container":default:return B.height-B.height*O.y+K}}function F(B){return B==="top"?i.CAP_SHIFT+.3+"em":B==="bottom"?"-0.3em":i.MID_SHIFT+"em"}function H(B){var N=B.title,O=v;return L.isRightAnchor(N)?O=l:L.isLeftAnchor(N)&&(O=b),O}function _(B){var N=B.title,O="0em";return L.isTopAnchor(N)?O=i.CAP_SHIFT+"em":L.isMiddleAnchor(N)&&(O=i.MID_SHIFT+"em"),O}V.doTraceStyle=function(B){var N=B.calcdata,O=[],U;for(U=0;U<N.length;U++){var K=N[U],re=K[0]||{},ae=re.trace||{},ue=ae._module||{},ve=ue.arraysToCalcdata;ve&&ve(K,ae);var ee=ue.editStyle;ee&&O.push({fn:ee,cd0:re})}if(O.length){for(U=0;U<O.length;U++){var J=O[U];J.fn(B,J.cd0)}h(B),V.redrawReglTraces(B)}return a.style(B),C.getComponentMethod("legend","draw")(B),a.previousPromises(B)},V.doColorBars=function(B){return C.getComponentMethod("colorbar","draw")(B),a.previousPromises(B)},V.layoutReplot=function(B){var N=B.layout;return B.layout=void 0,C.call("_doPlot",B,"",N)},V.doLegend=function(B){return C.getComponentMethod("legend","draw")(B),a.previousPromises(B)},V.doTicksRelayout=function(B){return n.draw(B,"redraw"),B._fullLayout._hasOnlyLargeSploms&&(C.subplotsRegistry.splom.updateGrid(B),h(B),V.redrawReglTraces(B)),V.drawMainTitle(B),a.previousPromises(B)},V.doModeBar=function(B){var N=B._fullLayout;u.manage(B);for(var O=0;O<N._basePlotModules.length;O++){var U=N._basePlotModules[O].updateFx;U&&U(B)}return a.previousPromises(B)},V.doCamera=function(B){for(var N=B._fullLayout,O=N._subplots.gl3d,U=0;U<O.length;U++){var K=N[O[U]],re=K._scene;re.setViewport(K)}},V.drawData=function(B){var N=B._fullLayout;h(B);for(var O=N._basePlotModules,U=0;U<O.length;U++)O[U].plot(B);return V.redrawReglTraces(B),a.style(B),C.getComponentMethod("selections","draw")(B),C.getComponentMethod("shapes","draw")(B),C.getComponentMethod("annotations","draw")(B),C.getComponentMethod("images","draw")(B),N._replotting=!1,a.previousPromises(B)},V.redrawReglTraces=function(B){var N=B._fullLayout;if(N._has("regl")){var O=B._fullData,U=[],K=[],re,ae;for(N._hasOnlyLargeSploms&&N._splomGrid.draw(),re=0;re<O.length;re++){var ue=O[re];ue.visible===!0&&ue._length!==0&&(ue.type==="splom"?N._splomScenes[ue.uid].draw():ue.type==="scattergl"?L.pushUnique(U,ue.xaxis+ue.yaxis):ue.type==="scatterpolargl"&&L.pushUnique(K,ue.subplot))}for(re=0;re<U.length;re++)ae=N._plots[U[re]],ae._scene&&ae._scene.draw();for(re=0;re<K.length;re++)ae=N[K[re]]._subplot,ae._scene&&ae._scene.draw()}},V.doAutoRangeAndConstraints=function(B){for(var N=n.list(B,"",!0),O,U={},K=0;K<N.length;K++)if(O=N[K],!U[O._id]){U[O._id]=1,m(B,O),c(B,O);var re=O._matchGroup;if(re)for(var ae in re){var ue=n.getFromId(B,ae);c(B,ue,O.range),U[ae]=1}}o(B)},V.finalDraw=function(B){C.getComponentMethod("rangeslider","draw")(B),C.getComponentMethod("rangeselector","draw")(B)},V.drawMarginPushers=function(B){C.getComponentMethod("legend","draw")(B),C.getComponentMethod("rangeselector","draw")(B),C.getComponentMethod("sliders","draw")(B),C.getComponentMethod("updatemenus","draw")(B),C.getComponentMethod("colorbar","draw")(B)}},96318:function(W,V,e){var y=e(71828),C=y.isPlainObject,a=e(86281),L=e(74875),x=e(9012),h=e(44467),d=e(72075).dfltConfig;V.makeTemplate=function(c){c=y.isPlainObject(c)?c:y.getGraphDiv(c),c=y.extendDeep({_context:d},{data:c.data,layout:c.layout}),L.supplyDefaults(c);var b=c.data||[],v=c.layout||{};v._basePlotModules=c._fullLayout._basePlotModules,v._modules=c._fullLayout._modules;var l={data:{},layout:{}};b.forEach(function(w){var z={};u(w,z,i.bind(null,w));var F=y.coerce(w,{},x,"type"),H=l.data[F];H||(H=l.data[F]=[]),H.push(z)}),u(v,l.layout,n.bind(null,v)),delete l.layout.template;var p=v.template;if(C(p)){var S=p.layout,M,R,T,E,A,f;C(S)&&t(S,l.layout);var P=p.data;if(C(P)){for(R in l.data)if(T=P[R],Array.isArray(T)){for(A=l.data[R],f=A.length,E=T.length,M=0;M<f;M++)t(T[M%E],A[M]);for(M=f;M<E;M++)A.push(y.extendDeep({},T[M]))}for(R in P)R in l.data||(l.data[R]=y.extendDeep([],P[R]))}}return l};function t(c,b){c=y.extendDeep({},c);var v=Object.keys(c).sort(),l,p;function S(A,f,P){if(C(f)&&C(A))t(A,f);else if(Array.isArray(f)&&Array.isArray(A)){var w=h.arrayTemplater({_template:c},P);for(p=0;p<f.length;p++){var z=f[p],F=w.newItem(z)._template;F&&t(F,z)}var H=w.defaultItems();for(p=0;p<H.length;p++)f.push(H[p]._template);for(p=0;p<f.length;p++)delete f[p].templateitemname}}for(l=0;l<v.length;l++){var M=v[l],R=c[M];if(M in b?S(R,b[M],M):b[M]=R,r(M)===M)for(var T in b){var E=r(T);T!==E&&E===M&&!(T in c)&&S(R,b[T],M)}}}function r(c){return c.replace(/[0-9]+$/,"")}function u(c,b,v,l,p){var S=p&&v(p);for(var M in c){var R=c[M],T=s(c,M,l),E=s(c,M,p),A=v(E);if(!A){var f=r(M);f!==M&&(E=s(c,f,p),A=v(E))}if(!(S&&S===A)&&!(!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(R)))if(!A.valType&&C(R))u(R,b,v,T,E);else if(A._isLinkedToArray&&Array.isArray(R))for(var P=!1,w=0,z={},F=0;F<R.length;F++){var H=R[F];if(C(H)){var _=H.name;if(_)z[_]||(u(H,b,v,s(R,w,T),s(R,w,E)),w++,z[_]=1);else if(!P){var B=h.arrayDefaultKey(M),N=s(c,B,l),O=s(R,w,T);u(H,b,v,O,s(R,w,E));var U=y.nestedProperty(b,O),K=y.nestedProperty(b,N);K.set(U.get()),U.set(null),P=!0}}}else{var re=y.nestedProperty(b,T);re.set(R)}}}function n(c,b){return a.getLayoutValObject(c,y.nestedProperty({},b).parts)}function i(c,b){return a.getTraceValObject(c,y.nestedProperty({},b).parts)}function s(c,b,v){var l;return v?Array.isArray(c)?l=v+"["+b+"]":l=v+"."+b:l=b,l}V.validateTemplate=function(c,b){var v=y.extendDeep({},{_context:d,data:c.data,layout:c.layout}),l=v.layout||{};C(b)||(b=l.template||{});var p=b.layout,S=b.data,M=[];v.layout=l,v.layout.template=b,L.supplyDefaults(v);var R=v._fullLayout,T=v._fullData,E={};function A(N,O){for(var U in N)if(U.charAt(0)!=="_"&&C(N[U])){var K=r(U),re=[],ae;for(ae=0;ae<O.length;ae++)re.push(s(N,U,O[ae])),K!==U&&re.push(s(N,K,O[ae]));for(ae=0;ae<re.length;ae++)E[re[ae]]=1;A(N[U],re)}}function f(N,O){for(var U in N)if(U.indexOf("defaults")===-1&&C(N[U])){var K=s(N,U,O);E[K]?f(N[U],K):M.push({code:"unused",path:K})}}if(C(p)?(A(R,["layout"]),f(p,"layout")):M.push({code:"layout"}),!C(S))M.push({code:"data"});else{for(var P={},w,z=0;z<T.length;z++){var F=T[z];w=F.type,P[w]=(P[w]||0)+1,F._fullInput._template||M.push({code:"missing",index:F._fullInput.index,traceType:w})}for(w in S){var H=S[w].length,_=P[w]||0;H>_?M.push({code:"unused",traceType:w,templateCount:H,dataCount:_}):_>H&&M.push({code:"reused",traceType:w,templateCount:H,dataCount:_})}}function B(N,O){for(var U in N)if(U.charAt(0)!=="_"){var K=N[U],re=s(N,U,O);C(K)?(Array.isArray(N)&&K._template===!1&&K.templateitemname&&M.push({code:"missing",path:re,templateitemname:K.templateitemname}),B(K,re)):Array.isArray(K)&&o(K)&&B(K,re)}}if(B({data:T,layout:R},""),M.length)return M.map(m)};function o(c){for(var b=0;b<c.length;b++)if(C(c[b]))return!0}function m(c){var b;switch(c.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":c.path?b="There are no templates for item "+c.path+" with name "+c.templateitemname:b="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?b="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?b="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":b="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=b,c}},403:function(W,V,e){var y=e(92770),C=e(72391),a=e(74875),L=e(71828),x=e(25095),h=e(5900),d=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function u(n,i){i=i||{};var s,o,m,c;L.isPlainObject(n)?(s=n.data||[],o=n.layout||{},m=n.config||{},c={}):(n=L.getGraphDiv(n),s=L.extendDeep([],n.data),o=L.extendDeep({},n.layout),m=n._context,c=n._fullLayout||{});function b(_){return!(_ in i)||L.validate(i[_],r[_])}if(!b("width")&&i.width!==null||!b("height")&&i.height!==null)throw new Error("Height and width should be pixel values.");if(!b("format"))throw new Error("Export format is not "+L.join2(r.format.values,", "," or ")+".");var v={};function l(_,B){return L.coerce(i,v,r,_,B)}var p=l("format"),S=l("width"),M=l("height"),R=l("scale"),T=l("setBackground"),E=l("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var f=L.extendFlat({},o);S?f.width=S:i.width===null&&y(c.width)&&(f.width=c.width),M?f.height=M:i.height===null&&y(c.height)&&(f.height=c.height);var P=L.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:T}),w=x.getRedrawFunc(A);function z(){return new Promise(function(_){setTimeout(_,x.getDelay(A._fullLayout))})}function F(){return new Promise(function(_,B){var N=h(A,p,R),O=A._fullLayout.width,U=A._fullLayout.height;function K(){C.purge(A),document.body.removeChild(A)}if(p==="full-json"){var re=a.graphJson(A,!1,"keepdata","object",!0,!0);return re.version=t,re=JSON.stringify(re),K(),_(E?re:x.encodeJSON(re))}if(K(),p==="svg")return _(E?N:x.encodeSVG(N));var ae=document.createElement("canvas");ae.id=L.randstr(),d({format:p,width:O,height:U,scale:R,canvas:ae,svg:N,promise:!0}).then(_).catch(B)})}function H(_){return E?_.replace(x.IMAGE_URL_PREFIX,""):_}return new Promise(function(_,B){C.newPlot(A,s,f,P).then(w).then(z).then(F).then(function(N){_(H(N))}).catch(function(N){B(N)})})}W.exports=u},84936:function(W,V,e){var y=e(71828),C=e(74875),a=e(86281),L=e(72075).dfltConfig,x=y.isPlainObject,h=Array.isArray,d=y.isArrayOrTypedArray;W.exports=function(l,p){l===void 0&&(l=[]),p===void 0&&(p={});var S=a.get(),M=[],R={_context:y.extendFlat({},L)},T,E;h(l)?(R.data=y.extendDeep([],l),T=l):(R.data=[],T=[],M.push(i("array","data"))),x(p)?(R.layout=y.extendDeep({},p),E=p):(R.layout={},E={},arguments.length>1&&M.push(i("object","layout"))),C.supplyDefaults(R);for(var A=R._fullData,f=T.length,P=0;P<f;P++){var w=T[P],z=["data",P];if(!x(w)){M.push(i("object",z));continue}var F=A[P],H=F.type,_=S.traces[H].attributes;_.type={valType:"enumerated",values:[H]},F.visible===!1&&w.visible!==!1&&M.push(i("invisible",z)),t(w,F,_,M,z);var B=w.transforms,N=F.transforms;if(B){h(B)||M.push(i("array",z,["transforms"])),z.push("transforms");for(var O=0;O<B.length;O++){var U=["transforms",O],K=B[O].type;if(!x(B[O])){M.push(i("object",z,U));continue}var re=S.transforms[K]?S.transforms[K].attributes:{};re.type={valType:"enumerated",values:Object.keys(S.transforms)},t(B[O],N[O],re,M,z,U)}}}var ae=R._fullLayout,ue=r(S,A);return t(E,ae,ue,M,"layout"),M.length===0?void 0:M};function t(v,l,p,S,M,R){R=R||[];for(var T=Object.keys(v),E=0;E<T.length;E++){var A=T[E];if(A!=="transforms"){var f=R.slice();f.push(A);var P=v[A],w=l[A],z=o(p,A),F=(z||{}).valType,H=F==="info_array",_=F==="colorscale",B=(z||{}).items;if(!s(p,A))S.push(i("schema",M,f));else if(x(P)&&x(w)&&F!=="any")t(P,w,z,S,M,f);else if(H&&h(P)){P.length>w.length&&S.push(i("unused",M,f.concat(w.length)));var N=w.length,O=Array.isArray(B);O&&(N=Math.min(N,B.length));var U,K,re,ae,ue;if(z.dimensions===2)for(K=0;K<N;K++)if(h(P[K])){P[K].length>w[K].length&&S.push(i("unused",M,f.concat(K,w[K].length)));var ve=w[K].length;for(U=0;U<(O?Math.min(ve,B[K].length):ve);U++)re=O?B[K][U]:B,ae=P[K][U],ue=w[K][U],y.validate(ae,re)?ue!==ae&&ue!==+ae&&S.push(i("dynamic",M,f.concat(K,U),ae,ue)):S.push(i("value",M,f.concat(K,U),ae))}else S.push(i("array",M,f.concat(K),P[K]));else for(K=0;K<N;K++)re=O?B[K]:B,ae=P[K],ue=w[K],y.validate(ae,re)?ue!==ae&&ue!==+ae&&S.push(i("dynamic",M,f.concat(K),ae,ue)):S.push(i("value",M,f.concat(K),ae))}else if(z.items&&!H&&h(P)){var ee=B[Object.keys(B)[0]],J=[],Q,X;for(Q=0;Q<w.length;Q++){var q=w[Q]._index||Q;if(X=f.slice(),X.push(q),x(P[q])&&x(w[Q])){J.push(q);var se=P[q],Y=w[Q];x(se)&&se.visible!==!1&&Y.visible===!1?S.push(i("invisible",M,X)):t(se,Y,ee,S,M,X)}}for(Q=0;Q<P.length;Q++)X=f.slice(),X.push(Q),x(P[Q])?J.indexOf(Q)===-1&&S.push(i("unused",M,X)):S.push(i("object",M,X,P[Q]))}else!x(P)&&x(w)?S.push(i("object",M,f,P)):!d(P)&&d(w)&&!H&&!_?S.push(i("array",M,f,P)):A in l?y.validate(P,z)?z.valType==="enumerated"&&(z.coerceNumber&&P!==+w||P!==w)&&S.push(i("dynamic",M,f,P,w)):S.push(i("value",M,f,P)):S.push(i("unused",M,f,P))}}return S}function r(v,l){for(var p=v.layout.layoutAttributes,S=0;S<l.length;S++){var M=l[S],R=v.traces[M.type],T=R.layoutAttributes;T&&(M.subplot?y.extendFlat(p[R.attributes.subplot.dflt],T):y.extendFlat(p,T))}return p}var u={object:function(v,l){var p;return v==="layout"&&l===""?p="The layout argument":v[0]==="data"&&l===""?p="Trace "+v[1]+" in the data argument":p=n(v)+"key "+l,p+" must be linked to an object container"},array:function(v,l){var p;return v==="data"?p="The data argument":p=n(v)+"key "+l,p+" must be linked to an array container"},schema:function(v,l){return n(v)+"key "+l+" is not part of the schema"},unused:function(v,l,p){var S=x(p)?"container":"key";return n(v)+S+" "+l+" did not get coerced"},dynamic:function(v,l,p,S){return[n(v)+"key",l,"(set to '"+p+"')","got reset to","'"+S+"'","during defaults."].join(" ")},invisible:function(v,l){return(l?n(v)+"item "+l:"Trace "+v[1])+" got defaulted to be not visible"},value:function(v,l,p){return[n(v)+"key "+l,"is set to an invalid value ("+p+")"].join(" ")}};function n(v){return h(v)?"In data trace "+v[1]+", ":"In "+v+", "}function i(v,l,p,S,M){p=p||"";var R,T;h(l)?(R=l[0],T=l[1]):(R=l,T=null);var E=b(p),A=u[v](l,E,S,M);return y.log(A),{code:v,container:R,trace:T,path:p,astr:E,msg:A}}function s(v,l){var p=c(l),S=p.keyMinusId,M=p.id;return S in v&&v[S]._isSubplotObj&&M?!0:l in v}function o(v,l){if(l in v)return v[l];var p=c(l);return v[p.keyMinusId]}var m=y.counterRegex("([a-z]+)");function c(v){var l=v.match(m);return{keyMinusId:l&&l[1],id:l&&l[2]}}function b(v){if(!h(v))return String(v);for(var l="",p=0;p<v.length;p++){var S=v[p];typeof S=="number"?l=l.substr(0,l.length-1)+"["+S+"]":l+=S,p<v.length-1&&(l+=".")}return l}},85594:function(W){W.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(W,V,e){var y=e(71828),C=e(44467);W.exports=function(L,x,h){var d=h.name,t=h.inclusionAttr||"visible",r=x[d],u=y.isArrayOrTypedArray(L[d])?L[d]:[],n=x[d]=[],i=C.arrayTemplater(x,d,t),s,o;for(s=0;s<u.length;s++){var m=u[s];y.isPlainObject(m)?o=i.newItem(m):(o=i.newItem({}),o[t]=!1),o._index=s,o[t]!==!1&&h.handleItemDefaults(m,o,x,h),n.push(o)}var c=i.defaultItems();for(s=0;s<c.length;s++)o=c[s],o._index=n.length,h.handleItemDefaults({},o,x,h,{}),n.push(o);if(y.isArrayOrTypedArray(r)){var b=Math.min(r.length,n.length);for(s=0;s<b;s++)y.relinkPrivateKeys(n[s],r[s])}return n}},9012:function(W,V,e){var y=e(41940),C=e(77914);W.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:y({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:C.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(W,V,e){var y=e(92770),C=e(71828),a=C.dateTime2ms,L=C.incrementMonth,x=e(50606),h=x.ONEAVGMONTH;W.exports=function(t,r,u,n){if(r.type!=="date")return{vals:n};var i=t[u+"periodalignment"];if(!i)return{vals:n};var s=t[u+"period"],o;if(y(s)){if(s=+s,s<=0)return{vals:n}}else if(typeof s=="string"&&s.charAt(0)==="M"){var m=+s.substring(1);if(m>0&&Math.round(m)===m)o=m;else return{vals:n}}for(var c=r.calendar,b=i==="start",v=i==="end",l=t[u+"period0"],p=a(l,c)||0,S=[],M=[],R=[],T=n.length,E=0;E<T;E++){var A=n[E],f,P,w;if(o){for(f=Math.round((A-p)/(o*h)),w=L(p,o*f,c);w>A;)w=L(w,-o,c);for(;w<=A;)w=L(w,o,c);P=L(w,-o,c)}else{for(f=Math.round((A-p)/s),w=p+f*s;w>A;)w-=s;for(;w<=A;)w+=s;P=w-s}S[E]=b?P:v?w:(P+w)/2,M[E]=P,R[E]=w}return{vals:S,starts:M,ends:R}}},89502:function(W){W.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(W,V,e){var y=e(39898),C=e(92770),a=e(71828),L=e(50606).FP_SAFE,x=e(73972),h=e(91424),d=e(41675),t=d.getFromId,r=d.isLinked;W.exports={applyAutorangeOptions:f,getAutoRange:u,makePadFn:i,doAutoRange:c,findExtremes:b,concatExtremes:m};function u(P,w){var z,F,H=[],_=P._fullLayout,B=i(_,w,0),N=i(_,w,1),O=m(P,w),U=O.min,K=O.max;if(U.length===0||K.length===0)return a.simpleMap(w.range,w.r2l);var re=U[0].val,ae=K[0].val;for(z=1;z<U.length&&re===ae;z++)re=Math.min(re,U[z].val);for(z=1;z<K.length&&re===ae;z++)ae=Math.max(ae,K[z].val);var ue=w.autorange,ve=ue==="reversed"||ue==="min reversed"||ue==="max reversed";if(!ve&&w.range){var ee=a.simpleMap(w.range,w.r2l);ve=ee[1]<ee[0]}w.autorange==="reversed"&&(w.autorange=!0);var J=w.rangemode,Q=J==="tozero",X=J==="nonnegative",q=w._length,se=q/10,Y=0,Z,ie,te,fe,de,we;for(z=0;z<U.length;z++)for(Z=U[z],F=0;F<K.length;F++)ie=K[F],we=ie.val-Z.val-n(w,Z.val,ie.val),we>0&&(de=q-B(Z)-N(ie),de>se?we/de>Y&&(te=Z,fe=ie,Y=we/de):we/q>Y&&(te={val:Z.val,nopad:1},fe={val:ie.val,nopad:1},Y=we/q));function Ae(Ee,Ne){return Math.max(Ee,N(Ne))}if(re===ae){var Re=re-1,Fe=re+1;if(Q)if(re===0)H=[0,1];else{var Se=(re>0?K:U).reduce(Ae,0),Te=re/(1-Math.min(.5,Se/q));H=re>0?[0,Te]:[Te,0]}else X?H=[Math.max(0,Re),Math.max(1,Fe)]:H=[Re,Fe]}else Q?(te.val>=0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):X&&(te.val-Y*B(te)<0&&(te={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),Y=(fe.val-te.val-n(w,Z.val,ie.val))/(q-B(te)-N(fe)),H=[te.val-Y*B(te),fe.val+Y*N(fe)];return H=f(H,w),w.limitRange&&w.limitRange(),ve&&H.reverse(),a.simpleMap(H,w.l2r||Number)}function n(P,w,z){var F=0;if(P.rangebreaks)for(var H=P.locateBreaks(w,z),_=0;_<H.length;_++){var B=H[_];F+=B.max-B.min}return F}function i(P,w,z){var F=.05*w._length,H=w._anchorAxis||{};if((w.ticklabelposition||"").indexOf("inside")!==-1||(H.ticklabelposition||"").indexOf("inside")!==-1){var _=w.isReversed();if(!_){var B=a.simpleMap(w.range,w.r2l);_=B[1]<B[0]}_&&(z=!z)}var N=0;return r(P,w._id)||(N=o(P,w,z)),F=Math.max(N,F),w.constrain==="domain"&&w._inputDomain&&(F*=(w._inputDomain[1]-w._inputDomain[0])/(w.domain[1]-w.domain[0])),function(U){return U.nopad?0:U.pad+(U.extrapad?F:N)}}var s=3;function o(P,w,z){var F=0,H=w._id.charAt(0)==="x";for(var _ in P._plots){var B=P._plots[_];if(!(w._id!==B.xaxis._id&&w._id!==B.yaxis._id)){var N=(H?B.yaxis:B.xaxis)||{};if((N.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(N.side==="left"||N.side==="bottom")||z&&(N.side==="top"||N.side==="right"))){if(N._vals){var O=a.deg2rad(N._tickAngles[N._id+"tick"]||0),U=Math.abs(Math.cos(O)),K=Math.abs(Math.sin(O));if(!N._vals[0].bb){var re=N._id+"tick",ae=N._selections[re];ae.each(function(X){var q=y.select(this),se=q.select(".text-math-group");se.empty()&&(X.bb=h.bBox(q.node()))})}for(var ue=0;ue<N._vals.length;ue++){var ve=N._vals[ue],ee=ve.bb;if(ee){var J=2*s+ee.width,Q=2*s+ee.height;F=Math.max(F,H?Math.max(J*U,Q*K):Math.max(Q*U,J*K))}}}N.ticks==="inside"&&N.ticklabelposition==="inside"&&(F+=N.ticklen||0)}}}return F}function m(P,w,z){var F=w._id,H=P._fullData,_=P._fullLayout,B=[],N=[],O,U,K;function re(J,Q){for(O=0;O<Q.length;O++){var X=J[Q[O]],q=(X._extremes||{})[F];if(X.visible===!0&&q){for(U=0;U<q.min.length;U++)K=q.min[U],v(B,K.val,K.pad,{extrapad:K.extrapad});for(U=0;U<q.max.length;U++)K=q.max[U],l(N,K.val,K.pad,{extrapad:K.extrapad})}}}if(re(H,w._traceIndices),re(_.annotations||[],w._annIndices||[]),re(_.shapes||[],w._shapeIndices||[]),w._matchGroup&&!z){for(var ae in w._matchGroup)if(ae!==w._id){var ue=t(P,ae),ve=m(P,ue,!0),ee=w._length/ue._length;for(U=0;U<ve.min.length;U++)K=ve.min[U],v(B,K.val,K.pad*ee,{extrapad:K.extrapad});for(U=0;U<ve.max.length;U++)K=ve.max[U],l(N,K.val,K.pad*ee,{extrapad:K.extrapad})}}return{min:B,max:N}}function c(P,w,z){if(w.setScale(),w.autorange){w.range=z?z.slice():u(P,w),w._r=w.range.slice(),w._rl=a.simpleMap(w._r,w.r2l);var F=w._input,H={};H[w._attr+".range"]=w.range,H[w._attr+".autorange"]=w.autorange,x.call("_storeDirectGUIEdit",P.layout,P._fullLayout._preGUI,H),F.range=w.range.slice(),F.autorange=w.autorange}var _=w._anchorAxis;if(_&&_.rangeslider){var B=_.rangeslider[w._name];B&&B.rangemode==="auto"&&(B.range=u(P,w)),_._input.rangeslider[w._name]=a.extendFlat({},B)}}function b(P,w,z){z||(z={}),P._m||P.setScale();var F=[],H=[],_=w.length,B=z.padded||!1,N=z.tozero&&(P.type==="linear"||P.type==="-"),O=P.type==="log",U=!1,K=z.vpadLinearized||!1,re,ae,ue,ve,ee,J,Q,X,q;function se(Ae){if(Array.isArray(Ae))return U=!0,function(Fe){return Math.max(Number(Ae[Fe]||0),0)};var Re=Math.max(Number(Ae||0),0);return function(){return Re}}var Y=se((P._m>0?z.ppadplus:z.ppadminus)||z.ppad||0),Z=se((P._m>0?z.ppadminus:z.ppadplus)||z.ppad||0),ie=se(z.vpadplus||z.vpad),te=se(z.vpadminus||z.vpad);if(!U){if(X=1/0,q=-1/0,O)for(re=0;re<_;re++)ae=w[re],ae<X&&ae>0&&(X=ae),ae>q&&ae<L&&(q=ae);else for(re=0;re<_;re++)ae=w[re],ae<X&&ae>-L&&(X=ae),ae>q&&ae<L&&(q=ae);w=[X,q],_=2}var fe={tozero:N,extrapad:B};function de(Ae){ue=w[Ae],C(ue)&&(J=Y(Ae),Q=Z(Ae),K?(ve=P.c2l(ue)-te(Ae),ee=P.c2l(ue)+ie(Ae)):(X=ue-te(Ae),q=ue+ie(Ae),O&&X<q/10&&(X=q/10),ve=P.c2l(X),ee=P.c2l(q)),N&&(ve=Math.min(0,ve),ee=Math.max(0,ee)),S(ve)&&v(F,ve,Q,fe),S(ee)&&l(H,ee,J,fe))}var we=Math.min(6,_);for(re=0;re<we;re++)de(re);for(re=_-1;re>=we;re--)de(re);return{min:F,max:H,opts:z}}function v(P,w,z,F){p(P,w,z,F,M)}function l(P,w,z,F){p(P,w,z,F,R)}function p(P,w,z,F,H){for(var _=F.tozero,B=F.extrapad,N=!0,O=0;O<P.length&&N;O++){var U=P[O];if(H(U.val,w)&&U.pad>=z&&(U.extrapad||!B)){N=!1;break}else H(w,U.val)&&U.pad<=z&&(B||!U.extrapad)&&(P.splice(O,1),O--)}if(N){var K=_&&w===0;P.push({val:w,pad:K?0:z,extrapad:K?!1:B})}}function S(P){return C(P)&&Math.abs(P)<L}function M(P,w){return P<=w}function R(P,w){return P>=w}function T(P,w){var z=w.autorangeoptions;return z&&z.minallowed!==void 0&&A(w,z.minallowed,z.maxallowed)?z.minallowed:z&&z.clipmin!==void 0&&A(w,z.clipmin,z.clipmax)?Math.max(P,w.d2l(z.clipmin)):P}function E(P,w){var z=w.autorangeoptions;return z&&z.maxallowed!==void 0&&A(w,z.minallowed,z.maxallowed)?z.maxallowed:z&&z.clipmax!==void 0&&A(w,z.clipmin,z.clipmax)?Math.min(P,w.d2l(z.clipmax)):P}function A(P,w,z){return w!==void 0&&z!==void 0?(w=P.d2l(w),z=P.d2l(z),w<z):!0}function f(P,w){if(!w||!w.autorangeoptions)return P;var z=P[0],F=P[1],H=w.autorangeoptions.include;if(H!==void 0){var _=w.d2l(z),B=w.d2l(F);a.isArrayOrTypedArray(H)||(H=[H]);for(var N=0;N<H.length;N++){var O=w.d2l(H[N]);_>=O&&(_=O,z=O),B<=O&&(B=O,F=O)}}return z=T(z,w),F=E(F,w),[z,F]}},23074:function(W){W.exports=function(e,y,C){var a,L;if(C){var x=y==="reversed"||y==="min reversed"||y==="max reversed";a=C[x?1:0],L=C[x?0:1]}var h=e("autorangeoptions.minallowed",L===null?a:void 0),d=e("autorangeoptions.maxallowed",a===null?L:void 0);h===void 0&&e("autorangeoptions.clipmin"),d===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(W,V,e){var y=e(39898),C=e(92770),a=e(74875),L=e(73972),x=e(71828),h=x.strTranslate,d=e(63893),t=e(92998),r=e(7901),u=e(91424),n=e(13838),i=e(66287),s=e(50606),o=s.ONEMAXYEAR,m=s.ONEAVGYEAR,c=s.ONEMINYEAR,b=s.ONEMAXQUARTER,v=s.ONEAVGQUARTER,l=s.ONEMINQUARTER,p=s.ONEMAXMONTH,S=s.ONEAVGMONTH,M=s.ONEMINMONTH,R=s.ONEWEEK,T=s.ONEDAY,E=T/2,A=s.ONEHOUR,f=s.ONEMIN,P=s.ONESEC,w=s.MINUS_SIGN,z=s.BADNUM,F={K:"zeroline"},H={K:"gridline",L:"path"},_={K:"minor-gridline",L:"path"},B={K:"tick",L:"path"},N={K:"tick",L:"text"},O={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=e(18783),K=U.MID_SHIFT,re=U.CAP_SHIFT,ae=U.LINE_SPACING,ue=U.OPPOSITE_SIDE,ve=3,ee=W.exports={};ee.setConvert=e(21994);var J=e(4322),Q=e(41675),X=Q.idSort,q=Q.isLinked;ee.id2name=Q.id2name,ee.name2id=Q.name2id,ee.cleanId=Q.cleanId,ee.list=Q.list,ee.listIds=Q.listIds,ee.getFromId=Q.getFromId,ee.getFromTrace=Q.getFromTrace;var se=e(71739);ee.getAutoRange=se.getAutoRange,ee.findExtremes=se.findExtremes;var Y=1e-4;function Z(Ze){var je=(Ze[1]-Ze[0])*Y;return[Ze[0]-je,Ze[1]+je]}ee.coerceRef=function(Ze,je,kt,_t,Zt,ar){var ur=_t.charAt(_t.length-1),nr=kt._fullLayout._subplots[ur+"axis"],Ot=_t+"ref",cr={};return Zt||(Zt=nr[0]||(typeof ar=="string"?ar:ar[0])),ar||(ar=Zt),nr=nr.concat(nr.map(function(pr){return pr+" domain"})),cr[Ot]={valType:"enumerated",values:nr.concat(ar?typeof ar=="string"?[ar]:ar:[]),dflt:Zt},x.coerce(Ze,je,cr,Ot)},ee.getRefType=function(Ze){return Ze===void 0?Ze:Ze==="paper"?"paper":Ze==="pixel"?"pixel":/( domain)$/.test(Ze)?"domain":"range"},ee.coercePosition=function(Ze,je,kt,_t,Zt,ar){var ur,nr,Ot=ee.getRefType(_t);if(Ot!=="range")ur=x.ensureNumber,nr=kt(Zt,ar);else{var cr=ee.getFromId(je,_t);ar=cr.fraction2r(ar),nr=kt(Zt,ar),ur=cr.cleanPos}Ze[Zt]=ur(nr)},ee.cleanPosition=function(Ze,je,kt){var _t=kt==="paper"||kt==="pixel"?x.ensureNumber:ee.getFromId(je,kt).cleanPos;return _t(Ze)},ee.redrawComponents=function(Ze,je){je=je||ee.listIds(Ze);var kt=Ze._fullLayout;function _t(Zt,ar,ur,nr){for(var Ot=L.getComponentMethod(Zt,ar),cr={},pr=0;pr<je.length;pr++)for(var gr=kt[ee.id2name(je[pr])],dr=gr[ur],Gr=0;Gr<dr.length;Gr++){var kr=dr[Gr];if(!cr[kr]&&(Ot(Ze,kr),cr[kr]=1,nr))return}}_t("annotations","drawOne","_annIndices"),_t("shapes","drawOne","_shapeIndices"),_t("images","draw","_imgIndices",!0),_t("selections","drawOne","_selectionIndices")};var ie=ee.getDataConversions=function(Ze,je,kt,_t){var Zt,ar=kt==="x"||kt==="y"||kt==="z"?kt:_t;if(Array.isArray(ar)){if(Zt={type:J(_t,void 0,{autotypenumbers:Ze._fullLayout.autotypenumbers}),_categories:[]},ee.setConvert(Zt),Zt.type==="category")for(var ur=0;ur<_t.length;ur++)Zt.d2c(_t[ur])}else Zt=ee.getFromTrace(Ze,je,ar);return Zt?{d2c:Zt.d2c,c2d:Zt.c2d}:ar==="ids"?{d2c:fe,c2d:fe}:{d2c:te,c2d:te}};function te(Ze){return+Ze}function fe(Ze){return String(Ze)}ee.getDataToCoordFunc=function(Ze,je,kt,_t){return ie(Ze,je,kt,_t).d2c},ee.counterLetter=function(Ze){var je=Ze.charAt(0);if(je==="x")return"y";if(je==="y")return"x"},ee.minDtick=function(Ze,je,kt,_t){["log","category","multicategory"].indexOf(Ze.type)!==-1||!_t?Ze._minDtick=0:Ze._minDtick===void 0?(Ze._minDtick=je,Ze._forceTick0=kt):Ze._minDtick&&((Ze._minDtick/je+1e-6)%1<2e-6&&((kt-Ze._forceTick0)/je%1+1.000001)%1<2e-6?(Ze._minDtick=je,Ze._forceTick0=kt):((je/Ze._minDtick+1e-6)%1>2e-6||((kt-Ze._forceTick0)/Ze._minDtick%1+1.000001)%1>2e-6)&&(Ze._minDtick=0))},ee.saveRangeInitial=function(Ze,je){for(var kt=ee.list(Ze,"",!0),_t=!1,Zt=0;Zt<kt.length;Zt++){var ar=kt[Zt],ur=ar._rangeInitial0===void 0&&ar._rangeInitial1===void 0,nr=ur||ar.range[0]!==ar._rangeInitial0||ar.range[1]!==ar._rangeInitial1,Ot=ar.autorange;(ur&&Ot!==!0||je&&nr)&&(ar._rangeInitial0=Ot==="min"||Ot==="max reversed"?void 0:ar.range[0],ar._rangeInitial1=Ot==="max"||Ot==="min reversed"?void 0:ar.range[1],ar._autorangeInitial=Ot,_t=!0)}return _t},ee.saveShowSpikeInitial=function(Ze,je){for(var kt=ee.list(Ze,"",!0),_t=!1,Zt="on",ar=0;ar<kt.length;ar++){var ur=kt[ar],nr=ur._showSpikeInitial===void 0,Ot=nr||ur.showspikes!==ur._showspikes;(nr||je&&Ot)&&(ur._showSpikeInitial=ur.showspikes,_t=!0),Zt==="on"&&!ur.showspikes&&(Zt="off")}return Ze._fullLayout._cartesianSpikesEnabled=Zt,_t},ee.autoBin=function(Ze,je,kt,_t,Zt,ar){var ur=x.aggNums(Math.min,null,Ze),nr=x.aggNums(Math.max,null,Ze);if(je.type==="category"||je.type==="multicategory")return{start:ur-.5,end:nr+.5,size:Math.max(1,Math.round(ar)||1),_dataSpan:nr-ur};Zt||(Zt=je.calendar);var Ot;if(je.type==="log"?Ot={type:"linear",range:[ur,nr]}:Ot={type:je.type,range:x.simpleMap([ur,nr],je.c2r,0,Zt),calendar:Zt},ee.setConvert(Ot),ar=ar&&i.dtick(ar,Ot.type),ar)Ot.dtick=ar,Ot.tick0=i.tick0(void 0,Ot.type,Zt);else{var cr;if(kt)cr=(nr-ur)/kt;else{var pr=x.distinctVals(Ze),gr=Math.pow(10,Math.floor(Math.log(pr.minDiff)/Math.LN10)),dr=gr*x.roundUp(pr.minDiff/gr,[.9,1.9,4.9,9.9],!0);cr=Math.max(dr,2*x.stdev(Ze)/Math.pow(Ze.length,_t?.25:.4)),C(cr)||(cr=1)}ee.autoTicks(Ot,cr)}var Gr=Ot.dtick,kr=ee.tickIncrement(ee.tickFirst(Ot),Gr,"reverse",Zt),Fr,gn;if(typeof Gr=="number")kr=de(kr,Ze,Ot,ur,nr),gn=1+Math.floor((nr-kr)/Gr),Fr=kr+gn*Gr;else for(Ot.dtick.charAt(0)==="M"&&(kr=we(kr,Ze,Gr,ur,Zt)),Fr=kr,gn=0;Fr<=nr;)Fr=ee.tickIncrement(Fr,Gr,!1,Zt),gn++;return{start:je.c2r(kr,0,Zt),end:je.c2r(Fr,0,Zt),size:Gr,_dataSpan:nr-ur}};function de(Ze,je,kt,_t,Zt){var ar=0,ur=0,nr=0,Ot=0;function cr(Gr){return(1+(Gr-Ze)*100/kt.dtick)%100<2}for(var pr=0;pr<je.length;pr++)je[pr]%1===0?nr++:C(je[pr])||Ot++,cr(je[pr])&&ar++,cr(je[pr]+kt.dtick/2)&&ur++;var gr=je.length-Ot;if(nr===gr&&kt.type!=="date")kt.dtick<1?Ze=_t-.5*kt.dtick:(Ze-=.5,Ze+kt.dtick<_t&&(Ze+=kt.dtick));else if(ur<gr*.1&&(ar>gr*.3||cr(_t)||cr(Zt))){var dr=kt.dtick/2;Ze+=Ze+dr<_t?dr:-dr}return Ze}function we(Ze,je,kt,_t,Zt){var ar=x.findExactDates(je,Zt),ur=.8;if(ar.exactDays>ur){var nr=Number(kt.substr(1));ar.exactYears>ur&&nr%12===0?Ze=ee.tickIncrement(Ze,"M6","reverse")+T*1.5:ar.exactMonths>ur?Ze=ee.tickIncrement(Ze,"M1","reverse")+T*15.5:Ze-=E;var Ot=ee.tickIncrement(Ze,kt);if(Ot<=_t)return Ot}return Ze}ee.prepMinorTicks=function(Ze,je,kt){if(!je.minor.dtick){delete Ze.dtick;var _t=je.dtick&&C(je._tmin),Zt;if(_t){var ar=ee.tickIncrement(je._tmin,je.dtick,!0);Zt=[je._tmin,ar*.99+je._tmin*.01]}else{var ur=x.simpleMap(je.range,je.r2l);Zt=[ur[0],.8*ur[0]+.2*ur[1]]}if(Ze.range=x.simpleMap(Zt,je.l2r),Ze._isMinor=!0,ee.prepTicks(Ze,kt),_t){var nr=C(je.dtick),Ot=C(Ze.dtick),cr=nr?je.dtick:+je.dtick.substring(1),pr=Ot?Ze.dtick:+Ze.dtick.substring(1);nr&&Ot?Ae(cr,pr)?cr===2*R&&pr===2*T&&(Ze.dtick=R):cr===2*R&&pr===3*T?Ze.dtick=R:cr===R&&!(je._input.minor||{}).nticks?Ze.dtick=T:Re(cr/pr,2.5)?Ze.dtick=cr/2:Ze.dtick=cr:String(je.dtick).charAt(0)==="M"?Ot?Ze.dtick="M1":Ae(cr,pr)?cr>=12&&pr===2&&(Ze.dtick="M3"):Ze.dtick=je.dtick:String(Ze.dtick).charAt(0)==="L"?String(je.dtick).charAt(0)==="L"?Ae(cr,pr)||(Ze.dtick=Re(cr/pr,2.5)?je.dtick/2:je.dtick):Ze.dtick="D1":Ze.dtick==="D2"&&+je.dtick>1&&(Ze.dtick=1)}Ze.range=je.range}je.minor._tick0Init===void 0&&(Ze.tick0=je.tick0)};function Ae(Ze,je){return Math.abs((Ze/je+.5)%1-.5)<.001}function Re(Ze,je){return Math.abs(Ze/je-1)<.001}ee.prepTicks=function(Ze,je){var kt=x.simpleMap(Ze.range,Ze.r2l,void 0,void 0,je);if(Ze.tickmode==="auto"||!Ze.dtick){var _t=Ze.nticks,Zt;_t||(Ze.type==="category"||Ze.type==="multicategory"?(Zt=Ze.tickfont?x.bigFont(Ze.tickfont.size||12):15,_t=Ze._length/Zt):(Zt=Ze._id.charAt(0)==="y"?40:80,_t=x.constrain(Ze._length/Zt,4,9)+1),Ze._name==="radialaxis"&&(_t*=2)),Ze.minor&&Ze.minor.tickmode!=="array"||Ze.tickmode==="array"&&(_t*=100),Ze._roughDTick=Math.abs(kt[1]-kt[0])/_t,ee.autoTicks(Ze,Ze._roughDTick),Ze._minDtick>0&&Ze.dtick<Ze._minDtick*2&&(Ze.dtick=Ze._minDtick,Ze.tick0=Ze.l2r(Ze._forceTick0))}Ze.ticklabelmode==="period"&&Se(Ze),Ze.tick0||(Ze.tick0=Ze.type==="date"?"2000-01-01":0),Ze.type==="date"&&Ze.dtick<.1&&(Ze.dtick=.1),gt(Ze)};function Fe(Ze){return+Ze.substring(1)}function Se(Ze){var je;function kt(){return!(C(Ze.dtick)||Ze.dtick.charAt(0)!=="M")}var _t=kt(),Zt=ee.getTickFormat(Ze);if(Zt){var ar=Ze._dtickInit!==Ze.dtick;/%[fLQsSMX]/.test(Zt)||(/%[HI]/.test(Zt)?(je=A,ar&&!_t&&Ze.dtick<A&&(Ze.dtick=A)):/%p/.test(Zt)?(je=E,ar&&!_t&&Ze.dtick<E&&(Ze.dtick=E)):/%[Aadejuwx]/.test(Zt)?(je=T,ar&&!_t&&Ze.dtick<T&&(Ze.dtick=T)):/%[UVW]/.test(Zt)?(je=R,ar&&!_t&&Ze.dtick<R&&(Ze.dtick=R)):/%[Bbm]/.test(Zt)?(je=S,ar&&(_t?Fe(Ze.dtick)<1:Ze.dtick<M)&&(Ze.dtick="M1")):/%[q]/.test(Zt)?(je=v,ar&&(_t?Fe(Ze.dtick)<3:Ze.dtick<l)&&(Ze.dtick="M3")):/%[Yy]/.test(Zt)&&(je=m,ar&&(_t?Fe(Ze.dtick)<12:Ze.dtick<c)&&(Ze.dtick="M12")))}_t=kt(),_t&&Ze.tick0===Ze._dowTick0&&(Ze.tick0=Ze._rawTick0),Ze._definedDelta=je}function Te(Ze,je,kt){for(var _t=0;_t<Ze.length;_t++){var Zt=Ze[_t].value,ar=_t,ur=_t+1;_t<Ze.length-1?(ar=_t,ur=_t+1):_t>0?(ar=_t-1,ur=_t):(ar=_t,ur=_t);var nr=Ze[ar].value,Ot=Ze[ur].value,cr=Math.abs(Ot-nr),pr=kt||cr,gr=0;pr>=c?cr>=c&&cr<=o?gr=cr:gr=m:kt===v&&pr>=l?cr>=l&&cr<=b?gr=cr:gr=v:pr>=M?cr>=M&&cr<=p?gr=cr:gr=S:kt===R&&pr>=R?gr=R:pr>=T?gr=T:kt===E&&pr>=E?gr=E:kt===A&&pr>=A&&(gr=A);var dr;gr>=cr&&(gr=cr,dr=!0);var Gr=Zt+gr;if(je.rangebreaks&&gr>0){for(var kr=84,Fr=0,gn=0;gn<kr;gn++){var Kr=(gn+.5)/kr;je.maskBreaks(Zt*(1-Kr)+Kr*Gr)!==z&&Fr++}gr*=Fr/kr,gr||(Ze[_t].drop=!0),dr&&cr>R&&(gr=cr)}(gr>0||_t===0)&&(Ze[_t].periodX=Zt+gr/2)}}ee.calcTicks=function(je,kt){for(var _t=je.type,Zt=je.calendar,ar=je.ticklabelstep,ur=je.ticklabelmode==="period",nr=x.simpleMap(je.range,je.r2l,void 0,void 0,kt),Ot=nr[1]<nr[0],cr=Math.min(nr[0],nr[1]),pr=Math.max(nr[0],nr[1]),gr=Math.max(1e3,je._length||0),dr=[],Gr=[],kr=[],Fr=[],gn=je.minor&&(je.minor.ticks||je.minor.showgrid),Kr=1;Kr>=(gn?0:1);Kr--){var kn=!Kr;Kr?(je._dtickInit=je.dtick,je._tick0Init=je.tick0):(je.minor._dtickInit=je.minor.dtick,je.minor._tick0Init=je.minor.tick0);var In=Kr?je:x.extendFlat({},je,je.minor);if(kn?ee.prepMinorTicks(In,je,kt):ee.prepTicks(In,kt),In.tickmode==="array"){Kr?(kr=[],dr=He(je)):(Fr=[],Gr=He(je));continue}if(In.tickmode==="sync"){kr=[],dr=Ne(je);continue}var br=Z(nr),Mr=br[0],Br=br[1],Nr=C(In.dtick),en=_t==="log"&&!(Nr||In.dtick.charAt(0)==="L"),dn=ee.tickFirst(In,kt);if(Kr){if(je._tmin=dn,dn<Mr!==Ot)break;(_t==="category"||_t==="multicategory")&&(Br=Ot?Math.max(-.5,Br):Math.min(je._categories.length-.5,Br))}var cn=null,An=dn,Rn;if(Kr){var Jn;Nr?Jn=je.dtick:_t==="date"?typeof je.dtick=="string"&&je.dtick.charAt(0)==="M"&&(Jn=S*je.dtick.substring(1)):Jn=je._roughDTick,Rn=Math.round((je.r2l(An)-je.r2l(je.tick0))/Jn)-1}var ta=In.dtick;for(In.rangebreaks&&In._tick0Init!==In.tick0&&(An=Vt(An,je),Ot||(An=ee.tickIncrement(An,ta,!Ot,Zt))),Kr&&ur&&(An=ee.tickIncrement(An,ta,!Ot,Zt),Rn--);Ot?An>=Br:An<=Br;An=ee.tickIncrement(An,ta,Ot,Zt)){if(Kr&&Rn++,In.rangebreaks&&!Ot){if(An<Mr)continue;if(In.maskBreaks(An)===z&&Vt(An,In)>=pr)break}if(kr.length>gr||An===cn)break;cn=An;var fa={value:An};Kr?(en&&An!==(An|0)&&(fa.simpleLabel=!0),ar>1&&Rn%ar&&(fa.skipLabel=!0),kr.push(fa)):(fa.minor=!0,Fr.push(fa))}}if(gn){var na=je.minor.ticks==="inside"&&je.ticks==="outside"||je.minor.ticks==="outside"&&je.ticks==="inside";if(!na){for(var ra=kr.map(function(Tn){return Tn.value}),Sr=[],sn=0;sn<Fr.length;sn++){var an=Fr[sn],yn=an.value;if(ra.indexOf(yn)===-1){for(var Hn=!1,Cn=0;!Hn&&Cn<kr.length;Cn++)1e7+kr[Cn].value===1e7+yn&&(Hn=!0);Hn||Sr.push(an)}}Fr=Sr}}ur&&Te(kr,je,je._definedDelta);var Ln;if(je.rangebreaks){var Gn=je._id.charAt(0)==="y",oa=1;je.tickmode==="auto"&&(oa=je.tickfont?je.tickfont.size:12);var Da=NaN;for(Ln=kr.length-1;Ln>-1;Ln--){if(kr[Ln].drop){kr.splice(Ln,1);continue}kr[Ln].value=Vt(kr[Ln].value,je);var Xa=je.c2p(kr[Ln].value);(Gn?Da>Xa-oa:Da<Xa+oa)?kr.splice(Ot?Ln+1:Ln,1):Da=Xa}}zt(je)&&Math.abs(nr[1]-nr[0])===360&&kr.pop(),je._tmax=(kr[kr.length-1]||{}).value,je._prevDateHead="",je._inCalcTicks=!0;var Xt,Tr=function(Tn){Tn.text="",je._prevDateHead=Xt};kr=kr.concat(Fr);var on,hn;for(Ln=0;Ln<kr.length;Ln++){var vn=kr[Ln].minor,Pn=kr[Ln].value;vn?Gr.push({x:Pn,minor:!0}):(Xt=je._prevDateHead,on=ee.tickText(je,Pn,!1,kr[Ln].simpleLabel),hn=kr[Ln].periodX,hn!==void 0&&(on.periodX=hn,(hn>pr||hn<cr)&&(hn>pr&&(on.periodX=pr),hn<cr&&(on.periodX=cr),Tr(on))),kr[Ln].skipLabel&&Tr(on),dr.push(on))}return dr=dr.concat(Gr),je._inCalcTicks=!1,ur&&dr.length&&(dr[0].noTick=!0),dr};function Ee(Ze,je){return Ze.rangebreaks&&(je=je.filter(function(kt){return Ze.maskBreaks(kt.x)!==z})),je}function Ne(Ze){var je=Ze._mainAxis,kt=[];if(je._vals){for(var _t=0;_t<je._vals.length;_t++)if(!je._vals[_t].noTick){var Zt=je.l2p(je._vals[_t].x),ar=Ze.p2l(Zt),ur=ee.tickText(Ze,ar);je._vals[_t].minor&&(ur.minor=!0,ur.text=""),kt.push(ur)}}return kt=Ee(Ze,kt),kt}function He(Ze){var je=x.simpleMap(Ze.range,Ze.r2l),kt=Z(je),_t=Math.min(kt[0],kt[1]),Zt=Math.max(kt[0],kt[1]),ar=Ze.type==="category"?Ze.d2l_noadd:Ze.d2l;Ze.type==="log"&&String(Ze.dtick).charAt(0)!=="L"&&(Ze.dtick="L"+Math.pow(10,Math.floor(Math.min(Ze.range[0],Ze.range[1]))-1));for(var ur=[],nr=0;nr<=1;nr++)if(!(nr&&!Ze.minor)){var Ot=nr?Ze.minor.tickvals:Ze.tickvals,cr=nr?[]:Ze.ticktext;if(Ot){Array.isArray(cr)||(cr=[]);for(var pr=0;pr<Ot.length;pr++){var gr=ar(Ot[pr]);if(gr>_t&&gr<Zt){var dr=cr[pr]===void 0?ee.tickText(Ze,gr):Mt(Ze,gr,String(cr[pr]));nr&&(dr.minor=!0,dr.text=""),ur.push(dr)}}}}return ur=Ee(Ze,ur),ur}var _e=[2,5,10],We=[1,2,3,6,12],tt=[1,2,5,10,15,30],Ke=[1,2,3,7,14],qe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],rt=[-.301,0,.301,.699,1],ft=[15,30,45,90,180];function pt(Ze,je,kt){return je*x.roundUp(Ze/je,kt)}ee.autoTicks=function(Ze,je,kt){var _t;function Zt(gr){return Math.pow(gr,Math.floor(Math.log(je)/Math.LN10))}if(Ze.type==="date"){Ze.tick0=x.dateTick0(Ze.calendar,0);var ar=2*je;if(ar>m)je/=m,_t=Zt(10),Ze.dtick="M"+12*pt(je,_t,_e);else if(ar>S)je/=S,Ze.dtick="M"+pt(je,1,We);else if(ar>T){if(Ze.dtick=pt(je,T,Ze._hasDayOfWeekBreaks?[1,2,7,14]:Ke),!kt){var ur=ee.getTickFormat(Ze),nr=Ze.ticklabelmode==="period";nr&&(Ze._rawTick0=Ze.tick0),/%[uVW]/.test(ur)?Ze.tick0=x.dateTick0(Ze.calendar,2):Ze.tick0=x.dateTick0(Ze.calendar,1),nr&&(Ze._dowTick0=Ze.tick0)}}else ar>A?Ze.dtick=pt(je,A,We):ar>f?Ze.dtick=pt(je,f,tt):ar>P?Ze.dtick=pt(je,P,tt):(_t=Zt(10),Ze.dtick=pt(je,_t,_e))}else if(Ze.type==="log"){Ze.tick0=0;var Ot=x.simpleMap(Ze.range,Ze.r2l);if(Ze._isMinor&&(je*=1.5),je>.7)Ze.dtick=Math.ceil(je);else if(Math.abs(Ot[1]-Ot[0])<1){var cr=1.5*Math.abs((Ot[1]-Ot[0])/je);je=Math.abs(Math.pow(10,Ot[1])-Math.pow(10,Ot[0]))/cr,_t=Zt(10),Ze.dtick="L"+pt(je,_t,_e)}else Ze.dtick=je>.3?"D2":"D1"}else Ze.type==="category"||Ze.type==="multicategory"?(Ze.tick0=0,Ze.dtick=Math.ceil(Math.max(je,1))):zt(Ze)?(Ze.tick0=0,_t=1,Ze.dtick=pt(je,_t,ft)):(Ze.tick0=0,_t=Zt(10),Ze.dtick=pt(je,_t,_e));if(Ze.dtick===0&&(Ze.dtick=1),!C(Ze.dtick)&&typeof Ze.dtick!="string"){var pr=Ze.dtick;throw Ze.dtick=1,"ax.dtick error: "+String(pr)}};function gt(Ze){var je=Ze.dtick;if(Ze._tickexponent=0,!C(je)&&typeof je!="string"&&(je=1),(Ze.type==="category"||Ze.type==="multicategory")&&(Ze._tickround=null),Ze.type==="date"){var kt=Ze.r2l(Ze.tick0),_t=Ze.l2r(kt).replace(/(^-|i)/g,""),Zt=_t.length;if(String(je).charAt(0)==="M")Zt>10||_t.substr(5)!=="01-01"?Ze._tickround="d":Ze._tickround=+je.substr(1)%12===0?"y":"m";else if(je>=T&&Zt<=10||je>=T*15)Ze._tickround="d";else if(je>=f&&Zt<=16||je>=A)Ze._tickround="M";else if(je>=P&&Zt<=19||je>=f)Ze._tickround="S";else{var ar=Ze.l2r(kt+je).replace(/^-/,"").length;Ze._tickround=Math.max(Zt,ar)-20,Ze._tickround<0&&(Ze._tickround=4)}}else if(C(je)||je.charAt(0)==="L"){var ur=Ze.range.map(Ze.r2d||Number);C(je)||(je=Number(je.substr(1))),Ze._tickround=2-Math.floor(Math.log(je)/Math.LN10+.01);var nr=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Ot=Math.floor(Math.log(nr)/Math.LN10+.01),cr=Ze.minexponent===void 0?3:Ze.minexponent;Math.abs(Ot)>cr&&(ce(Ze.exponentformat)&&!be(Ot)?Ze._tickexponent=3*Math.round((Ot-1)/3):Ze._tickexponent=Ot)}else Ze._tickround=null}ee.tickIncrement=function(Ze,je,kt,_t){var Zt=kt?-1:1;if(C(je))return x.increment(Ze,Zt*je);var ar=je.charAt(0),ur=Zt*Number(je.substr(1));if(ar==="M")return x.incrementMonth(Ze,ur,_t);if(ar==="L")return Math.log(Math.pow(10,Ze)+ur)/Math.LN10;if(ar==="D"){var nr=je==="D2"?rt:qe,Ot=Ze+Zt*.01,cr=x.roundUp(x.mod(Ot,1),nr,kt);return Math.floor(Ot)+Math.log(y.round(Math.pow(10,cr),1))/Math.LN10}throw"unrecognized dtick "+String(je)},ee.tickFirst=function(Ze,je){var kt=Ze.r2l||Number,_t=x.simpleMap(Ze.range,kt,void 0,void 0,je),Zt=_t[1]<_t[0],ar=Zt?Math.floor:Math.ceil,ur=Z(_t)[0],nr=Ze.dtick,Ot=kt(Ze.tick0);if(C(nr)){var cr=ar((ur-Ot)/nr)*nr+Ot;return(Ze.type==="category"||Ze.type==="multicategory")&&(cr=x.constrain(cr,0,Ze._categories.length-1)),cr}var pr=nr.charAt(0),gr=Number(nr.substr(1));if(pr==="M"){for(var dr=0,Gr=Ot,kr,Fr,gn;dr<10;){if(kr=ee.tickIncrement(Gr,nr,Zt,Ze.calendar),(kr-ur)*(Gr-ur)<=0)return Zt?Math.min(Gr,kr):Math.max(Gr,kr);Fr=(ur-(Gr+kr)/2)/(kr-Gr),gn=pr+(Math.abs(Math.round(Fr))||1)*gr,Gr=ee.tickIncrement(Gr,gn,Fr<0?!Zt:Zt,Ze.calendar),dr++}return x.error("tickFirst did not converge",Ze),Gr}else{if(pr==="L")return Math.log(ar((Math.pow(10,ur)-Ot)/gr)*gr+Ot)/Math.LN10;if(pr==="D"){var Kr=nr==="D2"?rt:qe,kn=x.roundUp(x.mod(ur,1),Kr,Zt);return Math.floor(ur)+Math.log(y.round(Math.pow(10,kn),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},ee.tickText=function(Ze,je,kt,_t){var Zt=Mt(Ze,je),ar=Ze.tickmode==="array",ur=kt||ar,nr=Ze.type,Ot=nr==="category"?Ze.d2l_noadd:Ze.d2l,cr;if(ar&&Array.isArray(Ze.ticktext)){var pr=x.simpleMap(Ze.range,Ze.r2l),gr=(Math.abs(pr[1]-pr[0])-(Ze._lBreaks||0))/1e4;for(cr=0;cr<Ze.ticktext.length&&!(Math.abs(je-Ot(Ze.tickvals[cr]))<gr);cr++);if(cr<Ze.ticktext.length)return Zt.text=String(Ze.ticktext[cr]),Zt}function dr(gn){if(gn===void 0)return!0;if(kt)return gn==="none";var Kr={first:Ze._tmin,last:Ze._tmax}[gn];return gn!=="all"&&je!==Kr}var Gr=kt?"never":Ze.exponentformat!=="none"&&dr(Ze.showexponent)?"hide":"";if(nr==="date"?Lt(Ze,Zt,kt,ur):nr==="log"?Wt(Ze,Zt,kt,ur,Gr):nr==="category"?Je(Ze,Zt):nr==="multicategory"?ze(Ze,Zt,kt):zt(Ze)?Ue(Ze,Zt,kt,ur,Gr):Oe(Ze,Zt,kt,ur,Gr),_t||(Ze.tickprefix&&!dr(Ze.showtickprefix)&&(Zt.text=Ze.tickprefix+Zt.text),Ze.ticksuffix&&!dr(Ze.showticksuffix)&&(Zt.text+=Ze.ticksuffix)),Ze.labelalias&&Ze.labelalias.hasOwnProperty(Zt.text)){var kr=Ze.labelalias[Zt.text];typeof kr=="string"&&(Zt.text=kr)}if(Ze.tickson==="boundaries"||Ze.showdividers){var Fr=function(gn){var Kr=Ze.l2p(gn);return Kr>=0&&Kr<=Ze._length?gn:null};Zt.xbnd=[Fr(Zt.x-.5),Fr(Zt.x+Ze.dtick-.5)]}return Zt},ee.hoverLabelText=function(Ze,je,kt){kt&&(Ze=x.extendFlat({},Ze,{hoverformat:kt}));var _t=Array.isArray(je)?je[0]:je,Zt=Array.isArray(je)?je[1]:void 0;if(Zt!==void 0&&Zt!==_t)return ee.hoverLabelText(Ze,_t,kt)+" - "+ee.hoverLabelText(Ze,Zt,kt);var ar=Ze.type==="log"&&_t<=0,ur=ee.tickText(Ze,Ze.c2l(ar?-_t:_t),"hover").text;return ar?_t===0?"0":w+ur:ur};function Mt(Ze,je,kt){var _t=Ze.tickfont||{};return{x:je,dx:0,dy:0,text:kt||"",fontSize:_t.size,font:_t.family,fontColor:_t.color}}function Lt(Ze,je,kt,_t){var Zt=Ze._tickround,ar=kt&&Ze.hoverformat||ee.getTickFormat(Ze);_t&&(C(Zt)?Zt=4:Zt={y:"m",m:"d",d:"M",M:"S",S:4}[Zt]);var ur=x.formatDate(je.x,ar,Zt,Ze._dateFormat,Ze.calendar,Ze._extraFormat),nr,Ot=ur.indexOf(`
`);if(Ot!==-1&&(nr=ur.substr(Ot+1),ur=ur.substr(0,Ot)),_t&&(ur==="00:00:00"||ur==="00:00"?(ur=nr,nr=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),nr)if(kt)Zt==="d"?ur+=", "+nr:ur=nr+(ur?", "+ur:"");else if(!Ze._inCalcTicks||Ze._prevDateHead!==nr)Ze._prevDateHead=nr,ur+="<br>"+nr;else{var cr=qt(Ze),pr=Ze._trueSide||Ze.side;(!cr&&pr==="top"||cr&&pr==="bottom")&&(ur+="<br> ")}je.text=ur}function Wt(Ze,je,kt,_t,Zt){var ar=Ze.dtick,ur=je.x,nr=Ze.tickformat,Ot=typeof ar=="string"&&ar.charAt(0);if(Zt==="never"&&(Zt=""),_t&&Ot!=="L"&&(ar="L3",Ot="L"),nr||Ot==="L")je.text=De(Math.pow(10,ur),Ze,Zt,_t);else if(C(ar)||Ot==="D"&&x.mod(ur+.01,1)<.1){var cr=Math.round(ur),pr=Math.abs(cr),gr=Ze.exponentformat;gr==="power"||ce(gr)&&be(cr)?(cr===0?je.text=1:cr===1?je.text="10":je.text="10<sup>"+(cr>1?"":w)+pr+"</sup>",je.fontSize*=1.25):(gr==="e"||gr==="E")&&pr>2?je.text="1"+gr+(cr>0?"+":w)+pr:(je.text=De(Math.pow(10,ur),Ze,"","fakehover"),ar==="D1"&&Ze._id.charAt(0)==="y"&&(je.dy-=je.fontSize/6))}else if(Ot==="D")je.text=String(Math.round(Math.pow(10,x.mod(ur,1)))),je.fontSize*=.75;else throw"unrecognized dtick "+String(ar);if(Ze.dtick==="D1"){var dr=String(je.text).charAt(0);(dr==="0"||dr==="1")&&(Ze._id.charAt(0)==="y"?je.dx-=je.fontSize/4:(je.dy+=je.fontSize/2,je.dx+=(Ze.range[1]>Ze.range[0]?1:-1)*je.fontSize*(ur<0?.5:.25)))}}function Je(Ze,je){var kt=Ze._categories[Math.round(je.x)];kt===void 0&&(kt=""),je.text=String(kt)}function ze(Ze,je,kt){var _t=Math.round(je.x),Zt=Ze._categories[_t]||[],ar=Zt[1]===void 0?"":String(Zt[1]),ur=Zt[0]===void 0?"":String(Zt[0]);kt?je.text=ur+" - "+ar:(je.text=ar,je.text2=ur)}function Oe(Ze,je,kt,_t,Zt){Zt==="never"?Zt="":Ze.showexponent==="all"&&Math.abs(je.x/Ze.dtick)<1e-6&&(Zt="hide"),je.text=De(je.x,Ze,Zt,_t)}function Ue(Ze,je,kt,_t,Zt){if(Ze.thetaunit==="radians"&&!kt){var ar=je.x/180;if(ar===0)je.text="0";else{var ur=ke(ar);if(ur[1]>=100)je.text=De(x.deg2rad(je.x),Ze,Zt,_t);else{var nr=je.x<0;ur[1]===1?ur[0]===1?je.text="":je.text=ur[0]+"":je.text=["<sup>",ur[0],"</sup>","","<sub>",ur[1],"</sub>",""].join(""),nr&&(je.text=w+je.text)}}}else je.text=De(je.x,Ze,Zt,_t)}function ke(Ze){function je(nr,Ot){return Math.abs(nr-Ot)<=1e-6}function kt(nr,Ot){return je(Ot,0)?nr:kt(Ot,nr%Ot)}function _t(nr){for(var Ot=1;!je(Math.round(nr*Ot)/Ot,nr);)Ot*=10;return Ot}var Zt=_t(Ze),ar=Ze*Zt,ur=Math.abs(kt(ar,Zt));return[Math.round(ar/ur),Math.round(Zt/ur)]}var Me=["f","p","n","","m","","k","M","G","T"];function ce(Ze){return Ze==="SI"||Ze==="B"}function be(Ze){return Ze>14||Ze<-15}function De(Ze,je,kt,_t){var Zt=Ze<0,ar=je._tickround,ur=kt||je.exponentformat||"B",nr=je._tickexponent,Ot=ee.getTickFormat(je),cr=je.separatethousands;if(_t){var pr={exponentformat:ur,minexponent:je.minexponent,dtick:je.showexponent==="none"?je.dtick:C(Ze)&&Math.abs(Ze)||1,range:je.showexponent==="none"?je.range.map(je.r2d):[0,Ze||1]};gt(pr),ar=(Number(pr._tickround)||0)+4,nr=pr._tickexponent,je.hoverformat&&(Ot=je.hoverformat)}if(Ot)return je._numFormat(Ot)(Ze).replace(/-/g,w);var gr=Math.pow(10,-ar)/2;if(ur==="none"&&(nr=0),Ze=Math.abs(Ze),Ze<gr)Ze="0",Zt=!1;else{if(Ze+=gr,nr&&(Ze*=Math.pow(10,-nr),ar+=nr),ar===0)Ze=String(Math.floor(Ze));else if(ar<0){Ze=String(Math.round(Ze)),Ze=Ze.substr(0,Ze.length+ar);for(var dr=ar;dr<0;dr++)Ze+="0"}else{Ze=String(Ze);var Gr=Ze.indexOf(".")+1;Gr&&(Ze=Ze.substr(0,Gr+ar).replace(/\.?0+$/,""))}Ze=x.numSeparate(Ze,je._separators,cr)}if(nr&&ur!=="hide"){ce(ur)&&be(nr)&&(ur="power");var kr;nr<0?kr=w+-nr:ur!=="power"?kr="+"+nr:kr=String(nr),ur==="e"||ur==="E"?Ze+=ur+kr:ur==="power"?Ze+="10<sup>"+kr+"</sup>":ur==="B"&&nr===9?Ze+="B":ce(ur)&&(Ze+=Me[nr/3+5])}return Zt?w+Ze:Ze}ee.getTickFormat=function(Ze){var je;function kt(Ot){return typeof Ot!="string"?Ot:Number(Ot.replace("M",""))*S}function _t(Ot,cr){var pr=["L","D"];if(typeof Ot==typeof cr){if(typeof Ot=="number")return Ot-cr;var gr=pr.indexOf(Ot.charAt(0)),dr=pr.indexOf(cr.charAt(0));return gr===dr?Number(Ot.replace(/(L|D)/g,""))-Number(cr.replace(/(L|D)/g,"")):gr-dr}else return typeof Ot=="number"?1:-1}function Zt(Ot,cr,pr){var gr=pr||function(kr){return kr},dr=cr[0],Gr=cr[1];return(!dr&&typeof dr!="number"||gr(dr)<=gr(Ot))&&(!Gr&&typeof Gr!="number"||gr(Gr)>=gr(Ot))}function ar(Ot,cr){var pr=cr[0]===null,gr=cr[1]===null,dr=_t(Ot,cr[0])>=0,Gr=_t(Ot,cr[1])<=0;return(pr||dr)&&(gr||Gr)}var ur,nr;if(Ze.tickformatstops&&Ze.tickformatstops.length>0)switch(Ze.type){case"date":case"linear":{for(je=0;je<Ze.tickformatstops.length;je++)if(nr=Ze.tickformatstops[je],nr.enabled&&Zt(Ze.dtick,nr.dtickrange,kt)){ur=nr;break}break}case"log":{for(je=0;je<Ze.tickformatstops.length;je++)if(nr=Ze.tickformatstops[je],nr.enabled&&ar(Ze.dtick,nr.dtickrange)){ur=nr;break}break}}return ur?ur.value:Ze.tickformat},ee.getSubplots=function(Ze,je){var kt=Ze._fullLayout._subplots,_t=kt.cartesian.concat(kt.gl2d||[]),Zt=je?ee.findSubplotsWithAxis(_t,je):_t;return Zt.sort(function(ar,ur){var nr=ar.substr(1).split("y"),Ot=ur.substr(1).split("y");return nr[0]===Ot[0]?+nr[1]-+Ot[1]:+nr[0]-+Ot[0]}),Zt},ee.findSubplotsWithAxis=function(Ze,je){for(var kt=new RegExp(je._id.charAt(0)==="x"?"^"+je._id+"y":je._id+"$"),_t=[],Zt=0;Zt<Ze.length;Zt++){var ar=Ze[Zt];kt.test(ar)&&_t.push(ar)}return _t},ee.makeClipPaths=function(Ze){var je=Ze._fullLayout;if(!je._hasOnlyLargeSploms){var kt={_offset:0,_length:je.width,_id:""},_t={_offset:0,_length:je.height,_id:""},Zt=ee.list(Ze,"x",!0),ar=ee.list(Ze,"y",!0),ur=[],nr,Ot;for(nr=0;nr<Zt.length;nr++)for(ur.push({x:Zt[nr],y:_t}),Ot=0;Ot<ar.length;Ot++)nr===0&&ur.push({x:kt,y:ar[Ot]}),ur.push({x:Zt[nr],y:ar[Ot]});var cr=je._clips.selectAll(".axesclip").data(ur,function(pr){return pr.x._id+pr.y._id});cr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(pr){return"clip"+je._uid+pr.x._id+pr.y._id}).append("rect"),cr.exit().remove(),cr.each(function(pr){y.select(this).select("rect").attr({x:pr.x._offset||0,y:pr.y._offset||0,width:pr.x._length||1,height:pr.y._length||1})})}},ee.draw=function(Ze,je,kt){var _t=Ze._fullLayout;je==="redraw"&&_t._paper.selectAll("g.subplot").each(function(Ot){var cr=Ot[0],pr=_t._plots[cr];if(pr){var gr=pr.xaxis,dr=pr.yaxis;pr.xaxislayer.selectAll("."+gr._id+"tick").remove(),pr.yaxislayer.selectAll("."+dr._id+"tick").remove(),pr.xaxislayer.selectAll("."+gr._id+"tick2").remove(),pr.yaxislayer.selectAll("."+dr._id+"tick2").remove(),pr.xaxislayer.selectAll("."+gr._id+"divider").remove(),pr.yaxislayer.selectAll("."+dr._id+"divider").remove(),pr.minorGridlayer&&pr.minorGridlayer.selectAll("path").remove(),pr.gridlayer&&pr.gridlayer.selectAll("path").remove(),pr.zerolinelayer&&pr.zerolinelayer.selectAll("path").remove(),_t._infolayer.select(".g-"+gr._id+"title").remove(),_t._infolayer.select(".g-"+dr._id+"title").remove()}});var Zt=!je||je==="redraw"?ee.listIds(Ze):je,ar=ee.list(Ze),ur=ar.filter(function(Ot){return Ot.autoshift}).map(function(Ot){return Ot.overlaying});Zt.map(function(Ot){var cr=ee.getFromId(Ze,Ot);if(cr.tickmode==="sync"&&cr.overlaying){var pr=Zt.findIndex(function(gr){return gr===cr.overlaying});pr>=0&&Zt.unshift(Zt.splice(pr,1).shift())}});var nr={false:{left:0,right:0}};return x.syncOrAsync(Zt.map(function(Ot){return function(){if(Ot){var cr=ee.getFromId(Ze,Ot);kt||(kt={}),kt.axShifts=nr,kt.overlayingShiftedAx=ur;var pr=ee.drawOne(Ze,cr,kt);return cr._shiftPusher&&sr(cr,cr._fullDepth||0,nr,!0),cr._r=cr.range.slice(),cr._rl=x.simpleMap(cr._r,cr.r2l),pr}}}))},ee.drawOne=function(Ze,je,kt){kt=kt||{};var _t=kt.axShifts||{},Zt=kt.overlayingShiftedAx||[],ar,ur,nr;je.setScale();var Ot=Ze._fullLayout,cr=je._id,pr=cr.charAt(0),gr=ee.counterLetter(cr),dr=Ot._plots[je._mainSubplot];if(!dr)return;if(je._shiftPusher=je.autoshift||Zt.indexOf(je._id)!==-1||Zt.indexOf(je.overlaying)!==-1,je._shiftPusher&je.anchor==="free"){var Gr=je.linewidth/2||0;je.ticks==="inside"&&(Gr+=je.ticklen),sr(je,Gr,_t,!0),sr(je,je.shift||0,_t,!1)}(kt.skipTitle!==!0||je._shift===void 0)&&(je._shift=Cr(je,_t));var kr=dr[pr+"axislayer"],Fr=je._mainLinePosition,gn=Fr+=je._shift,Kr=je._mainMirrorPosition,kn=je._vals=ee.calcTicks(je),In=[je.mirror,gn,Kr].join("_");for(ar=0;ar<kn.length;ar++)kn[ar].axInfo=In;je._selections={},je._tickAngles&&(je._prevTickAngles=je._tickAngles),je._tickAngles={},je._depth=null;var br={};function Mr(Or){var pn=cr+(Or||"tick");return br[pn]||(br[pn]=It(je,pn)),br[pn]}if(je.visible){var Br=ee.makeTransTickFn(je),Nr=ee.makeTransTickLabelFn(je),en,dn,cn=je.ticks==="inside",An=je.ticks==="outside";if(je.tickson==="boundaries"){var Rn=it(je,kn);dn=ee.clipEnds(je,Rn),en=cn?dn:Rn}else dn=ee.clipEnds(je,kn),en=cn&&je.ticklabelmode!=="period"?dn:kn;var Jn=je._gridVals=dn,ta=Tt(je,kn);if(!Ot._hasOnlyLargeSploms){var fa=je._subplotsWith,na={};for(ar=0;ar<fa.length;ar++){ur=fa[ar],nr=Ot._plots[ur];var ra=nr[gr+"axis"],Sr=ra._mainAxis._id;if(!na[Sr]){na[Sr]=1;var sn=pr==="x"?"M0,"+ra._offset+"v"+ra._length:"M"+ra._offset+",0h"+ra._length;ee.drawGrid(Ze,je,{vals:Jn,counterAxis:ra,layer:nr.gridlayer.select("."+cr),minorLayer:nr.minorGridlayer.select("."+cr),path:sn,transFn:Br}),ee.drawZeroLine(Ze,je,{counterAxis:ra,layer:nr.zerolinelayer,path:sn,transFn:Br})}}}var an,yn=ee.getTickSigns(je),Hn=ee.getTickSigns(je,"minor");if(je.ticks||je.minor&&je.minor.ticks){var Cn=ee.makeTickPath(je,gn,yn[2]),Ln=ee.makeTickPath(je,gn,Hn[2],{minor:!0}),Gn,oa,Da,Xa;if(je._anchorAxis&&je.mirror&&je.mirror!==!0?(Gn=ee.makeTickPath(je,Kr,yn[3]),oa=ee.makeTickPath(je,Kr,Hn[3],{minor:!0}),Da=Cn+Gn,Xa=Ln+oa):(Gn="",oa="",Da=Cn,Xa=Ln),je.showdividers&&An&&je.tickson==="boundaries"){var Xt={};for(ar=0;ar<ta.length;ar++)Xt[ta[ar].x]=1;an=function(Or){return Xt[Or.x]?Gn:Da}}else an=function(Or){return Or.minor?Xa:Da}}if(ee.drawTicks(Ze,je,{vals:en,layer:kr,path:an,transFn:Br}),je.mirror==="allticks"){var Tr=Object.keys(je._linepositions||{});for(ar=0;ar<Tr.length;ar++){ur=Tr[ar],nr=Ot._plots[ur];var on=je._linepositions[ur]||[],hn=on[0],vn=on[1],Pn=on[2],Tn=ee.makeTickPath(je,hn,Pn?yn[0]:Hn[0],{minor:Pn})+ee.makeTickPath(je,vn,Pn?yn[1]:Hn[1],{minor:Pn});ee.drawTicks(Ze,je,{vals:en,layer:nr[pr+"axislayer"],path:Tn,transFn:Br})}}var fn=[];if(fn.push(function(){return ee.drawLabels(Ze,je,{vals:kn,layer:kr,plotinfo:nr,transFn:Nr,labelFns:ee.makeLabelFns(je,gn)})}),je.type==="multicategory"){var Dr={x:2,y:10}[pr];fn.push(function(){var Or={x:"height",y:"width"}[pr],pn=Mr()[Or]+Dr+(je._tickAngles[cr+"tick"]?je.tickfont.size*ae:0);return ee.drawLabels(Ze,je,{vals:ot(je,kn),layer:kr,cls:cr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Br,labelFns:ee.makeLabelFns(je,gn+pn*yn[4])})}),fn.push(function(){return je._depth=yn[4]*(Mr("tick2")[je.side]-gn),Jt(Ze,je,{vals:ta,layer:kr,path:ee.makeTickPath(je,gn,yn[4],{len:je._depth}),transFn:Br})})}else je.title.hasOwnProperty("standoff")&&fn.push(function(){je._depth=yn[4]*(Mr()[je.side]-gn)});var Lr=L.getComponentMethod("rangeslider","isVisible")(je);return!kt.skipTitle&&!(Lr&&je.side==="bottom")&&fn.push(function(){return zr(Ze,je)}),fn.push(function(){var Or=je.side.charAt(0),pn=ue[je.side].charAt(0),_n=ee.getPxPosition(Ze,je),Yn=An?je.ticklen:0,mn,On,ea,ca;(je.automargin||Lr||je._shiftPusher)&&(je.type==="multicategory"?mn=Mr("tick2"):(mn=Mr(),pr==="x"&&Or==="b"&&(je._depth=Math.max(mn.width>0?mn.bottom-_n:0,Yn))));var sa=0,la=0;if(je._shiftPusher&&(sa=Math.max(Yn,mn.height>0?Or==="l"?_n-mn.left:mn.right-_n:0),je.title.text!==Ot._dfltTitle[pr]&&(la=(je._titleStandoff||0)+(je._titleScoot||0),Or==="l"&&(la+=or(je))),je._fullDepth=Math.max(sa,la)),je.automargin){On={x:0,y:0,r:0,l:0,t:0,b:0};var ya=[0,1],Qi=typeof je._shift=="number"?je._shift:0;if(pr==="x"){if(Or==="b"?On[Or]=je._depth:(On[Or]=je._depth=Math.max(mn.width>0?_n-mn.top:0,Yn),ya.reverse()),mn.width>0){var vo=mn.right-(je._offset+je._length);vo>0&&(On.xr=1,On.r=vo);var xo=je._offset-mn.left;xo>0&&(On.xl=0,On.l=xo)}}else if(Or==="l"?(je._depth=Math.max(mn.height>0?_n-mn.left:0,Yn),On[Or]=je._depth-Qi):(je._depth=Math.max(mn.height>0?mn.right-_n:0,Yn),On[Or]=je._depth+Qi,ya.reverse()),mn.height>0){var Eo=mn.bottom-(je._offset+je._length);Eo>0&&(On.yb=0,On.b=Eo);var bo=je._offset-mn.top;bo>0&&(On.yt=1,On.t=bo)}On[gr]=je.anchor==="free"?je.position:je._anchorAxis.domain[ya[0]],je.title.text!==Ot._dfltTitle[pr]&&(On[Or]+=or(je)+(je.title.standoff||0)),je.mirror&&je.anchor!=="free"&&(ea={x:0,y:0,r:0,l:0,t:0,b:0},ea[pn]=je.linewidth,je.mirror&&je.mirror!==!0&&(ea[pn]+=Yn),je.mirror===!0||je.mirror==="ticks"?ea[gr]=je._anchorAxis.domain[ya[1]]:(je.mirror==="all"||je.mirror==="allticks")&&(ea[gr]=[je._counterDomainMin,je._counterDomainMax][ya[1]]))}Lr&&(ca=L.getComponentMethod("rangeslider","autoMarginOpts")(Ze,je)),typeof je.automargin=="string"&&(Ve(On,je.automargin),Ve(ea,je.automargin)),a.autoMargin(Ze,vr(je),On),a.autoMargin(Ze,ct(je),ea),a.autoMargin(Ze,ut(je),ca)}),x.syncOrAsync(fn)}};function Ve(Ze,je){if(Ze){var kt=Object.keys(O).reduce(function(_t,Zt){return je.indexOf(Zt)!==-1&&O[Zt].forEach(function(ar){_t[ar]=1}),_t},{});Object.keys(Ze).forEach(function(_t){kt[_t]||(_t.length===1?Ze[_t]=0:delete Ze[_t])})}}function it(Ze,je){var kt=[],_t,Zt=function(ar,ur){var nr=ar.xbnd[ur];nr!==null&&kt.push(x.extendFlat({},ar,{x:nr}))};if(je.length){for(_t=0;_t<je.length;_t++)Zt(je[_t],0);Zt(je[_t-1],1)}return kt}function ot(Ze,je){for(var kt=[],_t={},Zt=0;Zt<je.length;Zt++){var ar=je[Zt];_t[ar.text2]?_t[ar.text2].push(ar.x):_t[ar.text2]=[ar.x]}for(var ur in _t)kt.push(Mt(Ze,x.interp(_t[ur],.5),ur));return kt}function Tt(Ze,je){var kt=[],_t,Zt,ar=je.length&&je[je.length-1].x<je[0].x,ur=function(Ot,cr){var pr=Ot.xbnd[cr];pr!==null&&kt.push(x.extendFlat({},Ot,{x:pr}))};if(Ze.showdividers&&je.length){for(_t=0;_t<je.length;_t++){var nr=je[_t];nr.text2!==Zt&&ur(nr,ar?1:0),Zt=nr.text2}ur(je[_t-1],ar?0:1)}return kt}function It(Ze,je){var kt,_t,Zt,ar;return Ze._selections[je].size()?(kt=1/0,_t=-1/0,Zt=1/0,ar=-1/0,Ze._selections[je].each(function(){var ur=wr(this),nr=u.bBox(ur.node().parentNode);kt=Math.min(kt,nr.top),_t=Math.max(_t,nr.bottom),Zt=Math.min(Zt,nr.left),ar=Math.max(ar,nr.right)})):(kt=0,_t=0,Zt=0,ar=0),{top:kt,bottom:_t,left:Zt,right:ar,height:_t-kt,width:ar-Zt}}ee.getTickSigns=function(Ze,je){var kt=Ze._id.charAt(0),_t={x:"top",y:"right"}[kt],Zt=Ze.side===_t?1:-1,ar=[-1,1,Zt,-Zt],ur=je?(Ze.minor||{}).ticks:Ze.ticks;return ur!=="inside"==(kt==="x")&&(ar=ar.map(function(nr){return-nr})),Ze.side&&ar.push({l:-1,t:-1,r:1,b:1}[Ze.side.charAt(0)]),ar},ee.makeTransTickFn=function(Ze){return Ze._id.charAt(0)==="x"?function(je){return h(Ze._offset+Ze.l2p(je.x),0)}:function(je){return h(0,Ze._offset+Ze.l2p(je.x))}},ee.makeTransTickLabelFn=function(Ze){var je=Gt(Ze),kt=je[0],_t=je[1];return Ze._id.charAt(0)==="x"?function(Zt){return h(kt+Ze._offset+Ze.l2p(Ht(Zt)),_t)}:function(Zt){return h(_t,kt+Ze._offset+Ze.l2p(Ht(Zt)))}};function Ht(Ze){return Ze.periodX!==void 0?Ze.periodX:Ze.x}function Gt(Ze){var je=Ze.ticklabelposition||"",kt=function(Gr){return je.indexOf(Gr)!==-1},_t=kt("top"),Zt=kt("left"),ar=kt("right"),ur=kt("bottom"),nr=kt("inside"),Ot=ur||Zt||_t||ar;if(!Ot&&!nr)return[0,0];var cr=Ze.side,pr=Ot?(Ze.tickwidth||0)/2:0,gr=ve,dr=Ze.tickfont?Ze.tickfont.size:12;return(ur||_t)&&(pr+=dr*re,gr+=(Ze.linewidth||0)/2),(Zt||ar)&&(pr+=(Ze.linewidth||0)/2,gr+=ve),nr&&cr==="top"&&(gr-=dr*(1-re)),(Zt||_t)&&(pr=-pr),(cr==="bottom"||cr==="right")&&(gr=-gr),[Ot?pr:0,nr?gr:0]}ee.makeTickPath=function(Ze,je,kt,_t){_t||(_t={});var Zt=_t.minor;if(Zt&&!Ze.minor)return"";var ar=_t.len!==void 0?_t.len:Zt?Ze.minor.ticklen:Ze.ticklen,ur=Ze._id.charAt(0),nr=(Ze.linewidth||1)/2;return ur==="x"?"M0,"+(je+nr*kt)+"v"+ar*kt:"M"+(je+nr*kt)+",0h"+ar*kt},ee.makeLabelFns=function(Ze,je,kt){var _t=Ze.ticklabelposition||"",Zt=function(Rn){return _t.indexOf(Rn)!==-1},ar=Zt("top"),ur=Zt("left"),nr=Zt("right"),Ot=Zt("bottom"),cr=Ot||ur||ar||nr,pr=Zt("inside"),gr=_t==="inside"&&Ze.ticks==="inside"||!pr&&Ze.ticks==="outside"&&Ze.tickson!=="boundaries",dr=0,Gr=0,kr=gr?Ze.ticklen:0;if(pr?kr*=-1:cr&&(kr=0),gr&&(dr+=kr,kt)){var Fr=x.deg2rad(kt);dr=kr*Math.cos(Fr)+1,Gr=kr*Math.sin(Fr)}Ze.showticklabels&&(gr||Ze.showline)&&(dr+=.2*Ze.tickfont.size),dr+=(Ze.linewidth||1)/2*(pr?-1:1);var gn={labelStandoff:dr,labelShift:Gr},Kr,kn,In,br,Mr=0,Br=Ze.side,Nr=Ze._id.charAt(0),en=Ze.tickangle,dn;if(Nr==="x")dn=!pr&&Br==="bottom"||pr&&Br==="top",br=dn?1:-1,pr&&(br*=-1),Kr=Gr*br,kn=je+dr*br,In=dn?1:-.2,Math.abs(en)===90&&(pr?In+=K:en===-90&&Br==="bottom"?In=re:en===90&&Br==="top"?In=K:In=.5,Mr=K/2*(en/90)),gn.xFn=function(Rn){return Rn.dx+Kr+Mr*Rn.fontSize},gn.yFn=function(Rn){return Rn.dy+kn+Rn.fontSize*In},gn.anchorFn=function(Rn,Jn){if(cr){if(ur)return"end";if(nr)return"start"}return!C(Jn)||Jn===0||Jn===180?"middle":Jn*br<0!==pr?"end":"start"},gn.heightFn=function(Rn,Jn,ta){return Jn<-60||Jn>60?-.5*ta:Ze.side==="top"!==pr?-ta:0};else if(Nr==="y"){if(dn=!pr&&Br==="left"||pr&&Br==="right",br=dn?1:-1,pr&&(br*=-1),Kr=dr,kn=Gr*br,In=0,!pr&&Math.abs(en)===90&&(en===-90&&Br==="left"||en===90&&Br==="right"?In=re:In=.5),pr){var cn=C(en)?+en:0;if(cn!==0){var An=x.deg2rad(cn);Mr=Math.abs(Math.sin(An))*re*br,In=0}}gn.xFn=function(Rn){return Rn.dx+je-(Kr+Rn.fontSize*In)*br+Mr*Rn.fontSize},gn.yFn=function(Rn){return Rn.dy+kn+Rn.fontSize*K},gn.anchorFn=function(Rn,Jn){return C(Jn)&&Math.abs(Jn)===90?"middle":dn?"end":"start"},gn.heightFn=function(Rn,Jn,ta){return Ze.side==="right"&&(Jn*=-1),Jn<-30?-ta:Jn<30?-.5*ta:0}}return gn};function Pt(Ze){return[Ze.text,Ze.x,Ze.axInfo,Ze.font,Ze.fontSize,Ze.fontColor].join("_")}ee.drawTicks=function(Ze,je,kt){kt=kt||{};var _t=je._id+"tick",Zt=[].concat(je.minor&&je.minor.ticks?kt.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(je.ticks?kt.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),ar=kt.layer.selectAll("path."+_t).data(Zt,Pt);ar.exit().remove(),ar.enter().append("path").classed(_t,1).classed("ticks",1).classed("crisp",kt.crisp!==!1).each(function(ur){return r.stroke(y.select(this),ur.minor?je.minor.tickcolor:je.tickcolor)}).style("stroke-width",function(ur){return u.crispRound(Ze,ur.minor?je.minor.tickwidth:je.tickwidth,1)+"px"}).attr("d",kt.path).style("display",null),$t(je,[B]),ar.attr("transform",kt.transFn)},ee.drawGrid=function(Ze,je,kt){if(kt=kt||{},je.tickmode!=="sync"){var _t=je._id+"grid",Zt=je.minor&&je.minor.showgrid,ar=Zt?kt.vals.filter(function(Kr){return Kr.minor}):[],ur=je.showgrid?kt.vals.filter(function(Kr){return!Kr.minor}):[],nr=kt.counterAxis;if(nr&&ee.shouldShowZeroLine(Ze,je,nr))for(var Ot=je.tickmode==="array",cr=0;cr<ur.length;cr++){var pr=ur[cr].x;if(Ot?!pr:Math.abs(pr)<je.dtick/100)if(ur=ur.slice(0,cr).concat(ur.slice(cr+1)),Ot)cr--;else break}je._gw=u.crispRound(Ze,je.gridwidth,1);for(var gr=Zt?u.crispRound(Ze,je.minor.gridwidth,1):0,dr=kt.layer,Gr=kt.minorLayer,kr=1;kr>=0;kr--){var Fr=kr?dr:Gr;if(Fr){var gn=Fr.selectAll("path."+_t).data(kr?ur:ar,Pt);gn.exit().remove(),gn.enter().append("path").classed(_t,1).classed("crisp",kt.crisp!==!1),gn.attr("transform",kt.transFn).attr("d",kt.path).each(function(Kr){return r.stroke(y.select(this),Kr.minor?je.minor.gridcolor:je.gridcolor||"#ddd")}).style("stroke-dasharray",function(Kr){return u.dashStyle(Kr.minor?je.minor.griddash:je.griddash,Kr.minor?je.minor.gridwidth:je.gridwidth)}).style("stroke-width",function(Kr){return(Kr.minor?gr:je._gw)+"px"}).style("display",null),typeof kt.path=="function"&&gn.attr("d",kt.path)}}$t(je,[H,_])}},ee.drawZeroLine=function(Ze,je,kt){kt=kt||kt;var _t=je._id+"zl",Zt=ee.shouldShowZeroLine(Ze,je,kt.counterAxis),ar=kt.layer.selectAll("path."+_t).data(Zt?[{x:0,id:je._id}]:[]);ar.exit().remove(),ar.enter().append("path").classed(_t,1).classed("zl",1).classed("crisp",kt.crisp!==!1).each(function(){kt.layer.selectAll("path").sort(function(ur,nr){return X(ur.id,nr.id)})}),ar.attr("transform",kt.transFn).attr("d",kt.path).call(r.stroke,je.zerolinecolor||r.defaultLine).style("stroke-width",u.crispRound(Ze,je.zerolinewidth,je._gw||1)+"px").style("display",null),$t(je,[F])},ee.drawLabels=function(Ze,je,kt){kt=kt||{};var _t=Ze._fullLayout,Zt=je._id,ar=Zt.charAt(0),ur=kt.cls||Zt+"tick",nr=kt.vals.filter(function(br){return br.text}),Ot=kt.labelFns,cr=kt.secondary?0:je.tickangle,pr=(je._prevTickAngles||{})[ur],gr=kt.layer.selectAll("g."+ur).data(je.showticklabels?nr:[],Pt),dr=[];gr.enter().append("g").classed(ur,1).append("text").attr("text-anchor","middle").each(function(br){var Mr=y.select(this),Br=Ze._promises.length;Mr.call(d.positionText,Ot.xFn(br),Ot.yFn(br)).call(u.font,br.font,br.fontSize,br.fontColor).text(br.text).call(d.convertToTspans,Ze),Ze._promises[Br]?dr.push(Ze._promises.pop().then(function(){Gr(Mr,cr)})):Gr(Mr,cr)}),$t(je,[N]),gr.exit().remove(),kt.repositionOnUpdate&&gr.each(function(br){y.select(this).select("text").call(d.positionText,Ot.xFn(br),Ot.yFn(br))});function Gr(br,Mr){br.each(function(Br){var Nr=y.select(this),en=Nr.select(".text-math-group"),dn=Ot.anchorFn(Br,Mr),cn=kt.transFn.call(Nr.node(),Br)+(C(Mr)&&+Mr!=0?" rotate("+Mr+","+Ot.xFn(Br)+","+(Ot.yFn(Br)-Br.fontSize/2)+")":""),An=d.lineCount(Nr),Rn=ae*Br.fontSize,Jn=Ot.heightFn(Br,C(Mr)?+Mr:0,(An-1)*Rn);if(Jn&&(cn+=h(0,Jn)),en.empty()){var ta=Nr.select("text");ta.attr({transform:cn,"text-anchor":dn}),ta.style("opacity",1),je._adjustTickLabelsOverflow&&je._adjustTickLabelsOverflow()}else{var fa=u.bBox(en.node()).width,na=fa*{end:-.5,start:.5}[dn];en.attr("transform",cn+h(na,0))}})}je._adjustTickLabelsOverflow=function(){var br=je.ticklabeloverflow;if(!(!br||br==="allow")){var Mr=br.indexOf("hide")!==-1,Br=je._id.charAt(0)==="x",Nr=0,en=Br?Ze._fullLayout.width:Ze._fullLayout.height;if(br.indexOf("domain")!==-1){var dn=x.simpleMap(je.range,je.r2l);Nr=je.l2p(dn[0])+je._offset,en=je.l2p(dn[1])+je._offset}var cn=Math.min(Nr,en),An=Math.max(Nr,en),Rn=je.side,Jn=1/0,ta=-1/0;gr.each(function(Sr){var sn=y.select(this),an=sn.select(".text-math-group");if(an.empty()){var yn=u.bBox(sn.node()),Hn=0;Br?(yn.right>An||yn.left<cn)&&(Hn=1):(yn.bottom>An||yn.top+(je.tickangle?0:Sr.fontSize/4)<cn)&&(Hn=1);var Cn=sn.select("text");Hn?Mr&&Cn.style("opacity",0):(Cn.style("opacity",1),Rn==="bottom"||Rn==="right"?Jn=Math.min(Jn,Br?yn.top:yn.left):Jn=-1/0,Rn==="top"||Rn==="left"?ta=Math.max(ta,Br?yn.bottom:yn.right):ta=1/0)}});for(var fa in _t._plots){var na=_t._plots[fa];if(!(je._id!==na.xaxis._id&&je._id!==na.yaxis._id)){var ra=Br?na.yaxis:na.xaxis;ra&&(ra["_visibleLabelMin_"+je._id]=Jn,ra["_visibleLabelMax_"+je._id]=ta)}}}},je._hideCounterAxisInsideTickLabels=function(br){var Mr=je._id.charAt(0)==="x",Br=[];for(var Nr in _t._plots){var en=_t._plots[Nr];je._id!==en.xaxis._id&&je._id!==en.yaxis._id||Br.push(Mr?en.yaxis:en.xaxis)}Br.forEach(function(dn,cn){dn&&qt(dn)&&(br||[F,_,H,B,N]).forEach(function(An){var Rn=An.K==="tick"&&An.L==="text"&&je.ticklabelmode==="period",Jn=_t._plots[je._mainSubplot],ta;An.K===F.K?ta=Jn.zerolinelayer.selectAll("."+je._id+"zl"):An.K===_.K?ta=Jn.minorGridlayer.selectAll("."+je._id):An.K===H.K?ta=Jn.gridlayer.selectAll("."+je._id):ta=Jn[je._id.charAt(0)+"axislayer"],ta.each(function(){var fa=y.select(this);An.L&&(fa=fa.selectAll(An.L)),fa.each(function(na){var ra=je.l2p(Rn?Ht(na):na.x)+je._offset,Sr=y.select(this);ra<je["_visibleLabelMax_"+dn._id]&&ra>je["_visibleLabelMin_"+dn._id]?Sr.style("display","none"):An.K==="tick"&&!cn&&Sr.style("display",null)})})})})},Gr(gr,pr+1?pr:cr);function kr(){return dr.length&&Promise.all(dr)}var Fr=null;function gn(){if(Gr(gr,cr),nr.length&&ar==="x"&&!C(cr)&&(je.type!=="log"||String(je.dtick).charAt(0)!=="D")){Fr=0;var br=0,Mr=[],Br;if(gr.each(function(yn){br=Math.max(br,yn.fontSize);var Hn=je.l2p(yn.x),Cn=wr(this),Ln=u.bBox(Cn.node());Mr.push({top:0,bottom:10,height:10,left:Hn-Ln.width/2,right:Hn+Ln.width/2+2,width:Ln.width+2})}),(je.tickson==="boundaries"||je.showdividers)&&!kt.secondary){var Nr=2;for(je.ticks&&(Nr+=je.tickwidth/2),Br=0;Br<Mr.length;Br++){var en=nr[Br].xbnd,dn=Mr[Br];if(en[0]!==null&&dn.left-je.l2p(en[0])<Nr||en[1]!==null&&je.l2p(en[1])-dn.right<Nr){Fr=90;break}}}else{var cn=nr.length,An=Math.abs((nr[cn-1].x-nr[0].x)*je._m)/(cn-1),Rn=je.ticklabelposition||"",Jn=function(yn){return Rn.indexOf(yn)!==-1},ta=Jn("top"),fa=Jn("left"),na=Jn("right"),ra=Jn("bottom"),Sr=ra||fa||ta||na,sn=Sr?(je.tickwidth||0)+2*ve:0,an=An<br*2.5||je.type==="multicategory"||je._name==="realaxis";for(Br=0;Br<Mr.length-1;Br++)if(x.bBoxIntersect(Mr[Br],Mr[Br+1],sn)){Fr=an?90:30;break}}Fr&&Gr(gr,Fr)}}je._selections&&(je._selections[ur]=gr);var Kr=[kr];je.automargin&&_t._redrawFromAutoMarginCount&&pr===90?(Fr=90,Kr.push(function(){Gr(gr,pr)})):Kr.push(gn),je._tickAngles&&Kr.push(function(){je._tickAngles[ur]=Fr===null?C(cr)?cr:0:Fr});var kn=je._anchorAxis;kn&&kn.autorange&&qt(je)&&!q(_t,je._id)&&(_t._insideTickLabelsAutorange||(_t._insideTickLabelsAutorange={}),_t._insideTickLabelsAutorange[kn._name+".autorange"]=kn.autorange,Kr.push(function(){gr.each(function(Mr,Br){var Nr=wr(this),en=Nr.select(".text-math-group");en.empty()&&(je._vals[Br].bb=u.bBox(Nr.node()))})}));var In=x.syncOrAsync(Kr);return In&&In.then&&Ze._promises.push(In),In};function Jt(Ze,je,kt){var _t=je._id+"divider",Zt=kt.vals,ar=kt.layer.selectAll("path."+_t).data(Zt,Pt);ar.exit().remove(),ar.enter().insert("path",":first-child").classed(_t,1).classed("crisp",1).call(r.stroke,je.dividercolor).style("stroke-width",u.crispRound(Ze,je.dividerwidth,1)+"px"),ar.attr("transform",kt.transFn).attr("d",kt.path)}ee.getPxPosition=function(Ze,je){var kt=Ze._fullLayout._size,_t=je._id.charAt(0),Zt=je.side,ar;if(je.anchor!=="free"?ar=je._anchorAxis:_t==="x"?ar={_offset:kt.t+(1-(je.position||0))*kt.h,_length:0}:_t==="y"&&(ar={_offset:kt.l+(je.position||0)*kt.w+je._shift,_length:0}),Zt==="top"||Zt==="left")return ar._offset;if(Zt==="bottom"||Zt==="right")return ar._offset+ar._length};function or(Ze){var je=Ze.title.font.size,kt=(Ze.title.text.match(d.BR_TAG_ALL)||[]).length;return Ze.title.hasOwnProperty("standoff")?kt?je*(re+kt*ae):je*re:kt?je*(kt+1)*ae:je}function zr(Ze,je){var kt=Ze._fullLayout,_t=je._id,Zt=_t.charAt(0),ar=je.title.font.size,ur;if(je.title.hasOwnProperty("standoff"))ur=je._depth+je.title.standoff+or(je);else{var nr=qt(je);if(je.type==="multicategory")ur=je._depth;else{var Ot=1.5*ar;nr&&(Ot=.5*ar,je.ticks==="outside"&&(Ot+=je.ticklen)),ur=10+Ot+(je.linewidth?je.linewidth-1:0)}nr||(Zt==="x"?ur+=je.side==="top"?ar*(je.showticklabels?1:0):ar*(je.showticklabels?1.5:.5):ur+=je.side==="right"?ar*(je.showticklabels?1:.5):ar*(je.showticklabels?.5:0))}var cr=ee.getPxPosition(Ze,je),pr,gr,dr;Zt==="x"?(gr=je._offset+je._length/2,dr=je.side==="top"?cr-ur:cr+ur):(dr=je._offset+je._length/2,gr=je.side==="right"?cr+ur:cr-ur,pr={rotate:"-90",offset:0});var Gr;if(je.type!=="multicategory"){var kr=je._selections[je._id+"tick"];if(Gr={selection:kr,side:je.side},kr&&kr.node()&&kr.node().parentNode){var Fr=u.getTranslate(kr.node().parentNode);Gr.offsetLeft=Fr.x,Gr.offsetTop=Fr.y}je.title.hasOwnProperty("standoff")&&(Gr.pad=0)}return je._titleStandoff=ur,t.draw(Ze,_t+"title",{propContainer:je,propName:je._name+".title.text",placeholder:kt._dfltTitle[Zt],avoid:Gr,transform:pr,attributes:{x:gr,y:dr,"text-anchor":"middle"}})}ee.shouldShowZeroLine=function(Ze,je,kt){var _t=x.simpleMap(je.range,je.r2l);return _t[0]*_t[1]<=0&&je.zeroline&&(je.type==="linear"||je.type==="-")&&!(je.rangebreaks&&je.maskBreaks(0)===z)&&(mt(je,0)||!Kt(Ze,je,kt,_t)||jt(Ze,je))},ee.clipEnds=function(Ze,je){return je.filter(function(kt){return mt(Ze,kt.x)})};function mt(Ze,je){var kt=Ze.l2p(je);return kt>1&&kt<Ze._length-1}function Kt(Ze,je,kt,_t){var Zt=kt._mainAxis;if(!Zt)return;var ar=Ze._fullLayout,ur=je._id.charAt(0),nr=ee.counterLetter(je._id),Ot=je._offset+(Math.abs(_t[0])<Math.abs(_t[1])==(ur==="x")?0:je._length);function cr(kr){if(!kr.showline||!kr.linewidth)return!1;var Fr=Math.max((kr.linewidth+je.zerolinewidth)/2,1);function gn(In){return typeof In=="number"&&Math.abs(In-Ot)<Fr}if(gn(kr._mainLinePosition)||gn(kr._mainMirrorPosition))return!0;var Kr=kr._linepositions||{};for(var kn in Kr)if(gn(Kr[kn][0])||gn(Kr[kn][1]))return!0}var pr=ar._plots[kt._mainSubplot];if(!(pr.mainplotinfo||pr).overlays.length)return cr(kt);for(var gr=ee.list(Ze,nr),dr=0;dr<gr.length;dr++){var Gr=gr[dr];if(Gr._mainAxis===Zt&&cr(Gr))return!0}}function jt(Ze,je){for(var kt=Ze._fullData,_t=je._mainSubplot,Zt=je._id.charAt(0),ar=0;ar<kt.length;ar++){var ur=kt[ar];if(ur.visible===!0&&ur.xaxis+ur.yaxis===_t&&(L.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Zt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Zt))return!0}return!1}function wr(Ze){var je=y.select(Ze),kt=je.select(".text-math-group");return kt.empty()?je.select("text"):kt}ee.allowAutoMargin=function(Ze){for(var je=ee.list(Ze,"",!0),kt=0;kt<je.length;kt++){var _t=je[kt];_t.automargin&&(a.allowAutoMargin(Ze,vr(_t)),_t.mirror&&a.allowAutoMargin(Ze,ct(_t))),L.getComponentMethod("rangeslider","isVisible")(_t)&&a.allowAutoMargin(Ze,ut(_t))}};function vr(Ze){return Ze._id+".automargin"}function ct(Ze){return vr(Ze)+".mirror"}function ut(Ze){return Ze._id+".rangeslider"}ee.swap=function(Ze,je){for(var kt=bt(Ze,je),_t=0;_t<kt.length;_t++)Ct(Ze,kt[_t].x,kt[_t].y)};function bt(Ze,je){var kt=[],_t,Zt;for(_t=0;_t<je.length;_t++){var ar=[],ur=Ze._fullData[je[_t]].xaxis,nr=Ze._fullData[je[_t]].yaxis;if(!(!ur||!nr)){for(Zt=0;Zt<kt.length;Zt++)(kt[Zt].x.indexOf(ur)!==-1||kt[Zt].y.indexOf(nr)!==-1)&&ar.push(Zt);if(!ar.length){kt.push({x:[ur],y:[nr]});continue}var Ot=kt[ar[0]],cr;if(ar.length>1)for(Zt=1;Zt<ar.length;Zt++)cr=kt[ar[Zt]],At(Ot.x,cr.x),At(Ot.y,cr.y);At(Ot.x,[ur]),At(Ot.y,[nr])}}return kt}function At(Ze,je){for(var kt=0;kt<je.length;kt++)Ze.indexOf(je[kt])===-1&&Ze.push(je[kt])}function Ct(Ze,je,kt){var _t=[],Zt=[],ar=Ze.layout,ur,nr;for(ur=0;ur<je.length;ur++)_t.push(ee.getFromId(Ze,je[ur]));for(ur=0;ur<kt.length;ur++)Zt.push(ee.getFromId(Ze,kt[ur]));var Ot=Object.keys(n),cr=["anchor","domain","overlaying","position","side","tickangle","editType"],pr=["linear","log"];for(ur=0;ur<Ot.length;ur++){var gr=Ot[ur],dr=_t[0][gr],Gr=Zt[0][gr],kr=!0,Fr=!1,gn=!1;if(!(gr.charAt(0)==="_"||typeof dr=="function"||cr.indexOf(gr)!==-1)){for(nr=1;nr<_t.length&&kr;nr++){var Kr=_t[nr][gr];gr==="type"&&pr.indexOf(dr)!==-1&&pr.indexOf(Kr)!==-1&&dr!==Kr?Fr=!0:Kr!==dr&&(kr=!1)}for(nr=1;nr<Zt.length&&kr;nr++){var kn=Zt[nr][gr];gr==="type"&&pr.indexOf(Gr)!==-1&&pr.indexOf(kn)!==-1&&Gr!==kn?gn=!0:Zt[nr][gr]!==Gr&&(kr=!1)}kr&&(Fr&&(ar[_t[0]._name].type="linear"),gn&&(ar[Zt[0]._name].type="linear"),St(ar,gr,_t,Zt,Ze._fullLayout._dfltTitle))}}for(ur=0;ur<Ze._fullLayout.annotations.length;ur++){var In=Ze._fullLayout.annotations[ur];je.indexOf(In.xref)!==-1&&kt.indexOf(In.yref)!==-1&&x.swapAttrs(ar.annotations[ur],["?"])}}function St(Ze,je,kt,_t,Zt){var ar=x.nestedProperty,ur=ar(Ze[kt[0]._name],je).get(),nr=ar(Ze[_t[0]._name],je).get(),Ot;for(je==="title"&&(ur&&ur.text===Zt.x&&(ur.text=Zt.y),nr&&nr.text===Zt.y&&(nr.text=Zt.x)),Ot=0;Ot<kt.length;Ot++)ar(Ze,kt[Ot]._name+"."+je).set(nr);for(Ot=0;Ot<_t.length;Ot++)ar(Ze,_t[Ot]._name+"."+je).set(ur)}function zt(Ze){return Ze._id==="angularaxis"}function Vt(Ze,je){for(var kt=je._rangebreaks.length,_t=0;_t<kt;_t++){var Zt=je._rangebreaks[_t];if(Ze>=Zt.min&&Ze<Zt.max)return Zt.max}return Ze}function qt(Ze){return(Ze.ticklabelposition||"").indexOf("inside")!==-1}function $t(Ze,je){qt(Ze._anchorAxis||{})&&Ze._hideCounterAxisInsideTickLabels&&Ze._hideCounterAxisInsideTickLabels(je)}function sr(Ze,je,kt,_t){var Zt=Ze.anchor!=="free"&&(Ze.overlaying===void 0||Ze.overlaying===!1)?Ze._id:Ze.overlaying,ar;_t?ar=Ze.side==="right"?je:-je:ar=je,Zt in kt||(kt[Zt]={}),Ze.side in kt[Zt]||(kt[Zt][Ze.side]=0),kt[Zt][Ze.side]+=ar}function Cr(Ze,je){return Ze.autoshift?je[Ze.overlaying][Ze.side]:Ze.shift||0}},4322:function(W,V,e){var y=e(92770),C=e(71828),a=e(50606).BADNUM,L=C.isArrayOrTypedArray,x=C.isDateTime,h=C.cleanNumber,d=Math.round;W.exports=function(m,c,b){var v=m,l=b.noMultiCategory;if(L(v)&&!v.length)return"-";if(!l&&s(v))return"multicategory";if(l&&Array.isArray(v[0])){for(var p=[],S=0;S<v.length;S++)if(L(v[S]))for(var M=0;M<v[S].length;M++)p.push(v[S][M]);v=p}if(u(v,c))return"date";var R=b.autotypenumbers!=="strict";return i(v,R)?"category":r(v,R)?"linear":"-"};function t(o,m){return m?y(o):typeof o=="number"}function r(o,m){for(var c=o.length,b=0;b<c;b++)if(t(o[b],m))return!0;return!1}function u(o,m){for(var c=o.length,b=n(c),v=0,l=0,p={},S=0;S<c;S+=b){var M=d(S),R=o[M],T=String(R);p[T]||(p[T]=1,x(R,m)&&v++,y(R)&&l++)}return v>l*2}function n(o){return Math.max(1,(o-1)/1e3)}function i(o,m){for(var c=o.length,b=n(c),v=0,l=0,p={},S=0;S<c;S+=b){var M=d(S),R=o[M],T=String(R);if(!p[T]){p[T]=1;var E=typeof R;E==="boolean"?l++:(m?h(R)!==a:E==="number")?v++:E==="string"&&l++}}return l>v*2}function s(o){return L(o[0])&&L(o[1])}},71453:function(W,V,e){var y=e(92770),C=e(73972),a=e(71828),L=e(44467),x=e(85501),h=e(13838),d=e(26218),t=e(38701),r=e(96115),u=e(89426),n=e(15258),i=e(92128),s=e(23074),o=e(21994),m=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;W.exports=function(S,M,R,T,E){var A=T.letter,f=T.font||{},P=T.splomStash||{},w=R("visible",!T.visibleDflt),z=M._template||{},F=M.type||z.type||"-",H;if(F==="date"){var _=C.getComponentMethod("calendars","handleDefaults");_(S,M,"calendar",T.calendar),T.noTicklabelmode||(H=R("ticklabelmode"))}var B="";(!T.noTicklabelposition||F==="multicategory")&&(B=a.coerce(S,M,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:H==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),T.noTicklabeloverflow||R("ticklabeloverflow",B.indexOf("inside")!==-1?"hide past domain":F==="category"||F==="multicategory"?"allow":"hide past div"),o(M,E),R("minallowed"),R("maxallowed");var N=R("range"),O=M.getAutorangeDflt(N,T),U=R("autorange",O),K;N&&(N[0]===null&&N[1]===null||(N[0]===null||N[1]===null)&&(U==="reversed"||U===!0)||N[0]!==null&&(U==="min"||U==="max reversed")||N[1]!==null&&(U==="max"||U==="min reversed"))&&(N=void 0,delete M.range,M.autorange=!0,K=!0),K||(O=M.getAutorangeDflt(N,T),U=R("autorange",O)),U&&(s(R,U,N),(F==="linear"||F==="-")&&R("rangemode")),M.cleanRange(),n(S,M,R,T),F!=="category"&&!T.noHover&&R("hoverformat");var re=R("color"),ae=re!==h.color.dflt?re:f.color,ue=P.label||E._dfltTitle[A];if(u(S,M,R,F,T),!w)return M;R("title.text",ue),a.coerceFont(R,"title.font",{family:f.family,size:a.bigFont(f.size),color:ae}),d(S,M,R,F);var ve=T.hasMinor;if(ve&&(L.newContainer(M,"minor"),d(S,M,R,F,{isMinor:!0})),r(S,M,R,F,T),t(S,M,R,T),ve){var ee=T.isMinor;T.isMinor=!0,t(S,M,R,T),T.isMinor=ee}i(S,M,R,{dfltColor:re,bgColor:T.bgColor,showGrid:T.showGrid,hasMinor:ve,attributes:h}),ve&&!M.minor.ticks&&!M.minor.showgrid&&delete M.minor,(M.showline||M.ticks)&&R("mirror");var J=F==="multicategory";if(!T.noTickson&&(F==="category"||J)&&(M.ticks||M.showgrid)){var Q;J&&(Q="boundaries");var X=R("tickson",Q);X==="boundaries"&&delete M.ticklabelposition}if(J){var q=R("showdividers");q&&(R("dividercolor"),R("dividerwidth"))}if(F==="date")if(x(S,M,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),!M.rangebreaks.length)delete M.rangebreaks;else{for(var se=0;se<M.rangebreaks.length;se++)if(M.rangebreaks[se].pattern===m){M._hasDayOfWeekBreaks=!0;break}if(o(M,E),E._has("scattergl")||E._has("splom"))for(var Y=0;Y<T.data.length;Y++){var Z=T.data[Y];(Z.type==="scattergl"||Z.type==="splom")&&(Z.visible=!1,a.warn(Z.type+" traces do not work on axes with rangebreaks. Setting trace "+Z.index+" to `visible: false`."))}}return M};function b(p,S,M){function R(H,_){return a.coerce(p,S,h.rangebreaks,H,_)}var T=R("enabled");if(T){var E=R("bounds");if(E&&E.length>=2){var A="",f,P;if(E.length===2){for(f=0;f<2;f++)if(P=l(E[f]),P){A=m;break}}var w=R("pattern",A);if(w===m)for(f=0;f<2;f++)P=l(E[f]),P&&(S.bounds[f]=E[f]=P-1);if(w)for(f=0;f<2;f++)switch(P=E[f],w){case m:if(!y(P)){S.enabled=!1;return}if(P=+P,P!==Math.floor(P)||P<0||P>=7){S.enabled=!1;return}S.bounds[f]=E[f]=P;break;case c:if(!y(P)){S.enabled=!1;return}if(P=+P,P<0||P>24){S.enabled=!1;return}S.bounds[f]=E[f]=P;break}if(M.autorange===!1){var z=M.range;if(z[0]<z[1]){if(E[0]<z[0]&&E[1]>z[1]){S.enabled=!1;return}}else if(E[0]>z[0]&&E[1]<z[1]){S.enabled=!1;return}}}else{var F=R("values");if(F&&F.length)R("dvalue");else{S.enabled=!1;return}}}}var v={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function l(p){if(typeof p=="string")return v[p.substr(0,3).toLowerCase()]}},12663:function(W,V,e){var y=e(31562),C=y.FORMAT_LINK,a=y.DATE_FORMAT_LINK;function L(d,t){return{valType:"string",dflt:"",editType:"none",description:(t?x:h)("hover text",d)+["By default the values are formatted using "+(t?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}}function x(d,t){return["Sets the "+d+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+C+"."].join(" ")}function h(d,t){return x(d,t)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}W.exports={axisHoverFormat:L,descriptionOnlyNumbers:x,descriptionWithDates:h}},41675:function(W,V,e){var y=e(73972),C=e(85555);V.id2name=function(x){if(!(typeof x!="string"||!x.match(C.AX_ID_PATTERN))){var h=x.split(" ")[0].substr(1);return h==="1"&&(h=""),x.charAt(0)+"axis"+h}},V.name2id=function(x){if(x.match(C.AX_NAME_PATTERN)){var h=x.substr(5);return h==="1"&&(h=""),x.charAt(0)+h}},V.cleanId=function(x,h,d){var t=/( domain)$/.test(x);if(!(typeof x!="string"||!x.match(C.AX_ID_PATTERN))&&!(h&&x.charAt(0)!==h)&&!(t&&!d)){var r=x.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),x.charAt(0)+r+(t&&d?" domain":"")}},V.list=function(L,x,h){var d=L._fullLayout;if(!d)return[];var t=V.listIds(L,x),r=new Array(t.length),u;for(u=0;u<t.length;u++){var n=t[u];r[u]=d[n.charAt(0)+"axis"+n.substr(1)]}if(!h){var i=d._subplots.gl3d||[];for(u=0;u<i.length;u++){var s=d[i[u]];x?r.push(s[x+"axis"]):r.push(s.xaxis,s.yaxis,s.zaxis)}}return r},V.listIds=function(L,x){var h=L._fullLayout;if(!h)return[];var d=h._subplots;return x?d[x+"axis"]:d.xaxis.concat(d.yaxis)},V.getFromId=function(L,x,h){var d=L._fullLayout;return x=x===void 0||typeof x!="string"?x:x.replace(" domain",""),h==="x"?x=x.replace(/y[0-9]*/,""):h==="y"&&(x=x.replace(/x[0-9]*/,"")),d[V.id2name(x)]},V.getFromTrace=function(L,x,h){var d=L._fullLayout,t=null;if(y.traceIs(x,"gl3d")){var r=x.scene;r.substr(0,5)==="scene"&&(t=d[r][h+"axis"])}else t=V.getFromId(L,x[h+"axis"]||h);return t},V.idSort=function(L,x){var h=L.charAt(0),d=x.charAt(0);return h!==d?h>d?1:-1:+(L.substr(1)||1)-+(x.substr(1)||1)},V.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function a(L,x){if(x&&x.length){for(var h=0;h<x.length;h++)if(x[h][L])return!0}return!1}V.isLinked=function(L,x){return a(x,L._axisMatchGroups)||a(x,L._axisConstraintGroups)}},15258:function(W){function V(e,y){var C=y.dataAttr||e._id.charAt(0),a={},L,x,h;if(y.axData)L=y.axData;else for(L=[],x=0;x<y.data.length;x++){var d=y.data[x];d[C+"axis"]===e._id&&L.push(d)}for(x=0;x<L.length;x++){var t=L[x][C];for(h=0;h<t.length;h++){var r=t[h];r!=null&&(a[r]=1)}}return Object.keys(a)}W.exports=function(y,C,a,L){if(C.type==="category"){var x=y.categoryarray,h=Array.isArray(x)&&x.length>0,d;h&&(d="array");var t=a("categoryorder",d),r;t==="array"&&(r=a("categoryarray")),!h&&t==="array"&&(t=C.categoryorder="trace"),t==="trace"?C._initialCategories=[]:t==="array"?C._initialCategories=r.slice():(r=V(C,L).sort(),t==="category ascending"?C._initialCategories=r:t==="category descending"&&(C._initialCategories=r.reverse()))}}},66287:function(W,V,e){var y=e(92770),C=e(71828),a=e(50606),L=a.ONEDAY,x=a.ONEWEEK;V.dtick=function(h,d){var t=d==="log",r=d==="date",u=d==="category",n=r?L:1;if(!h)return n;if(y(h))return h=Number(h),h<=0?n:u?Math.max(1,Math.round(h)):r?Math.max(.1,h):h;if(typeof h!="string"||!(r||t))return n;var i=h.charAt(0),s=h.substr(1);return s=y(s)?Number(s):0,s<=0||!(r&&i==="M"&&s===Math.round(s)||t&&i==="L"||t&&i==="D"&&(s===1||s===2))?n:h},V.tick0=function(h,d,t,r){if(d==="date")return C.cleanDate(h,C.dateTick0(t,r%x===0?1:0));if(!(r==="D1"||r==="D2"))return y(h)?Number(h):0}},85555:function(W,V,e){var y=e(30587).counter;W.exports={idRegex:{x:y("x","( domain)?"),y:y("y","( domain)?")},attrRegex:y("[xy]axis"),xAxisMatch:y("xaxis"),yAxisMatch:y("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(W,V,e){var y=e(71828),C=e(71739),a=e(41675).id2name,L=e(13838),x=e(42449),h=e(21994),d=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;V.handleDefaults=function(c,b,v){var l=v.axIds,p=v.axHasImage,S=b._axisConstraintGroups=[],M=b._axisMatchGroups=[],R,T,E,A,f,P,w,z;for(R=0;R<l.length;R++)A=a(l[R]),f=c[A],P=b[A],r(f,P,{axIds:l,layoutOut:b,hasImage:p[A]});function F(ae,ue){for(R=0;R<ae.length;R++){T=ae[R];for(E in T)b[a(E)][ue]=T}}for(F(M,"_matchGroup"),R=0;R<S.length;R++){T=S[R];for(E in T)if(P=b[a(E)],P.fixedrange){for(var H in T){var _=a(H);(c[_]||{}).fixedrange===!1&&y.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),b[_].fixedrange=!0}break}}for(R=0;R<S.length;){T=S[R];for(E in T){P=b[a(E)],P._matchGroup&&Object.keys(P._matchGroup).length===Object.keys(T).length&&(S.splice(R,1),R--);break}R++}F(S,"_constraintGroup");var B=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],N=!1,O=!1;function U(){z=P[w],w==="rangebreaks"&&(O=P._hasDayOfWeekBreaks)}for(R=0;R<M.length;R++){T=M[R];for(var K=0;K<B.length;K++){w=B[K],z=null;var re;for(E in T)if(A=a(E),f=c[A],P=b[A],w in P){if(!P.matches&&(re=P,w in f)){U();break}z===null&&w in f&&U()}if(w==="range"&&z&&f.range&&f.range.length===2&&f.range[0]!==null&&f.range[1]!==null&&(N=!0),w==="autorange"&&z===null&&N&&(z=!1),z===null&&w in re&&(z=re[w]),z!==null)for(E in T)P=b[a(E)],P[w]=w==="range"?z.slice():z,w==="rangebreaks"&&(P._hasDayOfWeekBreaks=O,h(P,b))}}};function r(c,b,v){var l=v.axIds,p=v.layoutOut,S=v.hasImage,M=p._axisConstraintGroups,R=p._axisMatchGroups,T=b._id,E=T.charAt(0),A=((p._splomAxes||{})[E]||{})[T]||{},f=b._id,P=f.charAt(0)==="x";b._matchGroup=null,b._constraintGroup=null;function w(J,Q){return y.coerce(c,b,L,J,Q)}w("constrain",S?"domain":"range"),y.coerce(c,b,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var z=b.type,F,H,_=[];for(F=0;F<l.length;F++)if(H=l[F],H!==f){var B=p[a(H)];B.type===z&&_.push(H)}var N=n(M,f);if(N){var O=[];for(F=0;F<_.length;F++)H=_[F],N[H]||O.push(H);_=O}var U=_.length,K,re;U&&(c.matches||A.matches)&&(K=y.coerce(c,b,{matches:{valType:"enumerated",values:_,dflt:_.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var ae=S&&!P?b.anchor:void 0;if(U&&!K&&(c.scaleanchor||ae)&&(re=y.coerce(c,b,{scaleanchor:{valType:"enumerated",values:_.concat([!1])}},"scaleanchor",ae)),K){b._matchGroup=i(R,f,K,1);var ue=p[a(K)],ve=u(p,b)/u(p,ue);P!==(K.charAt(0)==="x")&&(ve=(P?"x":"y")+ve),i(M,f,K,ve)}else c.matches&&l.indexOf(c.matches)!==-1&&y.warn("ignored "+b._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(re){var ee=w("scaleratio");ee||(ee=b.scaleratio=1),i(M,f,re,ee)}else c.scaleanchor&&l.indexOf(c.scaleanchor)!==-1&&y.warn("ignored "+b._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(c,b){var v=b.domain;return v||(v=c[a(b.overlaying)].domain),v[1]-v[0]}function n(c,b){for(var v=0;v<c.length;v++)if(c[v][b])return c[v];return null}function i(c,b,v,l){var p,S,M,R,T,E=n(c,b);E===null?(E={},E[b]=1,T=c.length,c.push(E)):T=c.indexOf(E);var A=Object.keys(E);for(p=0;p<c.length;p++)if(M=c[p],p!==T&&M[v]){var f=M[v];for(S=0;S<A.length;S++)R=A[S],M[R]=s(f,s(l,E[R]));c.splice(T,1);return}if(l!==1)for(S=0;S<A.length;S++){var P=A[S];E[P]=s(l,E[P])}E[v]=1}function s(c,b){var v="",l="",p,S;typeof c=="string"&&(v=c.match(/^[xy]*/)[0],p=v.length,c=+c.substr(p)),typeof b=="string"&&(l=b.match(/^[xy]*/)[0],S=l.length,b=+b.substr(S));var M=c*b;return!p&&!S?M:!p||!S||v.charAt(0)===l.charAt(0)?v+l+c*b:p===S?M:(p>S?v.substr(S):l.substr(p))+M}function o(c,b){for(var v=b._size,l=v.h/v.w,p={},S=Object.keys(c),M=0;M<S.length;M++){var R=S[M],T=c[R];if(typeof T=="string"){var E=T.match(/^[xy]*/)[0],A=E.length;T=+T.substr(A);for(var f=E.charAt(0)==="y"?l:1/l,P=0;P<A;P++)T*=f}p[R]=T}return p}V.enforce=function(b){var v=b._fullLayout,l=v._axisConstraintGroups||[],p,S,M,R,T,E,A,f;for(p=0;p<l.length;p++){M=o(l[p],v);var P=Object.keys(M),w=1/0,z=0,F=1/0,H={},_={},B=!1;for(S=0;S<P.length;S++)R=P[S],_[R]=T=v[a(R)],T._inputDomain?T.domain=T._inputDomain.slice():T._inputDomain=T.domain.slice(),T._inputRange||(T._inputRange=T.range.slice()),T.setScale(),H[R]=E=Math.abs(T._m)/M[R],w=Math.min(w,E),(T.constrain==="domain"||!T._constraintShrinkable)&&(F=Math.min(F,E)),delete T._constraintShrinkable,z=Math.max(z,E),T.constrain==="domain"&&(B=!0);if(!(w>d*z&&!B)){for(S=0;S<P.length;S++)if(R=P[S],E=H[R],T=_[R],A=T.constrain,E!==F||A==="domain")if(f=E/F,A==="range")x(T,f);else{var N=T._inputDomain,O=(T.domain[1]-T.domain[0])/(N[1]-N[0]),U=(T.r2l(T.range[1])-T.r2l(T.range[0]))/(T.r2l(T._inputRange[1])-T.r2l(T._inputRange[0]));if(f/=O,f*U<1){T.domain=T._input.domain=N.slice(),x(T,f);continue}if(U<1&&(T.range=T._input.range=T._inputRange.slice(),f*=U),T.autorange){var K=T.r2l(T.range[0]),re=T.r2l(T.range[1]),ae=(K+re)/2,ue=ae,ve=ae,ee=Math.abs(re-ae),J=ae-ee*f*1.0001,Q=ae+ee*f*1.0001,X=C.makePadFn(v,T,0),q=C.makePadFn(v,T,1);m(T,f);var se=Math.abs(T._m),Y=C.concatExtremes(b,T),Z=Y.min,ie=Y.max,te,fe;for(fe=0;fe<Z.length;fe++)te=Z[fe].val-X(Z[fe])/se,te>J&&te<ue&&(ue=te);for(fe=0;fe<ie.length;fe++)te=ie[fe].val+q(ie[fe])/se,te<Q&&te>ve&&(ve=te);var de=(ve-ue)/(2*ee);f/=de,ue=T.l2r(ue),ve=T.l2r(ve),T.range=T._input.range=K<re?[ue,ve]:[ve,ue]}m(T,f)}}}},V.getAxisGroup=function(b,v){for(var l=b._axisMatchGroups,p=0;p<l.length;p++){var S=l[p];if(S[v])return"g"+p}return v},V.clean=function(b,v){if(v._inputDomain){for(var l=!1,p=v._id,S=b._fullLayout._axisConstraintGroups,M=0;M<S.length;M++)if(S[M][p]){l=!0;break}(!l||v.constrain!=="domain")&&(v._input.domain=v.domain=v._inputDomain,delete v._inputDomain)}};function m(c,b){var v=c._inputDomain,l=t[c.constraintoward],p=v[0]+(v[1]-v[0])*l;c.domain=c._input.domain=[p+(v[0]-p)/b,p+(v[1]-p)/b],c.setScale()}},29323:function(W,V,e){var y=e(39898),C=e(71828),a=C.numberFormat,L=e(84267),x=e(38520),h=e(73972),d=C.strTranslate,t=e(63893),r=e(7901),u=e(91424),n=e(30211),i=e(89298),s=e(6964),o=e(28569),m=e(64505),c=m.selectingOrDrawing,b=m.freeMode,v=e(18783).FROM_TL,l=e(33306),p=e(61549).redrawReglTraces,S=e(74875),M=e(41675).getFromId,R=e(47322).prepSelect,T=e(47322).clearOutline,E=e(47322).selectOnClick,A=e(42449),f=e(85555),P=f.MINDRAG,w=f.MINZOOM,z=!0;function F(te,fe,de,we,Ae,Re,Fe,Se){var Te=te._fullLayout._zoomlayer,Ee=Fe+Se==="nsew",Ne=(Fe+Se).length===1,He,_e,We,tt,Ke,qe,rt,ft,pt,gt,Mt,Lt,Wt,Je,ze,Oe,Ue,ke,Me,ce,be,De,Ve;de+=fe.yaxis._shift;function it(){if(He=fe.xaxis,_e=fe.yaxis,pt=He._length,gt=_e._length,rt=He._offset,ft=_e._offset,We={},We[He._id]=He,tt={},tt[_e._id]=_e,Fe&&Se)for(var nr=fe.overlays,Ot=0;Ot<nr.length;Ot++){var cr=nr[Ot].xaxis;We[cr._id]=cr;var pr=nr[Ot].yaxis;tt[pr._id]=pr}Ke=ie(We),qe=ie(tt),Wt=B(Ke,Se),Je=B(qe,Fe),ze=!Je&&!Wt,Lt=Y(te,te._fullLayout._axisMatchGroups,We,tt),Mt=Y(te,te._fullLayout._axisConstraintGroups,We,tt,Lt);var gr=Mt.isSubplotConstrained||Lt.isSubplotConstrained;Oe=Se||gr,Ue=Fe||gr;var dr=te._fullLayout;ke=dr._has("scattergl"),Me=dr._has("splom"),ce=dr._has("svg")}it();var ot=re(Je+Wt,te._fullLayout.dragmode,Ee),Tt=_(fe,Fe+Se+"drag",ot,de,we,Ae,Re);if(ze&&!Ee)return Tt.onmousedown=null,Tt.style.pointerEvents="none",Tt;var It={element:Tt,gd:te,plotinfo:fe};It.prepFn=function(nr,Ot,cr){var pr=It.dragmode,gr=te._fullLayout.dragmode;gr!==pr&&(It.dragmode=gr),it(),De=te._fullLayout._invScaleX,Ve=te._fullLayout._invScaleY,ze||(Ee?nr.shiftKey?gr==="pan"?gr="zoom":c(gr)||(gr="pan"):nr.ctrlKey&&(gr="pan"):gr="pan"),b(gr)?It.minDrag=1:It.minDrag=void 0,c(gr)?(It.xaxes=Ke,It.yaxes=qe,R(nr,Ot,cr,It,gr)):(It.clickFn=Gt,c(pr)&&Ht(),ze||(gr==="zoom"?(It.moveFn=bt,It.doneFn=Ct,It.minDrag=1,ut(nr,Ot,cr)):gr==="pan"&&(It.moveFn=sr,It.doneFn=kt))),te._fullLayout._redrag=function(){var dr=te._dragdata;if(dr&&dr.element===Tt){var Gr=te._fullLayout.dragmode;c(Gr)||(it(),_t([0,0,pt,gt]),It.moveFn(dr.dx,dr.dy))}}};function Ht(){It.plotinfo.selection=!1,T(te)}function Gt(nr,Ot){var cr=It.gd;if(cr._fullLayout._activeShapeIndex>=0){cr._fullLayout._deactivateShape(cr);return}var pr=cr._fullLayout.clickmode;if(J(cr),nr===2&&!Ne&&je(),Ee)pr.indexOf("select")>-1&&E(Ot,cr,Ke,qe,fe.id,It),pr.indexOf("event")>-1&&n.click(cr,Ot,fe.id);else if(nr===1&&Ne){var gr=Fe?_e:He,dr=Fe==="s"||Se==="w"?0:1,Gr=gr._name+".range["+dr+"]",kr=N(gr,dr),Fr="left",gn="middle";if(gr.fixedrange)return;Fe?(gn=Fe==="n"?"top":"bottom",gr.side==="right"&&(Fr="right")):Se==="e"&&(Fr="right"),cr._context.showAxisRangeEntryBoxes&&y.select(Tt).call(t.makeEditable,{gd:cr,immediate:!0,background:cr._fullLayout.paper_bgcolor,text:String(kr),fill:gr.tickfont?gr.tickfont.color:"#444",horizontalAlign:Fr,verticalAlign:gn}).on("edit",function(Kr){var kn=gr.d2r(Kr);kn!==void 0&&h.call("_guiRelayout",cr,Gr,kn)})}}o.init(It);var Pt,Jt,or,zr,mt,Kt,jt,wr,vr,ct;function ut(nr,Ot,cr){var pr=Tt.getBoundingClientRect();Pt=Ot-pr.left,Jt=cr-pr.top,te._fullLayout._calcInverseTransform(te);var gr=C.apply3DTransform(te._fullLayout._invTransform)(Pt,Jt);Pt=gr[0],Jt=gr[1],or={l:Pt,r:Pt,w:0,t:Jt,b:Jt,h:0},zr=te._hmpixcount?te._hmlumcount/te._hmpixcount:L(te._fullLayout.plot_bgcolor).getLuminance(),mt="M0,0H"+pt+"V"+gt+"H0V0",Kt=!1,jt="xy",ct=!1,wr=ae(Te,zr,rt,ft,mt),vr=ue(Te,rt,ft)}function bt(nr,Ot){if(te._transitioningWithDuration)return!1;var cr=Math.max(0,Math.min(pt,De*nr+Pt)),pr=Math.max(0,Math.min(gt,Ve*Ot+Jt)),gr=Math.abs(cr-Pt),dr=Math.abs(pr-Jt);or.l=Math.min(Pt,cr),or.r=Math.max(Pt,cr),or.t=Math.min(Jt,pr),or.b=Math.max(Jt,pr);function Gr(){jt="",or.r=or.l,or.t=or.b,vr.attr("d","M0,0Z")}if(Mt.isSubplotConstrained)gr>w||dr>w?(jt="xy",gr/pt>dr/gt?(dr=gr*gt/pt,Jt>pr?or.t=Jt-dr:or.b=Jt+dr):(gr=dr*pt/gt,Pt>cr?or.l=Pt-gr:or.r=Pt+gr),vr.attr("d",se(or))):Gr();else if(Lt.isSubplotConstrained)if(gr>w||dr>w){jt="xy";var kr=Math.min(or.l/pt,(gt-or.b)/gt),Fr=Math.max(or.r/pt,(gt-or.t)/gt);or.l=kr*pt,or.r=Fr*pt,or.b=(1-kr)*gt,or.t=(1-Fr)*gt,vr.attr("d",se(or))}else Gr();else!Je||dr<Math.min(Math.max(gr*.6,P),w)?gr<P||!Wt?Gr():(or.t=0,or.b=gt,jt="x",vr.attr("d",X(or,Jt))):!Wt||gr<Math.min(dr*.6,w)?(or.l=0,or.r=pt,jt="y",vr.attr("d",q(or,Pt))):(jt="xy",vr.attr("d",se(or)));or.w=or.r-or.l,or.h=or.b-or.t,jt&&(ct=!0),te._dragged=ct,ve(wr,vr,or,mt,Kt,zr),At(),te.emit("plotly_relayouting",be),Kt=!0}function At(){be={},(jt==="xy"||jt==="x")&&(O(Ke,or.l/pt,or.r/pt,be,Mt.xaxes),Cr("x",be)),(jt==="xy"||jt==="y")&&(O(qe,(gt-or.b)/gt,(gt-or.t)/gt,be,Mt.yaxes),Cr("y",be))}function Ct(){At(),J(te),kt(),Q(te)}var St=[0,0,pt,gt],zt=null,Vt=f.REDRAWDELAY,qt=fe.mainplot?te._fullLayout._plots[fe.mainplot]:fe;function $t(nr){if(!te._context._scrollZoom.cartesian&&!te._fullLayout._enablescrollzoom)return;if(Ht(),te._transitioningWithDuration){nr.preventDefault(),nr.stopPropagation();return}it(),clearTimeout(zt);var Ot=-nr.deltaY;if(isFinite(Ot)||(Ot=nr.wheelDelta/10),!isFinite(Ot)){C.log("Did not find wheel motion attributes: ",nr);return}var cr=Math.exp(-Math.min(Math.max(Ot,-20),20)/200),pr=qt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),gr=(nr.clientX-pr.left)/pr.width,dr=(pr.bottom-nr.clientY)/pr.height,Gr;function kr(Fr,gn,Kr){if(Fr.fixedrange)return;var kn=C.simpleMap(Fr.range,Fr.r2l),In=kn[0]+(kn[1]-kn[0])*gn;function br(Mr){return Fr.l2r(In+(Mr-In)*Kr)}Fr.range=kn.map(br)}if(Oe){for(Se||(gr=.5),Gr=0;Gr<Ke.length;Gr++)kr(Ke[Gr],gr,cr);Cr("x"),St[2]*=cr,St[0]+=St[2]*gr*(1/cr-1)}if(Ue){for(Fe||(dr=.5),Gr=0;Gr<qe.length;Gr++)kr(qe[Gr],dr,cr);Cr("y"),St[3]*=cr,St[1]+=St[3]*(1-dr)*(1/cr-1)}_t(St),Ze(),te.emit("plotly_relayouting",be),zt=setTimeout(function(){te._fullLayout&&(St=[0,0,pt,gt],kt())},Vt),nr.preventDefault()}Fe.length*Se.length!==1&&Z(Tt,$t);function sr(nr,Ot){if(nr=nr*De,Ot=Ot*Ve,te._transitioningWithDuration)return;if(te._fullLayout._replotting=!0,Wt==="ew"||Je==="ns"){var cr=Wt?-nr:0,pr=Je?-Ot:0;if(Lt.isSubplotConstrained){if(Wt&&Je){var gr=(nr/pt-Ot/gt)/2;nr=gr*pt,Ot=-gr*gt,cr=-nr,pr=-Ot}Je?cr=-pr*pt/gt:pr=-cr*gt/pt}Wt&&(U(Ke,nr),Cr("x")),Je&&(U(qe,Ot),Cr("y")),_t([cr,pr,pt,gt]),Ze(),te.emit("plotly_relayouting",be);return}function dr(br,Mr,Br){for(var Nr=1-Mr,en,dn,cn=0;cn<br.length;cn++){var An=br[cn];if(!An.fixedrange){en=An,dn=An._rl[Nr]+(An._rl[Mr]-An._rl[Nr])/K(Br/An._length);var Rn=An.l2r(dn);Rn!==!1&&Rn!==void 0&&(An.range[Mr]=Rn)}}return en._length*(en._rl[Mr]-dn)/(en._rl[Mr]-en._rl[Nr])}var Gr=Wt==="w"==(Je==="n")?1:-1;if(Wt&&Je&&(Mt.isSubplotConstrained||Lt.isSubplotConstrained)){var kr=(nr/pt+Gr*Ot/gt)/2;nr=kr*pt,Ot=Gr*kr*gt}var Fr,gn;if(Wt==="w"?nr=dr(Ke,0,nr):Wt==="e"?nr=dr(Ke,1,-nr):Wt||(nr=0),Je==="n"?Ot=dr(qe,1,Ot):Je==="s"?Ot=dr(qe,0,-Ot):Je||(Ot=0),Fr=Wt==="w"?nr:0,gn=Je==="n"?Ot:0,Mt.isSubplotConstrained&&!Lt.isSubplotConstrained||Lt.isSubplotConstrained&&Wt&&Je&&Gr>0){var Kr;if(Lt.isSubplotConstrained||!Wt&&Je.length===1){for(Kr=0;Kr<Ke.length;Kr++)Ke[Kr].range=Ke[Kr]._r.slice(),A(Ke[Kr],1-Ot/gt);nr=Ot*pt/gt,Fr=nr/2}if(Lt.isSubplotConstrained||!Je&&Wt.length===1){for(Kr=0;Kr<qe.length;Kr++)qe[Kr].range=qe[Kr]._r.slice(),A(qe[Kr],1-nr/pt);Ot=nr*gt/pt,gn=Ot/2}}(!Lt.isSubplotConstrained||!Je)&&Cr("x"),(!Lt.isSubplotConstrained||!Wt)&&Cr("y");var kn=pt-nr,In=gt-Ot;Lt.isSubplotConstrained&&!(Wt&&Je)&&(Wt?(gn=Fr?0:nr*gt/pt,In=kn*gt/pt):(Fr=gn?0:Ot*pt/gt,kn=In*pt/gt)),_t([Fr,gn,kn,In]),Ze(),te.emit("plotly_relayouting",be)}function Cr(nr,Ot){for(var cr=Lt.isSubplotConstrained?{x:qe,y:Ke}[nr]:Lt[nr+"axes"],pr=Lt.isSubplotConstrained?{x:Ke,y:qe}[nr]:[],gr=0;gr<cr.length;gr++){var dr=cr[gr],Gr=dr._id,kr=Lt.xLinks[Gr]||Lt.yLinks[Gr],Fr=pr[0]||We[kr]||tt[kr];Fr&&(Ot?(Ot[dr._name+".range[0]"]=Ot[Fr._name+".range[0]"],Ot[dr._name+".range[1]"]=Ot[Fr._name+".range[1]"]):dr.range=Fr.range.slice())}}function Ze(){var nr=[],Ot;function cr(Gr){for(Ot=0;Ot<Gr.length;Ot++)Gr[Ot].fixedrange||nr.push(Gr[Ot]._id)}function pr(Gr,kr){for(Ot=0;Ot<Gr.length;Ot++){var Fr=Gr[Ot],gn=Fr[kr];!Fr.fixedrange&&gn.tickmode==="sync"&&nr.push(gn._id)}}for(Oe&&(cr(Ke),cr(Mt.xaxes),cr(Lt.xaxes),pr(fe.overlays,"xaxis")),Ue&&(cr(qe),cr(Mt.yaxes),cr(Lt.yaxes),pr(fe.overlays,"yaxis")),be={},Ot=0;Ot<nr.length;Ot++){var gr=nr[Ot],dr=M(te,gr);i.drawOne(te,dr,{skipTitle:!0}),be[dr._name+".range[0]"]=dr.range[0],be[dr._name+".range[1]"]=dr.range[1]}i.redrawComponents(te,nr)}function je(){if(!te._transitioningWithDuration){var nr=te._context.doubleClick,Ot=[];Wt&&(Ot=Ot.concat(Ke)),Je&&(Ot=Ot.concat(qe)),Lt.xaxes&&(Ot=Ot.concat(Lt.xaxes)),Lt.yaxes&&(Ot=Ot.concat(Lt.yaxes));var cr={},pr,gr;if(nr==="reset+autosize")for(nr="autosize",gr=0;gr<Ot.length;gr++){pr=Ot[gr];var dr=pr._rangeInitial0,Gr=pr._rangeInitial1,kr=dr!==void 0||Gr!==void 0;if(kr&&(dr!==void 0&&dr!==pr.range[0]||Gr!==void 0&&Gr!==pr.range[1])||!kr&&pr.autorange!==!0){nr="reset";break}}if(nr==="autosize")for(gr=0;gr<Ot.length;gr++)pr=Ot[gr],pr.fixedrange||(cr[pr._name+".autorange"]=!0);else if(nr==="reset"){for((Wt||Mt.isSubplotConstrained)&&(Ot=Ot.concat(Mt.xaxes)),Je&&!Mt.isSubplotConstrained&&(Ot=Ot.concat(Mt.yaxes)),Mt.isSubplotConstrained&&(Wt?Je||(Ot=Ot.concat(qe)):Ot=Ot.concat(Ke)),gr=0;gr<Ot.length;gr++)if(pr=Ot[gr],!pr.fixedrange){var Fr=pr._name,gn=pr._autorangeInitial;pr._rangeInitial0===void 0&&pr._rangeInitial1===void 0?cr[Fr+".autorange"]=!0:pr._rangeInitial0===void 0?(cr[Fr+".autorange"]=gn,cr[Fr+".range"]=[null,pr._rangeInitial1]):pr._rangeInitial1===void 0?(cr[Fr+".range"]=[pr._rangeInitial0,null],cr[Fr+".autorange"]=gn):cr[Fr+".range"]=[pr._rangeInitial0,pr._rangeInitial1]}}te.emit("plotly_doubleclick",null),h.call("_guiRelayout",te,cr)}}function kt(){_t([0,0,pt,gt]),C.syncOrAsync([S.previousPromises,function(){te._fullLayout._replotting=!1,h.call("_guiRelayout",te,be)}],te)}function _t(nr){var Ot=te._fullLayout,cr=Ot._plots,pr=Ot._subplots.cartesian,gr,dr,Gr,kr;if(Me&&h.subplotsRegistry.splom.drag(te),ke){for(gr=0;gr<pr.length;gr++)if(dr=cr[pr[gr]],Gr=dr.xaxis,kr=dr.yaxis,dr._scene){var Fr=C.simpleMap(Gr.range,Gr.r2l),gn=C.simpleMap(kr.range,kr.r2l);Gr.limitRange&&Gr.limitRange(),kr.limitRange&&kr.limitRange(),Fr=Gr.range,gn=kr.range,dr._scene.update({range:[Fr[0],gn[0],Fr[1],gn[1]]})}}if((Me||ke)&&(l(te),p(te)),ce){var Kr=nr[2]/He._length,kn=nr[3]/_e._length;for(gr=0;gr<pr.length;gr++){dr=cr[pr[gr]],Gr=dr.xaxis,kr=dr.yaxis;var In=(Oe||Lt.isSubplotConstrained)&&!Gr.fixedrange&&We[Gr._id],br=(Ue||Lt.isSubplotConstrained)&&!kr.fixedrange&&tt[kr._id],Mr,Br,Nr,en;if(In?(Mr=Kr,Nr=Se||Lt.isSubplotConstrained?nr[0]:ur(Gr,Mr)):Lt.xaHash[Gr._id]?(Mr=Kr,Nr=nr[0]*Gr._length/He._length):Lt.yaHash[Gr._id]?(Mr=kn,Nr=Je==="ns"?-nr[1]*Gr._length/_e._length:ur(Gr,Mr,{n:"top",s:"bottom"}[Je])):(Mr=Zt(Gr,Kr,kn),Nr=ar(Gr,Mr)),Mr>1&&(Gr.maxallowed!==void 0&&Oe===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&Oe===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(Mr=1,Nr=0),br?(Br=kn,en=Fe||Lt.isSubplotConstrained?nr[1]:ur(kr,Br)):Lt.yaHash[kr._id]?(Br=kn,en=nr[1]*kr._length/_e._length):Lt.xaHash[kr._id]?(Br=Kr,en=Wt==="ew"?-nr[0]*kr._length/He._length:ur(kr,Br,{e:"right",w:"left"}[Wt])):(Br=Zt(kr,Kr,kn),en=ar(kr,Br)),Br>1&&(kr.maxallowed!==void 0&&Ue===(kr.range[0]<kr.range[1]?"n":"s")||kr.minallowed!==void 0&&Ue===(kr.range[0]<kr.range[1]?"s":"n"))&&(Br=1,en=0),!(!Mr&&!Br)){Mr||(Mr=1),Br||(Br=1);var dn=Gr._offset-Nr/Mr,cn=kr._offset-en/Br;dr.clipRect.call(u.setTranslate,Nr,en).call(u.setScale,Mr,Br),dr.plot.call(u.setTranslate,dn,cn).call(u.setScale,1/Mr,1/Br),(Mr!==dr.xScaleFactor||Br!==dr.yScaleFactor)&&(u.setPointGroupScale(dr.zoomScalePts,Mr,Br),u.setTextPointsScale(dr.zoomScaleTxt,Mr,Br)),u.hideOutsideRangePoints(dr.clipOnAxisFalseTraces,dr),dr.xScaleFactor=Mr,dr.yScaleFactor=Br}}}}function Zt(nr,Ot,cr){return nr.fixedrange?0:Oe&&Mt.xaHash[nr._id]?Ot:Ue&&(Mt.isSubplotConstrained?Mt.xaHash:Mt.yaHash)[nr._id]?cr:0}function ar(nr,Ot){return Ot?(nr.range=nr._r.slice(),A(nr,Ot),ur(nr,Ot)):0}function ur(nr,Ot,cr){return nr._length*(1-Ot)*v[cr||nr.constraintoward||"middle"]}return Tt}function H(te,fe,de,we){var Ae=C.ensureSingle(te.draglayer,fe,de,function(Re){Re.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",te.id)});return Ae.call(s,we),Ae.node()}function _(te,fe,de,we,Ae,Re,Fe){var Se=H(te,"rect",fe,de);return y.select(Se).call(u.setRect,we,Ae,Re,Fe),Se}function B(te,fe){for(var de=0;de<te.length;de++)if(!te[de].fixedrange)return fe;return""}function N(te,fe){var de=te.range[fe],we=Math.abs(de-te.range[1-fe]),Ae;return te.type==="date"?de:te.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(we)/Math.LN10))+3,a("."+Ae+"g")(Math.pow(10,de))):(Ae=Math.floor(Math.log(Math.abs(de))/Math.LN10)-Math.floor(Math.log(we)/Math.LN10)+4,a("."+String(Ae)+"g")(de))}function O(te,fe,de,we,Ae){for(var Re=0;Re<te.length;Re++){var Fe=te[Re];if(!Fe.fixedrange)if(Fe.rangebreaks){var Se=Fe._id.charAt(0)==="y",Te=Se?1-fe:fe,Ee=Se?1-de:de;we[Fe._name+".range[0]"]=Fe.l2r(Fe.p2l(Te*Fe._length)),we[Fe._name+".range[1]"]=Fe.l2r(Fe.p2l(Ee*Fe._length))}else{var Ne=Fe._rl[0],He=Fe._rl[1]-Ne;we[Fe._name+".range[0]"]=Fe.l2r(Ne+He*fe),we[Fe._name+".range[1]"]=Fe.l2r(Ne+He*de)}}if(Ae&&Ae.length){var _e=(fe+(1-de))/2;O(Ae,_e,1-_e,we,[])}}function U(te,fe){for(var de=0;de<te.length;de++){var we=te[de];if(!we.fixedrange){if(we.rangebreaks){var Ae=0,Re=we._length,Fe=we.p2l(Ae+fe)-we.p2l(Ae),Se=we.p2l(Re+fe)-we.p2l(Re),Te=(Fe+Se)/2;we.range=[we.l2r(we._rl[0]-Te),we.l2r(we._rl[1]-Te)]}else we.range=[we.l2r(we._rl[0]-fe/we._m),we.l2r(we._rl[1]-fe/we._m)];we.limitRange&&we.limitRange()}}}function K(te){return 1-(te>=0?Math.min(te,.9):1/(1/Math.max(te,-.3)+3.222))}function re(te,fe,de){return te?te==="nsew"?de?"":fe==="pan"?"move":"crosshair":te.toLowerCase()+"-resize":"pointer"}function ae(te,fe,de,we,Ae){return te.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(de,we)).attr("d",Ae+"Z")}function ue(te,fe,de){return te.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(fe,de)).attr("d","M0,0Z")}function ve(te,fe,de,we,Ae,Re){te.attr("d",we+"M"+de.l+","+de.t+"v"+de.h+"h"+de.w+"v-"+de.h+"h-"+de.w+"Z"),ee(te,fe,Ae,Re)}function ee(te,fe,de,we){de||(te.transition().style("fill",we>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function J(te){y.select(te).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(te){z&&te.data&&te._context.showTips&&(C.notifier(C._(te,"Double-click to zoom back out"),"long"),z=!1)}function X(te,fe){return"M"+(te.l-.5)+","+(fe-w-.5)+"h-3v"+(2*w+1)+"h3ZM"+(te.r+.5)+","+(fe-w-.5)+"h3v"+(2*w+1)+"h-3Z"}function q(te,fe){return"M"+(fe-w-.5)+","+(te.t-.5)+"v-3h"+(2*w+1)+"v3ZM"+(fe-w-.5)+","+(te.b+.5)+"v3h"+(2*w+1)+"v-3Z"}function se(te){var fe=Math.floor(Math.min(te.b-te.t,te.r-te.l,w)/2);return"M"+(te.l-3.5)+","+(te.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(te.r+3.5)+","+(te.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(te.l-3.5)+","+(te.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function Y(te,fe,de,we,Ae){for(var Re=!1,Fe={},Se={},Te,Ee,Ne,He,_e=(Ae||{}).xaHash,We=(Ae||{}).yaHash,tt=0;tt<fe.length;tt++){var Ke=fe[tt];for(Te in de)if(Ke[Te]){for(Ne in Ke)!(Ae&&(_e[Ne]||We[Ne]))&&!(Ne.charAt(0)==="x"?de:we)[Ne]&&(Fe[Ne]=Te);for(Ee in we)!(Ae&&(_e[Ee]||We[Ee]))&&Ke[Ee]&&(Re=!0)}for(Ee in we)if(Ke[Ee])for(He in Ke)!(Ae&&(_e[He]||We[He]))&&!(He.charAt(0)==="x"?de:we)[He]&&(Se[He]=Ee)}Re&&(C.extendFlat(Fe,Se),Se={});var qe={},rt=[];for(Ne in Fe){var ft=M(te,Ne);rt.push(ft),qe[ft._id]=ft}var pt={},gt=[];for(He in Se){var Mt=M(te,He);gt.push(Mt),pt[Mt._id]=Mt}return{xaHash:qe,yaHash:pt,xaxes:rt,yaxes:gt,xLinks:Fe,yLinks:Se,isSubplotConstrained:Re}}function Z(te,fe){if(!x)te.onwheel!==void 0?te.onwheel=fe:te.onmousewheel!==void 0?te.onmousewheel=fe:te.isAddedWheelEvent||(te.isAddedWheelEvent=!0,te.addEventListener("wheel",fe,{passive:!1}));else{var de=te.onwheel!==void 0?"wheel":"mousewheel";te._onwheel&&te.removeEventListener(de,te._onwheel),te._onwheel=fe,te.addEventListener(de,fe,{passive:!1})}}function ie(te){var fe=[];for(var de in te)fe.push(te[de]);return fe}W.exports={makeDragBox:F,makeDragger:H,makeRectDragger:_,makeZoombox:ae,makeCorners:ue,updateZoombox:ve,xyCorners:se,transitionZoombox:ee,removeZoombox:J,showDoubleClickNotifier:Q,attachWheelEventHandler:Z}},4305:function(W,V,e){var y=e(39898),C=e(30211),a=e(28569),L=e(6964),x=e(29323).makeDragBox,h=e(85555).DRAGGERSIZE;V.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){y.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var u=Object.keys(r._plots||{}).sort(function(i,s){if((r._plots[i].mainplot&&!0)===(r._plots[s].mainplot&&!0)){var o=i.split("y"),m=s.split("y");return o[0]===m[0]?Number(o[1]||1)-Number(m[1]||1):Number(o[0]||1)-Number(m[0]||1)}return r._plots[i].mainplot?1:-1});u.forEach(function(i){var s=r._plots[i],o=s.xaxis,m=s.yaxis;if(!s.mainplot){var c=x(t,s,o._offset,m._offset,o._length,m._length,"ns","ew");c.onmousemove=function(l){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===i&&t._fullLayout._plots[i]&&C.hover(t,l,i)},C.hover(t,l,i),t._fullLayout._lasthover=c,t._fullLayout._hoversubplot=i},c.onmouseout=function(l){t._dragging||(t._fullLayout._hoversubplot=null,a.unhover(t,l))},t._context.showAxisDragHandles&&(x(t,s,o._offset-h,m._offset-h,h,h,"n","w"),x(t,s,o._offset+o._length,m._offset-h,h,h,"n","e"),x(t,s,o._offset-h,m._offset+m._length,h,h,"s","w"),x(t,s,o._offset+o._length,m._offset+m._length,h,h,"s","e"))}if(t._context.showAxisDragHandles){if(i===o._mainSubplot){var b=o._mainLinePosition;o.side==="top"&&(b-=h),x(t,s,o._offset+o._length*.1,b,o._length*.8,h,"","ew"),x(t,s,o._offset,b,o._length*.1,h,"","w"),x(t,s,o._offset+o._length*.9,b,o._length*.1,h,"","e")}if(i===m._mainSubplot){var v=m._mainLinePosition;m.side!=="right"&&(v-=h),x(t,s,v,m._offset+m._length*.1,h,m._length*.8,"ns",""),x(t,s,v,m._offset+m._length*.9,h,m._length*.1,"s",""),x(t,s,v,m._offset,h,m._length*.1,"n","")}}});var n=r._hoverlayer.node();n.onmousemove=function(i){i.target=t._fullLayout._lasthover,C.hover(t,i,r._hoversubplot)},n.onclick=function(i){i.target=t._fullLayout._lasthover,C.click(t,i)},n.onmousedown=function(i){t._fullLayout._lasthover.onmousedown(i)},V.updateFx(t)}},V.updateFx=function(d){var t=d._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";L(t._draggers,r)}},76325:function(W,V,e){var y=e(73972),C=e(71828),a=e(41675);W.exports=function(x){return function(d,t){var r=d[x];if(Array.isArray(r))for(var u=y.subplotsRegistry.cartesian,n=u.idRegex,i=t._subplots,s=i.xaxis,o=i.yaxis,m=i.cartesian,c=t._has("cartesian")||t._has("gl2d"),b=0;b<r.length;b++){var v=r[b];if(C.isPlainObject(v)){var l=a.cleanId(v.xref,"x",!1),p=a.cleanId(v.yref,"y",!1),S=n.x.test(l),M=n.y.test(p);if(S||M){c||C.pushUnique(t._basePlotModules,u);var R=!1;S&&s.indexOf(l)===-1&&(s.push(l),R=!0),M&&o.indexOf(p)===-1&&(o.push(p),R=!0),R&&S&&M&&m.push(l+p)}}}}}},93612:function(W,V,e){var y=e(39898),C=e(73972),a=e(71828),L=e(74875),x=e(91424),h=e(27659).a0,d=e(41675),t=e(85555),r=e(77922),u=a.ensureSingle;function n(b,v,l){return a.ensureSingle(b,v,l,function(p){p.datum(l)})}V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=t.idRegex,V.attrRegex=t.attrRegex,V.attributes=e(89502),V.layoutAttributes=e(13838),V.supplyLayoutDefaults=e(86763),V.transitionAxes=e(66847),V.finalizeSubplots=function(b,v){var l=v._subplots,p=l.xaxis,S=l.yaxis,M=l.cartesian,R=M.concat(l.gl2d||[]),T={},E={},A,f,P;for(A=0;A<R.length;A++){var w=R[A].split("y");T[w[0]]=1,E["y"+w[1]]=1}for(A=0;A<p.length;A++)f=p[A],T[f]||(P=(b[d.id2name(f)]||{}).anchor,t.idRegex.y.test(P)||(P="y"),M.push(f+P),R.push(f+P),E[P]||(E[P]=1,a.pushUnique(S,P)));for(A=0;A<S.length;A++)P=S[A],E[P]||(f=(b[d.id2name(P)]||{}).anchor,t.idRegex.x.test(f)||(f="x"),M.push(f+P),R.push(f+P),T[f]||(T[f]=1,a.pushUnique(p,f)));if(!R.length){f="",P="";for(var z in b)if(t.attrRegex.test(z)){var F=z.charAt(0);F==="x"?(!f||+z.substr(5)<+f.substr(5))&&(f=z):(!P||+z.substr(5)<+P.substr(5))&&(P=z)}f=f?d.name2id(f):"x",P=P?d.name2id(P):"y",p.push(f),S.push(P),M.push(f+P)}},V.plot=function(b,v,l,p){var S=b._fullLayout,M=S._subplots.cartesian,R=b.calcdata,T;if(!Array.isArray(v))for(v=[],T=0;T<R.length;T++)v.push(T);for(T=0;T<M.length;T++){for(var E=M[T],A=S._plots[E],f=[],P,w=0;w<R.length;w++){var z=R[w],F=z[0].trace;F.xaxis+F.yaxis===E&&((v.indexOf(F.index)!==-1||F.carpet)&&(P&&P[0].trace.xaxis+P[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(F.fill)!==-1&&f.indexOf(P)===-1&&f.push(P),f.push(z)),P=z)}i(b,A,f,l,p)}};function i(b,v,l,p,S){for(var M=t.traceLayerClasses,R=b._fullLayout,T=R._modules,E,A,f,P=[],w=[],z=0;z<T.length;z++){E=T[z];var F=E.name,H=C.modules[F].categories;if(H.svg){var _=E.layerName||F+"layer",B=E.plot;A=h(l,B),f=A[0],l=A[1],f.length&&P.push({i:M.indexOf(_),className:_,plotMethod:B,cdModule:f}),H.zoomScale&&w.push("."+_)}}P.sort(function(U,K){return U.i-K.i});var N=v.plot.selectAll("g.mlayer").data(P,function(U){return U.className});if(N.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",v.isRangePlot),N.exit().remove(),N.order(),N.each(function(U){var K=y.select(this),re=U.className;U.plotMethod(b,v,U.cdModule,K,p,S),t.clipOnAxisFalseQuery.indexOf("."+re)===-1&&x.setClipUrl(K,v.layerClipId,b)}),R._has("scattergl")&&(E=C.getModule("scattergl"),f=h(l,E)[0],E.plot(b,v,f)),!b._context.staticPlot&&(v._hasClipOnAxisFalse&&(v.clipOnAxisFalseTraces=v.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),w.length)){var O=v.plot.selectAll(w.join(",")).selectAll(".trace");v.zoomScalePts=O.selectAll("path.point"),v.zoomScaleTxt=O.selectAll(".textpoint")}}V.clean=function(b,v,l,p){var S=p._plots||{},M=v._plots||{},R=p._subplots||{},T,E,A;if(p._hasOnlyLargeSploms&&!v._hasOnlyLargeSploms)for(A in S)T=S[A],T.plotgroup&&T.plotgroup.remove();var f=p._has&&p._has("gl"),P=v._has&&v._has("gl");if(f&&!P)for(A in S)T=S[A],T._scene&&T._scene.destroy();if(R.xaxis&&R.yaxis){var w=d.listIds({_fullLayout:p});for(E=0;E<w.length;E++){var z=w[E];v[d.id2name(z)]||p._infolayer.selectAll(".g-"+z+"title").remove()}}var F=p._has&&p._has("cartesian"),H=v._has&&v._has("cartesian");if(F&&!H)m(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(R.cartesian)for(E=0;E<R.cartesian.length;E++){var _=R.cartesian[E];if(!M[_]){var B="."+_+",."+_+"-x,."+_+"-y";p._cartesianlayer.selectAll(B).remove(),c(_,p)}}},V.drawFramework=function(b){var v=b._fullLayout,l=s(b),p=v._cartesianlayer.selectAll(".subplot").data(l,String);p.enter().append("g").attr("class",function(S){return"subplot "+S[0]}),p.order(),p.exit().call(m,v),p.each(function(S){var M=S[0],R=v._plots[M];R.plotgroup=y.select(this),o(b,R),R.draglayer=u(v._draggers,"g",M)})},V.rangePlot=function(b,v,l){o(b,v),i(b,v,l),L.style(b)};function s(b){var v=b._fullLayout,l=v._subplots.cartesian,p=l.length,S,M,R,T,E,A,f=[],P=[];for(S=0;S<p;S++){R=l[S],T=v._plots[R],E=T.xaxis,A=T.yaxis;var w=E._mainAxis,z=A._mainAxis,F=w._id+z._id,H=v._plots[F];T.overlays=[],F!==R&&H?(T.mainplot=F,T.mainplotinfo=H,P.push(R)):(T.mainplot=void 0,T.mainplotinfo=void 0,f.push(R))}for(S=0;S<P.length;S++)R=P[S],T=v._plots[R],T.mainplotinfo.overlays.push(T);var _=f.concat(P),B=new Array(p);for(S=0;S<p;S++){R=_[S],T=v._plots[R],E=T.xaxis,A=T.yaxis;var N=[R,E.layer,A.layer,E.overlaying||"",A.overlaying||""];for(M=0;M<T.overlays.length;M++)N.push(T.overlays[M].id);B[S]=N}return B}function o(b,v){var l=v.plotgroup,p=v.id,S=t.layerValue2layerClass[v.xaxis.layer],M=t.layerValue2layerClass[v.yaxis.layer],R=b._fullLayout._hasOnlyLargeSploms;if(v.mainplot){var E=v.mainplotinfo,A=E.plotgroup,f=p+"-x",P=p+"-y";v.minorGridlayer=E.minorGridlayer,v.gridlayer=E.gridlayer,v.zerolinelayer=E.zerolinelayer,u(E.overlinesBelow,"path",f),u(E.overlinesBelow,"path",P),u(E.overaxesBelow,"g",f),u(E.overaxesBelow,"g",P),v.plot=u(E.overplot,"g",p),u(E.overlinesAbove,"path",f),u(E.overlinesAbove,"path",P),u(E.overaxesAbove,"g",f),u(E.overaxesAbove,"g",P),v.xlines=A.select(".overlines-"+S).select("."+f),v.ylines=A.select(".overlines-"+M).select("."+P),v.xaxislayer=A.select(".overaxes-"+S).select("."+f),v.yaxislayer=A.select(".overaxes-"+M).select("."+P)}else if(R)v.xlines=u(l,"path","xlines-above"),v.ylines=u(l,"path","ylines-above"),v.xaxislayer=u(l,"g","xaxislayer-above"),v.yaxislayer=u(l,"g","yaxislayer-above");else{var T=u(l,"g","layer-subplot");v.shapelayer=u(T,"g","shapelayer"),v.imagelayer=u(T,"g","imagelayer"),v.minorGridlayer=u(l,"g","minor-gridlayer"),v.gridlayer=u(l,"g","gridlayer"),v.zerolinelayer=u(l,"g","zerolinelayer"),u(l,"path","xlines-below"),u(l,"path","ylines-below"),v.overlinesBelow=u(l,"g","overlines-below"),u(l,"g","xaxislayer-below"),u(l,"g","yaxislayer-below"),v.overaxesBelow=u(l,"g","overaxes-below"),v.plot=u(l,"g","plot"),v.overplot=u(l,"g","overplot"),v.xlines=u(l,"path","xlines-above"),v.ylines=u(l,"path","ylines-above"),v.overlinesAbove=u(l,"g","overlines-above"),u(l,"g","xaxislayer-above"),u(l,"g","yaxislayer-above"),v.overaxesAbove=u(l,"g","overaxes-above"),v.xlines=l.select(".xlines-"+S),v.ylines=l.select(".ylines-"+M),v.xaxislayer=l.select(".xaxislayer-"+S),v.yaxislayer=l.select(".yaxislayer-"+M)}R||(n(v.minorGridlayer,"g",v.xaxis._id),n(v.minorGridlayer,"g",v.yaxis._id),v.minorGridlayer.selectAll("g").map(function(w){return w[0]}).sort(d.idSort),n(v.gridlayer,"g",v.xaxis._id),n(v.gridlayer,"g",v.yaxis._id),v.gridlayer.selectAll("g").map(function(w){return w[0]}).sort(d.idSort)),v.xlines.style("fill","none").classed("crisp",!0),v.ylines.style("fill","none").classed("crisp",!0)}function m(b,v){if(b){var l={};b.each(function(E){var A=E[0],f=y.select(this);f.remove(),c(A,v),l[A]=!0});for(var p in v._plots)for(var S=v._plots[p],M=S.overlays||[],R=0;R<M.length;R++){var T=M[R];l[T.id]&&T.plot.selectAll(".trace").remove()}}}function c(b,v){v._draggers.selectAll("g."+b).remove(),v._defs.select("#clip"+v._uid+b+"plot").remove()}V.toSVG=function(b){var v=b._fullLayout._glimages,l=y.select(b).selectAll(".svg-container"),p=l.filter(function(M,R){return R===l.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function S(){var M=this,R=M.toDataURL("image/png"),T=v.append("svg:image");T.attr({xmlns:r.svg,"xlink:href":R,preserveAspectRatio:"none",x:0,y:0,width:M.style.width,height:M.style.height})}p.each(S)},V.updateFx=e(4305).updateFx},13838:function(W,V,e){var y=e(41940),C=e(22399),a=e(79952).P,L=e(1426).extendFlat,x=e(44467).templatedArray,h=e(12663).descriptionWithDates,d=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,u=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},i=L({},n,{values:n.values.slice().concat(["sync"])});function s(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var o={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function v(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=5),A}function l(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var p={valType:"color",dflt:C.defaultLine,editType:"ticks"},S={valType:"color",dflt:C.lightLine,editType:"ticks"};function M(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var R=L({},a,{editType:"ticks"}),T={valType:"boolean",editType:"ticks"};W.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:C.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:y({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:x("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[u,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:i,nticks:s(),tick0:o,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:v(),tickwidth:l(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:y({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:h("tick label")},tickformatstops:x("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:h("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:C.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:T,gridcolor:S,gridwidth:M(),griddash:R,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:C.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:C.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:s("minor"),tick0:o,dtick:m,tickvals:c,ticks:b,ticklen:v("minor"),tickwidth:l("minor"),tickcolor:p,gridcolor:S,gridwidth:M("minor"),griddash:R,showgrid:T,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:y({editType:"ticks"})}}},86763:function(W,V,e){var y=e(71828),C=e(7901),a=e(23469).isUnifiedHover,L=e(98212),x=e(44467),h=e(10820),d=e(13838),t=e(951),r=e(71453),u=e(99082),n=e(52830),i=e(41675),s=i.id2name,o=i.name2id,m=e(85555).AX_ID_PATTERN,c=e(73972),b=c.traceIs,v=c.getComponentMethod;function l(p,S,M){Array.isArray(p[S])?p[S].push(M):p[S]=[M]}W.exports=function(S,M,R){var T=M.autotypenumbers,E={},A={},f={},P={},w={},z={},F={},H={},_={},B={},N,O;for(N=0;N<R.length;N++){var U=R[N];if(!(!b(U,"cartesian")&&!b(U,"gl2d"))){var K;if(U.xaxis)K=s(U.xaxis),l(E,K,U);else if(U.xaxes)for(O=0;O<U.xaxes.length;O++)l(E,s(U.xaxes[O]),U);var re;if(U.yaxis)re=s(U.yaxis),l(E,re,U);else if(U.yaxes)for(O=0;O<U.yaxes.length;O++)l(E,s(U.yaxes[O]),U);if(U.type==="funnel"?U.orientation==="h"?(K&&(A[K]=!0),re&&(F[re]=!0)):re&&(f[re]=!0):U.type==="image"?(re&&(H[re]=!0),K&&(H[K]=!0)):(re&&(w[re]=!0,z[re]=!0),(!b(U,"carpet")||U.type==="carpet"&&!U._cheater)&&K&&(P[K]=!0)),U.type==="carpet"&&U._cheater&&K&&(A[K]=!0),b(U,"2dMap")&&(_[K]=!0,_[re]=!0),b(U,"oriented")){var ae=U.orientation==="h"?re:K;B[ae]=!0}}}var ue=M._subplots,ve=ue.xaxis,ee=ue.yaxis,J=y.simpleMap(ve,s),Q=y.simpleMap(ee,s),X=J.concat(Q),q=C.background;ve.length&&ee.length&&(q=y.coerce(S,M,h,"plot_bgcolor"));var se=C.combine(q,M.paper_bgcolor),Y,Z,ie,te,fe;function de(){var De=E[Y]||[];fe._traceIndices=De.map(function(Ve){return Ve._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=Y,fe._id=Z}function we(De,Ve){return y.coerce(te,fe,d,De,Ve)}function Ae(De,Ve){return y.coerce2(te,fe,d,De,Ve)}function Re(De){return De==="x"?ee:ve}function Fe(De,Ve){for(var it=De==="x"?J:Q,ot=[],Tt=0;Tt<it.length;Tt++){var It=it[Tt];It!==Ve&&!(S[It]||{}).overlaying&&ot.push(o(It))}return ot}var Se={x:Re("x"),y:Re("y")},Te=Se.x.concat(Se.y),Ee={},Ne=[];function He(){var De=te.matches;m.test(De)&&Te.indexOf(De)===-1&&(Ee[De]=te.type,Ne=Object.keys(Ee))}var _e=L(S,M),We=a(_e);for(N=0;N<X.length;N++){Y=X[N],Z=o(Y),ie=Y.charAt(0),y.isPlainObject(S[Y])||(S[Y]={}),te=S[Y],fe=x.newContainer(M,Y,ie+"axis"),de();var tt=ie==="x"&&!P[Y]&&A[Y]||ie==="y"&&!w[Y]&&f[Y],Ke=ie==="y"&&(!z[Y]&&F[Y]||H[Y]),qe={hasMinor:!0,letter:ie,font:M.font,outerTicks:_[Y],showGrid:!B[Y],data:E[Y]||[],bgColor:se,calendar:M.calendar,automargin:!0,visibleDflt:tt,reverseDflt:Ke,autotypenumbersDflt:T,splomStash:((M._splomAxes||{})[ie]||{})[Z]};we("uirevision",M.uirevision),t(te,fe,we,qe),r(te,fe,we,qe,M);var rt=We&&ie===_e.charAt(0),ft=Ae("spikecolor",We?fe.color:void 0),pt=Ae("spikethickness",We?1.5:void 0),gt=Ae("spikedash",We?"dot":void 0),Mt=Ae("spikemode",We?"across":void 0),Lt=Ae("spikesnap"),Wt=we("showspikes",!!rt||!!ft||!!pt||!!gt||!!Mt||!!Lt);Wt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var Je=s(te.overlaying),ze=[0,1];if(M[Je]!==void 0){var Oe=s(M[Je].anchor);M[Oe]!==void 0&&(ze=M[Oe].domain)}n(te,fe,we,{letter:ie,counterAxes:Se[ie],overlayableAxes:Fe(ie,Y),grid:M.grid,overlayingDomain:ze}),we("title.standoff"),He(),fe._input=te}for(N=0;N<Ne.length;){Z=Ne[N++],Y=s(Z),ie=Y.charAt(0),y.isPlainObject(S[Y])||(S[Y]={}),te=S[Y],fe=x.newContainer(M,Y,ie+"axis"),de();var Ue={letter:ie,font:M.font,outerTicks:_[Y],showGrid:!B[Y],data:[],bgColor:se,calendar:M.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:T,splomStash:((M._splomAxes||{})[ie]||{})[Z]};we("uirevision",M.uirevision),fe.type=Ee[Z]||"linear",r(te,fe,we,Ue,M),n(te,fe,we,{letter:ie,counterAxes:Se[ie],overlayableAxes:Fe(ie,Y),grid:M.grid}),we("fixedrange"),He(),fe._input=te}var ke=v("rangeslider","handleDefaults"),Me=v("rangeselector","handleDefaults");for(N=0;N<J.length;N++)Y=J[N],te=S[Y],fe=M[Y],ke(S,M,Y),fe.type==="date"&&Me(te,fe,M,Q,fe.calendar),we("fixedrange");for(N=0;N<Q.length;N++){Y=Q[N],te=S[Y],fe=M[Y];var ce=M[s(fe.anchor)],be=v("rangeslider","isVisible")(ce);we("fixedrange",be)}u.handleDefaults(S,M,{axIds:Te.concat(Ne).sort(i.idSort),axHasImage:H})}},92128:function(W,V,e){var y=e(84267).mix,C=e(22399),a=e(71828);W.exports=function(x,h,d,t){t=t||{};var r=t.dfltColor;function u(f,P){return a.coerce2(x,h,t.attributes,f,P)}var n=u("linecolor",r),i=u("linewidth"),s=d("showline",t.showLine||!!n||!!i);s||(delete h.linecolor,delete h.linewidth);var o=y(r,t.bgColor,t.blend||C.lightFraction).toRgbString(),m=u("gridcolor",o),c=u("gridwidth"),b=u("griddash"),v=d("showgrid",t.showGrid||!!m||!!c||!!b);if(v||(delete h.gridcolor,delete h.gridwidth,delete h.griddash),t.hasMinor){var l=y(h.gridcolor,t.bgColor,67).toRgbString(),p=u("minor.gridcolor",l),S=u("minor.gridwidth",h.gridwidth||1),M=u("minor.griddash",h.griddash||"solid"),R=d("minor.showgrid",!!p||!!S||!!M);R||(delete h.minor.gridcolor,delete h.minor.gridwidth,delete h.minor.griddash)}if(!t.noZeroLine){var T=u("zerolinecolor",r),E=u("zerolinewidth"),A=d("zeroline",t.showGrid||!!T||!!E);A||(delete h.zerolinecolor,delete h.zerolinewidth)}}},52830:function(W,V,e){var y=e(92770),C=e(71828);W.exports=function(L,x,h,d){var t=d.counterAxes||[],r=d.overlayableAxes||[],u=d.letter,n=d.grid,i=d.overlayingDomain,s,o,m,c,b,v;n&&(o=n._domains[u][n._axisMap[x._id]],s=n._anchors[x._id],o&&(m=n[u+"side"].split(" ")[0],c=n.domain[u][m==="right"||m==="top"?1:0])),o=o||[0,1],s=s||(y(L.position)?"free":t[0]||"free"),m=m||(u==="x"?"bottom":"left"),c=c||0,b=0,v=!1;var l=C.coerce(L,x,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:s}},"anchor"),p=C.coerce(L,x,{side:{valType:"enumerated",values:u==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(l==="free"){if(u==="y"){var S=h("autoshift");S&&(c=p==="left"?i[0]:i[1],v=x.automargin?x.automargin:!0,b=p==="left"?-3:3),h("shift",b)}h("position",c)}h("automargin",v);var M=!1;if(r.length&&(M=C.coerce(L,x,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!M){var R=h("domain",o);R[0]>R[1]-.000244140625&&(x.domain=o),C.noneOrAll(L.domain,x.domain,o),x.tickmode==="sync"&&(x.tickmode="auto")}return h("layer"),x}},89426:function(W,V,e){var y=e(59652);W.exports=function(a,L,x,h,d){d||(d={});var t=d.tickSuffixDflt,r=y(a),u=x("tickprefix");u&&x("showtickprefix",r);var n=x("ticksuffix",t);n&&x("showticksuffix",r)}},42449:function(W,V,e){var y=e(18783).FROM_BL;W.exports=function(a,L,x){x===void 0&&(x=y[a.constraintoward||"center"]);var h=[a.r2l(a.range[0]),a.r2l(a.range[1])],d=h[0]+(h[1]-h[0])*x;a.range=a._input.range=[a.l2r(d+(h[0]-d)*L),a.l2r(d+(h[1]-d)*L)],a.setScale()}},21994:function(W,V,e){var y=e(39898),C=e(84096).g0,a=e(71828),L=a.numberFormat,x=e(92770),h=a.cleanNumber,d=a.ms2DateTime,t=a.dateTime2ms,r=a.ensureNumber,u=a.isArrayOrTypedArray,n=e(50606),i=n.FP_SAFE,s=n.BADNUM,o=n.LOG_CLIP,m=n.ONEWEEK,c=n.ONEDAY,b=n.ONEHOUR,v=n.ONEMIN,l=n.ONESEC,p=e(41675),S=e(85555),M=S.HOUR_PATTERN,R=S.WEEKDAY_PATTERN;function T(A){return Math.pow(10,A)}function E(A){return A!=null}W.exports=function(f,P){P=P||{};var w=f._id||"x",z=w.charAt(0);function F(X,q){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&q&&f.range&&f.range.length===2){var se=f.range[0],Y=f.range[1];return .5*(se+Y-2*o*Math.abs(se-Y))}else return s}function H(X,q,se,Y){if((Y||{}).msUTC&&x(X))return+X;var Z=t(X,se||f.calendar);if(Z===s)if(x(X)){X=+X;var ie=Math.floor(a.mod(X+.05,1)*10),te=Math.round(X-ie/10);Z=t(new Date(te))+ie/10}else return s;return Z}function _(X,q,se){return d(X,q,se||f.calendar)}function B(X){return f._categories[Math.round(X)]}function N(X){if(E(X)){if(f._categoriesMap===void 0&&(f._categoriesMap={}),f._categoriesMap[X]!==void 0)return f._categoriesMap[X];f._categories.push(typeof X=="number"?String(X):X);var q=f._categories.length-1;return f._categoriesMap[X]=q,q}return s}function O(X,q){for(var se=new Array(q),Y=0;Y<q;Y++){var Z=(X[0]||[])[Y],ie=(X[1]||[])[Y];se[Y]=U([Z,ie])}return se}function U(X){if(f._categoriesMap)return f._categoriesMap[X]}function K(X){var q=U(X);if(q!==void 0)return q;if(x(X))return+X}function re(X){return x(X)?+X:U(X)}function ae(X,q,se){return y.round(se+q*X,2)}function ue(X,q,se){return(X-se)/q}var ve=function(q){return x(q)?ae(q,f._m,f._b):s},ee=function(X){return ue(X,f._m,f._b)};if(f.rangebreaks){var J=z==="y";ve=function(X){if(!x(X))return s;var q=f._rangebreaks.length;if(!q)return ae(X,f._m,f._b);var se=J;f.range[0]>f.range[1]&&(se=!se);for(var Y=se?-1:1,Z=Y*X,ie=0,te=0;te<q;te++){var fe=Y*f._rangebreaks[te].min,de=Y*f._rangebreaks[te].max;if(Z<fe)break;if(Z>de)ie=te+1;else{ie=Z<(fe+de)/2?te:te+1;break}}var we=f._B[ie]||0;return isFinite(we)?ae(X,f._m2,we):0},ee=function(X){var q=f._rangebreaks.length;if(!q)return ue(X,f._m,f._b);for(var se=0,Y=0;Y<q&&!(X<f._rangebreaks[Y].pmin);Y++)X>f._rangebreaks[Y].pmax&&(se=Y+1);return ue(X,f._m2,f._B[se])}}f.c2l=f.type==="log"?F:r,f.l2c=f.type==="log"?T:r,f.l2p=ve,f.p2l=ee,f.c2p=f.type==="log"?function(X,q){return ve(F(X,q))}:ve,f.p2c=f.type==="log"?function(X){return T(ee(X))}:ee,["linear","-"].indexOf(f.type)!==-1?(f.d2r=f.r2d=f.d2c=f.r2c=f.d2l=f.r2l=h,f.c2d=f.c2r=f.l2d=f.l2r=r,f.d2p=f.r2p=function(X){return f.l2p(h(X))},f.p2d=f.p2r=ee,f.cleanPos=r):f.type==="log"?(f.d2r=f.d2l=function(X,q){return F(h(X),q)},f.r2d=f.r2c=function(X){return T(h(X))},f.d2c=f.r2l=h,f.c2d=f.l2r=r,f.c2r=F,f.l2d=T,f.d2p=function(X,q){return f.l2p(f.d2r(X,q))},f.p2d=function(X){return T(ee(X))},f.r2p=function(X){return f.l2p(h(X))},f.p2r=ee,f.cleanPos=r):f.type==="date"?(f.d2r=f.r2d=a.identity,f.d2c=f.r2c=f.d2l=f.r2l=H,f.c2d=f.c2r=f.l2d=f.l2r=_,f.d2p=f.r2p=function(X,q,se){return f.l2p(H(X,0,se))},f.p2d=f.p2r=function(X,q,se){return _(ee(X),q,se)},f.cleanPos=function(X){return a.cleanDate(X,s,f.calendar)}):f.type==="category"?(f.d2c=f.d2l=N,f.r2d=f.c2d=f.l2d=B,f.d2r=f.d2l_noadd=K,f.r2c=function(X){var q=re(X);return q!==void 0?q:f.fraction2r(.5)},f.l2r=f.c2r=r,f.r2l=re,f.d2p=function(X){return f.l2p(f.r2c(X))},f.p2d=function(X){return B(ee(X))},f.r2p=f.d2p,f.p2r=ee,f.cleanPos=function(X){return typeof X=="string"&&X!==""?X:r(X)}):f.type==="multicategory"&&(f.r2d=f.c2d=f.l2d=B,f.d2r=f.d2l_noadd=K,f.r2c=function(X){var q=K(X);return q!==void 0?q:f.fraction2r(.5)},f.r2c_just_indices=U,f.l2r=f.c2r=r,f.r2l=K,f.d2p=function(X){return f.l2p(f.r2c(X))},f.p2d=function(X){return B(ee(X))},f.r2p=f.d2p,f.p2r=ee,f.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:r(X)},f.setupMultiCategory=function(X){var q=f._traceIndices,se,Y,Z=f._matchGroup;if(Z&&f._categories.length===0){for(var ie in Z)if(ie!==w){var te=P[p.id2name(ie)];q=q.concat(te._traceIndices)}}var fe=[[0,{}],[0,{}]],de=[];for(se=0;se<q.length;se++){var we=X[q[se]];if(z in we){var Ae=we[z],Re=we._length||a.minRowLength(Ae);if(u(Ae[0])&&u(Ae[1]))for(Y=0;Y<Re;Y++){var Fe=Ae[0][Y],Se=Ae[1][Y];E(Fe)&&E(Se)&&(de.push([Fe,Se]),Fe in fe[0][1]||(fe[0][1][Fe]=fe[0][0]++),Se in fe[1][1]||(fe[1][1][Se]=fe[1][0]++))}}}for(de.sort(function(Te,Ee){var Ne=fe[0][1],He=Ne[Te[0]]-Ne[Ee[0]];if(He)return He;var _e=fe[1][1];return _e[Te[1]]-_e[Ee[1]]}),se=0;se<de.length;se++)N(de[se])}),f.fraction2r=function(X){var q=f.r2l(f.range[0]),se=f.r2l(f.range[1]);return f.l2r(q+X*(se-q))},f.r2fraction=function(X){var q=f.r2l(f.range[0]),se=f.r2l(f.range[1]);return(f.r2l(X)-q)/(se-q)},f.limitRange=function(X){var q=f.minallowed,se=f.maxallowed;if(!(q===void 0&&se===void 0)){X||(X="range");var Y=a.nestedProperty(f,X).get(),Z=a.simpleMap(Y,f.r2l),ie=Z[1]<Z[0];ie&&Z.reverse();var te=a.simpleMap([q,se],f.r2l);q!==void 0&&Z[0]<te[0]&&(Y[ie?1:0]=q),se!==void 0&&Z[1]>te[1]&&(Y[ie?0:1]=se)}},f.cleanRange=function(X,q){f._cleanRange(X,q),f.limitRange(X)},f._cleanRange=function(X,q){q||(q={}),X||(X="range");var se=a.nestedProperty(f,X).get(),Y,Z;if(f.type==="date"?Z=a.dfltRange(f.calendar):z==="y"?Z=S.DFLTRANGEY:f._name==="realaxis"?Z=[0,1]:Z=q.dfltRange||S.DFLTRANGEX,Z=Z.slice(),(f.rangemode==="tozero"||f.rangemode==="nonnegative")&&(Z[0]=0),!se||se.length!==2){a.nestedProperty(f,X).set(Z);return}var ie=se[0]===null,te=se[1]===null;for(f.type==="date"&&!f.autorange&&(se[0]=a.cleanDate(se[0],s,f.calendar),se[1]=a.cleanDate(se[1],s,f.calendar)),Y=0;Y<2;Y++)if(f.type==="date"){if(!a.isDateTime(se[Y],f.calendar)){f[X]=Z;break}if(f.r2l(se[0])===f.r2l(se[1])){var fe=a.constrain(f.r2l(se[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);se[0]=f.l2r(fe-1e3),se[1]=f.l2r(fe+1e3);break}}else{if(!x(se[Y]))if(!(ie||te)&&x(se[1-Y]))se[Y]=se[1-Y]*(Y?10:.1);else{f[X]=Z;break}if(se[Y]<-i?se[Y]=-i:se[Y]>i&&(se[Y]=i),se[0]===se[1]){var de=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=de,se[1]+=de}}},f.setScale=function(X){var q=P._size;if(f.overlaying){var se=p.getFromId({_fullLayout:P},f.overlaying);f.domain=se.domain}var Y=X&&f._r?"_r":"range",Z=f.calendar;f.cleanRange(Y);var ie=f.r2l(f[Y][0],Z),te=f.r2l(f[Y][1],Z),fe=z==="y";if(fe?(f._offset=q.t+(1-f.domain[1])*q.h,f._length=q.h*(f.domain[1]-f.domain[0]),f._m=f._length/(ie-te),f._b=-f._m*te):(f._offset=q.l+f.domain[0]*q.w,f._length=q.w*(f.domain[1]-f.domain[0]),f._m=f._length/(te-ie),f._b=-f._m*ie),f._rangebreaks=[],f._lBreaks=0,f._m2=0,f._B=[],f.rangebreaks){var de,we;if(f._rangebreaks=f.locateBreaks(Math.min(ie,te),Math.max(ie,te)),f._rangebreaks.length){for(de=0;de<f._rangebreaks.length;de++)we=f._rangebreaks[de],f._lBreaks+=Math.abs(we.max-we.min);var Ae=fe;ie>te&&(Ae=!Ae),Ae&&f._rangebreaks.reverse();var Re=Ae?-1:1;for(f._m2=Re*f._length/(Math.abs(te-ie)-f._lBreaks),f._B.push(-f._m2*(fe?te:ie)),de=0;de<f._rangebreaks.length;de++)we=f._rangebreaks[de],f._B.push(f._B[f._B.length-1]-Re*f._m2*(we.max-we.min));for(de=0;de<f._rangebreaks.length;de++)we=f._rangebreaks[de],we.pmin=ve(we.min),we.pmax=ve(we.max)}}if(!isFinite(f._m)||!isFinite(f._b)||f._length<0)throw P._replotting=!1,new Error("Something went wrong with axis scaling")},f.maskBreaks=function(X){var q=f.rangebreaks||[],se,Y,Z,ie,te;q._cachedPatterns||(q._cachedPatterns=q.map(function(Ne){return Ne.enabled&&Ne.bounds?a.simpleMap(Ne.bounds,Ne.pattern?h:f.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Ne){return Ne.enabled&&Ne.values?a.simpleMap(Ne.values,f.d2c).sort(a.sorterAsc):null}));for(var fe=0;fe<q.length;fe++){var de=q[fe];if(de.enabled){if(de.bounds){var we=de.pattern;switch(se=q._cachedPatterns[fe],Y=se[0],Z=se[1],we){case R:te=new Date(X),ie=te.getUTCDay(),Y>Z&&(Z+=7,ie<Y&&(ie+=7));break;case M:te=new Date(X);var Ae=te.getUTCHours(),Re=te.getUTCMinutes(),Fe=te.getUTCSeconds(),Se=te.getUTCMilliseconds();ie=Ae+(Re/60+Fe/3600+Se/36e5),Y>Z&&(Z+=24,ie<Y&&(ie+=24));break;case"":ie=X;break}if(ie>=Y&&ie<Z)return s}else for(var Te=q._cachedValues[fe],Ee=0;Ee<Te.length;Ee++)if(Y=Te[Ee],Z=Y+de.dvalue,X>=Y&&X<Z)return s}}return X},f.locateBreaks=function(X,q){var se,Y,Z,ie,te=[];if(!f.rangebreaks)return te;var fe=f.rangebreaks.slice().sort(function(_e,We){return _e.pattern===R&&We.pattern===M?-1:We.pattern===R&&_e.pattern===M?1:0}),de=function(_e,We){if(_e=a.constrain(_e,X,q),We=a.constrain(We,X,q),_e!==We){for(var tt=!0,Ke=0;Ke<te.length;Ke++){var qe=te[Ke];_e<qe.max&&We>=qe.min&&(_e<qe.min&&(qe.min=_e),We>qe.max&&(qe.max=We),tt=!1)}tt&&te.push({min:_e,max:We})}};for(se=0;se<fe.length;se++){var we=fe[se];if(we.enabled)if(we.bounds){var Ae=X,Re=q;we.pattern&&(Ae=Math.floor(Ae)),Y=a.simpleMap(we.bounds,we.pattern?h:f.r2l),Z=Y[0],ie=Y[1];var Fe=new Date(Ae),Se,Te;switch(we.pattern){case R:Te=m,Se=((ie<Z?7:0)+(ie-Z))*c,Ae+=Z*c-(Fe.getUTCDay()*c+Fe.getUTCHours()*b+Fe.getUTCMinutes()*v+Fe.getUTCSeconds()*l+Fe.getUTCMilliseconds());break;case M:Te=c,Se=((ie<Z?24:0)+(ie-Z))*b,Ae+=Z*b-(Fe.getUTCHours()*b+Fe.getUTCMinutes()*v+Fe.getUTCSeconds()*l+Fe.getUTCMilliseconds());break;default:Ae=Math.min(Y[0],Y[1]),Re=Math.max(Y[0],Y[1]),Te=Re-Ae,Se=Te}for(var Ee=Ae;Ee<Re;Ee+=Te)de(Ee,Ee+Se)}else for(var Ne=a.simpleMap(we.values,f.d2c),He=0;He<Ne.length;He++)Z=Ne[He],ie=Z+we.dvalue,de(Z,ie)}return te.sort(function(_e,We){return _e.min-We.min}),te},f.makeCalcdata=function(X,q,se){var Y,Z,ie,te,fe=f.type,de=fe==="date"&&X[q+"calendar"];if(q in X){if(Y=X[q],te=X._length||a.minRowLength(Y),a.isTypedArray(Y)&&(fe==="linear"||fe==="log")){if(te===Y.length)return Y;if(Y.subarray)return Y.subarray(0,te)}if(fe==="multicategory")return O(Y,te);for(Z=new Array(te),ie=0;ie<te;ie++)Z[ie]=f.d2c(Y[ie],0,de,se)}else{var we=q+"0"in X?f.d2c(X[q+"0"],0,de):0,Ae=X["d"+q]?Number(X["d"+q]):1;for(Y=X[{x:"y",y:"x"}[q]],te=X._length||Y.length,Z=new Array(te),ie=0;ie<te;ie++)Z[ie]=we+ie*Ae}if(f.rangebreaks)for(ie=0;ie<te;ie++)Z[ie]=f.maskBreaks(Z[ie]);return Z},f.isValidRange=function(X,q){return Array.isArray(X)&&X.length===2&&(q&&X[0]===null||x(f.r2l(X[0])))&&(q&&X[1]===null||x(f.r2l(X[1])))},f.getAutorangeDflt=function(X,q){var se=!f.isValidRange(X,"nullOk");return se&&q&&q.reverseDflt?se="reversed":X&&(X[0]===null&&X[1]===null?se=!0:X[0]===null&&X[1]!==null?se="min":X[0]!==null&&X[1]===null&&(se="max")),se},f.isReversed=function(){var X=f.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},f.isPtWithinRange=function(X,q){var se=f.c2l(X[z],null,q),Y=f.r2l(f.range[0]),Z=f.r2l(f.range[1]);return Y<Z?Y<=se&&se<=Z:Z<=se&&se<=Y},f._emptyCategories=function(){f._categories=[],f._categoriesMap={}},f.clearCalc=function(){var X=f._matchGroup;if(X){var q=null,se=null;for(var Y in X){var Z=P[p.id2name(Y)];if(Z._categories){q=Z._categories,se=Z._categoriesMap;break}}q&&se?(f._categories=q,f._categoriesMap=se):f._emptyCategories()}else f._emptyCategories();if(f._initialCategories)for(var ie=0;ie<f._initialCategories.length;ie++)N(f._initialCategories[ie])},f.sortByInitialCategories=function(){var X=[];if(f._emptyCategories(),f._initialCategories)for(var q=0;q<f._initialCategories.length;q++)N(f._initialCategories[q]);X=X.concat(f._traceIndices);var se=f._matchGroup;for(var Y in se)if(w!==Y){var Z=P[p.id2name(Y)];Z._categories=f._categories,Z._categoriesMap=f._categoriesMap,X=X.concat(Z._traceIndices)}return X};var Q=P._d3locale;f.type==="date"&&(f._dateFormat=Q?Q.timeFormat:C,f._extraFormat=P._extraFormat),f._separators=P.separators,f._numFormat=Q?Q.numberFormat:L,delete f._minDtick,delete f._forceTick0}},59652:function(W){W.exports=function(e){var y=["showexponent","showtickprefix","showticksuffix"],C=y.filter(function(L){return e[L]!==void 0}),a=function(L){return e[L]===e[C[0]]};if(C.every(a)||C.length===1)return e[C[0]]}},96115:function(W,V,e){var y=e(71828),C=e(7901).contrast,a=e(13838),L=e(59652),x=e(85501);W.exports=function(t,r,u,n,i){i||(i={});var s=u("labelalias");y.isPlainObject(s)||delete r.labelalias;var o=L(t),m=u("showticklabels");if(m){var c=i.font||{},b=r.color,v=r.ticklabelposition||"",l=v.indexOf("inside")!==-1?C(i.bgColor):b&&b!==a.color.dflt?b:c.color;if(y.coerceFont(u,"tickfont",{family:c.family,size:c.size,color:l}),!i.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&u("ticklabelstep"),i.noAng||u("tickangle"),n!=="category"){var p=u("tickformat");x(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),r.tickformatstops.length||delete r.tickformatstops,!i.noExp&&!p&&n!=="date"&&(u("showexponent",o),u("exponentformat"),u("minexponent"),u("separatethousands"))}}};function h(d,t){function r(n,i){return y.coerce(d,t,a.tickformatstops,n,i)}var u=r("enabled");u&&(r("dtickrange"),r("value"))}},38701:function(W,V,e){var y=e(71828),C=e(13838);W.exports=function(L,x,h,d){var t=d.isMinor,r=t?L.minor||{}:L,u=t?x.minor:x,n=t?C.minor:C,i=t?"minor.":"",s=y.coerce2(r,u,n,"ticklen",t?(x.ticklen||5)*.6:void 0),o=y.coerce2(r,u,n,"tickwidth",t?x.tickwidth||1:void 0),m=y.coerce2(r,u,n,"tickcolor",(t?x.tickcolor:void 0)||u.color),c=h(i+"ticks",!t&&d.outerTicks||s||o||m?"outside":"");c||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},26218:function(W,V,e){var y=e(66287),C=e(71828).isArrayOrTypedArray;W.exports=function(L,x,h,d,t){t||(t={});var r=t.isMinor,u=r?L.minor||{}:L,n=r?x.minor:x,i=r?"minor.":"";function s(S){var M=u[S];return M!==void 0?M:(n._template||{})[S]}var o=s("tick0"),m=s("dtick"),c=s("tickvals"),b=C(c)?"array":m?"linear":"auto",v=h(i+"tickmode",b);if(v==="auto"||v==="sync")h(i+"nticks");else if(v==="linear"){var l=n.dtick=y.dtick(m,d);n.tick0=y.tick0(o,d,x.calendar,l)}else if(d!=="multicategory"){var p=h(i+"tickvals");p===void 0?n.tickmode="auto":r||h("ticktext")}}},66847:function(W,V,e){var y=e(39898),C=e(73972),a=e(71828),L=e(91424),x=e(89298);W.exports=function(d,t,r,u){var n=d._fullLayout;if(t.length===0){x.redrawComponents(d);return}function i(M){var R=M.xaxis,T=M.yaxis;n._defs.select("#"+M.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),M.plot.call(L.setTranslate,R._offset,T._offset).call(L.setScale,1,1);var E=M.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(L.setPointGroupScale,1,1),E.selectAll(".textpoint").call(L.setTextPointsScale,1,1),E.call(L.hideOutsideRangePoints,M)}function s(M,R){var T=M.plotinfo,E=T.xaxis,A=T.yaxis,f=E._length,P=A._length,w=!!M.xr1,z=!!M.yr1,F=[];if(w){var H=a.simpleMap(M.xr0,E.r2l),_=a.simpleMap(M.xr1,E.r2l),B=H[1]-H[0],N=_[1]-_[0];F[0]=(H[0]*(1-R)+R*_[0]-H[0])/(H[1]-H[0])*f,F[2]=f*(1-R+R*N/B),E.range[0]=E.l2r(H[0]*(1-R)+R*_[0]),E.range[1]=E.l2r(H[1]*(1-R)+R*_[1])}else F[0]=0,F[2]=f;if(z){var O=a.simpleMap(M.yr0,A.r2l),U=a.simpleMap(M.yr1,A.r2l),K=O[1]-O[0],re=U[1]-U[0];F[1]=(O[1]*(1-R)+R*U[1]-O[1])/(O[0]-O[1])*P,F[3]=P*(1-R+R*re/K),A.range[0]=E.l2r(O[0]*(1-R)+R*U[0]),A.range[1]=A.l2r(O[1]*(1-R)+R*U[1])}else F[1]=0,F[3]=P;x.drawOne(d,E,{skipTitle:!0}),x.drawOne(d,A,{skipTitle:!0}),x.redrawComponents(d,[E._id,A._id]);var ae=w?f/F[2]:1,ue=z?P/F[3]:1,ve=w?F[0]:0,ee=z?F[1]:0,J=w?F[0]/F[2]*f:0,Q=z?F[1]/F[3]*P:0,X=E._offset-J,q=A._offset-Q;T.clipRect.call(L.setTranslate,ve,ee).call(L.setScale,1/ae,1/ue),T.plot.call(L.setTranslate,X,q).call(L.setScale,ae,ue),L.setPointGroupScale(T.zoomScalePts,1/ae,1/ue),L.setTextPointsScale(T.zoomScaleTxt,1/ae,1/ue)}var o;u&&(o=u());function m(){for(var M={},R=0;R<t.length;R++){var T=t[R],E=T.plotinfo.xaxis,A=T.plotinfo.yaxis;T.xr1&&(M[E._name+".range"]=T.xr1.slice()),T.yr1&&(M[A._name+".range"]=T.yr1.slice())}return o&&o(),C.call("relayout",d,M).then(function(){for(var f=0;f<t.length;f++)i(t[f].plotinfo)})}function c(){for(var M={},R=0;R<t.length;R++){var T=t[R],E=T.plotinfo.xaxis,A=T.plotinfo.yaxis;T.xr0&&(M[E._name+".range"]=T.xr0.slice()),T.yr0&&(M[A._name+".range"]=T.yr0.slice())}return C.call("relayout",d,M).then(function(){for(var f=0;f<t.length;f++)i(t[f].plotinfo)})}var b,v,l,p=y.ease(r.easing);d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(l),l=null,c()});function S(){v=Date.now();for(var M=Math.min(1,(v-b)/r.duration),R=p(M),T=0;T<t.length;T++)s(t[T],R);v-b>r.duration?(m(),l=window.cancelAnimationFrame(S)):l=window.requestAnimationFrame(S)}return b=Date.now(),l=window.requestAnimationFrame(S),Promise.resolve()}},951:function(W,V,e){var y=e(73972).traceIs,C=e(4322);W.exports=function(t,r,u,n){u("autotypenumbers",n.autotypenumbersDflt);var i=u("type",(n.splomStash||{}).type);i==="-"&&(a(r,n.data),r.type==="-"?r.type="linear":t.type=r.type)};function a(d,t){if(d.type==="-"){var r=d._id,u=r.charAt(0),n;r.indexOf("scene")!==-1&&(r=u);var i=L(t,r,u);if(i){if(i.type==="histogram"&&u==={v:"y",h:"x"}[i.orientation||"v"]){d.type="linear";return}var s=u+"calendar",o=i[s],m={noMultiCategory:!y(i,"cartesian")||y(i,"noMultiCategory")};if(i.type==="box"&&i._hasPreCompStats&&u==={h:"x",v:"y"}[i.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=d.autotypenumbers,h(i,u)){var c=x(i),b=[];for(n=0;n<t.length;n++){var v=t[n];!y(v,"box-violin")||(v[u+"axis"]||u)!==r||(v[c]!==void 0?b.push(v[c][0]):v.name!==void 0?b.push(v.name):b.push("text"),v[s]!==o&&(o=void 0))}d.type=C(b,o,m)}else if(i.type==="splom"){var l=i.dimensions,p=l[i._axesDim[r]];p.visible&&(d.type=C(p.values,o,m))}else d.type=C(i[u]||[i[u+"0"]],o,m)}}}function L(d,t,r){for(var u=0;u<d.length;u++){var n=d[u];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(h(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}function x(d){return{v:"x",h:"y"}[d.orientation||"v"]}function h(d,t){var r=x(d),u=y(d,"box-violin"),n=y(d._fullInput||{},"candlestick");return u&&!n&&t===r&&d[r]===void 0&&d[r+"0"]===void 0}},31137:function(W,V,e){var y=e(73972),C=e(71828);V.manageCommandObserver=function(t,r,u,n){var i={},s=!0;r&&r._commandObserver&&(i=r._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var o=V.hasSimpleAPICommandBindings(t,u,i.lookupTable);if(r&&r._commandObserver){if(o)return i;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,i}if(o){a(t,o,i.cache),i.check=function(){if(s){var v=a(t,o,i.cache);return v.changed&&n&&i.lookupTable[v.value]!==void 0&&(i.disable(),Promise.resolve(n({value:v.value,type:o.type,prop:o.prop,traces:o.traces,index:i.lookupTable[v.value]})).then(i.enable,i.enable)),v.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<m.length;c++)t._internalOn(m[c],i.check);i.remove=function(){for(var b=0;b<m.length;b++)t._removeInternalListener(m[b],i.check)}}else C.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){s=!1},i.enable=function(){s=!0},r&&(r._commandObserver=i),i},V.hasSimpleAPICommandBindings=function(t,r,u){var n,i=r.length,s;for(n=0;n<i;n++){var o,m=r[n],c=m.method,b=m.args;if(Array.isArray(b)||(b=[]),!c)return!1;var v=V.computeAPICommandBindings(t,c,b);if(v.length!==1)return!1;if(!s)s=v[0],Array.isArray(s.traces)&&s.traces.sort();else{if(o=v[0],o.type!==s.type||o.prop!==s.prop)return!1;if(Array.isArray(s.traces))if(Array.isArray(o.traces)){o.traces.sort();for(var l=0;l<s.traces.length;l++)if(s.traces[l]!==o.traces[l])return!1}else return!1;else if(o.prop!==s.prop)return!1}o=v[0];var p=o.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;u&&(u[p]=n)}return s};function a(t,r,u){var n,i,s,o=!1;if(r.type==="data")n=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=t._fullLayout;else return!1;return i=C.nestedProperty(n,r.prop).get(),s=u[r.type]=u[r.type]||{},s.hasOwnProperty(r.prop)&&s[r.prop]!==i&&(o=!0),s[r.prop]=i,{changed:o,value:i}}V.executeAPICommand=function(t,r,u){if(r==="skip")return Promise.resolve();var n=y.apiMethodRegistry[r],i=[t];Array.isArray(u)||(u=[]);for(var s=0;s<u.length;s++)i.push(u[s]);return n.apply(null,i).catch(function(o){return C.warn("API call to Plotly."+r+" rejected.",o),Promise.reject(o)})},V.computeAPICommandBindings=function(t,r,u){var n;switch(Array.isArray(u)||(u=[]),r){case"restyle":n=h(t,u);break;case"relayout":n=x(t,u);break;case"update":n=h(t,[u[0],u[2]]).concat(x(t,[u[1]]));break;case"animate":n=L(t,u);break;default:n=[]}return n};function L(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function x(t,r){var u=[],n=r[0],i={};if(typeof n=="string")i[n]=r[1];else if(C.isPlainObject(n))i=n;else return u;return d(i,function(s,o,m){u.push({type:"layout",prop:s,value:m})},"",0),u}function h(t,r){var u,n,i,s,o=[];if(n=r[0],i=r[1],u=r[2],s={},typeof n=="string")s[n]=i;else if(C.isPlainObject(n))s=n,u===void 0&&(u=i);else return o;return u===void 0&&(u=null),d(s,function(m,c,b){var v,l;if(Array.isArray(b)){l=b.slice();var p=Math.min(l.length,t.data.length);u&&(p=Math.min(p,u.length)),v=[];for(var S=0;S<p;S++)v[S]=u?u[S]:S}else l=b,v=u?u.slice():null;if(v===null)Array.isArray(l)&&(l=l[0]);else if(Array.isArray(v)){if(!Array.isArray(l)){var M=l;l=[];for(var R=0;R<v.length;R++)l[R]=M}l.length=Math.min(v.length,l.length)}o.push({type:"data",prop:m,traces:v,value:l})},"",0),o}function d(t,r,u,n){Object.keys(t).forEach(function(i){var s=t[i];if(i[0]!=="_"){var o=u+(n>0?".":"")+i;C.isPlainObject(s)?d(s,r,o,n+1):r(o,i,s)}})}},27670:function(W,V,e){var y=e(1426).extendFlat;V.Y=function(C,a){C=C||{},a=a||{};var L={valType:"info_array",editType:C.editType,items:[{valType:"number",min:0,max:1,editType:C.editType},{valType:"number",min:0,max:1,editType:C.editType}],dflt:[0,1]};C.name&&C.name+"",C.trace,a.description&&""+a.description;var x={x:y({},L,{}),y:y({},L,{}),editType:C.editType};return C.noGridCell||(x.row={valType:"integer",min:0,dflt:0,editType:C.editType},x.column={valType:"integer",min:0,dflt:0,editType:C.editType}),x},V.c=function(C,a,L,x){var h=x&&x.x||[0,1],d=x&&x.y||[0,1],t=a.grid;if(t){var r=L("domain.column");r!==void 0&&(r<t.columns?h=t._domains.x[r]:delete C.domain.column);var u=L("domain.row");u!==void 0&&(u<t.rows?d=t._domains.y[u]:delete C.domain.row)}var n=L("domain.x",h),i=L("domain.y",d);n[0]<n[1]||(C.domain.x=h.slice()),i[0]<i[1]||(C.domain.y=d.slice())}},41940:function(W){W.exports=function(V){var e=V.editType,y=V.colorEditType;y===void 0&&(y=e);var C={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:y},editType:e};return V.autoSize&&(C.size.dflt="auto"),V.autoColor&&(C.color.dflt="auto"),V.arrayOk&&(C.family.arrayOk=!0,C.size.arrayOk=!0,C.color.arrayOk=!0),C}},31391:function(W){W.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(W,V){V.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},V.axesNames=["lonaxis","lataxis"],V.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},V.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},V.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},V.clipPad=.001,V.precision=.1,V.landColor="#F0DC82",V.waterColor="#3399FF",V.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},V.sphereSVG={type:"Sphere"},V.fillLayers={ocean:1,land:1,lakes:1},V.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},V.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],V.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],V.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(W,V,e){var y=e(39898),C=e(27362),a=C.geoPath,L=C.geoDistance,x=e(65704),h=e(73972),d=e(71828),t=d.strTranslate,r=e(7901),u=e(91424),n=e(30211),i=e(74875),s=e(89298),o=e(71739).getAutoRange,m=e(28569),c=e(47322).prepSelect,b=e(47322).clearOutline,v=e(47322).selectOnClick,l=e(74455),p=e(78776),S=e(41327),M=e(90973),R=e(96892).zL;function T(w){this.id=w.id,this.graphDiv=w.graphDiv,this.container=w.container,this.topojsonURL=w.topojsonURL,this.isStatic=w.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=T.prototype;W.exports=function(z){return new T(z)},E.plot=function(w,z,F,H){var _=this;if(H)return _.update(w,z,!0);_._geoCalcData=w,_._fullLayout=z;var B=z[this.id],N=[],O=!1;for(var U in p.layerNameToAdjective)if(U!=="frame"&&B["show"+U]){O=!0;break}for(var K=!1,re=0;re<w.length;re++){var ae=w[0][0].trace;ae._geo=_,ae.locationmode&&(O=!0);var ue=ae.marker;if(ue){var ve=ue.angle,ee=ue.angleref;(ve||ee==="north"||ee==="previous")&&(K=!0)}}if(this._hasMarkerAngles=K,O){var J=M.getTopojsonName(B);(_.topojson===null||J!==_.topojsonName)&&(_.topojsonName=J,PlotlyGeoAssets.topojson[_.topojsonName]===void 0&&N.push(_.fetchTopojson()))}N=N.concat(S.fetchTraceGeoData(w)),F.push(new Promise(function(Q,X){Promise.all(N).then(function(){_.topojson=PlotlyGeoAssets.topojson[_.topojsonName],_.update(w,z),Q()}).catch(X)}))},E.fetchTopojson=function(){var w=this,z=M.getTopojsonPath(w.topojsonURL,w.topojsonName);return new Promise(function(F,H){y.json(z,function(_,B){if(_)return _.status===404?H(new Error(["plotly.js could not find topojson file at",z+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):H(new Error(["unexpected error while fetching topojson file at",z].join(" ")));PlotlyGeoAssets.topojson[w.topojsonName]=B,F()})})},E.update=function(w,z,F){var H=z[this.id];this.hasChoropleth=!1;for(var _=0;_<w.length;_++){var B=w[_],N=B[0].trace;N.type==="choropleth"&&(this.hasChoropleth=!0),N.visible===!0&&N._length>0&&N._module.calcGeoJSON(B,z)}if(!F){var O=this.updateProjection(w,z);if(O)return;(!this.viewInitial||this.scope!==H.scope)&&this.saveViewInitial(H)}this.scope=H.scope,this.updateBaseLayers(z,H),this.updateDims(z,H),this.updateFx(z,H),i.generalUpdatePerTraceModule(this.graphDiv,this,w,H);var U=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=U.selectAll(".point"),this.dataPoints.text=U.selectAll("text"),this.dataPaths.line=U.selectAll(".js-line");var K=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=K.selectAll("path"),this._render()},E.updateProjection=function(w,z){var F=this.graphDiv,H=z[this.id],_=z._size,B=H.domain,N=H.projection,O=H.lonaxis,U=H.lataxis,K=O._ax,re=U._ax,ae=this.projection=A(H),ue=[[_.l+_.w*B.x[0],_.t+_.h*(1-B.y[1])],[_.l+_.w*B.x[1],_.t+_.h*(1-B.y[0])]],ve=H.center||{},ee=N.rotation||{},J=O.range||[],Q=U.range||[];if(H.fitbounds){K._length=ue[1][0]-ue[0][0],re._length=ue[1][1]-ue[0][1],K.range=o(F,K),re.range=o(F,re);var X=(K.range[0]+K.range[1])/2,q=(re.range[0]+re.range[1])/2;if(H._isScoped)ve={lon:X,lat:q};else if(H._isClipped){ve={lon:X,lat:q},ee={lon:X,lat:q,roll:ee.roll};var se=N.type,Y=p.lonaxisSpan[se]/2||180,Z=p.lataxisSpan[se]/2||90;J=[X-Y,X+Y],Q=[q-Z,q+Z]}else ve={lon:X,lat:q},ee={lon:X,lat:ee.lat,roll:ee.roll}}ae.center([ve.lon-ee.lon,ve.lat-ee.lat]).rotate([-ee.lon,-ee.lat,ee.roll]).parallels(N.parallels);var ie=P(J,Q);ae.fitExtent(ue,ie);var te=this.bounds=ae.getBounds(ie),fe=this.fitScale=ae.scale(),de=ae.translate();if(H.fitbounds){var we=ae.getBounds(P(K.range,re.range)),Ae=Math.min((te[1][0]-te[0][0])/(we[1][0]-we[0][0]),(te[1][1]-te[0][1])/(we[1][1]-we[0][1]));isFinite(Ae)?ae.scale(Ae*fe):d.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ae.scale(N.scale*fe);var Re=this.midPt=[(te[0][0]+te[1][0])/2,(te[0][1]+te[1][1])/2];if(ae.translate([de[0]+(Re[0]-de[0]),de[1]+(Re[1]-de[1])]).clipExtent(te),H._isAlbersUsa){var Fe=ae([ve.lon,ve.lat]),Se=ae.translate();ae.translate([Se[0]-(Fe[0]-Se[0]),Se[1]-(Fe[1]-Se[1])])}},E.updateBaseLayers=function(w,z){var F=this,H=F.topojson,_=F.layers,B=F.basePaths;function N(ue){return ue==="lonaxis"||ue==="lataxis"}function O(ue){return!!p.lineLayers[ue]}function U(ue){return!!p.fillLayers[ue]}var K=this.hasChoropleth?p.layersForChoropleth:p.layers,re=K.filter(function(ue){return O(ue)||U(ue)?z["show"+ue]:N(ue)?z[ue].showgrid:!0}),ae=F.framework.selectAll(".layer").data(re,String);ae.exit().each(function(ue){delete _[ue],delete B[ue],y.select(this).remove()}),ae.enter().append("g").attr("class",function(ue){return"layer "+ue}).each(function(ue){var ve=_[ue]=y.select(this);ue==="bg"?F.bgRect=ve.append("rect").style("pointer-events","all"):N(ue)?B[ue]=ve.append("path").style("fill","none"):ue==="backplot"?ve.append("g").classed("choroplethlayer",!0):ue==="frontplot"?ve.append("g").classed("scatterlayer",!0):O(ue)?B[ue]=ve.append("path").style("fill","none").style("stroke-miterlimit",2):U(ue)&&(B[ue]=ve.append("path").style("stroke","none"))}),ae.order(),ae.each(function(ue){var ve=B[ue],ee=p.layerNameToAdjective[ue];ue==="frame"?ve.datum(p.sphereSVG):O(ue)||U(ue)?ve.datum(R(H,H.objects[ue])):N(ue)&&ve.datum(f(ue,z,w)).call(r.stroke,z[ue].gridcolor).call(u.dashLine,z[ue].griddash,z[ue].gridwidth),O(ue)?ve.call(r.stroke,z[ee+"color"]).call(u.dashLine,"",z[ee+"width"]):U(ue)&&ve.call(r.fill,z[ee+"color"])})},E.updateDims=function(w,z){var F=this.bounds,H=(z.framewidth||0)/2,_=F[0][0]-H,B=F[0][1]-H,N=F[1][0]-_+H,O=F[1][1]-B+H;u.setRect(this.clipRect,_,B,N,O),this.bgRect.call(u.setRect,_,B,N,O).call(r.fill,z.bgcolor),this.xaxis._offset=_,this.xaxis._length=N,this.yaxis._offset=B,this.yaxis._length=O},E.updateFx=function(w,z){var F=this,H=F.graphDiv,_=F.bgRect,B=w.dragmode,N=w.clickmode;if(F.isStatic)return;function O(){var ae=F.viewInitial,ue={};for(var ve in ae)ue[F.id+"."+ve]=ae[ve];h.call("_guiRelayout",H,ue),H.emit("plotly_doubleclick",null)}function U(ae){return F.projection.invert([ae[0]+F.xaxis._offset,ae[1]+F.yaxis._offset])}var K=function(ae,ue){if(ue.isRect){var ve=ae.range={};ve[F.id]=[U([ue.xmin,ue.ymin]),U([ue.xmax,ue.ymax])]}else{var ee=ae.lassoPoints={};ee[F.id]=ue.map(U)}},re={element:F.bgRect.node(),gd:H,plotinfo:{id:F.id,xaxis:F.xaxis,yaxis:F.yaxis,fillRangeItems:K},xaxes:[F.xaxis],yaxes:[F.yaxis],subplot:F.id,clickFn:function(ae){ae===2&&b(H)}};B==="pan"?(_.node().onmousedown=null,_.call(l(F,z)),_.on("dblclick.zoom",O),H._context._scrollZoom.geo||_.on("wheel.zoom",null)):(B==="select"||B==="lasso")&&(_.on(".zoom",null),re.prepFn=function(ae,ue,ve){c(ae,ue,ve,re,B)},m.init(re)),_.on("mousemove",function(){var ae=F.projection.invert(d.getPositionFromD3Event());if(!ae)return m.unhover(H,y.event);F.xaxis.p2c=function(){return ae[0]},F.yaxis.p2c=function(){return ae[1]},n.hover(H,y.event,F.id)}),_.on("mouseout",function(){H._dragging||m.unhover(H,y.event)}),_.on("click",function(){B!=="select"&&B!=="lasso"&&(N.indexOf("select")>-1&&v(y.event,H,[F.xaxis],[F.yaxis],F.id,re),N.indexOf("event")>-1&&n.click(H,y.event))})},E.makeFramework=function(){var w=this,z=w.graphDiv,F=z._fullLayout,H="clip"+F._uid+w.id;w.clipDef=F._clips.append("clipPath").attr("id",H),w.clipRect=w.clipDef.append("rect"),w.framework=y.select(w.container).append("g").attr("class","geo "+w.id).call(u.setClipUrl,H,z),w.project=function(_){var B=w.projection(_);return B?[B[0]-w.xaxis._offset,B[1]-w.yaxis._offset]:[null,null]},w.xaxis={_id:"x",c2p:function(_){return w.project(_)[0]}},w.yaxis={_id:"y",c2p:function(_){return w.project(_)[1]}},w.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},s.setConvert(w.mockAxis,F)},E.saveViewInitial=function(w){var z=w.center||{},F=w.projection,H=F.rotation||{};this.viewInitial={fitbounds:w.fitbounds,"projection.scale":F.scale};var _;w._isScoped?_={"center.lon":z.lon,"center.lat":z.lat}:w._isClipped?_={"projection.rotation.lon":H.lon,"projection.rotation.lat":H.lat}:_={"center.lon":z.lon,"center.lat":z.lat,"projection.rotation.lon":H.lon},d.extendFlat(this.viewInitial,_)},E.render=function(w){this._hasMarkerAngles&&w?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var w=this.projection,z=w.getPath(),F;function H(B){var N=w(B.lonlat);return N?t(N[0],N[1]):null}function _(B){return w.isLonLatOverEdges(B.lonlat)?"none":null}for(F in this.basePaths)this.basePaths[F].attr("d",z);for(F in this.dataPaths)this.dataPaths[F].attr("d",function(B){return z(B.geojson)});for(F in this.dataPoints)this.dataPoints[F].attr("display",_).attr("transform",H)};function A(w){var z=w.projection,F=z.type,H=p.projNames[F];H="geo"+d.titleCase(H);for(var _=C[H]||x[H],B=_(),N=w._isSatellite?Math.acos(1/z.distance)*180/Math.PI:w._isClipped?p.lonaxisSpan[F]/2:null,O=["center","rotate","parallels","clipExtent"],U=function(ae){return ae?B:[]},K=0;K<O.length;K++){var re=O[K];typeof B[re]!="function"&&(B[re]=U)}return B.isLonLatOverEdges=function(ae){if(B(ae)===null)return!0;if(N){var ue=B.rotate(),ve=L(ae,[-ue[0],-ue[1]]),ee=N*Math.PI/180;return ve>ee}else return!1},B.getPath=function(){return a().projection(B)},B.getBounds=function(ae){return B.getPath().bounds(ae)},B.precision(p.precision),w._isSatellite&&B.tilt(z.tilt).distance(z.distance),N&&B.clipAngle(N-p.clipPad),B}function f(w,z,F){var H=1e-6,_=2.5,B=z[w],N=p.scopeDefaults[z.scope],O,U,K;w==="lonaxis"?(O=N.lonaxisRange,U=N.lataxisRange,K=function(q,se){return[q,se]}):w==="lataxis"&&(O=N.lataxisRange,U=N.lonaxisRange,K=function(q,se){return[se,q]});var re={type:"linear",range:[O[0],O[1]-H],tick0:B.tick0,dtick:B.dtick};s.setConvert(re,F);var ae=s.calcTicks(re);!z.isScoped&&w==="lonaxis"&&ae.pop();for(var ue=ae.length,ve=new Array(ue),ee=0;ee<ue;ee++)for(var J=ae[ee].x,Q=ve[ee]=[],X=U[0];X<U[1]+_;X+=_)Q.push(K(J,X));return{type:"MultiLineString",coordinates:ve}}function P(w,z){var F=p.clipPad,H=w[0]+F,_=w[1]-F,B=z[0]+F,N=z[1]-F;H>0&&_<0&&(_+=360);var O=(_-H)/4;return{type:"Polygon",coordinates:[[[H,B],[H,N],[H+O,N],[H+2*O,N],[H+3*O,N],[_,N],[_,B],[_-O,B],[_-2*O,B],[_-3*O,B],[H,B]]]}}},44622:function(W,V,e){var y=e(27659).AU,C=e(71828).counterRegex,a=e(69082),L="geo",x=C(L),h={};h[L]={valType:"subplotid",dflt:L,editType:"calc"};function d(u){for(var n=u._fullLayout,i=u.calcdata,s=n._subplots[L],o=0;o<s.length;o++){var m=s[o],c=y(i,L,m),b=n[m],v=b._subplot;v||(v=a({id:m,graphDiv:u,container:n._geolayer.node(),topojsonURL:u._context.topojsonURL,staticPlot:u._context.staticPlot}),n[m]._subplot=v),v.plot(c,n,u._promises)}}function t(u,n,i,s){for(var o=s._subplots[L]||[],m=0;m<o.length;m++){var c=o[m],b=s[c]._subplot;!n[c]&&b&&(b.framework.remove(),b.clipDef.remove())}}function r(u){for(var n=u._fullLayout,i=n._subplots[L],s=0;s<i.length;s++){var o=n[i[s]],m=o._subplot;m.updateFx(n,o)}}W.exports={attr:L,name:L,idRoot:L,idRegex:x,attrRegex:x,attributes:h,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:d,updateFx:r,clean:t}},77519:function(W,V,e){var y=e(22399),C=e(27670).Y,a=e(79952).P,L=e(78776),x=e(30962).overrideAll,h=e(78607),d={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:y.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},t=W.exports=x({domain:C({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:h(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:h(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:y.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:y.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:y.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:y.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:y.background},lonaxis:d,lataxis:d},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(W,V,e){var y=e(71828),C=e(49119),a=e(27659).NG,L=e(78776),x=e(77519),h=L.axesNames;W.exports=function(r,u,n){C(r,u,n,{type:"geo",attributes:x,handleDefaults:d,fullData:n,partition:"y"})};function d(t,r,u,n){var i=a(n.fullData,"geo",n.id),s=i.map(function(Q){return Q._expandedIndex}),o=u("resolution"),m=u("scope"),c=L.scopeDefaults[m],b=u("projection.type",c.projType),v=r._isAlbersUsa=b==="albers usa";v&&(m=r.scope="usa");var l=r._isScoped=m!=="world",p=r._isSatellite=b==="satellite",S=r._isConic=b.indexOf("conic")!==-1||b==="albers",M=r._isClipped=!!L.lonaxisSpan[b];if(t.visible===!1){var R=y.extendDeep({},r._template);R.showcoastlines=!1,R.showcountries=!1,R.showframe=!1,R.showlakes=!1,R.showland=!1,R.showocean=!1,R.showrivers=!1,R.showsubunits=!1,R.lonaxis&&(R.lonaxis.showgrid=!1),R.lataxis&&(R.lataxis.showgrid=!1),r._template=R}for(var T=u("visible"),E,A=0;A<h.length;A++){var f=h[A],P=[30,10][A],w;if(l)w=c[f+"Range"];else{var z=L[f+"Span"],F=(z[b]||z["*"])/2,H=u("projection.rotation."+f.substr(0,3),c.projRotate[A]);w=[H-F,H+F]}var _=u(f+".range",w);u(f+".tick0"),u(f+".dtick",P),E=u(f+".showgrid",T?void 0:!1),E&&(u(f+".gridcolor"),u(f+".gridwidth"),u(f+".griddash")),r[f]._ax={type:"linear",_id:f.slice(0,3),_traceIndices:s,setScale:y.identity,c2l:y.identity,r2l:y.identity,autorange:!0,range:_.slice(),_m:1,_input:{}}}var B=r.lonaxis.range,N=r.lataxis.range,O=B[0],U=B[1];O>0&&U<0&&(U+=360);var K=(O+U)/2,re;if(!v){var ae=l?c.projRotate:[K,0,0];re=u("projection.rotation.lon",ae[0]),u("projection.rotation.lat",ae[1]),u("projection.rotation.roll",ae[2]),E=u("showcoastlines",!l&&T),E&&(u("coastlinecolor"),u("coastlinewidth")),E=u("showocean",T?void 0:!1),E&&u("oceancolor")}var ue,ve;if(v?(ue=-96.6,ve=38.7):(ue=l?K:re,ve=(N[0]+N[1])/2),u("center.lon",ue),u("center.lat",ve),p&&(u("projection.tilt"),u("projection.distance")),S){var ee=c.projParallels||[0,60];u("projection.parallels",ee)}u("projection.scale"),E=u("showland",T?void 0:!1),E&&u("landcolor"),E=u("showlakes",T?void 0:!1),E&&u("lakecolor"),E=u("showrivers",T?void 0:!1),E&&(u("rivercolor"),u("riverwidth")),E=u("showcountries",l&&m!=="usa"&&T),E&&(u("countrycolor"),u("countrywidth")),(m==="usa"||m==="north america"&&o===50)&&(u("showsubunits",T),u("subunitcolor"),u("subunitwidth")),l||(E=u("showframe",T),E&&(u("framecolor"),u("framewidth"))),u("bgcolor");var J=u("fitbounds");J&&(delete r.projection.scale,l?(delete r.center.lon,delete r.center.lat):M?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(W,V,e){var y=e(39898),C=e(71828),a=e(73972),L=Math.PI/180,x=180/Math.PI,h={cursor:"pointer"},d={cursor:"auto"};function t(f,P){var w=f.projection,z;return P._isScoped?z=n:P._isClipped?z=s:z=i,z(f,w)}W.exports=t;function r(f,P){return y.behavior.zoom().translate(P.translate()).scale(P.scale())}function u(f,P,w){var z=f.id,F=f.graphDiv,H=F.layout,_=H[z],B=F._fullLayout,N=B[z],O={},U={};function K(re,ae){O[z+"."+re]=C.nestedProperty(_,re).get(),a.call("_storeDirectGUIEdit",H,B._preGUI,O);var ue=C.nestedProperty(N,re);ue.get()!==ae&&(ue.set(ae),C.nestedProperty(_,re).set(ae),U[z+"."+re]=ae)}w(K),K("projection.scale",P.scale()/f.fitScale),K("fitbounds",!1),F.emit("plotly_relayout",U)}function n(f,P){var w=r(f,P);function z(){y.select(this).style(h)}function F(){P.scale(y.event.scale).translate(y.event.translate),f.render(!0);var B=P.invert(f.midPt);f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/f.fitScale,"geo.center.lon":B[0],"geo.center.lat":B[1]})}function H(B){var N=P.invert(f.midPt);B("center.lon",N[0]),B("center.lat",N[1])}function _(){y.select(this).style(d),u(f,P,H)}return w.on("zoomstart",z).on("zoom",F).on("zoomend",_),w}function i(f,P){var w=r(f,P),z=2,F,H,_,B,N,O,U,K,re;function ae(X){return P.invert(X)}function ue(X){var q=ae(X);if(!q)return!0;var se=P(q);return Math.abs(se[0]-X[0])>z||Math.abs(se[1]-X[1])>z}function ve(){y.select(this).style(h),F=y.mouse(this),H=P.rotate(),_=P.translate(),B=H,N=ae(F)}function ee(){if(O=y.mouse(this),ue(F)){w.scale(P.scale()),w.translate(P.translate());return}P.scale(y.event.scale),P.translate([_[0],y.event.translate[1]]),N?ae(O)&&(K=ae(O),U=[B[0]+(K[0]-N[0]),H[1],H[2]],P.rotate(U),B=U):(F=O,N=ae(F)),re=!0,f.render(!0);var X=P.rotate(),q=P.invert(f.midPt);f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/f.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-X[0]})}function J(){y.select(this).style(d),re&&u(f,P,Q)}function Q(X){var q=P.rotate(),se=P.invert(f.midPt);X("projection.rotation.lon",-q[0]),X("center.lon",se[0]),X("center.lat",se[1])}return w.on("zoomstart",ve).on("zoom",ee).on("zoomend",J),w}function s(f,P){P.rotate(),P.scale();var w=r(f,P),z=A(w,"zoomstart","zoom","zoomend"),F=0,H=w.on,_;w.on("zoomstart",function(){y.select(this).style(h);var K=y.mouse(this),re=P.rotate(),ae=re,ue=P.translate(),ve=m(re);_=o(P,K),H.call(w,"zoom",function(){var ee=y.mouse(this);if(P.scale(y.event.scale),!_)K=ee,_=o(P,K);else if(o(P,ee)){P.rotate(re).translate(ue);var J=o(P,ee),Q=b(_,J),X=M(c(ve,Q)),q=v(X,_,ae);(!isFinite(q[0])||!isFinite(q[1])||!isFinite(q[2]))&&(q=ae),P.rotate(q),ae=q}N(z.of(this,arguments))}),B(z.of(this,arguments))}).on("zoomend",function(){y.select(this).style(d),H.call(w,"zoom",null),O(z.of(this,arguments)),u(f,P,U)}).on("zoom.redraw",function(){f.render(!0);var K=P.rotate();f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/f.fitScale,"geo.projection.rotation.lon":-K[0],"geo.projection.rotation.lat":-K[1]})});function B(K){F++||K({type:"zoomstart"})}function N(K){K({type:"zoom"})}function O(K){--F||K({type:"zoomend"})}function U(K){var re=P.rotate();K("projection.rotation.lon",-re[0]),K("projection.rotation.lat",-re[1])}return y.rebind(w,z,"on")}function o(f,P){var w=f.invert(P);return w&&isFinite(w[0])&&isFinite(w[1])&&R(w)}function m(f){var P=.5*f[0]*L,w=.5*f[1]*L,z=.5*f[2]*L,F=Math.sin(P),H=Math.cos(P),_=Math.sin(w),B=Math.cos(w),N=Math.sin(z),O=Math.cos(z);return[H*B*O+F*_*N,F*B*O-H*_*N,H*_*O+F*B*N,H*B*N-F*_*O]}function c(f,P){var w=f[0],z=f[1],F=f[2],H=f[3],_=P[0],B=P[1],N=P[2],O=P[3];return[w*_-z*B-F*N-H*O,w*B+z*_+F*O-H*N,w*N-z*O+F*_+H*B,w*O+z*N-F*B+H*_]}function b(f,P){if(!(!f||!P)){var w=E(f,P),z=Math.sqrt(T(w,w)),F=.5*Math.acos(Math.max(-1,Math.min(1,T(f,P)))),H=Math.sin(F)/z;return z&&[Math.cos(F),w[2]*H,-w[1]*H,w[0]*H]}}function v(f,P,w){var z=S(P,2,f[0]);z=S(z,1,f[1]),z=S(z,0,f[2]-w[2]);var F=P[0],H=P[1],_=P[2],B=z[0],N=z[1],O=z[2],U=Math.atan2(H,F)*x,K=Math.sqrt(F*F+H*H),re,ae;Math.abs(N)>K?(ae=(N>0?90:-90)-U,re=0):(ae=Math.asin(N/K)*x-U,re=Math.sqrt(K*K-N*N));var ue=180-ae-2*U,ve=(Math.atan2(O,B)-Math.atan2(_,re))*x,ee=(Math.atan2(O,B)-Math.atan2(_,-re))*x,J=l(w[0],w[1],ae,ve),Q=l(w[0],w[1],ue,ee);return J<=Q?[ae,ve,w[2]]:[ue,ee,w[2]]}function l(f,P,w,z){var F=p(w-f),H=p(z-P);return Math.sqrt(F*F+H*H)}function p(f){return(f%360+540)%360-180}function S(f,P,w){var z=w*L,F=f.slice(),H=P===0?1:0,_=P===2?1:2,B=Math.cos(z),N=Math.sin(z);return F[H]=f[H]*B-f[_]*N,F[_]=f[_]*B+f[H]*N,F}function M(f){return[Math.atan2(2*(f[0]*f[1]+f[2]*f[3]),1-2*(f[1]*f[1]+f[2]*f[2]))*x,Math.asin(Math.max(-1,Math.min(1,2*(f[0]*f[2]-f[3]*f[1]))))*x,Math.atan2(2*(f[0]*f[3]+f[1]*f[2]),1-2*(f[2]*f[2]+f[3]*f[3]))*x]}function R(f){var P=f[0]*L,w=f[1]*L,z=Math.cos(w);return[z*Math.cos(P),z*Math.sin(P),Math.sin(w)]}function T(f,P){for(var w=0,z=0,F=f.length;z<F;++z)w+=f[z]*P[z];return w}function E(f,P){return[f[1]*P[2]-f[2]*P[1],f[2]*P[0]-f[0]*P[2],f[0]*P[1]-f[1]*P[0]]}function A(f){for(var P=0,w=arguments.length,z=[];++P<w;)z.push(arguments[P]);var F=y.dispatch.apply(null,z);return F.of=function(H,_){return function(B){var N;try{N=B.sourceEvent=y.event,B.target=f,y.event=B,F[B.type].apply(H,_)}finally{y.event=N}}},F}},27659:function(W,V,e){var y=e(73972),C=e(85555).SUBPLOT_PATTERN;V.AU=function(a,L,x){var h=y.subplotsRegistry[L];if(!h)return[];for(var d=h.attr,t=[],r=0;r<a.length;r++){var u=a[r],n=u[0].trace;n[d]===x&&t.push(u)}return t},V.a0=function(a,L){var x=[],h=[],d;if(typeof L=="string"?d=y.getModule(L).plot:typeof L=="function"?d=L:d=L.plot,!d)return[x,a];for(var t=0;t<a.length;t++){var r=a[t],u=r[0].trace;u.visible!==!0||u._length===0||(u._module&&u._module.plot===d?x.push(r):h.push(r))}return[x,h]},V.NG=function(L,x,h){if(!y.subplotsRegistry[x])return[];var d=y.subplotsRegistry[x].attr,t=[],r,u,n;if(x==="gl2d"){var i=h.match(C);u="x"+i[1],n="y"+i[2]}for(var s=0;s<L.length;s++)r=L[s],x==="gl2d"&&y.traceIs(r,"gl2d")?r[d[0]]===u&&r[d[1]]===n&&t.push(r):r[d]===h&&t.push(r);return t}},75071:function(W,V,e){var y=e(16825),C=e(1195),a=e(48956),L=e(85555),x=e(38520);W.exports=d;function h(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function d(t){var r=t.mouseContainer,u=t.glplot,n=new h(r,u);function i(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function s(){for(var m=t.graphDiv._fullLayout._axisConstraintGroups,c=t.xaxis._id,b=t.yaxis._id,v=0;v<m.length;v++)if(m[v][c]!==-1){if(m[v][b]!==-1)return!0;break}return!1}n.mouseListener=y(r,o),r.addEventListener("touchstart",function(m){var c=a(m.changedTouches[0],r);o(0,c[0],c[1]),o(1,c[0],c[1]),m.preventDefault()},x?{passive:!1}:!1),r.addEventListener("touchmove",function(m){m.preventDefault();var c=a(m.changedTouches[0],r);o(1,c[0],c[1]),m.preventDefault()},x?{passive:!1}:!1),r.addEventListener("touchend",function(m){o(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},x?{passive:!1}:!1);function o(m,c,b){var v=t.calcDataBox(),l=u.viewBox,p=n.lastPos[0],S=n.lastPos[1],M=L.MINDRAG*u.pixelRatio,R=L.MINZOOM*u.pixelRatio,T,E;c*=u.pixelRatio,b*=u.pixelRatio,b=l[3]-l[1]-b;function A(H,_,B){var N=Math.min(_,B),O=Math.max(_,B);N!==O?(v[H]=N,v[H+2]=O,n.dataBox=v,t.setRanges(v)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(m){var f=c/(l[2]-l[0])*(v[2]-v[0])+v[0],P=b/(l[3]-l[1])*(v[3]-v[1])+v[1];n.boxInited||(n.boxStart[0]=f,n.boxStart[1]=P,n.dragStart[0]=c,n.dragStart[1]=b),n.boxEnd[0]=f,n.boxEnd[1]=P,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var w=Math.abs(n.dragStart[0]-c)<R,z=Math.abs(n.dragStart[1]-b)<R;if(s()&&!(w&&z)){T=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var F=(v[3]-v[1])/(v[2]-v[0]);Math.abs(T*F)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(T)*F*(E>=0?1:-1),n.boxEnd[1]<v[1]?(n.boxEnd[1]=v[1],n.boxEnd[0]=n.boxStart[0]+(v[1]-n.boxStart[1])/Math.abs(F)):n.boxEnd[1]>v[3]&&(n.boxEnd[1]=v[3],n.boxEnd[0]=n.boxStart[0]+(v[3]-n.boxStart[1])/Math.abs(F))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/F*(T>=0?1:-1),n.boxEnd[0]<v[0]?(n.boxEnd[0]=v[0],n.boxEnd[1]=n.boxStart[1]+(v[0]-n.boxStart[0])*Math.abs(F)):n.boxEnd[0]>v[2]&&(n.boxEnd[0]=v[2],n.boxEnd[1]=n.boxStart[1]+(v[2]-n.boxStart[0])*Math.abs(F)))}else w&&(n.boxEnd[0]=n.boxStart[0]),z&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(T=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],T||E?(T&&(A(0,n.boxStart[0],n.boxEnd[0]),t.xaxis.autorange=!1),E&&(A(1,n.boxStart[1],n.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=c,n.dragStart[1]=b),Math.abs(n.dragStart[0]-c)<M&&(c=n.dragStart[0]),Math.abs(n.dragStart[1]-b)<M&&(b=n.dragStart[1]),T=(p-c)*(v[2]-v[0])/(u.viewBox[2]-u.viewBox[0]),E=(S-b)*(v[3]-v[1])/(u.viewBox[3]-u.viewBox[1]),v[0]+=T,v[2]+=T,v[1]+=E,v[3]+=E,t.setRanges(v),n.panning=!0,n.lastInputTime=Date.now(),i(),t.cameraChanged(),t.handleAnnotations()):n.panning&&(n.panning=!1,t.relayoutCallback());break}n.lastPos[0]=c,n.lastPos[1]=b}return n.wheelListener=C(r,function(m,c){if(!t.scrollZoom)return!1;var b=t.calcDataBox(),v=u.viewBox,l=n.lastPos[0],p=n.lastPos[1],S=Math.exp(5*c/(v[3]-v[1])),M=l/(v[2]-v[0])*(b[2]-b[0])+b[0],R=p/(v[3]-v[1])*(b[3]-b[1])+b[1];return b[0]=(b[0]-M)*S+M,b[2]=(b[2]-M)*S+M,b[1]=(b[1]-R)*S+R,b[3]=(b[3]-R)*S+R,t.setRanges(b),n.lastInputTime=Date.now(),i(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),n}},82961:function(W,V,e){var y=e(89298),C=e(78614);function a(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=a.prototype,x=["xaxis","yaxis"];L.merge=function(d){this.titleEnable=!1,this.backgroundColor=C(d.plot_bgcolor);var t,r,u,n,i,s,o,m,c,b,v;for(b=0;b<2;++b){t=x[b];var l=t.charAt(0);for(r=d[this.scene[t]._name],u=r.title.text===this.scene.fullLayout._dfltTitle[l]?"":r.title.text,v=0;v<=2;v+=2)this.labelEnable[b+v]=!1,this.labels[b+v]=u,this.labelColor[b+v]=C(r.title.font.color),this.labelFont[b+v]=r.title.font.family,this.labelSize[b+v]=r.title.font.size,this.labelPad[b+v]=this.getLabelPad(t,r),this.tickEnable[b+v]=!1,this.tickColor[b+v]=C((r.tickfont||{}).color),this.tickAngle[b+v]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[b+v]=this.getTickPad(r),this.tickMarkLength[b+v]=0,this.tickMarkWidth[b+v]=r.tickwidth||0,this.tickMarkColor[b+v]=C(r.tickcolor),this.borderLineEnable[b+v]=!1,this.borderLineColor[b+v]=C(r.linecolor),this.borderLineWidth[b+v]=r.linewidth||0;o=this.hasSharedAxis(r),i=this.hasAxisInDfltPos(t,r)&&!o,s=this.hasAxisInAltrPos(t,r)&&!o,n=r.mirror||!1,m=o?String(n).indexOf("all")!==-1:!!n,c=o?n==="allticks":String(n).indexOf("ticks")!==-1,i?this.labelEnable[b]=!0:s&&(this.labelEnable[b+2]=!0),i?this.tickEnable[b]=r.showticklabels:s&&(this.tickEnable[b+2]=r.showticklabels),(i||m)&&(this.borderLineEnable[b]=r.showline),(s||m)&&(this.borderLineEnable[b+2]=r.showline),(i||c)&&(this.tickMarkLength[b]=this.getTickMarkLength(r)),(s||c)&&(this.tickMarkLength[b+2]=this.getTickMarkLength(r)),this.gridLineEnable[b]=r.showgrid,this.gridLineColor[b]=C(r.gridcolor),this.gridLineWidth[b]=r.gridwidth,this.zeroLineEnable[b]=r.zeroline,this.zeroLineColor[b]=C(r.zerolinecolor),this.zeroLineWidth[b]=r.zerolinewidth}},L.hasSharedAxis=function(d){var t=this.scene,r=t.fullLayout._subplots.gl2d,u=y.findSubplotsWithAxis(r,d);return u.indexOf(t.id)!==0},L.hasAxisInDfltPos=function(d,t){var r=t.side;if(d==="xaxis")return r==="bottom";if(d==="yaxis")return r==="left"},L.hasAxisInAltrPos=function(d,t){var r=t.side;if(d==="xaxis")return r==="top";if(d==="yaxis")return r==="right"},L.getLabelPad=function(d,t){var r=1.5,u=t.title.font.size,n=t.showticklabels;if(d==="xaxis")return t.side==="top"?-10+u*(r+(n?1:0)):-10+u*(r+(n?.5:0));if(d==="yaxis")return t.side==="right"?10+u*(r+(n?1:.5)):10+u*(r+(n?.5:0))},L.getTickPad=function(d){return d.ticks==="outside"?10+d.ticklen:15},L.getTickMarkLength=function(d){if(!d.ticks)return 0;var t=d.ticklen;return d.ticks==="inside"?-t:t};function h(d){return new a(d)}W.exports=h},4796:function(W,V,e){var y=e(30962).overrideAll,C=e(92918),a=e(10820),L=e(77922),x=e(85555),h=e(93612),d=e(528),t=e(27659).NG;V.name="gl2d",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=x.idRegex,V.attrRegex=x.attrRegex,V.attributes=e(89502),V.supplyLayoutDefaults=function(r,u,n){u._has("cartesian")||h.supplyLayoutDefaults(r,u,n)},V.layoutAttrOverrides=y(h.layoutAttributes,"plot","from-root"),V.baseLayoutAttrOverrides=y({plot_bgcolor:a.plot_bgcolor,hoverlabel:d.hoverlabel},"plot","nested"),V.plot=function(u){for(var n=u._fullLayout,i=u._fullData,s=n._subplots.gl2d,o=0;o<s.length;o++){var m=s[o],c=n._plots[m],b=t(i,"gl2d",m),v=c._scene2d;v===void 0&&(v=new C({id:m,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio},n),c._scene2d=v),v.plot(b,u.calcdata,n,u.layout)}},V.clean=function(r,u,n,i){for(var s=i._subplots.gl2d||[],o=0;o<s.length;o++){var m=s[o],c=i._plots[m];if(c._scene2d){var b=t(r,"gl2d",m);b.length===0&&(c._scene2d.destroy(),delete i._plots[m])}}h.clean.apply(this,arguments)},V.drawFramework=function(r){r._context.staticPlot||h.drawFramework(r)},V.toSVG=function(r){for(var u=r._fullLayout,n=u._subplots.gl2d,i=0;i<n.length;i++){var s=u._plots[n[i]],o=s._scene2d,m=o.toImage("png"),c=u._glimages.append("svg:image");c.attr({xmlns:L.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),o.destroy()}},V.updateFx=function(r){for(var u=r._fullLayout,n=u._subplots.gl2d,i=0;i<n.length;i++){var s=u._plots[n[i]]._scene2d;s.updateFx(u.dragmode)}}},92918:function(W,V,e){var y=e(73972),C=e(89298),a=e(30211),L=e(9330).gl_plot2d,x=e(9330).gl_spikes2d,h=e(9330).gl_select_box,d=e(40372),t=e(82961),r=e(75071),u=e(58617),n=e(99082),i=n.enforce,s=n.clean,o=e(71739).doAutoRange,m=e(64505),c=m.drawMode,b=m.selectMode,v=["xaxis","yaxis"],l,p,S=e(85555).SUBPLOT_PATTERN;function M(E,A){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(A),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(A),this.glplot=L(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=x(this.glplot),this.selectBox=h(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}W.exports=M;var R=M.prototype;R.makeFramework=function(){if(this.staticPlot){if(!p&&(l=document.createElement("canvas"),p=d({canvas:l,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=l,this.gl=p}else{var E=this.container.querySelector(".gl-canvas-focus"),A=d({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!A){u(this),this.stopped=!0;return}this.canvas=E,this.gl=A}var f=this.canvas;f.style.width="100%",f.style.height="100%",f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style["pointer-events"]="none",this.updateSize(f);var P=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none";var w=this.mouseContainer=document.createElement("div");w.style.position="absolute",w.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var z=this.container;z.appendChild(P),z.appendChild(w);var F=this;w.addEventListener("mouseout",function(){F.isMouseOver=!1,F.unhover()}),w.addEventListener("mouseover",function(){F.isMouseOver=!0})},R.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(l),this.updateSize(this.canvas);var A=this.glplot.gl,f=A.drawingBufferWidth,P=A.drawingBufferHeight;A.clearColor(1,1,1,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),A.bindFramebuffer(A.FRAMEBUFFER,null);var w=new Uint8Array(f*P*4);A.readPixels(0,0,f,P,A.RGBA,A.UNSIGNED_BYTE,w);for(var z=0,F=P-1;z<F;++z,--F)for(var H=0;H<f;++H)for(var _=0;_<4;++_){var B=w[4*(f*z+H)+_];w[4*(f*z+H)+_]=w[4*(f*F+H)+_],w[4*(f*F+H)+_]=B}var N=document.createElement("canvas");N.width=f,N.height=P;var O=N.getContext("2d",{willReadFrequently:!0}),U=O.createImageData(f,P);U.data.set(w),O.putImageData(U,0,0);var K;switch(E){case"jpeg":K=N.toDataURL("image/jpeg");break;case"webp":K=N.toDataURL("image/webp");break;default:K=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(l),K},R.updateSize=function(E){E||(E=this.canvas);var A=this.pixelRatio,f=this.fullLayout,P=f.width,w=f.height,z=Math.ceil(A*P)|0,F=Math.ceil(A*w)|0;return(E.width!==z||E.height!==F)&&(E.width=z,E.height=F),E},R.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[C.calcTicks(this.xaxis),C.calcTicks(this.yaxis)],A=0;A<2;++A)for(var f=0;f<E[A].length;++f)E[A][f].text=E[A][f].text+"";return E};function T(E,A){for(var f=0;f<2;++f){var P=E[f],w=A[f];if(P.length!==w.length)return!0;for(var z=0;z<P.length;++z)if(P[z].x!==w[z].x)return!0}return!1}R.updateRefs=function(E){this.fullLayout=E;var A=this.id.match(S),f="xaxis"+A[1],P="yaxis"+A[2];this.xaxis=this.fullLayout[f],this.yaxis=this.fullLayout[P]},R.relayoutCallback=function(){var E=this.graphDiv,A=this.xaxis,f=this.yaxis,P=E.layout,w={},z=w[A._name+".range"]=A.range.slice(),F=w[f._name+".range"]=f.range.slice();w[A._name+".autorange"]=A.autorange,w[f._name+".autorange"]=f.autorange,y.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,w);var H=P[A._name];H.range=z,H.autorange=A.autorange;var _=P[f._name];_.range=F,_.autorange=f.autorange,w.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",w)},R.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var A=this.computeTickMarks(),f=this.glplotOptions.ticks;T(A,f)&&(this.glplotOptions.ticks=A,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},R.handleAnnotations=function(){for(var E=this.graphDiv,A=this.fullLayout.annotations,f=0;f<A.length;f++){var P=A[f];P.xref===this.xaxis._id&&P.yref===this.yaxis._id&&y.getComponentMethod("annotations","drawOne")(E,f)}},R.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(A){E[A].dispose(),delete E[A]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},R.plot=function(E,A,f){var P=this.glplot;this.updateRefs(f),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,A),this.updateFx(f.dragmode);var w=f.width,z=f.height;this.updateSize(this.canvas);var F=this.glplotOptions;F.merge(f),F.screenBox=[0,0,w,z];var H={_fullLayout:{_axisConstraintGroups:f._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:f._size}};s(H,this.xaxis),s(H,this.yaxis);var _=f._size,B=this.xaxis.domain,N=this.yaxis.domain;F.viewBox=[_.l+B[0]*_.w,_.b+N[0]*_.h,w-_.r-(1-B[1])*_.w,z-_.t-(1-N[1])*_.h],this.mouseContainer.style.width=_.w*(B[1]-B[0])+"px",this.mouseContainer.style.height=_.h*(N[1]-N[0])+"px",this.mouseContainer.height=_.h*(N[1]-N[0]),this.mouseContainer.style.left=_.l+B[0]*_.w+"px",this.mouseContainer.style.top=_.t+(1-N[1])*_.h+"px";var O,U;for(U=0;U<2;++U)O=this[v[U]],O._length=F.viewBox[U+2]-F.viewBox[U],o(this.graphDiv,O),O.setScale();i(H),F.ticks=this.computeTickMarks(),F.dataBox=this.calcDataBox(),F.merge(f),P.update(F),this.glplot.draw()},R.calcDataBox=function(){var E=this.xaxis,A=this.yaxis,f=E.range,P=A.range,w=E.r2l,z=A.r2l;return[w(f[0]),z(P[0]),w(f[1]),z(P[1])]},R.setRanges=function(E){var A=this.xaxis,f=this.yaxis,P=A.l2r,w=f.l2r;A.range=[P(E[0]),P(E[2])],f.range=[w(E[1]),w(E[3])]},R.updateTraces=function(E,A){var f=Object.keys(this.traces),P,w,z;this.fullData=E;e:for(P=0;P<f.length;P++){var F=f[P],H=this.traces[F];for(w=0;w<E.length;w++)if(z=E[w],z.uid===F&&z.type===H.type)continue e;H.dispose(),delete this.traces[F]}for(P=0;P<E.length;P++){z=E[P];var _=A[P],B=this.traces[z.uid];B?B.update(z,_):(B=z._module.plot(this,z,_),this.traces[z.uid]=B)}this.glplot.objects.sort(function(N,O){return N._trace.index-O._trace.index})},R.updateFx=function(E){b(E)||c(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},R.emitPointAction=function(E,A){for(var f=E.trace.uid,P=E.pointIndex,w,z=0;z<this.fullData.length;z++)this.fullData[z].uid===f&&(w=this.fullData[z]);var F={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:w.index,pointNumber:P,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(F,w,P),this.graphDiv.emit(A,{points:[F]})},R.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,A=this.camera,f=A.mouseListener,P=this.lastButtonState===1&&f.buttons===0,w=this.fullLayout;this.lastButtonState=f.buttons,this.cameraChanged();var z=f.x*E.pixelRatio,F=this.canvas.height-E.pixelRatio*f.y,H;if(A.boxEnabled&&w.dragmode==="zoom"){this.selectBox.enabled=!0;for(var _=this.selectBox.selectBox=[Math.min(A.boxStart[0],A.boxEnd[0]),Math.min(A.boxStart[1],A.boxEnd[1]),Math.max(A.boxStart[0],A.boxEnd[0]),Math.max(A.boxStart[1],A.boxEnd[1])],B=0;B<2;B++)A.boxStart[B]===A.boxEnd[B]&&(_[B]=E.dataBox[B],_[B+2]=E.dataBox[B+2]);E.setDirty()}else if(!A.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=w._size,O=this.xaxis.domain,U=this.yaxis.domain;H=E.pick(z/E.pixelRatio+N.l+O[0]*N.w,F/E.pixelRatio-(N.t+(1-U[1])*N.h));var K=H&&H.object._trace.handlePick(H);if(K&&P&&this.emitPointAction(K,"plotly_click"),H&&H.object._trace.hoverinfo!=="skip"&&w.hovermode&&K&&(!this.lastPickResult||this.lastPickResult.traceUid!==K.trace.uid||this.lastPickResult.dataCoord[0]!==K.dataCoord[0]||this.lastPickResult.dataCoord[1]!==K.dataCoord[1])){var re=K;this.lastPickResult={traceUid:K.trace?K.trace.uid:null,dataCoord:K.dataCoord.slice()},this.spikes.update({center:H.dataCoord}),re.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(H.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(H.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(K,"plotly_hover");var ae=this.fullData[re.trace.index]||{},ue=re.pointIndex,ve=a.castHoverinfo(ae,w,ue);if(ve&&ve!=="all"){var ee=ve.split("+");ee.indexOf("x")===-1&&(re.traceCoord[0]=void 0),ee.indexOf("y")===-1&&(re.traceCoord[1]=void 0),ee.indexOf("z")===-1&&(re.traceCoord[2]=void 0),ee.indexOf("text")===-1&&(re.textLabel=void 0),ee.indexOf("name")===-1&&(re.name=void 0)}a.loneHover({x:re.screenCoord[0],y:re.screenCoord[1],xLabel:this.hoverFormatter("xaxis",re.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",re.traceCoord[1]),zLabel:re.traceCoord[2],text:re.textLabel,name:re.name,color:a.castHoverOption(ae,ue,"bgcolor")||re.color,borderColor:a.castHoverOption(ae,ue,"bordercolor"),fontFamily:a.castHoverOption(ae,ue,"font.family"),fontSize:a.castHoverOption(ae,ue,"font.size"),fontColor:a.castHoverOption(ae,ue,"font.color"),nameLength:a.castHoverOption(ae,ue,"namelength"),textAlign:a.castHoverOption(ae,ue,"align")},{container:this.svgContainer,gd:this.graphDiv})}}H||this.unhover(),E.draw()}},R.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},R.hoverFormatter=function(E,A){if(A!==void 0){var f=this[E];return C.tickText(f,f.c2l(A),"hover").text}}},58547:function(W,V,e){var y=e(30962).overrideAll,C=e(528),a=e(33539),L=e(27659).NG,x=e(71828),h=e(77922),d="gl3d",t="scene";V.name=d,V.attr=t,V.idRoot=t,V.idRegex=V.attrRegex=x.counterRegex("scene"),V.attributes=e(59084),V.layoutAttributes=e(65500),V.baseLayoutAttrOverrides=y({hoverlabel:C.hoverlabel},"plot","nested"),V.supplyLayoutDefaults=e(24682),V.plot=function(u){for(var n=u._fullLayout,i=u._fullData,s=n._subplots[d],o=0;o<s.length;o++){var m=s[o],c=L(i,d,m),b=n[m],v=b.camera,l=b._scene;l||(l=new a({id:m,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio,camera:v},n),b._scene=l),l.viewInitial||(l.viewInitial={up:{x:v.up.x,y:v.up.y,z:v.up.z},eye:{x:v.eye.x,y:v.eye.y,z:v.eye.z},center:{x:v.center.x,y:v.center.y,z:v.center.z}}),l.plot(c,n,u.layout)}},V.clean=function(r,u,n,i){for(var s=i._subplots[d]||[],o=0;o<s.length;o++){var m=s[o];!u[m]&&i[m]._scene&&(i[m]._scene.destroy(),i._infolayer&&i._infolayer.selectAll(".annotation-"+m).remove())}},V.toSVG=function(r){for(var u=r._fullLayout,n=u._subplots[d],i=u._size,s=0;s<n.length;s++){var o=u[n[s]],m=o.domain,c=o._scene,b=c.toImage("png"),v=u._glimages.append("svg:image");v.attr({xmlns:h.svg,"xlink:href":b,x:i.l+i.w*m.x[0],y:i.t+i.h*(1-m.y[1]),width:i.w*(m.x[1]-m.x[0]),height:i.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),c.destroy()}},V.cleanId=function(u){if(u.match(/^scene[0-9]*$/)){var n=u.substr(5);return n==="1"&&(n=""),t+n}},V.updateFx=function(r){for(var u=r._fullLayout,n=u._subplots[d],i=0;i<n.length;i++){var s=u[n[i]]._scene;s.updateFx(u.dragmode,u.hovermode)}}},59084:function(W){W.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(W,V,e){var y=e(7901),C=e(13838),a=e(1426).extendFlat,L=e(30962).overrideAll;W.exports=L({visible:C.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:y.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:C.color,categoryorder:C.categoryorder,categoryarray:C.categoryarray,title:{text:C.title.text,font:C.title.font},type:a({},C.type,{values:["-","linear","log","date","category"]}),autotypenumbers:C.autotypenumbers,autorange:C.autorange,autorangeoptions:{minallowed:C.autorangeoptions.minallowed,maxallowed:C.autorangeoptions.maxallowed,clipmin:C.autorangeoptions.clipmin,clipmax:C.autorangeoptions.clipmax,include:C.autorangeoptions.include,editType:"plot"},rangemode:C.rangemode,minallowed:C.minallowed,maxallowed:C.maxallowed,range:a({},C.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:C.minor.tickmode,nticks:C.nticks,tick0:C.tick0,dtick:C.dtick,tickvals:C.tickvals,ticktext:C.ticktext,ticks:C.ticks,mirror:C.mirror,ticklen:C.ticklen,tickwidth:C.tickwidth,tickcolor:C.tickcolor,showticklabels:C.showticklabels,labelalias:C.labelalias,tickfont:C.tickfont,tickangle:C.tickangle,tickprefix:C.tickprefix,showtickprefix:C.showtickprefix,ticksuffix:C.ticksuffix,showticksuffix:C.showticksuffix,showexponent:C.showexponent,exponentformat:C.exponentformat,minexponent:C.minexponent,separatethousands:C.separatethousands,tickformat:C.tickformat,tickformatstops:C.tickformatstops,hoverformat:C.hoverformat,showline:C.showline,linecolor:C.linecolor,linewidth:C.linewidth,showgrid:C.showgrid,gridcolor:a({},C.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:C.gridwidth,zeroline:C.zeroline,zerolinecolor:C.zerolinecolor,zerolinewidth:C.zerolinewidth,_deprecated:{title:C._deprecated.title,titlefont:C._deprecated.titlefont}},"plot","from-root")},3277:function(W,V,e){var y=e(84267).mix,C=e(71828),a=e(44467),L=e(77894),x=e(951),h=e(71453),d=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);W.exports=function(u,n,i){var s,o;function m(v,l){return C.coerce(s,o,L,v,l)}for(var c=0;c<d.length;c++){var b=d[c];s=u[b]||{},o=a.newContainer(n,b),o._id=b[0]+i.scene,o._name=b,x(s,o,m,i),h(s,o,m,{font:i.font,letter:b[0],data:i.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:i.bgColor,calendar:i.calendar},i.fullLayout),m("gridcolor",y(o.color,i.bgColor,t).toRgbString()),m("title.text",b[0]),o.setScale=C.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",o.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},30422:function(W,V,e){var y=e(78614),C=e(71828),a=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var x=L.prototype;x.merge=function(d,t){for(var r=this,u=0;u<3;++u){var n=t[a[u]];if(!n.visible){r.tickEnable[u]=!1,r.labelEnable[u]=!1,r.lineEnable[u]=!1,r.lineTickEnable[u]=!1,r.gridEnable[u]=!1,r.zeroEnable[u]=!1,r.backgroundEnable[u]=!1;continue}r.labels[u]=d._meta?C.templateString(n.title.text,d._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(r.labelColor[u]=y(n.title.font.color)),n.title.font.family&&(r.labelFont[u]=n.title.font.family),n.title.font.size&&(r.labelSize[u]=n.title.font.size)),"showline"in n&&(r.lineEnable[u]=n.showline),"linecolor"in n&&(r.lineColor[u]=y(n.linecolor)),"linewidth"in n&&(r.lineWidth[u]=n.linewidth),"showgrid"in n&&(r.gridEnable[u]=n.showgrid),"gridcolor"in n&&(r.gridColor[u]=y(n.gridcolor)),"gridwidth"in n&&(r.gridWidth[u]=n.gridwidth),n.type==="log"?r.zeroEnable[u]=!1:"zeroline"in n&&(r.zeroEnable[u]=n.zeroline),"zerolinecolor"in n&&(r.zeroLineColor[u]=y(n.zerolinecolor)),"zerolinewidth"in n&&(r.zeroLineWidth[u]=n.zerolinewidth),"ticks"in n&&n.ticks?r.lineTickEnable[u]=!0:r.lineTickEnable[u]=!1,"ticklen"in n&&(r.lineTickLength[u]=r._defaultLineTickLength[u]=n.ticklen),"tickcolor"in n&&(r.lineTickColor[u]=y(n.tickcolor)),"tickwidth"in n&&(r.lineTickWidth[u]=n.tickwidth),"tickangle"in n&&(r.tickAngle[u]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(r.tickEnable[u]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(r.tickColor[u]=y(n.tickfont.color)),n.tickfont.family&&(r.tickFont[u]=n.tickfont.family),n.tickfont.size&&(r.tickSize[u]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(r.lineTickMirror[u]=!0,r.lineMirror[u]=!0):n.mirror===!0?(r.lineTickMirror[u]=!1,r.lineMirror[u]=!0):(r.lineTickMirror[u]=!1,r.lineMirror[u]=!1):r.lineMirror[u]=!1,"showbackground"in n&&n.showbackground!==!1?(r.backgroundEnable[u]=!0,r.backgroundColor[u]=y(n.backgroundcolor)):r.backgroundEnable[u]=!1}};function h(d,t){var r=new L;return r.merge(d,t),r}W.exports=h},24682:function(W,V,e){var y=e(71828),C=e(7901),a=e(73972),L=e(49119),x=e(3277),h=e(65500),d=e(27659).NG,t="gl3d";W.exports=function(n,i,s){var o=i._basePlotModules.length>1;function m(c){if(!o){var b=y.validate(n[c],h[c]);if(b)return n[c]}}L(n,i,s,{type:t,attributes:h,handleDefaults:r,fullLayout:i,font:i.font,fullData:s,getDfltFromLayout:m,autotypenumbersDflt:i.autotypenumbers,paper_bgcolor:i.paper_bgcolor,calendar:i.calendar})};function r(u,n,i,s){for(var o=i("bgcolor"),m=C.combine(o,s.paper_bgcolor),c=["up","center","eye"],b=0;b<c.length;b++)i("camera."+c[b]+".x"),i("camera."+c[b]+".y"),i("camera."+c[b]+".z");i("camera.projection.type");var v=!!i("aspectratio.x")&&!!i("aspectratio.y")&&!!i("aspectratio.z"),l=v?"manual":"auto",p=i("aspectmode",l);v||(u.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),u.aspectmode=n.aspectmode);var S=d(s.fullData,t,s.id);x(u,n,{font:s.font,scene:s.id,data:S,bgColor:m,calendar:s.calendar,autotypenumbersDflt:s.autotypenumbersDflt,fullLayout:s.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(u,n,s);var M=s.getDfltFromLayout("dragmode");if(M!==!1&&!M)if(M="orbit",u.camera&&u.camera.up){var R=u.camera.up.x,T=u.camera.up.y,E=u.camera.up.z;E!==0&&(!R||!T||!E||E/Math.sqrt(R*R+T*T+E*E)>.999)&&(M="turntable")}else M="turntable";i("dragmode",M),i("hovermode",s.getDfltFromLayout("hovermode"))}},65500:function(W,V,e){var y=e(77894),C=e(27670).Y,a=e(1426).extendFlat,L=e(71828).counterRegex;function x(h,d,t){return{x:{valType:"number",dflt:h,editType:"camera"},y:{valType:"number",dflt:d,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}W.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(x(0,0,1),{}),center:a(x(0,0,0),{}),eye:a(x(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:C({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:y,yaxis:y,zaxis:y,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(W,V,e){var y=e(78614),C=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=a.prototype;L.merge=function(h){for(var d=0;d<3;++d){var t=h[C[d]];if(!t.visible){this.enabled[d]=!1,this.drawSides[d]=!1;continue}this.enabled[d]=t.showspikes,this.colors[d]=y(t.spikecolor),this.drawSides[d]=t.spikesides,this.lineWidth[d]=t.spikethickness}};function x(h){var d=new a;return d.merge(h),d}W.exports=x},96085:function(W,V,e){W.exports=x;var y=e(89298),C=e(71828),a=["xaxis","yaxis","zaxis"];function L(h){for(var d=new Array(3),t=0;t<3;++t){for(var r=h[t],u=new Array(r.length),n=0;n<r.length;++n)u[n]=r[n].x;d[t]=u}return d}function x(h){for(var d=h.axesOptions,t=h.glplot.axesPixels,r=h.fullSceneLayout,u=[[],[],[]],n=0;n<3;++n){var i=r[a[n]];if(i._length=(t[n].hi-t[n].lo)*t[n].pixelsPerDataUnit/h.dataScale[n],Math.abs(i._length)===1/0||isNaN(i._length))u[n]=[];else{i._input_range=i.range.slice(),i.range[0]=t[n].lo/h.dataScale[n],i.range[1]=t[n].hi/h.dataScale[n],i._m=1/(h.dataScale[n]*t[n].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var s=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var o=i.nticks||C.constrain(i._length/40,4,9);y.autoTicks(i,Math.abs(i.range[1]-i.range[0])/o)}for(var m=y.calcTicks(i,{msUTC:!0}),c=0;c<m.length;++c)m[c].x=m[c].x*h.dataScale[n],i.type==="date"&&(m[c].text=m[c].text.replace(/\<br\>/g," "));u[n]=m,i.tickmode=s}}d.ticks=u;for(var n=0;n<3;++n){.5*(h.glplot.bounds[0][n]+h.glplot.bounds[1][n]);for(var c=0;c<2;++c)d.bounds[c][n]=h.glplot.bounds[c][n]}h.contourLevels=L(u)}},63538:function(W){function V(y,C){var a=[0,0,0,0],L,x;for(L=0;L<4;++L)for(x=0;x<4;++x)a[x]+=y[4*L+x]*C[L];return a}function e(y,C){var a=V(y.projection,V(y.view,V(y.model,[C[0],C[1],C[2],1])));return a}W.exports=e},33539:function(W,V,e){var y=e(9330).gl_plot3d,C=y.createCamera,a=y.createScene,L=e(40372),x=e(38520),h=e(73972),d=e(71828),t=d.preserveDrawingBuffer(),r=e(89298),u=e(30211),n=e(78614),i=e(58617),s=e(63538),o=e(30422),m=e(13133),c=e(96085),b=e(71739).applyAutorangeOptions,v,l,p=!1;function S(F,H){var _=document.createElement("div"),B=F.container;this.graphDiv=F.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",_.appendChild(N),this.svgContainer=N,_.id=F.id,_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",B.appendChild(_),this.fullLayout=H,this.id=F.id||"scene",this.fullSceneLayout=H[this.id],this.plotArgs=[[],{},{}],this.axesOptions=o(H,H[this.id]),this.spikeOptions=m(H[this.id]),this.container=_,this.staticMode=!!F.staticPlot,this.pixelRatio=this.pixelRatio||F.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=h.getComponentMethod("annotations3d","convert"),this.drawAnnotations=h.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var M=S.prototype;M.prepareOptions=function(){var F=this,H={canvas:F.canvas,gl:F.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:F.container,axes:F.axesOptions,spikes:F.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:F.camera,pixelRatio:F.pixelRatio};if(F.staticMode){if(!l&&(v=document.createElement("canvas"),l=L({canvas:v,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!l))throw new Error("error creating static canvas/context for image server");H.gl=l,H.canvas=v}return H};var R=!0;M.tryCreatePlot=function(){var F=this,H=F.prepareOptions(),_=!0;try{F.glplot=a(H)}catch{if(F.staticMode||!R||t)_=!1;else{d.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=H.glOptions.preserveDrawingBuffer=!0,F.glplot=a(H)}catch{t=H.glOptions.preserveDrawingBuffer=!1,_=!1}}}return R=!1,_},M.initializeGLCamera=function(){var F=this,H=F.fullSceneLayout.camera,_=H.projection.type==="orthographic";F.camera=C(F.container,{center:[H.center.x,H.center.y,H.center.z],eye:[H.eye.x,H.eye.y,H.eye.z],up:[H.up.x,H.up.y,H.up.z],_ortho:_,zoomMin:.01,zoomMax:100,mode:"orbit"})},M.initializeGLPlot=function(){var F=this;F.initializeGLCamera();var H=F.tryCreatePlot();if(!H)return i(F);F.traces={},F.make4thDimension();var _=F.graphDiv,B=_.layout,N=function(){var U={};return F.isCameraChanged(B)&&(U[F.id+".camera"]=F.getCamera()),F.isAspectChanged(B)&&(U[F.id+".aspectratio"]=F.glplot.getAspectratio(),B[F.id].aspectmode!=="manual"&&(F.fullSceneLayout.aspectmode=B[F.id].aspectmode=U[F.id+".aspectmode"]="manual")),U},O=function(U){if(U.fullSceneLayout.dragmode!==!1){var K=N();U.saveLayout(B),U.graphDiv.emit("plotly_relayout",K)}};return F.glplot.canvas&&(F.glplot.canvas.addEventListener("mouseup",function(){O(F)}),F.glplot.canvas.addEventListener("touchstart",function(){p=!0}),F.glplot.canvas.addEventListener("wheel",function(U){if(_._context._scrollZoom.gl3d){if(F.camera._ortho){var K=U.deltaX>U.deltaY?1.1:.9090909090909091,re=F.glplot.getAspectratio();F.glplot.setAspectratio({x:K*re.x,y:K*re.y,z:K*re.z})}O(F)}},x?{passive:!1}:!1),F.glplot.canvas.addEventListener("mousemove",function(){if(F.fullSceneLayout.dragmode!==!1&&F.camera.mouseListener.buttons!==0){var U=N();F.graphDiv.emit("plotly_relayouting",U)}}),F.staticMode||F.glplot.canvas.addEventListener("webglcontextlost",function(U){_&&_.emit&&_.emit("plotly_webglcontextlost",{event:U,layer:F.id})},!1)),F.glplot.oncontextloss=function(){F.recoverContext()},F.glplot.onrender=function(){F.render()},!0},M.render=function(){var F=this,H=F.graphDiv,_,B=F.svgContainer,N=F.container.getBoundingClientRect();H._fullLayout._calcInverseTransform(H);var O=H._fullLayout._invScaleX,U=H._fullLayout._invScaleY,K=N.width*O,re=N.height*U;B.setAttributeNS(null,"viewBox","0 0 "+K+" "+re),B.setAttributeNS(null,"width",K),B.setAttributeNS(null,"height",re),c(F),F.glplot.axes.update(F.axesOptions);for(var ae=Object.keys(F.traces),ue=null,ve=F.glplot.selection,ee=0;ee<ae.length;++ee)_=F.traces[ae[ee]],_.data.hoverinfo!=="skip"&&_.handlePick(ve)&&(ue=_),_.setContourLevels&&_.setContourLevels();function J(Re,Fe,Se){var Te=F.fullSceneLayout[Re+"axis"];return Te.type!=="log"&&(Fe=Te.d2l(Fe)),r.hoverLabelText(Te,Fe,Se)}if(ue!==null){var Q=s(F.glplot.cameraParams,ve.dataCoordinate);_=ue.data;var X=H._fullData[_.index],q=ve.index,se={xLabel:J("x",ve.traceCoordinate[0],_.xhoverformat),yLabel:J("y",ve.traceCoordinate[1],_.yhoverformat),zLabel:J("z",ve.traceCoordinate[2],_.zhoverformat)},Y=u.castHoverinfo(X,F.fullLayout,q),Z=(Y||"").split("+"),ie=Y&&Y==="all";!X.hovertemplate&&!ie&&(Z.indexOf("x")===-1&&(se.xLabel=void 0),Z.indexOf("y")===-1&&(se.yLabel=void 0),Z.indexOf("z")===-1&&(se.zLabel=void 0),Z.indexOf("text")===-1&&(ve.textLabel=void 0),Z.indexOf("name")===-1&&(ue.name=void 0));var te,fe=[];_.type==="cone"||_.type==="streamtube"?(se.uLabel=J("x",ve.traceCoordinate[3],_.uhoverformat),(ie||Z.indexOf("u")!==-1)&&fe.push("u: "+se.uLabel),se.vLabel=J("y",ve.traceCoordinate[4],_.vhoverformat),(ie||Z.indexOf("v")!==-1)&&fe.push("v: "+se.vLabel),se.wLabel=J("z",ve.traceCoordinate[5],_.whoverformat),(ie||Z.indexOf("w")!==-1)&&fe.push("w: "+se.wLabel),se.normLabel=ve.traceCoordinate[6].toPrecision(3),(ie||Z.indexOf("norm")!==-1)&&fe.push("norm: "+se.normLabel),_.type==="streamtube"&&(se.divergenceLabel=ve.traceCoordinate[7].toPrecision(3),(ie||Z.indexOf("divergence")!==-1)&&fe.push("divergence: "+se.divergenceLabel)),ve.textLabel&&fe.push(ve.textLabel),te=fe.join("<br>")):_.type==="isosurface"||_.type==="volume"?(se.valueLabel=r.hoverLabelText(F._mockAxis,F._mockAxis.d2l(ve.traceCoordinate[3]),_.valuehoverformat),fe.push("value: "+se.valueLabel),ve.textLabel&&fe.push(ve.textLabel),te=fe.join("<br>")):te=ve.textLabel;var de={x:ve.traceCoordinate[0],y:ve.traceCoordinate[1],z:ve.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:q};u.appendArrayPointValue(de,X,q),_._module.eventData&&(de=X._module.eventData(de,ve,X,{},q));var we={points:[de]};if(F.fullSceneLayout.hovermode){var Ae=[];u.loneHover({trace:X,x:(.5+.5*Q[0]/Q[3])*K,y:(.5-.5*Q[1]/Q[3])*re,xLabel:se.xLabel,yLabel:se.yLabel,zLabel:se.zLabel,text:te,name:ue.name,color:u.castHoverOption(X,q,"bgcolor")||ue.color,borderColor:u.castHoverOption(X,q,"bordercolor"),fontFamily:u.castHoverOption(X,q,"font.family"),fontSize:u.castHoverOption(X,q,"font.size"),fontColor:u.castHoverOption(X,q,"font.color"),nameLength:u.castHoverOption(X,q,"namelength"),textAlign:u.castHoverOption(X,q,"align"),hovertemplate:d.castOption(X,q,"hovertemplate"),hovertemplateLabels:d.extendFlat({},de,se),eventData:[de]},{container:B,gd:H,inOut_bbox:Ae}),de.bbox=Ae[0]}ve.distance<5&&(ve.buttons||p)?H.emit("plotly_click",we):H.emit("plotly_hover",we),this.oldEventData=we}else u.loneUnhover(B),this.oldEventData&&H.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;F.drawAnnotations(F)},M.recoverContext=function(){var F=this;F.glplot.dispose();var H=function(){if(F.glplot.gl.isContextLost()){requestAnimationFrame(H);return}if(!F.initializeGLPlot()){d.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}F.plot.apply(F,F.plotArgs)};requestAnimationFrame(H)};var T=["xaxis","yaxis","zaxis"];function E(F,H,_){for(var B=F.fullSceneLayout,N=0;N<3;N++){var O=T[N],U=O.charAt(0),K=B[O],re=H[U],ae=H[U+"calendar"],ue=H["_"+U+"length"];if(!d.isArrayOrTypedArray(re))_[0][N]=Math.min(_[0][N],0),_[1][N]=Math.max(_[1][N],ue-1);else for(var ve,ee=0;ee<(ue||re.length);ee++)if(d.isArrayOrTypedArray(re[ee]))for(var J=0;J<re[ee].length;++J)ve=K.d2l(re[ee][J],0,ae),!isNaN(ve)&&isFinite(ve)&&(_[0][N]=Math.min(_[0][N],ve),_[1][N]=Math.max(_[1][N],ve));else ve=K.d2l(re[ee],0,ae),!isNaN(ve)&&isFinite(ve)&&(_[0][N]=Math.min(_[0][N],ve),_[1][N]=Math.max(_[1][N],ve))}}function A(F,H){for(var _=F.fullSceneLayout,B=_.annotations||[],N=0;N<3;N++)for(var O=T[N],U=O.charAt(0),K=_[O],re=0;re<B.length;re++){var ae=B[re];if(ae.visible){var ue=K.r2l(ae[U]);!isNaN(ue)&&isFinite(ue)&&(H[0][N]=Math.min(H[0][N],ue),H[1][N]=Math.max(H[1][N],ue))}}}M.plot=function(F,H,_){var B=this;if(B.plotArgs=[F,H,_],!B.glplot.contextLost){var N,O,U,K,re,ae,ue=H[B.id],ve=_[B.id];B.fullLayout=H,B.fullSceneLayout=ue,B.axesOptions.merge(H,ue),B.spikeOptions.merge(ue),B.setViewport(ue),B.updateFx(ue.dragmode,ue.hovermode),B.camera.enableWheel=B.graphDiv._context._scrollZoom.gl3d,B.glplot.setClearColor(n(ue.bgcolor)),B.setConvert(re),F?Array.isArray(F)||(F=[F]):F=[];var ee=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(U=0;U<F.length;++U)N=F[U],!(N.visible!==!0||N._length===0)&&E(this,N,ee);A(this,ee);var J=[1,1,1];for(K=0;K<3;++K)ee[1][K]===ee[0][K]?J[K]=1:J[K]=1/(ee[1][K]-ee[0][K]);for(B.dataScale=J,B.convertAnnotations(this),U=0;U<F.length;++U)N=F[U],!(N.visible!==!0||N._length===0)&&(O=B.traces[N.uid],O?O.data.type===N.type?O.update(N):(O.dispose(),O=N._module.plot(this,N),B.traces[N.uid]=O):(O=N._module.plot(this,N),B.traces[N.uid]=O),O.name=N.name);var Q=Object.keys(B.traces);e:for(U=0;U<Q.length;++U){for(K=0;K<F.length;++K)if(F[K].uid===Q[U]&&F[K].visible===!0&&F[K]._length!==0)continue e;O=B.traces[Q[U]],O.dispose(),delete B.traces[Q[U]]}B.glplot.objects.sort(function(Ke,qe){return Ke._trace.data.index-qe._trace.data.index});var X=[[0,0,0],[0,0,0]],q={};for(U=0;U<3;++U){re=ue[T[U]],ae=re.type,ae in q?(q[ae].acc*=J[U],q[ae].count+=1):q[ae]={acc:J[U],count:1};var se;if(re.autorange){X[0][U]=1/0,X[1][U]=-1/0;var Y=B.glplot.objects,Z=B.fullSceneLayout.annotations||[],ie=re._name.charAt(0);for(K=0;K<Y.length;K++){var te=Y[K],fe=te.bounds,de=te._trace.data._pad||0;te.constructor.name==="ErrorBars"&&re._lowerLogErrorBound?X[0][U]=Math.min(X[0][U],re._lowerLogErrorBound):X[0][U]=Math.min(X[0][U],fe[0][U]/J[U]-de),X[1][U]=Math.max(X[1][U],fe[1][U]/J[U]+de)}for(K=0;K<Z.length;K++){var we=Z[K];if(we.visible){var Ae=re.r2l(we[ie]);X[0][U]=Math.min(X[0][U],Ae),X[1][U]=Math.max(X[1][U],Ae)}}if("rangemode"in re&&re.rangemode==="tozero"&&(X[0][U]=Math.min(X[0][U],0),X[1][U]=Math.max(X[1][U],0)),X[0][U]>X[1][U])X[0][U]=-1,X[1][U]=1;else{var Re=X[1][U]-X[0][U];X[0][U]-=Re/32,X[1][U]+=Re/32}if(se=[X[0][U],X[1][U]],se=b(se,re),X[0][U]=se[0],X[1][U]=se[1],re.isReversed()){var Fe=X[0][U];X[0][U]=X[1][U],X[1][U]=Fe}}else se=re.range,X[0][U]=re.r2l(se[0]),X[1][U]=re.r2l(se[1]);X[0][U]===X[1][U]&&(X[0][U]-=1,X[1][U]+=1),re.range=[X[0][U],X[1][U]],re.limitRange(),B.glplot.setBounds(U,{min:re.range[0]*J[U],max:re.range[1]*J[U]})}var Se,Te=ue.aspectmode;if(Te==="cube")Se=[1,1,1];else if(Te==="manual"){var Ee=ue.aspectratio;Se=[Ee.x,Ee.y,Ee.z]}else if(Te==="auto"||Te==="data"){var Ne=[1,1,1];for(U=0;U<3;++U){re=ue[T[U]],ae=re.type;var He=q[ae];Ne[U]=Math.pow(He.acc,1/He.count)/J[U]}Te==="data"||Math.max.apply(null,Ne)/Math.min.apply(null,Ne)<=4?Se=Ne:Se=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ue.aspectratio.x=ve.aspectratio.x=Se[0],ue.aspectratio.y=ve.aspectratio.y=Se[1],ue.aspectratio.z=ve.aspectratio.z=Se[2],B.glplot.setAspectratio(ue.aspectratio),B.viewInitial.aspectratio||(B.viewInitial.aspectratio={x:ue.aspectratio.x,y:ue.aspectratio.y,z:ue.aspectratio.z}),B.viewInitial.aspectmode||(B.viewInitial.aspectmode=ue.aspectmode);var _e=ue.domain||null,We=H._size||null;if(_e&&We){var tt=B.container.style;tt.position="absolute",tt.left=We.l+_e.x[0]*We.w+"px",tt.top=We.t+(1-_e.y[1])*We.h+"px",tt.width=We.w*(_e.x[1]-_e.x[0])+"px",tt.height=We.h*(_e.y[1]-_e.y[0])+"px"}B.glplot.redraw()}},M.destroy=function(){var F=this;F.glplot&&(F.camera.mouseListener.enabled=!1,F.container.removeEventListener("wheel",F.camera.wheelListener),F.camera=null,F.glplot.dispose(),F.container.parentNode.removeChild(F.container),F.glplot=null)};function f(F){return[[F.eye.x,F.eye.y,F.eye.z],[F.center.x,F.center.y,F.center.z],[F.up.x,F.up.y,F.up.z]]}function P(F){return{up:{x:F.up[0],y:F.up[1],z:F.up[2]},center:{x:F.center[0],y:F.center[1],z:F.center[2]},eye:{x:F.eye[0],y:F.eye[1],z:F.eye[2]},projection:{type:F._ortho===!0?"orthographic":"perspective"}}}M.getCamera=function(){var F=this;return F.camera.view.recalcMatrix(F.camera.view.lastT()),P(F.camera)},M.setViewport=function(F){var H=this,_=F.camera;H.camera.lookAt.apply(this,f(_)),H.glplot.setAspectratio(F.aspectratio);var B=_.projection.type==="orthographic",N=H.camera._ortho;B!==N&&(H.glplot.redraw(),H.glplot.clearRGBA(),H.glplot.dispose(),H.initializeGLPlot())},M.isCameraChanged=function(F){var H=this,_=H.getCamera(),B=d.nestedProperty(F,H.id+".camera"),N=B.get();function O(ae,ue,ve,ee){var J=["up","center","eye"],Q=["x","y","z"];return ue[J[ve]]&&ae[J[ve]][Q[ee]]===ue[J[ve]][Q[ee]]}var U=!1;if(N===void 0)U=!0;else{for(var K=0;K<3;K++)for(var re=0;re<3;re++)if(!O(_,N,K,re)){U=!0;break}(!N.projection||_.projection&&_.projection.type!==N.projection.type)&&(U=!0)}return U},M.isAspectChanged=function(F){var H=this,_=H.glplot.getAspectratio(),B=d.nestedProperty(F,H.id+".aspectratio"),N=B.get();return N===void 0||N.x!==_.x||N.y!==_.y||N.z!==_.z},M.saveLayout=function(F){var H=this,_=H.fullLayout,B,N,O,U,K,re,ae=H.isCameraChanged(F),ue=H.isAspectChanged(F),ve=ae||ue;if(ve){var ee={};if(ae&&(B=H.getCamera(),N=d.nestedProperty(F,H.id+".camera"),O=N.get(),ee[H.id+".camera"]=O),ue&&(U=H.glplot.getAspectratio(),K=d.nestedProperty(F,H.id+".aspectratio"),re=K.get(),ee[H.id+".aspectratio"]=re),h.call("_storeDirectGUIEdit",F,_._preGUI,ee),ae){N.set(B);var J=d.nestedProperty(_,H.id+".camera");J.set(B)}if(ue){K.set(U);var Q=d.nestedProperty(_,H.id+".aspectratio");Q.set(U),H.glplot.redraw()}}return ve},M.updateFx=function(F,H){var _=this,B=_.camera;if(B)if(F==="orbit")B.mode="orbit",B.keyBindingMode="rotate";else if(F==="turntable"){B.up=[0,0,1],B.mode="turntable",B.keyBindingMode="rotate";var N=_.graphDiv,O=N._fullLayout,U=_.fullSceneLayout.camera,K=U.up.x,re=U.up.y,ae=U.up.z;if(ae/Math.sqrt(K*K+re*re+ae*ae)<.999){var ue=_.id+".camera.up",ve={x:0,y:0,z:1},ee={};ee[ue]=ve;var J=N.layout;h.call("_storeDirectGUIEdit",J,O._preGUI,ee),U.up=ve,d.nestedProperty(J,ue).set(ve)}}else B.keyBindingMode=F;_.fullSceneLayout.hovermode=H};function w(F,H,_){for(var B=0,N=_-1;B<N;++B,--N)for(var O=0;O<H;++O)for(var U=0;U<4;++U){var K=4*(H*B+O)+U,re=4*(H*N+O)+U,ae=F[K];F[K]=F[re],F[re]=ae}}function z(F,H,_){for(var B=0;B<_;++B)for(var N=0;N<H;++N){var O=4*(H*B+N),U=F[O+3];if(U>0)for(var K=255/U,re=0;re<3;++re)F[O+re]=Math.min(K*F[O+re],255)}}M.toImage=function(F){var H=this;F||(F="png"),H.staticMode&&H.container.appendChild(v),H.glplot.redraw();var _=H.glplot.gl,B=_.drawingBufferWidth,N=_.drawingBufferHeight;_.bindFramebuffer(_.FRAMEBUFFER,null);var O=new Uint8Array(B*N*4);_.readPixels(0,0,B,N,_.RGBA,_.UNSIGNED_BYTE,O),w(O,B,N),z(O,B,N);var U=document.createElement("canvas");U.width=B,U.height=N;var K=U.getContext("2d",{willReadFrequently:!0}),re=K.createImageData(B,N);re.data.set(O),K.putImageData(re,0,0);var ae;switch(F){case"jpeg":ae=U.toDataURL("image/jpeg");break;case"webp":ae=U.toDataURL("image/webp");break;default:ae=U.toDataURL("image/png")}return H.staticMode&&H.container.removeChild(v),ae},M.setConvert=function(){for(var F=this,H=0;H<3;H++){var _=F.fullSceneLayout[T[H]];r.setConvert(_,F.fullLayout),_.setScale=d.noop}},M.make4thDimension=function(){var F=this,H=F.graphDiv,_=H._fullLayout;F._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(F._mockAxis,_)},W.exports=S},90060:function(W){W.exports=function(e,y,C,a){a=a||e.length;for(var L=new Array(a),x=0;x<a;x++)L[x]=[e[x],y[x],C[x]];return L}},10820:function(W,V,e){var y=e(41940),C=e(85594),a=e(22399),L=e(29241),x=e(53777),h=e(35025),d=e(1426).extendFlat,t=y({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,W.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:y({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:d(h({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:x.newselection,activeselection:x.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:d({},C.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:y({editType:"layoutstyle"})}}},77734:function(W,V,e){var y=e(78607),C="1.10.1",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),x=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),h=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:x,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:x,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:h,tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=y(d);W.exports={requiredVersion:C,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+C+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(W,V,e){var y=e(71828);W.exports=function(a,L){var x=a.split(" "),h=x[0],d=x[1],t=y.isArrayOrTypedArray(L)?y.mean(L):L,r=.5+t/100,u=1.5+t/100,n=["",""],i=[0,0];switch(h){case"top":n[0]="top",i[1]=-u;break;case"bottom":n[0]="bottom",i[1]=u;break}switch(d){case"left":n[1]="right",i[0]=-r;break;case"right":n[1]="left",i[0]=r;break}var s;return n[0]&&n[1]?s=n.join("-"):n[0]?s=n[0]:n[1]?s=n[1]:s="center",{anchor:s,offset:i}}},50101:function(W,V,e){var y=e(44517),C=e(71828),a=C.strTranslate,L=C.strScale,x=e(27659).AU,h=e(77922),d=e(39898),t=e(91424),r=e(63893),u=e(10481),n="mapbox",i=V.constants=e(77734);V.name=n,V.attr="subplot",V.idRoot=n,V.idRegex=V.attrRegex=C.counterRegex(n),V.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},V.layoutAttributes=e(23585),V.supplyLayoutDefaults=e(77882),V.plot=function(c){var b=c._fullLayout,v=c.calcdata,l=b._subplots[n];if(y.version!==i.requiredVersion)throw new Error(i.wrongVersionErrorMsg);var p=s(c,l);y.accessToken=p;for(var S=0;S<l.length;S++){var M=l[S],R=x(v,n,M),T=b[M],E=T._subplot;E||(E=new u(c,M),b[M]._subplot=E),E.viewInitial||(E.viewInitial={center:C.extendFlat({},T.center),zoom:T.zoom,bearing:T.bearing,pitch:T.pitch}),E.plot(R,b,c._promises)}},V.clean=function(m,c,b,v){for(var l=v._subplots[n]||[],p=0;p<l.length;p++){var S=l[p];!c[S]&&v[S]._subplot&&v[S]._subplot.destroy()}},V.toSVG=function(m){for(var c=m._fullLayout,b=c._subplots[n],v=c._size,l=0;l<b.length;l++){var p=c[b[l]],S=p.domain,M=p._subplot,R=M.toImage("png"),T=c._glimages.append("svg:image");T.attr({xmlns:h.svg,"xlink:href":R,x:v.l+v.w*S.x[0],y:v.t+v.h*(1-S.y[1]),width:v.w*(S.x[1]-S.x[0]),height:v.h*(S.y[1]-S.y[0]),preserveAspectRatio:"none"});var E=d.select(p._subplot.div),A=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!A){var f=c._glimages.append("g");f.attr("transform",a(v.l+v.w*S.x[0]+10,v.t+v.h*(1-S.y[0])-31)),f.append("path").attr("d",i.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),f.append("path").attr("d",i.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),f.append("path").attr("d",i.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),f.append("polygon").attr("points",i.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var P=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),w=c._glimages.append("g"),z=w.append("text");z.text(P).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":P});var F=t.bBox(z.node()),H=v.w*(S.x[1]-S.x[0]);if(F.width>H/2){var _=P.split("|").join("<br>");z.text(_).attr("data-unformatted",_).call(r.convertToTspans,m),F=t.bBox(z.node())}z.attr("transform",a(-3,-F.height+8)),w.insert("rect",".static-attribution").attr({x:-F.width-6,y:-F.height-3,width:F.width+6,height:F.height+3,fill:"rgba(255, 255, 255, 0.75)"});var B=1;F.width+6>H&&(B=H/(F.width+6));var N=[v.l+v.w*S.x[1],v.t+v.h*(1-S.y[0])];w.attr("transform",a(N[0],N[1])+L(B))}};function s(m,c){var b=m._fullLayout,v=m._context;if(v.mapboxAccessToken==="")return"";for(var l=[],p=[],S=!1,M=!1,R=0;R<c.length;R++){var T=b[c[R]],E=T.accesstoken;o(T.style)&&(E?C.pushUnique(l,E):(o(T._input.style)&&(C.error("Uses Mapbox map style, but did not set an access token."),S=!0),M=!0)),E&&C.pushUnique(p,E)}if(M){var A=S?i.noAccessTokenErrorMsg:i.missingStyleErrorMsg;throw C.error(A),new Error(A)}return l.length?(l.length>1&&C.warn(i.multipleTokensErrorMsg),l[0]):(p.length&&C.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function o(m){return typeof m=="string"&&(i.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0)}V.updateFx=function(m){for(var c=m._fullLayout,b=c._subplots[n],v=0;v<b.length;v++){var l=c[b[v]]._subplot;l.updateFx(c)}}},67911:function(W,V,e){var y=e(71828),C=e(63893).sanitizeHTML,a=e(13056),L=e(77734);function x(u,n){this.subplot=u,this.uid=u.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var h=x.prototype;h.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=d(n)},h.needsNewImage=function(u){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&u.sourcetype==="image"&&(this.source!==u.source||JSON.stringify(this.coordinates)!==JSON.stringify(u.coordinates))},h.needsNewSource=function(u){return this.sourceType!==u.sourcetype||JSON.stringify(this.source)!==JSON.stringify(u.source)||this.layerType!==u.type},h.needsNewLayer=function(u){return this.layerType!==u.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},h.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},h.updateImage=function(u){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:u.source,coordinates:u.coordinates});var i=this.findFollowingMapboxLayerId(this.lookupBelow());i!==null&&this.subplot.map.moveLayer(this.idLayer,i)},h.updateSource=function(u){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=u.sourcetype,this.source=u.source,!!d(u)){var i=r(u);n.addSource(this.idSource,i)}},h.findFollowingMapboxLayerId=function(u){if(u==="traces")for(var n=this.subplot.getMapLayers(),i=0;i<n.length;i++){var s=n[i].id;if(typeof s=="string"&&s.indexOf(L.traceLayerPrefix)===0){u=s;break}}return u},h.updateLayer=function(u){var n=this.subplot,i=t(u),s=this.lookupBelow(),o=this.findFollowingMapboxLayerId(s);this.removeLayer(),d(u)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":u.sourcelayer||"",type:u.type,minzoom:u.minzoom,maxzoom:u.maxzoom,layout:i.layout,paint:i.paint},o),this.layerType=u.type,this.below=s},h.updateStyle=function(u){if(d(u)){var n=t(u);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},h.removeLayer=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer)},h.dispose=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer),u.getSource(this.idSource)&&u.removeSource(this.idSource)};function d(u){if(!u.visible)return!1;var n=u.source;if(Array.isArray(n)&&n.length>0){for(var i=0;i<n.length;i++)if(typeof n[i]!="string"||n[i].length===0)return!1;return!0}return y.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(u){var n={},i={};switch(u.type){case"circle":y.extendFlat(i,{"circle-radius":u.circle.radius,"circle-color":u.color,"circle-opacity":u.opacity});break;case"line":y.extendFlat(i,{"line-width":u.line.width,"line-color":u.color,"line-opacity":u.opacity,"line-dasharray":u.line.dash});break;case"fill":y.extendFlat(i,{"fill-color":u.color,"fill-outline-color":u.fill.outlinecolor,"fill-opacity":u.opacity});break;case"symbol":var s=u.symbol,o=a(s.textposition,s.iconsize);y.extendFlat(n,{"icon-image":s.icon+"-15","icon-size":s.iconsize/10,"text-field":s.text,"text-size":s.textfont.size,"text-anchor":o.anchor,"text-offset":o.offset,"symbol-placement":s.placement}),y.extendFlat(i,{"icon-color":u.color,"text-color":s.textfont.color,"text-opacity":u.opacity});break;case"raster":y.extendFlat(i,{"raster-fade-duration":0,"raster-opacity":u.opacity});break}return{layout:n,paint:i}}function r(u){var n=u.sourcetype,i=u.source,s={type:n},o;return n==="geojson"?o="data":n==="vector"?o=typeof i=="string"?"url":"tiles":n==="raster"?(o="tiles",s.tileSize=256):n==="image"&&(o="url",s.coordinates=u.coordinates),s[o]=i,u.sourceattribution&&(s.attribution=C(u.sourceattribution)),s}W.exports=function(n,i,s){var o=new x(n,i);return o.update(s),o}},23585:function(W,V,e){var y=e(71828),C=e(7901).defaultLine,a=e(27670).Y,L=e(41940),x=e(82196).textposition,h=e(30962).overrideAll,d=e(44467).templatedArray,t=e(77734),r=L({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var u=W.exports=h({_arrayAttrRegexps:[y.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:d("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:C},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:C}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:y.extendFlat({},x,{arrayOk:!1})}})},"plot","from-root");u.uirevision={valType:"any",editType:"none"}},77882:function(W,V,e){var y=e(71828),C=e(49119),a=e(85501),L=e(23585);W.exports=function(t,r,u){C(t,r,u,{type:"mapbox",attributes:L,handleDefaults:x,partition:"y",accessToken:r._mapboxAccessToken})};function x(d,t,r,u){r("accesstoken",u.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var n=r("bounds.west"),i=r("bounds.east"),s=r("bounds.south"),o=r("bounds.north");(n===void 0||i===void 0||s===void 0||o===void 0)&&delete t.bounds,a(d,t,{name:"layers",handleItemDefaults:h}),t._input=d}function h(d,t){function r(m,c){return y.coerce(d,t,L.layers,m,c)}var u=r("visible");if(u){var n=r("sourcetype"),i=n==="raster"||n==="image";r("source"),r("sourceattribution"),n==="vector"&&r("sourcelayer"),n==="image"&&r("coordinates");var s;i&&(s="raster");var o=r("type",s);i&&o!=="raster"&&(o=t.type="raster",y.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),o==="circle"&&r("circle.radius"),o==="line"&&(r("line.width"),r("line.dash")),o==="fill"&&r("fill.outlinecolor"),o==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),y.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(W,V,e){var y=e(44517),C=e(71828),a=e(41327),L=e(73972),x=e(89298),h=e(28569),d=e(30211),t=e(64505),r=t.drawMode,u=t.selectMode,n=e(47322).prepSelect,i=e(47322).clearOutline,s=e(47322).clearSelectionsCache,o=e(47322).selectOnClick,m=e(77734),c=e(67911);function b(R,T){this.id=T,this.gd=R;var E=R._fullLayout,A=R._context;this.container=E._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var v=b.prototype;v.plot=function(R,T,E){var A=this,f=T[A.id];A.map&&f.accesstoken!==A.accessToken&&(A.map.remove(),A.map=null,A.styleObj=null,A.traceHash={},A.layerList=[]);var P;A.map?P=new Promise(function(w,z){A.updateMap(R,T,w,z)}):P=new Promise(function(w,z){A.createMap(R,T,w,z)}),E.push(P)},v.createMap=function(R,T,E,A){var f=this,P=T[f.id],w=f.styleObj=p(P.style);f.accessToken=P.accesstoken;var z=P.bounds,F=z?[[z.west,z.south],[z.east,z.north]]:null,H=f.map=new y.Map({container:f.div,style:w.style,center:M(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:F,interactive:!f.isStatic,preserveDrawingBuffer:f.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new y.AttributionControl({compact:!0}));H._canvas.style.left="0px",H._canvas.style.top="0px",f.rejectOnError(A),f.isStatic||f.initFx(R,T);var _=[];_.push(new Promise(function(B){H.once("load",B)})),_=_.concat(a.fetchTraceGeoData(R)),Promise.all(_).then(function(){f.fillBelowLookup(R,T),f.updateData(R),f.updateLayout(T),f.resolveOnRender(E)}).catch(A)},v.updateMap=function(R,T,E,A){var f=this,P=f.map,w=T[this.id];f.rejectOnError(A);var z=[],F=p(w.style);JSON.stringify(f.styleObj)!==JSON.stringify(F)&&(f.styleObj=F,P.setStyle(F.style),f.traceHash={},z.push(new Promise(function(H){P.once("styledata",H)}))),z=z.concat(a.fetchTraceGeoData(R)),Promise.all(z).then(function(){f.fillBelowLookup(R,T),f.updateData(R),f.updateLayout(T),f.resolveOnRender(E)}).catch(A)},v.fillBelowLookup=function(R,T){var E=T[this.id],A=E.layers,f,P,w=this.belowLookup={},z=!1;for(f=0;f<R.length;f++){var F=R[f][0].trace,H=F._module;typeof F.below=="string"?P=F.below:H.getBelow&&(P=H.getBelow(F,this)),P===""&&(z=!0),w["trace-"+F.uid]=P||""}for(f=0;f<A.length;f++){var _=A[f];typeof _.below=="string"?P=_.below:z?P="traces":P="",w["layout-"+f]=P}var B={},N,O;for(N in w)P=w[N],B[P]?B[P].push(N):B[P]=[N];for(P in B){var U=B[P];if(U.length>1)for(f=0;f<U.length;f++)N=U[f],N.indexOf("trace-")===0?(O=N.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):N.indexOf("layout-")===0&&(O=N.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var l={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};v.updateData=function(R){var T=this.traceHash,E,A,f,P,w=R.slice().sort(function(B,N){return l[B[0].trace.type]-l[N[0].trace.type]});for(f=0;f<w.length;f++){var z=w[f];A=z[0].trace,E=T[A.uid];var F=!1;E&&(E.type===A.type?(E.update(z),F=!0):E.dispose()),!F&&A._module&&(T[A.uid]=A._module.plot(this,z))}var H=Object.keys(T);e:for(f=0;f<H.length;f++){var _=H[f];for(P=0;P<R.length;P++)if(A=R[P][0].trace,_===A.uid)continue e;E=T[_],E.dispose(),delete T[_]}},v.updateLayout=function(R){var T=this.map,E=R[this.id];!this.dragging&&!this.wheeling&&(T.setCenter(M(E.center)),T.setZoom(E.zoom),T.setBearing(E.bearing),T.setPitch(E.pitch)),this.updateLayers(R),this.updateFramework(R),this.updateFx(R),this.map.resize(),this.gd._context._scrollZoom.mapbox?T.scrollZoom.enable():T.scrollZoom.disable()},v.resolveOnRender=function(R){var T=this.map;T.on("render",function E(){T.loaded()&&(T.off("render",E),setTimeout(R,10))})},v.rejectOnError=function(R){var T=this.map;function E(){R(new Error(m.mapOnErrorMsg))}T.once("error",E),T.once("style.error",E),T.once("source.error",E),T.once("tile.error",E),T.once("layer.error",E)},v.createFramework=function(R){var T=this,E=T.div=document.createElement("div");E.id=T.uid,E.style.position="absolute",T.container.appendChild(E),T.xaxis={_id:"x",c2p:function(A){return T.project(A).x}},T.yaxis={_id:"y",c2p:function(A){return T.project(A).y}},T.updateFramework(R),T.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},x.setConvert(T.mockAxis,R)},v.initFx=function(R,T){var E=this,A=E.gd,f=E.map;f.on("moveend",function(z){if(E.map){var F=A._fullLayout;if(z.originalEvent||E.wheeling){var H=F[E.id];L.call("_storeDirectGUIEdit",A.layout,F._preGUI,E.getViewEdits(H));var _=E.getView();H._input.center=H.center=_.center,H._input.zoom=H.zoom=_.zoom,H._input.bearing=H.bearing=_.bearing,H._input.pitch=H.pitch=_.pitch,A.emit("plotly_relayout",E.getViewEditsWithDerived(_))}z.originalEvent&&z.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),F._rehover&&F._rehover()}}),f.on("wheel",function(){E.wheeling=!0}),f.on("mousemove",function(z){var F=E.div.getBoundingClientRect(),H=[z.originalEvent.offsetX,z.originalEvent.offsetY];z.target.getBoundingClientRect=function(){return F},E.xaxis.p2c=function(){return f.unproject(H).lng},E.yaxis.p2c=function(){return f.unproject(H).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===E.id&&A._fullLayout[E.id]&&d.hover(A,z,E.id)},d.hover(A,z,E.id),A._fullLayout._hoversubplot=E.id});function P(){d.loneUnhover(T._hoverlayer)}f.on("dragstart",function(){E.dragging=!0,P()}),f.on("zoomstart",P),f.on("mouseout",function(){A._fullLayout._hoversubplot=null});function w(){var z=E.getView();A.emit("plotly_relayouting",E.getViewEditsWithDerived(z))}f.on("drag",w),f.on("zoom",w),f.on("dblclick",function(){var z=A._fullLayout[E.id];L.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,E.getViewEdits(z));var F=E.viewInitial;f.setCenter(M(F.center)),f.setZoom(F.zoom),f.setBearing(F.bearing),f.setPitch(F.pitch);var H=E.getView();z._input.center=z.center=H.center,z._input.zoom=z.zoom=H.zoom,z._input.bearing=z.bearing=H.bearing,z._input.pitch=z.pitch=H.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",E.getViewEditsWithDerived(H))}),E.clearOutline=function(){s(E.dragOptions),i(E.dragOptions.gd)},E.onClickInPanFn=function(z){return function(F){var H=A._fullLayout.clickmode;H.indexOf("select")>-1&&o(F.originalEvent,A,[E.xaxis],[E.yaxis],E.id,z),H.indexOf("event")>-1&&d.click(A,F.originalEvent)}}},v.updateFx=function(R){var T=this,E=T.map,A=T.gd;if(T.isStatic)return;function f(F){var H=T.map.unproject(F);return[H.lng,H.lat]}var P=R.dragmode,w;w=function(F,H){if(H.isRect){var _=F.range={};_[T.id]=[f([H.xmin,H.ymin]),f([H.xmax,H.ymax])]}else{var B=F.lassoPoints={};B[T.id]=H.map(f)}};var z=T.dragOptions;T.dragOptions=C.extendDeep(z||{},{dragmode:R.dragmode,element:T.div,gd:A,plotinfo:{id:T.id,domain:R[T.id].domain,xaxis:T.xaxis,yaxis:T.yaxis,fillRangeItems:w},xaxes:[T.xaxis],yaxes:[T.yaxis],subplot:T.id}),E.off("click",T.onClickInPanHandler),u(P)||r(P)?(E.dragPan.disable(),E.on("zoomstart",T.clearOutline),T.dragOptions.prepFn=function(F,H,_){n(F,H,_,T.dragOptions,P)},h.init(T.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",T.clearOutline),T.div.onmousedown=null,T.div.ontouchstart=null,T.div.removeEventListener("touchstart",T.div._ontouchstart),T.onClickInPanHandler=T.onClickInPanFn(T.dragOptions),E.on("click",T.onClickInPanHandler))},v.updateFramework=function(R){var T=R[this.id].domain,E=R._size,A=this.div.style;A.width=E.w*(T.x[1]-T.x[0])+"px",A.height=E.h*(T.y[1]-T.y[0])+"px",A.left=E.l+T.x[0]*E.w+"px",A.top=E.t+(1-T.y[1])*E.h+"px",this.xaxis._offset=E.l+T.x[0]*E.w,this.xaxis._length=E.w*(T.x[1]-T.x[0]),this.yaxis._offset=E.t+(1-T.y[1])*E.h,this.yaxis._length=E.h*(T.y[1]-T.y[0])},v.updateLayers=function(R){var T=R[this.id],E=T.layers,A=this.layerList,f;if(E.length!==A.length){for(f=0;f<A.length;f++)A[f].dispose();for(A=this.layerList=[],f=0;f<E.length;f++)A.push(c(this,f,E[f]))}else for(f=0;f<E.length;f++)A[f].update(E[f])},v.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},v.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},v.setOptions=function(R,T,E){for(var A in E)this.map[T](R,A,E[A])},v.getMapLayers=function(){return this.map.getStyle().layers},v.addLayer=function(R,T){var E=this.map;if(typeof T=="string"){if(T===""){E.addLayer(R,T);return}for(var A=this.getMapLayers(),f=0;f<A.length;f++)if(T===A[f].id){E.addLayer(R,T);return}C.warn(["Trying to add layer with *below* value",T,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(R)},v.project=function(R){return this.map.project(new y.LngLat(R[0],R[1]))},v.getView=function(){var R=this.map,T=R.getCenter(),E=T.lng,A=T.lat,f={lon:E,lat:A},P=R.getCanvas(),w=parseInt(P.style.width),z=parseInt(P.style.height);return{center:f,zoom:R.getZoom(),bearing:R.getBearing(),pitch:R.getPitch(),_derived:{coordinates:[R.unproject([0,0]).toArray(),R.unproject([w,0]).toArray(),R.unproject([w,z]).toArray(),R.unproject([0,z]).toArray()]}}},v.getViewEdits=function(R){for(var T=this.id,E=["center","zoom","bearing","pitch"],A={},f=0;f<E.length;f++){var P=E[f];A[T+"."+P]=R[P]}return A},v.getViewEditsWithDerived=function(R){var T=this.id,E=this.getViewEdits(R);return E[T+"._derived"]=R._derived,E};function p(R){var T={};return C.isPlainObject(R)?(T.id=R.id,T.style=R):typeof R=="string"?(T.id=R,m.styleValuesMapbox.indexOf(R)!==-1?T.style=S(R):m.stylesNonMapbox[R]?T.style=m.stylesNonMapbox[R]:T.style=R):(T.id=m.styleValueDflt,T.style=S(m.styleValueDflt)),T.transition={duration:0,delay:0},T}function S(R){return m.styleUrlPrefix+R+"-"+m.styleUrlSuffix}function M(R){return[R.lon,R.lat]}W.exports=b},35025:function(W){W.exports=function(V){var e=V.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(W,V,e){var y=e(39898),C=e(84096).Dq,a=e(60721).FF,L=e(92770),x=e(73972),h=e(86281),d=e(44467),t=e(71828),r=e(7901),u=e(50606).BADNUM,n=e(41675),i=e(51873).clearOutline,s=e(21479),o=e(85594),m=e(31391),c=e(27659).a0,b=t.relinkPrivateKeys,v=t._,l=W.exports={};t.extendFlat(l,x),l.attributes=e(9012),l.attributes.type.values=l.allTypes,l.fontAttrs=e(41940),l.layoutAttributes=e(10820),l.fontWeight="normal";var p=l.transformsRegistry,S=e(31137);l.executeAPICommand=S.executeAPICommand,l.computeAPICommandBindings=S.computeAPICommandBindings,l.manageCommandObserver=S.manageCommandObserver,l.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,l.redrawText=function(Q){return Q=t.getGraphDiv(Q),new Promise(function(X){setTimeout(function(){Q._fullLayout&&(x.getComponentMethod("annotations","draw")(Q),x.getComponentMethod("legend","draw")(Q),x.getComponentMethod("colorbar","draw")(Q),X(l.previousPromises(Q)))},300)})},l.resize=function(Q){Q=t.getGraphDiv(Q);var X,q=new Promise(function(se,Y){(!Q||t.isHidden(Q))&&Y(new Error("Resize must be passed a displayed plot div element.")),Q._redrawTimer&&clearTimeout(Q._redrawTimer),Q._resolveResize&&(X=Q._resolveResize),Q._resolveResize=se,Q._redrawTimer=setTimeout(function(){if(!Q.layout||Q.layout.width&&Q.layout.height||t.isHidden(Q)){se(Q);return}delete Q.layout.width,delete Q.layout.height;var Z=Q.changed;Q.autoplay=!0,x.call("relayout",Q,{autosize:!0}).then(function(){Q.changed=Z,Q._resolveResize===se&&(delete Q._resolveResize,se(Q))})},100)});return X&&X(q),q},l.previousPromises=function(Q){if((Q._promises||[]).length)return Promise.all(Q._promises).then(function(){Q._promises=[]})},l.addLinks=function(Q){if(!(!Q._context.showLink&&!Q._context.showSources)){var X=Q._fullLayout,q=t.ensureSingle(X._paper,"text","js-plot-link-container",function(fe){fe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var de=y.select(this);de.append("tspan").classed("js-link-to-tool",!0),de.append("tspan").classed("js-link-spacer",!0),de.append("tspan").classed("js-sourcelinks",!0)})}),se=q.node(),Y={y:X._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=X.width-20?(Y["text-anchor"]="start",Y.x=5):(Y["text-anchor"]="end",Y.x=X._paper.attr("width")-7),q.attr(Y);var Z=q.select(".js-link-to-tool"),ie=q.select(".js-link-spacer"),te=q.select(".js-sourcelinks");Q._context.showSources&&Q._context.showSources(Q),Q._context.showLink&&M(Q,Z),ie.text(Z.text()&&te.text()?" - ":"")}};function M(Q,X){X.text("");var q=X.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Q._context.linkText+" "+String.fromCharCode(187));if(Q._context.sendData)q.on("click",function(){l.sendDataToCloud(Q)});else{var se=window.location.pathname.split("/"),Y=window.location.search;q.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+Y})}}l.sendDataToCloud=function(Q){var X=(window.PLOTLYENV||{}).BASE_URL||Q._context.plotlyServerURL;if(X){Q.emit("plotly_beforeexport");var q=y.select(Q).append("div").attr("id","hiddenform").style("display","none"),se=q.append("form").attr({action:X+"/external",method:"post",target:"_blank"}),Y=se.append("input").attr({type:"text",name:"data"});return Y.node().value=l.graphJson(Q,!1,"keepdata"),se.node().submit(),q.remove(),Q.emit("plotly_afterexport"),!1}};var R=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],T=["year","month","dayMonth","dayMonthYear"];l.supplyDefaults=function(Q,X){var q=X&&X.skipUpdateCalc,se=Q._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var Y=Q._fullLayout={},Z=Q.layout||{},ie=Q._fullData||[],te=Q._fullData=[],fe=Q.data||[],de=Q.calcdata||[],we=Q._context||{},Ae;Q._transitionData||l.createTransitionData(Q),Y._dfltTitle={plot:v(Q,"Click to enter Plot title"),x:v(Q,"Click to enter X axis title"),y:v(Q,"Click to enter Y axis title"),colorbar:v(Q,"Click to enter Colorscale title"),annotation:v(Q,"new text")},Y._traceWord=v(Q,"trace");var Re=f(Q,R);if(Y._mapboxAccessToken=we.mapboxAccessToken,se._initialAutoSizeIsDone){var Fe=se.width,Se=se.height;l.supplyLayoutGlobalDefaults(Z,Y,Re),Z.width||(Y.width=Fe),Z.height||(Y.height=Se),l.sanitizeMargins(Y)}else{l.supplyLayoutGlobalDefaults(Z,Y,Re);var Te=!Z.width||!Z.height,Ee=Y.autosize,Ne=we.autosizable,He=Te&&(Ee||Ne);He?l.plotAutoSize(Q,Z,Y):Te&&l.sanitizeMargins(Y),!Ee&&Te&&(Z.width=Y.width,Z.height=Y.height)}Y._d3locale=P(Re,Y.separators),Y._extraFormat=f(Q,T),Y._initialAutoSizeIsDone=!0,Y._dataLength=fe.length,Y._modules=[],Y._visibleModules=[],Y._basePlotModules=[];var _e=Y._subplots=A(),We=Y._splomAxes={x:{},y:{}},tt=Y._splomSubplots={};Y._splomGridDflt={},Y._scatterStackOpts={},Y._firstScatter={},Y._alignmentOpts={},Y._colorAxes={},Y._requestRangeslider={},Y._traceUids=E(ie,fe),Y._globalTransforms=(Q._context||{}).globalTransforms,l.supplyDataDefaults(fe,te,Z,Y);var Ke=Object.keys(We.x),qe=Object.keys(We.y);if(Ke.length>1&&qe.length>1){for(x.getComponentMethod("grid","sizeDefaults")(Z,Y),Ae=0;Ae<Ke.length;Ae++)t.pushUnique(_e.xaxis,Ke[Ae]);for(Ae=0;Ae<qe.length;Ae++)t.pushUnique(_e.yaxis,qe[Ae]);for(var rt in tt)t.pushUnique(_e.cartesian,rt)}if(Y._has=l._hasPlotType.bind(Y),ie.length===te.length)for(Ae=0;Ae<te.length;Ae++)b(te[Ae],ie[Ae]);l.supplyLayoutModuleDefaults(Z,Y,te,Q._transitionData);var ft=Y._visibleModules,pt=[];for(Ae=0;Ae<ft.length;Ae++){var gt=ft[Ae].crossTraceDefaults;gt&&t.pushUnique(pt,gt)}for(Ae=0;Ae<pt.length;Ae++)pt[Ae](te,Y);Y._hasOnlyLargeSploms=Y._basePlotModules.length===1&&Y._basePlotModules[0].name==="splom"&&Ke.length>15&&qe.length>15&&Y.shapes.length===0&&Y.images.length===0,l.linkSubplots(te,Y,ie,se),l.cleanPlot(te,Y,ie,se);var Mt=!!(se._has&&se._has("gl2d")),Lt=!!(Y._has&&Y._has("gl2d")),Wt=!!(se._has&&se._has("cartesian")),Je=!!(Y._has&&Y._has("cartesian")),ze=Wt||Mt,Oe=Je||Lt;ze&&!Oe?se._bgLayer.remove():Oe&&!ze&&(Y._shouldCreateBgLayer=!0),se._zoomlayer&&!Q._dragging&&i({_fullLayout:se}),w(te,Y),b(Y,se),x.getComponentMethod("colorscale","crossTraceDefaults")(te,Y),Y._preGUI||(Y._preGUI={}),Y._tracePreGUI||(Y._tracePreGUI={});var Ue=Y._tracePreGUI,ke={},Me;for(Me in Ue)ke[Me]="old";for(Ae=0;Ae<te.length;Ae++)Me=te[Ae]._fullInput.uid,ke[Me]||(Ue[Me]={}),ke[Me]="new";for(Me in ke)ke[Me]==="old"&&delete Ue[Me];B(Y),x.getComponentMethod("rangeslider","makeData")(Y),!q&&de.length===te.length&&l.supplyDefaultsUpdateCalc(de,te)},l.supplyDefaultsUpdateCalc=function(Q,X){for(var q=0;q<X.length;q++){var se=X[q],Y=(Q[q]||[])[0];if(Y&&Y.trace){var Z=Y.trace;if(Z._hasCalcTransform){var ie=Z._arrayAttrs,te,fe,de;for(te=0;te<ie.length;te++)fe=ie[te],de=t.nestedProperty(Z,fe).get().slice(),t.nestedProperty(se,fe).set(de)}Y.trace=se}}};function E(Q,X){var q=X.length,se=[],Y,Z;for(Y=0;Y<Q.length;Y++){var ie=Q[Y]._fullInput;ie!==Z&&se.push(ie),Z=ie}var te=se.length,fe=new Array(q),de={};function we(Fe,Se){fe[Se]=Fe,de[Fe]=1}function Ae(Fe,Se){if(Fe&&typeof Fe=="string"&&!de[Fe])return we(Fe,Se),!0}for(Y=0;Y<q;Y++){var Re=X[Y].uid;typeof Re=="number"&&(Re=String(Re)),!Ae(Re,Y)&&(Y<te&&Ae(se[Y].uid,Y)||we(t.randstr(de),Y))}return fe}function A(){var Q=x.collectableSubplotTypes,X={},q,se;if(!Q){Q=[];var Y=x.subplotsRegistry;for(var Z in Y){var ie=Y[Z],te=ie.attr;if(te&&(Q.push(Z),Array.isArray(te)))for(se=0;se<te.length;se++)t.pushUnique(Q,te[se])}}for(q=0;q<Q.length;q++)X[Q[q]]=[];return X}function f(Q,X){var q=Q._context.locale;q||(q="en-US");var se=!1,Y={};function Z(Ae){for(var Re=!0,Fe=0;Fe<X.length;Fe++){var Se=X[Fe];Y[Se]||(Ae[Se]?Y[Se]=Ae[Se]:Re=!1)}Re&&(se=!0)}for(var ie=0;ie<2;ie++){for(var te=Q._context.locales,fe=0;fe<2;fe++){var de=(te[q]||{}).format;if(de&&(Z(de),se))break;te=x.localeRegistry}var we=q.split("-")[0];if(se||we===q)break;q=we}return se||Z(x.localeRegistry.en.format),Y}function P(Q,X){return Q.decimal=X.charAt(0),Q.thousands=X.charAt(1),{numberFormat:function(q){try{q=a(Q).format(t.adjustFormat(q))}catch{return t.warnBadFormat(q),t.noFormat}return q},timeFormat:C(Q).utcFormat}}function w(Q,X){var q,se=[];X.meta&&(q=X._meta={meta:X.meta,layout:{meta:X.meta}});for(var Y=0;Y<Q.length;Y++){var Z=Q[Y];Z.meta?se[Z.index]=Z._meta={meta:Z.meta}:X.meta&&(Z._meta={meta:X.meta}),X.meta&&(Z._meta.layout={meta:X.meta})}se.length&&(q||(q=X._meta={}),q.data=se)}l.createTransitionData=function(Q){Q._transitionData||(Q._transitionData={}),Q._transitionData._frames||(Q._transitionData._frames=[]),Q._transitionData._frameHash||(Q._transitionData._frameHash={}),Q._transitionData._counter||(Q._transitionData._counter=0),Q._transitionData._interruptCallbacks||(Q._transitionData._interruptCallbacks=[])},l._hasPlotType=function(Q){var X,q=this._basePlotModules||[];for(X=0;X<q.length;X++)if(q[X].name===Q)return!0;var se=this._modules||[];for(X=0;X<se.length;X++){var Y=se[X].name;if(Y===Q)return!0;var Z=x.modules[Y];if(Z&&Z.categories[Q])return!0}return!1},l.cleanPlot=function(Q,X,q,se){var Y,Z,ie=se._basePlotModules||[];for(Y=0;Y<ie.length;Y++){var te=ie[Y];te.clean&&te.clean(Q,X,q,se)}var fe=se._has&&se._has("gl"),de=X._has&&X._has("gl");fe&&!de&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var we=!!se._infolayer;e:for(Y=0;Y<q.length;Y++){var Ae=q[Y],Re=Ae.uid;for(Z=0;Z<Q.length;Z++){var Fe=Q[Z];if(Re===Fe.uid)continue e}we&&se._infolayer.select(".cb"+Re).remove()}},l.linkSubplots=function(Q,X,q,se){var Y,Z,ie=se._plots||{},te=X._plots={},fe=X._subplots,de={_fullData:Q,_fullLayout:X},we=fe.cartesian.concat(fe.gl2d||[]);for(Y=0;Y<we.length;Y++){var Ae=we[Y],Re=ie[Ae],Fe=n.getFromId(de,Ae,"x"),Se=n.getFromId(de,Ae,"y"),Te;for(Re?Te=te[Ae]=Re:(Te=te[Ae]={},Te.id=Ae),Fe._counterAxes.push(Se._id),Se._counterAxes.push(Fe._id),Fe._subplotsWith.push(Ae),Se._subplotsWith.push(Ae),Te.xaxis=Fe,Te.yaxis=Se,Te._hasClipOnAxisFalse=!1,Z=0;Z<Q.length;Z++){var Ee=Q[Z];if(Ee.xaxis===Te.xaxis._id&&Ee.yaxis===Te.yaxis._id&&Ee.cliponaxis===!1){Te._hasClipOnAxisFalse=!0;break}}}var Ne=n.list(de,null,!0),He;for(Y=0;Y<Ne.length;Y++){He=Ne[Y];var _e=null;He.overlaying&&(_e=n.getFromId(de,He.overlaying),_e&&_e.overlaying&&(He.overlaying=!1,_e=null)),He._mainAxis=_e||He,_e&&(He.domain=_e.domain.slice()),He._anchorAxis=He.anchor==="free"?null:n.getFromId(de,He.anchor)}for(Y=0;Y<Ne.length;Y++)if(He=Ne[Y],He._counterAxes.sort(n.idSort),He._subplotsWith.sort(t.subplotSort),He._mainSubplot=z(He,X),He._counterAxes.length&&(He.spikemode&&He.spikemode.indexOf("across")!==-1||He.automargin&&He.mirror&&He.anchor!=="free"||x.getComponentMethod("rangeslider","isVisible")(He))){var We=1,tt=0;for(Z=0;Z<He._counterAxes.length;Z++){var Ke=n.getFromId(de,He._counterAxes[Z]);We=Math.min(We,Ke.domain[0]),tt=Math.max(tt,Ke.domain[1])}We<tt&&(He._counterDomainMin=We,He._counterDomainMax=tt)}};function z(Q,X){var q={_fullLayout:X},se=Q._id.charAt(0)==="x",Y=Q._mainAxis._anchorAxis,Z="",ie="",te="";if(Y&&(te=Y._mainAxis._id,Z=se?Q._id+te:te+Q._id),!Z||!X._plots[Z]){Z="";for(var fe=Q._counterAxes,de=0;de<fe.length;de++){var we=fe[de],Ae=se?Q._id+we:we+Q._id;ie||(ie=Ae);var Re=n.getFromId(q,we);if(te&&Re.overlaying===te){Z=Ae;break}}}return Z||ie}l.clearExpandedTraceDefaultColors=function(Q){var X,q,se;function Y(ie,te,fe,de){q[de]=te,q.length=de+1,ie.valType==="color"&&ie.dflt===void 0&&X.push(q.join("."))}for(q=[],X=Q._module._colorAttrs,X||(Q._module._colorAttrs=X=[],h.crawl(Q._module.attributes,Y)),se=0;se<X.length;se++){var Z=t.nestedProperty(Q,"_input."+X[se]);Z.get()||t.nestedProperty(Q,X[se]).set(null)}},l.supplyDataDefaults=function(Q,X,q,se){var Y=se._modules,Z=se._visibleModules,ie=se._basePlotModules,te=0,fe=0,de,we,Ae;se._transformModules=[];function Re(qe){X.push(qe);var rt=qe._module;rt&&(t.pushUnique(Y,rt),qe.visible===!0&&t.pushUnique(Z,rt),t.pushUnique(ie,qe._module.basePlotModule),te++,qe._input.visible!==!1&&fe++)}var Fe={},Se=[],Te=(q.template||{}).data||{},Ee=d.traceTemplater(Te);for(de=0;de<Q.length;de++){if(Ae=Q[de],we=Ee.newTrace(Ae),we.uid=se._traceUids[de],l.supplyTraceDefaults(Ae,we,fe,se,de),we.index=de,we._input=Ae,we._expandedIndex=te,we.transforms&&we.transforms.length)for(var Ne=Ae.visible!==!1&&we.visible===!1,He=H(we,X,q,se),_e=0;_e<He.length;_e++){var We=He[_e],tt={_template:we._template,type:we.type,uid:we.uid+_e};Ne&&We.visible===!1&&delete We.visible,l.supplyTraceDefaults(We,tt,te,se,de),b(tt,We),tt.index=de,tt._input=Ae,tt._fullInput=we,tt._expandedIndex=te,tt._expandedInput=We,Re(tt)}else we._fullInput=we,we._expandedInput=we,Re(we);x.traceIs(we,"carpetAxis")&&(Fe[we.carpet]=we),x.traceIs(we,"carpetDependent")&&Se.push(de)}for(de=0;de<Se.length;de++)if(we=X[Se[de]],!!we.visible){var Ke=Fe[we.carpet];if(we._carpet=Ke,!Ke||!Ke.visible){we.visible=!1;continue}we.xaxis=Ke.xaxis,we.yaxis=Ke.yaxis}},l.supplyAnimationDefaults=function(Q){Q=Q||{};var X,q={};function se(Y,Z){return t.coerce(Q||{},q,o,Y,Z)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(Q.frame))for(q.frame=[],X=0;X<Q.frame.length;X++)q.frame[X]=l.supplyAnimationFrameDefaults(Q.frame[X]||{});else q.frame=l.supplyAnimationFrameDefaults(Q.frame||{});if(Array.isArray(Q.transition))for(q.transition=[],X=0;X<Q.transition.length;X++)q.transition[X]=l.supplyAnimationTransitionDefaults(Q.transition[X]||{});else q.transition=l.supplyAnimationTransitionDefaults(Q.transition||{});return q},l.supplyAnimationFrameDefaults=function(Q){var X={};function q(se,Y){return t.coerce(Q||{},X,o.frame,se,Y)}return q("duration"),q("redraw"),X},l.supplyAnimationTransitionDefaults=function(Q){var X={};function q(se,Y){return t.coerce(Q||{},X,o.transition,se,Y)}return q("duration"),q("easing"),X},l.supplyFrameDefaults=function(Q){var X={};function q(se,Y){return t.coerce(Q,X,m,se,Y)}return q("group"),q("name"),q("traces"),q("baseframe"),q("data"),q("layout"),X},l.supplyTraceDefaults=function(Q,X,q,se,Y){var Z=se.colorway||r.defaults,ie=Z[q%Z.length],te;function fe(He,_e){return t.coerce(Q,X,l.attributes,He,_e)}var de=fe("visible");fe("type"),fe("name",se._traceWord+" "+Y),fe("uirevision",se.uirevision);var we=l.getModule(X);if(X._module=we,we){var Ae=we.basePlotModule,Re=Ae.attr,Fe=Ae.attributes;if(Re&&Fe){var Se=se._subplots,Te="";if(de||Ae.name!=="gl2d"){if(Array.isArray(Re))for(te=0;te<Re.length;te++){var Ee=Re[te],Ne=t.coerce(Q,X,Fe,Ee);Se[Ee]&&t.pushUnique(Se[Ee],Ne),Te+=Ne}else Te=t.coerce(Q,X,Fe,Re);Se[Ae.name]&&t.pushUnique(Se[Ae.name],Te)}}}return de&&(fe("customdata"),fe("ids"),fe("meta"),x.traceIs(X,"showLegend")?(t.coerce(Q,X,we.attributes.showlegend?we.attributes:l.attributes,"showlegend"),fe("legend"),fe("legendwidth"),fe("legendgroup"),fe("legendgrouptitle.text"),fe("legendrank"),X._dfltShowLegend=!0):X._dfltShowLegend=!1,we&&we.supplyDefaults(Q,X,ie,se),x.traceIs(X,"noOpacity")||fe("opacity"),x.traceIs(X,"notLegendIsolatable")&&(X.visible=!!X.visible),x.traceIs(X,"noHover")||(X.hovertemplate||t.coerceHoverinfo(Q,X,se),X.type!=="parcats"&&x.getComponentMethod("fx","supplyDefaults")(Q,X,ie,se)),we&&we.selectPoints&&fe("selectedpoints"),l.supplyTransformDefaults(Q,X,se)),X};function F(Q){var X=Q.transforms;if(Array.isArray(X)&&X.length)for(var q=0;q<X.length;q++){var se=X[q],Y=se._module||p[se.type];if(Y&&Y.makesData)return!0}return!1}l.hasMakesDataTransform=F,l.supplyTransformDefaults=function(Q,X,q){if(X._length||F(Q)){var se=q._globalTransforms||[],Y=q._transformModules||[];if(!(!Array.isArray(Q.transforms)&&se.length===0))for(var Z=Q.transforms||[],ie=se.concat(Z),te=X.transforms=[],fe=0;fe<ie.length;fe++){var de=ie[fe],we=de.type,Ae=p[we],Re,Fe=!(de._module&&de._module===Ae),Se=Ae&&typeof Ae.transform=="function";Ae||t.warn("Unrecognized transform type "+we+"."),Ae&&Ae.supplyDefaults&&(Fe||Se)?(Re=Ae.supplyDefaults(de,X,q,Q),Re.type=we,Re._module=Ae,t.pushUnique(Y,Ae)):Re=t.extendFlat({},de),te.push(Re)}}};function H(Q,X,q,se){for(var Y=Q.transforms,Z=[Q],ie=0;ie<Y.length;ie++){var te=Y[ie],fe=p[te.type];fe&&fe.transform&&(Z=fe.transform(Z,{transform:te,fullTrace:Q,fullData:X,layout:q,fullLayout:se,transformIndex:ie}))}return Z}l.supplyLayoutGlobalDefaults=function(Q,X,q){function se(Ae,Re){return t.coerce(Q,X,l.layoutAttributes,Ae,Re)}var Y=Q.template;t.isPlainObject(Y)&&(X.template=Y,X._template=Y.layout,X._dataTemplate=Y.data),se("autotypenumbers");var Z=t.coerceFont(se,"font"),ie=Z.size;t.coerceFont(se,"title.font",t.extendFlat({},Z,{size:Math.round(ie*1.4)})),se("title.text",X._dfltTitle.plot),se("title.xref");var te=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var fe=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),fe&&(te==="paper"&&(X.title.y!==0&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y===0?"top":"bottom")),te==="container"&&(X.title.y==="auto"&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y<.5?"bottom":"top")));var de=se("uniformtext.mode");de&&se("uniformtext.minsize"),se("autosize",!(Q.width&&Q.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),Q.width&&Q.height&&l.sanitizeMargins(X),x.getComponentMethod("grid","sizeDefaults")(Q,X),se("paper_bgcolor"),se("separators",q.decimal+q.thousands),se("hidesources"),se("colorway"),se("datarevision");var we=se("uirevision");se("editrevision",we),se("selectionrevision",we),x.getComponentMethod("modebar","supplyLayoutDefaults")(Q,X),x.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Q,X,se),x.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Q,X,se),se("meta"),t.isPlainObject(Q.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),x.getComponentMethod("calendars","handleDefaults")(Q,X,"calendar"),x.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Q,X,se),t.coerce(Q,X,s,"scattermode")};function _(Q){return typeof Q=="string"&&Q.substr(Q.length-2)==="px"&&parseFloat(Q)}l.plotAutoSize=function(X,q,se){var Y=X._context||{},Z=Y.frameMargins,ie,te,fe=t.isPlotDiv(X);if(fe&&X.emit("plotly_autosize"),Y.fillFrame)ie=window.innerWidth,te=window.innerHeight,document.body.style.overflow="hidden";else{var de=fe?window.getComputedStyle(X):{};if(ie=_(de.width)||_(de.maxWidth)||se.width,te=_(de.height)||_(de.maxHeight)||se.height,L(Z)&&Z>0){var we=1-2*Z;ie=Math.round(we*ie),te=Math.round(we*te)}}var Ae=l.layoutAttributes.width.min,Re=l.layoutAttributes.height.min;ie<Ae&&(ie=Ae),te<Re&&(te=Re);var Fe=!q.width&&Math.abs(se.width-ie)>1,Se=!q.height&&Math.abs(se.height-te)>1;(Se||Fe)&&(Fe&&(se.width=ie),Se&&(se.height=te)),X._initialAutoSize||(X._initialAutoSize={width:ie,height:te}),l.sanitizeMargins(se)},l.supplyLayoutModuleDefaults=function(Q,X,q,se){var Y=x.componentsRegistry,Z=X._basePlotModules,ie,te,fe,de=x.subplotsRegistry.cartesian;for(ie in Y)fe=Y[ie],fe.includeBasePlot&&fe.includeBasePlot(Q,X);Z.length||Z.push(de),X._has("cartesian")&&(x.getComponentMethod("grid","contentDefaults")(Q,X),de.finalizeSubplots(Q,X));for(var we in X._subplots)X._subplots[we].sort(t.subplotSort);for(te=0;te<Z.length;te++)fe=Z[te],fe.supplyLayoutDefaults&&fe.supplyLayoutDefaults(Q,X,q);var Ae=X._modules;for(te=0;te<Ae.length;te++)fe=Ae[te],fe.supplyLayoutDefaults&&fe.supplyLayoutDefaults(Q,X,q);var Re=X._transformModules;for(te=0;te<Re.length;te++)fe=Re[te],fe.supplyLayoutDefaults&&fe.supplyLayoutDefaults(Q,X,q,se);for(ie in Y)fe=Y[ie],fe.supplyLayoutDefaults&&fe.supplyLayoutDefaults(Q,X,q)},l.purge=function(Q){var X=Q._fullLayout||{};X._glcontainer!==void 0&&(X._glcontainer.selectAll(".gl-canvas").remove(),X._glcontainer.remove(),X._glcanvas=null),X._modeBar&&X._modeBar.destroy(),Q._transitionData&&(Q._transitionData._interruptCallbacks&&(Q._transitionData._interruptCallbacks.length=0),Q._transitionData._animationRaf&&window.cancelAnimationFrame(Q._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Q),delete Q.data,delete Q.layout,delete Q._fullData,delete Q._fullLayout,delete Q.calcdata,delete Q.empty,delete Q.fid,delete Q.undoqueue,delete Q.undonum,delete Q.autoplay,delete Q.changed,delete Q._promises,delete Q._redrawTimer,delete Q._hmlumcount,delete Q._hmpixcount,delete Q._transitionData,delete Q._transitioning,delete Q._initialAutoSize,delete Q._transitioningWithDuration,delete Q._dragging,delete Q._dragged,delete Q._dragdata,delete Q._hoverdata,delete Q._snapshotInProgress,delete Q._editing,delete Q._mouseDownTime,delete Q._legendMouseDownTime,Q.removeAllListeners&&Q.removeAllListeners()},l.style=function(Q){var X=Q._fullLayout._visibleModules,q=[],se;for(se=0;se<X.length;se++){var Y=X[se];Y.style&&t.pushUnique(q,Y.style)}for(se=0;se<q.length;se++)q[se](Q)},l.sanitizeMargins=function(Q){if(!(!Q||!Q.margin)){var X=Q.width,q=Q.height,se=Q.margin,Y=X-(se.l+se.r),Z=q-(se.t+se.b),ie;Y<0&&(ie=(X-1)/(se.l+se.r),se.l=Math.floor(ie*se.l),se.r=Math.floor(ie*se.r)),Z<0&&(ie=(q-1)/(se.t+se.b),se.t=Math.floor(ie*se.t),se.b=Math.floor(ie*se.b))}},l.clearAutoMarginIds=function(Q){Q._fullLayout._pushmarginIds={}},l.allowAutoMargin=function(Q,X){Q._fullLayout._pushmarginIds[X]=1};function B(Q){var X=Q.margin;if(!Q._size){var q=Q._size={l:Math.round(X.l),r:Math.round(X.r),t:Math.round(X.t),b:Math.round(X.b),p:Math.round(X.pad)};q.w=Math.round(Q.width)-q.l-q.r,q.h=Math.round(Q.height)-q.t-q.b}Q._pushmargin||(Q._pushmargin={}),Q._pushmarginIds||(Q._pushmarginIds={}),Q._reservedMargin||(Q._reservedMargin={})}var N=2,O=2;l.autoMargin=function(Q,X,q){var se=Q._fullLayout,Y=se.width,Z=se.height,ie=se.margin,te=se.minreducedwidth,fe=se.minreducedheight,de=t.constrain(Y-ie.l-ie.r,N,te),we=t.constrain(Z-ie.t-ie.b,O,fe),Ae=Math.max(0,Y-de),Re=Math.max(0,Z-we),Fe=se._pushmargin,Se=se._pushmarginIds;if(ie.autoexpand!==!1){if(!q)delete Fe[X],delete Se[X];else{var Te=q.pad;if(Te===void 0&&(Te=Math.min(12,ie.l,ie.r,ie.t,ie.b)),Ae){var Ee=(q.l+q.r)/Ae;Ee>1&&(q.l/=Ee,q.r/=Ee)}if(Re){var Ne=(q.t+q.b)/Re;Ne>1&&(q.t/=Ne,q.b/=Ne)}var He=q.xl!==void 0?q.xl:q.x,_e=q.xr!==void 0?q.xr:q.x,We=q.yt!==void 0?q.yt:q.y,tt=q.yb!==void 0?q.yb:q.y;Fe[X]={l:{val:He,size:q.l+Te},r:{val:_e,size:q.r+Te},b:{val:tt,size:q.b+Te},t:{val:We,size:q.t+Te}},Se[X]=1}if(!se._replotting)return l.doAutoMargin(Q)}};function U(Q){if("_redrawFromAutoMarginCount"in Q._fullLayout)return!1;var X=n.list(Q,"",!0);for(var q in X)if(X[q].autoshift||X[q].shift)return!0;return!1}l.doAutoMargin=function(Q){var X=Q._fullLayout,q=X.width,se=X.height;X._size||(X._size={}),B(X);var Y=X._size,Z=X.margin,ie={t:0,b:0,l:0,r:0},te=t.extendFlat({},Y),fe=Z.l,de=Z.r,we=Z.t,Ae=Z.b,Re=X._pushmargin,Fe=X._pushmarginIds,Se=X.minreducedwidth,Te=X.minreducedheight;if(Z.autoexpand!==!1){for(var Ee in Re)Fe[Ee]||delete Re[Ee];var Ne=Q._fullLayout._reservedMargin;for(var He in Ne)for(var _e in Ne[He]){var We=Ne[He][_e];ie[_e]=Math.max(ie[_e],We)}Re.base={l:{val:0,size:fe},r:{val:1,size:de},t:{val:1,size:we},b:{val:0,size:Ae}};for(var tt in ie){var Ke=0;for(var qe in Re)qe!=="base"&&L(Re[qe][tt].size)&&(Ke=Re[qe][tt].size>Ke?Re[qe][tt].size:Ke);var rt=Math.max(0,Z[tt]-Ke);ie[tt]=Math.max(0,ie[tt]-rt)}for(var ft in Re){var pt=Re[ft].l||{},gt=Re[ft].b||{},Mt=pt.val,Lt=pt.size,Wt=gt.val,Je=gt.size,ze=q-ie.r-ie.l,Oe=se-ie.t-ie.b;for(var Ue in Re){if(L(Lt)&&Re[Ue].r){var ke=Re[Ue].r.val,Me=Re[Ue].r.size;if(ke>Mt){var ce=(Lt*ke+(Me-ze)*Mt)/(ke-Mt),be=(Me*(1-Mt)+(Lt-ze)*(1-ke))/(ke-Mt);ce+be>fe+de&&(fe=ce,de=be)}}if(L(Je)&&Re[Ue].t){var De=Re[Ue].t.val,Ve=Re[Ue].t.size;if(De>Wt){var it=(Je*De+(Ve-Oe)*Wt)/(De-Wt),ot=(Ve*(1-Wt)+(Je-Oe)*(1-De))/(De-Wt);it+ot>Ae+we&&(Ae=it,we=ot)}}}}}var Tt=t.constrain(q-Z.l-Z.r,N,Se),It=t.constrain(se-Z.t-Z.b,O,Te),Ht=Math.max(0,q-Tt),Gt=Math.max(0,se-It);if(Ht){var Pt=(fe+de)/Ht;Pt>1&&(fe/=Pt,de/=Pt)}if(Gt){var Jt=(Ae+we)/Gt;Jt>1&&(Ae/=Jt,we/=Jt)}if(Y.l=Math.round(fe)+ie.l,Y.r=Math.round(de)+ie.r,Y.t=Math.round(we)+ie.t,Y.b=Math.round(Ae)+ie.b,Y.p=Math.round(Z.pad),Y.w=Math.round(q)-Y.l-Y.r,Y.h=Math.round(se)-Y.t-Y.b,!X._replotting&&(l.didMarginChange(te,Y)||U(Q))){"_redrawFromAutoMarginCount"in X?X._redrawFromAutoMarginCount++:X._redrawFromAutoMarginCount=1;var or=3*(1+Object.keys(Fe).length);if(X._redrawFromAutoMarginCount<or)return x.call("_doPlot",Q);X._size=te,t.warn("Too many auto-margin redraws.")}K(Q)};function K(Q){var X=n.list(Q,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(q){for(var se=0;se<X.length;se++){var Y=X[se][q];Y&&Y()}})}var re=["l","r","t","b","p","w","h"];l.didMarginChange=function(Q,X){for(var q=0;q<re.length;q++){var se=re[q],Y=Q[se],Z=X[se];if(!L(Y)||Math.abs(Z-Y)>1)return!0}return!1},l.graphJson=function(Q,X,q,se,Y,Z){(Y&&X&&!Q._fullData||Y&&!X&&!Q._fullLayout)&&l.supplyDefaults(Q);var ie=Y?Q._fullData:Q.data,te=Y?Q._fullLayout:Q.layout,fe=(Q._transitionData||{})._frames;function de(Re,Fe){if(typeof Re=="function")return Fe?"_function_":null;if(t.isPlainObject(Re)){var Se={},Te;return Object.keys(Re).sort().forEach(function(Ee){if(["_","["].indexOf(Ee.charAt(0))===-1){if(typeof Re[Ee]=="function"){Fe&&(Se[Ee]="_function");return}if(q==="keepdata"){if(Ee.substr(Ee.length-3)==="src")return}else if(q==="keepstream"){if(Te=Re[Ee+"src"],typeof Te=="string"&&Te.indexOf(":")>0&&!t.isPlainObject(Re.stream))return}else if(q!=="keepall"&&(Te=Re[Ee+"src"],typeof Te=="string"&&Te.indexOf(":")>0))return;Se[Ee]=de(Re[Ee],Fe)}}),Se}return Array.isArray(Re)?Re.map(function(Ee){return de(Ee,Fe)}):t.isTypedArray(Re)?t.simpleMap(Re,t.identity):t.isJSDate(Re)?t.ms2DateTimeLocal(+Re):Re}var we={data:(ie||[]).map(function(Re){var Fe=de(Re);return X&&delete Fe.fit,Fe})};if(!X&&(we.layout=de(te),Y)){var Ae=te._size;we.layout.computed={margin:{b:Ae.b,l:Ae.l,r:Ae.r,t:Ae.t}}}return fe&&(we.frames=de(fe)),Z&&(we.config=de(Q._context,!0)),se==="object"?we:JSON.stringify(we)},l.modifyFrames=function(Q,X){var q,se,Y,Z=Q._transitionData._frames,ie=Q._transitionData._frameHash;for(q=0;q<X.length;q++)switch(se=X[q],se.type){case"replace":Y=se.value;var te=(Z[se.index]||{}).name,fe=Y.name;Z[se.index]=ie[fe]=Y,fe!==te&&(delete ie[te],ie[fe]=Y);break;case"insert":Y=se.value,ie[Y.name]=Y,Z.splice(se.index,0,Y);break;case"delete":Y=Z[se.index],delete ie[Y.name],Z.splice(se.index,1);break}return Promise.resolve()},l.computeFrame=function(Q,X){var q=Q._transitionData._frameHash,se,Y,Z,ie;if(!X)throw new Error("computeFrame must be given a string frame name");var te=q[X.toString()];if(!te)return!1;for(var fe=[te],de=[te.name];te.baseframe&&(te=q[te.baseframe.toString()])&&de.indexOf(te.name)===-1;)fe.push(te),de.push(te.name);for(var we={};te=fe.pop();)if(te.layout&&(we.layout=l.extendLayout(we.layout,te.layout)),te.data){if(we.data||(we.data=[]),Y=te.traces,!Y)for(Y=[],se=0;se<te.data.length;se++)Y[se]=se;for(we.traces||(we.traces=[]),se=0;se<te.data.length;se++)Z=Y[se],Z!=null&&(ie=we.traces.indexOf(Z),ie===-1&&(ie=we.data.length,we.traces[ie]=Z),we.data[ie]=l.extendTrace(we.data[ie],te.data[se]))}return we},l.recomputeFrameHash=function(Q){for(var X=Q._transitionData._frameHash={},q=Q._transitionData._frames,se=0;se<q.length;se++){var Y=q[se];Y&&Y.name&&(X[Y.name]=Y)}},l.extendObjectWithContainers=function(Q,X,q){var se,Y,Z,ie,te,fe,de,we,Ae=t.extendDeepNoArrays({},X||{}),Re=t.expandObjectPaths(Ae),Fe={};if(q&&q.length)for(Z=0;Z<q.length;Z++)se=t.nestedProperty(Re,q[Z]),Y=se.get(),Y===void 0?t.nestedProperty(Fe,q[Z]).set(null):(se.set(null),t.nestedProperty(Fe,q[Z]).set(Y));if(Q=t.extendDeepNoArrays(Q||{},Re),q&&q.length){for(Z=0;Z<q.length;Z++)if(te=t.nestedProperty(Fe,q[Z]),de=te.get(),!!de){for(fe=t.nestedProperty(Q,q[Z]),we=fe.get(),Array.isArray(we)||(we=[],fe.set(we)),ie=0;ie<de.length;ie++){var Se=de[ie];Se===null?we[ie]=null:we[ie]=l.extendObjectWithContainers(we[ie],Se)}fe.set(we)}}return Q},l.dataArrayContainers=["transforms","dimensions"],l.layoutArrayContainers=x.layoutArrayContainers,l.extendTrace=function(Q,X){return l.extendObjectWithContainers(Q,X,l.dataArrayContainers)},l.extendLayout=function(Q,X){return l.extendObjectWithContainers(Q,X,l.layoutArrayContainers)},l.transition=function(Q,X,q,se,Y,Z){var ie={redraw:Y.redraw},te={},fe=[];return ie.prepareFn=function(){for(var de=Array.isArray(X)?X.length:0,we=se.slice(0,de),Ae=0;Ae<we.length;Ae++){var Re=we[Ae],Fe=Q._fullData[Re],Se=Fe._module;if(Se){if(Se.animatable){var Te=Se.basePlotModule.name;te[Te]||(te[Te]=[]),te[Te].push(Re)}Q.data[we[Ae]]=l.extendTrace(Q.data[we[Ae]],X[Ae])}}var Ee=t.expandObjectPaths(t.extendDeepNoArrays({},q)),Ne=/^[xy]axis[0-9]*$/;for(var He in Ee)Ne.test(He)&&delete Ee[He].range;l.extendLayout(Q.layout,Ee),delete Q.calcdata,l.supplyDefaults(Q),l.doCalcdata(Q);var _e=t.expandObjectPaths(q);if(_e){var We=Q._fullLayout._plots;for(var tt in We){var Ke=We[tt],qe=Ke.xaxis,rt=Ke.yaxis,ft=qe.range.slice(),pt=rt.range.slice(),gt=null,Mt=null,Lt=null,Wt=null;Array.isArray(_e[qe._name+".range"])?gt=_e[qe._name+".range"].slice():Array.isArray((_e[qe._name]||{}).range)&&(gt=_e[qe._name].range.slice()),Array.isArray(_e[rt._name+".range"])?Mt=_e[rt._name+".range"].slice():Array.isArray((_e[rt._name]||{}).range)&&(Mt=_e[rt._name].range.slice()),ft&&gt&&(qe.r2l(ft[0])!==qe.r2l(gt[0])||qe.r2l(ft[1])!==qe.r2l(gt[1]))&&(Lt={xr0:ft,xr1:gt}),pt&&Mt&&(rt.r2l(pt[0])!==rt.r2l(Mt[0])||rt.r2l(pt[1])!==rt.r2l(Mt[1]))&&(Wt={yr0:pt,yr1:Mt}),(Lt||Wt)&&fe.push(t.extendFlat({plotinfo:Ke},Lt,Wt))}}return Promise.resolve()},ie.runFn=function(de){var we,Ae=Q._fullLayout._basePlotModules,Re=fe.length,Fe;if(q)for(Fe=0;Fe<Ae.length;Fe++)Ae[Fe].transitionAxes&&Ae[Fe].transitionAxes(Q,fe,Z,de);Re?(we=t.extendFlat({},Z),we.duration=0,delete te.cartesian):we=Z;for(var Se in te){var Te=te[Se],Ee=Q._fullData[Te[0]]._module;Ee.basePlotModule.plot(Q,Te,we,de)}},ae(Q,Z,ie)},l.transitionFromReact=function(Q,X,q,se){var Y=Q._fullLayout,Z=Y.transition,ie={},te=[];return ie.prepareFn=function(){var fe=Y._plots;ie.redraw=!1,X.anim==="some"&&(ie.redraw=!0),q.anim==="some"&&(ie.redraw=!0);for(var de in fe){var we=fe[de],Ae=we.xaxis,Re=we.yaxis,Fe=se[Ae._name].range.slice(),Se=se[Re._name].range.slice(),Te=Ae.range.slice(),Ee=Re.range.slice();Ae.setScale(),Re.setScale();var Ne=null,He=null;(Ae.r2l(Fe[0])!==Ae.r2l(Te[0])||Ae.r2l(Fe[1])!==Ae.r2l(Te[1]))&&(Ne={xr0:Fe,xr1:Te}),(Re.r2l(Se[0])!==Re.r2l(Ee[0])||Re.r2l(Se[1])!==Re.r2l(Ee[1]))&&(He={yr0:Se,yr1:Ee}),(Ne||He)&&te.push(t.extendFlat({plotinfo:we},Ne,He))}return Promise.resolve()},ie.runFn=function(fe){for(var de=Q._fullData,we=Q._fullLayout,Ae=we._basePlotModules,Re,Fe,Se,Te=[],Ee=0;Ee<de.length;Ee++)Te.push(Ee);function Ne(){if(Q._fullLayout)for(var _e=0;_e<Ae.length;_e++)Ae[_e].transitionAxes&&Ae[_e].transitionAxes(Q,te,Re,fe)}function He(){if(Q._fullLayout)for(var _e=0;_e<Ae.length;_e++)Ae[_e].plot(Q,Se,Fe,fe)}te.length&&X.anim?Z.ordering==="traces first"?(Re=t.extendFlat({},Z,{duration:0}),Se=Te,Fe=Z,setTimeout(Ne,Z.duration),He()):(Re=Z,Se=null,Fe=t.extendFlat({},Z,{duration:0}),setTimeout(He,Re.duration),Ne()):te.length?(Re=Z,Ne()):X.anim&&(Se=Te,Fe=Z,He())},ae(Q,Z,ie)};function ae(Q,X,q){var se=!1;function Y(Ae){var Re=Promise.resolve();if(!Ae)return Re;for(;Ae.length;)Re=Re.then(Ae.shift());return Re}function Z(Ae){if(Ae)for(;Ae.length;)Ae.shift()}function ie(){return Q.emit("plotly_transitioning",[]),new Promise(function(Ae){Q._transitioning=!0,X.duration>0&&(Q._transitioningWithDuration=!0),Q._transitionData._interruptCallbacks.push(function(){se=!0}),q.redraw&&Q._transitionData._interruptCallbacks.push(function(){return x.call("redraw",Q)}),Q._transitionData._interruptCallbacks.push(function(){Q.emit("plotly_transitioninterrupted",[])});var Re=0,Fe=0;function Se(){return Re++,function(){Fe++,!se&&Fe===Re&&te(Ae)}}q.runFn(Se),setTimeout(Se())})}function te(Ae){if(Q._transitionData)return Z(Q._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(q.redraw)return x.call("redraw",Q)}).then(function(){Q._transitioning=!1,Q._transitioningWithDuration=!1,Q.emit("plotly_transitioned",[])}).then(Ae)}function fe(){if(Q._transitionData)return Q._transitioning=!1,Y(Q._transitionData._interruptCallbacks)}var de=[l.previousPromises,fe,q.prepareFn,l.rehover,l.reselect,ie],we=t.syncOrAsync(de,Q);return(!we||!we.then)&&(we=Promise.resolve()),we.then(function(){return Q})}l.doCalcdata=function(Q,X){var q=n.list(Q),se=Q._fullData,Y=Q._fullLayout,Z,ie,te,fe,de=new Array(se.length),we=(Q.calcdata||[]).slice();for(Q.calcdata=de,Y._numBoxes=0,Y._numViolins=0,Y._violinScaleGroupStats={},Q._hmpixcount=0,Q._hmlumcount=0,Y._piecolormap={},Y._sunburstcolormap={},Y._treemapcolormap={},Y._iciclecolormap={},Y._funnelareacolormap={},te=0;te<se.length;te++)if(Array.isArray(X)&&X.indexOf(te)===-1){de[te]=we[te];continue}for(te=0;te<se.length;te++)Z=se[te],Z._arrayAttrs=h.findArrayAttributes(Z),Z._extremes={};var Ae=Y._subplots.polar||[];for(te=0;te<Ae.length;te++)q.push(Y[Ae[te]].radialaxis,Y[Ae[te]].angularaxis);for(var Re in Y._colorAxes){var Fe=Y[Re];Fe.cauto!==!1&&(delete Fe.cmin,delete Fe.cmax)}var Se=!1;function Te(He){if(Z=se[He],ie=Z._module,Z.visible===!0&&Z.transforms){if(ie&&ie.calc){var _e=ie.calc(Q,Z);_e[0]&&_e[0].t&&_e[0].t._scene&&delete _e[0].t._scene.dirty}for(fe=0;fe<Z.transforms.length;fe++){var We=Z.transforms[fe];ie=p[We.type],ie&&ie.calcTransform&&(Z._hasCalcTransform=!0,Se=!0,ie.calcTransform(Q,Z,We))}}}function Ee(He,_e){if(Z=se[He],ie=Z._module,!!ie.isContainer===_e){var We=[];if(Z.visible===!0&&Z._length!==0){delete Z._indexToPoints;var tt=Z.transforms||[];for(fe=tt.length-1;fe>=0;fe--)if(tt[fe].enabled){Z._indexToPoints=tt[fe]._indexToPoints;break}ie&&ie.calc&&(We=ie.calc(Q,Z))}(!Array.isArray(We)||!We[0])&&(We=[{x:u,y:u}]),We[0].t||(We[0].t={}),We[0].trace=Z,de[He]=We}}for(ee(q,se,Y),te=0;te<se.length;te++)Ee(te,!0);for(te=0;te<se.length;te++)Te(te);for(Se&&ee(q,se,Y),te=0;te<se.length;te++)Ee(te,!0);for(te=0;te<se.length;te++)Ee(te,!1);J(Q);var Ne=ve(q,Q);if(Ne.length){for(Y._numBoxes=0,Y._numViolins=0,te=0;te<Ne.length;te++)Ee(Ne[te],!0);for(te=0;te<Ne.length;te++)Ee(Ne[te],!1);J(Q)}x.getComponentMethod("fx","calc")(Q),x.getComponentMethod("errorbars","calc")(Q)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function ve(Q,X){var q=[],se,Y,Z,ie,te;function fe(ze,Oe,Ue){var ke=Oe._id.charAt(0);if(ze==="histogram2dcontour"){var Me=Oe._counterAxes[0],ce=n.getFromId(X,Me),be=ke==="x"||Me==="x"&&ce.type==="category",De=ke==="y"||Me==="y"&&ce.type==="category";return function(Ve,it){return Ve===0||it===0||be&&Ve===Ue[it].length-1||De&&it===Ue.length-1?-1:(ke==="y"?it:Ve)-1}}else return function(Ve,it){return ke==="y"?it:Ve}}var de={min:function(ze){return t.aggNums(Math.min,null,ze)},max:function(ze){return t.aggNums(Math.max,null,ze)},sum:function(ze){return t.aggNums(function(Oe,Ue){return Oe+Ue},null,ze)},total:function(ze){return t.aggNums(function(Oe,Ue){return Oe+Ue},null,ze)},mean:function(ze){return t.mean(ze)},median:function(ze){return t.median(ze)}};for(se=0;se<Q.length;se++){var we=Q[se];if(we.type==="category"){var Ae=we.categoryorder.match(ue);if(Ae){var Re=Ae[1],Fe=Ae[2],Se=we._id.charAt(0),Te=Se==="x",Ee=[];for(Y=0;Y<we._categories.length;Y++)Ee.push([we._categories[Y],[]]);for(Y=0;Y<we._traceIndices.length;Y++){var Ne=we._traceIndices[Y],He=X._fullData[Ne];if(He.visible===!0){var _e=He.type;x.traceIs(He,"histogram")&&(delete He._xautoBinFinished,delete He._yautoBinFinished);var We=_e==="splom",tt=_e==="scattergl",Ke=X.calcdata[Ne];for(Z=0;Z<Ke.length;Z++){var qe=Ke[Z],rt,ft;if(We){var pt=He._axesDim[we._id];if(!Te){var gt=He._diag[pt][0];gt&&(we=X._fullLayout[n.id2name(gt)])}var Mt=qe.trace.dimensions[pt].values;for(ie=0;ie<Mt.length;ie++)for(rt=we._categoriesMap[Mt[ie]],te=0;te<qe.trace.dimensions.length;te++)if(te!==pt){var Lt=qe.trace.dimensions[te];Ee[rt][1].push(Lt.values[ie])}}else if(tt){for(ie=0;ie<qe.t.x.length;ie++)Te?(rt=qe.t.x[ie],ft=qe.t.y[ie]):(rt=qe.t.y[ie],ft=qe.t.x[ie]),Ee[rt][1].push(ft);qe.t&&qe.t._scene&&delete qe.t._scene.dirty}else if(qe.hasOwnProperty("z")){ft=qe.z;var Wt=fe(He.type,we,ft);for(ie=0;ie<ft.length;ie++)for(te=0;te<ft[ie].length;te++)rt=Wt(te,ie),rt+1&&Ee[rt][1].push(ft[ie][te])}else for(rt=qe.p,rt===void 0&&(rt=qe[Se]),ft=qe.s,ft===void 0&&(ft=qe.v),ft===void 0&&(ft=Te?qe.y:qe.x),Array.isArray(ft)||(ft===void 0?ft=[]:ft=[ft]),ie=0;ie<ft.length;ie++)Ee[rt][1].push(ft[ie])}}}we._categoriesValue=Ee;var Je=[];for(Y=0;Y<Ee.length;Y++)Je.push([Ee[Y][0],de[Re](Ee[Y][1])]);Je.sort(function(ze,Oe){return ze[1]-Oe[1]}),we._categoriesAggregatedValue=Je,we._initialCategories=Je.map(function(ze){return ze[0]}),Fe==="descending"&&we._initialCategories.reverse(),q=q.concat(we.sortByInitialCategories())}}}return q}function ee(Q,X,q){var se={};function Y(fe){fe.clearCalc(),fe.type==="multicategory"&&fe.setupMultiCategory(X),se[fe._id]=1}t.simpleMap(Q,Y);for(var Z=q._axisMatchGroups||[],ie=0;ie<Z.length;ie++)for(var te in Z[ie])se[te]||Y(q[n.id2name(te)])}function J(Q){var X=Q._fullLayout,q=X._visibleModules,se={},Y,Z,ie;for(Z=0;Z<q.length;Z++){var te=q[Z],fe=te.crossTraceCalc;if(fe){var de=te.basePlotModule.name;se[de]?t.pushUnique(se[de],fe):se[de]=[fe]}}for(ie in se){var we=se[ie],Ae=X._subplots[ie];if(Array.isArray(Ae))for(Y=0;Y<Ae.length;Y++){var Re=Ae[Y],Fe=ie==="cartesian"?X._plots[Re]:X[Re];for(Z=0;Z<we.length;Z++)we[Z](Q,Fe,Re)}else for(Z=0;Z<we.length;Z++)we[Z](Q)}}l.rehover=function(Q){Q._fullLayout._rehover&&Q._fullLayout._rehover()},l.redrag=function(Q){Q._fullLayout._redrag&&Q._fullLayout._redrag()},l.reselect=function(Q){var X=Q._fullLayout,q=(Q.layout||{}).selections,se=X._previousSelections;X._previousSelections=q;var Y=X._reselect||JSON.stringify(q)!==JSON.stringify(se);x.getComponentMethod("selections","reselect")(Q,Y)},l.generalUpdatePerTraceModule=function(Q,X,q,se){var Y=X.traceHash,Z={},ie;for(ie=0;ie<q.length;ie++){var te=q[ie],fe=te[0].trace;fe.visible&&(Z[fe.type]=Z[fe.type]||[],Z[fe.type].push(te))}for(var de in Y)if(!Z[de]){var we=Y[de][0],Ae=we[0].trace;Ae.visible=!1,Z[de]=[we]}for(var Re in Z){var Fe=Z[Re],Se=Fe[0][0].trace._module;Se.plot(Q,X,t.filterVisible(Fe),se)}X.traceHash=Z},l.plotBasePlot=function(Q,X,q,se,Y){var Z=x.getModule(Q),ie=c(X.calcdata,Z)[0];Z.plot(X,ie,se,Y)},l.cleanBasePlot=function(Q,X,q,se,Y){var Z=Y._has&&Y._has(Q),ie=q._has&&q._has(Q);Z&&!ie&&Y["_"+Q+"layer"].selectAll("g.trace").remove()}},9813:function(W){W.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(W,V,e){var y=e(71828),C=e(61082).tester,a=y.findIndexOfMin,L=y.isAngleInsideSector,x=y.angleDelta,h=y.angleDist;function d(l,p,S,M,R){if(!L(p,M))return!1;var T,E;S[0]<S[1]?(T=S[0],E=S[1]):(T=S[1],E=S[0]);var A=C(i(T,M[0],M[1],R)),f=C(i(E,M[0],M[1],R)),P=[l*Math.cos(p),l*Math.sin(p)];return f.contains(P)&&!A.contains(P)}function t(l,p,S,M){var R,T,E=M[0],A=M[1],f=m(Math.sin(p)-Math.sin(l)),P=m(Math.cos(p)-Math.cos(l)),w=Math.tan(S),z=m(1/w),F=f/P,H=A-F*E;return z?f&&P?(R=H/(w-F),T=w*R):P?(R=A*z,T=A):(R=E,T=E*w):f&&P?(R=0,T=H):P?(R=0,T=A):R=T=NaN,[R,T]}function r(l,p,S,M){var R=-p*S,T=p*p+1,E=2*(p*R-S),A=R*R+S*S-l*l,f=Math.sqrt(E*E-4*T*A),P=(-E+f)/(2*T),w=(-E-f)/(2*T);return[[P,p*P+R+M],[w,p*w+R+M]]}function u(l,p){var S=p.length,M=new Array(S+1),R;for(R=0;R<S;R++){var T=p[R];M[R]=[l*Math.cos(T),l*Math.sin(T)]}return M[R]=M[0].slice(),M}function n(l,p,S,M){var R=M.length,T=[],E,A;function f(O){return[l*Math.cos(O),l*Math.sin(O)]}function P(O,U,K){return t(O,U,K,f(O))}function w(O){return y.mod(O,R)}function z(O){return L(O,[p,S])}var F=a(M,function(O){return z(O)?h(O,p):1/0}),H=P(M[F],M[w(F-1)],p);for(T.push(H),E=F,A=0;A<R;E++,A++){var _=M[w(E)];if(!z(_))break;T.push(f(_))}var B=a(M,function(O){return z(O)?h(O,S):1/0}),N=P(M[B],M[w(B+1)],S);return T.push(N),T.push([0,0]),T.push(T[0].slice()),T}function i(l,p,S,M){return y.isFullCircle([p,S])?u(l,M):n(l,p,S,M)}function s(l,p,S,M){for(var R=1/0,T=1/0,E=i(l,p,S,M),A=0;A<E.length;A++){var f=E[A];R=Math.min(R,f[0]),T=Math.min(T,-f[1])}return[R,T]}function o(l,p){var S=function(T){var E=x(T,l);return E>0?E:1/0},M=a(p,S),R=y.mod(M+1,p.length);return[p[M],p[R]]}function m(l){return Math.abs(l)>1e-10?l:0}function c(l,p,S){p=p||0,S=S||0;for(var M=l.length,R=new Array(M),T=0;T<M;T++){var E=l[T];R[T]=[p+E[0],S-E[1]]}return R}function b(l,p,S,M,R,T){var E=i(l,p,S,M);return"M"+c(E,R,T).join("L")}function v(l,p,S,M,R,T,E){var A,f;l<p?(A=l,f=p):(A=p,f=l);var P=c(i(A,S,M,R),T,E),w=c(i(f,S,M,R),T,E);return"M"+w.reverse().join("L")+"M"+P.join("L")}W.exports={isPtInsidePolygon:d,findPolygonOffset:s,findEnclosingVertexAngles:o,findIntersectionXY:t,findXYatLength:r,clampTiny:m,pathPolygon:b,pathPolygonAnnulus:v}},23580:function(W,V,e){var y=e(27659).AU,C=e(71828).counterRegex,a=e(77997),L=e(9813),x=L.attr,h=L.name,d=C(h),t={};t[x]={valType:"subplotid",dflt:h,editType:"calc"};function r(n){for(var i=n._fullLayout,s=n.calcdata,o=i._subplots[h],m=0;m<o.length;m++){var c=o[m],b=y(s,h,c),v=i[c]._subplot;v||(v=a(n,c),i[c]._subplot=v),v.plot(b,i,n._promises)}}function u(n,i,s,o){for(var m=o._subplots[h]||[],c=o._has&&o._has("gl"),b=i._has&&i._has("gl"),v=c&&!b,l=0;l<m.length;l++){var p=m[l],S=o[p]._subplot;if(!i[p]&&S){S.framework.remove(),S.layers["radial-axis-title"].remove();for(var M in S.clipPaths)S.clipPaths[M].remove()}v&&S._scene&&(S._scene.destroy(),S._scene=null)}}W.exports={attr:x,name:h,idRoot:h,idRegex:d,attrRegex:d,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:u,toSVG:e(93612).toSVG}},73812:function(W,V,e){var y=e(22399),C=e(13838),a=e(27670).Y,L=e(71828).extendFlat,x=e(30962).overrideAll,h=x({color:C.color,showline:L({},C.showline,{dflt:!0}),linecolor:C.linecolor,linewidth:C.linewidth,showgrid:L({},C.showgrid,{dflt:!0}),gridcolor:C.gridcolor,gridwidth:C.gridwidth,griddash:C.griddash},"plot","from-root"),d=x({tickmode:C.minor.tickmode,nticks:C.nticks,tick0:C.tick0,dtick:C.dtick,tickvals:C.tickvals,ticktext:C.ticktext,ticks:C.ticks,ticklen:C.ticklen,tickwidth:C.tickwidth,tickcolor:C.tickcolor,ticklabelstep:C.ticklabelstep,showticklabels:C.showticklabels,labelalias:C.labelalias,showtickprefix:C.showtickprefix,tickprefix:C.tickprefix,showticksuffix:C.showticksuffix,ticksuffix:C.ticksuffix,showexponent:C.showexponent,exponentformat:C.exponentformat,minexponent:C.minexponent,separatethousands:C.separatethousands,tickfont:C.tickfont,tickangle:C.tickangle,tickformat:C.tickformat,tickformatstops:C.tickformatstops,layer:C.layer},"plot","from-root"),t={visible:L({},C.visible,{dflt:!0}),type:L({},C.type,{values:["-","linear","log","date","category"]}),autotypenumbers:C.autotypenumbers,autorangeoptions:{minallowed:C.autorangeoptions.minallowed,maxallowed:C.autorangeoptions.maxallowed,clipmin:C.autorangeoptions.clipmin,clipmax:C.autorangeoptions.clipmax,include:C.autorangeoptions.include,editType:"plot"},autorange:L({},C.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},C.minallowed,{editType:"plot"}),maxallowed:L({},C.maxallowed,{editType:"plot"}),range:L({},C.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:C.categoryorder,categoryarray:C.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},C.title.text,{editType:"plot",dflt:""}),font:L({},C.title.font,{editType:"plot"}),editType:"plot"},hoverformat:C.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:C._deprecated.title,titlefont:C._deprecated.titlefont}};L(t,h,d);var r={visible:L({},C.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:C.autotypenumbers,categoryorder:C.categoryorder,categoryarray:C.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:C.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(r,h,d),W.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:y.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(W,V,e){var y=e(71828),C=e(7901),a=e(44467),L=e(49119),x=e(27659).NG,h=e(26218),d=e(38701),t=e(96115),r=e(89426),u=e(15258),n=e(92128),i=e(23074),s=e(4322),o=e(73812),m=e(12101),c=e(9813),b=c.axisNames;function v(p,S,M,R){var T=M("bgcolor");R.bgColor=C.combine(T,R.paper_bgcolor);var E=M("sector");M("hole");var A=x(R.fullData,c.name,R.id),f=R.layoutOut,P;function w(q,se){return M(P+"."+q,se)}for(var z=0;z<b.length;z++){P=b[z],y.isPlainObject(p[P])||(p[P]={});var F=p[P],H=a.newContainer(S,P);H._id=H._name=P,H._attr=R.id+"."+P,H._traceIndices=A.map(function(q){return q._expandedIndex});var _=c.axisName2dataArray[P],B=l(F,H,w,A,_,R);u(F,H,w,{axData:A,dataAttr:_});var N=w("visible");switch(m(H,S,f),w("uirevision",S.uirevision),H._m=1,P){case"radialaxis":w("minallowed"),w("maxallowed");var O=w("range"),U=H.getAutorangeDflt(O),K=w("autorange",U),re;O&&(O[0]===null&&O[1]===null||(O[0]===null||O[1]===null)&&(K==="reversed"||K===!0)||O[0]!==null&&(K==="min"||K==="max reversed")||O[1]!==null&&(K==="max"||K==="min reversed"))&&(O=void 0,delete H.range,H.autorange=!0,re=!0),re||(U=H.getAutorangeDflt(O),K=w("autorange",U)),F.autorange=K,K&&(i(w,K,O),(B==="linear"||B==="-")&&w("rangemode"),H.isReversed()&&(H._m=-1)),H.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(B==="date"){y.log("Polar plots do not support date angular axes yet.");for(var ae=0;ae<A.length;ae++)A[ae].visible=!1;B=F.type=H.type="linear"}w(B==="linear"?"thetaunit":"period");var ue=w("direction");w("rotation",{counterclockwise:0,clockwise:90}[ue]);break}if(r(F,H,w,H.type,{tickSuffixDflt:H.thetaunit==="degrees"?"":void 0}),N){var ve,ee,J,Q,X=R.font||{};ve=w("color"),ee=ve===F.color?ve:X.color,J=X.size,Q=X.family,h(F,H,w,H.type),t(F,H,w,H.type,{font:{color:ee,size:J,family:Q}}),d(F,H,w,{outerTicks:!0}),n(F,H,w,{dfltColor:ve,bgColor:R.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[P]}),w("layer"),P==="radialaxis"&&(w("side"),w("angle",E[0]),w("title.text"),y.coerceFont(w,"title.font",{color:ee,size:y.bigFont(J),family:Q}))}B!=="category"&&w("hoverformat"),H._input=F}S.angularaxis.type==="category"&&M("gridshape")}function l(p,S,M,R,T,E){var A=M("autotypenumbers",E.autotypenumbersDflt),f=M("type");if(f==="-"){for(var P,w=0;w<R.length;w++)if(R[w].visible){P=R[w];break}P&&P[T]&&(S.type=s(P[T],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),S.type==="-"?S.type="linear":p.type=S.type}return S.type}W.exports=function(S,M,R){L(S,M,R,{type:c.name,attributes:o,handleDefaults:v,font:M.font,autotypenumbersDflt:M.autotypenumbers,paper_bgcolor:M.paper_bgcolor,fullData:R,layoutOut:M})}},77997:function(W,V,e){var y=e(39898),C=e(84267),a=e(73972),L=e(71828),x=L.strRotate,h=L.strTranslate,d=e(7901),t=e(91424),r=e(74875),u=e(89298),n=e(21994),i=e(12101),s=e(71739).doAutoRange,o=e(29323),m=e(28569),c=e(30211),b=e(92998),v=e(47322).prepSelect,l=e(47322).selectOnClick,p=e(47322).clearOutline,S=e(6964),M=e(33306),R=e(61549).redrawReglTraces,T=e(18783).MID_SHIFT,E=e(9813),A=e(10869),f=e(23893),P=f.smith,w=f.reactanceArc,z=f.resistanceArc,F=f.smithTransform,H=L._,_=L.mod,B=L.deg2rad,N=L.rad2deg;function O(ve,ee,J){this.isSmith=J||!1,this.id=ee,this.gd=ve,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Q=ve._fullLayout,X="clip"+Q._uid+ee;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=Q._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Q["_"+(J?"smith":"polar")+"layer"].append("g").attr("class",ee),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},J||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=O.prototype;W.exports=function(ee,J,Q){return new O(ee,J,Q)},U.plot=function(ve,ee){for(var J=this,Q=ee[J.id],X=!1,q=0;q<ve.length;q++){var se=ve[q][0].trace;if(se.cliponaxis===!1){X=!0;break}}J._hasClipOnAxisFalse=X,J.updateLayers(ee,Q),J.updateLayout(ee,Q),r.generalUpdatePerTraceModule(J.gd,J,ve,Q),J.updateFx(ee,Q),J.isSmith&&(delete Q.realaxis.range,delete Q.imaginaryaxis.range)},U.updateLayers=function(ve,ee){var J=this,Q=J.isSmith,X=J.layers,q=J.getRadial(ee),se=J.getAngular(ee),Y=E.layerNames,Z=Y.indexOf("frontplot"),ie=Y.slice(0,Z),te=se.layer==="below traces",fe=q.layer==="below traces";te&&ie.push("angular-line"),fe&&ie.push("radial-line"),te&&ie.push("angular-axis"),fe&&ie.push("radial-axis"),ie.push("frontplot"),te||ie.push("angular-line"),fe||ie.push("radial-line"),te||ie.push("angular-axis"),fe||ie.push("radial-axis");var de=(Q?"smith":"polar")+"sublayer",we=J.framework.selectAll("."+de).data(ie,String);we.enter().append("g").attr("class",function(Ae){return de+" "+Ae}).each(function(Ae){var Re=X[Ae]=y.select(this);switch(Ae){case"frontplot":Q||Re.append("g").classed("barlayer",!0),Re.append("g").classed("scatterlayer",!0);break;case"backplot":Re.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Re.append("path");break;case"radial-grid":Re.style("fill","none");break;case"angular-grid":Re.style("fill","none");break;case"radial-line":Re.append("line").style("fill","none");break;case"angular-line":Re.append("path").style("fill","none");break}}),we.order()},U.updateLayout=function(ve,ee){var J=this,Q=J.layers,X=ve._size,q=J.getRadial(ee),se=J.getAngular(ee),Y=ee.domain.x,Z=ee.domain.y;J.xOffset=X.l+X.w*Y[0],J.yOffset=X.t+X.h*(1-Z[1]);var ie=J.xLength=X.w*(Y[1]-Y[0]),te=J.yLength=X.h*(Z[1]-Z[0]),fe=J.getSector(ee);J.sectorInRad=fe.map(B);var de=J.sectorBBox=re(fe),we=de[2]-de[0],Ae=de[3]-de[1],Re=te/ie,Fe=Math.abs(Ae/we),Se,Te,Ee,Ne,He;Re>Fe?(Se=ie,Te=ie*Fe,He=(te-Te)/X.h/2,Ee=[Y[0],Y[1]],Ne=[Z[0]+He,Z[1]-He]):(Se=te/Fe,Te=te,He=(ie-Se)/X.w/2,Ee=[Y[0]+He,Y[1]-He],Ne=[Z[0],Z[1]]),J.xLength2=Se,J.yLength2=Te,J.xDomain2=Ee,J.yDomain2=Ne;var _e=J.xOffset2=X.l+X.w*Ee[0],We=J.yOffset2=X.t+X.h*(1-Ne[1]),tt=J.radius=Se/we,Ke=J.innerRadius=J.getHole(ee)*tt,qe=J.cx=_e-tt*de[0],rt=J.cy=We+tt*de[3],ft=J.cxx=qe-_e,pt=J.cyy=rt-We,gt=q.side,Mt;gt==="counterclockwise"?(Mt=gt,gt="top"):gt==="clockwise"&&(Mt=gt,gt="bottom"),J.radialAxis=J.mockAxis(ve,ee,q,{_id:"x",side:gt,_trueSide:Mt,domain:[Ke/X.w,tt/X.w]}),J.angularAxis=J.mockAxis(ve,ee,se,{side:"right",domain:[0,Math.PI],autorange:!1}),J.doAutoRange(ve,ee),J.updateAngularAxis(ve,ee),J.updateRadialAxis(ve,ee),J.updateRadialAxisTitle(ve,ee),J.xaxis=J.mockCartesianAxis(ve,ee,{_id:"x",domain:Ee}),J.yaxis=J.mockCartesianAxis(ve,ee,{_id:"y",domain:Ne});var Lt=J.pathSubplot();J.clipPaths.forTraces.select("path").attr("d",Lt).attr("transform",h(ft,pt)),Q.frontplot.attr("transform",h(_e,We)).call(t.setClipUrl,J._hasClipOnAxisFalse?null:J.clipIds.forTraces,J.gd),Q.bg.attr("d",Lt).attr("transform",h(qe,rt)).call(d.fill,ee.bgcolor)},U.mockAxis=function(ve,ee,J,Q){var X=L.extendFlat({},J,Q);return i(X,ee,ve),X},U.mockCartesianAxis=function(ve,ee,J){var Q=this,X=Q.isSmith,q=J._id,se=L.extendFlat({type:"linear"},J);n(se,ve);var Y={x:[0,2],y:[1,3]};return se.setRange=function(){var Z=Q.sectorBBox,ie=Y[q],te=Q.radialAxis._rl,fe=(te[1]-te[0])/(1-Q.getHole(ee));se.range=[Z[ie[0]]*fe,Z[ie[1]]*fe]},se.isPtWithinRange=q==="x"&&!X?function(Z){return Q.isPtInside(Z)}:function(){return!0},se.setRange(),se.setScale(),se},U.doAutoRange=function(ve,ee){var J=this,Q=J.gd,X=J.radialAxis,q=J.getRadial(ee);s(Q,X);var se=X.range;q.range=se.slice(),q._input.range=se.slice(),X._rl=[X.r2l(se[0],null,"gregorian"),X.r2l(se[1],null,"gregorian")]},U.updateRadialAxis=function(ve,ee){var J=this,Q=J.gd,X=J.layers,q=J.radius,se=J.innerRadius,Y=J.cx,Z=J.cy,ie=J.getRadial(ee),te=_(J.getSector(ee)[0],360),fe=J.radialAxis,de=se<q,we=J.isSmith;we||(J.fillViewInitialKey("radialaxis.angle",ie.angle),J.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&te>90&&te<=270&&(fe.tickangle=180);var Ae=we?function(tt){var Ke=F(J,P([tt.x,0]));return h(Ke[0]-Y,Ke[1]-Z)}:function(tt){return h(fe.l2p(tt.x)+se,0)},Re=we?function(tt){return z(J,tt.x,-1/0,1/0)}:function(tt){return J.pathArc(fe.r2p(tt.x)+se)},Fe=K(ie);if(J.radialTickLayout!==Fe&&(X["radial-axis"].selectAll(".xtick").remove(),J.radialTickLayout=Fe),de){fe.setScale();var Se=0,Te=we?(fe.tickvals||[]).filter(function(tt){return tt>=0}).map(function(tt){return u.tickText(fe,tt,!0,!1)}):u.calcTicks(fe),Ee=we?Te:u.clipEnds(fe,Te),Ne=u.getTickSigns(fe)[2];we&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Ne=-Ne),fe.ticks==="top"&&fe.side==="top"&&(Se=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Se=fe.ticklen)),u.drawTicks(Q,fe,{vals:Te,layer:X["radial-axis"],path:u.makeTickPath(fe,0,Ne),transFn:Ae,crisp:!1}),u.drawGrid(Q,fe,{vals:Ee,layer:X["radial-grid"],path:Re,transFn:L.noop,crisp:!1}),u.drawLabels(Q,fe,{vals:Te,layer:X["radial-axis"],transFn:Ae,labelFns:u.makeLabelFns(fe,Se)})}var He=J.radialAxisAngle=J.vangles?N(ae(B(ie.angle),J.vangles)):ie.angle,_e=h(Y,Z),We=_e+x(-He);ue(X["radial-axis"],de&&(ie.showticklabels||ie.ticks),{transform:We}),ue(X["radial-grid"],de&&ie.showgrid,{transform:we?"":_e}),ue(X["radial-line"].select("line"),de&&ie.showline,{x1:we?-q:se,y1:0,x2:q,y2:0,transform:We}).attr("stroke-width",ie.linewidth).call(d.stroke,ie.linecolor)},U.updateRadialAxisTitle=function(ve,ee,J){if(!this.isSmith){var Q=this,X=Q.gd,q=Q.radius,se=Q.cx,Y=Q.cy,Z=Q.getRadial(ee),ie=Q.id+"title",te=0;if(Z.title){var fe=t.bBox(Q.layers["radial-axis"].node()).height,de=Z.title.font.size,we=Z.side;te=we==="top"?de:we==="counterclockwise"?-(fe+de*.4):fe+de*.8}var Ae=J!==void 0?J:Q.radialAxisAngle,Re=B(Ae),Fe=Math.cos(Re),Se=Math.sin(Re),Te=se+q/2*Fe+te*Se,Ee=Y-q/2*Se+te*Fe;Q.layers["radial-axis-title"]=b.draw(X,ie,{propContainer:Z,propName:Q.id+".radialaxis.title",placeholder:H(X,"Click to enter radial axis title"),attributes:{x:Te,y:Ee,"text-anchor":"middle"},transform:{rotate:-Ae}})}},U.updateAngularAxis=function(ve,ee){var J=this,Q=J.gd,X=J.layers,q=J.radius,se=J.innerRadius,Y=J.cx,Z=J.cy,ie=J.getAngular(ee),te=J.angularAxis,fe=J.isSmith;fe||(J.fillViewInitialKey("angularaxis.rotation",ie.rotation),te.setGeometry(),te.setScale());var de=fe?function(Ke){var qe=F(J,P([0,Ke.x]));return Math.atan2(qe[0]-Y,qe[1]-Z)-Math.PI/2}:function(Ke){return te.t2g(Ke.x)};te.type==="linear"&&te.thetaunit==="radians"&&(te.tick0=N(te.tick0),te.dtick=N(te.dtick));var we=function(Ke){return h(Y+q*Math.cos(Ke),Z-q*Math.sin(Ke))},Ae=fe?function(Ke){var qe=F(J,P([0,Ke.x]));return h(qe[0],qe[1])}:function(Ke){return we(de(Ke))},Re=fe?function(Ke){var qe=F(J,P([0,Ke.x])),rt=Math.atan2(qe[0]-Y,qe[1]-Z)-Math.PI/2;return h(qe[0],qe[1])+x(-N(rt))}:function(Ke){var qe=de(Ke);return we(qe)+x(-N(qe))},Fe=fe?function(Ke){return w(J,Ke.x,0,1/0)}:function(Ke){var qe=de(Ke),rt=Math.cos(qe),ft=Math.sin(qe);return"M"+[Y+se*rt,Z-se*ft]+"L"+[Y+q*rt,Z-q*ft]},Se=u.makeLabelFns(te,0),Te=Se.labelStandoff,Ee={};Ee.xFn=function(Ke){var qe=de(Ke);return Math.cos(qe)*Te},Ee.yFn=function(Ke){var qe=de(Ke),rt=Math.sin(qe)>0?.2:1;return-Math.sin(qe)*(Te+Ke.fontSize*rt)+Math.abs(Math.cos(qe))*(Ke.fontSize*T)},Ee.anchorFn=function(Ke){var qe=de(Ke),rt=Math.cos(qe);return Math.abs(rt)<.1?"middle":rt>0?"start":"end"},Ee.heightFn=function(Ke,qe,rt){var ft=de(Ke);return-.5*(1+Math.sin(ft))*rt};var Ne=K(ie);J.angularTickLayout!==Ne&&(X["angular-axis"].selectAll("."+te._id+"tick").remove(),J.angularTickLayout=Ne);var He=fe?[1/0].concat(te.tickvals||[]).map(function(Ke){return u.tickText(te,Ke,!0,!1)}):u.calcTicks(te);fe&&(He[0].text="",He[0].fontSize*=1.75);var _e;if(ee.gridshape==="linear"?(_e=He.map(de),L.angleDelta(_e[0],_e[1])<0&&(_e=_e.slice().reverse())):_e=null,J.vangles=_e,te.type==="category"&&(He=He.filter(function(Ke){return L.isAngleInsideSector(de(Ke),J.sectorInRad)})),te.visible){var We=te.ticks==="inside"?-1:1,tt=(te.linewidth||1)/2;u.drawTicks(Q,te,{vals:He,layer:X["angular-axis"],path:"M"+We*tt+",0h"+We*te.ticklen,transFn:Re,crisp:!1}),u.drawGrid(Q,te,{vals:He,layer:X["angular-grid"],path:Fe,transFn:L.noop,crisp:!1}),u.drawLabels(Q,te,{vals:He,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Ee})}ue(X["angular-line"].select("path"),ie.showline,{d:J.pathSubplot(),transform:h(Y,Z)}).attr("stroke-width",ie.linewidth).call(d.stroke,ie.linecolor)},U.updateFx=function(ve,ee){if(!this.gd._context.staticPlot){var J=!this.isSmith;J&&(this.updateAngularDrag(ve),this.updateRadialDrag(ve,ee,0),this.updateRadialDrag(ve,ee,1)),this.updateHoverAndMainDrag(ve)}},U.updateHoverAndMainDrag=function(ve){var ee=this,J=ee.isSmith,Q=ee.gd,X=ee.layers,q=ve._zoomlayer,se=E.MINZOOM,Y=E.OFFEDGE,Z=ee.radius,ie=ee.innerRadius,te=ee.cx,fe=ee.cy,de=ee.cxx,we=ee.cyy,Ae=ee.sectorInRad,Re=ee.vangles,Fe=ee.radialAxis,Se=A.clampTiny,Te=A.findXYatLength,Ee=A.findEnclosingVertexAngles,Ne=E.cornerHalfWidth,He=E.cornerLen/2,_e,We,tt=o.makeDragger(X,"path","maindrag",ve.dragmode===!1?"none":"crosshair");y.select(tt).attr("d",ee.pathSubplot()).attr("transform",h(te,fe)),tt.onmousemove=function(Pt){c.hover(Q,Pt,ee.id),Q._fullLayout._lasthover=tt,Q._fullLayout._hoversubplot=ee.id},tt.onmouseout=function(Pt){Q._dragging||m.unhover(Q,Pt)};var Ke={element:tt,gd:Q,subplot:ee.id,plotinfo:{id:ee.id,xaxis:ee.xaxis,yaxis:ee.yaxis},xaxes:[ee.xaxis],yaxes:[ee.yaxis]},qe,rt,ft,pt,gt,Mt,Lt,Wt,Je;function ze(Pt,Jt){return Math.sqrt(Pt*Pt+Jt*Jt)}function Oe(Pt,Jt){return ze(Pt-de,Jt-we)}function Ue(Pt,Jt){return Math.atan2(we-Jt,Pt-de)}function ke(Pt,Jt){return[Pt*Math.cos(Jt),Pt*Math.sin(-Jt)]}function Me(Pt,Jt){if(Pt===0)return ee.pathSector(2*Ne);var or=He/Pt,zr=Jt-or,mt=Jt+or,Kt=Math.max(0,Math.min(Pt,Z)),jt=Kt-Ne,wr=Kt+Ne;return"M"+ke(jt,zr)+"A"+[jt,jt]+" 0,0,0 "+ke(jt,mt)+"L"+ke(wr,mt)+"A"+[wr,wr]+" 0,0,1 "+ke(wr,zr)+"Z"}function ce(Pt,Jt,or){if(Pt===0)return ee.pathSector(2*Ne);var zr=ke(Pt,Jt),mt=ke(Pt,or),Kt=Se((zr[0]+mt[0])/2),jt=Se((zr[1]+mt[1])/2),wr,vr;if(Kt&&jt){var ct=jt/Kt,ut=-1/ct,bt=Te(Ne,ct,Kt,jt);wr=Te(He,ut,bt[0][0],bt[0][1]),vr=Te(He,ut,bt[1][0],bt[1][1])}else{var At,Ct;jt?(At=He,Ct=Ne):(At=Ne,Ct=He),wr=[[Kt-At,jt-Ct],[Kt+At,jt-Ct]],vr=[[Kt-At,jt+Ct],[Kt+At,jt+Ct]]}return"M"+wr.join("L")+"L"+vr.reverse().join("L")+"Z"}function be(){ft=null,pt=null,gt=ee.pathSubplot(),Mt=!1;var Pt=Q._fullLayout[ee.id];Lt=C(Pt.bgcolor).getLuminance(),Wt=o.makeZoombox(q,Lt,te,fe,gt),Wt.attr("fill-rule","evenodd"),Je=o.makeCorners(q,te,fe),p(Q)}function De(Pt,Jt){return Jt=Math.max(Math.min(Jt,Z),ie),Pt<Y?Pt=0:Z-Pt<Y?Pt=Z:Jt<Y?Jt=0:Z-Jt<Y&&(Jt=Z),Math.abs(Jt-Pt)>se?(Pt<Jt?(ft=Pt,pt=Jt):(ft=Jt,pt=Pt),!0):(ft=null,pt=null,!1)}function Ve(Pt,Jt){Pt=Pt||gt,Jt=Jt||"M0,0Z",Wt.attr("d",Pt),Je.attr("d",Jt),o.transitionZoombox(Wt,Je,Mt,Lt),Mt=!0;var or={};Ht(or),Q.emit("plotly_relayouting",or)}function it(Pt,Jt){Pt=Pt*_e,Jt=Jt*We;var or=qe+Pt,zr=rt+Jt,mt=Oe(qe,rt),Kt=Math.min(Oe(or,zr),Z),jt=Ue(qe,rt),wr,vr;De(mt,Kt)&&(wr=gt+ee.pathSector(pt),ft&&(wr+=ee.pathSector(ft)),vr=Me(ft,jt)+Me(pt,jt)),Ve(wr,vr)}function ot(Pt,Jt,or,zr){var mt=A.findIntersectionXY(or,zr,or,[Pt-de,we-Jt]);return ze(mt[0],mt[1])}function Tt(Pt,Jt){var or=qe+Pt,zr=rt+Jt,mt=Ue(qe,rt),Kt=Ue(or,zr),jt=Ee(mt,Re),wr=Ee(Kt,Re),vr=ot(qe,rt,jt[0],jt[1]),ct=Math.min(ot(or,zr,wr[0],wr[1]),Z),ut,bt;De(vr,ct)&&(ut=gt+ee.pathSector(pt),ft&&(ut+=ee.pathSector(ft)),bt=[ce(ft,jt[0],jt[1]),ce(pt,jt[0],jt[1])].join(" ")),Ve(ut,bt)}function It(){if(o.removeZoombox(Q),!(ft===null||pt===null)){var Pt={};Ht(Pt),o.showDoubleClickNotifier(Q),a.call("_guiRelayout",Q,Pt)}}function Ht(Pt){var Jt=Fe._rl,or=(Jt[1]-Jt[0])/(1-ie/Z)/Z,zr=[Jt[0]+(ft-ie)*or,Jt[0]+(pt-ie)*or];Pt[ee.id+".radialaxis.range"]=zr}function Gt(Pt,Jt){var or=Q._fullLayout.clickmode;if(o.removeZoombox(Q),Pt===2){var zr={};for(var mt in ee.viewInitial)zr[ee.id+"."+mt]=ee.viewInitial[mt];Q.emit("plotly_doubleclick",null),a.call("_guiRelayout",Q,zr)}or.indexOf("select")>-1&&Pt===1&&l(Jt,Q,[ee.xaxis],[ee.yaxis],ee.id,Ke),or.indexOf("event")>-1&&c.click(Q,Jt,ee.id)}Ke.prepFn=function(Pt,Jt,or){var zr=Q._fullLayout.dragmode,mt=tt.getBoundingClientRect();Q._fullLayout._calcInverseTransform(Q);var Kt=Q._fullLayout._invTransform;_e=Q._fullLayout._invScaleX,We=Q._fullLayout._invScaleY;var jt=L.apply3DTransform(Kt)(Jt-mt.left,or-mt.top);if(qe=jt[0],rt=jt[1],Re){var wr=A.findPolygonOffset(Z,Ae[0],Ae[1],Re);qe+=de+wr[0],rt+=we+wr[1]}switch(zr){case"zoom":Ke.clickFn=Gt,J||(Re?Ke.moveFn=Tt:Ke.moveFn=it,Ke.doneFn=It,be());break;case"select":case"lasso":v(Pt,Jt,or,Ke,zr);break}},m.init(Ke)},U.updateRadialDrag=function(ve,ee,J){var Q=this,X=Q.gd,q=Q.layers,se=Q.radius,Y=Q.innerRadius,Z=Q.cx,ie=Q.cy,te=Q.radialAxis,fe=E.radialDragBoxSize,de=fe/2;if(!te.visible)return;var we=B(Q.radialAxisAngle),Ae=te._rl,Re=Ae[0],Fe=Ae[1],Se=Ae[J],Te=.75*(Ae[1]-Ae[0])/(1-Q.getHole(ee))/se,Ee,Ne,He;J?(Ee=Z+(se+de)*Math.cos(we),Ne=ie-(se+de)*Math.sin(we),He="radialdrag"):(Ee=Z+(Y-de)*Math.cos(we),Ne=ie-(Y-de)*Math.sin(we),He="radialdrag-inner");var _e=o.makeRectDragger(q,He,"crosshair",-de,-de,fe,fe),We={element:_e,gd:X};ve.dragmode===!1&&(We.dragmode=!1),ue(y.select(_e),te.visible&&Y<se,{transform:h(Ee,Ne)});var tt,Ke,qe;function rt(Lt,Wt){if(tt)tt(Lt,Wt);else{var Je=[Lt,-Wt],ze=[Math.cos(we),Math.sin(we)],Oe=Math.abs(L.dot(Je,ze)/Math.sqrt(L.dot(Je,Je)));isNaN(Oe)||(tt=Oe<.5?gt:Mt)}var Ue={};ft(Ue),X.emit("plotly_relayouting",Ue)}function ft(Lt){Ke!==null?Lt[Q.id+".radialaxis.angle"]=Ke:qe!==null&&(Lt[Q.id+".radialaxis.range["+J+"]"]=qe)}function pt(){Ke!==null?a.call("_guiRelayout",X,Q.id+".radialaxis.angle",Ke):qe!==null&&a.call("_guiRelayout",X,Q.id+".radialaxis.range["+J+"]",qe)}function gt(Lt,Wt){if(J!==0){var Je=Ee+Lt,ze=Ne+Wt;Ke=Math.atan2(ie-ze,Je-Z),Q.vangles&&(Ke=ae(Ke,Q.vangles)),Ke=N(Ke);var Oe=h(Z,ie)+x(-Ke);q["radial-axis"].attr("transform",Oe),q["radial-line"].select("line").attr("transform",Oe);var Ue=Q.gd._fullLayout,ke=Ue[Q.id];Q.updateRadialAxisTitle(Ue,ke,Ke)}}function Mt(Lt,Wt){var Je=L.dot([Lt,-Wt],[Math.cos(we),Math.sin(we)]);if(qe=Se-Te*Je,Te>0!=(J?qe>Re:qe<Fe)){qe=null;return}var ze=X._fullLayout,Oe=ze[Q.id];te.range[J]=qe,te._rl[J]=qe,Q.updateRadialAxis(ze,Oe),Q.xaxis.setRange(),Q.xaxis.setScale(),Q.yaxis.setRange(),Q.yaxis.setScale();var Ue=!1;for(var ke in Q.traceHash){var Me=Q.traceHash[ke],ce=L.filterVisible(Me),be=Me[0][0].trace._module;be.plot(X,Q,ce,Oe),a.traceIs(ke,"gl")&&ce.length&&(Ue=!0)}Ue&&(M(X),R(X))}We.prepFn=function(){tt=null,Ke=null,qe=null,We.moveFn=rt,We.doneFn=pt,p(X)},We.clampFn=function(Lt,Wt){return Math.sqrt(Lt*Lt+Wt*Wt)<E.MINDRAG&&(Lt=0,Wt=0),[Lt,Wt]},m.init(We)},U.updateAngularDrag=function(ve){var ee=this,J=ee.gd,Q=ee.layers,X=ee.radius,q=ee.angularAxis,se=ee.cx,Y=ee.cy,Z=ee.cxx,ie=ee.cyy,te=E.angularDragBoxSize,fe=o.makeDragger(Q,"path","angulardrag",ve.dragmode===!1?"none":"move"),de={element:fe,gd:J};ve.dragmode===!1?de.dragmode=!1:y.select(fe).attr("d",ee.pathAnnulus(X,X+te)).attr("transform",h(se,Y)).call(S,"move");function we(qe,rt){return Math.atan2(ie+te-rt,qe-Z-te)}var Ae=Q.frontplot.select(".scatterlayer").selectAll(".trace"),Re=Ae.selectAll(".point"),Fe=Ae.selectAll(".textpoint"),Se,Te,Ee,Ne,He,_e;function We(qe,rt){var ft=ee.gd._fullLayout,pt=ft[ee.id],gt=Se+qe*ve._invScaleX,Mt=Te+rt*ve._invScaleY,Lt=we(gt,Mt),Wt=N(Lt-_e);if(Ne=Ee+Wt,Q.frontplot.attr("transform",h(ee.xOffset2,ee.yOffset2)+x([-Wt,Z,ie])),ee.vangles){He=ee.radialAxisAngle+Wt;var Je=h(se,Y)+x(-Wt),ze=h(se,Y)+x(-He);Q.bg.attr("transform",Je),Q["radial-grid"].attr("transform",Je),Q["radial-axis"].attr("transform",ze),Q["radial-line"].select("line").attr("transform",ze),ee.updateRadialAxisTitle(ft,pt,He)}else ee.clipPaths.forTraces.select("path").attr("transform",h(Z,ie)+x(Wt));Re.each(function(){var De=y.select(this),Ve=t.getTranslate(De);De.attr("transform",h(Ve.x,Ve.y)+x([Wt]))}),Fe.each(function(){var De=y.select(this),Ve=De.select("text"),it=t.getTranslate(De);De.attr("transform",x([Wt,Ve.attr("x"),Ve.attr("y")])+h(it.x,it.y))}),q.rotation=L.modHalf(Ne,360),ee.updateAngularAxis(ft,pt),ee._hasClipOnAxisFalse&&!L.isFullCircle(ee.sectorInRad)&&Ae.call(t.hideOutsideRangePoints,ee);var Oe=!1;for(var Ue in ee.traceHash)if(a.traceIs(Ue,"gl")){var ke=ee.traceHash[Ue],Me=L.filterVisible(ke),ce=ke[0][0].trace._module;ce.plot(J,ee,Me,pt),Me.length&&(Oe=!0)}Oe&&(M(J),R(J));var be={};tt(be),J.emit("plotly_relayouting",be)}function tt(qe){qe[ee.id+".angularaxis.rotation"]=Ne,ee.vangles&&(qe[ee.id+".radialaxis.angle"]=He)}function Ke(){Fe.select("text").attr("transform",null);var qe={};tt(qe),a.call("_guiRelayout",J,qe)}de.prepFn=function(qe,rt,ft){var pt=ve[ee.id];Ee=pt.angularaxis.rotation;var gt=fe.getBoundingClientRect();Se=rt-gt.left,Te=ft-gt.top,J._fullLayout._calcInverseTransform(J);var Mt=L.apply3DTransform(ve._invTransform)(Se,Te);Se=Mt[0],Te=Mt[1],_e=we(Se,Te),de.moveFn=We,de.doneFn=Ke,p(J)},ee.vangles&&!L.isFullCircle(ee.sectorInRad)&&(de.prepFn=L.noop,S(y.select(fe),null)),m.init(de)},U.isPtInside=function(ve){if(this.isSmith)return!0;var ee=this.sectorInRad,J=this.vangles,Q=this.angularAxis.c2g(ve.theta),X=this.radialAxis,q=X.c2l(ve.r),se=X._rl,Y=J?A.isPtInsidePolygon:L.isPtInsideSector;return Y(q,Q,se,ee,J)},U.pathArc=function(ve){var ee=this.sectorInRad,J=this.vangles,Q=J?A.pathPolygon:L.pathArc;return Q(ve,ee[0],ee[1],J)},U.pathSector=function(ve){var ee=this.sectorInRad,J=this.vangles,Q=J?A.pathPolygon:L.pathSector;return Q(ve,ee[0],ee[1],J)},U.pathAnnulus=function(ve,ee){var J=this.sectorInRad,Q=this.vangles,X=Q?A.pathPolygonAnnulus:L.pathAnnulus;return X(ve,ee,J[0],J[1],Q)},U.pathSubplot=function(){var ve=this.innerRadius,ee=this.radius;return ve?this.pathAnnulus(ve,ee):this.pathSector(ee)},U.fillViewInitialKey=function(ve,ee){ve in this.viewInitial||(this.viewInitial[ve]=ee)};function K(ve){var ee=ve.ticks+String(ve.ticklen)+String(ve.showticklabels);return"side"in ve&&(ee+=ve.side),ee}function re(ve){var ee=ve[0],J=ve[1],Q=J-ee,X=_(ee,360),q=X+Q,se=Math.cos(B(X)),Y=Math.sin(B(X)),Z=Math.cos(B(q)),ie=Math.sin(B(q)),te,fe,de,we;return X<=90&&q>=90||X>90&&q>=450?we=1:Y<=0&&ie<=0?we=0:we=Math.max(Y,ie),X<=180&&q>=180||X>180&&q>=540?te=-1:se>=0&&Z>=0?te=0:te=Math.min(se,Z),X<=270&&q>=270||X>270&&q>=630?fe=-1:Y>=0&&ie>=0?fe=0:fe=Math.min(Y,ie),q>=360?de=1:se<=0&&Z<=0?de=0:de=Math.max(se,Z),[te,fe,de,we]}function ae(ve,ee){var J=function(X){return L.angleDist(ve,X)},Q=L.findIndexOfMin(ee,J);return ee[Q]}function ue(ve,ee,J){return ee?(ve.attr("display",null),ve.attr(J)):ve&&ve.attr("display","none"),ve}},12101:function(W,V,e){var y=e(71828),C=e(21994),a=y.deg2rad,L=y.rad2deg;W.exports=function(u,n,i){switch(C(u,i),u._id){case"x":case"radialaxis":x(u,n);break;case"angularaxis":t(u,n);break}};function x(r,u){var n=u._subplot;r.setGeometry=function(){var i=r._rl[0],s=r._rl[1],o=n.innerRadius,m=(n.radius-o)/(s-i),c=o/m,b=i>s?function(v){return v<=0}:function(v){return v>=0};r.c2g=function(v){var l=r.c2l(v)-i;return(b(l)?l:0)+c},r.g2c=function(v){return r.l2c(v+i-c)},r.g2p=function(v){return v*m},r.c2p=function(v){return r.g2p(r.c2g(v))}}}function h(r,u){return u==="degrees"?a(r):r}function d(r,u){return u==="degrees"?L(r):r}function t(r,u){var n=r.type;if(n==="linear"){var i=r.d2c,s=r.c2d;r.d2c=function(o,m){return h(i(o),m)},r.c2d=function(o,m){return s(d(o,m))}}r.makeCalcdata=function(o,m){var c=o[m],b=o._length,v,l,p=function(E){return r.d2c(E,o.thetaunit)};if(c){if(y.isTypedArray(c)&&n==="linear"){if(b===c.length)return c;if(c.subarray)return c.subarray(0,b)}for(v=new Array(b),l=0;l<b;l++)v[l]=p(c[l])}else{var S=m+"0",M="d"+m,R=S in o?p(o[S]):0,T=o[M]?p(o[M]):(r.period||2*Math.PI)/b;for(v=new Array(b),l=0;l<b;l++)v[l]=R+l*T}return v},r.setGeometry=function(){var o=u.sector,m=o.map(a),c={clockwise:-1,counterclockwise:1}[r.direction],b=a(r.rotation),v=function(A){return c*A+b},l=function(A){return(A-b)/c},p,S,M,R;switch(n){case"linear":S=p=y.identity,R=a,M=L,r.range=y.isFullCircle(m)?[o[0],o[0]+360]:m.map(l).map(L);break;case"category":var T=r._categories.length,E=r.period?Math.max(r.period,T):T;E===0&&(E=1),S=R=function(A){return A*2*Math.PI/E},p=M=function(A){return A*E/Math.PI/2},r.range=[0,E];break}r.c2g=function(A){return v(S(A))},r.g2c=function(A){return p(l(A))},r.t2g=function(A){return v(R(A))},r.g2t=function(A){return M(l(A))}}}},39779:function(W){W.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(W){function V(x){return x<0?-1:x>0?1:0}function e(x){var h=x[0],d=x[1];if(!isFinite(h)||!isFinite(d))return[1,0];var t=(h+1)*(h+1)+d*d;return[(h*h+d*d-1)/t,2*d/t]}function y(x,h){var d=h[0],t=h[1];return[d*x.radius+x.cx,-t*x.radius+x.cy]}function C(x,h){return h*x.radius}function a(x,h,d,t){var r=y(x,e([d,h])),u=r[0],n=r[1],i=y(x,e([t,h])),s=i[0],o=i[1];if(h===0)return["M"+u+","+n,"L"+s+","+o].join(" ");var m=C(x,1/Math.abs(h));return["M"+u+","+n,"A"+m+","+m+" 0 0,"+(h<0?1:0)+" "+s+","+o].join(" ")}function L(x,h,d,t){var r=C(x,1/(h+1)),u=y(x,e([h,d])),n=u[0],i=u[1],s=y(x,e([h,t])),o=s[0],m=s[1];if(V(d)!==V(t)){var c=y(x,e([h,0])),b=c[0],v=c[1];return["M"+n+","+i,"A"+r+","+r+" 0 0,"+(0<d?0:1)+" "+b+","+v,"A"+r+","+r+" 0 0,"+(t<0?0:1)+o+","+m].join(" ")}return["M"+n+","+i,"A"+r+","+r+" 0 0,"+(t<d?0:1)+" "+o+","+m].join(" ")}W.exports={smith:e,reactanceArc:a,resistanceArc:L,smithTransform:y}},7504:function(W,V,e){var y=e(27659).AU,C=e(71828).counterRegex,a=e(77997),L=e(39779),x=L.attr,h=L.name,d=C(h),t={};t[x]={valType:"subplotid",dflt:h,editType:"calc"};function r(n){for(var i=n._fullLayout,s=n.calcdata,o=i._subplots[h],m=0;m<o.length;m++){var c=o[m],b=y(s,h,c),v=i[c]._subplot;v||(v=a(n,c,!0),i[c]._subplot=v),v.plot(b,i,n._promises)}}function u(n,i,s,o){for(var m=o._subplots[h]||[],c=0;c<m.length;c++){var b=m[c],v=o[b]._subplot;if(!i[b]&&v){v.framework.remove();for(var l in v.clipPaths)v.clipPaths[l].remove()}}}W.exports={attr:x,name:h,idRoot:h,idRegex:d,attrRegex:d,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:u,toSVG:e(93612).toSVG}},33419:function(W,V,e){var y=e(22399),C=e(13838),a=e(27670).Y,L=e(71828).extendFlat,x=e(30962).overrideAll,h=x({color:C.color,showline:L({},C.showline,{dflt:!0}),linecolor:C.linecolor,linewidth:C.linewidth,showgrid:L({},C.showgrid,{dflt:!0}),gridcolor:C.gridcolor,gridwidth:C.gridwidth,griddash:C.griddash},"plot","from-root"),d=x({ticklen:C.ticklen,tickwidth:L({},C.tickwidth,{dflt:2}),tickcolor:C.tickcolor,showticklabels:C.showticklabels,labelalias:C.labelalias,showtickprefix:C.showtickprefix,tickprefix:C.tickprefix,showticksuffix:C.showticksuffix,ticksuffix:C.ticksuffix,tickfont:C.tickfont,tickformat:C.tickformat,hoverformat:C.hoverformat,layer:C.layer},"plot","from-root"),t=L({visible:L({},C.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},C.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},h,d),r=L({visible:L({},C.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:C.ticks,editType:"calc"},h,d);W.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:y.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(W,V,e){var y=e(71828),C=e(7901),a=e(44467),L=e(49119),x=e(27659).NG,h=e(89426),d=e(96115),t=e(92128),r=e(21994),u=e(33419),n=e(39779),i=n.axisNames,s=m(function(c){return c.slice().reverse().map(function(b){return-b}).concat([0]).concat(c)},String);function o(c,b,v,l){var p=v("bgcolor");l.bgColor=C.combine(p,l.paper_bgcolor);var S=x(l.fullData,n.name,l.id),M=l.layoutOut,R;function T(U,K){return v(R+"."+U,K)}for(var E=0;E<i.length;E++){R=i[E],y.isPlainObject(c[R])||(c[R]={});var A=c[R],f=a.newContainer(b,R);f._id=f._name=R,f._attr=l.id+"."+R,f._traceIndices=S.map(function(U){return U._expandedIndex});var P=T("visible");if(f.type="linear",r(f,M),h(A,f,T,f.type),P){var w=R==="realaxis";if(w&&T("side"),w)T("tickvals");else{var z=s(b.realaxis.tickvals||u.realaxis.tickvals.dflt);T("tickvals",z)}var F,H,_,B,N=l.font||{};P&&(F=T("color"),H=F===A.color?F:N.color,_=N.size,B=N.family),d(A,f,T,f.type,{noTicklabelstep:!0,noAng:!w,noExp:!0,font:{color:H,size:_,family:B}}),y.coerce2(c,b,u,R+".ticklen"),y.coerce2(c,b,u,R+".tickwidth"),y.coerce2(c,b,u,R+".tickcolor",b.color);var O=T("ticks");O||(delete b[R].ticklen,delete b[R].tickwidth,delete b[R].tickcolor),t(A,f,T,{dfltColor:F,bgColor:l.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[R]}),T("layer")}T("hoverformat"),delete f.type,f._input=A}}W.exports=function(b,v,l){L(b,v,l,{noUirevision:!0,type:n.name,attributes:u,handleDefaults:o,font:v.font,paper_bgcolor:v.paper_bgcolor,fullData:l,layoutOut:v})};function m(c,b){var v={};return function(l){var p=b?b(l):l;if(p in v)return v[p];var S=c(l);return v[p]=S,S}}},49119:function(W,V,e){var y=e(71828),C=e(44467),a=e(27670).c;W.exports=function(x,h,d,t){var r=t.type,u=t.attributes,n=t.handleDefaults,i=t.partition||"x",s=h._subplots[r],o=s.length,m=o&&s[0].replace(/\d+$/,""),c,b;function v(M,R){return y.coerce(c,b,u,M,R)}for(var l=0;l<o;l++){var p=s[l];x[p]?c=x[p]:c=x[p]={},b=C.newContainer(h,p,m),t.noUirevision||v("uirevision",h.uirevision);var S={};S[i]=[l/o,(l+1)/o],a(b,h,v,S),t.id=p,n(c,b,v,t)}}},5386:function(W,V,e){var y=e(31562);y.FORMAT_LINK,y.DATE_FORMAT_LINK;function C(a){var L=a.description?" "+a.description:"",x=a.keys||[];if(x.length>0){for(var h=[],d=0;d<x.length;d++)h[d]="`"+x[d]+"`";L=L+"Finally, the template string has access to ",x.length===1?L=L+"variable "+h[0]:L=L+"variables "+h.slice(0,-1).join(", ")+" and "+h.slice(-1)+"."}return L}V.fF=function(a,L){a=a||{},L=L||{},C(L);var x={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(x.arrayOk=!0),x},V.si=function(a,L){a=a||{},L=L||{},C(L);var x={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(x.arrayOk=!0),x},V.R=function(a,L){a=a||{},L=L||{},a.newshape,C(L);var x={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return x}},61639:function(W,V,e){var y=e(64380),C=e(27659).AU,a=e(71828).counterRegex,L="ternary";V.name=L;var x=V.attr="subplot";V.idRoot=L,V.idRegex=V.attrRegex=a(L);var h=V.attributes={};h[x]={valType:"subplotid",dflt:"ternary",editType:"calc"},V.layoutAttributes=e(81367),V.supplyLayoutDefaults=e(25369),V.plot=function(t){for(var r=t._fullLayout,u=t.calcdata,n=r._subplots[L],i=0;i<n.length;i++){var s=n[i],o=C(u,L,s),m=r[s]._subplot;m||(m=new y({id:s,graphDiv:t,container:r._ternarylayer.node()},r),r[s]._subplot=m),m.plot(o,r,t._promises)}},V.clean=function(d,t,r,u){for(var n=u._subplots[L]||[],i=0;i<n.length;i++){var s=n[i],o=u[s]._subplot;!t[s]&&o&&(o.plotContainer.remove(),o.clipDef.remove(),o.clipDefRelative.remove(),o.layers["a-title"].remove(),o.layers["b-title"].remove(),o.layers["c-title"].remove())}}},81367:function(W,V,e){var y=e(22399),C=e(27670).Y,a=e(13838),L=e(30962).overrideAll,x=e(1426).extendFlat,h={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:x({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:x({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:x({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},d=W.exports=L({domain:C({name:"ternary"}),bgcolor:{valType:"color",dflt:y.background},sum:{valType:"number",dflt:1,min:0},aaxis:h,baxis:h,caxis:h},"plot","from-root");d.uirevision={valType:"any",editType:"none"},d.aaxis.uirevision=d.baxis.uirevision=d.caxis.uirevision={valType:"any",editType:"none"}},25369:function(W,V,e){var y=e(7901),C=e(44467),a=e(71828),L=e(49119),x=e(96115),h=e(89426),d=e(38701),t=e(26218),r=e(92128),u=e(81367),n=["aaxis","baxis","caxis"];W.exports=function(m,c,b){L(m,c,b,{type:"ternary",attributes:u,handleDefaults:i,font:c.font,paper_bgcolor:c.paper_bgcolor})};function i(o,m,c,b){var v=c("bgcolor"),l=c("sum");b.bgColor=y.combine(v,b.paper_bgcolor);for(var p,S,M,R=0;R<n.length;R++)p=n[R],S=o[p]||{},M=C.newContainer(m,p),M._name=p,s(S,M,b,m);var T=m.aaxis,E=m.baxis,A=m.caxis;T.min+E.min+A.min>=l&&(T.min=0,E.min=0,A.min=0,o.aaxis&&delete o.aaxis.min,o.baxis&&delete o.baxis.min,o.caxis&&delete o.caxis.min)}function s(o,m,c,b){var v=u[m._name];function l(f,P){return a.coerce(o,m,v,f,P)}l("uirevision",b.uirevision),m.type="linear";var p=l("color"),S=p!==v.color.dflt?p:c.font.color,M=m._name,R=M.charAt(0).toUpperCase(),T="Component "+R,E=l("title.text",T);m._hovertitle=E===T?E:R,a.coerceFont(l,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:S}),l("min"),t(o,m,l,"linear"),h(o,m,l,"linear"),x(o,m,l,"linear"),d(o,m,l,{outerTicks:!0});var A=l("showticklabels");A&&(a.coerceFont(l,"tickfont",{family:c.font.family,size:c.font.size,color:S}),l("tickangle"),l("tickformat")),r(o,m,l,{dfltColor:p,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:v}),l("hoverformat"),l("layer")}},64380:function(W,V,e){var y=e(39898),C=e(84267),a=e(73972),L=e(71828),x=L.strTranslate,h=L._,d=e(7901),t=e(91424),r=e(21994),u=e(1426).extendFlat,n=e(74875),i=e(89298),s=e(28569),o=e(30211),m=e(64505),c=m.freeMode,b=m.rectMode,v=e(92998),l=e(47322).prepSelect,p=e(47322).selectOnClick,S=e(47322).clearOutline,M=e(47322).clearSelectionsCache,R=e(85555);function T(N,O){this.id=N.id,this.graphDiv=N.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}W.exports=T;var E=T.prototype;E.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},E.plot=function(N,O){var U=this,K=O[U.id],re=O._size;U._hasClipOnAxisFalse=!1;for(var ae=0;ae<N.length;ae++){var ue=N[ae][0].trace;if(ue.cliponaxis===!1){U._hasClipOnAxisFalse=!0;break}}U.updateLayers(K),U.adjustLayout(K,re),n.generalUpdatePerTraceModule(U.graphDiv,U,N,K),U.layers.plotbg.select("path").call(d.fill,K.bgcolor)},E.makeFramework=function(N){var O=this,U=O.graphDiv,K=N[O.id],re=O.clipId="clip"+O.layoutId+O.id,ae=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=L.ensureSingleById(N._clips,"clipPath",re,function(ue){ue.append("path").attr("d","M0,0Z")}),O.clipDefRelative=L.ensureSingleById(N._clips,"clipPath",ae,function(ue){ue.append("path").attr("d","M0,0Z")}),O.plotContainer=L.ensureSingle(O.container,"g",O.id),O.updateLayers(K),t.setClipUrl(O.layers.backplot,re,U),t.setClipUrl(O.layers.grids,re,U)},E.updateLayers=function(N){var O=this,U=O.layers,K=["draglayer","plotbg","backplot","grids"];N.aaxis.layer==="below traces"&&K.push("aaxis","aline"),N.baxis.layer==="below traces"&&K.push("baxis","bline"),N.caxis.layer==="below traces"&&K.push("caxis","cline"),K.push("frontplot"),N.aaxis.layer==="above traces"&&K.push("aaxis","aline"),N.baxis.layer==="above traces"&&K.push("baxis","bline"),N.caxis.layer==="above traces"&&K.push("caxis","cline");var re=O.plotContainer.selectAll("g.toplevel").data(K,String),ae=["agrid","bgrid","cgrid"];re.enter().append("g").attr("class",function(ue){return"toplevel "+ue}).each(function(ue){var ve=y.select(this);U[ue]=ve,ue==="frontplot"?ve.append("g").classed("scatterlayer",!0):ue==="backplot"?ve.append("g").classed("maplayer",!0):ue==="plotbg"?ve.append("path").attr("d","M0,0Z"):ue==="aline"||ue==="bline"||ue==="cline"?ve.append("path"):ue==="grids"&&ae.forEach(function(ee){U[ee]=ve.append("g").classed("grid "+ee,!0)})}),re.order()};var A=Math.sqrt(4/3);E.adjustLayout=function(N,O){var U=this,K=N.domain,re=(K.x[0]+K.x[1])/2,ae=(K.y[0]+K.y[1])/2,ue=K.x[1]-K.x[0],ve=K.y[1]-K.y[0],ee=ue*O.w,J=ve*O.h,Q=N.sum,X=N.aaxis.min,q=N.baxis.min,se=N.caxis.min,Y,Z,ie,te,fe,de;ee>A*J?(te=J,ie=te*A):(ie=ee,te=ie/A),fe=ue*ie/ee,de=ve*te/J,Y=O.l+O.w*re-ie/2,Z=O.t+O.h*(1-ae)-te/2,U.x0=Y,U.y0=Z,U.w=ie,U.h=te,U.sum=Q,U.xaxis={type:"linear",range:[X+2*se-Q,Q-X-2*q],domain:[re-fe/2,re+fe/2],_id:"x"},r(U.xaxis,U.graphDiv._fullLayout),U.xaxis.setScale(),U.xaxis.isPtWithinRange=function(We){return We.a>=U.aaxis.range[0]&&We.a<=U.aaxis.range[1]&&We.b>=U.baxis.range[1]&&We.b<=U.baxis.range[0]&&We.c>=U.caxis.range[1]&&We.c<=U.caxis.range[0]},U.yaxis={type:"linear",range:[X,Q-q-se],domain:[ae-de/2,ae+de/2],_id:"y"},r(U.yaxis,U.graphDiv._fullLayout),U.yaxis.setScale(),U.yaxis.isPtWithinRange=function(){return!0};var we=U.yaxis.domain[0],Ae=U.aaxis=u({},N.aaxis,{range:[X,Q-q-se],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[we,we+de*A],anchor:"free",position:0,_id:"y",_length:ie});r(Ae,U.graphDiv._fullLayout),Ae.setScale();var Re=U.baxis=u({},N.baxis,{range:[Q-X-se,q],side:"bottom",domain:U.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ie});r(Re,U.graphDiv._fullLayout),Re.setScale();var Fe=U.caxis=u({},N.caxis,{range:[Q-X-q,se],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[we,we+de*A],anchor:"free",position:0,_id:"y",_length:ie});r(Fe,U.graphDiv._fullLayout),Fe.setScale();var Se="M"+Y+","+(Z+te)+"h"+ie+"l-"+ie/2+",-"+te+"Z";U.clipDef.select("path").attr("d",Se),U.layers.plotbg.select("path").attr("d",Se);var Te="M0,"+te+"h"+ie+"l-"+ie/2+",-"+te+"Z";U.clipDefRelative.select("path").attr("d",Te);var Ee=x(Y,Z);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ee),U.clipDefRelative.select("path").attr("transform",null);var Ne=x(Y-Re._offset,Z+te);U.layers.baxis.attr("transform",Ne),U.layers.bgrid.attr("transform",Ne);var He=x(Y+ie/2,Z)+"rotate(30)"+x(0,-Ae._offset);U.layers.aaxis.attr("transform",He),U.layers.agrid.attr("transform",He);var _e=x(Y+ie/2,Z)+"rotate(-30)"+x(0,-Fe._offset);U.layers.caxis.attr("transform",_e),U.layers.cgrid.attr("transform",_e),U.drawAxes(!0),U.layers.aline.select("path").attr("d",Ae.showline?"M"+Y+","+(Z+te)+"l"+ie/2+",-"+te:"M0,0").call(d.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),U.layers.bline.select("path").attr("d",Re.showline?"M"+Y+","+(Z+te)+"h"+ie:"M0,0").call(d.stroke,Re.linecolor||"#000").style("stroke-width",(Re.linewidth||0)+"px"),U.layers.cline.select("path").attr("d",Fe.showline?"M"+(Y+ie/2)+","+Z+"l"+ie/2+","+te:"M0,0").call(d.stroke,Fe.linecolor||"#000").style("stroke-width",(Fe.linewidth||0)+"px"),U.graphDiv._context.staticPlot||U.initInteractions(),t.setClipUrl(U.layers.frontplot,U._hasClipOnAxisFalse?null:U.clipId,U.graphDiv)},E.drawAxes=function(N){var O=this,U=O.graphDiv,K=O.id.substr(7)+"title",re=O.layers,ae=O.aaxis,ue=O.baxis,ve=O.caxis;if(O.drawAx(ae),O.drawAx(ue),O.drawAx(ve),N){var ee=Math.max(ae.showticklabels?ae.tickfont.size/2:0,(ve.showticklabels?ve.tickfont.size*.75:0)+(ve.ticks==="outside"?ve.ticklen*.87:0)),J=(ue.showticklabels?ue.tickfont.size:0)+(ue.ticks==="outside"?ue.ticklen:0)+3;re["a-title"]=v.draw(U,"a"+K,{propContainer:ae,propName:O.id+".aaxis.title",placeholder:h(U,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-ae.title.font.size/3-ee,"text-anchor":"middle"}}),re["b-title"]=v.draw(U,"b"+K,{propContainer:ue,propName:O.id+".baxis.title",placeholder:h(U,"Click to enter Component B title"),attributes:{x:O.x0-J,y:O.y0+O.h+ue.title.font.size*.83+J,"text-anchor":"middle"}}),re["c-title"]=v.draw(U,"c"+K,{propContainer:ve,propName:O.id+".caxis.title",placeholder:h(U,"Click to enter Component C title"),attributes:{x:O.x0+O.w+J,y:O.y0+O.h+ve.title.font.size*.83+J,"text-anchor":"middle"}})}},E.drawAx=function(N){var O=this,U=O.graphDiv,K=N._name,re=K.charAt(0),ae=N._id,ue=O.layers[K],ve=30,ee=re+"tickLayout",J=f(N);O[ee]!==J&&(ue.selectAll("."+ae+"tick").remove(),O[ee]=J),N.setScale();var Q=i.calcTicks(N),X=i.clipEnds(N,Q),q=i.makeTransTickFn(N),se=i.getTickSigns(N)[2],Y=L.deg2rad(ve),Z=se*(N.linewidth||1)/2,ie=se*N.ticklen,te=O.w,fe=O.h,de=re==="b"?"M0,"+Z+"l"+Math.sin(Y)*ie+","+Math.cos(Y)*ie:"M"+Z+",0l"+Math.cos(Y)*ie+","+-Math.sin(Y)*ie,we={a:"M0,0l"+fe+",-"+te/2,b:"M0,0l-"+te/2+",-"+fe,c:"M0,0l-"+fe+","+te/2}[re];i.drawTicks(U,N,{vals:N.ticks==="inside"?X:Q,layer:ue,path:de,transFn:q,crisp:!1}),i.drawGrid(U,N,{vals:X,layer:O.layers[re+"grid"],path:we,transFn:q,crisp:!1}),i.drawLabels(U,N,{vals:Q,layer:ue,transFn:q,labelFns:i.makeLabelFns(N,0,ve)})};function f(N){return N.ticks+String(N.ticklen)+String(N.showticklabels)}var P=R.MINZOOM/2+.87,w="m-0.87,.5h"+P+"v3h-"+(P+5.2)+"l"+(P/2+2.6)+",-"+(P*.87+4.5)+"l2.6,1.5l-"+P/2+","+P*.87+"Z",z="m0.87,.5h-"+P+"v3h"+(P+5.2)+"l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-2.6,1.5l"+P/2+","+P*.87+"Z",F="m0,1l"+P/2+","+P*.87+"l2.6,-1.5l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-"+(P/2+2.6)+","+(P*.87+4.5)+"l2.6,1.5l"+P/2+",-"+P*.87+"Z",H="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",_=!0;E.clearOutline=function(){M(this.dragOptions),S(this.dragOptions.gd)},E.initInteractions=function(){var N=this,O=N.layers.plotbg.select("path").node(),U=N.graphDiv,K=U._fullLayout._zoomlayer,re,ae;this.dragOptions={element:O,gd:U,plotinfo:{id:N.id,domain:U._fullLayout[N.id].domain,xaxis:N.xaxis,yaxis:N.yaxis},subplot:N.id,prepFn:function(Ne,He,_e){N.dragOptions.xaxes=[N.xaxis],N.dragOptions.yaxes=[N.yaxis],re=U._fullLayout._invScaleX,ae=U._fullLayout._invScaleY;var We=N.dragOptions.dragmode=U._fullLayout.dragmode;c(We)?N.dragOptions.minDrag=1:N.dragOptions.minDrag=void 0,We==="zoom"?(N.dragOptions.moveFn=Re,N.dragOptions.clickFn=te,N.dragOptions.doneFn=Fe,fe(Ne,He,_e)):We==="pan"?(N.dragOptions.moveFn=Te,N.dragOptions.clickFn=te,N.dragOptions.doneFn=Ee,Se(),N.clearOutline(U)):(b(We)||c(We))&&l(Ne,He,_e,N.dragOptions,We)}};var ue,ve,ee,J,Q,X,q,se,Y,Z;function ie(Ne){var He={};return He[N.id+".aaxis.min"]=Ne.a,He[N.id+".baxis.min"]=Ne.b,He[N.id+".caxis.min"]=Ne.c,He}function te(Ne,He){var _e=U._fullLayout.clickmode;B(U),Ne===2&&(U.emit("plotly_doubleclick",null),a.call("_guiRelayout",U,ie({a:0,b:0,c:0}))),_e.indexOf("select")>-1&&Ne===1&&p(He,U,[N.xaxis],[N.yaxis],N.id,N.dragOptions),_e.indexOf("event")>-1&&o.click(U,He,N.id)}function fe(Ne,He,_e){var We=O.getBoundingClientRect();ue=He-We.left,ve=_e-We.top,U._fullLayout._calcInverseTransform(U);var tt=U._fullLayout._invTransform,Ke=L.apply3DTransform(tt)(ue,ve);ue=Ke[0],ve=Ke[1],ee={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},Q=ee,J=N.aaxis.range[1]-ee.a,X=C(N.graphDiv._fullLayout[N.id].bgcolor).getLuminance(),q="M0,"+N.h+"L"+N.w/2+", 0L"+N.w+","+N.h+"Z",se=!1,Y=K.append("path").attr("class","zoombox").attr("transform",x(N.x0,N.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),Z=K.append("path").attr("class","zoombox-corners").attr("transform",x(N.x0,N.y0)).style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),N.clearOutline(U)}function de(Ne,He){return 1-He/N.h}function we(Ne,He){return 1-(Ne+(N.h-He)/Math.sqrt(3))/N.w}function Ae(Ne,He){return(Ne-(N.h-He)/Math.sqrt(3))/N.w}function Re(Ne,He){var _e=ue+Ne*re,We=ve+He*ae,tt=Math.max(0,Math.min(1,de(ue,ve),de(_e,We))),Ke=Math.max(0,Math.min(1,we(ue,ve),we(_e,We))),qe=Math.max(0,Math.min(1,Ae(ue,ve),Ae(_e,We))),rt=(tt/2+qe)*N.w,ft=(1-tt/2-Ke)*N.w,pt=(rt+ft)/2,gt=ft-rt,Mt=(1-tt)*N.h,Lt=Mt-gt/A;gt<R.MINZOOM?(Q=ee,Y.attr("d",q),Z.attr("d","M0,0Z")):(Q={a:ee.a+tt*J,b:ee.b+Ke*J,c:ee.c+qe*J},Y.attr("d",q+"M"+rt+","+Mt+"H"+ft+"L"+pt+","+Lt+"L"+rt+","+Mt+"Z"),Z.attr("d","M"+ue+","+ve+H+"M"+rt+","+Mt+w+"M"+ft+","+Mt+z+"M"+pt+","+Lt+F)),se||(Y.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Z.transition().style("opacity",1).duration(200),se=!0),U.emit("plotly_relayouting",ie(Q))}function Fe(){B(U),Q!==ee&&(a.call("_guiRelayout",U,ie(Q)),_&&U.data&&U._context.showTips&&(L.notifier(h(U,"Double-click to zoom back out"),"long"),_=!1))}function Se(){ee={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},Q=ee}function Te(Ne,He){var _e=Ne/N.xaxis._m,We=He/N.yaxis._m;Q={a:ee.a-We,b:ee.b+(_e+We)/2,c:ee.c-(_e-We)/2};var tt=[Q.a,Q.b,Q.c].sort(L.sorterAsc),Ke={a:tt.indexOf(Q.a),b:tt.indexOf(Q.b),c:tt.indexOf(Q.c)};tt[0]<0&&(tt[1]+tt[0]/2<0?(tt[2]+=tt[0]+tt[1],tt[0]=tt[1]=0):(tt[2]+=tt[0]/2,tt[1]+=tt[0]/2,tt[0]=0),Q={a:tt[Ke.a],b:tt[Ke.b],c:tt[Ke.c]},He=(ee.a-Q.a)*N.yaxis._m,Ne=(ee.c-Q.c-ee.b+Q.b)*N.xaxis._m);var qe=x(N.x0+Ne,N.y0+He);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",qe);var rt=x(-Ne,-He);N.clipDefRelative.select("path").attr("transform",rt),N.aaxis.range=[Q.a,N.sum-Q.b-Q.c],N.baxis.range=[N.sum-Q.a-Q.c,Q.b],N.caxis.range=[N.sum-Q.a-Q.b,Q.c],N.drawAxes(!1),N._hasClipOnAxisFalse&&N.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,N),U.emit("plotly_relayouting",ie(Q))}function Ee(){a.call("_guiRelayout",U,ie(Q))}O.onmousemove=function(Ne){o.hover(U,Ne,N.id),U._fullLayout._lasthover=O,U._fullLayout._hoversubplot=N.id},O.onmouseout=function(Ne){U._dragging||s.unhover(U,Ne)},s.init(this.dragOptions)};function B(N){y.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(W,V,e){var y=e(47769),C=e(64213),a=e(75138),L=e(41965),x=e(24401).addStyleRule,h=e(1426),d=e(9012),t=e(10820),r=h.extendFlat,u=h.extendDeepAll;V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(M){if(V.collectableSubplotTypes=null,M)M&&!Array.isArray(M)&&(M=[M]);else throw new Error("No argument passed to Plotly.register.");for(var R=0;R<M.length;R++){var T=M[R];if(!T)throw new Error("Invalid module was attempted to be registered!");switch(T.moduleType){case"trace":n(T);break;case"transform":o(T);break;case"component":s(T);break;case"locale":m(T);break;case"apiMethod":var E=T.name;V.apiMethodRegistry[E]=T.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(S){var M=V.modules[p(S)];return M?M._module:!1},V.traceIs=function(S,M){if(S=p(S),S==="various")return!1;var R=V.modules[S];return R||(S&&y.log("Unrecognized trace type "+S+"."),R=V.modules[d.type.dflt]),!!R.categories[M]},V.getTransformIndices=function(S,M){for(var R=[],T=S.transforms||[],E=0;E<T.length;E++)T[E].type===M&&R.push(E);return R},V.hasTransform=function(S,M){for(var R=S.transforms||[],T=0;T<R.length;T++)if(R[T].type===M)return!0;return!1},V.getComponentMethod=function(S,M){var R=V.componentsRegistry[S];return R&&R[M]||C},V.call=function(){var S=arguments[0],M=[].slice.call(arguments,1);return V.apiMethodRegistry[S].apply(null,M)};function n(S){var M=S.name,R=S.categories,T=S.meta;if(V.modules[M]){y.log("Type "+M+" already registered");return}V.subplotsRegistry[S.basePlotModule.name]||i(S.basePlotModule);for(var E={},A=0;A<R.length;A++)E[R[A]]=!0,V.allCategories[R[A]]=!0;V.modules[M]={_module:S,categories:E},T&&Object.keys(T).length&&(V.modules[M].meta=T),V.allTypes.push(M);for(var f in V.componentsRegistry)b(f,M);S.layoutAttributes&&r(V.traceLayoutAttributes,S.layoutAttributes);var P=S.basePlotModule,w=P.name;if(w==="mapbox"){var z=P.constants.styleRules;for(var F in z)x(".js-plotly-plot .plotly .mapboxgl-"+F,z[F])}(w==="geo"||w==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function i(S){var M=S.name;if(V.subplotsRegistry[M]){y.log("Plot type "+M+" already registered.");return}c(S),V.subplotsRegistry[M]=S;for(var R in V.componentsRegistry)l(R,S.name)}function s(S){if(typeof S.name!="string")throw new Error("Component module *name* must be a string.");var M=S.name;V.componentsRegistry[M]=S,S.layoutAttributes&&(S.layoutAttributes._isLinkedToArray&&a(V.layoutArrayContainers,M),c(S));for(var R in V.modules)b(M,R);for(var T in V.subplotsRegistry)l(M,T);for(var E in V.transformsRegistry)v(M,E);S.schema&&S.schema.layout&&u(t,S.schema.layout)}function o(S){if(typeof S.name!="string")throw new Error("Transform module *name* must be a string.");var M="Transform module "+S.name,R=typeof S.transform=="function",T=typeof S.calcTransform=="function";if(!R&&!T)throw new Error(M+" is missing a *transform* or *calcTransform* method.");R&&T&&y.log([M+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(S.attributes)||y.log(M+" registered without an *attributes* object."),typeof S.supplyDefaults!="function"&&y.log(M+" registered without a *supplyDefaults* method."),V.transformsRegistry[S.name]=S;for(var E in V.componentsRegistry)v(E,S.name)}function m(S){var M=S.name,R=M.split("-")[0],T=S.dictionary,E=S.format,A=T&&Object.keys(T).length,f=E&&Object.keys(E).length,P=V.localeRegistry,w=P[M];if(w||(P[M]=w={}),R!==M){var z=P[R];z||(P[R]=z={}),A&&z.dictionary===w.dictionary&&(z.dictionary=T),f&&z.format===w.format&&(z.format=E)}A&&(w.dictionary=T),f&&(w.format=E)}function c(S){if(S.layoutAttributes){var M=S.layoutAttributes._arrayAttrRegexps;if(M)for(var R=0;R<M.length;R++)a(V.layoutArrayRegexes,M[R])}}function b(S,M){var R=V.componentsRegistry[S].schema;if(!(!R||!R.traces)){var T=R.traces[M];T&&u(V.modules[M]._module.attributes,T)}}function v(S,M){var R=V.componentsRegistry[S].schema;if(!(!R||!R.transforms)){var T=R.transforms[M];T&&u(V.transformsRegistry[M].attributes,T)}}function l(S,M){var R=V.componentsRegistry[S].schema;if(!(!R||!R.subplots)){var T=V.subplotsRegistry[M],E=T.layoutAttributes,A=T.attr==="subplot"?T.name:T.attr;Array.isArray(A)&&(A=A[0]);var f=R.subplots[A];E&&f&&u(E,f)}}function p(S){return typeof S=="object"&&(S=S.type),S}},61914:function(W,V,e){var y=e(73972),C=e(71828),a=C.extendFlat,L=C.extendDeep;function x(d){var t;switch(d){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function h(d){var t=["xaxis","yaxis","zaxis"];return t.indexOf(d.slice(0,5))>-1}W.exports=function(t,r){var u,n=t.data,i=t.layout,s=L([],n),o=L({},i,x(r.tileClass)),m=t._context||{};if(r.width&&(o.width=r.width),r.height&&(o.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){o.annotations=[];var c=Object.keys(o);for(u=0;u<c.length;u++)h(c[u])&&(o[c[u]].title={text:""});for(u=0;u<s.length;u++){var b=s[u];b.showscale=!1,b.marker&&(b.marker.showscale=!1),y.traceIs(b,"pie-like")&&(b.textposition="none")}}if(Array.isArray(r.annotations))for(u=0;u<r.annotations.length;u++)o.annotations.push(r.annotations[u]);var v=Object.keys(o).filter(function(R){return R.match(/^scene\d*$/)});if(v.length){var l={};for(r.tileClass==="thumbnail"&&(l={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),u=0;u<v.length;u++){var p=o[v[u]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),a(p.xaxis,l),a(p.yaxis,l),a(p.zaxis,l),p._scene=null}}var S=document.createElement("div");r.tileClass&&(S.className=r.tileClass);var M={gd:S,td:S,layout:o,data:s,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return r.setBackground!=="transparent"&&(M.config.setBackground=r.setBackground||"opaque"),M.gd.defaultLayout=x(r.tileClass),M}},7239:function(W,V,e){var y=e(71828),C=e(403),a=e(22435),L=e(25095);function x(h,d){var t;return y.isPlainObject(h)||(t=y.getGraphDiv(h)),d=d||{},d.format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(r,u){t&&t._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),y.isIE()&&d.format!=="svg"&&u(new Error(L.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var n=C(h,d),i=d.filename||h.fn||"newplot";i+="."+d.format.replace("-","."),n.then(function(s){return t&&(t._snapshotInProgress=!1),a(s,i,d.format)}).then(function(s){r(s)}).catch(function(s){t&&(t._snapshotInProgress=!1),u(s)})})}W.exports=x},22435:function(W,V,e){var y=e(71828),C=e(25095);function a(L,x,h){var d=document.createElement("a"),t="download"in d,r=new Promise(function(u,n){var i,s;if(y.isIE())return i=C.createBlob(L,"svg"),window.navigator.msSaveBlob(i,x),i=null,u(x);if(t)return i=C.createBlob(L,h),s=C.createObjectURL(i),d.href=s,d.download=x,document.body.appendChild(d),d.click(),document.body.removeChild(d),C.revokeObjectURL(s),i=null,u(x);if(y.isSafari()){var o=h==="svg"?",":";base64,";return C.octetStream(o+encodeURIComponent(L)),u(x)}n(new Error("download error"))});return r}W.exports=a},25095:function(W,V,e){var y=e(73972);V.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},V.getRedrawFunc=function(L){return function(){y.getComponentMethod("colorbar","draw")(L)}},V.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},V.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var C=window.URL||window.webkitURL;V.createObjectURL=function(L){return C.createObjectURL(L)},V.revokeObjectURL=function(L){return C.revokeObjectURL(L)},V.createBlob=function(L,x){if(x==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(x==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var h=a(window.atob(L));return new window.Blob([h],{type:"image/"+x})},V.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function a(L){for(var x=L.length,h=new ArrayBuffer(x),d=new Uint8Array(h),t=0;t<x;t++)d[t]=L.charCodeAt(t);return h}V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(W,V,e){var y=e(25095),C={getDelay:y.getDelay,getRedrawFunc:y.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};W.exports=C},70942:function(W,V,e){var y=e(71828),C=e(15398).EventEmitter,a=e(25095);function L(x){var h=x.emitter||new C,d=new Promise(function(t,r){var u=window.Image,n=x.svg,i=x.format||"png";if(y.isIE()&&i!=="svg"){var s=new Error(a.MSG_IE_BAD_FORMAT);return r(s),x.promise?d:h.emit("error",s)}var o=x.canvas,m=x.scale||1,c=x.width||300,b=x.height||150,v=m*c,l=m*b,p=o.getContext("2d",{willReadFrequently:!0}),S=new u,M,R;i==="svg"||y.isSafari()?R=a.encodeSVG(n):(M=a.createBlob(n,"svg"),R=a.createObjectURL(M)),o.width=v,o.height=l,S.onload=function(){var T;switch(M=null,a.revokeObjectURL(R),i!=="svg"&&p.drawImage(S,0,0,v,l),i){case"jpeg":T=o.toDataURL("image/jpeg");break;case"png":T=o.toDataURL("image/png");break;case"webp":T=o.toDataURL("image/webp");break;case"svg":T=R;break;default:var E="Image format is not jpeg, png, svg or webp.";if(r(new Error(E)),!x.promise)return h.emit("error",E)}t(T),x.promise||h.emit("success",T)},S.onerror=function(T){if(M=null,a.revokeObjectURL(R),r(T),!x.promise)return h.emit("error",T)},S.src=R});return x.promise?d:h}W.exports=L},56395:function(W,V,e){var y=e(15398).EventEmitter,C=e(73972),a=e(71828),L=e(25095),x=e(61914),h=e(5900),d=e(70942);function t(r,u){var n=new y,i=x(r,{format:"png"}),s=i.gd;s.style.position="absolute",s.style.left="-5000px",document.body.appendChild(s);function o(){var c=L.getDelay(s._fullLayout);setTimeout(function(){var b=h(s),v=document.createElement("canvas");v.id=a.randstr(),n=d({format:u.format,width:s._fullLayout.width,height:s._fullLayout.height,canvas:v,emitter:n,svg:b}),n.clean=function(){s&&document.body.removeChild(s)}},c)}var m=L.getRedrawFunc(s);return C.call("_doPlot",s,i.data,i.layout,i.config).then(m).then(o).catch(function(c){n.emit("error",c)}),n}W.exports=t},5900:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(7901),x=e(77922),h=/"/g,d="TOBESTRIPPED",t=new RegExp('("'+d+")|("+d+'")',"g");function r(n){var i=y.select("body").append("div").style({display:"none"}).html(""),s=n.replace(/(&[^;]*;)/gi,function(o){return o==="&lt;"?"&#60;":o==="&rt;"?"&#62;":o.indexOf("<")!==-1||o.indexOf(">")!==-1?"":i.html(o).text()});return i.remove(),s}function u(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}W.exports=function(i,s,o){var m=i._fullLayout,c=m._paper,b=m._toppaper,v=m.width,l=m.height,p;c.insert("rect",":first-child").call(a.setRect,0,0,v,l).call(L.fill,m.paper_bgcolor);var S=m._basePlotModules||[];for(p=0;p<S.length;p++){var M=S[p];M.toSVG&&M.toSVG(i)}if(b){var R=b.node().childNodes,T=Array.prototype.slice.call(R);for(p=0;p<T.length;p++){var E=T[p];E.childNodes.length&&c.node().appendChild(E)}}m._draggers&&m._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=y.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){f.remove();return}else f.style({visibility:null,display:null});var P=this.style.fontFamily;P&&P.indexOf('"')!==-1&&f.style("font-family",P.replace(h,d))}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=y.select(this),P=this.style.fill;P&&P.indexOf("url(")!==-1&&f.style("fill",P.replace(h,d));var w=this.style.stroke;w&&w.indexOf("url(")!==-1&&f.style("stroke",w.replace(h,d))}),(s==="pdf"||s==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(x.xmlns,"xmlns",x.svg),c.node().setAttributeNS(x.xmlns,"xmlns:xlink",x.xlink),s==="svg"&&o&&(c.attr("width",o*v),c.attr("height",o*l),c.attr("viewBox","0 0 "+v+" "+l));var A=new window.XMLSerializer().serializeToString(c.node());return A=r(A),A=u(A),A=A.replace(t,"'"),C.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}},75341:function(W,V,e){var y=e(71828);W.exports=function(a,L){for(var x=0;x<a.length;x++)a[x].i=x;y.mergeArray(L.text,a,"tx"),y.mergeArray(L.hovertext,a,"htx");var h=L.marker;if(h){y.mergeArray(h.opacity,a,"mo",!0),y.mergeArray(h.color,a,"mc");var d=h.line;d&&(y.mergeArray(d.color,a,"mlc"),y.mergeArrayCastPositive(d.width,a,"mlw"))}}},1486:function(W,V,e){var y=e(82196),C=e(12663).axisHoverFormat,a=e(5386).fF,L=e(5386).si,x=e(50693),h=e(41940),d=e(97313),t=e(79952).u,r=e(1426).extendFlat,u=h({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=y.marker,i=n.line,s=r({},i.width,{dflt:0}),o=r({width:s,editType:"calc"},x("marker.line")),m=r({line:o,editType:"calc"},x("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});W.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),text:y.text,texttemplate:L({editType:"plot"},{keys:d.eventDataKeys}),hovertext:y.hovertext,hovertemplate:a({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},u,{}),insidetextfont:r({},u,{}),outsidetextfont:r({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},y.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:{marker:{opacity:y.selected.marker.opacity,color:y.selected.marker.color,editType:"style"},textfont:y.selected.textfont,editType:"style"},unselected:{marker:{opacity:y.unselected.marker.opacity,color:y.unselected.marker.color,editType:"style"},textfont:y.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(W,V,e){var y=e(89298),C=e(42973),a=e(52075).hasColorscale,L=e(78803),x=e(75341),h=e(66279);W.exports=function(t,r){var u=y.getFromId(t,r.xaxis||"x"),n=y.getFromId(t,r.yaxis||"y"),i,s,o,m,c,b,v={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(i=u.makeCalcdata(r,"x",v),o=n.makeCalcdata(r,"y"),m=C(r,n,"y",o),c=!!r.yperiodalignment,b="y"):(i=n.makeCalcdata(r,"y",v),o=u.makeCalcdata(r,"x"),m=C(r,u,"x",o),c=!!r.xperiodalignment,b="x"),s=m.vals;for(var l=Math.min(s.length,i.length),p=new Array(l),S=0;S<l;S++)p[S]={p:s[S],s:i[S]},c&&(p[S].orig_p=o[S],p[S][b+"End"]=m.ends[S],p[S][b+"Start"]=m.starts[S]),r.ids&&(p[S].id=String(r.ids[S]));return a(r,"marker")&&L(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),a(r,"marker.line")&&L(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),x(p,r),h(p,r),p}},97313:function(W){W.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(W,V,e){var y=e(92770),C=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,L=e(73972),x=e(89298),h=e(99082).getAxisGroup,d=e(61546);function t(A,f){for(var P=f.xaxis,w=f.yaxis,z=A._fullLayout,F=A._fullData,H=A.calcdata,_=[],B=[],N=0;N<F.length;N++){var O=F[N];if(O.visible===!0&&L.traceIs(O,"bar")&&O.xaxis===P._id&&O.yaxis===w._id&&(O.orientation==="h"?_.push(H[N]):B.push(H[N]),O._computePh))for(var U=A.calcdata[N],K=0;K<U.length;K++)typeof U[K].ph0=="function"&&(U[K].ph0=U[K].ph0()),typeof U[K].ph1=="function"&&(U[K].ph1=U[K].ph1())}var re={xCat:P.type==="category"||P.type==="multicategory",yCat:w.type==="category"||w.type==="multicategory",mode:z.barmode,norm:z.barnorm,gap:z.bargap,groupgap:z.bargroupgap};r(A,P,w,B,re),r(A,w,P,_,re)}function r(A,f,P,w,z){if(w.length){var F,H,_,B,N;switch(u(P,w),z.mode){case"overlay":n(f,P,w,z);break;case"group":for(F=[],H=[],_=0;_<w.length;_++)B=w[_],N=B[0].trace,N.offset===void 0?H.push(B):F.push(B);H.length&&i(A,f,P,H,z),F.length&&n(f,P,F,z);break;case"stack":case"relative":for(F=[],H=[],_=0;_<w.length;_++)B=w[_],N=B[0].trace,N.base===void 0?H.push(B):F.push(B);H.length&&s(A,f,P,H,z),F.length&&n(f,P,F,z);break}T(w,f)}}function u(A,f){var P,w;for(P=0;P<f.length;P++){var z=f[P],F=z[0].trace,H=F.type==="funnel"?F._base:F.base,_,B=F.orientation==="h"?F.xcalendar:F.ycalendar,N=A.type==="category"||A.type==="multicategory"?function(){return null}:A.d2c;if(C(H)){for(w=0;w<Math.min(H.length,z.length);w++)_=N(H[w],0,B),y(_)?(z[w].b=+_,z[w].hasB=1):z[w].b=0;for(;w<z.length;w++)z[w].b=0}else{_=N(H,0,B);var O=y(_);for(_=O?_:0,w=0;w<z.length;w++)z[w].b=_,O&&(z[w].hasB=1)}}}function n(A,f,P,w){for(var z=0;z<P.length;z++){var F=P[z],H=new d([F],{posAxis:A,sepNegVal:!1,overlapNoMerge:!w.norm});o(A,H,w),w.norm?(S(H),R(f,H,w)):l(f,H)}}function i(A,f,P,w,z){var F=new d(w,{posAxis:f,sepNegVal:!1,overlapNoMerge:!z.norm});m(A,f,F,z),M(F,f),z.norm?(S(F),R(P,F,z)):l(P,F)}function s(A,f,P,w,z){var F=new d(w,{posAxis:f,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});o(f,F,z),p(P,F,z);for(var H=0;H<w.length;H++)for(var _=w[H],B=0;B<_.length;B++){var N=_[B];if(N.s!==a){var O=N.b+N.s===F.get(N.p,N.s);O&&(N._outmost=!0)}}z.norm&&R(P,F,z)}function o(A,f,P){for(var w=f.minDiff,z=f.traces,F=w*(1-P.gap),H=F,_=H*(1-(P.groupgap||0)),B=-_/2,N=0;N<z.length;N++){var O=z[N],U=O[0].t;U.barwidth=_,U.poffset=B,U.bargroupwidth=F,U.bardelta=w}f.binWidth=z[0][0].t.barwidth/100,c(f),b(A,f),v(A,f)}function m(A,f,P,w){for(var z=A._fullLayout,F=P.positions,H=P.distinctPositions,_=P.minDiff,B=P.traces,N=B.length,O=F.length!==H.length,U=_*(1-w.gap),K=h(z,f._id)+B[0][0].trace.orientation,re=z._alignmentOpts[K]||{},ae=0;ae<N;ae++){var ue=B[ae],ve=ue[0].trace,ee=re[ve.alignmentgroup]||{},J=Object.keys(ee.offsetGroups||{}).length,Q;J?Q=U/J:Q=O?U/N:U;var X=Q*(1-(w.groupgap||0)),q;J?q=((2*ve._offsetIndex+1-J)*Q-X)/2:q=O?((2*ae+1-N)*Q-X)/2:-X/2;var se=ue[0].t;se.barwidth=X,se.poffset=q,se.bargroupwidth=U,se.bardelta=_}P.binWidth=B[0][0].t.barwidth/100,c(P),b(f,P),v(f,P,O)}function c(A){var f=A.traces,P,w;for(P=0;P<f.length;P++){var z=f[P],F=z[0],H=F.trace,_=F.t,B=H._offset||H.offset,N=_.poffset,O;if(C(B)){for(O=Array.prototype.slice.call(B,0,z.length),w=0;w<O.length;w++)y(O[w])||(O[w]=N);for(w=O.length;w<z.length;w++)O.push(N);_.poffset=O}else B!==void 0&&(_.poffset=B);var U=H._width||H.width,K=_.barwidth;if(C(U)){var re=Array.prototype.slice.call(U,0,z.length);for(w=0;w<re.length;w++)y(re[w])||(re[w]=K);for(w=re.length;w<z.length;w++)re.push(K);if(_.barwidth=re,B===void 0){for(O=[],w=0;w<z.length;w++)O.push(N+(K-re[w])/2);_.poffset=O}}else U!==void 0&&(_.barwidth=U,B===void 0&&(_.poffset=N+(K-U)/2))}}function b(A,f){for(var P=f.traces,w=E(A),z=0;z<P.length;z++)for(var F=P[z],H=F[0].t,_=H.poffset,B=Array.isArray(_),N=H.barwidth,O=Array.isArray(N),U=0;U<F.length;U++){var K=F[U],re=K.w=O?N[U]:N;K.p===void 0&&(K.p=K[w],K["orig_"+w]=K[w]);var ae=(B?_[U]:_)+re/2;K[w]=K.p+ae}}function v(A,f,P){var w=f.traces,z=f.minDiff,F=z/2;x.minDtick(A,f.minDiff,f.distinctPositions[0],P);for(var H=0;H<w.length;H++){var _=w[H],B=_[0],N=B.trace,O=[],U,K,re,ae;for(ae=0;ae<_.length;ae++)U=_[ae],K=U.p-F,re=U.p+F,O.push(K,re);if(N.width||N.offset){var ue=B.t,ve=ue.poffset,ee=ue.barwidth,J=Array.isArray(ve),Q=Array.isArray(ee);for(ae=0;ae<_.length;ae++){U=_[ae];var X=J?ve[ae]:ve,q=Q?ee[ae]:ee;K=U.p+X,re=K+q,O.push(K,re)}}N._extremes[A._id]=x.findExtremes(A,O,{padded:!1})}}function l(A,f){for(var P=f.traces,w=E(A),z=0;z<P.length;z++){for(var F=P[z],H=F[0].trace,_=H.type==="scatter",B=H.orientation==="v",N=[],O=!1,U=0;U<F.length;U++){var K=F[U],re=_?0:K.b,ae=_?B?K.y:K.x:re+K.s;K[w]=ae,N.push(ae),K.hasB&&N.push(re),(!K.hasB||!K.b)&&(O=!0)}H._extremes[A._id]=x.findExtremes(A,N,{tozero:O,padded:!0})}}function p(A,f,P){var w=E(A),z=f.traces,F,H,_,B,N,O;for(B=0;B<z.length;B++)if(F=z[B],H=F[0].trace,H.type==="funnel")for(N=0;N<F.length;N++)O=F[N],O.s!==a&&f.put(O.p,-.5*O.s);for(B=0;B<z.length;B++){F=z[B],H=F[0].trace,_=H.type==="funnel";var U=[];for(N=0;N<F.length;N++)if(O=F[N],O.s!==a){var K;_?K=O.s:K=O.s+O.b;var re=f.put(O.p,K),ae=re+K;O.b=re,O[w]=ae,P.norm||(U.push(ae),O.hasB&&U.push(re))}P.norm||(H._extremes[A._id]=x.findExtremes(A,U,{tozero:!0,padded:!0}))}}function S(A){for(var f=A.traces,P=0;P<f.length;P++)for(var w=f[P],z=0;z<w.length;z++){var F=w[z];F.s!==a&&A.put(F.p,F.b+F.s)}}function M(A,f){for(var P=A.traces,w=0;w<P.length;w++){var z=P[w],F=z[0].trace;if(F.base===void 0)for(var H=new d([z],{posAxis:f,sepNegVal:!0,overlapNoMerge:!0}),_=0;_<z.length;_++){var B=z[_];if(B.p!==a){var N=H.put(B.p,B.b+B.s);N&&(B.b=N)}}}}function R(A,f,P){var w=f.traces,z=E(A),F=P.norm==="fraction"?1:100,H=F/1e9,_=A.l2c(A.c2l(0)),B=P.mode==="stack"?F:_;function N(q){return y(A.c2l(q))&&(q<_-H||q>B+H||!y(_))}for(var O=0;O<w.length;O++){for(var U=w[O],K=U[0].trace,re=[],ae=!1,ue=!1,ve=0;ve<U.length;ve++){var ee=U[ve];if(ee.s!==a){var J=Math.abs(F/f.get(ee.p,ee.s));ee.b*=J,ee.s*=J;var Q=ee.b,X=Q+ee.s;ee[z]=X,re.push(X),ue=ue||N(X),ee.hasB&&(re.push(Q),ue=ue||N(Q)),(!ee.hasB||!ee.b)&&(ae=!0)}}K._extremes[A._id]=x.findExtremes(A,re,{tozero:ae,padded:ue})}}function T(A,f){var P=E(f),w={},z,F,H,_=1/0,B=-1/0;for(z=0;z<A.length;z++)for(H=A[z],F=0;F<H.length;F++){var N=H[F].p;y(N)&&(_=Math.min(_,N),B=Math.max(B,N))}var O=1e4/(B-_),U=w.round=function(J){return String(Math.round(O*(J-_)))};for(z=0;z<A.length;z++){H=A[z],H[0].t.extents=w;var K=H[0].t.poffset,re=Array.isArray(K);for(F=0;F<H.length;F++){var ae=H[F],ue=ae[P]-ae.w/2;if(y(ue)){var ve=ae[P]+ae.w/2,ee=U(ae.p);w[ee]?w[ee]=[Math.min(ue,w[ee][0]),Math.max(ve,w[ee][1])]:w[ee]=[ue,ve]}ae.p0=ae.p+(re?K[F]:K),ae.p1=ae.p0+ae.w,ae.s0=ae.b,ae.s1=ae.s0+ae.s}}}function E(A){return A._id.charAt(0)}W.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(W,V,e){var y=e(71828),C=e(7901),a=e(73972),L=e(67513),x=e(73927),h=e(98340),d=e(26125),t=e(1486),r=y.coerceFont;function u(s,o,m,c){function b(M,R){return y.coerce(s,o,t,M,R)}var v=L(s,o,c,b);if(!v){o.visible=!1;return}x(s,o,c,b),b("xhoverformat"),b("yhoverformat"),b("orientation",o.x&&!o.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var l=b("textposition");i(s,o,c,b,l,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h(s,o,b,m,c);var p=(o.marker.line||{}).color,S=a.getComponentMethod("errorbars","supplyDefaults");S(s,o,p||C.defaultLine,{axis:"y"}),S(s,o,p||C.defaultLine,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(o,b)}function n(s,o){var m,c;function b(l){return y.coerce(c._input,c,t,l)}if(o.barmode==="group")for(var v=0;v<s.length;v++)c=s[v],c.type==="bar"&&(m=c._input,d(m,c,o,b))}function i(s,o,m,c,b,v){v=v||{};var l=v.moduleHasSelected!==!1,p=v.moduleHasUnselected!==!1,S=v.moduleHasConstrain!==!1,M=v.moduleHasCliponaxis!==!1,R=v.moduleHasTextangle!==!1,T=v.moduleHasInsideanchor!==!1,E=!!v.hasPathbar,A=Array.isArray(b)||b==="auto",f=A||b==="inside",P=A||b==="outside";if(f||P){var w=r(c,"textfont",m.font),z=y.extendFlat({},w),F=s.textfont&&s.textfont.color,H=!F;if(H&&delete z.color,r(c,"insidetextfont",z),E){var _=y.extendFlat({},w);H&&delete _.color,r(c,"pathbar.textfont",_)}P&&r(c,"outsidetextfont",w),l&&c("selected.textfont.color"),p&&c("unselected.textfont.color"),S&&c("constraintext"),M&&c("cliponaxis"),R&&c("textangle"),c("texttemplate")}f&&T&&c("insidetextanchor")}W.exports={supplyDefaults:u,crossTraceDefaults:n,handleText:i}},58065:function(W){W.exports=function(e,y,C){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),C.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(W,V,e){var y=e(92770),C=e(84267),a=e(71828).isArrayOrTypedArray;V.coerceString=function(L,x,h){if(typeof x=="string"){if(x||!L.noBlank)return x}else if((typeof x=="number"||x===!0)&&!L.strict)return String(x);return h!==void 0?h:L.dflt},V.coerceNumber=function(L,x,h){if(y(x)){x=+x;var d=L.min,t=L.max,r=d!==void 0&&x<d||t!==void 0&&x>t;if(!r)return x}return h!==void 0?h:L.dflt},V.coerceColor=function(L,x,h){return C(x).isValid()?x:h!==void 0?h:L.dflt},V.coerceEnumerated=function(L,x,h){return L.coerceNumber&&(x=+x),L.values.indexOf(x)!==-1?x:h!==void 0?h:L.dflt},V.getValue=function(L,x){var h;return Array.isArray(L)?x<L.length&&(h=L[x]):h=L,h},V.getLineWidth=function(L,x){var h=0<x.mlw?x.mlw:a(L.marker.line.width)?0:L.marker.line.width;return h}},95423:function(W,V,e){var y=e(30211),C=e(73972),a=e(7901),L=e(71828).fillText,x=e(69383).getLineWidth,h=e(89298).hoverLabelText,d=e(50606).BADNUM;function t(n,i,s,o,m){var c=r(n,i,s,o,m);if(c){var b=c.cd,v=b[0].trace,l=b[c.index];return c.color=u(v,l),C.getComponentMethod("errorbars","hoverInfo")(l,v,c),[c]}}function r(n,i,s,o,m){var c=n.cd,b=c[0].trace,v=c[0].t,l=o==="closest",p=b.type==="waterfall",S=n.maxHoverDistance,M=n.maxSpikeDistance,R,T,E,A,f,P,w;b.orientation==="h"?(R=s,T=i,E="y",A="x",f=ve,P=re):(R=i,T=s,E="x",A="y",P=ve,f=re);var z=b[E+"period"],F=l||z;function H(fe){return B(fe,-1)}function _(fe){return B(fe,1)}function B(fe,de){var we=fe.w;return fe[E]+de*we/2}function N(fe){return fe[E+"End"]-fe[E+"Start"]}var O=l?H:z?function(fe){return fe.p-N(fe)/2}:function(fe){return Math.min(H(fe),fe.p-v.bardelta/2)},U=l?_:z?function(fe){return fe.p+N(fe)/2}:function(fe){return Math.max(_(fe),fe.p+v.bardelta/2)};function K(fe,de,we){return m.finiteRange&&(we=0),y.inbox(fe-R,de-R,we+Math.min(1,Math.abs(de-fe)/w)-1)}function re(fe){return K(O(fe),U(fe),S)}function ae(fe){return K(H(fe),_(fe),M)}function ue(fe){var de=fe[A];if(p){var we=Math.abs(fe.rawS)||0;T>0?de+=we:T<0&&(de-=we)}return de}function ve(fe){var de=T,we=fe.b,Ae=ue(fe);return y.inbox(we-de,Ae-de,S+(Ae-de)/(Ae-we)-1)}function ee(fe){var de=T,we=fe.b,Ae=ue(fe);return y.inbox(we-de,Ae-de,M+(Ae-de)/(Ae-we)-1)}var J=n[E+"a"],Q=n[A+"a"];w=Math.abs(J.r2c(J.range[1])-J.r2c(J.range[0]));function X(fe){return(f(fe)+P(fe))/2}var q=y.getDistanceFunction(o,f,P,X);if(y.getClosest(c,q,n),n.index!==!1&&c[n.index].p!==d){F||(O=function(fe){return Math.min(H(fe),fe.p-v.bargroupwidth/2)},U=function(fe){return Math.max(_(fe),fe.p+v.bargroupwidth/2)});var se=n.index,Y=c[se],Z=b.base?Y.b+Y.s:Y.s;n[A+"0"]=n[A+"1"]=Q.c2p(Y[A],!0),n[A+"LabelVal"]=Z;var ie=v.extents[v.extents.round(Y.p)];n[E+"0"]=J.c2p(l?O(Y):ie[0],!0),n[E+"1"]=J.c2p(l?U(Y):ie[1],!0);var te=Y.orig_p!==void 0;return n[E+"LabelVal"]=te?Y.orig_p:Y.p,n.labelLabel=h(J,n[E+"LabelVal"],b[E+"hoverformat"]),n.valueLabel=h(Q,n[A+"LabelVal"],b[A+"hoverformat"]),n.baseLabel=h(Q,Y.b,b[A+"hoverformat"]),n.spikeDistance=(ee(Y)+ae(Y))/2,n[E+"Spike"]=J.c2p(Y.p,!0),L(Y,b,n),n.hovertemplate=b.hovertemplate,n}}function u(n,i){var s=i.mcc||n.marker.color,o=i.mlcc||n.marker.line.color,m=x(n,i);if(a.opacity(s))return s;if(a.opacity(o)&&m)return o}W.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:u}},60822:function(W,V,e){W.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(W,V,e){var y=e(73972),C=e(89298),a=e(71828),L=e(43641);W.exports=function(x,h,d){function t(v,l){return a.coerce(x,h,L,v,l)}for(var r=!1,u=!1,n=!1,i={},s=t("barmode"),o=0;o<d.length;o++){var m=d[o];if(y.traceIs(m,"bar")&&m.visible)r=!0;else continue;if(s==="group"){var c=m.xaxis+m.yaxis;i[c]&&(n=!0),i[c]=!0}if(m.visible&&m.type==="histogram"){var b=C.getFromId({_fullLayout:h},m[m.orientation==="v"?"xaxis":"yaxis"]);b.type!=="category"&&(u=!0)}}if(!r){delete h.barmode;return}s!=="overlay"&&t("barnorm"),t("bargap",u&&!n?0:.2),t("bargroupgap")}},17295:function(W,V,e){var y=e(39898),C=e(92770),a=e(71828),L=e(63893),x=e(7901),h=e(91424),d=e(73972),t=e(89298).tickText,r=e(72597),u=r.recordMinTextSize,n=r.clearMinTextSize,i=e(16688),s=e(69383),o=e(97313),m=e(1486),c=m.text,b=m.textposition,v=e(23469).appendArrayPointValue,l=o.TEXTPAD;function p(O){return O.id}function S(O){if(O.ids)return p}function M(O,U){return O<U?1:-1}function R(O,U,K,re){var ae=[],ue=[],ve=re?U:K,ee=re?K:U;return ae[0]=ve.c2p(O.s0,!0),ue[0]=ee.c2p(O.p0,!0),ae[1]=ve.c2p(O.s1,!0),ue[1]=ee.c2p(O.p1,!0),re?[ae,ue]:[ue,ae]}function T(O,U,K,re){if(!U.uniformtext.mode&&E(K)){var ae;return re&&(ae=re()),O.transition().duration(K.duration).ease(K.easing).each("end",function(){ae&&ae()}).each("interrupt",function(){ae&&ae()})}else return O}function E(O){return O&&O.duration>0}function A(O,U,K,re,ae,ue){var ve=U.xaxis,ee=U.yaxis,J=O._fullLayout,Q=O._context.staticPlot;ae||(ae={mode:J.barmode,norm:J.barmode,gap:J.bargap,groupgap:J.bargroupgap},n("bar",J));var X=a.makeTraceGroups(re,K,"trace bars").each(function(q){var se=y.select(this),Y=q[0].trace,Z=Y.type==="waterfall",ie=Y.type==="funnel",te=Y.type==="bar",fe=te||ie,de=0;Z&&Y.connector.visible&&Y.connector.mode==="between"&&(de=Y.connector.line.width/2);var we=Y.orientation==="h",Ae=E(ae),Re=a.ensureSingle(se,"g","points"),Fe=S(Y),Se=Re.selectAll("g.point").data(a.identity,Fe);Se.enter().append("g").classed("point",!0),Se.exit().remove(),Se.each(function(Ee,Ne){var He=y.select(this),_e=R(Ee,ve,ee,we),We=_e[0][0],tt=_e[0][1],Ke=_e[1][0],qe=_e[1][1],rt=(we?tt-We:qe-Ke)===0;rt&&fe&&s.getLineWidth(Y,Ee)&&(rt=!1),rt||(rt=!C(We)||!C(tt)||!C(Ke)||!C(qe)),Ee.isBlank=rt,rt&&(we?tt=We:qe=Ke),de&&!rt&&(we?(We-=M(We,tt)*de,tt+=M(We,tt)*de):(Ke-=M(Ke,qe)*de,qe+=M(Ke,qe)*de));var ft,pt;if(Y.type==="waterfall"){if(!rt){var gt=Y[Ee.dir].marker;ft=gt.line.width,pt=gt.color}}else ft=s.getLineWidth(Y,Ee),pt=Ee.mc||Y.marker.color;function Mt(Ue){var ke=y.round(ft/2%1,2);return ae.gap===0&&ae.groupgap===0?y.round(Math.round(Ue)-ke,2):Ue}function Lt(Ue,ke,Me){return Me&&Ue===ke?Ue:Math.abs(Ue-ke)>=2?Mt(Ue):Ue>ke?Math.ceil(Ue):Math.floor(Ue)}if(!O._context.staticPlot){var Wt=x.opacity(pt),Je=Wt<1||ft>.01?Mt:Lt;We=Je(We,tt,we),tt=Je(tt,We,we),Ke=Je(Ke,qe,!we),qe=Je(qe,Ke,!we)}var ze=T(a.ensureSingle(He,"path"),J,ae,ue);if(ze.style("vector-effect",Q?"none":"non-scaling-stroke").attr("d",isNaN((tt-We)*(qe-Ke))||rt&&O._context.staticPlot?"M0,0Z":"M"+We+","+Ke+"V"+qe+"H"+tt+"V"+Ke+"Z").call(h.setClipUrl,U.layerClipId,O),!J.uniformtext.mode&&Ae){var Oe=h.makePointStyleFns(Y);h.singlePointStyle(Ee,ze,Y,Oe,O)}f(O,U,He,q,Ne,We,tt,Ke,qe,ae,ue),U.layerClipId&&h.hideOutsideRangePoint(Ee,He.select("text"),ve,ee,Y.xcalendar,Y.ycalendar)});var Te=Y.cliponaxis===!1;h.setClipUrl(se,Te?null:U.layerClipId,O)});d.getComponentMethod("errorbars","plot")(O,X,U,ae)}function f(O,U,K,re,ae,ue,ve,ee,J,Q,X){var q=U.xaxis,se=U.yaxis,Y=O._fullLayout,Z;function ie(Ue,ke,Me){var ce=a.ensureSingle(Ue,"text").text(ke).attr({class:"bartext bartext-"+Z,"text-anchor":"middle","data-notex":1}).call(h.font,Me).call(L.convertToTspans,O);return ce}var te=re[0].trace,fe=te.orientation==="h",de=H(Y,re,ae,q,se);Z=_(te,ae);var we=Q.mode==="stack"||Q.mode==="relative",Ae=re[ae],Re=!we||Ae._outmost;if(!de||Z==="none"||(Ae.isBlank||ue===ve||ee===J)&&(Z==="auto"||Z==="inside")){K.select("text").remove();return}var Fe=Y.font,Se=i.getBarColor(re[ae],te),Te=i.getInsideTextFont(te,ae,Fe,Se),Ee=i.getOutsideTextFont(te,ae,Fe),Ne=K.datum();fe?q.type==="log"&&Ne.s0<=0&&(q.range[0]<q.range[1]?ue=0:ue=q._length):se.type==="log"&&Ne.s0<=0&&(se.range[0]<se.range[1]?ee=se._length:ee=0);var He=Math.abs(ve-ue)-2*l,_e=Math.abs(J-ee)-2*l,We,tt,Ke,qe,rt;if(Z==="outside"&&!Re&&!Ae.hasB&&(Z="inside"),Z==="auto")if(Re){Z="inside",rt=a.ensureUniformFontSize(O,Te),We=ie(K,de,rt),tt=h.bBox(We.node()),Ke=tt.width,qe=tt.height;var ft=Ke>0&&qe>0,pt=Ke<=He&&qe<=_e,gt=Ke<=_e&&qe<=He,Mt=fe?He>=Ke*(_e/qe):_e>=qe*(He/Ke);ft&&(pt||gt||Mt)?Z="inside":(Z="outside",We.remove(),We=null)}else Z="inside";if(!We){rt=a.ensureUniformFontSize(O,Z==="outside"?Ee:Te),We=ie(K,de,rt);var Lt=We.attr("transform");if(We.attr("transform",""),tt=h.bBox(We.node()),Ke=tt.width,qe=tt.height,We.attr("transform",Lt),Ke<=0||qe<=0){We.remove();return}}var Wt=te.textangle,Je,ze;Z==="outside"?(ze=te.constraintext==="both"||te.constraintext==="outside",Je=F(ue,ve,ee,J,tt,{isHorizontal:fe,constrained:ze,angle:Wt})):(ze=te.constraintext==="both"||te.constraintext==="inside",Je=z(ue,ve,ee,J,tt,{isHorizontal:fe,constrained:ze,angle:Wt,anchor:te.insidetextanchor})),Je.fontSize=rt.size,u(te.type==="histogram"?"bar":te.type,Je,Y),Ae.transform=Je;var Oe=T(We,Y,Q,X);a.setTransormAndDisplay(Oe,Je)}function P(O){return O==="auto"?0:O}function w(O,U){var K=Math.PI/180*U,re=Math.abs(Math.sin(K)),ae=Math.abs(Math.cos(K));return{x:O.width*ae+O.height*re,y:O.width*re+O.height*ae}}function z(O,U,K,re,ae,ue){var ve=!!ue.isHorizontal,ee=!!ue.constrained,J=ue.angle||0,Q=ue.anchor||"end",X=Q==="end",q=Q==="start",se=ue.leftToRight||0,Y=(se+1)/2,Z=1-Y,ie=ae.width,te=ae.height,fe=Math.abs(U-O),de=Math.abs(re-K),we=fe>2*l&&de>2*l?l:0;fe-=2*we,de-=2*we;var Ae=P(J);J==="auto"&&!(ie<=fe&&te<=de)&&(ie>fe||te>de)&&(!(ie>de||te>fe)||ie<te!=fe<de)&&(Ae+=90);var Re=w(ae,Ae),Fe=1;ee&&(Fe=Math.min(1,fe/Re.x,de/Re.y));var Se=ae.left*Z+ae.right*Y,Te=(ae.top+ae.bottom)/2,Ee=(O+l)*Z+(U-l)*Y,Ne=(K+re)/2,He=0,_e=0;if(q||X){var We=(ve?Re.x:Re.y)/2,tt=ve?M(O,U):M(K,re);ve?q?(Ee=O+tt*we,He=-tt*We):(Ee=U-tt*we,He=tt*We):q?(Ne=K+tt*we,_e=-tt*We):(Ne=re-tt*we,_e=tt*We)}return{textX:Se,textY:Te,targetX:Ee,targetY:Ne,anchorX:He,anchorY:_e,scale:Fe,rotate:Ae}}function F(O,U,K,re,ae,ue){var ve=!!ue.isHorizontal,ee=!!ue.constrained,J=ue.angle||0,Q=ae.width,X=ae.height,q=Math.abs(U-O),se=Math.abs(re-K),Y;ve?Y=se>2*l?l:0:Y=q>2*l?l:0;var Z=1;ee&&(Z=ve?Math.min(1,se/X):Math.min(1,q/Q));var ie=P(J),te=w(ae,ie),fe=(ve?te.x:te.y)/2,de=(ae.left+ae.right)/2,we=(ae.top+ae.bottom)/2,Ae=(O+U)/2,Re=(K+re)/2,Fe=0,Se=0,Te=ve?M(U,O):M(K,re);return ve?(Ae=U-Te*Y,Fe=Te*fe):(Re=re+Te*Y,Se=-Te*fe),{textX:de,textY:we,targetX:Ae,targetY:Re,anchorX:Fe,anchorY:Se,scale:Z,rotate:ie}}function H(O,U,K,re,ae){var ue=U[0].trace,ve=ue.texttemplate,ee;return ve?ee=B(O,U,K,re,ae):ue.textinfo?ee=N(U,K,re,ae):ee=s.getValue(ue.text,K),s.coerceString(c,ee)}function _(O,U){var K=s.getValue(O.textposition,U);return s.coerceEnumerated(b,K)}function B(O,U,K,re,ae){var ue=U[0].trace,ve=a.castOption(ue,K,"texttemplate");if(!ve)return"";var ee=ue.type==="histogram",J=ue.type==="waterfall",Q=ue.type==="funnel",X=ue.orientation==="h",q,se,Y,Z;X?(q="y",se=ae,Y="x",Z=re):(q="x",se=re,Y="y",Z=ae);function ie(Fe){return t(se,se.c2l(Fe),!0).text}function te(Fe){return t(Z,Z.c2l(Fe),!0).text}var fe=U[K],de={};de.label=fe.p,de.labelLabel=de[q+"Label"]=ie(fe.p);var we=a.castOption(ue,fe.i,"text");(we===0||we)&&(de.text=we),de.value=fe.s,de.valueLabel=de[Y+"Label"]=te(fe.s);var Ae={};v(Ae,ue,fe.i),(ee||Ae.x===void 0)&&(Ae.x=X?de.value:de.label),(ee||Ae.y===void 0)&&(Ae.y=X?de.label:de.value),(ee||Ae.xLabel===void 0)&&(Ae.xLabel=X?de.valueLabel:de.labelLabel),(ee||Ae.yLabel===void 0)&&(Ae.yLabel=X?de.labelLabel:de.valueLabel),J&&(de.delta=+fe.rawS||fe.s,de.deltaLabel=te(de.delta),de.final=fe.v,de.finalLabel=te(de.final),de.initial=de.final-de.delta,de.initialLabel=te(de.initial)),Q&&(de.value=fe.s,de.valueLabel=te(de.value),de.percentInitial=fe.begR,de.percentInitialLabel=a.formatPercent(fe.begR),de.percentPrevious=fe.difR,de.percentPreviousLabel=a.formatPercent(fe.difR),de.percentTotal=fe.sumR,de.percenTotalLabel=a.formatPercent(fe.sumR));var Re=a.castOption(ue,fe.i,"customdata");return Re&&(de.customdata=Re),a.texttemplateString(ve,de,O._d3locale,Ae,de,ue._meta||{})}function N(O,U,K,re){var ae=O[0].trace,ue=ae.orientation==="h",ve=ae.type==="waterfall",ee=ae.type==="funnel";function J(Re){var Fe=ue?re:K;return t(Fe,Re,!0).text}function Q(Re){var Fe=ue?K:re;return t(Fe,+Re,!0).text}var X=ae.textinfo,q=O[U],se=X.split("+"),Y=[],Z,ie=function(Re){return se.indexOf(Re)!==-1};if(ie("label")&&Y.push(J(O[U].p)),ie("text")&&(Z=a.castOption(ae,q.i,"text"),(Z===0||Z)&&Y.push(Z)),ve){var te=+q.rawS||q.s,fe=q.v,de=fe-te;ie("initial")&&Y.push(Q(de)),ie("delta")&&Y.push(Q(te)),ie("final")&&Y.push(Q(fe))}if(ee){ie("value")&&Y.push(Q(q.s));var we=0;ie("percent initial")&&we++,ie("percent previous")&&we++,ie("percent total")&&we++;var Ae=we>1;ie("percent initial")&&(Z=a.formatPercent(q.begR),Ae&&(Z+=" of initial"),Y.push(Z)),ie("percent previous")&&(Z=a.formatPercent(q.difR),Ae&&(Z+=" of previous"),Y.push(Z)),ie("percent total")&&(Z=a.formatPercent(q.sumR),Ae&&(Z+=" of total"),Y.push(Z))}return Y.join("<br>")}W.exports={plot:A,toMoveInsideBar:z}},81974:function(W){W.exports=function(y,C){var a=y.cd,L=y.xaxis,x=y.yaxis,h=a[0].trace,d=h.type==="funnel",t=h.orientation==="h",r=[],u;if(C===!1)for(u=0;u<a.length;u++)a[u].selected=0;else for(u=0;u<a.length;u++){var n=a[u],i="ct"in n?n.ct:V(n,L,x,t,d);C.contains(i,!1,u,y)?(r.push({pointNumber:u,x:L.c2d(n.x),y:x.c2d(n.y)}),n.selected=1):n.selected=0}return r};function V(e,y,C,a,L){var x=y.c2p(a?e.s0:e.p0,!0),h=y.c2p(a?e.s1:e.p1,!0),d=C.c2p(a?e.p0:e.s0,!0),t=C.c2p(a?e.p1:e.s1,!0);return L?[(x+h)/2,(d+t)/2]:a?[h,(d+t)/2]:[(x+h)/2,t]}},61546:function(W,V,e){W.exports=C;var y=e(71828).distinctVals;function C(a,L){this.traces=a,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var x=1/0,h=L.posAxis._id.charAt(0),d=[],t=0;t<a.length;t++){for(var r=a[t],u=0;u<r.length;u++){var n=r[u],i=n.p;i===void 0&&(i=n[h]),i!==void 0&&d.push(i)}r[0]&&r[0].width1&&(x=Math.min(r[0].width1,x))}this.positions=d;var s=y(d);this.distinctPositions=s.vals,s.vals.length===1&&x!==1/0?this.minDiff=x:this.minDiff=Math.min(s.minDiff,x);var o=(L.posAxis||{}).type;(o==="category"||o==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}C.prototype.put=function(L,x){var h=this.getLabel(L,x),d=this.bins[h]||0;return this.bins[h]=d+x,d},C.prototype.get=function(L,x){var h=this.getLabel(L,x);return this.bins[h]||0},C.prototype.getLabel=function(L,x){var h=x<0&&this.sepNegVal?"v":"^",d=this.overlapNoMerge?L:Math.round(L/this.binWidth);return h+d}},16688:function(W,V,e){var y=e(39898),C=e(7901),a=e(91424),L=e(71828),x=e(73972),h=e(72597).resizeText,d=e(1486),t=d.textfont,r=d.insidetextfont,u=d.outsidetextfont,n=e(69383);function i(T){var E=y.select(T).selectAll("g.barlayer").selectAll("g.trace");h(T,E,"bar");var A=E.size(),f=T._fullLayout;E.style("opacity",function(P){return P[0].trace.opacity}).each(function(P){(f.barmode==="stack"&&A>1||f.bargap===0&&f.bargroupgap===0&&!P[0].trace.marker.line.width)&&y.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(P){var w=y.select(this),z=P[0].trace;s(w,z,T)}),x.getComponentMethod("errorbars","style")(E)}function s(T,E,A){a.pointStyle(T.selectAll("path"),E,A),o(T,E,A)}function o(T,E,A){T.selectAll("text").each(function(f){var P=y.select(this),w=L.ensureUniformFontSize(A,v(P,f,E,A));a.font(P,w)})}function m(T,E,A){var f=E[0].trace;f.selectedpoints?c(A,f,T):(s(A,f,T),x.getComponentMethod("errorbars","style")(A))}function c(T,E,A){a.selectedPointStyle(T.selectAll("path"),E),b(T.selectAll("text"),E,A)}function b(T,E,A){T.each(function(f){var P=y.select(this),w;if(f.selected){w=L.ensureUniformFontSize(A,v(P,f,E,A));var z=E.selected.textfont&&E.selected.textfont.color;z&&(w.color=z),a.font(P,w)}else a.selectedTextStyle(P,E)})}function v(T,E,A,f){var P=f._fullLayout.font,w=A.textfont;if(T.classed("bartext-inside")){var z=R(E,A);w=p(A,E.i,P,z)}else T.classed("bartext-outside")&&(w=S(A,E.i,P));return w}function l(T,E,A){return M(t,T.textfont,E,A)}function p(T,E,A,f){var P=l(T,E,A),w=T._input.textfont===void 0||T._input.textfont.color===void 0||Array.isArray(T.textfont.color)&&T.textfont.color[E]===void 0;return w&&(P={color:C.contrast(f),family:P.family,size:P.size}),M(r,T.insidetextfont,E,P)}function S(T,E,A){var f=l(T,E,A);return M(u,T.outsidetextfont,E,f)}function M(T,E,A,f){E=E||{};var P=n.getValue(E.family,A),w=n.getValue(E.size,A),z=n.getValue(E.color,A);return{family:n.coerceString(T.family,P,f.family),size:n.coerceNumber(T.size,w,f.size),color:n.coerceColor(T.color,z,f.color)}}function R(T,E){return E.type==="waterfall"?E[T.dir].marker.color:T.mcc||T.mc||E.marker.color}W.exports={style:i,styleTextPoints:o,styleOnSelect:m,getInsideTextFont:p,getOutsideTextFont:S,getBarColor:R,resizeText:h}},98340:function(W,V,e){var y=e(7901),C=e(52075).hasColorscale,a=e(1586),L=e(71828).coercePattern;W.exports=function(h,d,t,r,u){var n=t("marker.color",r),i=C(h,"marker");i&&a(h,d,u,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",y.defaultLine),C(h,"marker.line")&&a(h,d,u,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),L(t,"marker.pattern",n,i),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(W,V,e){var y=e(39898),C=e(71828);function a(d,t,r){var u=d._fullLayout,n=u["_"+r+"Text_minsize"];if(n){var i=u.uniformtext.mode==="hide",s;switch(r){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}t.selectAll(s).each(function(o){var m=o.transform;if(m){m.scale=i&&m.hide?0:n/m.fontSize;var c=y.select(this).select("text");C.setTransormAndDisplay(c,m)}})}}function L(d,t,r){if(r.uniformtext.mode){var u=h(d),n=r.uniformtext.minsize,i=t.scale*t.fontSize;t.hide=i<n,r[u]=r[u]||1/0,t.hide||(r[u]=Math.min(r[u],Math.max(i,n)))}}function x(d,t){var r=h(d);t[r]=void 0}function h(d){return"_"+d+"Text_minsize"}W.exports={recordMinTextSize:L,clearMinTextSize:x,resizeText:a}},55023:function(W,V,e){var y=e(5386).fF,C=e(1426).extendFlat,a=e(81245),L=e(1486);W.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:C({},L.base,{}),offset:C({},L.offset,{}),width:C({},L.width,{}),text:C({},L.text,{}),hovertext:C({},L.hovertext,{}),marker:L.marker,hoverinfo:a.hoverinfo,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},74692:function(W,V,e){var y=e(52075).hasColorscale,C=e(78803),a=e(75341),L=e(11661).setGroupPositions,x=e(66279),h=e(73972).traceIs,d=e(71828).extendFlat;function t(u,n){for(var i=u._fullLayout,s=n.subplot,o=i[s].radialaxis,m=i[s].angularaxis,c=o.makeCalcdata(n,"r"),b=m.makeCalcdata(n,"theta"),v=n._length,l=new Array(v),p=c,S=b,M=0;M<v;M++)l[M]={p:S[M],s:p[M]};function R(T){var E=n[T];E!==void 0&&(n["_"+T]=Array.isArray(E)?m.makeCalcdata(n,T):m.d2c(E,n.thetaunit))}return m.type==="linear"&&(R("width"),R("offset")),y(n,"marker")&&C(u,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),y(n,"marker.line")&&C(u,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(l,n),x(l,n),l}function r(u,n,i){for(var s=u.calcdata,o=[],m=0;m<s.length;m++){var c=s[m],b=c[0].trace;b.visible===!0&&h(b,"bar")&&b.subplot===i&&o.push(c)}var v=d({},n.radialaxis,{_id:"x"}),l=n.angularaxis;L(u,l,v,o,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}W.exports={calc:t,crossTraceCalc:r}},6135:function(W,V,e){var y=e(71828),C=e(22184).handleRThetaDefaults,a=e(98340),L=e(55023);W.exports=function(h,d,t,r){function u(i,s){return y.coerce(h,d,L,i,s)}var n=C(h,d,r,u);if(!n){d.visible=!1;return}u("thetaunit"),u("base"),u("offset"),u("width"),u("text"),u("hovertext"),u("hovertemplate"),a(h,d,u,t,r),y.coerceSelectionMarkerOpacity(d,u)}},27379:function(W,V,e){var y=e(30211),C=e(71828),a=e(95423).getTraceColor,L=C.fillText,x=e(59150).makeHoverPointText,h=e(10869).isPtInsidePolygon;W.exports=function(t,r,u){var n=t.cd,i=n[0].trace,s=t.subplot,o=s.radialAxis,m=s.angularAxis,c=s.vangles,b=c?h:C.isPtInsideSector,v=t.maxHoverDistance,l=m._period||2*Math.PI,p=Math.abs(o.g2p(Math.sqrt(r*r+u*u))),S=Math.atan2(u,r);o.range[0]>o.range[1]&&(S+=Math.PI);var M=function(A){return b(p,S,[A.rp0,A.rp1],[A.thetag0,A.thetag1],c)?v+Math.min(1,Math.abs(A.thetag1-A.thetag0)/l)-1+(A.rp1-p)/(A.rp1-A.rp0)-1:1/0};if(y.getClosest(n,M,t),t.index!==!1){var R=t.index,T=n[R];t.x0=t.x1=T.ct[0],t.y0=t.y1=T.ct[1];var E=C.extendFlat({},T,{r:T.s,theta:T.p});return L(T,i,t),x(E,i,s,t),t.hovertemplate=i.hovertemplate,t.color=a(i,T),t.xLabelVal=t.yLabelVal=void 0,T.s<0&&(t.idealAlign="left"),[t]}}},23381:function(W,V,e){W.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(W,V,e){var y=e(71828),C=e(40151);W.exports=function(a,L,x){var h={},d;function t(n,i){return y.coerce(a[d]||{},L[d],C,n,i)}for(var r=0;r<x.length;r++){var u=x[r];u.type==="barpolar"&&u.visible===!0&&(d=u.subplot,h[d]||(t("barmode"),t("bargap"),h[d]=1))}}},60173:function(W,V,e){var y=e(39898),C=e(92770),a=e(71828),L=e(91424),x=e(10869);W.exports=function(t,r,u){var n=t._context.staticPlot,i=r.xaxis,s=r.yaxis,o=r.radialAxis,m=r.angularAxis,c=h(r),b=r.layers.frontplot.select("g.barlayer");a.makeTraceGroups(b,u,"trace bars").each(function(){var v=y.select(this),l=a.ensureSingle(v,"g","points"),p=l.selectAll("g.point").data(a.identity);p.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),p.exit().remove(),p.each(function(S){var M=y.select(this),R=S.rp0=o.c2p(S.s0),T=S.rp1=o.c2p(S.s1),E=S.thetag0=m.c2g(S.p0),A=S.thetag1=m.c2g(S.p1),f;if(!C(R)||!C(T)||!C(E)||!C(A)||R===T||E===A)f="M0,0Z";else{var P=o.c2g(S.s1),w=(E+A)/2;S.ct=[i.c2p(P*Math.cos(w)),s.c2p(P*Math.sin(w))],f=c(R,T,E,A)}a.ensureSingle(M,"path").attr("d",f)}),L.setClipUrl(v,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function h(d){var t=d.cxx,r=d.cyy;return d.vangles?function(u,n,i,s){var o,m;a.angleDelta(i,s)>0?(o=i,m=s):(o=s,m=i);var c=x.findEnclosingVertexAngles(o,d.vangles)[0],b=x.findEnclosingVertexAngles(m,d.vangles)[1],v=[c,(o+m)/2,b];return x.pathPolygonAnnulus(u,n,o,m,v,t,r)}:function(u,n,i,s){return a.pathAnnulus(u,n,i,s,t,r)}}},53522:function(W,V,e){var y=e(82196),C=e(1486),a=e(22399),L=e(12663).axisHoverFormat,x=e(5386).fF,h=e(1426).extendFlat,d=y.marker,t=d.line;W.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:h({},d.symbol,{arrayOk:!1,editType:"plot"}),opacity:h({},d.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:h({},d.angle,{arrayOk:!1,editType:"calc"}),size:h({},d.size,{arrayOk:!1,editType:"calc"}),color:h({},d.color,{arrayOk:!1,editType:"style"}),line:{color:h({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:h({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup,selected:{marker:y.selected.marker,editType:"style"},unselected:{marker:y.unselected.marker,editType:"style"},text:h({},y.text,{}),hovertext:h({},y.hovertext,{}),hovertemplate:x({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(W,V,e){var y=e(92770),C=e(89298),a=e(42973),L=e(71828),x=e(50606).BADNUM,h=L._;W.exports=function(S,M){var R=S._fullLayout,T=C.getFromId(S,M.xaxis||"x"),E=C.getFromId(S,M.yaxis||"y"),A=[],f=M.type==="violin"?"_numViolins":"_numBoxes",P,w,z,F,H,_,B;M.orientation==="h"?(z=T,F="x",H=E,_="y",B=!!M.yperiodalignment):(z=E,F="y",H=T,_="x",B=!!M.xperiodalignment);var N=d(M,_,H,R[f]),O=N[0],U=N[1],K=L.distinctVals(O,H),re=K.vals,ae=K.minDiff/2,ue,ve,ee,J,Q,X,q=(M.boxpoints||M.points)==="all"?L.identity:function(Lt){return Lt.v<ue.lf||Lt.v>ue.uf};if(M._hasPreCompStats){var se=M[F],Y=function(Lt){return z.d2c((M[Lt]||[])[P])},Z=1/0,ie=-1/0;for(P=0;P<M._length;P++){var te=O[P];if(y(te)){if(ue={},ue.pos=ue[_]=te,B&&U&&(ue.orig_p=U[P]),ue.q1=Y("q1"),ue.med=Y("median"),ue.q3=Y("q3"),ve=[],se&&L.isArrayOrTypedArray(se[P]))for(w=0;w<se[P].length;w++)X=z.d2c(se[P][w]),X!==x&&(Q={v:X,i:[P,w]},n(Q,M,[P,w]),ve.push(Q));if(ue.pts=ve.sort(s),ee=ue[F]=ve.map(o),J=ee.length,ue.med!==x&&ue.q1!==x&&ue.q3!==x&&ue.med>=ue.q1&&ue.q3>=ue.med){var fe=Y("lowerfence");ue.lf=fe!==x&&fe<=ue.q1?fe:m(ue,ee,J);var de=Y("upperfence");ue.uf=de!==x&&de>=ue.q3?de:c(ue,ee,J);var we=Y("mean");ue.mean=we!==x?we:J?L.mean(ee,J):(ue.q1+ue.q3)/2;var Ae=Y("sd");ue.sd=we!==x&&Ae>=0?Ae:J?L.stdev(ee,J,ue.mean):ue.q3-ue.q1,ue.lo=b(ue),ue.uo=v(ue);var Re=Y("notchspan");Re=Re!==x&&Re>0?Re:l(ue,J),ue.ln=ue.med-Re,ue.un=ue.med+Re;var Fe=ue.lf,Se=ue.uf;M.boxpoints&&ee.length&&(Fe=Math.min(Fe,ee[0]),Se=Math.max(Se,ee[J-1])),M.notched&&(Fe=Math.min(Fe,ue.ln),Se=Math.max(Se,ue.un)),ue.min=Fe,ue.max=Se}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ue.q1,"median = "+ue.med,"q3 = "+ue.q3].join(`
`));var Te;ue.med!==x?Te=ue.med:ue.q1!==x?ue.q3!==x?Te=(ue.q1+ue.q3)/2:Te=ue.q1:ue.q3!==x?Te=ue.q3:Te=0,ue.med=Te,ue.q1=ue.q3=Te,ue.lf=ue.uf=Te,ue.mean=ue.sd=Te,ue.ln=ue.un=Te,ue.min=ue.max=Te}Z=Math.min(Z,ue.min),ie=Math.max(ie,ue.max),ue.pts2=ve.filter(q),A.push(ue)}}M._extremes[z._id]=C.findExtremes(z,[Z,ie],{padded:!0})}else{var Ee=z.makeCalcdata(M,F),Ne=t(re,ae),He=re.length,_e=r(He);for(P=0;P<M._length;P++)if(X=Ee[P],!!y(X)){var We=L.findBin(O[P],Ne);We>=0&&We<He&&(Q={v:X,i:P},n(Q,M,P),_e[We].push(Q))}var tt=1/0,Ke=-1/0,qe=M.quartilemethod,rt=qe==="exclusive",ft=qe==="inclusive";for(P=0;P<He;P++)if(_e[P].length>0){if(ue={},ue.pos=ue[_]=re[P],ve=ue.pts=_e[P].sort(s),ee=ue[F]=ve.map(o),J=ee.length,ue.min=ee[0],ue.max=ee[J-1],ue.mean=L.mean(ee,J),ue.sd=L.stdev(ee,J,ue.mean)*M.sdmultiple,ue.med=L.interp(ee,.5),J%2&&(rt||ft)){var pt,gt;rt?(pt=ee.slice(0,J/2),gt=ee.slice(J/2+1)):ft&&(pt=ee.slice(0,J/2+1),gt=ee.slice(J/2)),ue.q1=L.interp(pt,.5),ue.q3=L.interp(gt,.5)}else ue.q1=L.interp(ee,.25),ue.q3=L.interp(ee,.75);ue.lf=m(ue,ee,J),ue.uf=c(ue,ee,J),ue.lo=b(ue),ue.uo=v(ue);var Mt=l(ue,J);ue.ln=ue.med-Mt,ue.un=ue.med+Mt,tt=Math.min(tt,ue.ln),Ke=Math.max(Ke,ue.un),ue.pts2=ve.filter(q),A.push(ue)}M._extremes[z._id]=C.findExtremes(z,M.notched?Ee.concat([tt,Ke]):Ee,{padded:!0})}return i(A,M),A.length>0?(A[0].t={num:R[f],dPos:ae,posLetter:_,valLetter:F,labels:{med:h(S,"median:"),min:h(S,"min:"),q1:h(S,"q1:"),q3:h(S,"q3:"),max:h(S,"max:"),mean:M.boxmean==="sd"||M.sizemode==="sd"?h(S,"mean  :").replace("",M.sdmultiple===1?"":M.sdmultiple+""):h(S,"mean:"),lf:h(S,"lower fence:"),uf:h(S,"upper fence:")}},R[f]++,A):[{t:{empty:!0}}]};function d(p,S,M,R){var T=S in p,E=S+"0"in p,A="d"+S in p;if(T||E&&A){var f=M.makeCalcdata(p,S),P=a(p,M,S,f).vals;return[P,f]}var w;E?w=p[S+"0"]:"name"in p&&(M.type==="category"||y(p.name)&&["linear","log"].indexOf(M.type)!==-1||L.isDateTime(p.name)&&M.type==="date")?w=p.name:w=R;for(var z=M.type==="multicategory"?M.r2c_just_indices(w):M.d2c(w,0,p[S+"calendar"]),F=p._length,H=new Array(F),_=0;_<F;_++)H[_]=z;return[H]}function t(p,S){for(var M=p.length,R=new Array(M+1),T=0;T<M;T++)R[T]=p[T]-S;return R[M]=p[M-1]+S,R}function r(p){for(var S=new Array(p),M=0;M<p;M++)S[M]=[];return S}var u={text:"tx",hovertext:"htx"};function n(p,S,M){for(var R in u)L.isArrayOrTypedArray(S[R])&&(Array.isArray(M)?L.isArrayOrTypedArray(S[R][M[0]])&&(p[u[R]]=S[R][M[0]][M[1]]):p[u[R]]=S[R][M])}function i(p,S){if(L.isArrayOrTypedArray(S.selectedpoints))for(var M=0;M<p.length;M++){for(var R=p[M].pts||[],T={},E=0;E<R.length;E++)T[R[E].i]=E;L.tagSelected(R,S,T)}}function s(p,S){return p.v-S.v}function o(p){return p.v}function m(p,S,M){return M===0?p.q1:Math.min(p.q1,S[Math.min(L.findBin(2.5*p.q1-1.5*p.q3,S,!0)+1,M-1)])}function c(p,S,M){return M===0?p.q3:Math.max(p.q3,S[Math.max(L.findBin(2.5*p.q3-1.5*p.q1,S),0)])}function b(p){return 4*p.q1-3*p.q3}function v(p){return 4*p.q3-3*p.q1}function l(p,S){return S===0?0:1.57*(p.q3-p.q1)/Math.sqrt(S)}},37188:function(W,V,e){var y=e(89298),C=e(71828),a=e(99082).getAxisGroup,L=["v","h"];function x(d,t){for(var r=d.calcdata,u=t.xaxis,n=t.yaxis,i=0;i<L.length;i++){for(var s=L[i],o=s==="h"?n:u,m=[],c=0;c<r.length;c++){var b=r[c],v=b[0].t,l=b[0].trace;l.visible===!0&&(l.type==="box"||l.type==="candlestick")&&!v.empty&&(l.orientation||"v")===s&&l.xaxis===u._id&&l.yaxis===n._id&&m.push(c)}h("box",d,m,o)}}function h(d,t,r,u){var n=t.calcdata,i=t._fullLayout,s=u._id,o=s.charAt(0),m,c,b,v=[],l=0;for(m=0;m<r.length;m++)for(b=n[r[m]],c=0;c<b.length;c++)v.push(u.c2l(b[c].pos,!0)),l+=(b[c].pts2||[]).length;if(v.length){var p=C.distinctVals(v);(u.type==="category"||u.type==="multicategory")&&(p.minDiff=1);var S=p.minDiff/2;y.minDtick(u,p.minDiff,p.vals[0],!0);var M=d==="violin"?"_numViolins":"_numBoxes",R=i[M],T=i[d+"mode"]==="group"&&R>1,E=1-i[d+"gap"],A=1-i[d+"groupgap"];for(m=0;m<r.length;m++){b=n[r[m]];var f=b[0].trace,P=b[0].t,w=f.width,z=f.side,F,H,_,B;if(w)F=H=B=w/2,_=0;else if(F=S,T){var N=a(i,u._id)+f.orientation,O=i._alignmentOpts[N]||{},U=O[f.alignmentgroup]||{},K=Object.keys(U.offsetGroups||{}).length,re=K||R,ae=K?f._offsetIndex:P.num;H=F*E*A/re,_=2*F*(-.5+(ae+.5)/re)*E,B=F*E/re}else H=F*E*A,_=0,B=F;P.dPos=F,P.bPos=_,P.bdPos=H,P.wHover=B;var ue,ve,ee=_+H,J,Q,X,q,se,Y,Z=!!w,ie=(f.boxpoints||f.points)&&l>0;if(z==="positive"?(ue=F*(w?1:.5),J=ee,ve=J=_):z==="negative"?(ue=J=_,ve=F*(w?1:.5),Q=ee):(ue=ve=F,J=Q=ee),ie){var te=f.pointpos,fe=f.jitter,de=f.marker.size/2,we=0;te+fe>=0&&(we=ee*(te+fe),we>ue?(Z=!0,se=de,X=we):we>J&&(se=de,X=ue)),we<=ue&&(X=ue);var Ae=0;te-fe<=0&&(Ae=-ee*(te-fe),Ae>ve?(Z=!0,Y=de,q=Ae):Ae>Q&&(Y=de,q=ve)),Ae<=ve&&(q=ve)}else X=ue,q=ve;var Re=new Array(b.length);for(c=0;c<b.length;c++)Re[c]=b[c].pos;f._extremes[s]=y.findExtremes(u,Re,{padded:Z,vpadminus:q,vpadplus:X,vpadLinearized:!0,ppadminus:{x:Y,y:se}[o],ppadplus:{x:se,y:Y}[o]})}}}W.exports={crossTraceCalc:x,setPositionOffset:h}},36411:function(W,V,e){var y=e(71828),C=e(73972),a=e(7901),L=e(73927),x=e(26125),h=e(4322),d=e(53522);function t(i,s,o,m){function c(A,f){return y.coerce(i,s,d,A,f)}if(r(i,s,c,m),s.visible!==!1){L(i,s,m,c),c("xhoverformat"),c("yhoverformat");var b=s._hasPreCompStats;b&&(c("lowerfence"),c("upperfence")),c("line.color",(i.marker||{}).color||o),c("line.width"),c("fillcolor",a.addOpacity(s.line.color,.5));var v=!1;if(b){var l=c("mean"),p=c("sd");l&&l.length&&(v=!0,p&&p.length&&(v="sd"))}c("whiskerwidth");var S=c("sizemode"),M;S==="quartiles"&&(M=c("boxmean",v)),c("showwhiskers",S==="quartiles"),(S==="sd"||M==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var R=!1;if(b){var T=c("notchspan");T&&T.length&&(R=!0)}else y.validate(i.notchwidth,d.notchwidth)&&(R=!0);var E=c("notched",R);E&&c("notchwidth"),u(i,s,c,{prefix:"box"})}}function r(i,s,o,m){function c(K){var re=0;return K&&K.length&&(re+=1,y.isArrayOrTypedArray(K[0])&&K[0].length&&(re+=1)),re}function b(K){return y.validate(i[K],d[K])}var v=o("y"),l=o("x"),p;if(s.type==="box"){var S=o("q1"),M=o("median"),R=o("q3");s._hasPreCompStats=S&&S.length&&M&&M.length&&R&&R.length,p=Math.min(y.minRowLength(S),y.minRowLength(M),y.minRowLength(R))}var T=c(v),E=c(l),A=T&&y.minRowLength(v),f=E&&y.minRowLength(l),P=m.calendar,w={autotypenumbers:m.autotypenumbers},z,F;if(s._hasPreCompStats)switch(String(E)+String(T)){case"00":var H=b("x0")||b("dx"),_=b("y0")||b("dy");_&&!H?z="h":z="v",F=p;break;case"10":z="v",F=Math.min(p,f);break;case"20":z="h",F=Math.min(p,l.length);break;case"01":z="h",F=Math.min(p,A);break;case"02":z="v",F=Math.min(p,v.length);break;case"12":z="v",F=Math.min(p,f,v.length);break;case"21":z="h",F=Math.min(p,l.length,A);break;case"11":F=0;break;case"22":var B=!1,N;for(N=0;N<l.length;N++)if(h(l[N],P,w)==="category"){B=!0;break}if(B)z="v",F=Math.min(p,f,v.length);else{for(N=0;N<v.length;N++)if(h(v[N],P,w)==="category"){B=!0;break}B?(z="h",F=Math.min(p,l.length,A)):(z="v",F=Math.min(p,f,v.length))}break}else T>0?(z="v",E>0?F=Math.min(f,A):F=Math.min(A)):E>0?(z="h",F=Math.min(f)):F=0;if(!F){s.visible=!1;return}s._length=F;var O=o("orientation",z);s._hasPreCompStats?O==="v"&&E===0?(o("x0",0),o("dx",1)):O==="h"&&T===0&&(o("y0",0),o("dy",1)):O==="v"&&E===0?o("x0"):O==="h"&&T===0&&o("y0");var U=C.getComponentMethod("calendars","handleTraceDefaults");U(i,s,["x","y"],m)}function u(i,s,o,m){var c=m.prefix,b=y.coerce2(i,s,d,"marker.outliercolor"),v=o("marker.line.outliercolor"),l="outliers";s._hasPreCompStats?l="all":(b||v)&&(l="suspectedoutliers");var p=o(c+"points",l);p?(o("jitter",p==="all"?.3:0),o("pointpos",p==="all"?-1.5:0),o("marker.symbol"),o("marker.opacity"),o("marker.size"),o("marker.angle"),o("marker.color",s.line.color),o("marker.line.color"),o("marker.line.width"),p==="suspectedoutliers"&&(o("marker.line.outliercolor",s.marker.color),o("marker.line.outlierwidth")),o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size"),o("text"),o("hovertext")):delete s.marker;var S=o("hoveron");(S==="all"||S.indexOf("points")!==-1)&&o("hovertemplate"),y.coerceSelectionMarkerOpacity(s,o)}function n(i,s){var o,m;function c(l){return y.coerce(m._input,m,d,l)}for(var b=0;b<i.length;b++){m=i[b];var v=m.type;(v==="box"||v==="violin")&&(o=m._input,s[v+"mode"]==="group"&&x(o,m,s,c))}}W.exports={supplyDefaults:t,crossTraceDefaults:n,handleSampleDefaults:r,handlePointsDefaults:u}},74907:function(W){W.exports=function(e,y){return y.hoverOnBox&&(e.hoverOnBox=y.hoverOnBox),"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},41868:function(W,V,e){var y=e(89298),C=e(71828),a=e(30211),L=e(7901),x=C.fillText;function h(r,u,n,i){var s=r.cd,o=s[0].trace,m=o.hoveron,c=[],b;return m.indexOf("boxes")!==-1&&(c=c.concat(d(r,u,n,i))),m.indexOf("points")!==-1&&(b=t(r,u,n)),i==="closest"?b?[b]:c:(b&&c.push(b),c)}function d(r,u,n,i){var s=r.cd,o=r.xa,m=r.ya,c=s[0].trace,b=s[0].t,v=c.type==="violin",l,p,S,M,R,T,E,A,f,P,w,z=b.bdPos,F,H,_=b.wHover,B=function(Ae){return S.c2l(Ae.pos)+b.bPos-S.c2l(T)};v&&c.side!=="both"?(c.side==="positive"&&(f=function(Ae){var Re=B(Ae);return a.inbox(Re,Re+_,P)},F=z,H=0),c.side==="negative"&&(f=function(Ae){var Re=B(Ae);return a.inbox(Re-_,Re,P)},F=0,H=z)):(f=function(Ae){var Re=B(Ae);return a.inbox(Re-_,Re+_,P)},F=H=z);var N;v?N=function(Ae){return a.inbox(Ae.span[0]-R,Ae.span[1]-R,P)}:N=function(Ae){return a.inbox(Ae.min-R,Ae.max-R,P)},c.orientation==="h"?(R=u,T=n,E=N,A=f,l="y",S=m,p="x",M=o):(R=n,T=u,E=f,A=N,l="x",S=o,p="y",M=m);var O=Math.min(1,z/Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0])));P=r.maxHoverDistance-O,w=r.maxSpikeDistance-O;function U(Ae){return(E(Ae)+A(Ae))/2}var K=a.getDistanceFunction(i,E,A,U);if(a.getClosest(s,K,r),r.index===!1)return[];var re=s[r.index],ae=c.line.color,ue=(c.marker||{}).color;L.opacity(ae)&&c.line.width?r.color=ae:L.opacity(ue)&&c.boxpoints?r.color=ue:r.color=c.fillcolor,r[l+"0"]=S.c2p(re.pos+b.bPos-H,!0),r[l+"1"]=S.c2p(re.pos+b.bPos+F,!0),r[l+"LabelVal"]=re.orig_p!==void 0?re.orig_p:re.pos;var ve=l+"Spike";r.spikeDistance=U(re)*w/P,r[ve]=S.c2p(re.pos,!0);var ee=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,J=c.boxpoints||c.points,Q=J&&ee?["max","uf","q3","med","mean","q1","lf","min"]:J&&!ee?["max","uf","q3","med","q1","lf","min"]:!J&&ee?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=M.range[1]<M.range[0];c.orientation===(X?"v":"h")&&Q.reverse();for(var q=r.spikeDistance,se=r[ve],Y=[],Z=0;Z<Q.length;Z++){var ie=Q[Z];if(ie in re){var te=re[ie],fe=M.c2p(te,!0),de=C.extendFlat({},r);de.attr=ie,de[p+"0"]=de[p+"1"]=fe,de[p+"LabelVal"]=te,de[p+"Label"]=(b.labels?b.labels[ie]+" ":"")+y.hoverLabelText(M,te,c[p+"hoverformat"]),de.hoverOnBox=!0,ie==="mean"&&"sd"in re&&(c.boxmean==="sd"||c.sizemode==="sd")&&(de[p+"err"]=re.sd),de.hovertemplate=!1,Y.push(de)}}r.name="",r.spikeDistance=void 0,r[ve]=void 0;for(var we=0;we<Y.length;we++)Y[we].attr!=="med"?(Y[we].name="",Y[we].spikeDistance=void 0,Y[we][ve]=void 0):(Y[we].spikeDistance=q,Y[we][ve]=se);return Y}function t(r,u,n){for(var i=r.cd,s=r.xa,o=r.ya,m=i[0].trace,c=s.c2p(u),b=o.c2p(n),v,l=function(N){var O=Math.max(3,N.mrc||0);return Math.max(Math.abs(s.c2p(N.x)-c)-O,1-3/O)},p=function(N){var O=Math.max(3,N.mrc||0);return Math.max(Math.abs(o.c2p(N.y)-b)-O,1-3/O)},S=a.quadrature(l,p),M=!1,R,T,E=0;E<i.length;E++){R=i[E];for(var A=0;A<(R.pts||[]).length;A++){T=R.pts[A];var f=S(T);f<=r.distance&&(r.distance=f,M=[E,A])}}if(!M)return!1;R=i[M[0]],T=R.pts[M[1]];var P=s.c2p(T.x,!0),w=o.c2p(T.y,!0),z=T.mrc||1;v=C.extendFlat({},r,{index:T.i,color:(m.marker||{}).color,name:m.name,x0:P-z,x1:P+z,y0:w-z,y1:w+z,spikeDistance:r.distance,hovertemplate:m.hovertemplate});var F=R.orig_p,H=F!==void 0?F:R.pos,_;m.orientation==="h"?(_=o,v.xLabelVal=T.x,v.yLabelVal=H):(_=s,v.xLabelVal=H,v.yLabelVal=T.y);var B=_._id.charAt(0);return v[B+"Spike"]=_.c2p(R.pos,!0),x(T,m,v),v}W.exports={hoverPoints:h,hoverOnBoxes:d,hoverOnPoints:t}},83832:function(W,V,e){W.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(W){W.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(W,V,e){var y=e(73972),C=e(71828),a=e(40094);function L(h,d,t,r,u){for(var n=u+"Layout",i=!1,s=0;s<t.length;s++){var o=t[s];if(y.traceIs(o,n)){i=!0;break}}i&&(r(u+"mode"),r(u+"gap"),r(u+"groupgap"))}function x(h,d,t){function r(u,n){return C.coerce(h,d,a,u,n)}L(h,d,t,r,"box")}W.exports={supplyLayoutDefaults:x,_supply:L}},86047:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=5,x=.01;function h(u,n,i,s){var o=u._context.staticPlot,m=n.xaxis,c=n.yaxis;C.makeTraceGroups(s,i,"trace boxes").each(function(b){var v=y.select(this),l=b[0],p=l.t,S=l.trace;if(p.wdPos=p.bdPos*S.whiskerwidth,S.visible!==!0||p.empty){v.remove();return}var M,R;S.orientation==="h"?(M=c,R=m):(M=m,R=c),d(v,{pos:M,val:R},S,p,o),t(v,{x:m,y:c},S,p),r(v,{pos:M,val:R},S,p)})}function d(u,n,i,s,o){var m=i.orientation==="h",c=n.val,b=n.pos,v=!!b.rangebreaks,l=s.bPos,p=s.wdPos||0,S=s.bPosPxOffset||0,M=i.whiskerwidth||0,R=i.showwhiskers!==!1,T=i.notched||!1,E=T?1-2*i.notchwidth:1,A,f;Array.isArray(s.bdPos)?(A=s.bdPos[0],f=s.bdPos[1]):(A=s.bdPos,f=s.bdPos);var P=u.selectAll("path.box").data(i.type!=="violin"||i.box.visible?C.identity:[]);P.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","box"),P.exit().remove(),P.each(function(w){if(w.empty)return"M0,0Z";var z=b.c2l(w.pos+l,!0),F=b.l2p(z-A)+S,H=b.l2p(z+f)+S,_=v?(F+H)/2:b.l2p(z)+S,B=i.whiskerwidth,N=v?F*B+(1-B)*_:b.l2p(z-p)+S,O=v?H*B+(1-B)*_:b.l2p(z+p)+S,U=b.l2p(z-A*E)+S,K=b.l2p(z+f*E)+S,re=i.sizemode==="sd",ae=c.c2p(re?w.mean-w.sd:w.q1,!0),ue=re?c.c2p(w.mean+w.sd,!0):c.c2p(w.q3,!0),ve=C.constrain(re?c.c2p(w.mean,!0):c.c2p(w.med,!0),Math.min(ae,ue)+1,Math.max(ae,ue)-1),ee=w.lf===void 0||i.boxpoints===!1||re,J=c.c2p(ee?w.min:w.lf,!0),Q=c.c2p(ee?w.max:w.uf,!0),X=c.c2p(w.ln,!0),q=c.c2p(w.un,!0);m?y.select(this).attr("d","M"+ve+","+U+"V"+K+"M"+ae+","+F+"V"+H+(T?"H"+X+"L"+ve+","+K+"L"+q+","+H:"")+"H"+ue+"V"+F+(T?"H"+q+"L"+ve+","+U+"L"+X+","+F:"")+"Z"+(R?"M"+ae+","+_+"H"+J+"M"+ue+","+_+"H"+Q+(M===0?"":"M"+J+","+N+"V"+O+"M"+Q+","+N+"V"+O):"")):y.select(this).attr("d","M"+U+","+ve+"H"+K+"M"+F+","+ae+"H"+H+(T?"V"+X+"L"+K+","+ve+"L"+H+","+q:"")+"V"+ue+"H"+F+(T?"V"+q+"L"+U+","+ve+"L"+F+","+X:"")+"Z"+(R?"M"+_+","+ae+"V"+J+"M"+_+","+ue+"V"+Q+(M===0?"":"M"+N+","+J+"H"+O+"M"+N+","+Q+"H"+O):""))})}function t(u,n,i,s){var o=n.x,m=n.y,c=s.bdPos,b=s.bPos,v=i.boxpoints||i.points;C.seedPseudoRandom();var l=function(M){return M.forEach(function(R){R.t=s,R.trace=i}),M},p=u.selectAll("g.points").data(v?l:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var S=p.selectAll("path").data(function(M){var R,T=M.pts2,E=Math.max((M.max-M.min)/10,M.q3-M.q1),A=E*1e-9,f=E*x,P=[],w=0,z;if(i.jitter){if(E===0)for(w=1,P=new Array(T.length),R=0;R<T.length;R++)P[R]=1;else for(R=0;R<T.length;R++){var F=Math.max(0,R-L),H=T[F].v,_=Math.min(T.length-1,R+L),B=T[_].v;v!=="all"&&(T[R].v<M.lf?B=Math.min(B,M.lf):H=Math.max(H,M.uf));var N=Math.sqrt(f*(_-F)/(B-H+A))||0;N=C.constrain(Math.abs(N),0,1),P.push(N),w=Math.max(N,w)}z=i.jitter*2/(w||1)}for(R=0;R<T.length;R++){var O=T[R],U=O.v,K=i.jitter?z*P[R]*(C.pseudoRandom()-.5):0,re=M.pos+b+c*(i.pointpos+K);i.orientation==="h"?(O.y=re,O.x=U):(O.x=re,O.y=U),v==="suspectedoutliers"&&U<M.uo&&U>M.lo&&(O.so=!0)}return T});S.enter().append("path").classed("point",!0),S.exit().remove(),S.call(a.translatePoints,o,m)}function r(u,n,i,s){var o=n.val,m=n.pos,c=!!m.rangebreaks,b=s.bPos,v=s.bPosPxOffset||0,l=i.boxmean||(i.meanline||{}).visible,p,S;Array.isArray(s.bdPos)?(p=s.bdPos[0],S=s.bdPos[1]):(p=s.bdPos,S=s.bdPos);var M=u.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?C.identity:[]);M.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),M.exit().remove(),M.each(function(R){var T=m.c2l(R.pos+b,!0),E=m.l2p(T-p)+v,A=m.l2p(T+S)+v,f=c?(E+A)/2:m.l2p(T)+v,P=o.c2p(R.mean,!0),w=o.c2p(R.mean-R.sd,!0),z=o.c2p(R.mean+R.sd,!0);i.orientation==="h"?y.select(this).attr("d","M"+P+","+E+"V"+A+(l==="sd"?"m0,0L"+w+","+f+"L"+P+","+E+"L"+z+","+f+"Z":"")):y.select(this).attr("d","M"+E+","+P+"H"+A+(l==="sd"?"m0,0L"+f+","+w+"L"+E+","+P+"L"+f+","+z+"Z":""))})}W.exports={plot:h,plotBoxAndWhiskers:d,plotPoints:t,plotBoxMean:r}},24626:function(W){W.exports=function(e,y){var C=e.cd,a=e.xaxis,L=e.yaxis,x=[],h,d;if(y===!1)for(h=0;h<C.length;h++)for(d=0;d<(C[h].pts||[]).length;d++)C[h].pts[d].selected=0;else for(h=0;h<C.length;h++)for(d=0;d<(C[h].pts||[]).length;d++){var t=C[h].pts[d],r=a.c2p(t.x),u=L.c2p(t.y);y.contains([r,u],null,t.i,e)?(x.push({pointNumber:t.i,x:a.c2d(t.x),y:L.c2d(t.y)}),t.selected=1):t.selected=0}return x}},58063:function(W,V,e){var y=e(39898),C=e(7901),a=e(91424);function L(h,d,t){var r=t||y.select(h).selectAll("g.trace.boxes");r.style("opacity",function(u){return u[0].trace.opacity}),r.each(function(u){var n=y.select(this),i=u[0].trace,s=i.line.width;function o(b,v,l,p){b.style("stroke-width",v+"px").call(C.stroke,l).call(C.fill,p)}var m=n.selectAll("path.box");if(i.type==="candlestick")m.each(function(b){if(!b.empty){var v=y.select(this),l=i[b.dir];o(v,l.line.width,l.line.color,l.fillcolor),v.style("opacity",i.selectedpoints&&!b.selected?.3:1)}});else{o(m,s,i.line.color,i.fillcolor),n.selectAll("path.mean").style({"stroke-width":s,"stroke-dasharray":2*s+"px,"+s+"px"}).call(C.stroke,i.line.color);var c=n.selectAll("path.point");a.pointStyle(c,i,h)}})}function x(h,d,t){var r=d[0].trace,u=t.selectAll("path.point");r.selectedpoints?a.selectedPointStyle(u,r):a.pointStyle(u,r,h)}W.exports={style:L,styleOnSelect:x}},75343:function(W,V,e){var y=e(71828).extendFlat,C=e(12663).axisHoverFormat,a=e(2522),L=e(53522);function x(h){return{line:{color:y({},L.line.color,{dflt:h}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}W.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:y({},L.line.width,{}),editType:"style"},increasing:x(a.increasing.line.color.dflt),decreasing:x(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:y({},L.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(W,V,e){var y=e(71828),C=e(89298),a=e(42973),L=e(3485).calcCommon;W.exports=function(h,d){var t=h._fullLayout,r=C.getFromId(h,d.xaxis),u=C.getFromId(h,d.yaxis),n=r.makeCalcdata(d,"x"),i=a(d,r,"x",n).vals,s=L(h,d,n,i,u,x);return s.length?(y.extendFlat(s[0].t,{num:t._numBoxes,dPos:y.distinctVals(i).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,s):[{t:{empty:!0}}]};function x(h,d,t,r){return{min:t,q1:Math.min(h,r),med:r,q3:Math.max(h,r),max:d}}},1026:function(W,V,e){var y=e(71828),C=e(7901),a=e(14555),L=e(73927),x=e(75343);W.exports=function(t,r,u,n){function i(o,m){return y.coerce(t,r,x,o,m)}var s=a(t,r,i,n);if(!s){r.visible=!1;return}L(t,r,n,i,{x:!0}),i("xhoverformat"),i("yhoverformat"),i("line.width"),h(t,r,i,"increasing"),h(t,r,i,"decreasing"),i("text"),i("hovertext"),i("whiskerwidth"),n._requestRangeslider[r.xaxis]=!0};function h(d,t,r,u){var n=r(u+".line.color");r(u+".line.width",t.line.width),r(u+".fillcolor",C.addOpacity(n,.5))}},91815:function(W,V,e){W.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(W,V,e){var y=e(11500),C=e(44467);W.exports=function(x,h,d,t,r){var u=t("a");u||(t("da"),t("a0"));var n=t("b");n||(t("db"),t("b0")),a(x,h,d,r)};function a(L,x,h,d){var t=["aaxis","baxis"];t.forEach(function(r){var u=r.charAt(0),n=L[r]||{},i=C.newContainer(x,r),s={noTicklabelstep:!0,tickfont:"x",id:u+"axis",letter:u,font:x.font,name:r,data:L[u],calendar:x.calendar,dfltColor:d,bgColor:h.paper_bgcolor,autotypenumbersDflt:h.autotypenumbers,fullLayout:h};y(n,i,s),i._categories=i._categories||[],!L[r]&&n.type!=="-"&&(L[r]={type:n.type})})}},402:function(W,V,e){var y=e(71828).isArrayOrTypedArray;W.exports=function(a){return C(a,0)};function C(a,L){if(!y(a)||L>=10)return null;for(var x=1/0,h=-1/0,d=a.length,t=0;t<d;t++){var r=a[t];if(y(r)){var u=C(r,L+1);u&&(x=Math.min(u[0],x),h=Math.max(u[1],h))}else x=Math.min(r,x),h=Math.max(r,h)}return[x,h]}},99798:function(W,V,e){var y=e(41940),C=e(1928),a=e(22399),L=y({editType:"calc"});L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=a.defaultLine,W.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:C,baxis:C,font:L,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(W,V,e){var y=e(71828).isArrayOrTypedArray;W.exports=function(C,a,L,x){var h,d,t,r,u,n,i,s,o,m,c,b,v,l=y(L)?"a":"b",p=l==="a"?C.aaxis:C.baxis,S=p.smoothing,M=l==="a"?C.a2i:C.b2j,R=l==="a"?L:x,T=l==="a"?x:L,E=l==="a"?a.a.length:a.b.length,A=l==="a"?a.b.length:a.a.length,f=Math.floor(l==="a"?C.b2j(T):C.a2i(T)),P=l==="a"?function(ae){return C.evalxy([],ae,f)}:function(ae){return C.evalxy([],f,ae)};S&&(t=Math.max(0,Math.min(A-2,f)),r=f-t,d=l==="a"?function(ae,ue){return C.dxydi([],ae,t,ue,r)}:function(ae,ue){return C.dxydj([],t,ae,r,ue)});var w=M(R[0]),z=M(R[1]),F=w<z?1:-1,H=(z-w)*1e-8,_=F>0?Math.floor:Math.ceil,B=F>0?Math.ceil:Math.floor,N=F>0?Math.min:Math.max,O=F>0?Math.max:Math.min,U=_(w+H),K=B(z-H);i=P(w);var re=[[i]];for(h=U;h*F<K*F;h+=F)u=[],c=O(w,h),b=N(z,h+F),v=b-c,n=Math.max(0,Math.min(E-2,Math.floor(.5*(c+b)))),s=P(b),S&&(o=d(n,c-n),m=d(n,b-n),u.push([i[0]+o[0]/3*v,i[1]+o[1]/3*v]),u.push([s[0]-m[0]/3*v,s[1]-m[1]/3*v])),u.push(s),re.push(u),i=s;return re}},1928:function(W,V,e){var y=e(41940),C=e(22399),a=e(13838),L=e(12663).descriptionWithDates,x=e(30962).overrideAll,h=e(79952).P,d=e(1426).extendFlat;W.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:y({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:d({},a.labelalias,{editType:"calc"}),tickfont:y({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:x(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:C.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:d({},h,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:d({},h,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:C.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:y({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(W,V,e){var y=e(99798),C=e(7901).addOpacity,a=e(73972),L=e(71828),x=e(26218),h=e(96115),d=e(89426),t=e(15258),r=e(21994),u=e(4322);W.exports=function(s,o,m){var c=m.letter,b=m.font||{},v=y[c+"axis"];function l(U,K){return L.coerce(s,o,v,U,K)}function p(U,K){return L.coerce2(s,o,v,U,K)}m.name&&(o._name=m.name,o._id=m.name),l("autotypenumbers",m.autotypenumbersDflt);var S=l("type");if(S==="-"&&(m.data&&n(o,m.data),o.type==="-"?o.type="linear":S=s.type=o.type),l("smoothing"),l("cheatertype"),l("showticklabels"),l("labelprefix",c+" = "),l("labelsuffix"),l("showtickprefix"),l("showticksuffix"),l("separatethousands"),l("tickformat"),l("exponentformat"),l("minexponent"),l("showexponent"),l("categoryorder"),l("tickmode"),l("tickvals"),l("ticktext"),l("tick0"),l("dtick"),o.tickmode==="array"&&(l("arraytick0"),l("arraydtick")),l("labelpadding"),o._hovertitle=c,S==="date"){var M=a.getComponentMethod("calendars","handleDefaults");M(s,o,"calendar",m.calendar)}r(o,m.fullLayout),o.c2p=L.identity;var R=l("color",m.dfltColor),T=R===s.color?R:b.color,E=l("title.text");E&&(L.coerceFont(l,"title.font",{family:b.family,size:L.bigFont(b.size),color:T}),l("title.offset")),l("tickangle");var A=l("autorange",!o.isValidRange(s.range));A&&l("rangemode"),l("range"),o.cleanRange(),l("fixedrange"),x(s,o,l,S),d(s,o,l,S,m),h(s,o,l,S,m),t(s,o,l,{data:m.data,dataAttr:c});var f=p("gridcolor",C(R,.3)),P=p("gridwidth"),w=p("griddash"),z=l("showgrid");z||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var F=p("startlinecolor",R),H=p("startlinewidth",P),_=l("startline",o.showgrid||!!F||!!H);_||(delete o.startlinecolor,delete o.startlinewidth);var B=p("endlinecolor",R),N=p("endlinewidth",P),O=l("endline",o.showgrid||!!B||!!N);return O||(delete o.endlinecolor,delete o.endlinewidth),z?(l("minorgridcount"),l("minorgridwidth",P),l("minorgriddash",w),l("minorgridcolor",C(f,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),o.showticklabels==="none"&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,l("tickmode"),o};function n(i,s){if(i.type==="-"){var o=i._id,m=o.charAt(0),c=m+"calendar",b=i[c];i.type=u(s,b,{autotypenumbers:i.autotypenumbers})}}},25281:function(W,V,e){var y=e(89298),C=e(71828).isArray1D,a=e(53824),L=e(402),x=e(20347),h=e(83311),d=e(44807),t=e(4742),r=e(72505),u=e(68296),n=e(11435);W.exports=function(s,o){var m=y.getFromId(s,o.xaxis),c=y.getFromId(s,o.yaxis),b=o.aaxis,v=o.baxis,l=o.x,p=o.y,S=[];l&&C(l)&&S.push("x"),p&&C(p)&&S.push("y"),S.length&&u(o,b,v,"a","b",S);var M=o._a=o._a||o.a,R=o._b=o._b||o.b;l=o._x||o.x,p=o._y||o.y;var T={};if(o._cheater){var E=b.cheatertype==="index"?M.length:M,A=v.cheatertype==="index"?R.length:R;l=a(E,A,o.cheaterslope)}o._x=l=t(l),o._y=p=t(p),r(l,M,R),r(p,M,R),n(o),o.setScale();var f=L(l),P=L(p),w=.5*(f[1]-f[0]),z=.5*(f[1]+f[0]),F=.5*(P[1]-P[0]),H=.5*(P[1]+P[0]),_=1.3;return f=[z-w*_,z+w*_],P=[H-F*_,H+F*_],o._extremes[m._id]=y.findExtremes(m,f,{padded:!0}),o._extremes[c._id]=y.findExtremes(c,P,{padded:!0}),x(o,"a","b"),x(o,"b","a"),h(o,b),h(o,v),T.clipsegments=d(o._xctrl,o._yctrl,b,v),T.x=l,T.y=p,T.a=M,T.b=R,[T]}},44807:function(W){W.exports=function(e,y,C,a){var L,x,h,d=[],t=!!C.smoothing,r=!!a.smoothing,u=e[0].length-1,n=e.length-1;for(L=0,x=[],h=[];L<=u;L++)x[L]=e[0][L],h[L]=y[0][L];for(d.push({x,y:h,bicubic:t}),L=0,x=[],h=[];L<=n;L++)x[L]=e[L][u],h[L]=y[L][u];for(d.push({x,y:h,bicubic:r}),L=u,x=[],h=[];L>=0;L--)x[u-L]=e[n][L],h[u-L]=y[n][L];for(d.push({x,y:h,bicubic:t}),L=n,x=[],h=[];L>=0;L--)x[n-L]=e[L][0],h[n-L]=y[L][0];return d.push({x,y:h,bicubic:r}),d}},20347:function(W,V,e){var y=e(89298),C=e(1426).extendFlat;W.exports=function(L,x,h){var d,t,r,u,n,i,s,o,m,c,b,v,l,p,S=L["_"+x],M=L[x+"axis"],R=M._gridlines=[],T=M._minorgridlines=[],E=M._boundarylines=[],A=L["_"+h],f=L[h+"axis"];M.tickmode==="array"&&(M.tickvals=S.slice());var P=L._xctrl,w=L._yctrl,z=P[0].length,F=P.length,H=L._a.length,_=L._b.length;y.prepTicks(M),M.tickmode==="array"&&delete M.tickvals;var B=M.smoothing?3:1;function N(U){var K,re,ae,ue,ve,ee,J,Q,X,q,se,Y,Z=[],ie=[],te={};if(x==="b")for(re=L.b2j(U),ae=Math.floor(Math.max(0,Math.min(_-2,re))),ue=re-ae,te.length=_,te.crossLength=H,te.xy=function(fe){return L.evalxy([],fe,re)},te.dxy=function(fe,de){return L.dxydi([],fe,ae,de,ue)},K=0;K<H;K++)ee=Math.min(H-2,K),J=K-ee,Q=L.evalxy([],K,re),f.smoothing&&K>0&&(X=L.dxydi([],K-1,ae,0,ue),Z.push(ve[0]+X[0]/3),ie.push(ve[1]+X[1]/3),q=L.dxydi([],K-1,ae,1,ue),Z.push(Q[0]-q[0]/3),ie.push(Q[1]-q[1]/3)),Z.push(Q[0]),ie.push(Q[1]),ve=Q;else for(K=L.a2i(U),ee=Math.floor(Math.max(0,Math.min(H-2,K))),J=K-ee,te.length=H,te.crossLength=_,te.xy=function(fe){return L.evalxy([],K,fe)},te.dxy=function(fe,de){return L.dxydj([],ee,fe,J,de)},re=0;re<_;re++)ae=Math.min(_-2,re),ue=re-ae,Q=L.evalxy([],K,re),f.smoothing&&re>0&&(se=L.dxydj([],ee,re-1,J,0),Z.push(ve[0]+se[0]/3),ie.push(ve[1]+se[1]/3),Y=L.dxydj([],ee,re-1,J,1),Z.push(Q[0]-Y[0]/3),ie.push(Q[1]-Y[1]/3)),Z.push(Q[0]),ie.push(Q[1]),ve=Q;return te.axisLetter=x,te.axis=M,te.crossAxis=f,te.value=U,te.constvar=h,te.index=o,te.x=Z,te.y=ie,te.smoothing=f.smoothing,te}function O(U){var K,re,ae,ue,ve,ee=[],J=[],Q={};if(Q.length=S.length,Q.crossLength=A.length,x==="b")for(ae=Math.max(0,Math.min(_-2,U)),ve=Math.min(1,Math.max(0,U-ae)),Q.xy=function(X){return L.evalxy([],X,U)},Q.dxy=function(X,q){return L.dxydi([],X,ae,q,ve)},K=0;K<z;K++)ee[K]=P[U*B][K],J[K]=w[U*B][K];else for(re=Math.max(0,Math.min(H-2,U)),ue=Math.min(1,Math.max(0,U-re)),Q.xy=function(X){return L.evalxy([],U,X)},Q.dxy=function(X,q){return L.dxydj([],re,X,ue,q)},K=0;K<F;K++)ee[K]=P[K][U*B],J[K]=w[K][U*B];return Q.axisLetter=x,Q.axis=M,Q.crossAxis=f,Q.value=S[U],Q.constvar=h,Q.index=U,Q.x=ee,Q.y=J,Q.smoothing=f.smoothing,Q}if(M.tickmode==="array"){for(u=5e-15,n=[Math.floor((S.length-1-M.arraytick0)/M.arraydtick*(1+u)),Math.ceil(-M.arraytick0/M.arraydtick/(1+u))].sort(function(U,K){return U-K}),i=n[0]-1,s=n[1]+1,o=i;o<s;o++)t=M.arraytick0+M.arraydtick*o,!(t<0||t>S.length-1)&&R.push(C(O(t),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(o=i;o<s;o++)if(r=M.arraytick0+M.arraydtick*o,b=Math.min(r+M.arraydtick,S.length-1),!(r<0||r>S.length-1)&&!(b<0||b>S.length-1))for(v=S[r],l=S[b],d=0;d<M.minorgridcount;d++)p=b-r,!(p<=0)&&(c=v+(l-v)*(d+1)/(M.minorgridcount+1)*(M.arraydtick/p),!(c<S[0]||c>S[S.length-1])&&T.push(C(N(c),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash})));M.startline&&E.push(C(O(0),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&E.push(C(O(S.length-1),{color:M.endlinecolor,width:M.endlinewidth}))}else{for(u=5e-15,n=[Math.floor((S[S.length-1]-M.tick0)/M.dtick*(1+u)),Math.ceil((S[0]-M.tick0)/M.dtick/(1+u))].sort(function(U,K){return U-K}),i=n[0],s=n[1],o=i;o<=s;o++)m=M.tick0+M.dtick*o,R.push(C(N(m),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(o=i-1;o<s+1;o++)for(m=M.tick0+M.dtick*o,d=0;d<M.minorgridcount;d++)c=m+M.dtick*(d+1)/(M.minorgridcount+1),!(c<S[0]||c>S[S.length-1])&&T.push(C(N(c),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash}));M.startline&&E.push(C(N(S[0]),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&E.push(C(N(S[S.length-1]),{color:M.endlinecolor,width:M.endlinewidth}))}}},83311:function(W,V,e){var y=e(89298),C=e(1426).extendFlat;W.exports=function(L,x){var h,d,t,r,u,n=x._labels=[],i=x._gridlines;for(h=0;h<i.length;h++)u=i[h],["start","both"].indexOf(x.showticklabels)!==-1&&(d=y.tickText(x,u.value),C(d,{prefix:t,suffix:r,endAnchor:!0,xy:u.xy(0),dxy:u.dxy(0,0),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:h===0,isLast:h===i.length-1}),n.push(d)),["end","both"].indexOf(x.showticklabels)!==-1&&(d=y.tickText(x,u.value),C(d,{endAnchor:!1,xy:u.xy(u.crossLength-1),dxy:u.dxy(u.crossLength-2,1),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:h===0,isLast:h===i.length-1}),n.push(d))}},42048:function(W){var V=.5;W.exports=function(y,C,a,L){var x=y[0]-C[0],h=y[1]-C[1],d=a[0]-C[0],t=a[1]-C[1],r=Math.pow(x*x+h*h,V/2),u=Math.pow(d*d+t*t,V/2),n=(u*u*x-r*r*d)*L,i=(u*u*h-r*r*t)*L,s=u*(r+u)*3,o=r*(r+u)*3;return[[C[0]+(s&&n/s),C[1]+(s&&i/s)],[C[0]-(o&&n/o),C[1]-(o&&i/o)]]}},53824:function(W,V,e){var y=e(71828).isArrayOrTypedArray;W.exports=function(C,a,L){var x,h,d,t,r,u,n=[],i=y(C)?C.length:C,s=y(a)?a.length:a,o=y(C)?C:null,m=y(a)?a:null;o&&(d=(o.length-1)/(o[o.length-1]-o[0])/(i-1)),m&&(t=(m.length-1)/(m[m.length-1]-m[0])/(s-1));var c,b=1/0,v=-1/0;for(h=0;h<s;h++)for(n[h]=[],u=m?(m[h]-m[0])*t:h/(s-1),x=0;x<i;x++)r=o?(o[x]-o[0])*d:x/(i-1),c=r-u*L,b=Math.min(c,b),v=Math.max(c,v),n[h][x]=c;var l=1/(v-b),p=-b*l;for(h=0;h<s;h++)for(x=0;x<i;x++)n[h][x]=l*n[h][x]+p;return n}},45664:function(W,V,e){var y=e(42048),C=e(71828).ensureArray;function a(L,x,h){var d=-.5*h[0]+1.5*x[0],t=-.5*h[1]+1.5*x[1];return[(2*d+L[0])/3,(2*t+L[1])/3]}W.exports=function(x,h,d,t,r,u){var n,i,s,o,m,c,b,v,l,p,S=d[0].length,M=d.length,R=r?3*S-2:S,T=u?3*M-2:M;for(x=C(x,T),h=C(h,T),s=0;s<T;s++)x[s]=C(x[s],R),h[s]=C(h[s],R);for(i=0,o=0;i<M;i++,o+=u?3:1)for(m=x[o],c=h[o],b=d[i],v=t[i],n=0,s=0;n<S;n++,s+=r?3:1)m[s]=b[n],c[s]=v[n];if(r)for(i=0,o=0;i<M;i++,o+=u?3:1){for(n=1,s=3;n<S-1;n++,s+=3)l=y([d[i][n-1],t[i][n-1]],[d[i][n],t[i][n]],[d[i][n+1],t[i][n+1]],r),x[o][s-1]=l[0][0],h[o][s-1]=l[0][1],x[o][s+1]=l[1][0],h[o][s+1]=l[1][1];p=a([x[o][0],h[o][0]],[x[o][2],h[o][2]],[x[o][3],h[o][3]]),x[o][1]=p[0],h[o][1]=p[1],p=a([x[o][R-1],h[o][R-1]],[x[o][R-3],h[o][R-3]],[x[o][R-4],h[o][R-4]]),x[o][R-2]=p[0],h[o][R-2]=p[1]}if(u)for(s=0;s<R;s++){for(o=3;o<T-3;o+=3)l=y([x[o-3][s],h[o-3][s]],[x[o][s],h[o][s]],[x[o+3][s],h[o+3][s]],u),x[o-1][s]=l[0][0],h[o-1][s]=l[0][1],x[o+1][s]=l[1][0],h[o+1][s]=l[1][1];p=a([x[0][s],h[0][s]],[x[2][s],h[2][s]],[x[3][s],h[3][s]]),x[1][s]=p[0],h[1][s]=p[1],p=a([x[T-1][s],h[T-1][s]],[x[T-3][s],h[T-3][s]],[x[T-4][s],h[T-4][s]]),x[T-2][s]=p[0],h[T-2][s]=p[1]}if(r&&u)for(o=1;o<T;o+=(o+1)%3===0?2:1){for(s=3;s<R-3;s+=3)l=y([x[o][s-3],h[o][s-3]],[x[o][s],h[o][s]],[x[o][s+3],h[o][s+3]],r),x[o][s-1]=.5*(x[o][s-1]+l[0][0]),h[o][s-1]=.5*(h[o][s-1]+l[0][1]),x[o][s+1]=.5*(x[o][s+1]+l[1][0]),h[o][s+1]=.5*(h[o][s+1]+l[1][1]);p=a([x[o][0],h[o][0]],[x[o][2],h[o][2]],[x[o][3],h[o][3]]),x[o][1]=.5*(x[o][1]+p[0]),h[o][1]=.5*(h[o][1]+p[1]),p=a([x[o][R-1],h[o][R-1]],[x[o][R-3],h[o][R-3]],[x[o][R-4],h[o][R-4]]),x[o][R-2]=.5*(x[o][R-2]+p[0]),h[o][R-2]=.5*(h[o][R-2]+p[1])}return[x,h]}},35509:function(W){W.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(W){W.exports=function(V,e,y){return e&&y?function(C,a,L,x,h){C||(C=[]);var d,t,r,u,n,i;a*=3,L*=3;var s=x*x,o=1-x,m=o*o,c=o*x*2,b=-3*m,v=3*(m-c),l=3*(c-s),p=3*s,S=h*h,M=S*h,R=1-h,T=R*R,E=T*R;for(i=0;i<V.length;i++)n=V[i],d=b*n[L][a]+v*n[L][a+1]+l*n[L][a+2]+p*n[L][a+3],t=b*n[L+1][a]+v*n[L+1][a+1]+l*n[L+1][a+2]+p*n[L+1][a+3],r=b*n[L+2][a]+v*n[L+2][a+1]+l*n[L+2][a+2]+p*n[L+2][a+3],u=b*n[L+3][a]+v*n[L+3][a+1]+l*n[L+3][a+2]+p*n[L+3][a+3],C[i]=E*d+3*(T*h*t+R*S*r)+M*u;return C}:e?function(C,a,L,x,h){C||(C=[]);var d,t,r,u;a*=3;var n=x*x,i=1-x,s=i*i,o=i*x*2,m=-3*s,c=3*(s-o),b=3*(o-n),v=3*n,l=1-h;for(r=0;r<V.length;r++)u=V[r],d=m*u[L][a]+c*u[L][a+1]+b*u[L][a+2]+v*u[L][a+3],t=m*u[L+1][a]+c*u[L+1][a+1]+b*u[L+1][a+2]+v*u[L+1][a+3],C[r]=l*d+h*t;return C}:y?function(C,a,L,x,h){C||(C=[]);var d,t,r,u,n,i;L*=3;var s=h*h,o=s*h,m=1-h,c=m*m,b=c*m;for(n=0;n<V.length;n++)i=V[n],d=i[L][a+1]-i[L][a],t=i[L+1][a+1]-i[L+1][a],r=i[L+2][a+1]-i[L+2][a],u=i[L+3][a+1]-i[L+3][a],C[n]=b*d+3*(c*h*t+m*s*r)+o*u;return C}:function(C,a,L,x,h){C||(C=[]);var d,t,r,u,n=1-h;for(r=0;r<V.length;r++)u=V[r],d=u[L][a+1]-u[L][a],t=u[L+1][a+1]-u[L+1][a],C[r]=n*d+h*t;return C}}},73057:function(W){W.exports=function(V,e,y){return e&&y?function(C,a,L,x,h){C||(C=[]);var d,t,r,u,n,i;a*=3,L*=3;var s=x*x,o=s*x,m=1-x,c=m*m,b=c*m,v=h*h,l=1-h,p=l*l,S=l*h*2,M=-3*p,R=3*(p-S),T=3*(S-v),E=3*v;for(i=0;i<V.length;i++)n=V[i],d=M*n[L][a]+R*n[L+1][a]+T*n[L+2][a]+E*n[L+3][a],t=M*n[L][a+1]+R*n[L+1][a+1]+T*n[L+2][a+1]+E*n[L+3][a+1],r=M*n[L][a+2]+R*n[L+1][a+2]+T*n[L+2][a+2]+E*n[L+3][a+2],u=M*n[L][a+3]+R*n[L+1][a+3]+T*n[L+2][a+3]+E*n[L+3][a+3],C[i]=b*d+3*(c*x*t+m*s*r)+o*u;return C}:e?function(C,a,L,x,h){C||(C=[]);var d,t,r,u,n,i;a*=3;var s=h*h,o=s*h,m=1-h,c=m*m,b=c*m;for(n=0;n<V.length;n++)i=V[n],d=i[L+1][a]-i[L][a],t=i[L+1][a+1]-i[L][a+1],r=i[L+1][a+2]-i[L][a+2],u=i[L+1][a+3]-i[L][a+3],C[n]=b*d+3*(c*h*t+m*s*r)+o*u;return C}:y?function(C,a,L,x,h){C||(C=[]);var d,t,r,u;L*=3;var n=1-x,i=h*h,s=1-h,o=s*s,m=s*h*2,c=-3*o,b=3*(o-m),v=3*(m-i),l=3*i;for(r=0;r<V.length;r++)u=V[r],d=c*u[L][a]+b*u[L+1][a]+v*u[L+2][a]+l*u[L+3][a],t=c*u[L][a+1]+b*u[L+1][a+1]+v*u[L+2][a+1]+l*u[L+3][a+1],C[r]=n*d+x*t;return C}:function(C,a,L,x,h){C||(C=[]);var d,t,r,u,n=1-x;for(r=0;r<V.length;r++)u=V[r],d=u[L+1][a]-u[L][a],t=u[L+1][a+1]-u[L][a+1],C[r]=n*d+x*t;return C}}},20349:function(W){W.exports=function(V,e,y,C,a){var L=e-2,x=y-2;return C&&a?function(h,d,t){h||(h=[]);var r,u,n,i,s,o,m=Math.max(0,Math.min(Math.floor(d),L)),c=Math.max(0,Math.min(Math.floor(t),x)),b=Math.max(0,Math.min(1,d-m)),v=Math.max(0,Math.min(1,t-c));m*=3,c*=3;var l=b*b,p=l*b,S=1-b,M=S*S,R=M*S,T=v*v,E=T*v,A=1-v,f=A*A,P=f*A;for(o=0;o<V.length;o++)s=V[o],r=R*s[c][m]+3*(M*b*s[c][m+1]+S*l*s[c][m+2])+p*s[c][m+3],u=R*s[c+1][m]+3*(M*b*s[c+1][m+1]+S*l*s[c+1][m+2])+p*s[c+1][m+3],n=R*s[c+2][m]+3*(M*b*s[c+2][m+1]+S*l*s[c+2][m+2])+p*s[c+2][m+3],i=R*s[c+3][m]+3*(M*b*s[c+3][m+1]+S*l*s[c+3][m+2])+p*s[c+3][m+3],h[o]=P*r+3*(f*v*u+A*T*n)+E*i;return h}:C?function(h,d,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(d),L)),u=Math.max(0,Math.min(Math.floor(t),x)),n=Math.max(0,Math.min(1,d-r)),i=Math.max(0,Math.min(1,t-u)),s,o,m,c,b,v;r*=3;var l=n*n,p=l*n,S=1-n,M=S*S,R=M*S,T=1-i;for(b=0;b<V.length;b++)v=V[b],s=T*v[u][r]+i*v[u+1][r],o=T*v[u][r+1]+i*v[u+1][r+1],m=T*v[u][r+2]+i*v[u+1][r+1],c=T*v[u][r+3]+i*v[u+1][r+1],h[b]=R*s+3*(M*n*o+S*l*m)+p*c;return h}:a?function(h,d,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(d),L)),u=Math.max(0,Math.min(Math.floor(t),x)),n=Math.max(0,Math.min(1,d-r)),i=Math.max(0,Math.min(1,t-u)),s,o,m,c,b,v;u*=3;var l=i*i,p=l*i,S=1-i,M=S*S,R=M*S,T=1-n;for(b=0;b<V.length;b++)v=V[b],s=T*v[u][r]+n*v[u][r+1],o=T*v[u+1][r]+n*v[u+1][r+1],m=T*v[u+2][r]+n*v[u+2][r+1],c=T*v[u+3][r]+n*v[u+3][r+1],h[b]=R*s+3*(M*i*o+S*l*m)+p*c;return h}:function(h,d,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(d),L)),u=Math.max(0,Math.min(Math.floor(t),x)),n=Math.max(0,Math.min(1,d-r)),i=Math.max(0,Math.min(1,t-u)),s,o,m,c,b=1-i,v=1-n;for(m=0;m<V.length;m++)c=V[m],s=v*c[u][r]+n*c[u][r+1],o=v*c[u+1][r]+n*c[u+1][r+1],h[m]=b*s+i*o;return h}}},92087:function(W,V,e){var y=e(71828),C=e(19237),a=e(13145),L=e(99798),x=e(22399);W.exports=function(d,t,r,u){function n(o,m){return y.coerce(d,t,L,o,m)}t._clipPathId="clip"+t.uid+"carpet";var i=n("color",x.defaultLine);if(y.coerceFont(n,"font"),n("carpet"),a(d,t,u,n,i),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var s=C(d,t,n);s||(t.visible=!1),t._cheater&&n("cheaterslope")}},21462:function(W,V,e){W.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(W){W.exports=function(V,e){for(var y=V._fullData.length,C,a=0;a<y;a++){var L=V._fullData[a];if(L.index!==e.index&&L.type==="carpet"&&(C||(C=L),L.carpet===e.carpet))return L}return C}},67961:function(W){W.exports=function(e,y,C){if(e.length===0)return"";var a,L=[],x=C?3:1;for(a=0;a<e.length;a+=x)L.push(e[a]+","+y[a]),C&&a<e.length-x&&(L.push("C"),L.push([e[a+1]+","+y[a+1],e[a+2]+","+y[a+2]+" "].join(" ")));return L.join(C?"":"L")}},27669:function(W,V,e){var y=e(71828).isArrayOrTypedArray;W.exports=function(a,L,x){var h;for(y(a)?a.length>L.length&&(a=a.slice(0,L.length)):a=[],h=0;h<L.length;h++)a[h]=x(L[h]);return a}},11651:function(W){W.exports=function(e,y,C,a,L,x){var h=L[0]*e.dpdx(y),d=L[1]*e.dpdy(C),t=1,r=1;if(x){var u=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(x[0]*x[0]+x[1]*x[1]),i=(L[0]*x[0]+L[1]*x[1])/u/n;r=Math.max(0,i)}var s=Math.atan2(d,h)*180/Math.PI;return s<-90?(s+=180,t=-t):s>90&&(s-=180,t=-t),{angle:s,flip:t,p:e.c2p(a,y,C),offsetMultplier:r}}},89740:function(W,V,e){var y=e(39898),C=e(91424),a=e(27669),L=e(67961),x=e(11651),h=e(63893),d=e(71828),t=d.strRotate,r=d.strTranslate,u=e(18783);W.exports=function(l,p,S,M){var R=l._context.staticPlot,T=p.xaxis,E=p.yaxis,A=l._fullLayout,f=A._clips;d.makeTraceGroups(M,S,"trace").each(function(P){var w=y.select(this),z=P[0],F=z.trace,H=F.aaxis,_=F.baxis,B=d.ensureSingle(w,"g","minorlayer"),N=d.ensureSingle(w,"g","majorlayer"),O=d.ensureSingle(w,"g","boundarylayer"),U=d.ensureSingle(w,"g","labellayer");w.style("opacity",F.opacity),i(T,E,N,H,"a",H._gridlines,!0),i(T,E,N,_,"b",_._gridlines,!0),i(T,E,B,H,"a",H._minorgridlines,!0),i(T,E,B,_,"b",_._minorgridlines,!0),i(T,E,O,H,"a-boundary",H._boundarylines,R),i(T,E,O,_,"b-boundary",_._boundarylines,R);var K=s(l,T,E,F,z,U,H._labels,"a-label"),re=s(l,T,E,F,z,U,_._labels,"b-label");o(l,U,F,z,T,E,K,re),n(F,z,f,T,E)})};function n(v,l,p,S,M){var R,T,E,A,f=p.select("#"+v._clipPathId);f.size()||(f=p.append("clipPath").classed("carpetclip",!0));var P=d.ensureSingle(f,"path","carpetboundary"),w=l.clipsegments,z=[];for(A=0;A<w.length;A++)R=w[A],T=a([],R.x,S.c2p),E=a([],R.y,M.c2p),z.push(L(T,E,R.bicubic));var F="M"+z.join("L")+"Z";f.attr("id",v._clipPathId),P.attr("d",F)}function i(v,l,p,S,M,R,T){var E="const-"+M+"-lines",A=p.selectAll("."+E).data(R);A.enter().append("path").classed(E,!0).style("vector-effect",T?"none":"non-scaling-stroke"),A.each(function(f){var P=f,w=P.x,z=P.y,F=a([],w,v.c2p),H=a([],z,l.c2p),_="M"+L(F,H,P.smoothing),B=y.select(this);B.attr("d",_).style("stroke-width",P.width).style("stroke",P.color).style("stroke-dasharray",C.dashStyle(P.dash,P.width)).style("fill","none")}),A.exit().remove()}function s(v,l,p,S,M,R,T,E){var A=R.selectAll("text."+E).data(T);A.enter().append("text").classed(E,!0);var f=0,P={};return A.each(function(w,z){var F;if(w.axis.tickangle==="auto")F=x(S,l,p,w.xy,w.dxy);else{var H=(w.axis.tickangle+180)*Math.PI/180;F=x(S,l,p,w.xy,[Math.cos(H),Math.sin(H)])}z||(P={angle:F.angle,flip:F.flip});var _=(w.endAnchor?-1:1)*F.flip,B=y.select(this).attr({"text-anchor":_>0?"start":"end","data-notex":1}).call(C.font,w.font).text(w.text).call(h.convertToTspans,v),N=C.bBox(this);B.attr("transform",r(F.p[0],F.p[1])+t(F.angle)+r(w.axis.labelpadding*_,N.height*.3)),f=Math.max(f,N.width+w.axis.labelpadding)}),A.exit().remove(),P.maxExtent=f,P}function o(v,l,p,S,M,R,T,E){var A,f,P,w,z=d.aggNums(Math.min,null,p.a),F=d.aggNums(Math.max,null,p.a),H=d.aggNums(Math.min,null,p.b),_=d.aggNums(Math.max,null,p.b);A=.5*(z+F),f=H,P=p.ab2xy(A,f,!0),w=p.dxyda_rough(A,f),T.angle===void 0&&d.extendFlat(T,x(p,M,R,P,p.dxydb_rough(A,f))),b(v,l,p,S,P,w,p.aaxis,M,R,T,"a-title"),A=z,f=.5*(H+_),P=p.ab2xy(A,f,!0),w=p.dxydb_rough(A,f),E.angle===void 0&&d.extendFlat(E,x(p,M,R,P,p.dxyda_rough(A,f))),b(v,l,p,S,P,w,p.baxis,M,R,E,"b-title")}var m=u.LINE_SPACING,c=(1-u.MID_SHIFT)/m+1;function b(v,l,p,S,M,R,T,E,A,f,P){var w=[];T.title.text&&w.push(T.title.text);var z=l.selectAll("text."+P).data(w),F=f.maxExtent;z.enter().append("text").classed(P,!0),z.each(function(){var H=x(p,E,A,M,R);["start","both"].indexOf(T.showticklabels)===-1&&(F=0);var _=T.title.font.size;F+=_+T.title.offset;var B=f.angle+(f.flip<0?180:0),N=(B-H.angle+450)%360,O=N>90&&N<270,U=y.select(this);U.text(T.title.text).call(h.convertToTspans,v),O&&(F=(-h.lineCount(U)+c)*m*_-F),U.attr("transform",r(H.p[0],H.p[1])+t(H.angle)+r(0,F)).attr("text-anchor","middle").call(C.font,T.title.font)}),z.exit().remove()}},11435:function(W,V,e){var y=e(35509),C=e(65888).findBin,a=e(45664),L=e(20349),x=e(54495),h=e(73057);W.exports=function(t){var r=t._a,u=t._b,n=r.length,i=u.length,s=t.aaxis,o=t.baxis,m=r[0],c=r[n-1],b=u[0],v=u[i-1],l=r[r.length-1]-r[0],p=u[u.length-1]-u[0],S=l*y.RELATIVE_CULL_TOLERANCE,M=p*y.RELATIVE_CULL_TOLERANCE;m-=S,c+=S,b-=M,v+=M,t.isVisible=function(R,T){return R>m&&R<c&&T>b&&T<v},t.isOccluded=function(R,T){return R<m||R>c||T<b||T>v},t.setScale=function(){var R=t._x,T=t._y,E=a(t._xctrl,t._yctrl,R,T,s.smoothing,o.smoothing);t._xctrl=E[0],t._yctrl=E[1],t.evalxy=L([t._xctrl,t._yctrl],n,i,s.smoothing,o.smoothing),t.dxydi=x([t._xctrl,t._yctrl],s.smoothing,o.smoothing),t.dxydj=h([t._xctrl,t._yctrl],s.smoothing,o.smoothing)},t.i2a=function(R){var T=Math.max(0,Math.floor(R[0]),n-2),E=R[0]-T;return(1-E)*r[T]+E*r[T+1]},t.j2b=function(R){var T=Math.max(0,Math.floor(R[1]),n-2),E=R[1]-T;return(1-E)*u[T]+E*u[T+1]},t.ij2ab=function(R){return[t.i2a(R[0]),t.j2b(R[1])]},t.a2i=function(R){var T=Math.max(0,Math.min(C(R,r),n-2)),E=r[T],A=r[T+1];return Math.max(0,Math.min(n-1,T+(R-E)/(A-E)))},t.b2j=function(R){var T=Math.max(0,Math.min(C(R,u),i-2)),E=u[T],A=u[T+1];return Math.max(0,Math.min(i-1,T+(R-E)/(A-E)))},t.ab2ij=function(R){return[t.a2i(R[0]),t.b2j(R[1])]},t.i2c=function(R,T){return t.evalxy([],R,T)},t.ab2xy=function(R,T,E){if(!E&&(R<r[0]||R>r[n-1]|T<u[0]||T>u[i-1]))return[!1,!1];var A=t.a2i(R),f=t.b2j(T),P=t.evalxy([],A,f);if(E){var w=0,z=0,F=[],H,_,B,N;R<r[0]?(H=0,_=0,w=(R-r[0])/(r[1]-r[0])):R>r[n-1]?(H=n-2,_=1,w=(R-r[n-1])/(r[n-1]-r[n-2])):(H=Math.max(0,Math.min(n-2,Math.floor(A))),_=A-H),T<u[0]?(B=0,N=0,z=(T-u[0])/(u[1]-u[0])):T>u[i-1]?(B=i-2,N=1,z=(T-u[i-1])/(u[i-1]-u[i-2])):(B=Math.max(0,Math.min(i-2,Math.floor(f))),N=f-B),w&&(t.dxydi(F,H,B,_,N),P[0]+=F[0]*w,P[1]+=F[1]*w),z&&(t.dxydj(F,H,B,_,N),P[0]+=F[0]*z,P[1]+=F[1]*z)}return P},t.c2p=function(R,T,E){return[T.c2p(R[0]),E.c2p(R[1])]},t.p2x=function(R,T,E){return[T.p2c(R[0]),E.p2c(R[1])]},t.dadi=function(R){var T=Math.max(0,Math.min(r.length-2,R));return r[T+1]-r[T]},t.dbdj=function(R){var T=Math.max(0,Math.min(u.length-2,R));return u[T+1]-u[T]},t.dxyda=function(R,T,E,A){var f=t.dxydi(null,R,T,E,A),P=t.dadi(R,E);return[f[0]/P,f[1]/P]},t.dxydb=function(R,T,E,A){var f=t.dxydj(null,R,T,E,A),P=t.dbdj(T,A);return[f[0]/P,f[1]/P]},t.dxyda_rough=function(R,T,E){var A=l*(E||.1),f=t.ab2xy(R+A,T,!0),P=t.ab2xy(R-A,T,!0);return[(f[0]-P[0])*.5/A,(f[1]-P[1])*.5/A]},t.dxydb_rough=function(R,T,E){var A=p*(E||.1),f=t.ab2xy(R,T+A,!0),P=t.ab2xy(R,T-A,!0);return[(f[0]-P[0])*.5/A,(f[1]-P[1])*.5/A]},t.dpdx=function(R){return R._m},t.dpdy=function(R){return R._m}}},72505:function(W,V,e){var y=e(71828);W.exports=function(a,L,x){var h,d,t,r=[],u=[],n=a[0].length,i=a.length;function s(re,ae){var ue=0,ve,ee=0;return re>0&&(ve=a[ae][re-1])!==void 0&&(ee++,ue+=ve),re<n-1&&(ve=a[ae][re+1])!==void 0&&(ee++,ue+=ve),ae>0&&(ve=a[ae-1][re])!==void 0&&(ee++,ue+=ve),ae<i-1&&(ve=a[ae+1][re])!==void 0&&(ee++,ue+=ve),ue/Math.max(1,ee)}var o=0;for(h=0;h<n;h++)for(d=0;d<i;d++)a[d][h]===void 0&&(r.push(h),u.push(d),a[d][h]=s(h,d)),o=Math.max(o,Math.abs(a[d][h]));if(!r.length)return a;var m,c,b,v,l,p,S,M,R,T,E,A=1e-5,f=0,P=100,w=0,z=r.length;do{for(f=0,t=0;t<z;t++){h=r[t],d=u[t];var F=0,H=0,_,B,N,O,U,K;h===0?(U=Math.min(n-1,2),N=L[U],O=L[1],_=a[d][U],B=a[d][1],H+=B+(B-_)*(L[0]-O)/(O-N),F++):h===n-1&&(U=Math.max(0,n-3),N=L[U],O=L[n-2],_=a[d][U],B=a[d][n-2],H+=B+(B-_)*(L[n-1]-O)/(O-N),F++),(h===0||h===n-1)&&d>0&&d<i-1&&(m=x[d+1]-x[d],c=x[d]-x[d-1],H+=(c*a[d+1][h]+m*a[d-1][h])/(c+m),F++),d===0?(K=Math.min(i-1,2),N=x[K],O=x[1],_=a[K][h],B=a[1][h],H+=B+(B-_)*(x[0]-O)/(O-N),F++):d===i-1&&(K=Math.max(0,i-3),N=x[K],O=x[i-2],_=a[K][h],B=a[i-2][h],H+=B+(B-_)*(x[i-1]-O)/(O-N),F++),(d===0||d===i-1)&&h>0&&h<n-1&&(m=L[h+1]-L[h],c=L[h]-L[h-1],H+=(c*a[d][h+1]+m*a[d][h-1])/(c+m),F++),F?H/=F:(b=L[h+1]-L[h],v=L[h]-L[h-1],l=x[d+1]-x[d],p=x[d]-x[d-1],S=b*v*(b+v),M=l*p*(l+p),H=(S*(p*a[d+1][h]+l*a[d-1][h])+M*(v*a[d][h+1]+b*a[d][h-1]))/(M*(v+b)+S*(p+l))),R=H-a[d][h],T=R/o,f+=T*T,E=F?0:.85,a[d][h]+=R*(1+E)}f=Math.sqrt(f)}while(w++<P&&f>A);return y.log("Smoother converged to",f,"after",w,"iterations"),a}},19237:function(W,V,e){var y=e(71828).isArray1D;W.exports=function(a,L,x){var h=x("x"),d=h&&h.length,t=x("y"),r=t&&t.length;if(!d&&!r)return!1;if(L._cheater=!h,(!d||y(h))&&(!r||y(t))){var u=d?h.length:1/0;r&&(u=Math.min(u,t.length)),L.a&&L.a.length&&(u=Math.min(u,L.a.length)),L.b&&L.b.length&&(u=Math.min(u,L.b.length)),L._length=u}else L._length=null;return!0}},69568:function(W,V,e){var y=e(5386).fF,C=e(19316),a=e(50693),L=e(9012),x=e(22399).defaultLine,h=e(1426).extendFlat,d=C.marker.line;W.exports=h({locations:{valType:"data_array",editType:"calc"},locationmode:C.locationmode,z:{valType:"data_array",editType:"calc"},geojson:h({},C.geojson,{}),featureidkey:C.featureidkey,text:h({},C.text,{}),hovertext:h({},C.hovertext,{}),marker:{line:{color:h({},d.color,{dflt:x}),width:h({},d.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:C.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:C.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:h({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:y(),showlegend:h({},L.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(W,V,e){var y=e(92770),C=e(50606).BADNUM,a=e(78803),L=e(75225),x=e(66279);function h(d){return d&&typeof d=="string"}W.exports=function(t,r){var u=r._length,n=new Array(u),i;r.geojson?i=function(b){return h(b)||y(b)}:i=h;for(var s=0;s<u;s++){var o=n[s]={},m=r.locations[s],c=r.z[s];i(m)&&y(c)?(o.loc=m,o.z=c):(o.loc=null,o.z=C),o.index=s}return L(n,r),a(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),x(n,r),n}},61869:function(W,V,e){var y=e(71828),C=e(1586),a=e(69568);W.exports=function(x,h,d,t){function r(c,b){return y.coerce(x,h,a,c,b)}var u=r("locations"),n=r("z");if(!(u&&u.length&&y.isArrayOrTypedArray(n)&&n.length)){h.visible=!1;return}h._length=Math.min(u.length,n.length);var i=r("geojson"),s;(typeof i=="string"&&i!==""||y.isPlainObject(i))&&(s="geojson-id");var o=r("locationmode",s);o==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var m=r("marker.line.width");m&&r("marker.line.color"),r("marker.opacity"),C(x,h,t,r,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(h,r)}},92069:function(W){W.exports=function(e,y,C,a,L){e.location=y.location,e.z=y.z;var x=a[L];return x.fIn&&x.fIn.properties&&(e.properties=x.fIn.properties),e.ct=x.ct,e}},42300:function(W,V,e){var y=e(89298),C=e(69568),a=e(71828).fillText;W.exports=function(h,d,t){var r=h.cd,u=r[0].trace,n=h.subplot,i,s,o,m,c=[d,t],b=[d+360,t];for(s=0;s<r.length;s++)if(i=r[s],m=!1,i._polygons){for(o=0;o<i._polygons.length;o++)i._polygons[o].contains(c)&&(m=!m),i._polygons[o].contains(b)&&(m=!m);if(m)break}if(!(!m||!i))return h.x0=h.x1=h.xa.c2p(i.ct),h.y0=h.y1=h.ya.c2p(i.ct),h.index=i.index,h.location=i.loc,h.z=i.z,h.zLabel=y.tickText(n.mockAxis,n.mockAxis.c2l(i.z),"hover").text,h.hovertemplate=i.hovertemplate,L(h,u,i),[h]};function L(x,h,d){if(!h.hovertemplate){var t=d.hi||h.hoverinfo,r=String(d.loc),u=t==="all"?C.hoverinfo.flags:t.split("+"),n=u.indexOf("name")!==-1,i=u.indexOf("location")!==-1,s=u.indexOf("z")!==-1,o=u.indexOf("text")!==-1,m=!n&&i,c=[];m?x.nameOverride=r:(n&&(x.nameOverride=h.name),i&&c.push(r)),s&&c.push(x.zLabel),o&&a(d,h,c),x.extraText=c.join("<br>")}}},51319:function(W,V,e){W.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(W,V,e){var y=e(39898),C=e(71828),a=e(41327),L=e(90973).getTopojsonFeatures,x=e(71739).findExtremes,h=e(99636).style;function d(r,u,n){var i=u.layers.backplot.select(".choroplethlayer");C.makeTraceGroups(i,n,"trace choropleth").each(function(s){var o=y.select(this),m=o.selectAll("path.choroplethlocation").data(C.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),h(r,s)})}function t(r,u){for(var n=r[0].trace,i=u[n.geo],s=i._subplot,o=n.locationmode,m=n._length,c=o==="geojson-id"?a.extractTraceFeature(r):L(n,s.topojson),b=[],v=[],l=0;l<m;l++){var p=r[l],S=o==="geojson-id"?p.fOut:a.locationToFeature(o,p.loc,c);if(S){p.geojson=S,p.ct=S.properties.ct,p._polygons=a.feature2polygons(S);var M=a.computeBbox(S);b.push(M[0],M[2]),v.push(M[1],M[3])}else p.geojson=null}if(i.fitbounds==="geojson"&&o==="geojson-id"){var R=a.computeBbox(a.getTraceGeojson(n));b=[R[0],R[2]],v=[R[1],R[3]]}var T={padded:!0};n._extremes.lon=x(i.lonaxis._ax,b,T),n._extremes.lat=x(i.lataxis._ax,v,T)}W.exports={calcGeoJSON:t,plot:d}},81253:function(W){W.exports=function(e,y){var C=e.cd,a=e.xaxis,L=e.yaxis,x=[],h,d,t,r,u;if(y===!1)for(h=0;h<C.length;h++)C[h].selected=0;else for(h=0;h<C.length;h++)d=C[h],t=d.ct,t&&(r=a.c2p(t),u=L.c2p(t),y.contains([r,u],null,h,e)?(x.push({pointNumber:h,lon:t[0],lat:t[1]}),d.selected=1):d.selected=0);return x}},99636:function(W,V,e){var y=e(39898),C=e(7901),a=e(91424),L=e(21081);function x(t,r){r&&h(t,r)}function h(t,r){var u=r[0].trace,n=r[0].node3,i=n.selectAll(".choroplethlocation"),s=u.marker||{},o=s.line||{},m=L.makeColorScaleFuncFromTrace(u);i.each(function(c){y.select(this).attr("fill",m(c.z)).call(C.stroke,c.mlc||o.color).call(a.dashLine,"",c.mlw||o.width||0).style("opacity",s.opacity)}),a.selectedPointStyle(i,u)}function d(t,r){var u=r[0].node3,n=r[0].trace;n.selectedpoints?a.selectedPointStyle(u.selectAll(".choroplethlocation"),n):h(t,r)}W.exports={style:x,styleOnSelect:d}},64496:function(W,V,e){var y=e(69568),C=e(50693),a=e(5386).fF,L=e(9012),x=e(1426).extendFlat;W.exports=x({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:x({},y.featureidkey,{}),below:{valType:"string",editType:"plot"},text:y.text,hovertext:y.hovertext,marker:{line:{color:x({},y.marker.line.color,{editType:"plot"}),width:x({},y.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:x({},y.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:x({},y.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:x({},y.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:y.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:x({},L.showlegend,{dflt:!1})},C("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(W,V,e){var y=e(92770),C=e(71828),a=e(21081),L=e(91424),x=e(18214).makeBlank,h=e(41327);function d(r){var u=r[0].trace,n=u.visible===!0&&u._length!==0,i={layout:{visibility:"none"},paint:{}},s={layout:{visibility:"none"},paint:{}},o=u._opts={fill:i,line:s,geojson:x()};if(!n)return o;var m=h.extractTraceFeature(r);if(!m)return o;var c=a.makeColorScaleFuncFromTrace(u),b=u.marker,v=b.line||{},l;C.isArrayOrTypedArray(b.opacity)&&(l=function(f){var P=f.mo;return y(P)?+C.constrain(P,0,1):0});var p;C.isArrayOrTypedArray(v.color)&&(p=function(f){return f.mlc});var S;C.isArrayOrTypedArray(v.width)&&(S=function(f){return f.mlw});for(var M=0;M<r.length;M++){var R=r[M],T=R.fOut;if(T){var E=T.properties;E.fc=c(R.z),l&&(E.mo=l(R)),p&&(E.mlc=p(R)),S&&(E.mlw=S(R)),R.ct=E.ct,R._polygons=h.feature2polygons(T)}}var A=l?{type:"identity",property:"mo"}:b.opacity;return C.extendFlat(i.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":A}),C.extendFlat(s.paint,{"line-color":p?{type:"identity",property:"mlc"}:v.color,"line-width":S?{type:"identity",property:"mlw"}:v.width,"line-opacity":A}),i.layout.visibility="visible",s.layout.visibility="visible",o.geojson={type:"FeatureCollection",features:m},t(r),o}function t(r){var u=r[0].trace,n=u._opts,i;if(u.selectedpoints){for(var s=L.makeSelectedPointStyleFns(u),o=0;o<r.length;o++){var m=r[o];m.fOut&&(m.fOut.properties.mo2=s.selectedOpacityFn(m))}i={type:"identity",property:"mo2"}}else i=C.isArrayOrTypedArray(u.marker.opacity)?{type:"identity",property:"mo"}:u.marker.opacity;return C.extendFlat(n.fill.paint,{"fill-opacity":i}),C.extendFlat(n.line.paint,{"line-opacity":i}),n}W.exports={convert:d,convertOnSelect:t}},22654:function(W,V,e){var y=e(71828),C=e(1586),a=e(64496);W.exports=function(x,h,d,t){function r(o,m){return y.coerce(x,h,a,o,m)}var u=r("locations"),n=r("z"),i=r("geojson");if(!y.isArrayOrTypedArray(u)||!u.length||!y.isArrayOrTypedArray(n)||!n.length||!(typeof i=="string"&&i!==""||y.isPlainObject(i))){h.visible=!1;return}r("featureidkey"),h._length=Math.min(u.length,n.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var s=r("marker.line.width");s&&r("marker.line.color"),r("marker.opacity"),C(x,h,t,r,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(h,r)}},57516:function(W,V,e){W.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(y,C){if(C){var a=C[0].trace;a._glTrace.updateOnSelect(C)}},getBelow:function(y,C){for(var a=C.getMapLayers(),L=a.length-2;L>=0;L--){var x=a[L].id;if(typeof x=="string"&&x.indexOf("water")===0){for(var h=L+1;h<a.length;h++)if(x=a[h].id,typeof x=="string"&&x.indexOf("plotly-")===-1)return x}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(W,V,e){var y=e(82004).convert,C=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function L(h,d){this.type="choroplethmapbox",this.subplot=h,this.uid=d,this.sourceId="source-"+d,this.layerList=[["fill",a+d+"-fill"],["line",a+d+"-line"]],this.below=null}var x=L.prototype;x.update=function(h){this._update(y(h)),h[0].trace._glTrace=this},x.updateOnSelect=function(h){this._update(C(h))},x._update=function(h){var d=this.subplot,t=this.layerList,r=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(h.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(h,r),this.below=r);for(var u=0;u<t.length;u++){var n=t[u],i=n[0],s=n[1],o=h[i];d.setOptions(s,"setLayoutProperty",o.layout),o.layout.visibility==="visible"&&d.setOptions(s,"setPaintProperty",o.paint)}},x._addLayers=function(h,d){for(var t=this.subplot,r=this.layerList,u=this.sourceId,n=0;n<r.length;n++){var i=r[n],s=i[0],o=h[s];t.addLayer({type:s,id:i[1],source:u,layout:o.layout,paint:o.paint},d)}},x._removeLayers=function(){for(var h=this.subplot.map,d=this.layerList,t=d.length-1;t>=0;t--)h.removeLayer(d[t][1])},x.dispose=function(){var h=this.subplot.map;this._removeLayers(),h.removeSource(this.sourceId)},W.exports=function(d,t){var r=t[0].trace,u=new L(d,r.uid),n=u.sourceId,i=y(t),s=u.below=d.belowLookup["trace-"+r.uid];return d.map.addSource(n,{type:"geojson",data:i.geojson}),u._addLayers(i,s),t[0].trace._glTrace=u,u}},12674:function(W,V,e){var y=e(50693),C=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),x=e(9012),h=e(1426).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:C("u",1),vhoverformat:C("v",1),whoverformat:C("w",1),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),showlegend:h({},x.showlegend,{dflt:!1})};h(d,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){d[r]=L[r]}),d.hoverinfo=h({},x.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,W.exports=d},31371:function(W,V,e){var y=e(78803);W.exports=function(a,L){for(var x=L.u,h=L.v,d=L.w,t=Math.min(L.x.length,L.y.length,L.z.length,x.length,h.length,d.length),r=-1/0,u=1/0,n=0;n<t;n++){var i=x[n],s=h[n],o=d[n],m=Math.sqrt(i*i+s*s+o*o);r=Math.max(r,m),u=Math.min(u,m)}L._len=t,L._normMax=r,y(a,L,{vals:[u,r],containerStr:"",cLetter:"c"})}},5453:function(W,V,e){var y=e(9330).gl_cone3d,C=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,L=e(81697).parseColorScale,x=e(21081).extractOpts,h=e(90060);function d(o,m){this.scene=o,this.uid=m,this.mesh=null,this.data=null}var t=d.prototype;t.handlePick=function(o){if(o.object===this.mesh){var m=o.index=o.data.index,c=this.data.x[m],b=this.data.y[m],v=this.data.z[m],l=this.data.u[m],p=this.data.v[m],S=this.data.w[m];o.traceCoordinate=[c,b,v,l,p,S,Math.sqrt(l*l+p*p+S*S)];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[m]!==void 0?o.textLabel=M[m]:M&&(o.textLabel=M),!0}};var r={xaxis:0,yaxis:1,zaxis:2},u={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function i(o,m){var c=o.fullSceneLayout,b=o.dataScale,v={};function l(R,T){var E=c[T],A=b[r[T]];return a(R,function(f){return E.d2l(f)*A})}v.vectors=h(l(m.u,"xaxis"),l(m.v,"yaxis"),l(m.w,"zaxis"),m._len),v.positions=h(l(m.x,"xaxis"),l(m.y,"yaxis"),l(m.z,"zaxis"),m._len);var p=x(m);v.colormap=L(m),v.vertexIntensityBounds=[p.min/m._normMax,p.max/m._normMax],v.coneOffset=u[m.anchor],m.sizemode==="scaled"?v.coneSize=m.sizeref||.5:v.coneSize=m.sizeref&&m._normMax?m.sizeref/m._normMax:.5;var S=y(v),M=m.lightposition;return S.lightPosition=[M.x,M.y,M.z],S.ambient=m.lighting.ambient,S.diffuse=m.lighting.diffuse,S.specular=m.lighting.specular,S.roughness=m.lighting.roughness,S.fresnel=m.lighting.fresnel,S.opacity=m.opacity,m._pad=n[m.anchor]*S.vectorScale*S.coneScale*m._normMax,S}t.update=function(o){this.data=o;var m=i(this.scene,o);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(o,m){var c=o.glplot.gl,b=i(o,m),v=C(c,b),l=new d(o,m.uid);return l.mesh=v,l.data=m,v._trace=l,o.glplot.add(v),l}W.exports=s},91750:function(W,V,e){var y=e(71828),C=e(1586),a=e(12674);W.exports=function(x,h,d,t){function r(c,b){return y.coerce(x,h,a,c,b)}var u=r("u"),n=r("v"),i=r("w"),s=r("x"),o=r("y"),m=r("z");if(!u||!u.length||!n||!n.length||!i||!i.length||!s||!s.length||!o||!o.length||!m||!m.length){h.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),C(x,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null}},98128:function(W,V,e){W.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(y,C){return y.norm=C.traceCoordinate[6],y},meta:{}}},70600:function(W,V,e){var y=e(21606),C=e(82196),a=e(12663),L=a.axisHoverFormat,x=a.descriptionOnlyNumbers,h=e(50693),d=e(79952).P,t=e(41940),r=e(1426).extendFlat,u=e(74808),n=u.COMPARISON_OPS2,i=u.INTERVAL_OPS,s=C.line;W.exports=r({z:y.z,x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,text:y.text,hovertext:y.hovertext,transpose:y.transpose,xtype:y.xtype,ytype:y.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:y.hovertemplate,texttemplate:r({},y.texttemplate,{}),textfont:r({},y.textfont,{}),hoverongaps:y.hoverongaps,connectgaps:r({},y.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:x("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},s.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:d,smoothing:r({},s.smoothing,{}),editType:"plot"}},h("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(W,V,e){var y=e(21081),C=e(90757),a=e(18670),L=e(53572);W.exports=function(h,d){var t=C(h,d),r=t[0].z;a(d,r);var u=d.contours,n=y.extractOpts(d),i;if(u.coloring==="heatmap"&&n.auto&&d.autocontour===!1){var s=u.start,o=L(u),m=u.size||1,c=Math.floor((o-s)/m)+1;isFinite(m)||(m=1,c=1);var b=s-m/2,v=b+c*m;i=[b,v]}else i=r;return y.calc(h,d,{vals:i,cLetter:"z"}),t}},20083:function(W){W.exports=function(V,e){var y=V[0],C=y.z,a;switch(e.type){case"levels":var L=Math.min(C[0][0],C[0][1]);for(a=0;a<V.length;a++){var x=V[a];x.prefixBoundary=!x.edgepaths.length&&(L>x.level||x.starts.length&&L===x.level)}break;case"constraint":if(y.prefixBoundary=!1,y.edgepaths.length)return;var h=y.x.length,d=y.y.length,t=-1/0,r=1/0;for(a=0;a<d;a++)r=Math.min(r,C[a][0]),r=Math.min(r,C[a][h-1]),t=Math.max(t,C[a][0]),t=Math.max(t,C[a][h-1]);for(a=1;a<h-1;a++)r=Math.min(r,C[0][a]),r=Math.min(r,C[d-1][a]),t=Math.max(t,C[0][a]),t=Math.max(t,C[d-1][a]);var u=e.value,n,i;switch(e._operation){case">":u>t&&(y.prefixBoundary=!0);break;case"<":(u<r||y.starts.length&&u===r)&&(y.prefixBoundary=!0);break;case"[]":n=Math.min(u[0],u[1]),i=Math.max(u[0],u[1]),(i<r||n>t||y.starts.length&&i===r)&&(y.prefixBoundary=!0);break;case"][":n=Math.min(u[0],u[1]),i=Math.max(u[0],u[1]),n<r&&i>t&&(y.prefixBoundary=!0);break}break}}},90654:function(W,V,e){var y=e(21081),C=e(86068),a=e(53572);function L(x,h,d){var t=h.contours,r=h.line,u=t.size||1,n=t.coloring,i=C(h,{isColorbar:!0});if(n==="heatmap"){var s=y.extractOpts(h);d._fillgradient=s.reversescale?y.flipScale(s.colorscale):s.colorscale,d._zrange=[s.min,s.max]}else n==="fill"&&(d._fillcolor=i);d._line={color:n==="lines"?i:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},d._levels={start:t.start,end:a(t),size:u}}W.exports={min:"zmin",max:"zmax",calc:L}},36914:function(W){W.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(W,V,e){var y=e(92770),C=e(14523),a=e(7901),L=a.addOpacity,x=a.opacity,h=e(74808),d=h.CONSTRAINT_REDUCTION,t=h.COMPARISON_OPS2;W.exports=function(n,i,s,o,m,c){var b=i.contours,v,l,p,S=s("contours.operation");if(b._operation=d[S],r(s,b),S==="="?v=b.showlines=!0:(v=s("contours.showlines"),p=s("fillcolor",L((n.line||{}).color||m,.5))),v){var M=p&&x(p)?L(i.fillcolor,1):m;l=s("line.color",M),s("line.width",2),s("line.dash")}s("line.smoothing"),C(s,o,l,c)};function r(u,n){var i;t.indexOf(n.operation)===-1?(u("contours.value",[0,1]),Array.isArray(n.value)?n.value.length>2?n.value=n.value.slice(2):n.length===0?n.value=[0,1]:n.length<2?(i=parseFloat(n.value[0]),n.value=[i,i+1]):n.value=[parseFloat(n.value[0]),parseFloat(n.value[1])]:y(n.value)&&(i=parseFloat(n.value),n.value=[i,i+1])):(u("contours.value",0),y(n.value)||(Array.isArray(n.value)?n.value=parseFloat(n.value[0]):n.value=0))}},64237:function(W,V,e){var y=e(74808),C=e(92770);W.exports={"[]":L("[]"),"][":L("]["),">":x(">"),"<":x("<"),"=":x("=")};function a(h,d){var t=Array.isArray(d),r;function u(n){return C(n)?+n:null}return y.COMPARISON_OPS2.indexOf(h)!==-1?r=u(t?d[0]:d):y.INTERVAL_OPS.indexOf(h)!==-1?r=t?[u(d[0]),u(d[1])]:[u(d),u(d)]:y.SET_OPS.indexOf(h)!==-1&&(r=t?d.map(u):[u(d)]),r}function L(h){return function(d){d=a(h,d);var t=Math.min(d[0],d[1]),r=Math.max(d[0],d[1]);return{start:t,end:r,size:r-t}}}function x(h){return function(d){return d=a(h,d),{start:d,end:1/0,size:1/0}}}},67217:function(W){W.exports=function(e,y,C,a){var L=a("contours.start"),x=a("contours.end"),h=L===!1||x===!1,d=C("contours.size"),t;h?t=y.autocontour=!0:t=C("autocontour",!1),(t||!d)&&C("ncontours")}},84857:function(W,V,e){var y=e(71828);W.exports=function(a,L){var x,h,d,t=function(n){return n.reverse()},r=function(n){return n};switch(L){case"=":case"<":return a;case">":for(a.length!==1&&y.warn("Contour data invalid for the specified inequality operation."),h=a[0],x=0;x<h.edgepaths.length;x++)h.edgepaths[x]=t(h.edgepaths[x]);for(x=0;x<h.paths.length;x++)h.paths[x]=t(h.paths[x]);for(x=0;x<h.starts.length;x++)h.starts[x]=t(h.starts[x]);return a;case"][":var u=t;t=r,r=u;case"[]":for(a.length!==2&&y.warn("Contour data invalid for the specified inequality range operation."),h=C(a[0]),d=C(a[1]),x=0;x<h.edgepaths.length;x++)h.edgepaths[x]=t(h.edgepaths[x]);for(x=0;x<h.paths.length;x++)h.paths[x]=t(h.paths[x]);for(x=0;x<h.starts.length;x++)h.starts[x]=t(h.starts[x]);for(;d.edgepaths.length;)h.edgepaths.push(r(d.edgepaths.shift()));for(;d.paths.length;)h.paths.push(r(d.paths.shift()));for(;d.starts.length;)h.starts.push(r(d.starts.shift()));return[h]}};function C(a){return y.extendFlat({},a,{edgepaths:y.extendDeep([],a.edgepaths),paths:y.extendDeep([],a.paths),starts:y.extendDeep([],a.starts)})}},13031:function(W,V,e){var y=e(71828),C=e(67684),a=e(73927),L=e(83179),x=e(67217),h=e(8724),d=e(58623),t=e(70600);W.exports=function(u,n,i,s){function o(v,l){return y.coerce(u,n,t,v,l)}function m(v){return y.coerce2(u,n,t,v)}var c=C(u,n,o,s);if(!c){n.visible=!1;return}a(u,n,s,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hoverongaps"),o("hovertemplate");var b=o("contours.type")==="constraint";o("connectgaps",y.isArray1D(n.z)),b?L(u,n,o,s,i):(x(u,n,o,m),h(u,n,o,s)),n.contours&&n.contours.coloring==="heatmap"&&d(o,s)}},87558:function(W,V,e){var y=e(71828),C=e(64237),a=e(53572);W.exports=function(x,h,d){for(var t=x.type==="constraint"?C[x._operation](x.value):x,r=t.size,u=[],n=a(t),i=d.trace._carpetTrace,s=i?{xaxis:i.aaxis,yaxis:i.baxis,x:d.a,y:d.b}:{xaxis:h.xaxis,yaxis:h.yaxis,x:d.x,y:d.y},o=t.start;o<n;o+=r)if(u.push(y.extendFlat({level:o,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},s)),u.length>1e3){y.warn("Too many contours, clipping at 1000",x);break}return u}},53572:function(W){W.exports=function(e){return e.end+e.size/1e6}},81696:function(W,V,e){var y=e(71828),C=e(36914);W.exports=function(r,u,n){var i,s,o,m,c;for(u=u||.01,n=n||.01,o=0;o<r.length;o++){for(m=r[o],c=0;c<m.starts.length;c++)s=m.starts[c],x(m,s,"edge",u,n);for(i=0;Object.keys(m.crossings).length&&i<1e4;)i++,s=Object.keys(m.crossings)[0].split(",").map(Number),x(m,s,void 0,u,n);i===1e4&&y.log("Infinite loop in contour?")}};function a(t,r,u,n){return Math.abs(t[0]-r[0])<u&&Math.abs(t[1]-r[1])<n}function L(t,r){var u=t[2]-r[2],n=t[3]-r[3];return Math.sqrt(u*u+n*n)}function x(t,r,u,n,i){var s=r.join(","),o=t.crossings[s],m=h(o,u,r),c=[d(t,r,[-m[0],-m[1]])],b=t.z.length,v=t.z[0].length,l=r.slice(),p=m.slice(),S;for(S=0;S<1e4;S++){if(o>20?(o=C.CHOOSESADDLE[o][(m[0]||m[1])<0?0:1],t.crossings[s]=C.SADDLEREMAINDER[o]):delete t.crossings[s],m=C.NEWDELTA[o],!m){y.log("Found bad marching index:",o,r,t.level);break}c.push(d(t,r,m)),r[0]+=m[0],r[1]+=m[1],s=r.join(","),a(c[c.length-1],c[c.length-2],n,i)&&c.pop();var M=m[0]&&(r[0]<0||r[0]>v-2)||m[1]&&(r[1]<0||r[1]>b-2),R=r[0]===l[0]&&r[1]===l[1]&&m[0]===p[0]&&m[1]===p[1];if(R||u&&M)break;o=t.crossings[s]}S===1e4&&y.log("Infinite loop in contour?");var T=a(c[0],c[c.length-1],n,i),E=0,A=.2*t.smoothing,f=[],P=0,w,z,F,H,_,B,N,O,U,K,re;for(S=1;S<c.length;S++)N=L(c[S],c[S-1]),E+=N,f.push(N);var ae=E/f.length*A;function ue(J){return c[J%c.length]}for(S=c.length-2;S>=P;S--)if(w=f[S],w<ae){for(F=0,z=S-1;z>=P&&w+f[z]<ae;z--)w+=f[z];if(T&&S===c.length-2)for(F=0;F<z&&w+f[F]<ae;F++)w+=f[F];_=S-z+F+1,B=Math.floor((S+z+F+2)/2),!T&&S===c.length-2?H=c[c.length-1]:!T&&z===-1?H=c[0]:_%2?H=ue(B):H=[(ue(B)[0]+ue(B+1)[0])/2,(ue(B)[1]+ue(B+1)[1])/2],c.splice(z+1,S-z+1,H),S=z+1,F&&(P=F),T&&(S===c.length-2?c[F]=c[c.length-1]:S===0&&(c[c.length-1]=c[0]))}for(c.splice(0,P),S=0;S<c.length;S++)c[S].length=2;if(!(c.length<2))if(T)c.pop(),t.paths.push(c);else{u||y.log("Unclosed interior contour?",t.level,l.join(","),c.join("L"));var ve=!1;for(O=0;O<t.edgepaths.length;O++)if(K=t.edgepaths[O],!ve&&a(K[0],c[c.length-1],n,i)){c.pop(),ve=!0;var ee=!1;for(U=0;U<t.edgepaths.length;U++)if(re=t.edgepaths[U],a(re[re.length-1],c[0],n,i)){ee=!0,c.shift(),t.edgepaths.splice(O,1),U===O?t.paths.push(c.concat(re)):(U>O&&U--,t.edgepaths[U]=re.concat(c,K));break}ee||(t.edgepaths[O]=c.concat(K))}for(O=0;O<t.edgepaths.length&&!ve;O++)K=t.edgepaths[O],a(K[K.length-1],c[0],n,i)&&(c.shift(),t.edgepaths[O]=K.concat(c),ve=!0);ve||t.edgepaths.push(c)}}function h(t,r,u){var n=0,i=0;return t>20&&r?t===208||t===1114?n=u[0]===0?1:-1:i=u[1]===0?1:-1:C.BOTTOMSTART.indexOf(t)!==-1?i=1:C.LEFTSTART.indexOf(t)!==-1?n=1:C.TOPSTART.indexOf(t)!==-1?i=-1:n=-1,[n,i]}function d(t,r,u){var n=r[0]+Math.max(u[0],0),i=r[1]+Math.max(u[1],0),s=t.z[i][n],o=t.xaxis,m=t.yaxis;if(u[1]){var c=(t.level-s)/(t.z[i][n+1]-s),b=(c!==1?(1-c)*o.c2l(t.x[n]):0)+(c!==0?c*o.c2l(t.x[n+1]):0);return[o.c2p(o.l2c(b),!0),m.c2p(t.y[i],!0),n+c,i]}else{var v=(t.level-s)/(t.z[i+1][n]-s),l=(v!==1?(1-v)*m.c2l(t.y[i]):0)+(v!==0?v*m.c2l(t.y[i+1]):0);return[o.c2p(t.x[n],!0),m.c2p(m.l2c(l),!0),n,i+v]}}},52421:function(W,V,e){var y=e(7901),C=e(46248);W.exports=function(L,x,h,d,t){t||(t={}),t.isContour=!0;var r=C(L,x,h,d,t);return r&&r.forEach(function(u){var n=u.trace;n.contours.type==="constraint"&&(n.fillcolor&&y.opacity(n.fillcolor)?u.color=y.addOpacity(n.fillcolor,1):n.contours.showlines&&y.opacity(n.line.color)&&(u.color=y.addOpacity(n.line.color,1)))}),r}},99442:function(W,V,e){W.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(W,V,e){var y=e(71828);W.exports=function(a,L,x,h){h||(h={});var d=a("contours.showlabels");if(d){var t=L.font;y.coerceFont(a,"contours.labelfont",{family:t.family,size:t.size,color:x}),a("contours.labelformat")}h.hasHover!==!1&&a("zhoverformat")}},86068:function(W,V,e){var y=e(39898),C=e(21081),a=e(53572);W.exports=function(x){var h=x.contours,d=h.start,t=a(h),r=h.size||1,u=Math.floor((t-d)/r)+1,n=h.coloring==="lines"?0:1,i=C.extractOpts(x);isFinite(r)||(r=1,u=1);var s=i.reversescale?C.flipScale(i.colorscale):i.colorscale,o=s.length,m=new Array(o),c=new Array(o),b,v,l=i.min,p=i.max;if(h.coloring==="heatmap"){for(v=0;v<o;v++)b=s[v],m[v]=b[0]*(p-l)+l,c[v]=b[1];var S=y.extent([l,p,h.start,h.start+r*(u-1)]),M=S[l<p?0:1],R=S[l<p?1:0];M!==l&&(m.splice(0,0,M),c.splice(0,0,c[0])),R!==p&&(m.push(R),c.push(c[c.length-1]))}else{var T=x._input&&typeof x._input.zmin=="number"&&typeof x._input.zmax=="number";for(T&&(d<=l||t>=p)&&(d<=l&&(d=l),t>=p&&(t=p),u=Math.floor((t-d)/r)+1,n=0),v=0;v<o;v++)b=s[v],m[v]=(b[0]*(u+n-1)-n/2)*r+d,c[v]=b[1];(T||x.autocontour)&&(m[0]>l&&(m.unshift(l),c.unshift(c[0])),m[m.length-1]<p&&(m.push(p),c.push(c[c.length-1])))}return C.makeColorScaleFunc({domain:m,range:c},{noNumericCheck:!0})}},87678:function(W,V,e){var y=e(36914);W.exports=function(L){var x=L[0].z,h=x.length,d=x[0].length,t=h===2||d===2,r,u,n,i,s,o,m,c,b;for(u=0;u<h-1;u++)for(i=[],u===0&&(i=i.concat(y.BOTTOMSTART)),u===h-2&&(i=i.concat(y.TOPSTART)),r=0;r<d-1;r++)for(n=i.slice(),r===0&&(n=n.concat(y.LEFTSTART)),r===d-2&&(n=n.concat(y.RIGHTSTART)),s=r+","+u,o=[[x[u][r],x[u][r+1]],[x[u+1][r],x[u+1][r+1]]],b=0;b<L.length;b++)c=L[b],m=C(c.level,o),m&&(c.crossings[s]=m,n.indexOf(m)!==-1&&(c.starts.push([r,u]),t&&n.indexOf(m,n.indexOf(m)+1)!==-1&&c.starts.push([r,u])))};function C(a,L){var x=(L[0][0]>a?0:1)+(L[0][1]>a?0:2)+(L[1][1]>a?0:4)+(L[1][0]>a?0:8);if(x===5||x===10){var h=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return a>h?x===5?713:1114:x===5?104:208}return x===15?0:x}},29854:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(21081),x=e(63893),h=e(89298),d=e(21994),t=e(50347),r=e(87678),u=e(81696),n=e(87558),i=e(84857),s=e(20083),o=e(36914),m=o.LABELOPTIMIZER;V.plot=function(T,E,A,f){var P=E.xaxis,w=E.yaxis;C.makeTraceGroups(f,A,"contour").each(function(z){var F=y.select(this),H=z[0],_=H.trace,B=H.x,N=H.y,O=_.contours,U=n(O,E,H),K=C.ensureSingle(F,"g","heatmapcoloring"),re=[];O.coloring==="heatmap"&&(re=[z]),t(T,E,re,K),r(U),u(U);var ae=P.c2p(B[0],!0),ue=P.c2p(B[B.length-1],!0),ve=w.c2p(N[0],!0),ee=w.c2p(N[N.length-1],!0),J=[[ae,ee],[ue,ee],[ue,ve],[ae,ve]],Q=U;O.type==="constraint"&&(Q=i(U,O._operation)),c(F,J,O),b(F,Q,J,O),l(F,U,T,H,O),S(F,E,T,H,J)})};function c(R,T,E){var A=C.ensureSingle(R,"g","contourbg"),f=A.selectAll("path").data(E.coloring==="fill"?[0]:[]);f.enter().append("path"),f.exit().remove(),f.attr("d","M"+T.join("L")+"Z").style("stroke","none")}function b(R,T,E,A){var f=A.coloring==="fill"||A.type==="constraint"&&A._operation!=="=",P="M"+E.join("L")+"Z";f&&s(T,A);var w=C.ensureSingle(R,"g","contourfill"),z=w.selectAll("path").data(f?T:[]);z.enter().append("path"),z.exit().remove(),z.each(function(F){var H=(F.prefixBoundary?P:"")+v(F,E);H?y.select(this).attr("d",H).style("stroke","none"):y.select(this).remove()})}function v(R,T){var E="",A=0,f=R.edgepaths.map(function(ae,ue){return ue}),P=!0,w,z,F,H,_,B;function N(ae){return Math.abs(ae[1]-T[0][1])<.01}function O(ae){return Math.abs(ae[1]-T[2][1])<.01}function U(ae){return Math.abs(ae[0]-T[0][0])<.01}function K(ae){return Math.abs(ae[0]-T[2][0])<.01}for(;f.length;){for(B=a.smoothopen(R.edgepaths[A],R.smoothing),E+=P?B:B.replace(/^M/,"L"),f.splice(f.indexOf(A),1),w=R.edgepaths[A][R.edgepaths[A].length-1],H=-1,F=0;F<4;F++){if(!w){C.log("Missing end?",A,R);break}for(N(w)&&!K(w)?z=T[1]:U(w)?z=T[0]:O(w)?z=T[3]:K(w)&&(z=T[2]),_=0;_<R.edgepaths.length;_++){var re=R.edgepaths[_][0];Math.abs(w[0]-z[0])<.01?Math.abs(w[0]-re[0])<.01&&(re[1]-w[1])*(z[1]-re[1])>=0&&(z=re,H=_):Math.abs(w[1]-z[1])<.01?Math.abs(w[1]-re[1])<.01&&(re[0]-w[0])*(z[0]-re[0])>=0&&(z=re,H=_):C.log("endpt to newendpt is not vert. or horz.",w,z,re)}if(w=z,H>=0)break;E+="L"+z}if(H===R.edgepaths.length){C.log("unclosed perimeter path");break}A=H,P=f.indexOf(A)===-1,P&&(A=f[0],E+="Z")}for(A=0;A<R.paths.length;A++)E+=a.smoothclosed(R.paths[A],R.smoothing);return E}function l(R,T,E,A,f){var P=E._context.staticPlot,w=C.ensureSingle(R,"g","contourlines"),z=f.showlines!==!1,F=f.showlabels,H=z&&F,_=V.createLines(w,z||F,T,P),B=V.createLineClip(w,H,E,A.trace.uid),N=R.selectAll("g.contourlabels").data(F?[0]:[]);if(N.exit().remove(),N.enter().append("g").classed("contourlabels",!0),F){var O=[],U=[];C.clearLocationCache();var K=V.labelFormatter(E,A),re=a.tester.append("text").attr("data-notex",1).call(a.font,f.labelfont),ae=T[0].xaxis,ue=T[0].yaxis,ve=ae._length,ee=ue._length,J=ae.range,Q=ue.range,X=C.aggNums(Math.min,null,A.x),q=C.aggNums(Math.max,null,A.x),se=C.aggNums(Math.min,null,A.y),Y=C.aggNums(Math.max,null,A.y),Z=Math.max(ae.c2p(X,!0),0),ie=Math.min(ae.c2p(q,!0),ve),te=Math.max(ue.c2p(Y,!0),0),fe=Math.min(ue.c2p(se,!0),ee),de={};J[0]<J[1]?(de.left=Z,de.right=ie):(de.left=ie,de.right=Z),Q[0]<Q[1]?(de.top=te,de.bottom=fe):(de.top=fe,de.bottom=te),de.middle=(de.top+de.bottom)/2,de.center=(de.left+de.right)/2,O.push([[de.left,de.top],[de.right,de.top],[de.right,de.bottom],[de.left,de.bottom]]);var we=Math.sqrt(ve*ve+ee*ee),Ae=o.LABELDISTANCE*we/Math.max(1,T.length/o.LABELINCREASE);_.each(function(Re){var Fe=V.calcTextOpts(Re.level,K,re,E);y.select(this).selectAll("path").each(function(){var Se=this,Te=C.getVisibleSegment(Se,de,Fe.height/2);if(Te&&!(Te.len<(Fe.width+Fe.height)*o.LABELMIN))for(var Ee=Math.min(Math.ceil(Te.len/Ae),o.LABELMAX),Ne=0;Ne<Ee;Ne++){var He=V.findBestTextLocation(Se,Te,Fe,U,de);if(!He)break;V.addLabelData(He,Fe,U,O)}})}),re.remove(),V.drawLabels(N,U,E,B,H?O:null)}F&&!z&&_.remove()}V.createLines=function(R,T,E,A){var f=E[0].smoothing,P=R.selectAll("g.contourlevel").data(T?E:[]);if(P.exit().remove(),P.enter().append("g").classed("contourlevel",!0),T){var w=P.selectAll("path.openline").data(function(F){return F.pedgepaths||F.edgepaths});w.exit().remove(),w.enter().append("path").classed("openline",!0),w.attr("d",function(F){return a.smoothopen(F,f)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke");var z=P.selectAll("path.closedline").data(function(F){return F.ppaths||F.paths});z.exit().remove(),z.enter().append("path").classed("closedline",!0),z.attr("d",function(F){return a.smoothclosed(F,f)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke")}return P},V.createLineClip=function(R,T,E,A){var f=E._fullLayout._clips,P=T?"clipline"+A:null,w=f.selectAll("#"+P).data(T?[0]:[]);return w.exit().remove(),w.enter().append("clipPath").classed("contourlineclip",!0).attr("id",P),a.setClipUrl(R,P,E),w},V.labelFormatter=function(R,T){var E=R._fullLayout,A=T.trace,f=A.contours,P={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(f.labelformat)P.tickformat=f.labelformat,d(P,E);else{var w=L.extractOpts(A);if(w&&w.colorbar&&w.colorbar._axis)P=w.colorbar._axis;else{if(f.type==="constraint"){var z=f.value;Array.isArray(z)?P.range=[z[0],z[z.length-1]]:P.range=[z,z]}else P.range=[f.start,f.end],P.nticks=(f.end-f.start)/f.size;P.range[0]===P.range[1]&&(P.range[1]+=P.range[0]||1),P.nticks||(P.nticks=1e3),d(P,E),h.prepTicks(P),P._tmin=null,P._tmax=null}}return function(F){return h.tickText(P,F).text}},V.calcTextOpts=function(R,T,E,A){var f=T(R);E.text(f).call(x.convertToTspans,A);var P=E.node(),w=a.bBox(P,!0);return{text:f,width:w.width,height:w.height,fontSize:+P.style["font-size"].replace("px",""),level:R,dy:(w.top+w.bottom)/2}},V.findBestTextLocation=function(R,T,E,A,f){var P=E.width,w,z,F,H,_;T.isClosed?(z=T.len/m.INITIALSEARCHPOINTS,w=T.min+z/2,F=T.max):(z=(T.len-P)/(m.INITIALSEARCHPOINTS+1),w=T.min+z+P/2,F=T.max-(z+P)/2);for(var B=1/0,N=0;N<m.ITERATIONS;N++){for(var O=w;O<F;O+=z){var U=C.getTextLocation(R,T.total,O,P),K=p(U,E,A,f);K<B&&(B=K,_=U,H=O)}if(B>m.MAXCOST*2)break;N&&(z/=2),w=H-z/2,F=w+z*1.5}if(B<=m.MAXCOST)return _};function p(R,T,E,A){var f=T.width/2,P=T.height/2,w=R.x,z=R.y,F=R.theta,H=Math.cos(F)*f,_=Math.sin(F)*f,B=(w>A.center?A.right-w:w-A.left)/(H+Math.abs(Math.sin(F)*P)),N=(z>A.middle?A.bottom-z:z-A.top)/(Math.abs(_)+Math.cos(F)*P);if(B<1||N<1)return 1/0;var O=m.EDGECOST*(1/(B-1)+1/(N-1));O+=m.ANGLECOST*F*F;for(var U=w-H,K=z-_,re=w+H,ae=z+_,ue=0;ue<E.length;ue++){var ve=E[ue],ee=Math.cos(ve.theta)*ve.width/2,J=Math.sin(ve.theta)*ve.width/2,Q=C.segmentDistance(U,K,re,ae,ve.x-ee,ve.y-J,ve.x+ee,ve.y+J)*2/(T.height+ve.height),X=ve.level===T.level,q=X?m.SAMELEVELDISTANCE:1;if(Q<=q)return 1/0;var se=m.NEIGHBORCOST*(X?m.SAMELEVELFACTOR:1);O+=se/(Q-q)}return O}V.addLabelData=function(R,T,E,A){var f=T.fontSize,P=T.width+f/3,w=Math.max(0,T.height-f/3),z=R.x,F=R.y,H=R.theta,_=Math.sin(H),B=Math.cos(H),N=function(U,K){return[z+U*B-K*_,F+U*_+K*B]},O=[N(-P/2,-w/2),N(-P/2,w/2),N(P/2,w/2),N(P/2,-w/2)];E.push({text:T.text,x:z,y:F,dy:T.dy,theta:H,level:T.level,width:P,height:w}),A.push(O)},V.drawLabels=function(R,T,E,A,f){var P=R.selectAll("text").data(T,function(H){return H.text+","+H.x+","+H.y+","+H.theta});if(P.exit().remove(),P.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(H){var _=H.x+Math.sin(H.theta)*H.dy,B=H.y-Math.cos(H.theta)*H.dy;y.select(this).text(H.text).attr({x:_,y:B,transform:"rotate("+180*H.theta/Math.PI+" "+_+" "+B+")"}).call(x.convertToTspans,E)}),f){for(var w="",z=0;z<f.length;z++)w+="M"+f[z].join("L")+"Z";var F=C.ensureSingle(A,"path","");F.attr("d",w)}};function S(R,T,E,A,f){var P=A.trace,w=E._fullLayout._clips,z="clip"+P.uid,F=w.selectAll("#"+z).data(P.connectgaps?[]:[0]);if(F.enter().append("clipPath").classed("contourclip",!0).attr("id",z),F.exit().remove(),P.connectgaps===!1){var H={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:T.xaxis,yaxis:T.yaxis,x:A.x,y:A.y,z:M(A),smoothing:0};r([H]),u([H]),s([H],{type:"levels"});var _=C.ensureSingle(F,"path","");_.attr("d",(H.prefixBoundary?"M"+f.join("L")+"Z":"")+v(H,f))}else z=null;a.setClipUrl(R,z,E)}function M(R){var T=R.trace._emptypoints,E=[],A=R.z.length,f=R.z[0].length,P,w=[],z;for(P=0;P<f;P++)w.push(1);for(P=0;P<A;P++)E.push(w.slice());for(P=0;P<T.length;P++)z=T[P],E[z[0]][z[1]]=0;return R.zmask=E,E}},18670:function(W,V,e){var y=e(89298),C=e(71828);W.exports=function(x,h){var d=x.contours;if(x.autocontour){var t=x.zmin,r=x.zmax;(x.zauto||t===void 0)&&(t=C.aggNums(Math.min,null,h)),(x.zauto||r===void 0)&&(r=C.aggNums(Math.max,null,h));var u=a(t,r,x.ncontours);d.size=u.dtick,d.start=y.tickFirst(u),u.range.reverse(),d.end=y.tickFirst(u),d.start===t&&(d.start+=d.size),d.end===r&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),x._input.contours||(x._input.contours={}),C.extendFlat(x._input.contours,{start:d.start,end:d.end,size:d.size}),x._input.autocontour=!0}else if(d.type!=="constraint"){var n=d.start,i=d.end,s=x._input.contours;if(n>i&&(d.start=s.start=i,i=d.end=s.end=n,n=d.start),!(d.size>0)){var o;n===i?o=1:o=a(n,i,x.ncontours).dtick,s.size=d.size=o}}};function a(L,x,h){var d={type:"linear",range:[L,x]};return y.autoTicks(d,(x-L)/(h||15)),d}},84426:function(W,V,e){var y=e(39898),C=e(91424),a=e(70035),L=e(86068);W.exports=function(h){var d=y.select(h).selectAll("g.contour");d.style("opacity",function(t){return t[0].trace.opacity}),d.each(function(t){var r=y.select(this),u=t[0].trace,n=u.contours,i=u.line,s=n.size||1,o=n.start,m=n.type==="constraint",c=!m&&n.coloring==="lines",b=!m&&n.coloring==="fill",v=c||b?L(u):null;r.selectAll("g.contourlevel").each(function(S){y.select(this).selectAll("path").call(C.lineGroupStyle,i.width,c?v(S.level):i.color,i.dash)});var l=n.labelfont;if(r.selectAll("g.contourlabels text").each(function(S){C.font(y.select(this),{family:l.family,size:l.size,color:l.color||(c?v(S.level):i.color)})}),m)r.selectAll("g.contourfill path").style("fill",u.fillcolor);else if(b){var p;r.selectAll("g.contourfill path").style("fill",function(S){return p===void 0&&(p=S.level),v(S.level+.5*s)}),p===void 0&&(p=o),r.selectAll("g.contourbg path").style("fill",v(p-.5*s))}}),a(h)}},8724:function(W,V,e){var y=e(1586),C=e(14523);W.exports=function(L,x,h,d,t){var r=h("contours.coloring"),u,n="";r==="fill"&&(u=h("contours.showlines")),u!==!1&&(r!=="lines"&&(n=h("line.color","#000")),h("line.width",.5),h("line.dash")),r!=="none"&&(L.showlegend!==!0&&(x.showlegend=!1),x._dfltShowLegend=!1,y(L,x,d,h,{prefix:"",cLetter:"z"})),h("line.smoothing"),C(h,d,n,t)}},88085:function(W,V,e){var y=e(21606),C=e(70600),a=e(50693),L=e(1426).extendFlat,x=C.contours;W.exports=L({carpet:{valType:"string",editType:"calc"},z:y.z,a:y.x,a0:y.x0,da:y.dx,b:y.y,b0:y.y0,db:y.dy,text:y.text,hovertext:y.hovertext,transpose:y.transpose,atype:y.xtype,btype:y.ytype,fillcolor:C.fillcolor,autocontour:C.autocontour,ncontours:C.ncontours,contours:{type:x.type,start:x.start,end:x.end,size:x.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:x.showlines,showlabels:x.showlabels,labelfont:x.labelfont,labelformat:x.labelformat,operation:x.operation,value:x.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:C.line.color,width:C.line.width,dash:C.line.dash,smoothing:C.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(W,V,e){var y=e(78803),C=e(71828),a=e(68296),L=e(4742),x=e(824),h=e(43907),d=e(70769),t=e(75005),r=e(22882),u=e(18670);W.exports=function(s,o){var m=o._carpetTrace=r(s,o);if(!(!m||!m.visible||m.visible==="legendonly")){if(!o.a||!o.b){var c=s.data[m.index],b=s.data[o.index];b.a||(b.a=c.a),b.b||(b.b=c.b),t(b,o,o._defaultColor,s._fullLayout)}var v=n(s,o);return u(o,o._z),v}};function n(i,s){var o=s._carpetTrace,m=o.aaxis,c=o.baxis,b,v,l,p,S,M,R;m._minDtick=0,c._minDtick=0,C.isArray1D(s.z)&&a(s,m,c,"a","b",["z"]),b=s._a=s._a||s.a,p=s._b=s._b||s.b,b=b?m.makeCalcdata(s,"_a"):[],p=p?c.makeCalcdata(s,"_b"):[],v=s.a0||0,l=s.da||1,S=s.b0||0,M=s.db||1,R=s._z=L(s._z||s.z,s.transpose),s._emptypoints=h(R),x(R,s._emptypoints);var T=C.maxRowLength(R),E=s.xtype==="scaled"?"":b,A=d(s,E,v,l,T,m),f=s.ytype==="scaled"?"":p,P=d(s,f,S,M,R.length,c),w={a:A,b:P,z:R};return s.contours.type==="levels"&&s.contours.coloring!=="none"&&y(i,s,{vals:R,containerStr:"",cLetter:"z"}),[w]}},75005:function(W,V,e){var y=e(71828),C=e(67684),a=e(88085),L=e(83179),x=e(67217),h=e(8724);W.exports=function(t,r,u,n){function i(c,b){return y.coerce(t,r,a,c,b)}function s(c){return y.coerce2(t,r,a,c)}if(i("carpet"),t.a&&t.b){var o=C(t,r,i,n,"a","b");if(!o){r.visible=!1;return}i("text");var m=i("contours.type")==="constraint";m?L(t,r,i,n,u,{hasHover:!1}):(x(t,r,i,s),h(t,r,i,n,{hasHover:!1}))}else r._defaultColor=u,r._length=null}},93740:function(W,V,e){W.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(W,V,e){var y=e(39898),C=e(27669),a=e(67961),L=e(91424),x=e(71828),h=e(87678),d=e(81696),t=e(29854),r=e(36914),u=e(84857),n=e(87558),i=e(20083),s=e(22882),o=e(4536);W.exports=function(E,A,f,P){var w=A.xaxis,z=A.yaxis;x.makeTraceGroups(P,f,"contour").each(function(F){var H=y.select(this),_=F[0],B=_.trace,N=B._carpetTrace=s(E,B),O=E.calcdata[N.index][0];if(!N.visible||N.visible==="legendonly")return;var U=_.a,K=_.b,re=B.contours,ae=n(re,A,_),ue=re.type==="constraint",ve=re._operation,ee=ue?ve==="="?"lines":"fill":re.coloring;function J(we){var Ae=N.ab2xy(we[0],we[1],!0);return[w.c2p(Ae[0]),z.c2p(Ae[1])]}var Q=[[U[0],K[K.length-1]],[U[U.length-1],K[K.length-1]],[U[U.length-1],K[0]],[U[0],K[0]]];h(ae);var X=(U[U.length-1]-U[0])*1e-8,q=(K[K.length-1]-K[0])*1e-8;d(ae,X,q);var se=ae;re.type==="constraint"&&(se=u(ae,ve)),m(ae,J);var Y,Z,ie,te,fe=[];for(te=O.clipsegments.length-1;te>=0;te--)Y=O.clipsegments[te],Z=C([],Y.x,w.c2p),ie=C([],Y.y,z.c2p),Z.reverse(),ie.reverse(),fe.push(a(Z,ie,Y.bicubic));var de="M"+fe.join("L")+"Z";S(H,O.clipsegments,w,z,ue,ee),M(B,H,w,z,se,Q,J,N,O,ee,de),c(H,ae,E,_,re,A,N),L.setClipUrl(H,N._clipPathId,E)})};function m(T,E){var A,f,P,w,z,F,H,_,B;for(A=0;A<T.length;A++){for(w=T[A],z=w.pedgepaths=[],F=w.ppaths=[],f=0;f<w.edgepaths.length;f++){for(B=w.edgepaths[f],H=[],P=0;P<B.length;P++)H[P]=E(B[P]);z.push(H)}for(f=0;f<w.paths.length;f++){for(B=w.paths[f],_=[],P=0;P<B.length;P++)_[P]=E(B[P]);F.push(_)}}}function c(T,E,A,f,P,w,z){var F=A._context.staticPlot,H=x.ensureSingle(T,"g","contourlines"),_=P.showlines!==!1,B=P.showlabels,N=_&&B,O=t.createLines(H,_||B,E,F),U=t.createLineClip(H,N,A,f.trace.uid),K=T.selectAll("g.contourlabels").data(B?[0]:[]);if(K.exit().remove(),K.enter().append("g").classed("contourlabels",!0),B){var re=w.xaxis,ae=w.yaxis,ue=re._length,ve=ae._length,ee=[[[0,0],[ue,0],[ue,ve],[0,ve]]],J=[];x.clearLocationCache();var Q=t.labelFormatter(A,f),X=L.tester.append("text").attr("data-notex",1).call(L.font,P.labelfont),q={left:0,right:ue,center:ue/2,top:0,bottom:ve,middle:ve/2},se=Math.sqrt(ue*ue+ve*ve),Y=r.LABELDISTANCE*se/Math.max(1,E.length/r.LABELINCREASE);O.each(function(Z){var ie=t.calcTextOpts(Z.level,Q,X,A);y.select(this).selectAll("path").each(function(te){var fe=this,de=x.getVisibleSegment(fe,q,ie.height/2);if(de&&(b(fe,te,Z,de,z,ie.height),!(de.len<(ie.width+ie.height)*r.LABELMIN)))for(var we=Math.min(Math.ceil(de.len/Y),r.LABELMAX),Ae=0;Ae<we;Ae++){var Re=t.findBestTextLocation(fe,de,ie,J,q);if(!Re)break;t.addLabelData(Re,ie,J,ee)}})}),X.remove(),t.drawLabels(K,J,A,U,N?ee:null)}B&&!_&&O.remove()}function b(T,E,A,f,P,w){for(var z,F=0;F<A.pedgepaths.length;F++)E===A.pedgepaths[F]&&(z=A.edgepaths[F]);if(!z)return;var H=P.a[0],_=P.a[P.a.length-1],B=P.b[0],N=P.b[P.b.length-1];function O(ue,ve){var ee=0,J,Q=.1;return(Math.abs(ue[0]-H)<Q||Math.abs(ue[0]-_)<Q)&&(J=l(P.dxydb_rough(ue[0],ue[1],Q)),ee=Math.max(ee,w*p(ve,J)/2)),(Math.abs(ue[1]-B)<Q||Math.abs(ue[1]-N)<Q)&&(J=l(P.dxyda_rough(ue[0],ue[1],Q)),ee=Math.max(ee,w*p(ve,J)/2)),ee}var U=v(T,0,1),K=v(T,f.total,f.total-1),re=O(z[0],U),ae=f.total-O(z[z.length-1],K);f.min<re&&(f.min=re),f.max>ae&&(f.max=ae),f.len=f.max-f.min}function v(T,E,A){var f=T.getPointAtLength(E),P=T.getPointAtLength(A),w=P.x-f.x,z=P.y-f.y,F=Math.sqrt(w*w+z*z);return[w/F,z/F]}function l(T){var E=Math.sqrt(T[0]*T[0]+T[1]*T[1]);return[T[0]/E,T[1]/E]}function p(T,E){var A=Math.abs(T[0]*E[0]+T[1]*E[1]),f=Math.sqrt(1-A*A);return f/A}function S(T,E,A,f,P,w){var z,F,H,_,B=x.ensureSingle(T,"g","contourbg"),N=B.selectAll("path").data(w==="fill"&&!P?[0]:[]);N.enter().append("path"),N.exit().remove();var O=[];for(_=0;_<E.length;_++)z=E[_],F=C([],z.x,A.c2p),H=C([],z.y,f.c2p),O.push(a(F,H,z.bicubic));N.attr("d","M"+O.join("L")+"Z").style("stroke","none")}function M(T,E,A,f,P,w,z,F,H,_,B){var N=_==="fill";N&&i(P,T.contours);var O=x.ensureSingle(E,"g","contourfill"),U=O.selectAll("path").data(N?P:[]);U.enter().append("path"),U.exit().remove(),U.each(function(K){var re=(K.prefixBoundary?B:"")+R(T,K,w,z,F,H,A,f);re?y.select(this).attr("d",re).style("stroke","none"):y.select(this).remove()})}function R(T,E,A,f,P,w,z,F){var H,_="",B=E.edgepaths.map(function(ie,te){return te}),N=!0,O,U,K,re,ae,ue,ve=Math.abs(A[0][0]-A[2][0])*1e-4,ee=Math.abs(A[0][1]-A[2][1])*1e-4;function J(ie){return Math.abs(ie[1]-A[0][1])<ee}function Q(ie){return Math.abs(ie[1]-A[2][1])<ee}function X(ie){return Math.abs(ie[0]-A[0][0])<ve}function q(ie){return Math.abs(ie[0]-A[2][0])<ve}function se(ie,te){var fe,de,we,Ae,Re="";for(J(ie)&&!q(ie)||Q(ie)&&!X(ie)?(Ae=P.aaxis,we=o(P,w,[ie[0],te[0]],.5*(ie[1]+te[1]))):(Ae=P.baxis,we=o(P,w,.5*(ie[0]+te[0]),[ie[1],te[1]])),fe=1;fe<we.length;fe++)for(Re+=Ae.smoothing?"C":"L",de=0;de<we[fe].length;de++){var Fe=we[fe][de];Re+=[z.c2p(Fe[0]),F.c2p(Fe[1])]+" "}return Re}for(H=0,O=null;B.length;){var Y=E.edgepaths[H][0];for(O&&(_+=se(O,Y)),ue=L.smoothopen(E.edgepaths[H].map(f),E.smoothing),_+=N?ue:ue.replace(/^M/,"L"),B.splice(B.indexOf(H),1),O=E.edgepaths[H][E.edgepaths[H].length-1],re=-1,K=0;K<4;K++){if(!O){x.log("Missing end?",H,E);break}for(J(O)&&!q(O)?U=A[1]:X(O)?U=A[0]:Q(O)?U=A[3]:q(O)&&(U=A[2]),ae=0;ae<E.edgepaths.length;ae++){var Z=E.edgepaths[ae][0];Math.abs(O[0]-U[0])<ve?Math.abs(O[0]-Z[0])<ve&&(Z[1]-O[1])*(U[1]-Z[1])>=0&&(U=Z,re=ae):Math.abs(O[1]-U[1])<ee?Math.abs(O[1]-Z[1])<ee&&(Z[0]-O[0])*(U[0]-Z[0])>=0&&(U=Z,re=ae):x.log("endpt to newendpt is not vert. or horz.",O,U,Z)}if(re>=0)break;_+=se(O,U),O=U}if(re===E.edgepaths.length){x.log("unclosed perimeter path");break}H=re,N=B.indexOf(H)===-1,N&&(H=B[0],_+=se(O,U)+"Z",O=null)}for(H=0;H<E.paths.length;H++)_+=L.smoothclosed(E.paths[H].map(f),E.smoothing);return _}},64096:function(W,V,e){var y=e(50693),C=e(5386).fF,a=e(9012),L=e(99181),x=e(1426).extendFlat;W.exports=x({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:x({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:C(),showlegend:x({},a.showlegend,{dflt:!1})},y("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(W,V,e){var y=e(92770),C=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,L=e(78803),x=e(71828)._;W.exports=function(d,t){for(var r=t._length,u=new Array(r),n=t.z,i=C(n)&&n.length,s=0;s<r;s++){var o=u[s]={},m=t.lon[s],c=t.lat[s];if(o.lonlat=y(m)&&y(c)?[+m,+c]:[a,a],i){var b=n[s];o.z=y(b)?b:a}}return L(d,t,{vals:i?n:[0,1],containerStr:"",cLetter:"z"}),r&&(u[0].t={labels:{lat:x(d,"lat:")+" ",lon:x(d,"lon:")+" "}}),u}},52414:function(W,V,e){var y=e(92770),C=e(71828),a=e(7901),L=e(21081),x=e(50606).BADNUM,h=e(18214).makeBlank;W.exports=function(t){var r=t[0].trace,u=r.visible===!0&&r._length!==0,n={layout:{visibility:"none"},paint:{}},i=r._opts={heatmap:n,geojson:h()};if(!u)return i;var s=[],o,m=r.z,c=r.radius,b=C.isArrayOrTypedArray(m)&&m.length,v=C.isArrayOrTypedArray(c);for(o=0;o<t.length;o++){var l=t[o],p=l.lonlat;if(p[0]!==x){var S={};if(b){var M=l.z;S.z=M!==x?M:0}v&&(S.r=y(c[o])&&c[o]>0?+c[o]:0),s.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:S})}}var R=L.extractOpts(r),T=R.reversescale?L.flipScale(R.colorscale):R.colorscale,E=T[0][1],A=a.opacity(E)<1?E:a.addOpacity(E,0),f=["interpolate",["linear"],["heatmap-density"],0,A];for(o=1;o<T.length;o++)f.push(T[o][0],T[o][1]);var P=["interpolate",["linear"],["get","z"],R.min,0,R.max,1];return C.extendFlat(i.heatmap.paint,{"heatmap-weight":b?P:1/(R.max-R.min),"heatmap-color":f,"heatmap-radius":v?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),i.geojson={type:"FeatureCollection",features:s},i.heatmap.layout.visibility="visible",i}},79429:function(W,V,e){var y=e(71828),C=e(1586),a=e(64096);W.exports=function(x,h,d,t){function r(s,o){return y.coerce(x,h,a,s,o)}var u=r("lon")||[],n=r("lat")||[],i=Math.min(u.length,n.length);if(!i){h.visible=!1;return}h._length=i,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),C(x,h,t,r,{prefix:"",cLetter:"z"})}},62474:function(W){W.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e.z=y.z,e}},84684:function(W,V,e){var y=e(89298),C=e(28178).hoverPoints,a=e(28178).getExtraText;W.exports=function(x,h,d){var t=C(x,h,d);if(t){var r=t[0],u=r.cd,n=u[0].trace,i=u[r.index];if(delete r.color,"z"in i){var s=r.subplot.mockAxis;r.z=i.z,r.zLabel=y.tickText(s,s.c2l(i.z),"hover").text}return r.extraText=a(n,i,u[0].t.labels),[r]}}},93814:function(W,V,e){W.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(y,C){for(var a=C.getMapLayers(),L=0;L<a.length;L++){var x=a[L],h=x.id;if(x.type==="symbol"&&typeof h=="string"&&h.indexOf("plotly-")===-1)return h}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(W,V,e){var y=e(52414),C=e(77734).traceLayerPrefix;function a(x,h){this.type="densitymapbox",this.subplot=x,this.uid=h,this.sourceId="source-"+h,this.layerList=[["heatmap",C+h+"-heatmap"]],this.below=null}var L=a.prototype;L.update=function(x){var h=this.subplot,d=this.layerList,t=y(x),r=h.belowLookup["trace-"+this.uid];h.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var u=0;u<d.length;u++){var n=d[u],i=n[0],s=n[1],o=t[i];h.setOptions(s,"setLayoutProperty",o.layout),o.layout.visibility==="visible"&&h.setOptions(s,"setPaintProperty",o.paint)}},L._addLayers=function(x,h){for(var d=this.subplot,t=this.layerList,r=this.sourceId,u=0;u<t.length;u++){var n=t[u],i=n[0],s=x[i];d.addLayer({type:i,id:n[1],source:r,layout:s.layout,paint:s.paint},h)}},L._removeLayers=function(){for(var x=this.subplot.map,h=this.layerList,d=h.length-1;d>=0;d--)x.removeLayer(h[d][1])},L.dispose=function(){var x=this.subplot.map;this._removeLayers(),x.removeSource(this.sourceId)},W.exports=function(h,d){var t=d[0].trace,r=new a(h,t.uid),u=r.sourceId,n=y(d),i=r.below=h.belowLookup["trace-"+t.uid];return h.map.addSource(u,{type:"geojson",data:n.geojson}),r._addLayers(n,i),r}},49789:function(W,V,e){var y=e(71828);W.exports=function(a,L){for(var x=0;x<a.length;x++)a[x].i=x;y.mergeArray(L.text,a,"tx"),y.mergeArray(L.hovertext,a,"htx");var h=L.marker;if(h){y.mergeArray(h.opacity,a,"mo"),y.mergeArray(h.color,a,"mc");var d=h.line;d&&(y.mergeArray(d.color,a,"mlc"),y.mergeArrayCastPositive(d.width,a,"mlw"))}}},1285:function(W,V,e){var y=e(1486),C=e(82196).line,a=e(9012),L=e(12663).axisHoverFormat,x=e(5386).fF,h=e(5386).si,d=e(18517),t=e(1426).extendFlat,r=e(7901);W.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:y.hovertext,hovertemplate:x({},{keys:d.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),text:y.text,textposition:y.textposition,insidetextanchor:t({},y.insidetextanchor,{dflt:"middle"}),textangle:t({},y.textangle,{dflt:0}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:t({},y.orientation,{}),offset:t({},y.offset,{arrayOk:!1}),width:t({},y.width,{arrayOk:!1}),marker:u(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},C.color,{dflt:r.defaultLine}),width:t({},C.width,{dflt:0,editType:"plot"}),dash:C.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup};function u(){var n=t({},y.marker);return delete n.pattern,n}},9532:function(W,V,e){var y=e(89298),C=e(42973),a=e(49789),L=e(66279),x=e(50606).BADNUM;W.exports=function(t,r){var u=y.getFromId(t,r.xaxis||"x"),n=y.getFromId(t,r.yaxis||"y"),i,s,o,m,c,b,v,l;r.orientation==="h"?(i=u.makeCalcdata(r,"x"),o=n.makeCalcdata(r,"y"),m=C(r,n,"y",o),c=!!r.yperiodalignment,b="y"):(i=n.makeCalcdata(r,"y"),o=u.makeCalcdata(r,"x"),m=C(r,u,"x",o),c=!!r.xperiodalignment,b="x"),s=m.vals;var p=Math.min(s.length,i.length),S=new Array(p);for(r._base=[],v=0;v<p;v++){i[v]<0&&(i[v]=x);var M=!1;i[v]!==x&&v+1<p&&i[v+1]!==x&&(M=!0),l=S[v]={p:s[v],s:i[v],cNext:M},r._base[v]=-.5*l.s,c&&(S[v].orig_p=o[v],S[v][b+"End"]=m.ends[v],S[v][b+"Start"]=m.starts[v]),r.ids&&(l.id=String(r.ids[v])),v===0&&(S[0].vTotal=0),S[0].vTotal+=h(l.s),l.begR=h(l.s)/h(S[0].s)}var R;for(v=0;v<p;v++)l=S[v],l.s!==x&&(l.sumR=l.s/S[0].vTotal,l.difR=R!==void 0?l.s/R:1,R=l.s);return a(S,r),L(S,r),S};function h(d){return d===x?0:d}},18517:function(W){W.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(W,V,e){var y=e(11661).setGroupPositions;W.exports=function(a,L){var x=a._fullLayout,h=a._fullData,d=a.calcdata,t=L.xaxis,r=L.yaxis,u=[],n=[],i=[],s,o;for(o=0;o<h.length;o++){var m=h[o],c=m.orientation==="h";m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="funnel"&&(s=d[o],c?i.push(s):n.push(s),u.push(s))}var b={mode:x.funnelmode,norm:x.funnelnorm,gap:x.funnelgap,groupgap:x.funnelgroupgap};for(y(a,t,r,n,b),y(a,r,t,i,b),o=0;o<u.length;o++){s=u[o];for(var v=0;v<s.length;v++)v+1<s.length&&(s[v].nextP0=s[v+1].p0,s[v].nextS0=s[v+1].s0,s[v].nextP1=s[v+1].p1,s[v].nextS1=s[v+1].s1)}}},26199:function(W,V,e){var y=e(71828),C=e(26125),a=e(90769).handleText,L=e(67513),x=e(73927),h=e(1285),d=e(7901);function t(n,i,s,o){function m(M,R){return y.coerce(n,i,h,M,R)}var c=L(n,i,o,m);if(!c){i.visible=!1;return}x(n,i,o,m),m("xhoverformat"),m("yhoverformat"),m("orientation",i.y&&!i.x?"v":"h"),m("offset"),m("width");var b=m("text");m("hovertext"),m("hovertemplate");var v=m("textposition");a(n,i,o,m,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition!=="none"&&!i.texttemplate&&m("textinfo",Array.isArray(b)?"text+value":"value");var l=m("marker.color",s);m("marker.line.color",d.defaultLine),m("marker.line.width");var p=m("connector.visible");if(p){m("connector.fillcolor",r(l));var S=m("connector.line.width");S&&(m("connector.line.color"),m("connector.line.dash"))}}function r(n){var i=y.isArrayOrTypedArray(n)?"#000":n;return d.addOpacity(i,.5*d.opacity(i))}function u(n,i){var s,o;function m(b){return y.coerce(o._input,o,h,b)}if(i.funnelmode==="group")for(var c=0;c<n.length;c++)o=n[c],s=o._input,C(s,o,i,m)}W.exports={supplyDefaults:t,crossTraceDefaults:u}},34598:function(W){W.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"percentInitial"in y&&(e.percentInitial=y.percentInitial),"percentPrevious"in y&&(e.percentPrevious=y.percentPrevious),"percentTotal"in y&&(e.percentTotal=y.percentTotal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},63341:function(W,V,e){var y=e(7901).opacity,C=e(95423).hoverOnBars,a=e(71828).formatPercent;W.exports=function(h,d,t,r,u){var n=C(h,d,t,r,u);if(n){var i=n.cd,s=i[0].trace,o=s.orientation==="h",m=n.index,c=i[m],b=o?"x":"y";n[b+"LabelVal"]=c.s,n.percentInitial=c.begR,n.percentInitialLabel=a(c.begR,1),n.percentPrevious=c.difR,n.percentPreviousLabel=a(c.difR,1),n.percentTotal=c.sumR,n.percentTotalLabel=a(c.sumR,1);var v=c.hi||s.hoverinfo,l=[];if(v&&v!=="none"&&v!=="skip"){var p=v==="all",S=v.split("+"),M=function(R){return p||S.indexOf(R)!==-1};M("percent initial")&&l.push(n.percentInitialLabel+" of initial"),M("percent previous")&&l.push(n.percentPreviousLabel+" of previous"),M("percent total")&&l.push(n.percentTotalLabel+" of total")}return n.extraText=l.join("<br>"),n.color=L(s,c),[n]}};function L(x,h){var d=x.marker,t=h.mc||d.color,r=h.mlc||d.line.color,u=h.mlw||d.line.width;if(y(t))return t;if(y(r)&&u)return r}},51759:function(W,V,e){W.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(W){W.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(W,V,e){var y=e(71828),C=e(10440);W.exports=function(a,L,x){var h=!1;function d(u,n){return y.coerce(a,L,C,u,n)}for(var t=0;t<x.length;t++){var r=x[t];if(r.visible&&r.type==="funnel"){h=!0;break}}h&&(d("funnelmode"),d("funnelgap",.2),d("funnelgroupgap"))}},80461:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(50606).BADNUM,x=e(17295),h=e(72597).clearMinTextSize;W.exports=function(n,i,s,o){var m=n._fullLayout;h("funnel",m),d(n,i,s,o),t(n,i,s,o),x.plot(n,i,s,o,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function d(u,n,i,s){var o=n.xaxis,m=n.yaxis;C.makeTraceGroups(s,i,"trace bars").each(function(c){var b=y.select(this),v=c[0].trace,l=C.ensureSingle(b,"g","regions");if(!v.connector||!v.connector.visible){l.remove();return}var p=v.orientation==="h",S=l.selectAll("g.region").data(C.identity);S.enter().append("g").classed("region",!0),S.exit().remove();var M=S.size();S.each(function(R,T){if(!(T!==M-1&&!R.cNext)){var E=r(R,o,m,p),A=E[0],f=E[1],P="";A[0]!==L&&f[0]!==L&&A[1]!==L&&f[1]!==L&&A[2]!==L&&f[2]!==L&&A[3]!==L&&f[3]!==L&&(p?P+="M"+A[0]+","+f[1]+"L"+A[2]+","+f[2]+"H"+A[3]+"L"+A[1]+","+f[1]+"Z":P+="M"+A[1]+","+f[1]+"L"+A[2]+","+f[3]+"V"+f[2]+"L"+A[1]+","+f[0]+"Z"),P===""&&(P="M0,0Z"),C.ensureSingle(y.select(this),"path").attr("d",P).call(a.setClipUrl,n.layerClipId,u)}})})}function t(u,n,i,s){var o=n.xaxis,m=n.yaxis;C.makeTraceGroups(s,i,"trace bars").each(function(c){var b=y.select(this),v=c[0].trace,l=C.ensureSingle(b,"g","lines");if(!v.connector||!v.connector.visible||!v.connector.line.width){l.remove();return}var p=v.orientation==="h",S=l.selectAll("g.line").data(C.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var M=S.size();S.each(function(R,T){if(!(T!==M-1&&!R.cNext)){var E=r(R,o,m,p),A=E[0],f=E[1],P="";A[3]!==void 0&&f[3]!==void 0&&(p?(P+="M"+A[0]+","+f[1]+"L"+A[2]+","+f[2],P+="M"+A[1]+","+f[1]+"L"+A[3]+","+f[2]):(P+="M"+A[1]+","+f[1]+"L"+A[2]+","+f[3],P+="M"+A[1]+","+f[0]+"L"+A[2]+","+f[2])),P===""&&(P="M0,0Z"),C.ensureSingle(y.select(this),"path").attr("d",P).call(a.setClipUrl,n.layerClipId,u)}})})}function r(u,n,i,s){var o=[],m=[],c=s?n:i,b=s?i:n;return o[0]=c.c2p(u.s0,!0),m[0]=b.c2p(u.p0,!0),o[1]=c.c2p(u.s1,!0),m[1]=b.c2p(u.p1,!0),o[2]=c.c2p(u.nextS0,!0),m[2]=b.c2p(u.nextP0,!0),o[3]=c.c2p(u.nextS1,!0),m[3]=b.c2p(u.nextP1,!0),s?[o,m]:[m,o]}},68266:function(W,V,e){var y=e(39898),C=e(91424),a=e(7901),L=e(37822).DESELECTDIM,x=e(16688),h=e(72597).resizeText,d=x.styleTextPoints;function t(r,u,n){var i=n||y.select(r).selectAll("g.funnellayer").selectAll("g.trace");h(r,i,"funnel"),i.style("opacity",function(s){return s[0].trace.opacity}),i.each(function(s){var o=y.select(this),m=s[0].trace;o.selectAll(".point > path").each(function(c){if(!c.isBlank){var b=m.marker;y.select(this).call(a.fill,c.mc||b.color).call(a.stroke,c.mlc||b.line.color).call(C.dashLine,b.line.dash,c.mlw||b.line.width).style("opacity",m.selectedpoints&&!c.selected?L:1)}}),d(o,m,r),o.selectAll(".regions").each(function(){y.select(this).selectAll("path").style("stroke-width",0).call(a.fill,m.connector.fillcolor)}),o.selectAll(".lines").each(function(){var c=m.connector.line;C.lineGroupStyle(y.select(this).selectAll("path"),c.width,c.color,c.dash)})})}W.exports={style:t}},86807:function(W,V,e){var y=e(34e3),C=e(9012),a=e(27670).Y,L=e(5386).fF,x=e(5386).si,h=e(1426).extendFlat;W.exports={labels:y.labels,label0:y.label0,dlabel:y.dlabel,values:y.values,marker:{colors:y.marker.colors,line:{color:h({},y.marker.line.color,{dflt:null}),width:h({},y.marker.line.width,{dflt:1}),editType:"calc"},pattern:y.marker.pattern,editType:"calc"},text:y.text,hovertext:y.hovertext,scalegroup:h({},y.scalegroup,{}),textinfo:h({},y.textinfo,{flags:["label","text","value","percent"]}),texttemplate:x({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:h({},C.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:h({},y.textposition,{values:["inside","none"],dflt:"inside"}),textfont:y.textfont,insidetextfont:y.insidetextfont,title:{text:y.title.text,font:y.title.font,position:h({},y.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(W,V,e){var y=e(74875);V.name="funnelarea",V.plot=function(C,a,L,x){y.plotBasePlot(V.name,C,a,L,x)},V.clean=function(C,a,L,x){y.cleanBasePlot(V.name,C,a,L,x)}},89574:function(W,V,e){var y=e(32354);function C(L,x){return y.calc(L,x)}function a(L){y.crossTraceCalc(L,{type:"funnelarea"})}W.exports={calc:C,crossTraceCalc:a}},86282:function(W,V,e){var y=e(71828),C=e(86807),a=e(27670).c,L=e(90769).handleText,x=e(37434).handleLabelsAndValues,h=e(37434).handleMarkerDefaults;W.exports=function(t,r,u,n){function i(M,R){return y.coerce(t,r,C,M,R)}var s=i("labels"),o=i("values"),m=x(s,o),c=m.len;if(r._hasLabels=m.hasLabels,r._hasValues=m.hasValues,!r._hasLabels&&r._hasValues&&(i("label0"),i("dlabel")),!c){r.visible=!1;return}r._length=c,h(t,r,n,i),i("scalegroup");var b=i("text"),v=i("texttemplate"),l;if(v||(l=i("textinfo",Array.isArray(b)?"text+percent":"percent")),i("hovertext"),i("hovertemplate"),v||l&&l!=="none"){var p=i("textposition");L(t,r,n,i,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(r,n,i);var S=i("title.text");S&&(i("title.position"),y.coerceFont(i,"title.font",n.font)),i("aspectratio"),i("baseratio")}},10421:function(W,V,e){W.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(W,V,e){var y=e(92774).hiddenlabels;W.exports={hiddenlabels:y,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(W,V,e){var y=e(71828),C=e(80097);W.exports=function(L,x){function h(d,t){return y.coerce(L,x,C,d,t)}h("hiddenlabels"),h("funnelareacolorway",x.colorway),h("extendfunnelareacolors")}},79187:function(W,V,e){var y=e(39898),C=e(91424),a=e(71828),L=a.strScale,x=a.strTranslate,h=e(63893),d=e(17295),t=d.toMoveInsideBar,r=e(72597),u=r.recordMinTextSize,n=r.clearMinTextSize,i=e(53581),s=e(14575),o=s.attachFxHandlers,m=s.determineInsideTextFont,c=s.layoutAreas,b=s.prerenderTitles,v=s.positionTitleOutside,l=s.formatSliceLabel;W.exports=function(T,E){var A=T._context.staticPlot,f=T._fullLayout;n("funnelarea",f),b(E,T),c(E,f._size),a.makeTraceGroups(f._funnelarealayer,E,"trace").each(function(P){var w=y.select(this),z=P[0],F=z.trace;M(P),w.each(function(){var H=y.select(this).selectAll("g.slice").data(P);H.enter().append("g").classed("slice",!0),H.exit().remove(),H.each(function(B,N){if(B.hidden){y.select(this).selectAll("path,g").remove();return}B.pointNumber=B.i,B.curveNumber=F.index;var O=z.cx,U=z.cy,K=y.select(this),re=K.selectAll("path.surface").data([B]);re.enter().append("path").classed("surface",!0).style({"pointer-events":A?"none":"all"}),K.call(o,T,P);var ae="M"+(O+B.TR[0])+","+(U+B.TR[1])+p(B.TR,B.BR)+p(B.BR,B.BL)+p(B.BL,B.TL)+"Z";re.attr("d",ae),l(T,B,z);var ue=i.castOption(F.textposition,B.pts),ve=K.selectAll("g.slicetext").data(B.text&&ue!=="none"?[0]:[]);ve.enter().append("g").classed("slicetext",!0),ve.exit().remove(),ve.each(function(){var ee=a.ensureSingle(y.select(this),"text","",function(ie){ie.attr("data-notex",1)}),J=a.ensureUniformFontSize(T,m(F,B,f.font));ee.text(B.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(C.font,J).call(h.convertToTspans,T);var Q=C.bBox(ee.node()),X,q,se,Y=Math.min(B.BL[1],B.BR[1])+U,Z=Math.max(B.TL[1],B.TR[1])+U;q=Math.max(B.TL[0],B.BL[0])+O,se=Math.min(B.TR[0],B.BR[0])+O,X=t(q,se,Y,Z,Q,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=J.size,u(F.type,X,f),P[N].transform=X,a.setTransormAndDisplay(ee,X)})});var _=y.select(this).selectAll("g.titletext").data(F.title.text?[0]:[]);_.enter().append("g").classed("titletext",!0),_.exit().remove(),_.each(function(){var B=a.ensureSingle(y.select(this),"text","",function(U){U.attr("data-notex",1)}),N=F.title.text;F._meta&&(N=a.templateString(N,F._meta)),B.text(N).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(C.font,F.title.font).call(h.convertToTspans,T);var O=v(z,f._size);B.attr("transform",x(O.x,O.y)+L(Math.min(1,O.scale))+x(O.tx,O.ty))})})})};function p(R,T){var E=T[0]-R[0],A=T[1]-R[1];return"l"+E+","+A}function S(R,T){return[.5*(R[0]+T[0]),.5*(R[1]+T[1])]}function M(R){if(!R.length)return;var T=R[0],E=T.trace,A=E.aspectratio,f=E.baseratio;f>.999&&(f=.999);var P=Math.pow(f,2),w=T.vTotal,z=w*P/(1-P),F=w,H=z/w;function _(){var te=Math.sqrt(H);return{x:te,y:-te}}function B(){var te=_();return[te.x,te.y]}var N,O=[];O.push(B());var U,K;for(U=R.length-1;U>-1;U--)if(K=R[U],!K.hidden){var re=K.v/F;H+=re,O.push(B())}var ae=1/0,ue=-1/0;for(U=0;U<O.length;U++)N=O[U],ae=Math.min(ae,N[1]),ue=Math.max(ue,N[1]);for(U=0;U<O.length;U++)O[U][1]-=(ue+ae)/2;var ve=O[O.length-1][0],ee=T.r,J=(ue-ae)/2,Q=ee/ve,X=ee/J*A;for(T.r=X*J,U=0;U<O.length;U++)O[U][0]*=Q,O[U][1]*=X;N=O[0];var q=[-N[0],N[1]],se=[N[0],N[1]],Y=0;for(U=R.length-1;U>-1;U--)if(K=R[U],!K.hidden){Y+=1;var Z=O[Y][0],ie=O[Y][1];K.TL=[-Z,ie],K.TR=[Z,ie],K.BL=q,K.BR=se,K.pxmid=S(K.TR,K.BR),q=K.TL,se=K.TR}}},71858:function(W,V,e){var y=e(39898),C=e(63463),a=e(72597).resizeText;W.exports=function(x){var h=x._fullLayout._funnelarealayer.selectAll(".trace");a(x,h,"funnelarea"),h.each(function(d){var t=d[0],r=t.trace,u=y.select(this);u.style({opacity:r.opacity}),u.selectAll("path.surface").each(function(n){y.select(this).call(C,n,r,x)})})}},21606:function(W,V,e){var y=e(82196),C=e(9012),a=e(41940),L=e(12663).axisHoverFormat,x=e(5386).fF,h=e(5386).si,d=e(50693),t=e(1426).extendFlat;W.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},y.x,{impliedEdits:{xtype:"array"}}),x0:t({},y.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},y.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},y.y,{impliedEdits:{ytype:"array"}}),y0:t({},y.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},y.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},y.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},y.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},y.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},y.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},y.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},y.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:x(),texttemplate:h({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},C.showlegend,{dflt:!1})},{transforms:void 0},d("",{cLetter:"z",autoColorDflt:!1}))},90757:function(W,V,e){var y=e(73972),C=e(71828),a=e(89298),L=e(42973),x=e(17562),h=e(78803),d=e(68296),t=e(4742),r=e(824),u=e(43907),n=e(70769),i=e(50606).BADNUM;W.exports=function(c,b){var v=a.getFromId(c,b.xaxis||"x"),l=a.getFromId(c,b.yaxis||"y"),p=y.traceIs(b,"contour"),S=y.traceIs(b,"histogram"),M=y.traceIs(b,"gl2d"),R=p?"best":b.zsmooth,T,E,A,f,P,w,z,F,H,_,B;if(v._minDtick=0,l._minDtick=0,S)B=x(c,b),f=B.orig_x,T=B.x,E=B.x0,A=B.dx,F=B.orig_y,P=B.y,w=B.y0,z=B.dy,H=B.z;else{var N=b.z;C.isArray1D(N)?(d(b,v,l,"x","y",["z"]),T=b._x,P=b._y,N=b._z):(f=b.x?v.makeCalcdata(b,"x"):[],F=b.y?l.makeCalcdata(b,"y"):[],T=L(b,v,"x",f).vals,P=L(b,l,"y",F).vals,b._x=T,b._y=P),E=b.x0,A=b.dx,w=b.y0,z=b.dy,H=t(N,b,v,l)}(v.rangebreaks||l.rangebreaks)&&(H=o(T,P,H),S||(T=s(T),P=s(P),b._x=T,b._y=P)),!S&&(p||b.connectgaps)&&(b._emptypoints=u(H),r(H,b._emptypoints));function O(Q){R=b._input.zsmooth=b.zsmooth=!1,C.warn('cannot use zsmooth: "fast": '+Q)}function U(Q){if(Q.length>1){var X=(Q[Q.length-1]-Q[0])/(Q.length-1),q=Math.abs(X/100);for(_=0;_<Q.length-1;_++)if(Math.abs(Q[_+1]-Q[_]-X)>q)return!1}return!0}b._islinear=!1,v.type==="log"||l.type==="log"?R==="fast"&&O("log axis found"):U(T)?U(P)?b._islinear=!0:R==="fast"&&O("y scale is not linear"):R==="fast"&&O("x scale is not linear");var K=C.maxRowLength(H),re=b.xtype==="scaled"?"":T,ae=n(b,re,E,A,K,v),ue=b.ytype==="scaled"?"":P,ve=n(b,ue,w,z,H.length,l);M||(b._extremes[v._id]=a.findExtremes(v,ae),b._extremes[l._id]=a.findExtremes(l,ve));var ee={x:ae,y:ve,z:H,text:b._text||b.text,hovertext:b._hovertext||b.hovertext};if(b.xperiodalignment&&f&&(ee.orig_x=f),b.yperiodalignment&&F&&(ee.orig_y=F),re&&re.length===ae.length-1&&(ee.xCenter=re),ue&&ue.length===ve.length-1&&(ee.yCenter=ue),S&&(ee.xRanges=B.xRanges,ee.yRanges=B.yRanges,ee.pts=B.pts),p||h(c,b,{vals:H,cLetter:"z"}),p&&b.contours&&b.contours.coloring==="heatmap"){var J={type:b.type==="contour"?"heatmap":"histogram2d",xcalendar:b.xcalendar,ycalendar:b.ycalendar};ee.xfill=n(J,re,E,A,K,v),ee.yfill=n(J,ue,w,z,H.length,l)}return[ee]};function s(m){for(var c=[],b=m.length,v=0;v<b;v++){var l=m[v];l!==i&&c.push(l)}return c}function o(m,c,b){for(var v=[],l=-1,p=0;p<b.length;p++)if(c[p]!==i){l++,v[l]=[];for(var S=0;S<b[p].length;S++)m[S]!==i&&v[l].push(b[p][S])}return v}},4742:function(W,V,e){var y=e(92770),C=e(71828),a=e(50606).BADNUM;W.exports=function(x,h,d,t){var r,u,n,i,s,o;function m(S){if(y(S))return+S}if(h&&h.transpose){for(r=0,s=0;s<x.length;s++)r=Math.max(r,x[s].length);if(r===0)return!1;n=function(S){return S.length},i=function(S,M,R){return(S[R]||[])[M]}}else r=x.length,n=function(S,M){return S[M].length},i=function(S,M,R){return(S[M]||[])[R]};var c=function(S,M,R){return M===a||R===a?a:i(S,M,R)};function b(S){if(h&&h.type!=="carpet"&&h.type!=="contourcarpet"&&S&&S.type==="category"&&h["_"+S._id.charAt(0)].length){var M=S._id.charAt(0),R={},T=h["_"+M+"CategoryMap"]||h[M];for(s=0;s<T.length;s++)R[T[s]]=s;return function(E){var A=R[S._categories[E]];return A+1?A:a}}else return C.identity}var v=b(d),l=b(t);t&&t.type==="category"&&(r=t._categories.length);var p=new Array(r);for(s=0;s<r;s++)for(d&&d.type==="category"?u=d._categories.length:u=n(x,s),p[s]=new Array(u),o=0;o<u;o++)p[s][o]=m(c(x,l(s),v(o)));return p}},61243:function(W){W.exports={min:"zmin",max:"zmax"}},68296:function(W,V,e){var y=e(71828),C=e(50606).BADNUM,a=e(42973);W.exports=function(x,h,d,t,r,u){var n=x._length,i=h.makeCalcdata(x,t),s=d.makeCalcdata(x,r);i=a(x,h,t,i).vals,s=a(x,d,r,s).vals;var o=x.text,m=o!==void 0&&y.isArray1D(o),c=x.hovertext,b=c!==void 0&&y.isArray1D(c),v,l,p=y.distinctVals(i),S=p.vals,M=y.distinctVals(s),R=M.vals,T=[],E,A,f=R.length,P=S.length;for(v=0;v<u.length;v++)T[v]=y.init2dArray(f,P);m&&(E=y.init2dArray(f,P)),b&&(A=y.init2dArray(f,P));var w=y.init2dArray(f,P);for(v=0;v<n;v++)if(i[v]!==C&&s[v]!==C){var z=y.findBin(i[v]+p.minDiff/2,S),F=y.findBin(s[v]+M.minDiff/2,R);for(l=0;l<u.length;l++){var H=u[l],_=x[H],B=T[l];B[F][z]=_[v],w[F][z]=v}m&&(E[F][z]=o[v]),b&&(A[F][z]=c[v])}for(x["_"+t]=S,x["_"+r]=R,l=0;l<u.length;l++)x["_"+u[l]]=T[l];m&&(x._text=E),b&&(x._hovertext=A),h&&h.type==="category"&&(x["_"+t+"CategoryMap"]=S.map(function(N){return h._categories[N]})),d&&d.type==="category"&&(x["_"+r+"CategoryMap"]=R.map(function(N){return d._categories[N]})),x._after2before=w}},76382:function(W,V,e){var y=e(71828),C=e(67684),a=e(58623),L=e(73927),x=e(49901),h=e(1586),d=e(21606);W.exports=function(r,u,n,i){function s(m,c){return y.coerce(r,u,d,m,c)}var o=C(r,u,s,i);if(!o){u.visible=!1;return}L(r,u,i,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hovertemplate"),a(s,i),x(r,u,s,i),s("hoverongaps"),s("connectgaps",y.isArray1D(u.z)&&u.zsmooth!==!1),h(r,u,i,s,{prefix:"",cLetter:"z"})}},43907:function(W,V,e){var y=e(71828).maxRowLength;W.exports=function(a){var L=[],x={},h=[],d=a[0],t=[],r=[0,0,0],u=y(a),n,i,s,o,m,c,b,v;for(i=0;i<a.length;i++)for(n=t,t=d,d=a[i+1]||[],s=0;s<u;s++)t[s]===void 0&&(c=(t[s-1]!==void 0?1:0)+(t[s+1]!==void 0?1:0)+(n[s]!==void 0?1:0)+(d[s]!==void 0?1:0),c?(i===0&&c++,s===0&&c++,i===a.length-1&&c++,s===t.length-1&&c++,c<4&&(x[[i,s]]=[i,s,c]),L.push([i,s,c])):h.push([i,s]));for(;h.length;){for(b={},v=!1,m=h.length-1;m>=0;m--)o=h[m],i=o[0],s=o[1],c=((x[[i-1,s]]||r)[2]+(x[[i+1,s]]||r)[2]+(x[[i,s-1]]||r)[2]+(x[[i,s+1]]||r)[2])/20,c&&(b[o]=[i,s,c],h.splice(m,1),v=!0);if(!v)throw"findEmpties iterated with no new neighbors";for(o in b)x[o]=b[o],L.push(b[o])}return L.sort(function(l,p){return p[2]-l[2]})}},46248:function(W,V,e){var y=e(30211),C=e(71828),a=e(89298),L=e(21081).extractOpts;W.exports=function(h,d,t,r,u){u||(u={});var n=u.isContour,i=h.cd[0],s=i.trace,o=h.xa,m=h.ya,c=i.x,b=i.y,v=i.z,l=i.xCenter,p=i.yCenter,S=i.zmask,M=s.zhoverformat,R=c,T=b,E,A,f,P;if(h.index!==!1){try{f=Math.round(h.index[1]),P=Math.round(h.index[0])}catch{C.error("Error hovering on heatmap, pointNumber must be [row,col], found:",h.index);return}if(f<0||f>=v[0].length||P<0||P>v.length)return}else{if(y.inbox(d-c[0],d-c[c.length-1],0)>0||y.inbox(t-b[0],t-b[b.length-1],0)>0)return;if(n){var w;for(R=[2*c[0]-c[1]],w=1;w<c.length;w++)R.push((c[w]+c[w-1])/2);for(R.push([2*c[c.length-1]-c[c.length-2]]),T=[2*b[0]-b[1]],w=1;w<b.length;w++)T.push((b[w]+b[w-1])/2);T.push([2*b[b.length-1]-b[b.length-2]])}f=Math.max(0,Math.min(R.length-2,C.findBin(d,R))),P=Math.max(0,Math.min(T.length-2,C.findBin(t,T)))}var z=o.c2p(c[f]),F=o.c2p(c[f+1]),H=m.c2p(b[P]),_=m.c2p(b[P+1]),B,N;n?(B=i.orig_x||c,N=i.orig_y||b,F=z,E=B[f],_=H,A=N[P]):(B=i.orig_x||l||c,N=i.orig_y||p||b,E=l?B[f]:(B[f]+B[f+1])/2,A=p?N[P]:(N[P]+N[P+1])/2,o&&o.type==="category"&&(E=c[f]),m&&m.type==="category"&&(A=b[P]),s.zsmooth&&(z=F=o.c2p(E),H=_=m.c2p(A)));var O=v[P][f];if(S&&!S[P][f]&&(O=void 0),!(O===void 0&&!s.hoverongaps)){var U;Array.isArray(i.hovertext)&&Array.isArray(i.hovertext[P])?U=i.hovertext[P][f]:Array.isArray(i.text)&&Array.isArray(i.text[P])&&(U=i.text[P][f]);var K=L(s),re={type:"linear",range:[K.min,K.max],hoverformat:M,_separators:o._separators,_numFormat:o._numFormat},ae=a.tickText(re,O,"hover").text;return[C.extendFlat(h,{index:s._after2before?s._after2before[P][f]:[P,f],distance:h.maxHoverDistance,spikeDistance:h.maxSpikeDistance,x0:z,x1:F,y0:H,y1:_,xLabelVal:E,yLabelVal:A,zLabelVal:O,zLabel:ae,text:U})]}}},92165:function(W,V,e){W.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(W,V,e){var y=e(71828),C=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function L(h){return .5-.25*Math.min(1,h*.5)}W.exports=function(d,t){var r=1,u;for(x(d,t),u=0;u<t.length&&!(t[u][2]<4);u++);for(t=t.slice(u),u=0;u<100&&r>C;u++)r=x(d,t,L(r));return r>C&&y.log("interp2d didn't converge quickly",r),d};function x(h,d,t){var r=0,u,n,i,s,o,m,c,b,v,l,p,S,M;for(s=0;s<d.length;s++){for(u=d[s],n=u[0],i=u[1],p=h[n][i],l=0,v=0,o=0;o<4;o++)m=a[o],c=h[n+m[0]],c&&(b=c[i+m[1]],b!==void 0&&(l===0?S=M=b:(S=Math.min(S,b),M=Math.max(M,b)),v++,l+=b));if(v===0)throw"iterateInterp2d order is wrong: no defined neighbors";h[n][i]=l/v,p===void 0?v<4&&(r=1):(h[n][i]=(1+t)*h[n][i]-t*p,M>S&&(r=Math.max(r,Math.abs(h[n][i]-p)/(M-S))))}return r}},58623:function(W,V,e){var y=e(71828);W.exports=function(a,L){a("texttemplate");var x=y.extendFlat({},L.font,{color:"auto",size:"auto"});y.coerceFont(a,"textfont",x)}},70769:function(W,V,e){var y=e(73972),C=e(71828).isArrayOrTypedArray;W.exports=function(L,x,h,d,t,r){var u=[],n=y.traceIs(L,"contour"),i=y.traceIs(L,"histogram"),s=y.traceIs(L,"gl2d"),o,m,c,b=C(x)&&x.length>1;if(b&&!i&&r.type!=="category"){var v=x.length;if(v<=t){if(n||s)u=x.slice(0,t);else if(t===1)u=[x[0]-.5,x[0]+.5];else{for(u=[1.5*x[0]-.5*x[1]],c=1;c<v;c++)u.push((x[c-1]+x[c])*.5);u.push(1.5*x[v-1]-.5*x[v-2])}if(v<t){var l=u[u.length-1],p=l-u[u.length-2];for(c=v;c<t;c++)l+=p,u.push(l)}}else return n?x.slice(0,t):x.slice(0,t+1)}else{var S=L[r._id.charAt(0)+"calendar"];if(i)o=r.r2c(h,0,S);else if(C(x)&&x.length===1)o=x[0];else if(h===void 0)o=0;else{var M=r.type==="log"?r.d2c:r.r2c;o=M(h,0,S)}for(m=d||1,c=n||s?0:-.5;c<t;c++)u.push(o+m*c)}return u}},50347:function(W,V,e){var y=e(39898),C=e(84267),a=e(73972),L=e(91424),x=e(89298),h=e(71828),d=e(63893),t=e(8225),r=e(7901),u=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,i=e(77922),s=e(18783),o=s.LINE_SPACING,m=e(3883),c=e(32396).STYLE,b="heatmap-label";function v(R){return R.selectAll("g."+b)}function l(R){v(R).remove()}W.exports=function(R,T,E,A){var f=T.xaxis,P=T.yaxis;h.makeTraceGroups(A,E,"hm").each(function(w){var z=y.select(this),F=w[0],H=F.trace,_=H.xgap||0,B=H.ygap||0,N=F.z,O=F.x,U=F.y,K=F.xCenter,re=F.yCenter,ae=a.traceIs(H,"contour"),ue=ae?"best":H.zsmooth,ve=N.length,ee=h.maxRowLength(N),J=!1,Q=!1,X,q,se,Y,Z,ie,te,fe;for(ie=0;X===void 0&&ie<O.length-1;)X=f.c2p(O[ie]),ie++;for(ie=O.length-1;q===void 0&&ie>0;)q=f.c2p(O[ie]),ie--;for(q<X&&(se=q,q=X,X=se,J=!0),ie=0;Y===void 0&&ie<U.length-1;)Y=P.c2p(U[ie]),ie++;for(ie=U.length-1;Z===void 0&&ie>0;)Z=P.c2p(U[ie]),ie--;Z<Y&&(se=Y,Y=Z,Z=se,Q=!0),ae&&(K=O,re=U,O=F.xfill,U=F.yfill);var de="default";if(ue?de=ue==="best"?"smooth":"fast":H._islinear&&_===0&&B===0&&m()&&(de="fast"),de!=="fast"){var we=ue==="best"?0:.5;X=Math.max(-we*f._length,X),q=Math.min((1+we)*f._length,q),Y=Math.max(-we*P._length,Y),Z=Math.min((1+we)*P._length,Z)}var Ae=Math.round(q-X),Re=Math.round(Z-Y),Fe=X>=f._length||q<=0||Y>=P._length||Z<=0;if(Fe){var Se=z.selectAll("image").data([]);Se.exit().remove(),l(z);return}var Te,Ee;de==="fast"?(Te=ee,Ee=ve):(Te=Ae,Ee=Re);var Ne=document.createElement("canvas");Ne.width=Te,Ne.height=Ee;var He=Ne.getContext("2d"),_e=n(H,{noNumericCheck:!0,returnArray:!0}),We,tt;de==="fast"?(We=J?function(en){return ee-1-en}:h.identity,tt=Q?function(en){return ve-1-en}:h.identity):(We=function(en){return h.constrain(Math.round(f.c2p(O[en])-X),0,Ae)},tt=function(en){return h.constrain(Math.round(P.c2p(U[en])-Y),0,Re)});var Ke=tt(0),qe=[Ke,Ke],rt=J?0:1,ft=Q?0:1,pt=0,gt=0,Mt=0,Lt=0,Wt,Je,ze,Oe,Ue;function ke(en,dn){if(en!==void 0){var cn=_e(en);return cn[0]=Math.round(cn[0]),cn[1]=Math.round(cn[1]),cn[2]=Math.round(cn[2]),pt+=dn,gt+=cn[0]*dn,Mt+=cn[1]*dn,Lt+=cn[2]*dn,cn}return[0,0,0,0]}function Me(en,dn,cn,An){var Rn=en[cn.bin0];if(Rn===void 0)return ke(void 0,1);var Jn=en[cn.bin1],ta=dn[cn.bin0],fa=dn[cn.bin1],na=Jn-Rn||0,ra=ta-Rn||0,Sr;return Jn===void 0?fa===void 0?Sr=0:ta===void 0?Sr=2*(fa-Rn):Sr=(2*fa-ta-Rn)*2/3:fa===void 0?ta===void 0?Sr=0:Sr=(2*Rn-Jn-ta)*2/3:ta===void 0?Sr=(2*fa-Jn-Rn)*2/3:Sr=fa+Rn-Jn-ta,ke(Rn+cn.frac*na+An.frac*(ra+cn.frac*Sr))}if(de!=="default"){var ce=0,be;try{be=new Uint8Array(Te*Ee*4)}catch{be=new Array(Te*Ee*4)}if(de==="smooth"){var De=K||O,Ve=re||U,it=new Array(De.length),ot=new Array(Ve.length),Tt=new Array(Ae),It=K?S:p,Ht=re?S:p,Gt,Pt,Jt;for(ie=0;ie<De.length;ie++)it[ie]=Math.round(f.c2p(De[ie])-X);for(ie=0;ie<Ve.length;ie++)ot[ie]=Math.round(P.c2p(Ve[ie])-Y);for(ie=0;ie<Ae;ie++)Tt[ie]=It(ie,it);for(te=0;te<Re;te++)for(Gt=Ht(te,ot),Pt=N[Gt.bin0],Jt=N[Gt.bin1],ie=0;ie<Ae;ie++,ce+=4)Ue=Me(Pt,Jt,Tt[ie],Gt),M(be,ce,Ue)}else for(te=0;te<ve;te++)for(Oe=N[te],qe=tt(te),ie=0;ie<ee;ie++)Ue=ke(Oe[ie],1),ce=(qe*ee+We(ie))*4,M(be,ce,Ue);var or=He.createImageData(Te,Ee);try{or.data.set(be)}catch{var zr=or.data,mt=zr.length;for(te=0;te<mt;te++)zr[te]=be[te]}He.putImageData(or,0,0)}else{var Kt=Math.floor(_/2),jt=Math.floor(B/2);for(te=0;te<ve;te++)if(Oe=N[te],qe.reverse(),qe[ft]=tt(te+1),!(qe[0]===qe[1]||qe[0]===void 0||qe[1]===void 0))for(Je=We(0),Wt=[Je,Je],ie=0;ie<ee;ie++)Wt.reverse(),Wt[rt]=We(ie+1),!(Wt[0]===Wt[1]||Wt[0]===void 0||Wt[1]===void 0)&&(ze=Oe[ie],Ue=ke(ze,(Wt[1]-Wt[0])*(qe[1]-qe[0])),He.fillStyle="rgba("+Ue.join(",")+")",He.fillRect(Wt[0]+Kt,qe[0]+jt,Wt[1]-Wt[0]-_,qe[1]-qe[0]-B))}gt=Math.round(gt/pt),Mt=Math.round(Mt/pt),Lt=Math.round(Lt/pt);var wr=C("rgb("+gt+","+Mt+","+Lt+")");R._hmpixcount=(R._hmpixcount||0)+pt,R._hmlumcount=(R._hmlumcount||0)+pt*wr.getLuminance();var vr=z.selectAll("image").data(w);vr.enter().append("svg:image").attr({xmlns:i.svg,preserveAspectRatio:"none"}),vr.attr({height:Re,width:Ae,x:X,y:Y,"xlink:href":Ne.toDataURL("image/png")}),de==="fast"&&!ue&&vr.attr("style",c),l(z);var ct=H.texttemplate;if(ct){var ut=u(H),bt={type:"linear",range:[ut.min,ut.max],_separators:f._separators,_numFormat:f._numFormat},At=H.type==="histogram2dcontour",Ct=H.type==="contour",St=Ct?1:0,zt=Ct?ve-1:ve,Vt=Ct?1:0,qt=Ct?ee-1:ee,$t=[];for(ie=St;ie<zt;ie++){var sr;if(Ct)sr=F.y[ie];else if(At){if(ie===0||ie===ve-1)continue;sr=F.y[ie]}else if(F.yCenter)sr=F.yCenter[ie];else{if(ie+1===ve&&F.y[ie+1]===void 0)continue;sr=(F.y[ie]+F.y[ie+1])/2}var Cr=Math.round(P.c2p(sr));if(!(0>Cr||Cr>P._length))for(te=Vt;te<qt;te++){var Ze;if(Ct)Ze=F.x[te];else if(At){if(te===0||te===ee-1)continue;Ze=F.x[te]}else if(F.xCenter)Ze=F.xCenter[te];else{if(te+1===ee&&F.x[te+1]===void 0)continue;Ze=(F.x[te]+F.x[te+1])/2}var je=Math.round(f.c2p(Ze));if(!(0>je||je>f._length)){var kt=t({x:Ze,y:sr},H,R._fullLayout);kt.x=Ze,kt.y=sr;var _t=F.z[ie][te];_t===void 0?(kt.z="",kt.zLabel=""):(kt.z=_t,kt.zLabel=x.tickText(bt,_t,"hover").text);var Zt=F.text&&F.text[ie]&&F.text[ie][te];(Zt===void 0||Zt===!1)&&(Zt=""),kt.text=Zt;var ar=h.texttemplateString(ct,kt,R._fullLayout._d3locale,kt,H._meta||{});if(ar){var ur=ar.split("<br>"),nr=ur.length,Ot=0;for(fe=0;fe<nr;fe++)Ot=Math.max(Ot,ur[fe].length);$t.push({l:nr,c:Ot,t:ar,x:je,y:Cr,z:_t})}}}}var cr=H.textfont,pr=cr.family,gr=cr.size,dr=R._fullLayout.font.size;if(!gr||gr==="auto"){var Gr=1/0,kr=1/0,Fr=0,gn=0;for(fe=0;fe<$t.length;fe++){var Kr=$t[fe];if(Fr=Math.max(Fr,Kr.l),gn=Math.max(gn,Kr.c),fe<$t.length-1){var kn=$t[fe+1],In=Math.abs(kn.x-Kr.x),br=Math.abs(kn.y-Kr.y);In&&(Gr=Math.min(Gr,In)),br&&(kr=Math.min(kr,br))}}!isFinite(Gr)||!isFinite(kr)?gr=dr:(Gr-=_,kr-=B,Gr/=gn,kr/=Fr,Gr/=o/2,kr/=o,gr=Math.min(Math.floor(Gr),Math.floor(kr),dr))}if(gr<=0||!isFinite(gr))return;var Mr=function(en){return en.x},Br=function(en){return en.y-gr*(en.l*o/2-1)},Nr=v(z).data($t);Nr.enter().append("g").classed(b,1).append("text").attr("text-anchor","middle").each(function(en){var dn=y.select(this),cn=cr.color;(!cn||cn==="auto")&&(cn=r.contrast("rgba("+_e(en.z).join()+")")),dn.attr("data-notex",1).call(d.positionText,Mr(en),Br(en)).call(L.font,pr,gr,cn).text(en.t).call(d.convertToTspans,R)})}})};function p(R,T){var E=T.length-2,A=h.constrain(h.findBin(R,T),0,E),f=T[A],P=T[A+1],w=h.constrain(A+(R-f)/(P-f)-.5,0,E),z=Math.round(w),F=Math.abs(w-z);return!w||w===E||!F?{bin0:z,bin1:z,frac:0}:{bin0:z,frac:F,bin1:Math.round(z+F/(w-z))}}function S(R,T){var E=T.length-1,A=h.constrain(h.findBin(R,T),0,E),f=T[A],P=T[A+1],w=(R-f)/(P-f)||0;return w<=0?{bin0:A,bin1:A,frac:0}:w<.5?{bin0:A,bin1:A+1,frac:w}:{bin0:A+1,bin1:A,frac:1-w}}function M(R,T,E){R[T]=E[0],R[T+1]=E[1],R[T+2]=E[2],R[T+3]=Math.round(E[3]*255)}},70035:function(W,V,e){var y=e(39898);W.exports=function(a){y.select(a).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},49901:function(W){W.exports=function(e,y,C){var a=C("zsmooth");a===!1&&(C("xgap"),C("ygap")),C("zhoverformat")}},67684:function(W,V,e){var y=e(92770),C=e(71828),a=e(73972);W.exports=function(d,t,r,u,n,i){var s=r("z");n=n||"x",i=i||"y";var o,m;if(s===void 0||!s.length)return 0;if(C.isArray1D(d.z)){o=r(n),m=r(i);var c=C.minRowLength(o),b=C.minRowLength(m);if(c===0||b===0)return 0;t._length=Math.min(c,b,s.length)}else{if(o=L(n,r),m=L(i,r),!x(s))return 0;r("transpose"),t._length=null}if(d.type==="heatmapgl")return!0;var v=a.getComponentMethod("calendars","handleTraceDefaults");return v(d,t,[n,i],u),!0};function L(h,d){var t=d(h),r=t?d(h+"type","array"):"scaled";return r==="scaled"&&(d(h+"0"),d("d"+h)),t}function x(h){for(var d=!0,t=!1,r=!1,u,n=0;n<h.length;n++){if(u=h[n],!C.isArrayOrTypedArray(u)){d=!1;break}u.length>0&&(t=!0);for(var i=0;i<u.length;i++)if(y(u[i])){r=!0;break}}return d&&t&&r}},16063:function(W,V,e){for(var y=e(21606),C=e(50693),a=e(1426).extendFlat,L=e(30962).overrideAll,x=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],h={},d=0;d<x.length;d++){var t=x[d];h[t]=y[t]}h.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(h,C("",{cLetter:"z",autoColorDflt:!1})),W.exports=L(h,"calc","nested")},59560:function(W,V,e){var y=e(9330).gl_heatmap2d,C=e(89298),a=e(78614);function L(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=y(t.glplot,this.options),this.heatmap._trace=this}var x=L.prototype;x.handlePick=function(t){var r=this.options,u=r.shape,n=t.pointId,i=n%u[0],s=Math.floor(n/u[0]),o=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[i],r.y[s],r.z[o]],textLabel:this.textLabels[n],name:this.name,pointIndex:[s,i],hoverinfo:this.hoverinfo}},x.update=function(t,r){var u=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var n=u.z;this.options.z=[].concat.apply([],n);var i=n[0].length,s=n.length;this.options.shape=[i,s],this.options.x=u.x,this.options.y=u.y,this.options.zsmooth=t.zsmooth;var o=h(t);this.options.colorLevels=o.colorLevels,this.options.colorValues=o.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var m=this.scene.xaxis,c=this.scene.yaxis,b,v;t.zsmooth===!1&&(b={ppad:u.x[1]-u.x[0]},v={ppad:u.y[1]-u.y[0]}),t._extremes[m._id]=C.findExtremes(m,u.x,b),t._extremes[c._id]=C.findExtremes(c,u.y,v)},x.dispose=function(){this.heatmap.dispose()};function h(t){for(var r=t.colorscale,u=t.zmin,n=t.zmax,i=r.length,s=new Array(i),o=new Array(4*i),m=0;m<i;m++){var c=r[m],b=a(c[1]);s[m]=u+c[0]*(n-u);for(var v=0;v<4;v++)o[4*m+v]=b[v]}return{colorLevels:s,colorValues:o}}function d(t,r,u){var n=new L(t,r.uid);return n.update(r,u),n}W.exports=d},19600:function(W,V,e){var y=e(71828),C=e(67684),a=e(1586),L=e(16063);W.exports=function(h,d,t,r){function u(i,s){return y.coerce(h,d,L,i,s)}var n=C(h,d,u,r);if(!n){d.visible=!1;return}u("text"),u("zsmooth"),a(h,d,r,u,{prefix:"",cLetter:"z"})}},3325:function(W,V,e){W.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(W,V,e){var y=e(1486),C=e(12663).axisHoverFormat,a=e(5386).fF,L=e(5386).si,x=e(41940),h=e(17656),d=e(72406),t=e(1426).extendFlat;W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:C("x"),yhoverformat:C("y"),text:t({},y.text,{}),hovertext:t({},y.hovertext,{}),orientation:y.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:h("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:h("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:d.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},y.textposition,{arrayOk:!1}),textfont:x({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:x({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:x({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:y.insidetextanchor,textangle:y.textangle,cliponaxis:y.cliponaxis,constraintext:y.constraintext,marker:y.marker,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,_deprecated:{bardir:y._deprecated.bardir}}},42174:function(W){W.exports=function(e,y){for(var C=e.length,a=0,L=0;L<C;L++)y[L]?(e[L]/=y[L],a+=e[L]):e[L]=null;return a}},17656:function(W){W.exports=function(e,y){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(W,V,e){var y=e(92770);W.exports={count:function(C,a,L){return L[C]++,1},sum:function(C,a,L,x){var h=x[a];return y(h)?(h=Number(h),L[C]+=h,h):0},avg:function(C,a,L,x,h){var d=x[a];return y(d)&&(d=Number(d),L[C]+=d,h[C]++),0},min:function(C,a,L,x){var h=x[a];if(y(h))if(h=Number(h),y(L[C])){if(L[C]>h){var d=h-L[C];return L[C]=h,d}}else return L[C]=h,h;return 0},max:function(C,a,L,x){var h=x[a];if(y(h))if(h=Number(h),y(L[C])){if(L[C]<h){var d=h-L[C];return L[C]=h,d}}else return L[C]=h,h;return 0}}},40965:function(W,V,e){var y=e(50606),C=y.ONEAVGYEAR,a=y.ONEAVGMONTH,L=y.ONEDAY,x=y.ONEHOUR,h=y.ONEMIN,d=y.ONESEC,t=e(89298).tickIncrement;W.exports=function(o,m,c,b,v){var l=-1.1*m,p=-.1*m,S=o-p,M=c[0],R=c[1],T=Math.min(r(M+p,M+S,b,v),r(R+p,R+S,b,v)),E=Math.min(r(M+l,M+p,b,v),r(R+l,R+p,b,v)),A,f;if(T>E&&E<Math.abs(R-M)/4e3?(A=T,f=!1):(A=Math.min(T,E),f=!0),b.type==="date"&&A>L){var P=A===C?1:6,w=A===C?"M12":"M1";return function(z,F){var H=b.c2d(z,C,v),_=H.indexOf("-",P);_>0&&(H=H.substr(0,_));var B=b.d2c(H,0,v);if(B<z){var N=t(B,w,!1,v);(B+N)/2<z+o&&(B=N)}return F&&f?t(B,w,!0,v):B}}return function(z,F){var H=A*Math.round(z/A);return H+A/10<z&&H+A*.9<z+o&&(H+=A),F&&f&&(H-=A),H}};function r(s,o,m,c){if(s*o<=0)return 1/0;for(var b=Math.abs(o-s),v=m.type==="date",l=u(b,v),p=0;p<10;p++){var S=u(l*80,v);if(l===S)break;if(n(S,s,o,v,m,c))l=S;else break}return l}function u(s,o){return o&&s>d?s>L?s>C*1.1?C:s>a*1.1?a:L:s>x?x:s>h?h:d:Math.pow(10,Math.floor(Math.log(s)/Math.LN10))}function n(s,o,m,c,b,v){if(c&&s>L){var l=i(o,b,v),p=i(m,b,v),S=s===C?0:1;return l[S]!==p[S]}return Math.floor(m/s)-Math.floor(o/s)>.1}function i(s,o,m){var c=o.c2d(s,C,m).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},72138:function(W,V,e){var y=e(92770),C=e(71828),a=e(73972),L=e(89298),x=e(75341),h=e(59575),d=e(36362),t=e(42174),r=e(40965);function u(m,c){var b=[],v=[],l=c.orientation==="h",p=L.getFromId(m,l?c.yaxis:c.xaxis),S=l?"y":"x",M={x:"y",y:"x"}[S],R=c[S+"calendar"],T=c.cumulative,E,A=n(m,c,p,S),f=A[0],P=A[1],w=typeof f.size=="string",z=[],F=w?z:f,H=[],_=[],B=[],N=0,O=c.histnorm,U=c.histfunc,K=O.indexOf("density")!==-1,re,ae,ue;T.enabled&&K&&(O=O.replace(/ ?density$/,""),K=!1);var ve=U==="max"||U==="min",ee=ve?null:0,J=h.count,Q=d[O],X=!1,q=function(He){return p.r2c(He,0,R)},se;for(C.isArrayOrTypedArray(c[M])&&U!=="count"&&(se=c[M],X=U==="avg",J=h[U]),E=q(f.start),ae=q(f.end)+(E-L.tickIncrement(E,f.size,!1,R))/1e6;E<ae&&b.length<1e6&&(re=L.tickIncrement(E,f.size,!1,R),b.push((E+re)/2),v.push(ee),B.push([]),z.push(E),K&&H.push(1/(re-E)),X&&_.push(0),!(re<=E));)E=re;z.push(E),!w&&p.type==="date"&&(F={start:q(F.start),end:q(F.end),size:F.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var Y=c["_"+S+"bingroup"],Z={leftGap:1/0,rightGap:1/0};Y&&(m._fullLayout._roundFnOpts[Y]||(m._fullLayout._roundFnOpts[Y]=Z),Z=m._fullLayout._roundFnOpts[Y]);var ie=v.length,te=!0,fe=Z.leftGap,de=Z.rightGap,we={};for(E=0;E<P.length;E++){var Ae=P[E];ue=C.findBin(Ae,F),ue>=0&&ue<ie&&(N+=J(ue,E,v,se,_),te&&B[ue].length&&Ae!==P[B[ue][0]]&&(te=!1),B[ue].push(E),we[E]=ue,fe=Math.min(fe,Ae-z[ue]),de=Math.min(de,z[ue+1]-Ae))}Z.leftGap=fe,Z.rightGap=de;var Re;te||(Re=function(He,_e){return function(){var We=m._fullLayout._roundFnOpts[Y];return r(We.leftGap,We.rightGap,z,p,R)(He,_e)}}),X&&(N=t(v,_)),Q&&Q(v,N,H),T.enabled&&o(v,T.direction,T.currentbin);var Fe=Math.min(b.length,v.length),Se=[],Te=0,Ee=Fe-1;for(E=0;E<Fe;E++)if(v[E]){Te=E;break}for(E=Fe-1;E>=Te;E--)if(v[E]){Ee=E;break}for(E=Te;E<=Ee;E++)if(y(b[E])&&y(v[E])){var Ne={p:b[E],s:v[E],b:0};T.enabled||(Ne.pts=B[E],te?Ne.ph0=Ne.ph1=B[E].length?P[B[E][0]]:b[E]:(c._computePh=!0,Ne.ph0=Re(z[E]),Ne.ph1=Re(z[E+1],!0))),Se.push(Ne)}return Se.length===1&&(Se[0].width1=L.tickIncrement(Se[0].p,f.size,!1,R)-Se[0].p),x(Se,c),C.isArrayOrTypedArray(c.selectedpoints)&&C.tagSelected(Se,c,we),Se}function n(m,c,b,v,l){var p=v+"bins",S=m._fullLayout,M=c["_"+v+"bingroup"],R=S._histogramBinOpts[M],T=S.barmode==="overlay",E,A,f,P,w,z,F,H=function(Ae){return b.r2c(Ae,0,P)},_=function(Ae){return b.c2r(Ae,0,P)},B=b.type==="date"?function(Ae){return Ae||Ae===0?C.cleanDate(Ae,null,P):null}:function(Ae){return y(Ae)?Number(Ae):null};function N(Ae,Re,Fe){Re[Ae+"Found"]?(Re[Ae]=B(Re[Ae]),Re[Ae]===null&&(Re[Ae]=Fe[Ae])):(z[Ae]=Re[Ae]=Fe[Ae],C.nestedProperty(A[0],p+"."+Ae).set(Fe[Ae]))}if(c["_"+v+"autoBinFinished"])delete c["_"+v+"autoBinFinished"];else{A=R.traces;var O=[],U=!0,K=!1,re=!1;for(E=0;E<A.length;E++)if(f=A[E],f.visible){var ae=R.dirs[E];w=f["_"+ae+"pos0"]=b.makeCalcdata(f,ae),O=C.concat(O,w),delete f["_"+v+"autoBinFinished"],c.visible===!0&&(U?U=!1:(delete f._autoBin,f["_"+v+"autoBinFinished"]=1),a.traceIs(f,"2dMap")&&(K=!0),f.type==="histogram2dcontour"&&(re=!0))}P=A[0][v+"calendar"];var ue=L.autoBin(O,b,R.nbins,K,P,R.sizeFound&&R.size),ve=A[0]._autoBin={};if(z=ve[R.dirs[0]]={},re&&(R.size||(ue.start=_(L.tickIncrement(H(ue.start),ue.size,!0,P))),R.end===void 0&&(ue.end=_(L.tickIncrement(H(ue.end),ue.size,!1,P)))),T&&!a.traceIs(c,"2dMap")&&ue._dataSpan===0&&b.type!=="category"&&b.type!=="multicategory"){if(l)return[ue,w,!0];ue=i(m,c,b,v,p)}F=f.cumulative||{},F.enabled&&F.currentbin!=="include"&&(F.direction==="decreasing"?ue.start=_(L.tickIncrement(H(ue.start),ue.size,!0,P)):ue.end=_(L.tickIncrement(H(ue.end),ue.size,!1,P))),R.size=ue.size,R.sizeFound||(z.size=ue.size,C.nestedProperty(A[0],p+".size").set(ue.size)),N("start",R,ue),N("end",R,ue)}w=c["_"+v+"pos0"],delete c["_"+v+"pos0"];var ee=c._input[p]||{},J=C.extendFlat({},R),Q=R.start,X=b.r2l(ee.start),q=X!==void 0;if((R.startFound||q)&&X!==b.r2l(Q)){var se=q?X:C.aggNums(Math.min,null,w),Y={type:b.type==="category"||b.type==="multicategory"?"linear":b.type,r2l:b.r2l,dtick:R.size,tick0:Q,calendar:P,range:[se,L.tickIncrement(se,R.size,!1,P)].map(b.l2r)},Z=L.tickFirst(Y);Z>b.r2l(se)&&(Z=L.tickIncrement(Z,R.size,!0,P)),J.start=b.l2r(Z),q||C.nestedProperty(c,p+".start").set(J.start)}var ie=R.end,te=b.r2l(ee.end),fe=te!==void 0;if((R.endFound||fe)&&te!==b.r2l(ie)){var de=fe?te:C.aggNums(Math.max,null,w);J.end=b.l2r(de),fe||C.nestedProperty(c,p+".start").set(J.end)}var we="autobin"+v;return c._input[we]===!1&&(c._input[p]=C.extendFlat({},c[p]||{}),delete c._input[we],delete c[we]),[J,w]}function i(m,c,b,v,l){var p=m._fullLayout,S=s(m,c),M=!1,R=1/0,T=[c],E,A,f;for(E=0;E<S.length;E++)if(A=S[E],A===c)M=!0;else if(!M)f=p._histogramBinOpts[A["_"+v+"bingroup"]],R=Math.min(R,f.size||A[l].size);else{var P=n(m,A,b,v,!0),w=P[0],z=P[2];A["_"+v+"autoBinFinished"]=1,A["_"+v+"pos0"]=P[1],z?T.push(A):R=Math.min(R,w.size)}var F=new Array(T.length);for(E=0;E<T.length;E++)for(var H=T[E]["_"+v+"pos0"],_=0;_<H.length;_++)if(H[_]!==void 0){F[E]=H[_];break}for(isFinite(R)||(R=C.distinctVals(F).minDiff),E=0;E<T.length;E++){A=T[E];var B=A[v+"calendar"],N={start:b.c2r(F[E]-R/2,0,B),end:b.c2r(F[E]+R/2,0,B),size:R};A._input[l]=A[l]=N,f=p._histogramBinOpts[A["_"+v+"bingroup"]],f&&C.extendFlat(f,N)}return c[l]}function s(m,c){for(var b=c.xaxis,v=c.yaxis,l=c.orientation,p=[],S=m._fullData,M=0;M<S.length;M++){var R=S[M];R.type==="histogram"&&R.visible===!0&&R.orientation===l&&R.xaxis===b&&R.yaxis===v&&p.push(R)}return p}function o(m,c,b){var v,l,p;function S(R){p=m[R],m[R]/=2}function M(R){l=m[R],m[R]=p+l/2,p+=l}if(b==="half")if(c==="increasing")for(S(0),v=1;v<m.length;v++)M(v);else for(S(m.length-1),v=m.length-2;v>=0;v--)M(v);else if(c==="increasing"){for(v=1;v<m.length;v++)m[v]+=m[v-1];b==="exclude"&&(m.unshift(0),m.pop())}else{for(v=m.length-2;v>=0;v--)m[v]+=m[v+1];b==="exclude"&&(m.push(0),m.shift())}}W.exports={calc:u,calcAllAutoBins:n}},72406:function(W){W.exports={eventDataKeys:["binNumber"]}},82222:function(W,V,e){var y=e(71828),C=e(41675),a=e(73972).traceIs,L=e(26125),x=y.nestedProperty,h=e(99082).getAxisGroup,d=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];W.exports=function(u,n){var i=n._histogramBinOpts={},s=[],o={},m=[],c,b,v,l,p,S,M;function R(re,ae){return y.coerce(c._input,c,c._module.attributes,re,ae)}function T(re){return re.orientation==="v"?"x":"y"}function E(re,ae){var ue=C.getFromTrace({_fullLayout:n},re,ae);return ue.type}function A(re,ae,ue){var ve=re.uid+"__"+ue;ae||(ae=ve);var ee=E(re,ue),J=re[ue+"calendar"]||"",Q=i[ae],X=!0;Q&&(ee===Q.axType&&J===Q.calendar?(X=!1,Q.traces.push(re),Q.dirs.push(ue)):(ae=ve,ee!==Q.axType&&y.warn(["Attempted to group the bins of trace",re.index,"set on a","type:"+ee,"axis","with bins on","type:"+Q.axType,"axis."].join(" ")),J!==Q.calendar&&y.warn(["Attempted to group the bins of trace",re.index,"set with a",J,"calendar","with bins",Q.calendar?"on a "+Q.calendar+" calendar":"w/o a set calendar"].join(" ")))),X&&(i[ae]={traces:[re],dirs:[ue],axType:ee,calendar:re[ue+"calendar"]||""}),re["_"+ue+"bingroup"]=ae}for(p=0;p<u.length;p++)c=u[p],a(c,"histogram")&&(s.push(c),delete c._xautoBinFinished,delete c._yautoBinFinished,a(c,"2dMap")||L(c._input,c,n,R));var f=n._alignmentOpts||{};for(p=0;p<s.length;p++){if(c=s[p],v="",!a(c,"2dMap")){if(l=T(c),n.barmode==="group"&&c.alignmentgroup){var P=c[l+"axis"],w=h(n,P)+c.orientation;(f[w]||{})[c.alignmentgroup]&&(v=w)}!v&&n.barmode!=="overlay"&&(v=h(n,c.xaxis)+h(n,c.yaxis)+T(c))}v?(o[v]||(o[v]=[]),o[v].push(c)):m.push(c)}for(v in o){if(b=o[v],b.length===1){m.push(b[0]);continue}var z=!1;for(b.length&&(c=b[0],z=R("bingroup")),v=z||v,p=0;p<b.length;p++){c=b[p];var F=c._input.bingroup;F&&F!==v&&y.warn(["Trace",c.index,"must match","within bingroup",v+".","Ignoring its bingroup:",F,"setting."].join(" ")),c.bingroup=v,A(c,v,T(c))}}for(p=0;p<m.length;p++){c=m[p];var H=R("bingroup");if(a(c,"2dMap"))for(M=0;M<2;M++){l=t[M];var _=R(l+"bingroup",H?H+"__"+l:null);A(c,_,l)}else A(c,H,T(c))}for(v in i){var B=i[v];for(b=B.traces,S=0;S<d.length;S++){var N=d[S],O=N.name,U,K;if(!(O==="nbins"&&B.sizeFound)){for(p=0;p<b.length;p++){if(c=b[p],l=B.dirs[p],U=N.aStr[l],x(c._input,U).get()!==void 0){B[O]=R(U),B[O+"Found"]=!0;break}K=(c._autoBin||{})[l]||{},K[O]&&x(c,U).set(K[O])}if(O==="start"||O==="end")for(;p<b.length;p++)c=b[p],c["_"+l+"bingroup"]&&(K=(c._autoBin||{})[l]||{},R(U,K[O]));O==="nbins"&&!B.sizeFound&&!B.nbinsFound&&(c=b[0],B[O]=R(U))}}}}},11385:function(W,V,e){var y=e(73972),C=e(71828),a=e(7901),L=e(90769).handleText,x=e(98340),h=e(7745);W.exports=function(t,r,u,n){function i(E,A){return C.coerce(t,r,h,E,A)}var s=i("x"),o=i("y"),m=i("cumulative.enabled");m&&(i("cumulative.direction"),i("cumulative.currentbin")),i("text");var c=i("textposition");L(t,r,n,i,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat");var b=i("orientation",o&&!s?"h":"v"),v=b==="v"?"x":"y",l=b==="v"?"y":"x",p=s&&o?Math.min(C.minRowLength(s)&&C.minRowLength(o)):C.minRowLength(r[v]||[]);if(!p){r.visible=!1;return}r._length=p;var S=y.getComponentMethod("calendars","handleTraceDefaults");S(t,r,["x","y"],n);var M=r[l];M&&i("histfunc"),i("histnorm"),i("autobin"+v),x(t,r,i,u,n),C.coerceSelectionMarkerOpacity(r,i);var R=(r.marker.line||{}).color,T=y.getComponentMethod("errorbars","supplyDefaults");T(t,r,R||a.defaultLine,{axis:"y"}),T(t,r,R||a.defaultLine,{axis:"x",inherit:"y"})}},84402:function(W){W.exports=function(e,y,C,a,L){if(e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"zLabelVal"in y&&(e.z=y.zLabelVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),!(C.cumulative||{}).enabled){var x=Array.isArray(L)?a[0].pts[L[0]][L[1]]:a[L].pts;e.pointNumbers=x,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var h;if(C._indexToPoints){h=[];for(var d=0;d<x.length;d++)h=h.concat(C._indexToPoints[x[d]])}else h=x;e.pointIndices=h}return e}},76440:function(W,V,e){var y=e(95423).hoverPoints,C=e(89298).hoverLabelText;W.exports=function(L,x,h,d,t){var r=y(L,x,h,d,t);if(r){L=r[0];var u=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var i=n.orientation==="h"?"y":"x";L[i+"Label"]=C(L[i+"a"],[u.ph0,u.ph1],n[i+"hoverformat"])}return r}}},36071:function(W,V,e){W.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(W){W.exports={percent:function(V,e){for(var y=V.length,C=100/e,a=0;a<y;a++)V[a]*=C},probability:function(V,e){for(var y=V.length,C=0;C<y;C++)V[C]/=e},density:function(V,e,y,C){var a=V.length;C=C||1;for(var L=0;L<a;L++)V[L]*=y[L]*C},"probability density":function(V,e,y,C){var a=V.length;C&&(e/=C);for(var L=0;L<a;L++)V[L]*=y[L]/e}}},35361:function(W,V,e){var y=e(7745),C=e(17656),a=e(21606),L=e(9012),x=e(12663).axisHoverFormat,h=e(5386).fF,d=e(5386).si,t=e(50693),r=e(1426).extendFlat;W.exports=r({x:y.x,y:y.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:C("x"),nbinsy:y.nbinsy,ybins:C("y"),autobinx:y.autobinx,autobiny:y.autobiny,bingroup:r({},y.bingroup,{}),xbingroup:r({},y.bingroup,{}),ybingroup:r({},y.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z",1),hovertemplate:h({},{keys:"z"}),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:r({},L.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(W,V,e){var y=e(71828),C=e(89298),a=e(59575),L=e(36362),x=e(42174),h=e(40965),d=e(72138).calcAllAutoBins;W.exports=function(i,s){var o=C.getFromId(i,s.xaxis),m=C.getFromId(i,s.yaxis),c=s.xcalendar,b=s.ycalendar,v=function(Ue){return o.r2c(Ue,0,c)},l=function(Ue){return m.r2c(Ue,0,b)},p=function(Ue){return o.c2r(Ue,0,c)},S=function(Ue){return m.c2r(Ue,0,b)},M,R,T,E,A=d(i,s,o,"x"),f=A[0],P=A[1],w=d(i,s,m,"y"),z=w[0],F=w[1],H=s._length;P.length>H&&P.splice(H,P.length-H),F.length>H&&F.splice(H,F.length-H);var _=[],B=[],N=[],O=typeof f.size=="string",U=typeof z.size=="string",K=[],re=[],ae=O?K:f,ue=U?re:z,ve=0,ee=[],J=[],Q=s.histnorm,X=s.histfunc,q=Q.indexOf("density")!==-1,se=X==="max"||X==="min",Y=se?null:0,Z=a.count,ie=L[Q],te=!1,fe=[],de=[],we="z"in s?s.z:"marker"in s&&Array.isArray(s.marker.color)?s.marker.color:"";we&&X!=="count"&&(te=X==="avg",Z=a[X]);var Ae=f.size,Re=v(f.start),Fe=v(f.end)+(Re-C.tickIncrement(Re,Ae,!1,c))/1e6;for(M=Re;M<Fe;M=C.tickIncrement(M,Ae,!1,c))B.push(Y),K.push(M),te&&N.push(0);K.push(M);var Se=B.length,Te=(M-Re)/Se,Ee=p(Re+Te/2),Ne=z.size,He=l(z.start),_e=l(z.end)+(He-C.tickIncrement(He,Ne,!1,b))/1e6;for(M=He;M<_e;M=C.tickIncrement(M,Ne,!1,b)){_.push(B.slice()),re.push(M);var We=new Array(Se);for(R=0;R<Se;R++)We[R]=[];J.push(We),te&&ee.push(N.slice())}re.push(M);var tt=_.length,Ke=(M-He)/tt,qe=S(He+Ke/2);q&&(fe=t(B.length,ae,Te,O),de=t(_.length,ue,Ke,U)),!O&&o.type==="date"&&(ae=r(v,ae)),!U&&m.type==="date"&&(ue=r(l,ue));var rt=!0,ft=!0,pt=new Array(Se),gt=new Array(tt),Mt=1/0,Lt=1/0,Wt=1/0,Je=1/0;for(M=0;M<H;M++){var ze=P[M],Oe=F[M];T=y.findBin(ze,ae),E=y.findBin(Oe,ue),T>=0&&T<Se&&E>=0&&E<tt&&(ve+=Z(T,M,_[E],we,ee[E]),J[E][T].push(M),rt&&(pt[T]===void 0?pt[T]=ze:pt[T]!==ze&&(rt=!1)),ft&&(gt[E]===void 0?gt[E]=Oe:gt[E]!==Oe&&(ft=!1)),Mt=Math.min(Mt,ze-K[T]),Lt=Math.min(Lt,K[T+1]-ze),Wt=Math.min(Wt,Oe-re[E]),Je=Math.min(Je,re[E+1]-Oe))}if(te)for(E=0;E<tt;E++)ve+=x(_[E],ee[E]);if(ie)for(E=0;E<tt;E++)ie(_[E],ve,fe,de[E]);return{x:P,xRanges:u(K,rt&&pt,Mt,Lt,o,c),x0:Ee,dx:Te,y:F,yRanges:u(re,ft&&gt,Wt,Je,m,b),y0:qe,dy:Ke,z:_,pts:J}};function t(n,i,s,o){var m=new Array(n),c;if(o)for(c=0;c<n;c++)m[c]=1/(i[c+1]-i[c]);else{var b=1/s;for(c=0;c<n;c++)m[c]=b}return m}function r(n,i){return{start:n(i.start),end:n(i.end),size:i.size}}function u(n,i,s,o,m,c){var b,v=n.length-1,l=new Array(v),p=h(s,o,n,m,c);for(b=0;b<v;b++){var S=(i||[])[b];l[b]=S===void 0?[p(n[b]),p(n[b+1],!0)]:[S,S]}return l}},93888:function(W,V,e){var y=e(71828),C=e(75238),a=e(49901),L=e(1586),x=e(58623),h=e(35361);W.exports=function(t,r,u,n){function i(s,o){return y.coerce(t,r,h,s,o)}C(t,r,i,n),r.visible!==!1&&(a(t,r,i,n),L(t,r,n,i,{prefix:"",cLetter:"z"}),i("hovertemplate"),x(i,n),i("xhoverformat"),i("yhoverformat"))}},76128:function(W,V,e){var y=e(46248),C=e(89298).hoverLabelText;W.exports=function(L,x,h,d,t){var r=y(L,x,h,d,t);if(r){L=r[0];var u=L.index,n=u[0],i=u[1],s=L.cd[0],o=s.trace,m=s.xRanges[i],c=s.yRanges[n];return L.xLabel=C(L.xa,[m[0],m[1]],o.xhoverformat),L.yLabel=C(L.ya,[c[0],c[1]],o.yhoverformat),r}}},43905:function(W,V,e){W.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(W,V,e){var y=e(73972),C=e(71828);W.exports=function(L,x,h,d){var t=h("x"),r=h("y"),u=C.minRowLength(t),n=C.minRowLength(r);if(!u||!n){x.visible=!1;return}x._length=Math.min(u,n);var i=y.getComponentMethod("calendars","handleTraceDefaults");i(L,x,["x","y"],d);var s=h("z")||h("marker.color");s&&h("histfunc"),h("histnorm"),h("autobinx"),h("autobiny")}},99066:function(W,V,e){var y=e(35361),C=e(70600),a=e(50693),L=e(12663).axisHoverFormat,x=e(1426).extendFlat;W.exports=x({x:y.x,y:y.y,z:y.z,marker:y.marker,histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:y.xbins,nbinsy:y.nbinsy,ybins:y.ybins,autobinx:y.autobinx,autobiny:y.autobiny,bingroup:y.bingroup,xbingroup:y.xbingroup,ybingroup:y.ybingroup,autocontour:C.autocontour,ncontours:C.ncontours,contours:C.contours,line:{color:C.line.color,width:x({},C.line.width,{dflt:.5}),dash:C.line.dash,smoothing:C.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:y.hovertemplate,texttemplate:C.texttemplate,textfont:C.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(W,V,e){var y=e(71828),C=e(75238),a=e(67217),L=e(8724),x=e(58623),h=e(99066);W.exports=function(t,r,u,n){function i(o,m){return y.coerce(t,r,h,o,m)}function s(o){return y.coerce2(t,r,h,o)}C(t,r,i,n),r.visible!==!1&&(a(t,r,i,s),L(t,r,i,n),i("xhoverformat"),i("yhoverformat"),i("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&x(i,n))}},35902:function(W,V,e){W.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(W,V,e){var y=e(5386).fF,C=e(5386).si,a=e(50693),L=e(27670).Y,x=e(34e3),h=e(57564),d=e(45802),t=e(43473),r=e(1426).extendFlat,u=e(79952).u;W.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:d.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:h.marker.colors,line:h.marker.line,pattern:u,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:h.leaf,pathbar:d.pathbar,text:x.text,textinfo:h.textinfo,texttemplate:C({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:x.hovertext,hoverinfo:h.hoverinfo,hovertemplate:y({},{keys:t.eventDataKeys}),textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:d.outsidetextfont,textposition:d.textposition,sort:x.sort,root:h.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},96346:function(W,V,e){var y=e(74875);V.name="icicle",V.plot=function(C,a,L,x){y.plotBasePlot(V.name,C,a,L,x)},V.clean=function(C,a,L,x){y.cleanBasePlot(V.name,C,a,L,x)}},46584:function(W,V,e){var y=e(52147);V.y=function(C,a){return y.calc(C,a)},V.T=function(C){return y._runCrossTraceCalc("icicle",C)}},56524:function(W,V,e){var y=e(71828),C=e(46291),a=e(7901),L=e(27670).c,x=e(90769).handleText,h=e(97313).TEXTPAD,d=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,u=t.handleDefaults;W.exports=function(i,s,o,m){function c(T,E){return y.coerce(i,s,C,T,E)}var b=c("labels"),v=c("parents");if(!b||!b.length||!v||!v.length){s.visible=!1;return}var l=c("values");l&&l.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var p=c("text");c("texttemplate"),s.texttemplate||c("textinfo",Array.isArray(p)?"text+label":"label"),c("hovertext"),c("hovertemplate");var S=c("pathbar.visible"),M="auto";x(i,s,m,c,M,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),d(i,s,m,c);var R=s._hasColorscale=r(i,"marker","colors")||(i.marker||{}).coloraxis;R&&u(i,s,m,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",R?1:.7),s._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},S&&(c("pathbar.thickness",s.pathbar.textfont.size+2*h),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),L(s,m,c),s._length=null}},90666:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(63893),x=e(21538),h=e(82454).styleOne,d=e(43473),t=e(2791),r=e(83523),u=e(24714).formatSliceLabel,n=!1;W.exports=function(s,o,m,c,b){var v=b.width,l=b.height,p=b.viewX,S=b.viewY,M=b.pathSlice,R=b.toMoveInsideSlice,T=b.strTransform,E=b.hasTransition,A=b.handleSlicesExit,f=b.makeUpdateSliceInterpolator,P=b.makeUpdateTextInterpolator,w=b.prevEntry,z={},F=s._context.staticPlot,H=s._fullLayout,_=o[0],B=_.trace,N=B.textposition.indexOf("left")!==-1,O=B.textposition.indexOf("right")!==-1,U=B.textposition.indexOf("bottom")!==-1,K=x(m,[v,l],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}),re=K.descendants(),ae=1/0,ue=-1/0;re.forEach(function(X){var q=X.depth;q>=B._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(ae=Math.min(ae,q),ue=Math.max(ue,q))}),c=c.data(re,t.getPtId),B._maxVisibleLayers=isFinite(ue)?ue-ae+1:0,c.enter().append("g").classed("slice",!0),A(c,n,z,[v,l],M),c.order();var ve=null;if(E&&w){var ee=t.getPtId(w);c.each(function(X){ve===null&&t.getPtId(X)===ee&&(ve={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var J=function(){return ve||{x0:0,x1:v,y0:0,y1:l}},Q=c;return E&&(Q=Q.transition().each("end",function(){var X=y.select(this);t.setSliceCursor(X,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(X){X._x0=p(X.x0),X._x1=p(X.x1),X._y0=S(X.y0),X._y1=S(X.y1),X._hoverX=p(X.x1-B.tiling.pad),X._hoverY=S(U?X.y1-B.tiling.pad/2:X.y0+B.tiling.pad/2);var q=y.select(this),se=C.ensureSingle(q,"path","surface",function(te){te.style("pointer-events",F?"none":"all")});E?se.transition().attrTween("d",function(te){var fe=f(te,n,J(),[v,l],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(de){return M(fe(de))}}):se.attr("d",M),q.call(r,m,s,o,{styleOne:h,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{isTransitioning:s._transitioning}),se.call(h,X,B,s,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=u(X,m,B,o,H)||"";var Y=C.ensureSingle(q,"g","slicetext"),Z=C.ensureSingle(Y,"text","",function(te){te.attr("data-notex",1)}),ie=C.ensureUniformFontSize(s,t.determineTextFont(B,X,H.font));Z.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":N?"start":"middle").call(a.font,ie).call(L.convertToTspans,s),X.textBB=a.bBox(Z.node()),X.transform=R(X,{fontSize:ie.size}),X.transform.fontSize=ie.size,E?Z.transition().attrTween("transform",function(te){var fe=P(te,n,J(),[v,l]);return function(de){return T(fe(de))}}):Z.attr("transform",T(X))}),ve}},69816:function(W,V,e){W.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(W){W.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(W,V,e){var y=e(71828),C=e(92894);W.exports=function(L,x){function h(d,t){return y.coerce(L,x,C,d,t)}h("iciclecolorway",x.colorway),h("extendiciclecolors")}},21538:function(W,V,e){var y=e(674),C=e(14102);W.exports=function(L,x,h){var d=h.flipX,t=h.flipY,r=h.orientation==="h",u=h.maxDepth,n=x[0],i=x[1];u&&(n=(L.height+1)*x[0]/Math.min(L.height+1,u),i=(L.height+1)*x[1]/Math.min(L.height+1,u));var s=y.partition().padding(h.pad.inner).size(r?[x[1],n]:[x[0],i])(L);return(r||d||t)&&C(s,x,{swapXY:r,flipX:d,flipY:t}),s}},85596:function(W,V,e){var y=e(80694),C=e(90666);W.exports=function(L,x,h,d){return y(L,x,h,d,{type:"icicle",drawDescendants:C})}},82454:function(W,V,e){var y=e(39898),C=e(7901),a=e(71828),L=e(72597).resizeText,x=e(43467);function h(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");L(t,r,"icicle"),r.each(function(u){var n=y.select(this),i=u[0],s=i.trace;n.style("opacity",s.opacity),n.selectAll("path.surface").each(function(o){y.select(this).call(d,o,s,t)})})}function d(t,r,u,n){var i=r.data.data,s=!r.children,o=i.i,m=a.castOption(u,o,"marker.line.color")||C.defaultLine,c=a.castOption(u,o,"marker.line.width")||0;t.call(x,r,u,n).style("stroke-width",c).call(C.stroke,m).style("opacity",s?u.leaf.opacity:null)}W.exports={style:h,styleOne:d}},17230:function(W,V,e){for(var y=e(9012),C=e(5386).fF,a=e(1426).extendFlat,L=e(51877).colormodel,x=["rgb","rgba","rgba256","hsl","hsla"],h=[],d=[],t=0;t<x.length;t++){var r=L[x[t]];h.push("For the `"+x[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),d.push("For the `"+x[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}W.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:x,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},y.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:C({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(W,V,e){var y=e(71828),C=e(51877),a=e(92770),L=e(89298),x=e(71828).maxRowLength,h=e(67395).A;W.exports=function(n,i){var s,o;if(i._hasZ)s=i.z.length,o=x(i.z);else if(i._hasSource){var m=h(i.source);s=m.height,o=m.width}var c=L.getFromId(n,i.xaxis||"x"),b=L.getFromId(n,i.yaxis||"y"),v=c.d2c(i.x0)-i.dx/2,l=b.d2c(i.y0)-i.dy/2,p,S=[v,v+o*i.dx],M=[l,l+s*i.dy];if(c&&c.type==="log")for(p=0;p<o;p++)S.push(v+p*i.dx);if(b&&b.type==="log")for(p=0;p<s;p++)M.push(l+p*i.dy);i._extremes[c._id]=L.findExtremes(c,S),i._extremes[b._id]=L.findExtremes(b,M),i._scaler=r(i);var R={x0:v,y0:l,z:i.z,w:o,h:s};return[R]};function d(u,n,i,s){return function(o){return y.constrain((o-u)*n,i,s)}}function t(u,n){return function(i){return y.constrain(i,u,n)}}function r(u){var n=C.colormodel[u.colormodel],i=n.colormodel||u.colormodel,s=i.length;u._sArray=[];for(var o=0;o<s;o++)n.min[o]!==u.zmin[o]||n.max[o]!==u.zmax[o]?u._sArray.push(d(u.zmin[o],(n.max[o]-n.min[o])/(u.zmax[o]-u.zmin[o]),n.min[o],n.max[o])):u._sArray.push(t(n.min[o],n.max[o]));return function(m){for(var c=m.slice(0,s),b=0;b<s;b++){var v=c[b];if(!a(v))return!1;c[b]=u._sArray[b](v)}return c}}},51877:function(W){W.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(V){return V.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(V){var e=V.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(V){var e=V.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(W,V,e){var y=e(71828),C=e(17230),a=e(51877),L=e(25095).IMAGE_URL_PREFIX;W.exports=function(h,d){function t(n,i){return y.coerce(h,d,C,n,i)}t("source"),d.source&&!d.source.match(L)&&delete d.source,d._hasSource=!!d.source;var r=t("z");if(d._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!d._hasZ&&!d._hasSource){d.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var u;d._hasZ?(t("colormodel","rgb"),u=a.colormodel[d.colormodel],t("zmin",u.zminDflt||u.min),t("zmax",u.zmaxDflt||u.max)):d._hasSource&&(d.colormodel="rgba256",u=a.colormodel[d.colormodel],d.zmin=u.zminDflt,d.zmax=u.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),d._length=null}},30835:function(W){W.exports=function(e,y){return"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e.color=y.color,e.colormodel=y.trace.colormodel,e.z||(e.z=y.color),e}},67395:function(W,V,e){var y=e(33575),C=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;V.A=function(L){var x=L.replace(C,""),h=new a(x,"base64");return y(h)}},28749:function(W,V,e){var y=e(30211),C=e(71828),a=e(51877);W.exports=function(x,h,d){var t=x.cd[0],r=t.trace,u=x.xa,n=x.ya;if(!(y.inbox(h-t.x0,h-(t.x0+t.w*r.dx),0)>0||y.inbox(d-t.y0,d-(t.y0+t.h*r.dy),0)>0)){var i=Math.floor((h-t.x0)/r.dx),s=Math.floor(Math.abs(d-t.y0)/r.dy),o;if(r._hasZ?o=t.z[s][i]:r._hasSource&&(o=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(i,s,1,1).data),!!o){var m=t.hi||r.hoverinfo,c;if(m){var b=m.split("+");b.indexOf("all")!==-1&&(b=["color"]),b.indexOf("color")!==-1&&(c=!0)}var v=a.colormodel[r.colormodel],l=v.colormodel||r.colormodel,p=l.length,S=r._scaler(o),M=v.suffix,R=[];(r.hovertemplate||c)&&(R.push("["+[S[0]+M[0],S[1]+M[1],S[2]+M[2]].join(", ")),p===4&&R.push(", "+S[3]+M[3]),R.push("]"),R=R.join(""),x.extraText=l.toUpperCase()+": "+R);var T;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[s])?T=r.hovertext[s][i]:Array.isArray(r.text)&&Array.isArray(r.text[s])&&(T=r.text[s][i]);var E=n.c2p(t.y0+(s+.5)*r.dy),A=t.x0+(i+.5)*r.dx,f=t.y0+(s+.5)*r.dy,P="["+o.slice(0,r.colormodel.length).join(", ")+"]";return[C.extendFlat(x,{index:[s,i],x0:u.c2p(t.x0+i*r.dx),x1:u.c2p(t.x0+(i+1)*r.dx),y0:E,y1:E,color:S,xVal:A,xLabelVal:A,yVal:f,yLabelVal:f,zLabelVal:P,text:T,hovertemplateLabels:{zLabel:P,colorLabel:R,"color[0]Label":S[0]+M[0],"color[1]Label":S[1]+M[1],"color[2]Label":S[2]+M[2],"color[3]Label":S[3]+M[3]}})]}}}},94507:function(W,V,e){W.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(W,V,e){var y=e(39898),C=e(71828),a=C.strTranslate,L=e(77922),x=e(51877),h=e(3883),d=e(32396).STYLE;W.exports=function(r,u,n,i){var s=u.xaxis,o=u.yaxis,m=!r._context._exportedPlot&&h();C.makeTraceGroups(i,n,"im").each(function(c){var b=y.select(this),v=c[0],l=v.trace,p=(l.zsmooth==="fast"||l.zsmooth===!1&&m)&&!l._hasZ&&l._hasSource&&s.type==="linear"&&o.type==="linear";l._realImage=p;var S=v.z,M=v.x0,R=v.y0,T=v.w,E=v.h,A=l.dx,f=l.dy,P,w,z,F,H,_;for(_=0;P===void 0&&_<T;)P=s.c2p(M+_*A),_++;for(_=T;w===void 0&&_>0;)w=s.c2p(M+_*A),_--;for(_=0;F===void 0&&_<E;)F=o.c2p(R+_*f),_++;for(_=E;H===void 0&&_>0;)H=o.c2p(R+_*f),_--;if(w<P&&(z=w,w=P,P=z),H<F&&(z=F,F=H,H=z),!p){var B=.5;P=Math.max(-B*s._length,P),w=Math.min((1+B)*s._length,w),F=Math.max(-B*o._length,F),H=Math.min((1+B)*o._length,H)}var N=Math.round(w-P),O=Math.round(H-F),U=N<=0||O<=0;if(U){var K=b.selectAll("image").data([]);K.exit().remove();return}function re(Y){var Z=document.createElement("canvas");Z.width=N,Z.height=O;var ie=Z.getContext("2d",{willReadFrequently:!0}),te=function(He){return C.constrain(Math.round(s.c2p(M+He*A)-P),0,N)},fe=function(He){return C.constrain(Math.round(o.c2p(R+He*f)-F),0,O)},de=x.colormodel[l.colormodel],we=de.colormodel||l.colormodel,Ae=de.fmt,Re;for(_=0;_<v.w;_++){var Fe=te(_),Se=te(_+1);if(!(Se===Fe||isNaN(Se)||isNaN(Fe)))for(var Te=0;Te<v.h;Te++){var Ee=fe(Te),Ne=fe(Te+1);Ne===Ee||isNaN(Ne)||isNaN(Ee)||!Y(_,Te)||(Re=l._scaler(Y(_,Te)),Re?ie.fillStyle=we+"("+Ae(Re).join(",")+")":ie.fillStyle="rgba(0,0,0,0)",ie.fillRect(Fe,Ee,Se-Fe,Ne-Ee))}}return Z}var ae=b.selectAll("image").data([c]);ae.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),ae.exit().remove();var ue=l.zsmooth===!1?d:"";if(p){var ve=C.simpleMap(s.range,s.r2l),ee=C.simpleMap(o.range,o.r2l),J=ve[1]<ve[0],Q=ee[1]>ee[0];if(J||Q){var X=P+N/2,q=F+O/2;ue+="transform:"+a(X+"px",q+"px")+"scale("+(J?-1:1)+","+(Q?-1:1)+")"+a(-X+"px",-q+"px")+";"}}ae.attr("style",ue);var se=new Promise(function(Y){if(l._hasZ)Y();else if(l._hasSource)if(l._canvas&&l._canvas.el.width===T&&l._canvas.el.height===E&&l._canvas.source===l.source)Y();else{var Z=document.createElement("canvas");Z.width=T,Z.height=E;var ie=Z.getContext("2d",{willReadFrequently:!0});l._image=l._image||new Image;var te=l._image;te.onload=function(){ie.drawImage(te,0,0),l._canvas={el:Z,source:l.source},Y()},te.setAttribute("src",l.source)}}).then(function(){var Y,Z;if(l._hasZ)Z=re(function(fe,de){return S[de][fe]}),Y=Z.toDataURL("image/png");else if(l._hasSource)if(p)Y=l.source;else{var ie=l._canvas.el.getContext("2d",{willReadFrequently:!0}),te=ie.getImageData(0,0,T,E).data;Z=re(function(fe,de){var we=4*(de*T+fe);return[te[we],te[we+1],te[we+2],te[we+3]]}),Y=Z.toDataURL("image/png")}ae.attr({"xlink:href":Y,height:O,width:N,x:P,y:F})});r._promises.push(se)})}},12826:function(W,V,e){var y=e(39898);W.exports=function(a){y.select(a).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},54846:function(W,V,e){var y=e(1426).extendFlat,C=e(1426).extendDeep,a=e(30962).overrideAll,L=e(41940),x=e(22399),h=e(27670).Y,d=e(13838),t=e(44467).templatedArray,r=e(22372),u=e(12663).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),i={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:x.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},s={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},o=t("step",C({},i,{range:s}));W.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:h({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:y({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:u("value")},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:u("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:C({},i,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:s,visible:y({},d.visible,{dflt:!0}),tickmode:d.minor.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:y({},d.ticks,{dflt:"outside"}),ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,tickfont:L({}),tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,minexponent:d.minexponent,showexponent:d.showexponent,editType:"plot"},"plot"),steps:o,threshold:{line:{color:y({},i.line.color,{}),width:y({},i.line.width,{dflt:1}),editType:"plot"},thickness:y({},i.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(W,V,e){var y=e(74875);V.name="indicator",V.plot=function(C,a,L,x){y.plotBasePlot(V.name,C,a,L,x)},V.clean=function(C,a,L,x){y.cleanBasePlot(V.name,C,a,L,x)}},24667:function(W){function V(e,y){var C=[],a=y.value;typeof y._lastValue!="number"&&(y._lastValue=y.value);var L=y._lastValue,x=L;return y._hasDelta&&typeof y.delta.reference=="number"&&(x=y.delta.reference),C[0]={y:a,lastY:L,delta:a-x,relativeDelta:(a-x)/x},C}W.exports={calc:V}},84577:function(W){W.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(W,V,e){var y=e(71828),C=e(54846),a=e(27670).c,L=e(44467),x=e(85501),h=e(84577),d=e(26218),t=e(38701),r=e(96115),u=e(89426);function n(s,o,m,c){function b(H,_){return y.coerce(s,o,C,H,_)}a(o,c,b),b("mode"),o._hasNumber=o.mode.indexOf("number")!==-1,o._hasDelta=o.mode.indexOf("delta")!==-1,o._hasGauge=o.mode.indexOf("gauge")!==-1;var v=b("value");o._range=[0,typeof v=="number"?1.5*v:1];var l=new Array(2),p;o._hasNumber&&(b("number.valueformat"),b("number.font.color",c.font.color),b("number.font.family",c.font.family),b("number.font.size"),o.number.font.size===void 0&&(o.number.font.size=h.defaultNumberFontSize,l[0]=!0),b("number.prefix"),b("number.suffix"),p=o.number.font.size);var S;o._hasDelta&&(b("delta.font.color",c.font.color),b("delta.font.family",c.font.family),b("delta.font.size"),o.delta.font.size===void 0&&(o.delta.font.size=(o._hasNumber?.5:1)*(p||h.defaultNumberFontSize),l[1]=!0),b("delta.reference",o.value),b("delta.relative"),b("delta.valueformat",o.delta.relative?"2%":""),b("delta.increasing.symbol"),b("delta.increasing.color"),b("delta.decreasing.symbol"),b("delta.decreasing.color"),b("delta.position"),b("delta.prefix"),b("delta.suffix"),S=o.delta.font.size),o._scaleNumbers=(!o._hasNumber||l[0])&&(!o._hasDelta||l[1])||!1,b("title.font.color",c.font.color),b("title.font.family",c.font.family),b("title.font.size",.25*(p||S||h.defaultNumberFontSize)),b("title.text");var M,R,T,E;function A(H,_){return y.coerce(M,R,C.gauge,H,_)}function f(H,_){return y.coerce(T,E,C.gauge.axis,H,_)}if(o._hasGauge){M=s.gauge,M||(M={}),R=L.newContainer(o,"gauge"),A("shape");var P=o._isBullet=o.gauge.shape==="bullet";P||b("title.align","center");var w=o._isAngular=o.gauge.shape==="angular";w||b("align","center"),A("bgcolor",c.paper_bgcolor),A("borderwidth"),A("bordercolor"),A("bar.color"),A("bar.line.color"),A("bar.line.width");var z=h.valueThickness*(o.gauge.shape==="bullet"?.5:1);A("bar.thickness",z),x(M,R,{name:"steps",handleItemDefaults:i}),A("threshold.value"),A("threshold.thickness"),A("threshold.line.width"),A("threshold.line.color"),T={},M&&(T=M.axis||{}),E=L.newContainer(R,"axis"),f("visible"),o._range=f("range",o._range);var F={outerTicks:!0};d(T,E,f,"linear"),u(T,E,f,"linear",F),r(T,E,f,"linear",F),t(T,E,f,F)}else b("title.align","center"),b("align","center"),o._isAngular=o._isBullet=!1;o._length=null}function i(s,o){function m(c,b){return y.coerce(s,o,C.gauge.steps,c,b)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}W.exports={supplyDefaults:n}},15154:function(W,V,e){W.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(W,V,e){var y=e(39898),C=e(81684).sX,a=e(81684).k4,L=e(71828),x=L.strScale,h=L.strTranslate,d=L.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),u=e(84577),n=e(63893),i=e(89298),s=e(71453),o=e(52830),m=e(13838),c=e(7901),b={left:"start",center:"middle",right:"end"},v={left:0,center:.5,right:1},l=/[yzafpnmkMGTPEZY]/;function p(F){return F&&F.duration>0}W.exports=function(H,_,B,N){var O=H._fullLayout,U;p(B)&&N&&(U=N()),L.makeTraceGroups(O._indicatorlayer,_,"trace").each(function(K){var re=K[0],ae=re.trace,ue=y.select(this),ve=ae._hasGauge,ee=ae._isAngular,J=ae._isBullet,Q=ae.domain,X={w:O._size.w*(Q.x[1]-Q.x[0]),h:O._size.h*(Q.y[1]-Q.y[0]),l:O._size.l+O._size.w*Q.x[0],r:O._size.r+O._size.w*(1-Q.x[1]),t:O._size.t+O._size.h*(1-Q.y[1]),b:O._size.b+O._size.h*Q.y[0]},q=X.l+X.w/2,se=X.t+X.h/2,Y=Math.min(X.w/2,X.h),Z=u.innerRadius*Y,ie,te,fe,de=ae.align||"center";if(te=se,!ve)ie=X.l+v[de]*X.w,fe=function(_e){return f(_e,X.w,X.h)};else if(ee&&(ie=q,te=se+Y/2,fe=function(_e){return P(_e,.9*Z)}),J){var we=u.bulletPadding,Ae=1-u.bulletNumberDomainSize+we;ie=X.l+(Ae+(1-Ae)*v[de])*X.w,fe=function(_e){return f(_e,(u.bulletNumberDomainSize-we)*X.w,X.h)}}R(H,ue,K,{numbersX:ie,numbersY:te,numbersScaler:fe,transitionOpts:B,onComplete:U});var Re,Fe;ve&&(Re={range:ae.gauge.axis.range,color:ae.gauge.bgcolor,line:{color:ae.gauge.bordercolor,width:0},thickness:1},Fe={range:ae.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ae.gauge.bordercolor,width:ae.gauge.borderwidth},thickness:1});var Se=ue.selectAll("g.angular").data(ee?K:[]);Se.exit().remove();var Te=ue.selectAll("g.angularaxis").data(ee?K:[]);Te.exit().remove(),ee&&M(H,ue,K,{radius:Y,innerRadius:Z,gauge:Se,layer:Te,size:X,gaugeBg:Re,gaugeOutline:Fe,transitionOpts:B,onComplete:U});var Ee=ue.selectAll("g.bullet").data(J?K:[]);Ee.exit().remove();var Ne=ue.selectAll("g.bulletaxis").data(J?K:[]);Ne.exit().remove(),J&&S(H,ue,K,{gauge:Ee,layer:Ne,size:X,gaugeBg:Re,gaugeOutline:Fe,transitionOpts:B,onComplete:U});var He=ue.selectAll("text.title").data(K);He.exit().remove(),He.enter().append("text").classed("title",!0),He.attr("text-anchor",function(){return J?b.right:b[ae.title.align]}).text(ae.title.text).call(r.font,ae.title.font).call(n.convertToTspans,H),He.attr("transform",function(){var _e=X.l+X.w*v[ae.title.align],We,tt=u.titlePadding,Ke=r.bBox(He.node());if(ve){if(ee)if(ae.gauge.axis.visible){var qe=r.bBox(Te.node());We=qe.top-tt-Ke.bottom}else We=X.t+X.h/2-Y/2-Ke.bottom-tt;J&&(We=te-(Ke.top+Ke.bottom)/2,_e=X.l-u.bulletPadding*X.w)}else We=ae._numbersTop-tt-Ke.bottom;return h(_e,We)})})};function S(F,H,_,B){var N=_[0].trace,O=B.gauge,U=B.layer,K=B.gaugeBg,re=B.gaugeOutline,ae=B.size,ue=N.domain,ve=B.transitionOpts,ee=B.onComplete,J,Q,X,q,se;O.enter().append("g").classed("bullet",!0),O.attr("transform",h(ae.l,ae.t)),U.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),U.selectAll("g.xbulletaxistick,path,text").remove();var Y=ae.h,Z=N.gauge.bar.thickness*Y,ie=ue.x[0],te=ue.x[0]+(ue.x[1]-ue.x[0])*(N._hasNumber||N._hasDelta?1-u.bulletNumberDomainSize:1);J=A(F,N.gauge.axis),J._id="xbulletaxis",J.domain=[ie,te],J.setScale(),Q=i.calcTicks(J),X=i.makeTransTickFn(J),q=i.getTickSigns(J)[2],se=ae.t+ae.h,J.visible&&(i.drawTicks(F,J,{vals:J.ticks==="inside"?i.clipEnds(J,Q):Q,layer:U,path:i.makeTickPath(J,se,q),transFn:X}),i.drawLabels(F,J,{vals:Q,layer:U,transFn:X,labelFns:i.makeLabelFns(J,se)}));function fe(Te){Te.attr("width",function(Ee){return Math.max(0,J.c2p(Ee.range[1])-J.c2p(Ee.range[0]))}).attr("x",function(Ee){return J.c2p(Ee.range[0])}).attr("y",function(Ee){return .5*(1-Ee.thickness)*Y}).attr("height",function(Ee){return Ee.thickness*Y})}var de=[K].concat(N.gauge.steps),we=O.selectAll("g.bg-bullet").data(de);we.enter().append("g").classed("bg-bullet",!0).append("rect"),we.select("rect").call(fe).call(T),we.exit().remove();var Ae=O.selectAll("g.value-bullet").data([N.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",Z).attr("y",(Y-Z)/2).call(T),p(ve)?Ae.select("rect").transition().duration(ve.duration).ease(ve.easing).each("end",function(){ee&&ee()}).each("interrupt",function(){ee&&ee()}).attr("width",Math.max(0,J.c2p(Math.min(N.gauge.axis.range[1],_[0].y)))):Ae.select("rect").attr("width",typeof _[0].y=="number"?Math.max(0,J.c2p(Math.min(N.gauge.axis.range[1],_[0].y))):0),Ae.exit().remove();var Re=_.filter(function(){return N.gauge.threshold.value||N.gauge.threshold.value===0}),Fe=O.selectAll("g.threshold-bullet").data(Re);Fe.enter().append("g").classed("threshold-bullet",!0).append("line"),Fe.select("line").attr("x1",J.c2p(N.gauge.threshold.value)).attr("x2",J.c2p(N.gauge.threshold.value)).attr("y1",(1-N.gauge.threshold.thickness)/2*Y).attr("y2",(1-(1-N.gauge.threshold.thickness)/2)*Y).call(c.stroke,N.gauge.threshold.line.color).style("stroke-width",N.gauge.threshold.line.width),Fe.exit().remove();var Se=O.selectAll("g.gauge-outline").data([re]);Se.enter().append("g").classed("gauge-outline",!0).append("rect"),Se.select("rect").call(fe).call(T),Se.exit().remove()}function M(F,H,_,B){var N=_[0].trace,O=B.size,U=B.radius,K=B.innerRadius,re=B.gaugeBg,ae=B.gaugeOutline,ue=[O.l+O.w/2,O.t+O.h/2+U/2],ve=B.gauge,ee=B.layer,J=B.transitionOpts,Q=B.onComplete,X=Math.PI/2;function q(rt){var ft=N.gauge.axis.range[0],pt=N.gauge.axis.range[1],gt=(rt-ft)/(pt-ft)*Math.PI-X;return gt<-X?-X:gt>X?X:gt}function se(rt){return y.svg.arc().innerRadius((K+U)/2-rt/2*(U-K)).outerRadius((K+U)/2+rt/2*(U-K)).startAngle(-X)}function Y(rt){rt.attr("d",function(ft){return se(ft.thickness).startAngle(q(ft.range[0])).endAngle(q(ft.range[1]))()})}var Z,ie,te,fe;ve.enter().append("g").classed("angular",!0),ve.attr("transform",h(ue[0],ue[1])),ee.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),ee.selectAll("g.xangularaxistick,path,text").remove(),Z=A(F,N.gauge.axis),Z.type="linear",Z.range=N.gauge.axis.range,Z._id="xangularaxis",Z.ticklabeloverflow="allow",Z.setScale();var de=function(rt){return(Z.range[0]-rt.x)/(Z.range[1]-Z.range[0])*Math.PI+Math.PI},we={},Ae=i.makeLabelFns(Z,0),Re=Ae.labelStandoff;we.xFn=function(rt){var ft=de(rt);return Math.cos(ft)*Re},we.yFn=function(rt){var ft=de(rt),pt=Math.sin(ft)>0?.2:1;return-Math.sin(ft)*(Re+rt.fontSize*pt)+Math.abs(Math.cos(ft))*(rt.fontSize*t)},we.anchorFn=function(rt){var ft=de(rt),pt=Math.cos(ft);return Math.abs(pt)<.1?"middle":pt>0?"start":"end"},we.heightFn=function(rt,ft,pt){var gt=de(rt);return-.5*(1+Math.sin(gt))*pt};var Fe=function(rt){return h(ue[0]+U*Math.cos(rt),ue[1]-U*Math.sin(rt))};te=function(rt){return Fe(de(rt))};var Se=function(rt){var ft=de(rt);return Fe(ft)+"rotate("+-d(ft)+")"};if(ie=i.calcTicks(Z),fe=i.getTickSigns(Z)[2],Z.visible){fe=Z.ticks==="inside"?-1:1;var Te=(Z.linewidth||1)/2;i.drawTicks(F,Z,{vals:ie,layer:ee,path:"M"+fe*Te+",0h"+fe*Z.ticklen,transFn:Se}),i.drawLabels(F,Z,{vals:ie,layer:ee,transFn:te,labelFns:we})}var Ee=[re].concat(N.gauge.steps),Ne=ve.selectAll("g.bg-arc").data(Ee);Ne.enter().append("g").classed("bg-arc",!0).append("path"),Ne.select("path").call(Y).call(T),Ne.exit().remove();var He=se(N.gauge.bar.thickness),_e=ve.selectAll("g.value-arc").data([N.gauge.bar]);_e.enter().append("g").classed("value-arc",!0).append("path");var We=_e.select("path");p(J)?(We.transition().duration(J.duration).ease(J.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()}).attrTween("d",E(He,q(_[0].lastY),q(_[0].y))),N._lastValue=_[0].y):We.attr("d",typeof _[0].y=="number"?He.endAngle(q(_[0].y)):"M0,0Z"),We.call(T),_e.exit().remove(),Ee=[];var tt=N.gauge.threshold.value;(tt||tt===0)&&Ee.push({range:[tt,tt],color:N.gauge.threshold.color,line:{color:N.gauge.threshold.line.color,width:N.gauge.threshold.line.width},thickness:N.gauge.threshold.thickness});var Ke=ve.selectAll("g.threshold-arc").data(Ee);Ke.enter().append("g").classed("threshold-arc",!0).append("path"),Ke.select("path").call(Y).call(T),Ke.exit().remove();var qe=ve.selectAll("g.gauge-outline").data([ae]);qe.enter().append("g").classed("gauge-outline",!0).append("path"),qe.select("path").call(Y).call(T),qe.exit().remove()}function R(F,H,_,B){var N=_[0].trace,O=B.numbersX,U=B.numbersY,K=N.align||"center",re=b[K],ae=B.transitionOpts,ue=B.onComplete,ve=L.ensureSingle(H,"g","numbers"),ee,J,Q,X=[];N._hasNumber&&X.push("number"),N._hasDelta&&(X.push("delta"),N.delta.position==="left"&&X.reverse());var q=ve.selectAll("text").data(X);q.enter().append("text"),q.attr("text-anchor",function(){return re}).attr("class",function(Fe){return Fe}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();function se(Fe,Se,Te,Ee){if(Fe.match("s")&&Te>=0!=Ee>=0&&!Se(Te).slice(-1).match(l)&&!Se(Ee).slice(-1).match(l)){var Ne=Fe.slice().replace("s","f").replace(/\d+/,function(_e){return parseInt(_e)-1}),He=A(F,{tickformat:Ne});return function(_e){return Math.abs(_e)<1?i.tickText(He,_e).text:Se(_e)}}else return Se}function Y(){var Fe=A(F,{tickformat:N.number.valueformat},N._range);Fe.setScale(),i.prepTicks(Fe);var Se=function(_e){return i.tickText(Fe,_e).text},Te=N.number.suffix,Ee=N.number.prefix,Ne=ve.select("text.number");function He(){var _e=typeof _[0].y=="number"?Ee+Se(_[0].y)+Te:"-";Ne.text(_e).call(r.font,N.number.font).call(n.convertToTspans,F)}return p(ae)?Ne.transition().duration(ae.duration).ease(ae.easing).each("end",function(){He(),ue&&ue()}).each("interrupt",function(){He(),ue&&ue()}).attrTween("text",function(){var _e=y.select(this),We=a(_[0].lastY,_[0].y);N._lastValue=_[0].y;var tt=se(N.number.valueformat,Se,_[0].lastY,_[0].y);return function(Ke){_e.text(Ee+tt(We(Ke))+Te)}}):He(),ee=w(Ee+Se(_[0].y)+Te,N.number.font,re,F),Ne}function Z(){var Fe=A(F,{tickformat:N.delta.valueformat},N._range);Fe.setScale(),i.prepTicks(Fe);var Se=function(Ke){return i.tickText(Fe,Ke).text},Te=N.delta.suffix,Ee=N.delta.prefix,Ne=function(Ke){var qe=N.delta.relative?Ke.relativeDelta:Ke.delta;return qe},He=function(Ke,qe){return Ke===0||typeof Ke!="number"||isNaN(Ke)?"-":(Ke>0?N.delta.increasing.symbol:N.delta.decreasing.symbol)+Ee+qe(Ke)+Te},_e=function(Ke){return Ke.delta>=0?N.delta.increasing.color:N.delta.decreasing.color};N._deltaLastValue===void 0&&(N._deltaLastValue=Ne(_[0]));var We=ve.select("text.delta");We.call(r.font,N.delta.font).call(c.fill,_e({delta:N._deltaLastValue}));function tt(){We.text(He(Ne(_[0]),Se)).call(c.fill,_e(_[0])).call(n.convertToTspans,F)}return p(ae)?We.transition().duration(ae.duration).ease(ae.easing).tween("text",function(){var Ke=y.select(this),qe=Ne(_[0]),rt=N._deltaLastValue,ft=se(N.delta.valueformat,Se,rt,qe),pt=a(rt,qe);return N._deltaLastValue=qe,function(gt){Ke.text(He(pt(gt),ft)),Ke.call(c.fill,_e({delta:pt(gt)}))}}).each("end",function(){tt(),ue&&ue()}).each("interrupt",function(){tt(),ue&&ue()}):tt(),J=w(He(Ne(_[0]),Se),N.delta.font,re,F),We}var ie=N.mode+N.align,te;if(N._hasDelta&&(te=Z(),ie+=N.delta.position+N.delta.font.size+N.delta.font.family+N.delta.valueformat,ie+=N.delta.increasing.symbol+N.delta.decreasing.symbol,Q=J),N._hasNumber&&(Y(),ie+=N.number.font.size+N.number.font.family+N.number.valueformat+N.number.suffix+N.number.prefix,Q=ee),N._hasDelta&&N._hasNumber){var fe=[(ee.left+ee.right)/2,(ee.top+ee.bottom)/2],de=[(J.left+J.right)/2,(J.top+J.bottom)/2],we,Ae,Re=.75*N.delta.font.size;N.delta.position==="left"&&(we=z(N,"deltaPos",0,-1*(ee.width*v[N.align]+J.width*(1-v[N.align])+Re),ie,Math.min),Ae=fe[1]-de[1],Q={width:ee.width+J.width+Re,height:Math.max(ee.height,J.height),left:J.left+we,right:ee.right,top:Math.min(ee.top,J.top+Ae),bottom:Math.max(ee.bottom,J.bottom+Ae)}),N.delta.position==="right"&&(we=z(N,"deltaPos",0,ee.width*(1-v[N.align])+J.width*v[N.align]+Re,ie,Math.max),Ae=fe[1]-de[1],Q={width:ee.width+J.width+Re,height:Math.max(ee.height,J.height),left:ee.left,right:J.right+we,top:Math.min(ee.top,J.top+Ae),bottom:Math.max(ee.bottom,J.bottom+Ae)}),N.delta.position==="bottom"&&(we=null,Ae=J.height,Q={width:Math.max(ee.width,J.width),height:ee.height+J.height,left:Math.min(ee.left,J.left),right:Math.max(ee.right,J.right),top:ee.bottom-ee.height,bottom:ee.bottom+J.height}),N.delta.position==="top"&&(we=null,Ae=ee.top,Q={width:Math.max(ee.width,J.width),height:ee.height+J.height,left:Math.min(ee.left,J.left),right:Math.max(ee.right,J.right),top:ee.bottom-ee.height-J.height,bottom:ee.bottom}),te.attr({dx:we,dy:Ae})}(N._hasNumber||N._hasDelta)&&ve.attr("transform",function(){var Fe=B.numbersScaler(Q);ie+=Fe[2];var Se=z(N,"numbersScale",1,Fe[0],ie,Math.min),Te;N._scaleNumbers||(Se=1),N._isAngular?Te=U-Se*Q.bottom:Te=U-Se*(Q.top+Q.bottom)/2,N._numbersTop=Se*Q.top+Te;var Ee=Q[K];K==="center"&&(Ee=(Q.left+Q.right)/2);var Ne=O-Se*Ee;return Ne=z(N,"numbersTranslate",0,Ne,ie,Math.max),h(Ne,Te)+x(Se)})}function T(F){F.each(function(H){c.stroke(y.select(this),H.line.color)}).each(function(H){c.fill(y.select(this),H.color)}).style("stroke-width",function(H){return H.line.width})}function E(F,H,_){return function(){var B=C(H,_);return function(N){return F.endAngle(B(N))()}}}function A(F,H,_){var B=F._fullLayout,N=L.extendFlat({type:"linear",ticks:"outside",range:_,showline:!0},H),O={type:"linear",_id:"x"+H._id},U={letter:"x",font:B.font,noHover:!0,noTickson:!0};function K(re,ae){return L.coerce(N,O,m,re,ae)}return s(N,O,K,U,B),o(N,O,K,U),O}function f(F,H,_){var B=Math.min(H/F.width,_/F.height);return[B,F,H+"x"+_]}function P(F,H){var _=Math.sqrt(F.width/2*(F.width/2)+F.height*F.height),B=H/_;return[B,F,H]}function w(F,H,_,B){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),O=y.select(N);return O.text(F).attr("x",0).attr("y",0).attr("text-anchor",_).attr("data-unformatted",F).call(n.convertToTspans,B).call(r.font,H),r.bBox(O.node())}function z(F,H,_,B,N,O){var U="_cache"+H;F[U]&&F[U].key===N||(F[U]={key:N,value:_});var K=L.aggNums(O,null,[F[U].value,B],2);return F[U].value=K,K}},16249:function(W,V,e){var y=e(50693),C=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),x=e(9012),h=e(1426).extendFlat,d=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var u=W.exports=d(h({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),valuehoverformat:C("value",1),showlegend:h({},x.showlegend,{dflt:!1})},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:h({},x.hoverinfo)}),"calc","nested");u.flatshading.dflt=!0,u.lighting.facenormalsepsilon.dflt=0,u.x.editType=u.y.editType=u.z.editType=u.value.editType="calc+clearAxisTypes",u.transforms=void 0},56959:function(W,V,e){var y=e(78803),C=e(88489).processGrid,a=e(88489).filter;W.exports=function(x,h){h._len=Math.min(h.x.length,h.y.length,h.z.length,h.value.length),h._x=a(h.x,h._len),h._y=a(h.y,h._len),h._z=a(h.z,h._len),h._value=a(h.value,h._len);var d=C(h);h._gridFill=d.fill,h._Xs=d.Xs,h._Ys=d.Ys,h._Zs=d.Zs,h._len=d.len;for(var t=1/0,r=-1/0,u=0;u<h._len;u++){var n=h._value[u];t=Math.min(t,n),r=Math.max(r,n)}h._minValues=t,h._maxValues=r,h._vMin=h.isomin===void 0||h.isomin===null?t:h.isomin,h._vMax=h.isomax===void 0||h.isomin===null?r:h.isomax,y(x,h,{vals:[h._vMin,h._vMax],containerStr:"",cLetter:"c"})}},22674:function(W,V,e){var y=e(9330).gl_mesh3d,C=e(81697).parseColorScale,a=e(78614),L=e(21081).extractOpts,x=e(90060),h=function(i,s){for(var o=s.length-1;o>0;o--){var m=Math.min(s[o],s[o-1]),c=Math.max(s[o],s[o-1]);if(c>m&&m<i&&i<=c)return{id:o,distRatio:(c-i)/(c-m)}}return{id:0,distRatio:0}};function d(i,s,o){this.scene=i,this.uid=o,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var t=d.prototype;t.handlePick=function(i){if(i.object===this.mesh){var s=i.data.index,o=this.data._meshX[s],m=this.data._meshY[s],c=this.data._meshZ[s],b=this.data._Ys.length,v=this.data._Zs.length,l=h(o,this.data._Xs).id,p=h(m,this.data._Ys).id,S=h(c,this.data._Zs).id,M=i.index=S+v*p+v*b*l;i.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var R=this.data.hovertext||this.data.text;return Array.isArray(R)&&R[M]!==void 0?i.textLabel=R[M]:R&&(i.textLabel=R),!0}},t.update=function(i){var s=this.scene,o=s.fullSceneLayout;this.data=u(i);function m(p,S,M,R){return S.map(function(T){return p.d2l(T,0,R)*M})}var c=x(m(o.xaxis,i._meshX,s.dataScale[0],i.xcalendar),m(o.yaxis,i._meshY,s.dataScale[1],i.ycalendar),m(o.zaxis,i._meshZ,s.dataScale[2],i.zcalendar)),b=x(i._meshI,i._meshJ,i._meshK),v={positions:c,cells:b,lightPosition:[i.lightposition.x,i.lightposition.y,i.lightposition.z],ambient:i.lighting.ambient,diffuse:i.lighting.diffuse,specular:i.lighting.specular,roughness:i.lighting.roughness,fresnel:i.lighting.fresnel,vertexNormalsEpsilon:i.lighting.vertexnormalsepsilon,faceNormalsEpsilon:i.lighting.facenormalsepsilon,opacity:i.opacity,contourEnable:i.contour.show,contourColor:a(i.contour.color).slice(0,3),contourWidth:i.contour.width,useFacetNormals:i.flatshading},l=L(i);v.vertexIntensity=i._meshIntensity,v.vertexIntensityBounds=[l.min,l.max],v.colormap=C(i),this.mesh.update(v)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function u(i){i._meshI=[],i._meshJ=[],i._meshK=[];var s=i.surface.show,o=i.spaceframe.show,m=i.surface.fill,c=i.spaceframe.fill,b=!1,v=!1,l=0,p,S,M=i._Xs,R=i._Ys,T=i._Zs,E=M.length,A=R.length,f=T.length,P=r.indexOf(i._gridFill.replace(/-/g,"").replace(/\+/g,"")),w=function(ze,Oe,Ue){switch(P){case 5:return Ue+f*Oe+f*A*ze;case 4:return Ue+f*ze+f*E*Oe;case 3:return Oe+A*Ue+A*f*ze;case 2:return Oe+A*ze+A*E*Ue;case 1:return ze+E*Ue+E*f*Oe;default:return ze+E*Oe+E*A*Ue}},z=i._minValues,F=i._maxValues,H=i._vMin,_=i._vMax,B,N,O,U;function K(ze,Oe,Ue){for(var ke=U.length,Me=S;Me<ke;Me++)if(ze===B[Me]&&Oe===N[Me]&&Ue===O[Me])return Me;return-1}function re(){S=p}function ae(){B=[],N=[],O=[],U=[],p=0,re()}function ue(ze,Oe,Ue,ke){return B.push(ze),N.push(Oe),O.push(Ue),U.push(ke),p++,p-1}function ve(ze,Oe,Ue){return i._meshI.push(ze),i._meshJ.push(Oe),i._meshK.push(Ue),l++,l-1}function ee(ze,Oe,Ue){for(var ke=[],Me=0;Me<ze.length;Me++)ke[Me]=(ze[Me]+Oe[Me]+Ue[Me])/3;return ke}function J(ze,Oe,Ue){for(var ke=[],Me=0;Me<ze.length;Me++)ke[Me]=ze[Me]*(1-Ue)+Ue*Oe[Me];return ke}var Q;function X(ze){Q=ze}function q(ze,Oe){var Ue=ze[0],ke=ze[1],Me=ze[2],ce=ee(Ue,ke,Me),be=Math.sqrt(1-Q),De=J(ce,Ue,be),Ve=J(ce,ke,be),it=J(ce,Me,be),ot=Oe[0],Tt=Oe[1],It=Oe[2];return{xyzv:[[Ue,ke,Ve],[Ve,De,Ue],[ke,Me,it],[it,Ve,ke],[Me,Ue,De],[De,it,Me]],abc:[[ot,Tt,-1],[-1,-1,ot],[Tt,It,-1],[-1,-1,Tt],[It,ot,-1],[-1,-1,It]]}}function se(ze,Oe){return ze==="all"||ze===null?!0:ze.indexOf(Oe)>-1}function Y(ze,Oe){return ze===null?Oe:ze}function Z(ze,Oe,Ue){re();var ke=[Oe],Me=[Ue];if(Q>=1)ke=[Oe],Me=[Ue];else if(Q>0){var ce=q(Oe,Ue);ke=ce.xyzv,Me=ce.abc}for(var be=0;be<ke.length;be++){Oe=ke[be],Ue=Me[be];for(var De=[],Ve=0;Ve<3;Ve++){var it=Oe[Ve][0],ot=Oe[Ve][1],Tt=Oe[Ve][2],It=Oe[Ve][3],Ht=Ue[Ve]>-1?Ue[Ve]:K(it,ot,Tt);Ht>-1?De[Ve]=Ht:De[Ve]=ue(it,ot,Tt,Y(ze,It))}ve(De[0],De[1],De[2])}}function ie(ze,Oe,Ue){var ke=function(Me,ce,be){Z(ze,[Oe[Me],Oe[ce],Oe[be]],[Ue[Me],Ue[ce],Ue[be]])};ke(0,1,2),ke(2,3,0)}function te(ze,Oe,Ue){var ke=function(Me,ce,be){Z(ze,[Oe[Me],Oe[ce],Oe[be]],[Ue[Me],Ue[ce],Ue[be]])};ke(0,1,2),ke(3,0,1),ke(2,3,0),ke(1,2,3)}function fe(ze,Oe,Ue,ke){var Me=ze[3];Me<Ue&&(Me=Ue),Me>ke&&(Me=ke);for(var ce=(ze[3]-Me)/(ze[3]-Oe[3]+1e-9),be=[],De=0;De<4;De++)be[De]=(1-ce)*ze[De]+ce*Oe[De];return be}function de(ze,Oe,Ue){return ze>=Oe&&ze<=Ue}function we(ze){var Oe=.001*(_-H);return ze>=H-Oe&&ze<=_+Oe}function Ae(ze){for(var Oe=[],Ue=0;Ue<4;Ue++){var ke=ze[Ue];Oe.push([i._x[ke],i._y[ke],i._z[ke],i._value[ke]])}return Oe}var Re=3;function Fe(ze,Oe,Ue,ke,Me,ce){ce||(ce=1),Ue=[-1,-1,-1];var be=!1,De=[de(Oe[0][3],ke,Me),de(Oe[1][3],ke,Me),de(Oe[2][3],ke,Me)];if(!De[0]&&!De[1]&&!De[2])return!1;var Ve=function(ot,Tt,It){return we(Tt[0][3])&&we(Tt[1][3])&&we(Tt[2][3])?(Z(ot,Tt,It),!0):ce<Re?Fe(ot,Tt,It,H,_,++ce):!1};if(De[0]&&De[1]&&De[2])return Ve(ze,Oe,Ue)||be;var it=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ot){if(De[ot[0]]&&De[ot[1]]&&!De[ot[2]]){var Tt=Oe[ot[0]],It=Oe[ot[1]],Ht=Oe[ot[2]],Gt=fe(Ht,Tt,ke,Me),Pt=fe(Ht,It,ke,Me);be=Ve(ze,[Pt,Gt,Tt],[-1,-1,Ue[ot[0]]])||be,be=Ve(ze,[Tt,It,Pt],[Ue[ot[0]],Ue[ot[1]],-1])||be,it=!0}}),it||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ot){if(De[ot[0]]&&!De[ot[1]]&&!De[ot[2]]){var Tt=Oe[ot[0]],It=Oe[ot[1]],Ht=Oe[ot[2]],Gt=fe(It,Tt,ke,Me),Pt=fe(Ht,Tt,ke,Me);be=Ve(ze,[Pt,Gt,Tt],[-1,-1,Ue[ot[0]]])||be,it=!0}}),be}function Se(ze,Oe,Ue,ke){var Me=!1,ce=Ae(Oe),be=[de(ce[0][3],Ue,ke),de(ce[1][3],Ue,ke),de(ce[2][3],Ue,ke),de(ce[3][3],Ue,ke)];if(!be[0]&&!be[1]&&!be[2]&&!be[3])return Me;if(be[0]&&be[1]&&be[2]&&be[3])return v&&(Me=te(ze,ce,Oe)||Me),Me;var De=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ve){if(be[Ve[0]]&&be[Ve[1]]&&be[Ve[2]]&&!be[Ve[3]]){var it=ce[Ve[0]],ot=ce[Ve[1]],Tt=ce[Ve[2]],It=ce[Ve[3]];if(v)Me=Z(ze,[it,ot,Tt],[Oe[Ve[0]],Oe[Ve[1]],Oe[Ve[2]]])||Me;else{var Ht=fe(It,it,Ue,ke),Gt=fe(It,ot,Ue,ke),Pt=fe(It,Tt,Ue,ke);Me=Z(null,[Ht,Gt,Pt],[-1,-1,-1])||Me}De=!0}}),De||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ve){if(be[Ve[0]]&&be[Ve[1]]&&!be[Ve[2]]&&!be[Ve[3]]){var it=ce[Ve[0]],ot=ce[Ve[1]],Tt=ce[Ve[2]],It=ce[Ve[3]],Ht=fe(Tt,it,Ue,ke),Gt=fe(Tt,ot,Ue,ke),Pt=fe(It,ot,Ue,ke),Jt=fe(It,it,Ue,ke);v?(Me=Z(ze,[it,Jt,Ht],[Oe[Ve[0]],-1,-1])||Me,Me=Z(ze,[ot,Gt,Pt],[Oe[Ve[1]],-1,-1])||Me):Me=ie(null,[Ht,Gt,Pt,Jt],[-1,-1,-1,-1])||Me,De=!0}}),De)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ve){if(be[Ve[0]]&&!be[Ve[1]]&&!be[Ve[2]]&&!be[Ve[3]]){var it=ce[Ve[0]],ot=ce[Ve[1]],Tt=ce[Ve[2]],It=ce[Ve[3]],Ht=fe(ot,it,Ue,ke),Gt=fe(Tt,it,Ue,ke),Pt=fe(It,it,Ue,ke);v?(Me=Z(ze,[it,Ht,Gt],[Oe[Ve[0]],-1,-1])||Me,Me=Z(ze,[it,Gt,Pt],[Oe[Ve[0]],-1,-1])||Me,Me=Z(ze,[it,Pt,Ht],[Oe[Ve[0]],-1,-1])||Me):Me=Z(null,[Ht,Gt,Pt],[-1,-1,-1])||Me,De=!0}}),Me}function Te(ze,Oe,Ue,ke,Me,ce,be,De,Ve,it,ot){var Tt=!1;return b&&(se(ze,"A")&&(Tt=Se(null,[Oe,Ue,ke,ce],it,ot)||Tt),se(ze,"B")&&(Tt=Se(null,[Ue,ke,Me,Ve],it,ot)||Tt),se(ze,"C")&&(Tt=Se(null,[Ue,ce,be,Ve],it,ot)||Tt),se(ze,"D")&&(Tt=Se(null,[ke,ce,De,Ve],it,ot)||Tt),se(ze,"E")&&(Tt=Se(null,[Ue,ke,ce,Ve],it,ot)||Tt)),v&&(Tt=Se(ze,[Ue,ke,ce,Ve],it,ot)||Tt),Tt}function Ee(ze,Oe,Ue,ke,Me,ce,be,De){return[De[0]===!0?!0:Fe(ze,Ae([Oe,Ue,ke]),[Oe,Ue,ke],ce,be),De[1]===!0?!0:Fe(ze,Ae([ke,Me,Oe]),[ke,Me,Oe],ce,be)]}function Ne(ze,Oe,Ue,ke,Me,ce,be,De,Ve){return De?Ee(ze,Oe,Ue,Me,ke,ce,be,Ve):Ee(ze,Ue,Me,ke,Oe,ce,be,Ve)}function He(ze,Oe,Ue,ke,Me,ce,be){var De=!1,Ve,it,ot,Tt,It=function(){De=Fe(ze,[Ve,it,ot],[-1,-1,-1],Me,ce)||De,De=Fe(ze,[ot,Tt,Ve],[-1,-1,-1],Me,ce)||De},Ht=be[0],Gt=be[1],Pt=be[2];return Ht&&(Ve=J(Ae([w(Oe,Ue-0,ke-0)])[0],Ae([w(Oe-1,Ue-0,ke-0)])[0],Ht),it=J(Ae([w(Oe,Ue-0,ke-1)])[0],Ae([w(Oe-1,Ue-0,ke-1)])[0],Ht),ot=J(Ae([w(Oe,Ue-1,ke-1)])[0],Ae([w(Oe-1,Ue-1,ke-1)])[0],Ht),Tt=J(Ae([w(Oe,Ue-1,ke-0)])[0],Ae([w(Oe-1,Ue-1,ke-0)])[0],Ht),It()),Gt&&(Ve=J(Ae([w(Oe-0,Ue,ke-0)])[0],Ae([w(Oe-0,Ue-1,ke-0)])[0],Gt),it=J(Ae([w(Oe-0,Ue,ke-1)])[0],Ae([w(Oe-0,Ue-1,ke-1)])[0],Gt),ot=J(Ae([w(Oe-1,Ue,ke-1)])[0],Ae([w(Oe-1,Ue-1,ke-1)])[0],Gt),Tt=J(Ae([w(Oe-1,Ue,ke-0)])[0],Ae([w(Oe-1,Ue-1,ke-0)])[0],Gt),It()),Pt&&(Ve=J(Ae([w(Oe-0,Ue-0,ke)])[0],Ae([w(Oe-0,Ue-0,ke-1)])[0],Pt),it=J(Ae([w(Oe-0,Ue-1,ke)])[0],Ae([w(Oe-0,Ue-1,ke-1)])[0],Pt),ot=J(Ae([w(Oe-1,Ue-1,ke)])[0],Ae([w(Oe-1,Ue-1,ke-1)])[0],Pt),Tt=J(Ae([w(Oe-1,Ue-0,ke)])[0],Ae([w(Oe-1,Ue-0,ke-1)])[0],Pt),It()),De}function _e(ze,Oe,Ue,ke,Me,ce,be,De,Ve,it,ot,Tt){var It=ze;return Tt?(b&&ze==="even"&&(It=null),Te(It,Oe,Ue,ke,Me,ce,be,De,Ve,it,ot)):(b&&ze==="odd"&&(It=null),Te(It,Ve,De,be,ce,Me,ke,Ue,Oe,it,ot))}function We(ze,Oe,Ue,ke,Me){for(var ce=[],be=0,De=0;De<Oe.length;De++)for(var Ve=Oe[De],it=1;it<f;it++)for(var ot=1;ot<A;ot++)ce.push(Ne(ze,w(Ve,ot-1,it-1),w(Ve,ot-1,it),w(Ve,ot,it-1),w(Ve,ot,it),Ue,ke,(Ve+ot+it)%2,Me&&Me[be]?Me[be]:[])),be++;return ce}function tt(ze,Oe,Ue,ke,Me){for(var ce=[],be=0,De=0;De<Oe.length;De++)for(var Ve=Oe[De],it=1;it<E;it++)for(var ot=1;ot<f;ot++)ce.push(Ne(ze,w(it-1,Ve,ot-1),w(it,Ve,ot-1),w(it-1,Ve,ot),w(it,Ve,ot),Ue,ke,(it+Ve+ot)%2,Me&&Me[be]?Me[be]:[])),be++;return ce}function Ke(ze,Oe,Ue,ke,Me){for(var ce=[],be=0,De=0;De<Oe.length;De++)for(var Ve=Oe[De],it=1;it<A;it++)for(var ot=1;ot<E;ot++)ce.push(Ne(ze,w(ot-1,it-1,Ve),w(ot-1,it,Ve),w(ot,it-1,Ve),w(ot,it,Ve),Ue,ke,(ot+it+Ve)%2,Me&&Me[be]?Me[be]:[])),be++;return ce}function qe(ze,Oe,Ue){for(var ke=1;ke<f;ke++)for(var Me=1;Me<A;Me++)for(var ce=1;ce<E;ce++)_e(ze,w(ce-1,Me-1,ke-1),w(ce-1,Me-1,ke),w(ce-1,Me,ke-1),w(ce-1,Me,ke),w(ce,Me-1,ke-1),w(ce,Me-1,ke),w(ce,Me,ke-1),w(ce,Me,ke),Oe,Ue,(ce+Me+ke)%2)}function rt(ze,Oe,Ue){v=!0,qe(ze,Oe,Ue),v=!1}function ft(ze,Oe,Ue){b=!0,qe(ze,Oe,Ue),b=!1}function pt(ze,Oe,Ue,ke,Me,ce){for(var be=[],De=0,Ve=0;Ve<Oe.length;Ve++)for(var it=Oe[Ve],ot=1;ot<f;ot++)for(var Tt=1;Tt<A;Tt++)be.push(He(ze,it,Tt,ot,Ue,ke,Me[Ve],ce&&ce[De]?ce[De]:[])),De++;return be}function gt(ze,Oe,Ue,ke,Me,ce){for(var be=[],De=0,Ve=0;Ve<Oe.length;Ve++)for(var it=Oe[Ve],ot=1;ot<E;ot++)for(var Tt=1;Tt<f;Tt++)be.push(He(ze,ot,it,Tt,Ue,ke,Me[Ve],ce&&ce[De]?ce[De]:[])),De++;return be}function Mt(ze,Oe,Ue,ke,Me,ce){for(var be=[],De=0,Ve=0;Ve<Oe.length;Ve++)for(var it=Oe[Ve],ot=1;ot<A;ot++)for(var Tt=1;Tt<E;Tt++)be.push(He(ze,Tt,ot,it,Ue,ke,Me[Ve],ce&&ce[De]?ce[De]:[])),De++;return be}function Lt(ze,Oe){for(var Ue=[],ke=ze;ke<Oe;ke++)Ue.push(ke);return Ue}function Wt(){for(var ze=0;ze<E;ze++)for(var Oe=0;Oe<A;Oe++)for(var Ue=0;Ue<f;Ue++){var ke=w(ze,Oe,Ue);ue(i._x[ke],i._y[ke],i._z[ke],i._value[ke])}}function Je(){ae(),Wt();var ze=null;if(o&&c&&(X(c),rt(ze,H,_)),s&&m){X(m);for(var Oe=i.surface.pattern,Ue=i.surface.count,ke=0;ke<Ue;ke++){var Me=Ue===1?.5:ke/(Ue-1),ce=(1-Me)*H+Me*_,be=Math.abs(ce-z),De=Math.abs(ce-F),Ve=be>De?[z,ce]:[ce,F];ft(Oe,Ve[0],Ve[1])}}var it=[[Math.min(H,F),Math.max(H,F)],[Math.min(z,_),Math.max(z,_)]];["x","y","z"].forEach(function(ot){for(var Tt=[],It=0;It<it.length;It++){var Ht=0,Gt=it[It][0],Pt=it[It][1],Jt=i.slices[ot];if(Jt.show&&Jt.fill){X(Jt.fill);var or=[],zr=[],mt=[];if(Jt.locations.length)for(var Kt=0;Kt<Jt.locations.length;Kt++){var jt=h(Jt.locations[Kt],ot==="x"?M:ot==="y"?R:T);jt.distRatio===0?or.push(jt.id):jt.id>0&&(zr.push(jt.id),ot==="x"?mt.push([jt.distRatio,0,0]):ot==="y"?mt.push([0,jt.distRatio,0]):mt.push([0,0,jt.distRatio]))}else ot==="x"?or=Lt(1,E-1):ot==="y"?or=Lt(1,A-1):or=Lt(1,f-1);zr.length>0&&(ot==="x"?Tt[Ht]=pt(ze,zr,Gt,Pt,mt,Tt[Ht]):ot==="y"?Tt[Ht]=gt(ze,zr,Gt,Pt,mt,Tt[Ht]):Tt[Ht]=Mt(ze,zr,Gt,Pt,mt,Tt[Ht]),Ht++),or.length>0&&(ot==="x"?Tt[Ht]=We(ze,or,Gt,Pt,Tt[Ht]):ot==="y"?Tt[Ht]=tt(ze,or,Gt,Pt,Tt[Ht]):Tt[Ht]=Ke(ze,or,Gt,Pt,Tt[Ht]),Ht++)}var wr=i.caps[ot];wr.show&&wr.fill&&(X(wr.fill),ot==="x"?Tt[Ht]=We(ze,[0,E-1],Gt,Pt,Tt[Ht]):ot==="y"?Tt[Ht]=tt(ze,[0,A-1],Gt,Pt,Tt[Ht]):Tt[Ht]=Ke(ze,[0,f-1],Gt,Pt,Tt[Ht]),Ht++)}}),l===0&&ae(),i._meshX=B,i._meshY=N,i._meshZ=O,i._meshIntensity=U,i._Xs=M,i._Ys=R,i._Zs=T}return Je(),i}function n(i,s){var o=i.glplot.gl,m=y({gl:o}),c=new d(i,m,s.uid);return m._trace=c,c.update(s),i.glplot.add(m),c}W.exports={findNearestOnAxis:h,generateIsoMeshes:u,createIsosurfaceTrace:n}},82738:function(W,V,e){var y=e(71828),C=e(73972),a=e(16249),L=e(1586);function x(d,t,r,u){function n(i,s){return y.coerce(d,t,a,i,s)}h(d,t,r,u,n)}function h(d,t,r,u,n){var i=n("isomin"),s=n("isomax");s!=null&&i!==void 0&&i!==null&&i>s&&(t.isomin=null,t.isomax=null);var o=n("x"),m=n("y"),c=n("z"),b=n("value");if(!o||!o.length||!m||!m.length||!c||!c.length||!b||!b.length){t.visible=!1;return}var v=C.getComponentMethod("calendars","handleTraceDefaults");v(d,t,["x","y","z"],u),n("valuehoverformat"),["x","y","z"].forEach(function(M){n(M+"hoverformat");var R="caps."+M,T=n(R+".show");T&&n(R+".fill");var E="slices."+M,A=n(E+".show");A&&(n(E+".fill"),n(E+".locations"))});var l=n("spaceframe.show");l&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var S=n("contour.show");S&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(M){n(M)}),L(d,t,u,n,{prefix:"",cLetter:"c"}),t._length=null}W.exports={supplyDefaults:x,supplyIsoDefaults:h}},64943:function(W,V,e){W.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(W,V,e){var y=e(50693),C=e(12663).axisHoverFormat,a=e(5386).fF,L=e(54532),x=e(9012),h=e(1426).extendFlat;W.exports=h({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},y("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:h({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:h({},L.lightposition.x,{dflt:1e5}),y:h({},L.lightposition.y,{dflt:1e5}),z:h({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:h({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:h({},x.hoverinfo,{editType:"calc"}),showlegend:h({},x.showlegend,{dflt:!1})})},82932:function(W,V,e){var y=e(78803);W.exports=function(a,L){L.intensity&&y(a,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},91134:function(W,V,e){var y=e(9330).gl_mesh3d,C=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,L=e(9330).convex_hull,x=e(81697).parseColorScale,h=e(78614),d=e(21081).extractOpts,t=e(90060);function r(b,v,l){this.scene=b,this.uid=l,this.mesh=v,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var u=r.prototype;u.handlePick=function(b){if(b.object===this.mesh){var v=b.index=b.data.index;b.data._cellCenter?b.traceCoordinate=b.data.dataCoordinate:b.traceCoordinate=[this.data.x[v],this.data.y[v],this.data.z[v]];var l=this.data.hovertext||this.data.text;return Array.isArray(l)&&l[v]!==void 0?b.textLabel=l[v]:l&&(b.textLabel=l),!0}};function n(b){for(var v=[],l=b.length,p=0;p<l;p++)v[p]=h(b[p]);return v}function i(b,v,l,p){for(var S=[],M=v.length,R=0;R<M;R++)S[R]=b.d2l(v[R],0,p)*l;return S}function s(b){for(var v=[],l=b.length,p=0;p<l;p++)v[p]=Math.round(b[p]);return v}function o(b,v){for(var l=["x","y","z"].indexOf(b),p=[],S=v.length,M=0;M<S;M++)p[M]=[v[M][(l+1)%3],v[M][(l+2)%3]];return C(p)}function m(b,v){for(var l=b.length,p=0;p<l;p++)if(b[p]<=-.5||b[p]>=v-.5)return!1;return!0}u.update=function(b){var v=this.scene,l=v.fullSceneLayout;this.data=b;var p=b.x.length,S=t(i(l.xaxis,b.x,v.dataScale[0],b.xcalendar),i(l.yaxis,b.y,v.dataScale[1],b.ycalendar),i(l.zaxis,b.z,v.dataScale[2],b.zcalendar)),M;if(b.i&&b.j&&b.k){if(b.i.length!==b.j.length||b.j.length!==b.k.length||!m(b.i,p)||!m(b.j,p)||!m(b.k,p))return;M=t(s(b.i),s(b.j),s(b.k))}else b.alphahull===0?M=L(S):b.alphahull>0?M=a(b.alphahull,S):M=o(b.delaunayaxis,S);var R={positions:S,cells:M,lightPosition:[b.lightposition.x,b.lightposition.y,b.lightposition.z],ambient:b.lighting.ambient,diffuse:b.lighting.diffuse,specular:b.lighting.specular,roughness:b.lighting.roughness,fresnel:b.lighting.fresnel,vertexNormalsEpsilon:b.lighting.vertexnormalsepsilon,faceNormalsEpsilon:b.lighting.facenormalsepsilon,opacity:b.opacity,contourEnable:b.contour.show,contourColor:h(b.contour.color).slice(0,3),contourWidth:b.contour.width,useFacetNormals:b.flatshading};if(b.intensity){var T=d(b);this.color="#fff";var E=b.intensitymode;R[E+"Intensity"]=b.intensity,R[E+"IntensityBounds"]=[T.min,T.max],R.colormap=x(b)}else b.vertexcolor?(this.color=b.vertexcolor[0],R.vertexColors=n(b.vertexcolor)):b.facecolor?(this.color=b.facecolor[0],R.cellColors=n(b.facecolor)):(this.color=b.color,R.meshColor=h(b.color));this.mesh.update(R)},u.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(b,v){var l=b.glplot.gl,p=y({gl:l}),S=new r(b,p,v.uid);return p._trace=S,S.update(v),b.glplot.add(p),S}W.exports=c},58669:function(W,V,e){var y=e(73972),C=e(71828),a=e(1586),L=e(2418);W.exports=function(h,d,t,r){function u(m,c){return C.coerce(h,d,L,m,c)}function n(m){var c=m.map(function(b){var v=u(b);return v&&C.isArrayOrTypedArray(v)?v:null});return c.every(function(b){return b&&b.length===c[0].length})&&c}var i=n(["x","y","z"]);if(!i){d.visible=!1;return}if(n(["i","j","k"]),d.i&&(!d.j||!d.k)||d.j&&(!d.k||!d.i)||d.k&&(!d.i||!d.j)){d.visible=!1;return}var s=y.getComponentMethod("calendars","handleTraceDefaults");s(h,d,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){u(m)});var o=u("contour.show");o&&(u("contour.color"),u("contour.width")),"intensity"in h?(u("intensity"),u("intensitymode"),a(h,d,r,u,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in h?u("facecolor"):"vertexcolor"in h?u("vertexcolor"):u("color",t)),u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),d._length=null}},21164:function(W,V,e){W.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(W,V,e){var y=e(71828).extendFlat,C=e(82196),a=e(12663).axisHoverFormat,L=e(79952).P,x=e(77914),h=e(22372),d=h.INCREASING.COLOR,t=h.DECREASING.COLOR,r=C.line;function u(n){return{line:{color:y({},r.color,{dflt:n}),width:r.width,dash:L,editType:"style"},editType:"style"}}W.exports={xperiod:C.xperiod,xperiod0:C.xperiod0,xperiodalignment:C.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:y({},r.width,{}),dash:y({},L,{}),editType:"style"},increasing:u(d),decreasing:u(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:y({},x.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(W,V,e){var y=e(71828),C=y._,a=e(89298),L=e(42973),x=e(50606).BADNUM;function h(u,n){var i=a.getFromId(u,n.xaxis),s=a.getFromId(u,n.yaxis),o=r(u,i,n),m=n._minDiff;n._minDiff=null;var c=n._origX;n._origX=null;var b=n._xcalc;n._xcalc=null;var v=t(u,n,c,b,s,d);return n._extremes[i._id]=a.findExtremes(i,b,{vpad:m/2}),v.length?(y.extendFlat(v[0].t,{wHover:m/2,tickLen:o}),v):[{t:{empty:!0}}]}function d(u,n,i,s){return{o:u,h:n,l:i,c:s}}function t(u,n,i,s,o,m){for(var c=o.makeCalcdata(n,"open"),b=o.makeCalcdata(n,"high"),v=o.makeCalcdata(n,"low"),l=o.makeCalcdata(n,"close"),p=Array.isArray(n.text),S=Array.isArray(n.hovertext),M=!0,R=null,T=!!n.xperiodalignment,E=[],A=0;A<s.length;A++){var f=s[A],P=c[A],w=b[A],z=v[A],F=l[A];if(f!==x&&P!==x&&w!==x&&z!==x&&F!==x){F===P?R!==null&&F!==R&&(M=F>R):M=F>P,R=F;var H=m(P,w,z,F);H.pos=f,H.yc=(P+F)/2,H.i=A,H.dir=M?"increasing":"decreasing",H.x=H.pos,H.y=[z,w],T&&(H.orig_p=i[A]),p&&(H.tx=n.text[A]),S&&(H.htx=n.hovertext[A]),E.push(H)}else E.push({pos:f,empty:!0})}return n._extremes[o._id]=a.findExtremes(o,y.concat(v,b),{padded:!0}),E.length&&(E[0].t={labels:{open:C(u,"open:")+" ",high:C(u,"high:")+" ",low:C(u,"low:")+" ",close:C(u,"close:")+" "}}),E}function r(u,n,i){var s=i._minDiff;if(!s){var o=u._fullData,m=[];s=1/0;var c;for(c=0;c<o.length;c++){var b=o[c];if(b.type==="ohlc"&&b.visible===!0&&b.xaxis===n._id){m.push(b);var v=n.makeCalcdata(b,"x");b._origX=v;var l=L(i,n,"x",v).vals;b._xcalc=l;var p=y.distinctVals(l).minDiff;p&&isFinite(p)&&(s=Math.min(s,p))}}for(s===1/0&&(s=1),c=0;c<m.length;c++)m[c]._minDiff=s}return s*i.tickwidth}W.exports={calc:h,calcCommon:t}},16169:function(W,V,e){var y=e(71828),C=e(14555),a=e(73927),L=e(2522);W.exports=function(d,t,r,u){function n(s,o){return y.coerce(d,t,L,s,o)}var i=C(d,t,n,u);if(!i){t.visible=!1;return}a(d,t,u,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),x(d,t,n,"increasing"),x(d,t,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),u._requestRangeslider[t.xaxis]=!0};function x(h,d,t,r){t(r+".line.color"),t(r+".line.width",d.line.width),t(r+".line.dash",d.line.dash)}},66449:function(W,V,e){var y=e(89298),C=e(71828),a=e(30211),L=e(7901),x=e(71828).fillText,h=e(22372),d={increasing:h.INCREASING.SYMBOL,decreasing:h.DECREASING.SYMBOL};function t(i,s,o,m){var c=i.cd,b=c[0].trace;return b.hoverlabel.split?u(i,s,o,m):n(i,s,o,m)}function r(i,s,o,m){var c=i.cd,b=i.xa,v=c[0].trace,l=c[0].t,p=v.type,S=p==="ohlc"?"l":"min",M=p==="ohlc"?"h":"max",R,T,E=l.bPos||0,A=function(K){return K.pos+E-s},f=l.bdPos||l.tickLen,P=l.wHover,w=Math.min(1,f/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));R=i.maxHoverDistance-w,T=i.maxSpikeDistance-w;function z(K){var re=A(K);return a.inbox(re-P,re+P,R)}function F(K){var re=K[S],ae=K[M];return re===ae||a.inbox(re-o,ae-o,R)}function H(K){return(z(K)+F(K))/2}var _=a.getDistanceFunction(m,z,F,H);if(a.getClosest(c,_,i),i.index===!1)return null;var B=c[i.index];if(B.empty)return null;var N=B.dir,O=v[N],U=O.line.color;return L.opacity(U)&&O.line.width?i.color=U:i.color=O.fillcolor,i.x0=b.c2p(B.pos+E-f,!0),i.x1=b.c2p(B.pos+E+f,!0),i.xLabelVal=B.orig_p!==void 0?B.orig_p:B.pos,i.spikeDistance=H(B)*T/R,i.xSpike=b.c2p(B.pos,!0),i}function u(i,s,o,m){var c=i.cd,b=i.ya,v=c[0].trace,l=c[0].t,p=[],S=r(i,s,o,m);if(!S)return[];var M=S.index,R=c[M],T=R.hi||v.hoverinfo,E=T.split("+"),A=T==="all",f=A||E.indexOf("y")!==-1;if(!f)return[];for(var P=["high","open","close","low"],w={},z=0;z<P.length;z++){var F=P[z],H=v[F][S.index],_=b.c2p(H,!0),B;H in w?(B=w[H],B.yLabel+="<br>"+l.labels[F]+y.hoverLabelText(b,H,v.yhoverformat)):(B=C.extendFlat({},S),B.y0=B.y1=_,B.yLabelVal=H,B.yLabel=l.labels[F]+y.hoverLabelText(b,H,v.yhoverformat),B.name="",p.push(B),w[H]=B)}return p}function n(i,s,o,m){var c=i.cd,b=i.ya,v=c[0].trace,l=c[0].t,p=r(i,s,o,m);if(!p)return[];var S=p.index,M=c[S],R=p.index=M.i,T=M.dir;function E(H){return l.labels[H]+y.hoverLabelText(b,v[H][R],v.yhoverformat)}var A=M.hi||v.hoverinfo,f=A.split("+"),P=A==="all",w=P||f.indexOf("y")!==-1,z=P||f.indexOf("text")!==-1,F=w?[E("open"),E("high"),E("low"),E("close")+"  "+d[T]]:[];return z&&x(M,v,F),p.extraText=F.join("<br>"),p.y0=p.y1=b.c2p(M.yc,!0),[p]}W.exports={hoverPoints:t,hoverSplit:u,hoverOnPoints:n}},54186:function(W,V,e){W.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(W,V,e){var y=e(73972),C=e(71828);W.exports=function(L,x,h,d){var t=h("x"),r=h("open"),u=h("high"),n=h("low"),i=h("close");h("hoverlabel.split");var s=y.getComponentMethod("calendars","handleTraceDefaults");if(s(L,x,["x"],d),!!(r&&u&&n&&i)){var o=Math.min(r.length,u.length,n.length,i.length);return t&&(o=Math.min(o,C.minRowLength(t))),x._length=o,o}}},72314:function(W,V,e){var y=e(39898),C=e(71828);W.exports=function(L,x,h,d){var t=x.yaxis,r=x.xaxis,u=!!r.rangebreaks;C.makeTraceGroups(d,h,"trace ohlc").each(function(n){var i=y.select(this),s=n[0],o=s.t,m=s.trace;if(m.visible!==!0||o.empty){i.remove();return}var c=o.tickLen,b=i.selectAll("path").data(C.identity);b.enter().append("path"),b.exit().remove(),b.attr("d",function(v){if(v.empty)return"M0,0Z";var l=r.c2p(v.pos-c,!0),p=r.c2p(v.pos+c,!0),S=u?(l+p)/2:r.c2p(v.pos,!0),M=t.c2p(v.o,!0),R=t.c2p(v.h,!0),T=t.c2p(v.l,!0),E=t.c2p(v.c,!0);return"M"+l+","+M+"H"+S+"M"+S+","+R+"V"+T+"M"+p+","+E+"H"+S})})}},67324:function(W){W.exports=function(e,y){var C=e.cd,a=e.xaxis,L=e.yaxis,x=[],h,d=C[0].t.bPos||0;if(y===!1)for(h=0;h<C.length;h++)C[h].selected=0;else for(h=0;h<C.length;h++){var t=C[h];y.contains([a.c2p(t.pos+d),L.c2p(t.yc)],null,t.i,e)?(x.push({pointNumber:t.i,x:a.c2d(t.pos),y:L.c2d(t.yc)}),t.selected=1):t.selected=0}return x}},53101:function(W,V,e){var y=e(39898),C=e(91424),a=e(7901);W.exports=function(x,h,d){var t=d||y.select(x).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var u=r[0].trace;y.select(this).selectAll("path").each(function(n){if(!n.empty){var i=u[n.dir].line;y.select(this).style("fill","none").call(a.stroke,i.color).call(C.dashLine,i.dash,i.width).style("opacity",u.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(W,V,e){var y=e(1426).extendFlat,C=e(9012),a=e(41940),L=e(50693),x=e(5386).fF,h=e(27670).Y,d=y({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:x({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});W.exports={domain:h({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:y({},C.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:x({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:d,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(W,V,e){var y=e(27659).a0,C=e(45784),a="parcats";V.name=a,V.plot=function(L,x,h,d){var t=y(L.calcdata,a);if(t.length){var r=t[0];C(L,r,h,d)}},V.clean=function(L,x,h,d){var t=d._has&&d._has("parcats"),r=x._has&&x._has("parcats");t&&!r&&d._paperdiv.selectAll(".parcats").remove()}},28699:function(W,V,e){var y=e(28984).wrap,C=e(52075).hasColorscale,a=e(78803),L=e(75744),x=e(91424),h=e(71828),d=e(92770);W.exports=function(l,p){var S=h.filterVisible(p.dimensions);if(S.length===0)return[];var M=S.map(function(ee){var J;if(ee.categoryorder==="trace")J=null;else if(ee.categoryorder==="array")J=ee.categoryarray;else{J=L(ee.values);for(var Q=!0,X=0;X<J.length;X++)if(!d(J[X])){Q=!1;break}J.sort(Q?h.sorterAsc:void 0),ee.categoryorder==="category descending"&&(J=J.reverse())}return o(ee.values,J)}),R,T,E;h.isArrayOrTypedArray(p.counts)?R=p.counts:R=[p.counts],m(S),S.forEach(function(ee,J){c(ee,M[J])});var A=p.line,f;A?(C(p,"line")&&a(l,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),f=x.tryColorscale(A)):f=h.identity;function P(ee){var J,Q;return h.isArrayOrTypedArray(A.color)?(J=A.color[ee%A.color.length],Q=J):J=A.color,{color:f(J),rawColor:Q}}var w=S[0].values.length,z={},F=M.map(function(ee){return ee.inds});E=0;var H,_;for(H=0;H<w;H++){var B=[];for(_=0;_<F.length;_++)B.push(F[_][H]);T=R[H%R.length],E+=T;var N=P(H),O=B+"-"+N.rawColor;z[O]===void 0&&(z[O]=i(B,N.color,N.rawColor)),s(z[O],H,T)}var U=S.map(function(ee,J){return r(J,ee._index,ee._displayindex,ee.label,E)});for(H=0;H<w;H++)for(T=R[H%R.length],_=0;_<U.length;_++){var K=U[_].containerInd,re=M[_].inds[H],ae=U[_].categories;if(ae[re]===void 0){var ue=p.dimensions[K]._categoryarray[re],ve=p.dimensions[K]._ticktext[re];ae[re]=u(_,re,ue,ve)}n(ae[re],H,T)}return y(t(U,z,E))};function t(v,l,p){var S=v.map(function(M){return M.categories.length}).reduce(function(M,R){return Math.max(M,R)});return{dimensions:v,paths:l,trace:void 0,maxCats:S,count:p}}function r(v,l,p,S,M){return{dimensionInd:v,containerInd:l,displayInd:p,dimensionLabel:S,count:M,categories:[],dragX:null}}function u(v,l,p,S){return{dimensionInd:v,categoryInd:l,categoryValue:p,displayInd:l,categoryLabel:S,valueInds:[],count:0,dragY:null}}function n(v,l,p){v.valueInds.push(l),v.count+=p}function i(v,l,p){return{categoryInds:v,color:l,rawColor:p,valueInds:[],count:0}}function s(v,l,p){v.valueInds.push(l),v.count+=p}function o(v,l){l==null?l=[]:l=l.map(function(f){return f});var p={},S={},M=[];l.forEach(function(f,P){p[f]=0,S[f]=P});for(var R=0;R<v.length;R++){var T=v[R],E;p[T]===void 0?(p[T]=1,E=l.push(T)-1,S[T]=E):(p[T]++,E=S[T]),M.push(E)}var A=l.map(function(f){return p[f]});return{uniqueValues:l,uniqueCounts:A,inds:M}}function m(v){var l=v.map(function(S){return S.displayindex}),p;if(b(l))for(p=0;p<v.length;p++)v[p]._displayindex=v[p].displayindex;else for(p=0;p<v.length;p++)v[p]._displayindex=p}function c(v,l){v._categoryarray=l.uniqueValues,v.ticktext===null||v.ticktext===void 0?v._ticktext=[]:v._ticktext=v.ticktext.slice();for(var p=v._ticktext.length;p<l.uniqueValues.length;p++)v._ticktext.push(l.uniqueValues[p])}function b(v){for(var l=new Array(v.length),p=0;p<v.length;p++){if(v[p]<0||v[p]>=v.length||l[v[p]]!==void 0)return!1;l[v[p]]=!0}return!0}},14647:function(W,V,e){var y=e(71828),C=e(52075).hasColorscale,a=e(1586),L=e(27670).c,x=e(85501),h=e(99506),d=e(94397);function t(u,n,i,s,o){o("line.shape"),o("line.hovertemplate");var m=o("line.color",s.colorway[0]);if(C(u,"line")&&y.isArrayOrTypedArray(m)){if(m.length)return o("line.colorscale"),a(u,n,s,o,{prefix:"line.",cLetter:"c"}),m.length;n.line.color=i}return 1/0}function r(u,n){function i(l,p){return y.coerce(u,n,h.dimensions,l,p)}var s=i("values"),o=i("visible");if(s&&s.length||(o=n.visible=!1),o){i("label"),i("displayindex",n._index);var m=u.categoryarray,c=Array.isArray(m)&&m.length>0,b;c&&(b="array");var v=i("categoryorder",b);v==="array"?(i("categoryarray"),i("ticktext")):(delete u.categoryarray,delete u.ticktext),!c&&v==="array"&&(n.categoryorder="trace")}}W.exports=function(n,i,s,o){function m(p,S){return y.coerce(n,i,h,p,S)}var c=x(n,i,{name:"dimensions",handleItemDefaults:r}),b=t(n,i,s,o,m);L(i,o,m),(!Array.isArray(c)||!c.length)&&(i.visible=!1),d(i,c,"values",b),m("hoveron"),m("hovertemplate"),m("arrangement"),m("bundlecolors"),m("sortpaths"),m("counts");var v={family:o.font.family,size:Math.round(o.font.size),color:o.font.color};y.coerceFont(m,"labelfont",v);var l={family:o.font.family,size:Math.round(o.font.size/1.2),color:o.font.color};y.coerceFont(m,"tickfont",l)}},94873:function(W,V,e){W.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(W,V,e){var y=e(39898),C=e(81684).k4,a=e(72391),L=e(30211),x=e(71828),h=x.strTranslate,d=e(91424),t=e(84267),r=e(63893);function u(X,q,se,Y){var Z=q._context.staticPlot,ie=X.map(ue.bind(0,q,se)),te=Y.selectAll("g.parcatslayer").data([null]);te.enter().append("g").attr("class","parcatslayer").style("pointer-events",Z?"none":"all");var fe=te.selectAll("g.trace.parcats").data(ie,n),de=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(We){return h(We.x,We.y)}),de.append("g").attr("class","paths");var we=fe.select("g.paths"),Ae=we.selectAll("path.path").data(function(We){return We.paths},n);Ae.attr("fill",function(We){return We.model.color});var Re=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(We){return We.model.color}).attr("fill-opacity",0);l(Re),Ae.attr("d",function(We){return We.svgD}),Re.empty()||Ae.sort(s),Ae.exit().remove(),Ae.on("mouseover",o).on("mouseout",m).on("click",v),de.append("g").attr("class","dimensions");var Fe=fe.select("g.dimensions"),Se=Fe.selectAll("g.dimension").data(function(We){return We.dimensions},n);Se.enter().append("g").attr("class","dimension"),Se.attr("transform",function(We){return h(We.x,0)}),Se.exit().remove();var Te=Se.selectAll("g.category").data(function(We){return We.categories},n),Ee=Te.enter().append("g").attr("class","category");Te.attr("transform",function(We){return h(0,We.y)}),Ee.append("rect").attr("class","catrect").attr("pointer-events","none"),Te.select("rect.catrect").attr("fill","none").attr("width",function(We){return We.width}).attr("height",function(We){return We.height}),M(Ee);var Ne=Te.selectAll("rect.bandrect").data(function(We){return We.bands},n);Ne.each(function(){x.raiseToTop(this)}),Ne.attr("fill",function(We){return We.color});var He=Ne.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(We){return We.color}).attr("fill-opacity",0);Ne.attr("fill",function(We){return We.color}).attr("width",function(We){return We.width}).attr("height",function(We){return We.height}).attr("y",function(We){return We.y}).attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":We.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),T(He),Ne.exit().remove(),Ee.append("text").attr("class","catlabel").attr("pointer-events","none");var _e=q._fullLayout.paper_bgcolor;Te.select("text.catlabel").attr("text-anchor",function(We){return i(We)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(_e)).style("fill","rgb(0, 0, 0)").attr("x",function(We){return i(We)?We.width+5:-5}).attr("y",function(We){return We.height/2}).text(function(We){return We.model.categoryLabel}).each(function(We){d.font(y.select(this),We.parcatsViewModel.categorylabelfont),r.convertToTspans(y.select(this),q)}),Ee.append("text").attr("class","dimlabel"),Te.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(We){return We.width/2}).attr("y",-5).text(function(We,tt){return tt===0?We.parcatsViewModel.model.dimensions[We.model.dimensionInd].dimensionLabel:null}).each(function(We){d.font(y.select(this),We.parcatsViewModel.labelfont)}),Te.selectAll("rect.bandrect").on("mouseover",_).on("mouseout",B),Te.exit().remove(),Se.call(y.behavior.drag().origin(function(We){return{x:We.x,y:0}}).on("dragstart",N).on("drag",O).on("dragend",U)),fe.each(function(We){We.traceSelection=y.select(this),We.pathSelection=y.select(this).selectAll("g.paths").selectAll("path.path"),We.dimensionSelection=y.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}W.exports=function(X,q,se,Y){u(se,X,Y,q)};function n(X){return X.key}function i(X){var q=X.parcatsViewModel.dimensions.length,se=X.parcatsViewModel.dimensions[q-1].model.dimensionInd;return X.model.dimensionInd===se}function s(X,q){return X.model.rawColor>q.model.rawColor?1:X.model.rawColor<q.model.rawColor?-1:0}function o(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){x.raiseToTop(this),p(y.select(this));var q=c(X),se=b(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:y.event,constraints:se}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Y=y.mouse(this)[0],Z=X.parcatsViewModel.graphDiv,ie=X.parcatsViewModel.trace,te=Z._fullLayout,fe=te._paperdiv.node().getBoundingClientRect(),de=X.parcatsViewModel.graphDiv.getBoundingClientRect(),we,Ae,Re;for(Re=0;Re<X.leftXs.length-1;Re++)if(X.leftXs[Re]+X.dimWidths[Re]-2<=Y&&Y<=X.leftXs[Re+1]+2){var Fe=X.parcatsViewModel.dimensions[Re],Se=X.parcatsViewModel.dimensions[Re+1];we=(Fe.x+Fe.width+Se.x)/2,Ae=(X.topYs[Re]+X.topYs[Re+1]+X.height)/2;break}var Te=X.parcatsViewModel.x+we,Ee=X.parcatsViewModel.y+Ae,Ne=t.mostReadable(X.model.color,["black","white"]),He=X.model.count,_e=He/X.parcatsViewModel.model.count,We={countLabel:He,probabilityLabel:_e.toFixed(3)},tt=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&tt.push(["Count:",We.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&tt.push(["P:",We.probabilityLabel].join(" "));var Ke=tt.join("<br>"),qe=y.mouse(Z)[0];L.loneHover({trace:ie,x:Te-fe.left+de.left,y:Ee-fe.top+de.top,text:Ke,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ne,idealAlign:qe<Te?"right":"left",hovertemplate:(ie.line||{}).hovertemplate,hovertemplateLabels:We,eventData:[{data:ie._input,fullData:ie,count:He,probability:_e}]},{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:Z})}}}function m(X){if(!X.parcatsViewModel.dragDimension&&(l(y.select(this)),L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(s),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var q=c(X),se=b(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:y.event,constraints:se})}}function c(X){for(var q=[],se=K(X.parcatsViewModel),Y=0;Y<X.model.valueInds.length;Y++){var Z=X.model.valueInds[Y];q.push({curveNumber:se,pointNumber:Z})}return q}function b(X){for(var q={},se=X.parcatsViewModel.model.dimensions,Y=0;Y<se.length;Y++){var Z=se[Y],ie=Z.categories[X.model.categoryInds[Y]];q[Z.containerInd]=ie.categoryValue}return X.model.rawColor!==void 0&&(q.color=X.model.rawColor),q}function v(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=c(X),se=b(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:y.event,constraints:se})}}function l(X){X.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(X){X.attr("fill-opacity",.8).attr("stroke",function(q){return t.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function S(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function M(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function R(X){X.attr("stroke","black").attr("stroke-width",1.5)}function T(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(X){var q=X.parcatsViewModel.pathSelection,se=X.categoryViewModel.model.dimensionInd,Y=X.categoryViewModel.model.categoryInd;return q.filter(function(Z){return Z.model.categoryInds[se]===Y&&Z.model.color===X.color})}function A(X){var q=y.select(X.parentNode).selectAll("rect.bandrect");q.each(function(se){var Y=E(se);p(Y),Y.each(function(){x.raiseToTop(this)})}),S(y.select(X.parentNode))}function f(X){var q=y.select(X).datum(),se=E(q);p(se),se.each(function(){x.raiseToTop(this)}),y.select(X.parentNode).selectAll("rect.bandrect").filter(function(Y){return Y.color===q.color}).each(function(){x.raiseToTop(this),R(y.select(this))})}function P(X,q,se){var Y=y.select(X).datum(),Z=Y.categoryViewModel.model,ie=Y.parcatsViewModel.graphDiv,te=y.select(X.parentNode).selectAll("rect.bandrect"),fe=[];te.each(function(we){var Ae=E(we);Ae.each(function(Re){Array.prototype.push.apply(fe,c(Re))})});var de={};de[Z.dimensionInd]=Z.categoryValue,ie.emit(q,{points:fe,event:se,constraints:de})}function w(X,q,se){var Y=y.select(X).datum(),Z=Y.categoryViewModel.model,ie=Y.parcatsViewModel.graphDiv,te=E(Y),fe=[];te.each(function(we){Array.prototype.push.apply(fe,c(we))});var de={};de[Z.dimensionInd]=Z.categoryValue,Y.rawColor!==void 0&&(de.color=Y.rawColor),ie.emit(q,{points:fe,event:se,constraints:de})}function z(X,q,se){X._fullLayout._calcInverseTransform(X);var Y=X._fullLayout._invScaleX,Z=X._fullLayout._invScaleY,ie=y.select(se.parentNode).select("rect.catrect"),te=ie.node().getBoundingClientRect(),fe=ie.datum(),de=fe.parcatsViewModel,we=de.model.dimensions[fe.model.dimensionInd],Ae=de.trace,Re=te.top+te.height/2,Fe,Se;de.dimensions.length>1&&we.displayInd===de.dimensions.length-1?(Fe=te.left,Se="left"):(Fe=te.left+te.width,Se="right");var Te=fe.model.count,Ee=fe.model.categoryLabel,Ne=Te/fe.parcatsViewModel.model.count,He={countLabel:Te,categoryLabel:Ee,probabilityLabel:Ne.toFixed(3)},_e=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&_e.push(["Count:",He.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&_e.push(["P("+He.categoryLabel+"):",He.probabilityLabel].join(" "));var We=_e.join("<br>");return{trace:Ae,x:Y*(Fe-q.left),y:Z*(Re-q.top),text:We,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Se,hovertemplate:Ae.hovertemplate,hovertemplateLabels:He,eventData:[{data:Ae._input,fullData:Ae,count:Te,category:Ee,probability:Ne}]}}function F(X,q,se){var Y=[];return y.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var Z=this;Y.push(z(X,q,Z))}),Y}function H(X,q,se){X._fullLayout._calcInverseTransform(X);var Y=X._fullLayout._invScaleX,Z=X._fullLayout._invScaleY,ie=se.getBoundingClientRect(),te=y.select(se).datum(),fe=te.categoryViewModel,de=fe.parcatsViewModel,we=de.model.dimensions[fe.model.dimensionInd],Ae=de.trace,Re=ie.y+ie.height/2,Fe,Se;de.dimensions.length>1&&we.displayInd===de.dimensions.length-1?(Fe=ie.left,Se="left"):(Fe=ie.left+ie.width,Se="right");var Te=fe.model.categoryLabel,Ee=te.parcatsViewModel.model.count,Ne=0;te.categoryViewModel.bands.forEach(function(gt){gt.color===te.color&&(Ne+=gt.count)});var He=fe.model.count,_e=0;de.pathSelection.each(function(gt){gt.model.color===te.color&&(_e+=gt.model.count)});var We=Ne/Ee,tt=Ne/_e,Ke=Ne/He,qe={countLabel:Ee,categoryLabel:Te,probabilityLabel:We.toFixed(3)},rt=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&rt.push(["Count:",qe.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(rt.push("P(color  "+Te+"): "+qe.probabilityLabel),rt.push("P("+Te+" | color): "+tt.toFixed(3)),rt.push("P(color | "+Te+"): "+Ke.toFixed(3)));var ft=rt.join("<br>"),pt=t.mostReadable(te.color,["black","white"]);return{trace:Ae,x:Y*(Fe-q.left),y:Z*(Re-q.top),text:ft,color:te.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:pt,fontSize:10,idealAlign:Se,hovertemplate:Ae.hovertemplate,hovertemplateLabels:qe,eventData:[{data:Ae._input,fullData:Ae,category:Te,count:Ee,probability:We,categorycount:He,colorcount:_e,bandcolorcount:Ne}]}}function _(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=y.mouse(this)[1];if(q<-1)return;var se=X.parcatsViewModel.graphDiv,Y=se._fullLayout,Z=Y._paperdiv.node().getBoundingClientRect(),ie=X.parcatsViewModel.hoveron,te=this;if(ie==="color"?(f(te),w(te,"plotly_hover",y.event)):(A(te),P(te,"plotly_hover",y.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;ie==="category"?fe=z(se,Z,te):ie==="color"?fe=H(se,Z,te):ie==="dimension"&&(fe=F(se,Z,te)),fe&&L.loneHover(fe,{container:Y._hoverlayer.node(),outerContainer:Y._paper.node(),gd:se})}}}function B(X){var q=X.parcatsViewModel;if(!q.dragDimension&&(l(q.pathSelection),M(q.dimensionSelection.selectAll("g.category")),T(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(s),q.hoverinfoItems.indexOf("skip")===-1)){var se=X.parcatsViewModel.hoveron,Y=this;se==="color"?w(Y,"plotly_unhover",y.event):P(Y,"plotly_unhover",y.event)}}function N(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,y.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var se=y.mouse(this)[0],Y=y.mouse(this)[1];-2<=se&&se<=q.width+2&&-2<=Y&&Y<=q.height+2&&(X.dragCategoryDisplayInd=q.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(Z){return Z.displayInd}),q.model.dragY=q.y,x.raiseToTop(this.parentNode),y.select(this.parentNode).selectAll("rect.bandrect").each(function(Z){Z.y<Y&&Y<=Z.y+Z.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,L.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var q=X.dragDimensionDisplayInd,se=q-1,Y=q+1,Z=X.parcatsViewModel.dimensions[q];if(X.dragCategoryDisplayInd!==null){var ie=Z.categories[X.dragCategoryDisplayInd];ie.model.dragY+=y.event.dy;var te=ie.model.dragY,fe=ie.model.displayInd,de=Z.categories,we=de[fe-1],Ae=de[fe+1];we!==void 0&&te<we.y+we.height/2&&(ie.model.displayInd=we.model.displayInd,we.model.displayInd=fe),Ae!==void 0&&te+ie.height>Ae.y+Ae.height/2&&(ie.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=fe),X.dragCategoryDisplayInd=ie.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){Z.model.dragX=y.event.x;var Re=X.parcatsViewModel.dimensions[se],Fe=X.parcatsViewModel.dimensions[Y];Re!==void 0&&Z.model.dragX<Re.x+Re.width&&(Z.model.displayInd=Re.model.displayInd,Re.model.displayInd=q),Fe!==void 0&&Z.model.dragX+Z.width>Fe.x&&(Z.model.displayInd=Fe.model.displayInd,Fe.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=Z.model.displayInd}J(X.parcatsViewModel),ee(X.parcatsViewModel),ae(X.parcatsViewModel),re(X.parcatsViewModel)}}function U(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){y.select(this).selectAll("text").attr("font-weight","normal");var q={},se=K(X.parcatsViewModel),Y=X.parcatsViewModel.model.dimensions.map(function(Fe){return Fe.displayInd}),Z=X.initialDragDimensionDisplayInds.some(function(Fe,Se){return Fe!==Y[Se]});Z&&Y.forEach(function(Fe,Se){var Te=X.parcatsViewModel.model.dimensions[Se].containerInd;q["dimensions["+Te+"].displayindex"]=Fe});var ie=!1;if(X.dragCategoryDisplayInd!==null){var te=X.model.categories.map(function(Fe){return Fe.displayInd});if(ie=X.initialDragCategoryDisplayInds.some(function(Fe,Se){return Fe!==te[Se]}),ie){var fe=X.model.categories.slice().sort(function(Fe,Se){return Fe.displayInd-Se.displayInd}),de=fe.map(function(Fe){return Fe.categoryValue}),we=fe.map(function(Fe){return Fe.categoryLabel});q["dimensions["+X.model.containerInd+"].categoryarray"]=[de],q["dimensions["+X.model.containerInd+"].ticktext"]=[we],q["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?w(X.potentialClickBand,"plotly_click",y.event.sourceEvent):P(X.potentialClickBand,"plotly_click",y.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var Ae=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];Ae.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,J(X.parcatsViewModel),ee(X.parcatsViewModel);var Re=y.transition().duration(300).ease("cubic-in-out");Re.each(function(){ae(X.parcatsViewModel,!0),re(X.parcatsViewModel,!0)}).each("end",function(){(Z||ie)&&a.restyle(X.parcatsViewModel.graphDiv,q,[se])})}}function K(X){for(var q,se=X.graphDiv._fullData,Y=0;Y<se.length;Y++)if(X.key===se[Y].uid){q=Y;break}return q}function re(X,q){q===void 0&&(q=!1);function se(Y){return q?Y.transition():Y}X.pathSelection.data(function(Y){return Y.paths},n),se(X.pathSelection).attr("d",function(Y){return Y.svgD})}function ae(X,q){q===void 0&&(q=!1);function se(de){return q?de.transition():de}X.dimensionSelection.data(function(de){return de.dimensions},n);var Y=X.dimensionSelection.selectAll("g.category").data(function(de){return de.categories},n);se(X.dimensionSelection).attr("transform",function(de){return h(de.x,0)}),se(Y).attr("transform",function(de){return h(0,de.y)});var Z=Y.select(".dimlabel");Z.text(function(de,we){return we===0?de.parcatsViewModel.model.dimensions[de.model.dimensionInd].dimensionLabel:null});var ie=Y.select(".catlabel");ie.attr("text-anchor",function(de){return i(de)?"start":"end"}).attr("x",function(de){return i(de)?de.width+5:-5}).each(function(de){var we,Ae;i(de)?(we=de.width+5,Ae="start"):(we=-5,Ae="end"),y.select(this).selectAll("tspan").attr("x",we).attr("text-anchor",Ae)});var te=Y.selectAll("rect.bandrect").data(function(de){return de.bands},n),fe=te.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(de){return de.color}).attr("fill-opacity",0);te.attr("fill",function(de){return de.color}).attr("width",function(de){return de.width}).attr("height",function(de){return de.height}).attr("y",function(de){return de.y}),T(fe),te.each(function(){x.raiseToTop(this)}),te.exit().remove()}function ue(X,q,se){var Y=se[0],Z=q.margin||{l:80,r:80,t:100,b:80},ie=Y.trace,te=ie.domain,fe=q.width,de=q.height,we=Math.floor(fe*(te.x[1]-te.x[0])),Ae=Math.floor(de*(te.y[1]-te.y[0])),Re=te.x[0]*fe+Z.l,Fe=q.height-te.y[1]*q.height+Z.t,Se=ie.line.shape,Te;ie.hoverinfo==="all"?Te=["count","probability"]:Te=(ie.hoverinfo||"").split("+");var Ee={trace:ie,key:ie.uid,model:Y,x:Re,y:Fe,width:we,height:Ae,hoveron:ie.hoveron,hoverinfoItems:Te,arrangement:ie.arrangement,bundlecolors:ie.bundlecolors,sortpaths:ie.sortpaths,labelfont:ie.labelfont,categorylabelfont:ie.tickfont,pathShape:Se,dragDimension:null,margin:Z,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return Y.dimensions&&(J(Ee),ee(Ee)),Ee}function ve(X,q,se,Y,Z){var ie=[],te=[],fe,de;for(de=0;de<se.length-1;de++)fe=C(se[de]+X[de],X[de+1]),ie.push(fe(Z)),te.push(fe(1-Z));var we="M "+X[0]+","+q[0];for(we+="l"+se[0]+",0 ",de=1;de<se.length;de++)we+="C"+ie[de-1]+","+q[de-1]+" "+te[de-1]+","+q[de]+" "+X[de]+","+q[de],we+="l"+se[de]+",0 ";for(we+="l0,"+Y+" ",we+="l -"+se[se.length-1]+",0 ",de=se.length-2;de>=0;de--)we+="C"+te[de]+","+(q[de+1]+Y)+" "+ie[de]+","+(q[de]+Y)+" "+(X[de]+se[de])+","+(q[de]+Y),we+="l-"+se[de]+",0 ";return we+="Z",we}function ee(X){var q=X.dimensions,se=X.model,Y=q.map(function(Wt){return Wt.categories.map(function(Je){return Je.y})}),Z=X.model.dimensions.map(function(Wt){return Wt.categories.map(function(Je){return Je.displayInd})}),ie=X.model.dimensions.map(function(Wt){return Wt.displayInd}),te=X.dimensions.map(function(Wt){return Wt.model.dimensionInd}),fe=q.map(function(Wt){return Wt.x}),de=q.map(function(Wt){return Wt.width}),we=[];for(var Ae in se.paths)se.paths.hasOwnProperty(Ae)&&we.push(se.paths[Ae]);function Re(Wt){var Je=Wt.categoryInds.map(function(Oe,Ue){return Z[Ue][Oe]}),ze=te.map(function(Oe){return Je[Oe]});return ze}we.sort(function(Wt,Je){var ze=Re(Wt),Oe=Re(Je);return X.sortpaths==="backward"&&(ze.reverse(),Oe.reverse()),ze.push(Wt.valueInds[0]),Oe.push(Je.valueInds[0]),X.bundlecolors&&(ze.unshift(Wt.rawColor),Oe.unshift(Je.rawColor)),ze<Oe?-1:ze>Oe?1:0});for(var Fe=new Array(we.length),Se=q[0].model.count,Te=q[0].categories.map(function(Wt){return Wt.height}).reduce(function(Wt,Je){return Wt+Je}),Ee=0;Ee<we.length;Ee++){var Ne=we[Ee],He;Se>0?He=Te*(Ne.count/Se):He=0;for(var _e=new Array(Y.length),We=0;We<Ne.categoryInds.length;We++){var tt=Ne.categoryInds[We],Ke=Z[We][tt],qe=ie[We];_e[qe]=Y[qe][Ke],Y[qe][Ke]+=He;var rt=X.dimensions[qe].categories[Ke],ft=rt.bands.length,pt=rt.bands[ft-1];if(pt===void 0||Ne.rawColor!==pt.rawColor){var gt=pt===void 0?0:pt.y+pt.height;rt.bands.push({key:gt,color:Ne.color,rawColor:Ne.rawColor,height:He,width:rt.width,count:Ne.count,y:gt,categoryViewModel:rt,parcatsViewModel:X})}else{var Mt=rt.bands[ft-1];Mt.height+=He,Mt.count+=Ne.count}}var Lt;X.pathShape==="hspline"?Lt=ve(fe,_e,de,He,.5):Lt=ve(fe,_e,de,He,0),Fe[Ee]={key:Ne.valueInds[0],model:Ne,height:He,leftXs:fe,topYs:_e,dimWidths:de,svgD:Lt,parcatsViewModel:X}}X.paths=Fe}function J(X){var q=X.model.dimensions.map(function(te){return{displayInd:te.displayInd,dimensionInd:te.dimensionInd}});q.sort(function(te,fe){return te.displayInd-fe.displayInd});var se=[];for(var Y in q){var Z=q[Y].dimensionInd,ie=X.model.dimensions[Z];se.push(Q(X,ie))}X.dimensions=se}function Q(X,q){var se=40,Y=16,Z=X.model.dimensions.length,ie=q.displayInd,te,fe,de;Z>1?te=(X.width-2*se-Y)/(Z-1):te=0,fe=se,de=fe+te*ie;var we=[],Ae=X.model.maxCats,Re=q.categories.length,Fe=8,Se=q.count,Te=X.height-Fe*(Ae-1),Ee,Ne,He,_e,We,tt=(Ae-Re)*Fe/2,Ke=q.categories.map(function(qe){return{displayInd:qe.displayInd,categoryInd:qe.categoryInd}});for(Ke.sort(function(qe,rt){return qe.displayInd-rt.displayInd}),We=0;We<Re;We++)_e=Ke[We].categoryInd,Ne=q.categories[_e],Se>0?Ee=Ne.count/Se*Te:Ee=0,He={key:Ne.valueInds[0],model:Ne,width:Y,height:Ee,y:Ne.dragY!==null?Ne.dragY:tt,bands:[],parcatsViewModel:X},tt=tt+Ee+Fe,we.push(He);return{key:q.dimensionInd,x:q.dragX!==null?q.dragX:de,y:0,width:Y,model:q,categories:we,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(W,V,e){var y=e(45460);W.exports=function(a,L,x,h){var d=a._fullLayout,t=d._paper,r=d._size;y(a,t,L,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},x,h)}},73362:function(W,V,e){var y=e(50693),C=e(13838),a=e(41940),L=e(27670).Y,x=e(1426).extendFlat,h=e(44467).templatedArray;W.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:h("dimension",{label:{valType:"string",editType:"plot"},tickvals:x({},C.tickvals,{editType:"plot"}),ticktext:x({},C.ticktext,{editType:"plot"}),tickformat:x({},C.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:x({editType:"calc"},y("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(W,V,e){var y=e(25706),C=e(39898),a=e(28984).keyFun,L=e(28984).repeat,x=e(71828).sorterAsc,h=e(71828).strTranslate,d=y.bar.snapRatio;function t(U,K){return U*(1-d)+K*d}var r=y.bar.snapClose;function u(U,K){return U*(1-r)+K*r}function n(U,K,re,ae){if(i(re,ae))return re;var ue=U?-1:1,ve=0,ee=K.length-1;if(ue<0){var J=ve;ve=ee,ee=J}for(var Q=K[ve],X=Q,q=ve;ue*q<ue*ee;q+=ue){var se=q+ue,Y=K[se];if(ue*re<ue*u(Q,Y))return t(Q,X);if(ue*re<ue*Y||se===ee)return t(Y,Q);X=Q,Q=Y}}function i(U,K){for(var re=0;re<K.length;re++)if(U>=K[re][0]&&U<=K[re][1])return!0;return!1}function s(U){U.attr("x",-y.bar.captureWidth/2).attr("width",y.bar.captureWidth)}function o(U){U.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(U){if(!U.brush.filterSpecified)return"0,"+U.height;for(var K=c(U.brush.filter.getConsolidated(),U.height),re=[0],ae,ue,ve,ee=K.length?K[0][0]:null,J=0;J<K.length;J++)ae=K[J],ue=ae[1]-ae[0],re.push(ee),re.push(ue),ve=J+1,ve<K.length&&(ee=K[ve][0]-ae[1]);return re.push(U.height),re}function c(U,K){return U.map(function(re){return re.map(function(ae){return Math.max(0,ae*K)}).sort(x)})}function b(U,K){var re=y.bar.handleHeight;if(!(K>U[1]+re||K<U[0]-re))return K>=.9*U[1]+.1*U[0]?"n":K<=.9*U[0]+.1*U[1]?"s":"ns"}function v(){C.select(document.body).style("cursor",null)}function l(U){U.attr("stroke-dasharray",m)}function p(U,K){var re=C.select(U).selectAll(".highlight, .highlight-shadow"),ae=K?re.transition().duration(y.bar.snapDuration).each("end",K):re;l(ae)}function S(U,K){var re=U.brush,ae=re.filterSpecified,ue=NaN,ve={},ee;if(ae){var J=U.height,Q=re.filter.getConsolidated(),X=c(Q,J),q=NaN,se=NaN,Y=NaN;for(ee=0;ee<=X.length;ee++){var Z=X[ee];if(Z&&Z[0]<=K&&K<=Z[1]){q=ee;break}else if(se=ee?ee-1:NaN,Z&&Z[0]>K){Y=ee;break}}if(ue=q,isNaN(ue)&&(isNaN(se)||isNaN(Y)?ue=isNaN(se)?Y:se:ue=K-X[se][1]<X[Y][0]-K?se:Y),!isNaN(ue)){var ie=X[ue],te=b(ie,K);te&&(ve.interval=Q[ue],ve.intervalPix=ie,ve.region=te)}}if(U.ordinal&&!ve.region){var fe=U.unitTickvals,de=U.unitToPaddedPx.invert(K);for(ee=0;ee<fe.length;ee++){var we=[fe[Math.max(ee-1,0)]*.25+fe[ee]*.75,fe[Math.min(ee+1,fe.length-1)]*.25+fe[ee]*.75];if(de>=we[0]&&de<=we[1]){ve.clickableOrdinalRange=we;break}}}return ve}function M(U,K){C.event.sourceEvent.stopPropagation();var re=K.height-C.mouse(U)[1]-2*y.verticalPadding,ae=K.unitToPaddedPx.invert(re),ue=K.brush,ve=S(K,re),ee=ve.interval,J=ue.svgBrush;if(J.wasDragged=!1,J.grabbingBar=ve.region==="ns",J.grabbingBar){var Q=ee.map(K.unitToPaddedPx);J.grabPoint=re-Q[0]-y.verticalPadding,J.barLength=Q[1]-Q[0]}J.clickableOrdinalRange=ve.clickableOrdinalRange,J.stayingIntervals=K.multiselect&&ue.filterSpecified?ue.filter.getConsolidated():[],ee&&(J.stayingIntervals=J.stayingIntervals.filter(function(X){return X[0]!==ee[0]&&X[1]!==ee[1]})),J.startExtent=ve.region?ee[ve.region==="s"?1:0]:ae,K.parent.inBrushDrag=!0,J.brushStartCallback()}function R(U,K){C.event.sourceEvent.stopPropagation();var re=K.height-C.mouse(U)[1]-2*y.verticalPadding,ae=K.brush.svgBrush;ae.wasDragged=!0,ae._dragging=!0,ae.grabbingBar?ae.newExtent=[re-ae.grabPoint,re+ae.barLength-ae.grabPoint].map(K.unitToPaddedPx.invert):ae.newExtent=[ae.startExtent,K.unitToPaddedPx.invert(re)].sort(x),K.brush.filterSpecified=!0,ae.extent=ae.stayingIntervals.concat([ae.newExtent]),ae.brushCallback(K),p(U.parentNode)}function T(U,K){var re=K.brush,ae=re.filter,ue=re.svgBrush;ue._dragging||(E(U,K),R(U,K),K.brush.svgBrush.wasDragged=!1),ue._dragging=!1;var ve=C.event;ve.sourceEvent.stopPropagation();var ee=ue.grabbingBar;if(ue.grabbingBar=!1,ue.grabLocation=void 0,K.parent.inBrushDrag=!1,v(),!ue.wasDragged){ue.wasDragged=void 0,ue.clickableOrdinalRange?re.filterSpecified&&K.multiselect?ue.extent.push(ue.clickableOrdinalRange):(ue.extent=[ue.clickableOrdinalRange],re.filterSpecified=!0):ee?(ue.extent=ue.stayingIntervals,ue.extent.length===0&&F(re)):F(re),ue.brushCallback(K),p(U.parentNode),ue.brushEndCallback(re.filterSpecified?ae.getConsolidated():[]);return}var J=function(){ae.set(ae.getConsolidated())};if(K.ordinal){var Q=K.unitTickvals;Q[Q.length-1]<Q[0]&&Q.reverse(),ue.newExtent=[n(0,Q,ue.newExtent[0],ue.stayingIntervals),n(1,Q,ue.newExtent[1],ue.stayingIntervals)];var X=ue.newExtent[1]>ue.newExtent[0];ue.extent=ue.stayingIntervals.concat(X?[ue.newExtent]:[]),ue.extent.length||F(re),ue.brushCallback(K),X?p(U.parentNode,J):(J(),p(U.parentNode))}else J();ue.brushEndCallback(re.filterSpecified?ae.getConsolidated():[])}function E(U,K){var re=K.height-C.mouse(U)[1]-2*y.verticalPadding,ae=S(K,re),ue="crosshair";ae.clickableOrdinalRange?ue="pointer":ae.region&&(ue=ae.region+"-resize"),C.select(document.body).style("cursor",ue)}function A(U){U.on("mousemove",function(K){C.event.preventDefault(),K.parent.inBrushDrag||E(this,K)}).on("mouseleave",function(K){K.parent.inBrushDrag||v()}).call(C.behavior.drag().on("dragstart",function(K){M(this,K)}).on("drag",function(K){R(this,K)}).on("dragend",function(K){T(this,K)}))}function f(U,K){return U[0]-K[0]}function P(U,K,re){var ae=re._context.staticPlot,ue=U.selectAll(".background").data(L);ue.enter().append("rect").classed("background",!0).call(s).call(o).style("pointer-events",ae?"none":"auto").attr("transform",h(0,y.verticalPadding)),ue.call(A).attr("height",function(J){return J.height-y.verticalPadding});var ve=U.selectAll(".highlight-shadow").data(L);ve.enter().append("line").classed("highlight-shadow",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width+y.bar.strokeWidth).attr("stroke",K).attr("opacity",y.bar.strokeOpacity).attr("stroke-linecap","butt"),ve.attr("y1",function(J){return J.height}).call(l);var ee=U.selectAll(".highlight").data(L);ee.enter().append("line").classed("highlight",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width-y.bar.strokeWidth).attr("stroke",y.bar.fillColor).attr("opacity",y.bar.fillOpacity).attr("stroke-linecap","butt"),ee.attr("y1",function(J){return J.height}).call(l)}function w(U,K,re){var ae=U.selectAll("."+y.cn.axisBrush).data(L,a);ae.enter().append("g").classed(y.cn.axisBrush,!0),P(ae,K,re)}function z(U){return U.svgBrush.extent.map(function(K){return K.slice()})}function F(U){U.filterSpecified=!1,U.svgBrush.extent=[[-1/0,1/0]]}function H(U){return function(re){var ae=re.brush,ue=z(ae),ve=ue.slice();ae.filter.set(ve),U()}}function _(U){for(var K=U.slice(),re=[],ae,ue=K.shift();ue;){for(ae=ue.slice();(ue=K.shift())&&ue[0]<=ae[1];)ae[1]=Math.max(ae[1],ue[1]);re.push(ae)}return re.length===1&&re[0][0]>re[0][1]&&(re=[]),re}function B(){var U=[],K,re;return{set:function(ae){U=ae.map(function(ue){return ue.slice().sort(x)}).sort(f),U.length===1&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),K=_(U),re=U.reduce(function(ue,ve){return[Math.min(ue[0],ve[0]),Math.max(ue[1],ve[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return K},getBounds:function(){return re}}}function N(U,K,re,ae,ue,ve){var ee=B();return ee.set(re),{filter:ee,filterSpecified:K,svgBrush:{extent:[],brushStartCallback:ae,brushCallback:H(ue),brushEndCallback:ve}}}function O(U,K){if(Array.isArray(U[0])?(U=U.map(function(ae){return ae.sort(x)}),K.multiselect?U=_(U.sort(f)):U=[U[0]]):U=[U.sort(x)],K.tickvals){var re=K.tickvals.slice().sort(x);if(U=U.map(function(ae){var ue=[n(0,re,ae[0],[]),n(1,re,ae[1],[])];if(ue[1]>ue[0])return ue}).filter(function(ae){return ae}),!U.length)return}return U.length>1?U:U[0]}W.exports={makeBrush:N,ensureAxisBrush:w,cleanRanges:O}},71791:function(W,V,e){W.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(W,V,e){var y=e(39898),C=e(27659).a0,a=e(21341),L=e(77922);V.name="parcoords",V.plot=function(x){var h=C(x.calcdata,"parcoords")[0];h.length&&a(x,h)},V.clean=function(x,h,d,t){var r=t._has&&t._has("parcoords"),u=h._has&&h._has("parcoords");r&&!u&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},V.toSVG=function(x){var h=x._fullLayout._glimages,d=y.select(x).selectAll(".svg-container"),t=d.filter(function(u,n){return n===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var u=this,n=u.toDataURL("image/png"),i=h.append("svg:image");i.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:u.style.width,height:u.style.height})}t.each(r),window.setTimeout(function(){y.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(W,V,e){var y=e(71828).isArrayOrTypedArray,C=e(21081),a=e(28984).wrap;W.exports=function(h,d){var t,r;return C.hasColorscale(d,"line")&&y(d.line.color)?(t=d.line.color,r=C.extractOpts(d.line).colorscale,C.calc(h,d,{vals:t,containerStr:"line",cLetter:"c"})):(t=L(d._length),r=[[0,d.line.color],[1,d.line.color]]),a({lineColor:t,cscale:r})};function L(x){for(var h=new Array(x),d=0;d<x;d++)h[d]=.5;return h}},25706:function(W){W.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(W,V,e){var y=e(71828),C=e(52075).hasColorscale,a=e(1586),L=e(27670).c,x=e(85501),h=e(89298),d=e(73362),t=e(57920),r=e(25706).maxDimensionCount,u=e(94397);function n(s,o,m,c,b){var v=b("line.color",m);if(C(s,"line")&&y.isArrayOrTypedArray(v)){if(v.length)return b("line.colorscale"),a(s,o,c,b,{prefix:"line.",cLetter:"c"}),v.length;o.line.color=m}return 1/0}function i(s,o,m,c){function b(M,R){return y.coerce(s,o,d.dimensions,M,R)}var v=b("values"),l=b("visible");if(v&&v.length||(l=o.visible=!1),l){b("label"),b("tickvals"),b("ticktext"),b("tickformat");var p=b("range");o._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},h.setConvert(o._ax,c.layout),b("multiselect");var S=b("constraintrange");S&&(o.constraintrange=t.cleanRanges(S,o))}}W.exports=function(o,m,c,b){function v(R,T){return y.coerce(o,m,d,R,T)}var l=o.dimensions;Array.isArray(l)&&l.length>r&&(y.log("parcoords traces support up to "+r+" dimensions at the moment"),l.splice(r));var p=x(o,m,{name:"dimensions",layout:b,handleItemDefaults:i}),S=n(o,m,c,b,v);L(m,b,v),(!Array.isArray(p)||!p.length)&&(m.visible=!1),u(m,p,"values",S);var M={family:b.font.family,size:Math.round(b.font.size/1.2),color:b.font.color};y.coerceFont(v,"labelfont",M),y.coerceFont(v,"tickfont",M),y.coerceFont(v,"rangefont",M),v("labelangle"),v("labelside"),v("unselected.line.color"),v("unselected.line.opacity")}},1602:function(W,V,e){var y=e(71828).isTypedArray;V.convertTypedArray=function(C){return y(C)?Array.prototype.slice.call(C):C},V.isOrdinal=function(C){return!!C.tickvals},V.isVisible=function(C){return C.visible||!("visible"in C)}},67618:function(W,V,e){var y=e(71791);y.plot=e(21341),W.exports=y},83398:function(W,V,e){var y=e(56068),C=y([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=y([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),L=e(25706).maxDimensionCount,x=e(71828),h=1e-6,d=2048,t=new Uint8Array(4),r=new Uint8Array(4),u={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(E){E.read({x:0,y:0,width:1,height:1,data:t})}function i(E,A,f,P,w){var z=E._gl;z.enable(z.SCISSOR_TEST),z.scissor(A,f,P,w),E.clear({color:[0,0,0,0],depth:1})}function s(E,A,f,P,w,z){var F=z.key;function H(_){var B=Math.min(P,w-_*P);_===0&&(window.cancelAnimationFrame(f.currentRafs[F]),delete f.currentRafs[F],i(E,z.scissorX,z.scissorY,z.scissorWidth,z.viewBoxSize[1])),!f.clearOnly&&(z.count=2*B,z.offset=2*_*P,A(z),_*P+B<w&&(f.currentRafs[F]=window.requestAnimationFrame(function(){H(_+1)})),f.drawCompleted=!1)}f.drawCompleted||(n(E),f.drawCompleted=!0),H(0)}function o(E){return Math.max(h,Math.min(1-h,E))}function m(E,A){for(var f=new Array(256),P=0;P<256;P++)f[P]=E(P/255).concat(A);return f}function c(E,A){return(E>>>8*A)%256/255}function b(E,A,f){for(var P=new Array(E*(L+4)),w=0,z=0;z<E;z++){for(var F=0;F<L;F++)P[w++]=F<A.length?A[F].paddedUnitValues[z]:.5;P[w++]=c(z,2),P[w++]=c(z,1),P[w++]=c(z,0),P[w++]=o(f[z])}return P}function v(E,A,f){for(var P=new Array(A*8),w=0,z=0;z<A;z++)for(var F=0;F<2;F++)for(var H=0;H<4;H++){var _=E*4+H,B=f[z*64+_];_===63&&F===0&&(B*=-1),P[w++]=B}return P}function l(E){var A="0"+E;return A.substr(A.length-2)}function p(E){return E<L?"p"+l(E+1)+"_"+l(E+4):"colors"}function S(E,A,f){for(var P=0;P<=L;P+=4)E[p(P)](v(P/4,A,f))}function M(E){for(var A={},f=0;f<=L;f+=4)A[p(f)]=E.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return A}function R(E,A,f,P,w,z,F,H,_,B,N,O,U,K){for(var re=[[],[]],ae=0;ae<64;ae++)re[0][ae]=ae===w?1:0,re[1][ae]=ae===z?1:0;F*=K,H*=K,_*=K,B*=K;var ue=E.lines.canvasOverdrag*K,ve=E.domain,ee=E.canvasWidth*K,J=E.canvasHeight*K,Q=E.pad.l*K,X=E.pad.b*K,q=E.layoutHeight*K,se=E.layoutWidth*K,Y=E.deselectedLines.color,Z=E.deselectedLines.opacity,ie=x.extendFlat({key:N,resolution:[ee,J],viewBoxPos:[F+ue,H],viewBoxSize:[_,B],i0:w,i1:z,dim0A:re[0].slice(0,16),dim0B:re[0].slice(16,32),dim0C:re[0].slice(32,48),dim0D:re[0].slice(48,64),dim1A:re[1].slice(0,16),dim1B:re[1].slice(16,32),dim1C:re[1].slice(32,48),dim1D:re[1].slice(48,64),drwLayer:O,contextColor:[Y[0]/255,Y[1]/255,Y[2]/255,Z!=="auto"?Y[3]*Z:Math.max(1/255,Math.pow(1/E.lines.color.length,1/3))],scissorX:(P===A?0:F+ue)+(Q-ue)+se*ve.x[0],scissorWidth:(P===f?ee-F+ue:_+.5)+(P===A?F+ue:0),scissorY:H+X+q*ve.y[0],scissorHeight:B,viewportX:Q-ue+se*ve.x[0],viewportY:X+q*ve.y[0],viewportWidth:ee,viewportHeight:J},U);return ie}function T(E){var A=d-1,f=Math.max(0,Math.floor(E[0]*A),0),P=Math.min(A,Math.ceil(E[1]*A),A);return[Math.min(f,P),Math.max(f,P)]}W.exports=function(E,A){var f=A.context,P=A.pick,w=A.regl,z=w._gl,F=z.getParameter(z.ALIASED_LINE_WIDTH_RANGE),H=Math.max(F[0],Math.min(F[1],A.viewModel.plotGlPixelRatio)),_={currentRafs:{},drawCompleted:!0,clearOnly:!1},B,N,O,U,K=M(w),re,ae=w.texture(u),ue=[];ee(A);var ve=w({profile:!1,blend:{enable:f,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!f,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:w.prop("scissorX"),y:w.prop("scissorY"),width:w.prop("scissorWidth"),height:w.prop("scissorHeight")}},viewport:{x:w.prop("viewportX"),y:w.prop("viewportY"),width:w.prop("viewportWidth"),height:w.prop("viewportHeight")},dither:!1,vert:C,frag:a,primitive:"lines",lineWidth:H,attributes:K,uniforms:{resolution:w.prop("resolution"),viewBoxPos:w.prop("viewBoxPos"),viewBoxSize:w.prop("viewBoxSize"),dim0A:w.prop("dim0A"),dim1A:w.prop("dim1A"),dim0B:w.prop("dim0B"),dim1B:w.prop("dim1B"),dim0C:w.prop("dim0C"),dim1C:w.prop("dim1C"),dim0D:w.prop("dim0D"),dim1D:w.prop("dim1D"),loA:w.prop("loA"),hiA:w.prop("hiA"),loB:w.prop("loB"),hiB:w.prop("hiB"),loC:w.prop("loC"),hiC:w.prop("hiC"),loD:w.prop("loD"),hiD:w.prop("hiD"),palette:ae,contextColor:w.prop("contextColor"),maskTexture:w.prop("maskTexture"),drwLayer:w.prop("drwLayer"),maskHeight:w.prop("maskHeight")},offset:w.prop("offset"),count:w.prop("count")});function ee(Y){B=Y.model,N=Y.viewModel,O=N.dimensions.slice(),U=O[0]?O[0].values.length:0;var Z=B.lines,ie=P?Z.color.map(function(fe,de){return de/Z.color.length}):Z.color,te=b(U,O,ie);S(K,U,te),!f&&!P&&(ae=w.texture(x.extendFlat({data:m(B.unitToColor,255)},u)))}function J(Y){var Z,ie,te,fe=[[],[]];for(te=0;te<64;te++){var de=!Y&&te<O.length?O[te].brush.filter.getBounds():[-1/0,1/0];fe[0][te]=de[0],fe[1][te]=de[1]}var we=d*8,Ae=new Array(we);for(Z=0;Z<we;Z++)Ae[Z]=255;if(!Y)for(Z=0;Z<O.length;Z++){var Re=Z%8,Fe=(Z-Re)/8,Se=Math.pow(2,Re),Te=O[Z],Ee=Te.brush.filter.get();if(!(Ee.length<2)){var Ne=T(Ee[0])[1];for(ie=1;ie<Ee.length;ie++){var He=T(Ee[ie]);for(te=Ne+1;te<He[0];te++)Ae[te*8+Fe]&=~Se;Ne=Math.max(Ne,He[1])}}}var _e={shape:[8,d],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return re?re(_e):re=w.texture(_e),{maskTexture:re,maskHeight:d,loA:fe[0].slice(0,16),loB:fe[0].slice(16,32),loC:fe[0].slice(32,48),loD:fe[0].slice(48,64),hiA:fe[1].slice(0,16),hiB:fe[1].slice(16,32),hiC:fe[1].slice(32,48),hiD:fe[1].slice(48,64)}}function Q(Y,Z,ie){var te=Y.length,fe,de,we,Ae=1/0,Re=-1/0;for(fe=0;fe<te;fe++)Y[fe].dim0.canvasX<Ae&&(Ae=Y[fe].dim0.canvasX,de=fe),Y[fe].dim1.canvasX>Re&&(Re=Y[fe].dim1.canvasX,we=fe);te===0&&i(w,0,0,B.canvasWidth,B.canvasHeight);var Fe=J(f);for(fe=0;fe<te;fe++){var Se=Y[fe],Te=Se.dim0.crossfilterDimensionIndex,Ee=Se.dim1.crossfilterDimensionIndex,Ne=Se.canvasX,He=Se.canvasY,_e=Ne+Se.panelSizeX,We=Se.plotGlPixelRatio;if(Z||!ue[Te]||ue[Te][0]!==Ne||ue[Te][1]!==_e){ue[Te]=[Ne,_e];var tt=R(B,de,we,fe,Te,Ee,Ne,He,Se.panelSizeX,Se.panelSizeY,Se.dim0.crossfilterDimensionIndex,f?0:P?2:1,Fe,We);_.clearOnly=ie;var Ke=Z?B.lines.blockLineCount:U;s(w,ve,_,Ke,U,tt)}}}function X(Y,Z){return w.read({x:Y,y:Z,width:1,height:1,data:r}),r}function q(Y,Z,ie,te){var fe=new Uint8Array(4*ie*te);return w.read({x:Y,y:Z,width:ie,height:te,data:fe}),fe}function se(){E.style["pointer-events"]="none",ae.destroy(),re&&re.destroy();for(var Y in K)K[Y].destroy()}return{render:Q,readPixel:X,readPixels:q,destroy:se,update:ee}}},94397:function(W){W.exports=function(V,e,y,C){C||(C=1/0);var a,L;for(a=0;a<e.length;a++)L=e[a],L.visible&&(C=Math.min(C,L[y].length));for(C===1/0&&(C=0),V._length=C,a=0;a<e.length;a++)L=e[a],L.visible&&(L._length=C);return C}},17171:function(W,V,e){var y=e(39898),C=e(71828),a=C.numberFormat,L=e(36652),x=e(89298),h=C.strRotate,d=C.strTranslate,t=e(63893),r=e(91424),u=e(21081),n=e(28984),i=n.keyFun,s=n.repeat,o=n.unwrap,m=e(1602),c=e(25706),b=e(57920),v=e(83398);function l(re,ae,ue){return C.aggNums(re,null,ae,ue)}function p(re,ae){return M(l(Math.min,re,ae),l(Math.max,re,ae))}function S(re){var ae=re.range;return ae?M(ae[0],ae[1]):p(re.values,re._length)}function M(re,ae){return(isNaN(re)||!isFinite(re))&&(re=0),(isNaN(ae)||!isFinite(ae))&&(ae=0),re===ae&&(re===0?(re-=1,ae+=1):(re*=.9,ae*=1.1)),[re,ae]}function R(re,ae){return ae?function(ue,ve){var ee=ae[ve];return ee??re(ue)}:re}function T(re,ae,ue,ve,ee){var J=S(ue);return ve?y.scale.ordinal().domain(ve.map(R(a(ue.tickformat),ee))).range(ve.map(function(Q){var X=(Q-J[0])/(J[1]-J[0]);return re-ae+X*(2*ae-re)})):y.scale.linear().domain(J).range([re-ae,ae])}function E(re,ae){return y.scale.linear().range([ae,re-ae])}function A(re,ae){return y.scale.linear().domain(S(re)).range([ae,1-ae])}function f(re){if(re.tickvals){var ae=S(re);return y.scale.ordinal().domain(re.tickvals).range(re.tickvals.map(function(ue){return(ue-ae[0])/(ae[1]-ae[0])}))}}function P(re){var ae=re.map(function(J){return J[0]}),ue=re.map(function(J){var Q=L(J[1]);return y.rgb("rgb("+Q[0]+","+Q[1]+","+Q[2]+")")}),ve=function(J){return function(Q){return Q[J]}},ee="rgb".split("").map(function(J){return y.scale.linear().clamp(!0).domain(ae).range(ue.map(ve(J)))});return function(J){return ee.map(function(Q){return Q(J)})}}function w(re){return re.dimensions.some(function(ae){return ae.brush.filterSpecified})}function z(re,ae,ue){var ve=o(ae),ee=ve.trace,J=m.convertTypedArray(ve.lineColor),Q=ee.line,X={color:L(ee.unselected.line.color),opacity:ee.unselected.line.opacity},q=u.extractOpts(Q),se=q.reversescale?u.flipScale(ve.cscale):ve.cscale,Y=ee.domain,Z=ee.dimensions,ie=re.width,te=ee.labelangle,fe=ee.labelside,de=ee.labelfont,we=ee.tickfont,Ae=ee.rangefont,Re=C.extendDeepNoArrays({},Q,{color:J.map(y.scale.linear().domain(S({values:J,range:[q.min,q.max],_length:ee._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),Fe=Math.floor(ie*(Y.x[1]-Y.x[0])),Se=Math.floor(re.height*(Y.y[1]-Y.y[0])),Te=re.margin||{l:80,r:80,t:100,b:80},Ee=Fe,Ne=Se;return{key:ue,colCount:Z.filter(m.isVisible).length,dimensions:Z,tickDistance:c.tickDistance,unitToColor:P(se),lines:Re,deselectedLines:X,labelAngle:te,labelSide:fe,labelFont:de,tickFont:we,rangeFont:Ae,layoutWidth:ie,layoutHeight:re.height,domain:Y,translateX:Y.x[0]*ie,translateY:re.height-Y.y[1]*re.height,pad:Te,canvasWidth:Ee*c.canvasPixelRatio+2*Re.canvasOverdrag,canvasHeight:Ne*c.canvasPixelRatio,width:Ee,height:Ne,canvasPixelRatio:c.canvasPixelRatio}}function F(re,ae,ue){var ve=ue.width,ee=ue.height,J=ue.dimensions,Q=ue.canvasPixelRatio,X=function(ie){return ve*ie/Math.max(1,ue.colCount-1)},q=c.verticalPadding/ee,se=E(ee,c.verticalPadding),Y={key:ue.key,xScale:X,model:ue,inBrushDrag:!1},Z={};return Y.dimensions=J.filter(m.isVisible).map(function(ie,te){var fe=A(ie,q),de=Z[ie.label];Z[ie.label]=(de||0)+1;var we=ie.label+(de?"__"+de:""),Ae=ie.constraintrange,Re=Ae&&Ae.length;Re&&!Array.isArray(Ae[0])&&(Ae=[Ae]);var Fe=Re?Ae.map(function(qe){return qe.map(fe)}):[[-1/0,1/0]],Se=function(){var qe=Y;qe.focusLayer&&qe.focusLayer.render(qe.panels,!0);var rt=w(qe);!re.contextShown()&&rt?(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0),re.contextShown(!0)):re.contextShown()&&!rt&&(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0,!0),re.contextShown(!1))},Te=ie.values;Te.length>ie._length&&(Te=Te.slice(0,ie._length));var Ee=ie.tickvals,Ne;function He(qe,rt){return{val:qe,text:Ne[rt]}}function _e(qe,rt){return qe.val-rt.val}if(Array.isArray(Ee)&&Ee.length){Ne=ie.ticktext,!Array.isArray(Ne)||!Ne.length?Ne=Ee.map(a(ie.tickformat)):Ne.length>Ee.length?Ne=Ne.slice(0,Ee.length):Ee.length>Ne.length&&(Ee=Ee.slice(0,Ne.length));for(var We=1;We<Ee.length;We++)if(Ee[We]<Ee[We-1]){for(var tt=Ee.map(He).sort(_e),Ke=0;Ke<Ee.length;Ke++)Ee[Ke]=tt[Ke].val,Ne[Ke]=tt[Ke].text;break}}else Ee=void 0;return Te=m.convertTypedArray(Te),{key:we,label:ie.label,tickFormat:ie.tickformat,tickvals:Ee,ticktext:Ne,ordinal:m.isOrdinal(ie),multiselect:ie.multiselect,xIndex:te,crossfilterDimensionIndex:te,visibleIndex:ie._index,height:ee,values:Te,paddedUnitValues:Te.map(fe),unitTickvals:Ee&&Ee.map(fe),xScale:X,x:X(te),canvasX:X(te)*Q,unitToPaddedPx:se,domainScale:T(ee,c.verticalPadding,ie,Ee,Ne),ordinalScale:f(ie),parent:Y,model:ue,brush:b.makeBrush(re,Re,Fe,function(){re.linePickActive(!1)},Se,function(qe){if(Y.focusLayer.render(Y.panels,!0),Y.pickLayer&&Y.pickLayer.render(Y.panels,!0),re.linePickActive(!0),ae&&ae.filterChanged){var rt=fe.invert,ft=qe.map(function(pt){return pt.map(rt).sort(C.sorterAsc)}).sort(function(pt,gt){return pt[0]-gt[0]});ae.filterChanged(Y.key,ie._index,ft)}})}}),Y}function H(re){re.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function _(){var re=!0,ae=!1;return{linePickActive:function(ue){return arguments.length?re=!!ue:re},contextShown:function(ue){return arguments.length?ae=!!ue:ae}}}function B(re,ae){var ue=ae==="top"?1:-1,ve=re*Math.PI/180,ee=Math.sin(ve),J=Math.cos(ve);return{dir:ue,dx:ee,dy:J,degrees:re}}function N(re,ae,ue){for(var ve=ae.panels||(ae.panels=[]),ee=re.data(),J=0;J<ee.length-1;J++){var Q=ve[J]||(ve[J]={}),X=ee[J],q=ee[J+1];Q.dim0=X,Q.dim1=q,Q.canvasX=X.canvasX,Q.panelSizeX=q.canvasX-X.canvasX,Q.panelSizeY=ae.model.canvasHeight,Q.y=0,Q.canvasY=0,Q.plotGlPixelRatio=ue}}function O(re){for(var ae=0;ae<re.length;ae++)for(var ue=0;ue<re[ae].length;ue++)for(var ve=re[ae][ue].trace,ee=ve.dimensions,J=0;J<ee.length;J++){var Q=ee[J].values,X=ee[J]._ax;X&&(X.range?X.range=M(X.range[0],X.range[1]):X.range=p(Q,ve._length),X.dtick||(X.dtick=.01*(Math.abs(X.range[1]-X.range[0])||1)),X.tickformat=ee[J].tickformat,x.calcTicks(X),X.cleanRange())}}function U(re,ae){return x.tickText(re._ax,ae,!1).text}function K(re,ae){if(re.ordinal)return"";var ue=re.domainScale.domain(),ve=ue[ae?ue.length-1:0];return U(re.model.dimensions[re.visibleIndex],ve)}W.exports=function(ae,ue,ve,ee){var J=ae._context.staticPlot,Q=ae._fullLayout,X=Q._toppaper,q=Q._glcontainer,se=ae._context.plotGlPixelRatio,Y=ae._fullLayout.paper_bgcolor;O(ue);var Z=_(),ie=ue.filter(function(Ke){return o(Ke).trace.visible}).map(z.bind(0,ve)).map(F.bind(0,Z,ee));q.each(function(Ke,qe){return C.extendFlat(Ke,ie[qe])});var te=q.selectAll(".gl-canvas").each(function(Ke){Ke.viewModel=ie[0],Ke.viewModel.plotGlPixelRatio=se,Ke.viewModel.paperColor=Y,Ke.model=Ke.viewModel?Ke.viewModel.model:null}),fe=null,de=te.filter(function(Ke){return Ke.pick});de.style("pointer-events",J?"none":"auto").on("mousemove",function(Ke){if(Z.linePickActive()&&Ke.lineLayer&&ee&&ee.hover){var qe=y.event,rt=this.width,ft=this.height,pt=y.mouse(this),gt=pt[0],Mt=pt[1];if(gt<0||Mt<0||gt>=rt||Mt>=ft)return;var Lt=Ke.lineLayer.readPixel(gt,ft-1-Mt),Wt=Lt[3]!==0,Je=Wt?Lt[2]+256*(Lt[1]+256*Lt[0]):null,ze={x:gt,y:Mt,clientX:qe.clientX,clientY:qe.clientY,dataIndex:Ke.model.key,curveNumber:Je};Je!==fe&&(Wt?ee.hover(ze):ee.unhover&&ee.unhover(ze),fe=Je)}}),te.style("opacity",function(Ke){return Ke.pick?0:1}),X.style("background","rgba(255, 255, 255, 0)");var we=X.selectAll("."+c.cn.parcoords).data(ie,i);we.exit().remove(),we.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),we.attr("transform",function(Ke){return d(Ke.model.translateX,Ke.model.translateY)});var Ae=we.selectAll("."+c.cn.parcoordsControlView).data(s,i);Ae.enter().append("g").classed(c.cn.parcoordsControlView,!0),Ae.attr("transform",function(Ke){return d(Ke.model.pad.l,Ke.model.pad.t)});var Re=Ae.selectAll("."+c.cn.yAxis).data(function(Ke){return Ke.dimensions},i);Re.enter().append("g").classed(c.cn.yAxis,!0),Ae.each(function(Ke){N(Re,Ke,se)}),te.each(function(Ke){if(Ke.viewModel){!Ke.lineLayer||ee?Ke.lineLayer=v(this,Ke):Ke.lineLayer.update(Ke),(Ke.key||Ke.key===0)&&(Ke.viewModel[Ke.key]=Ke.lineLayer);var qe=!Ke.context||ee;Ke.lineLayer.render(Ke.viewModel.panels,qe)}}),Re.attr("transform",function(Ke){return d(Ke.xScale(Ke.xIndex),0)}),Re.call(y.behavior.drag().origin(function(Ke){return Ke}).on("drag",function(Ke){var qe=Ke.parent;Z.linePickActive(!1),Ke.x=Math.max(-c.overdrag,Math.min(Ke.model.width+c.overdrag,y.event.x)),Ke.canvasX=Ke.x*Ke.model.canvasPixelRatio,Re.sort(function(rt,ft){return rt.x-ft.x}).each(function(rt,ft){rt.xIndex=ft,rt.x=Ke===rt?rt.x:rt.xScale(rt.xIndex),rt.canvasX=rt.x*rt.model.canvasPixelRatio}),N(Re,qe,se),Re.filter(function(rt){return Math.abs(Ke.xIndex-rt.xIndex)!==0}).attr("transform",function(rt){return d(rt.xScale(rt.xIndex),0)}),y.select(this).attr("transform",d(Ke.x,0)),Re.each(function(rt,ft,pt){pt===Ke.parent.key&&(qe.dimensions[ft]=rt)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!w(qe)),qe.focusLayer.render&&qe.focusLayer.render(qe.panels)}).on("dragend",function(Ke){var qe=Ke.parent;Ke.x=Ke.xScale(Ke.xIndex),Ke.canvasX=Ke.x*Ke.model.canvasPixelRatio,N(Re,qe,se),y.select(this).attr("transform",function(rt){return d(rt.x,0)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!w(qe)),qe.focusLayer&&qe.focusLayer.render(qe.panels),qe.pickLayer&&qe.pickLayer.render(qe.panels,!0),Z.linePickActive(!0),ee&&ee.axesMoved&&ee.axesMoved(qe.key,qe.dimensions.map(function(rt){return rt.crossfilterDimensionIndex}))})),Re.exit().remove();var Fe=Re.selectAll("."+c.cn.axisOverlays).data(s,i);Fe.enter().append("g").classed(c.cn.axisOverlays,!0),Fe.selectAll("."+c.cn.axis).remove();var Se=Fe.selectAll("."+c.cn.axis).data(s,i);Se.enter().append("g").classed(c.cn.axis,!0),Se.each(function(Ke){var qe=Ke.model.height/Ke.model.tickDistance,rt=Ke.domainScale,ft=rt.domain();y.select(this).call(y.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(qe,Ke.tickFormat).tickValues(Ke.ordinal?ft:null).tickFormat(function(pt){return m.isOrdinal(Ke)?pt:U(Ke.model.dimensions[Ke.visibleIndex],pt)}).scale(rt)),r.font(Se.selectAll("text"),Ke.model.tickFont)}),Se.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Se.selectAll("text").style("text-shadow",t.makeTextShadow(Y)).style("cursor","default");var Te=Fe.selectAll("."+c.cn.axisHeading).data(s,i);Te.enter().append("g").classed(c.cn.axisHeading,!0);var Ee=Te.selectAll("."+c.cn.axisTitle).data(s,i);Ee.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",J?"none":"auto"),Ee.text(function(Ke){return Ke.label}).each(function(Ke){var qe=y.select(this);r.font(qe,Ke.model.labelFont),t.convertToTspans(qe,ae)}).attr("transform",function(Ke){var qe=B(Ke.model.labelAngle,Ke.model.labelSide),rt=c.axisTitleOffset;return(qe.dir>0?"":d(0,2*rt+Ke.model.height))+h(qe.degrees)+d(-rt*qe.dx,-rt*qe.dy)}).attr("text-anchor",function(Ke){var qe=B(Ke.model.labelAngle,Ke.model.labelSide),rt=Math.abs(qe.dx),ft=Math.abs(qe.dy);return 2*rt>ft?qe.dir*qe.dx<0?"start":"end":"middle"});var Ne=Fe.selectAll("."+c.cn.axisExtent).data(s,i);Ne.enter().append("g").classed(c.cn.axisExtent,!0);var He=Ne.selectAll("."+c.cn.axisExtentTop).data(s,i);He.enter().append("g").classed(c.cn.axisExtentTop,!0),He.attr("transform",d(0,-c.axisExtentOffset));var _e=He.selectAll("."+c.cn.axisExtentTopText).data(s,i);_e.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(H),_e.text(function(Ke){return K(Ke,!0)}).each(function(Ke){r.font(y.select(this),Ke.model.rangeFont)});var We=Ne.selectAll("."+c.cn.axisExtentBottom).data(s,i);We.enter().append("g").classed(c.cn.axisExtentBottom,!0),We.attr("transform",function(Ke){return d(0,Ke.model.height+c.axisExtentOffset)});var tt=We.selectAll("."+c.cn.axisExtentBottomText).data(s,i);tt.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(H),tt.text(function(Ke){return K(Ke,!1)}).each(function(Ke){r.font(y.select(this),Ke.model.rangeFont)}),b.ensureAxisBrush(Fe,Y,ae)}},21341:function(W,V,e){var y=e(17171),C=e(79749),a=e(1602).isVisible,L={};function x(t,r,u){var n=r.indexOf(u),i=t.indexOf(n);return i===-1&&(i+=r.length),i}function h(t,r){return function(n,i){return x(t,r,n)-x(t,r,i)}}var d=W.exports=function(r,u){var n=r._fullLayout,i=C(r,[],L);if(i){var s={},o={},m={},c={},b=n._size;u.forEach(function(M,R){var T=M[0].trace;m[R]=T.index;var E=c[R]=T._fullInput.index;s[R]=r.data[E].dimensions,o[R]=r.data[E].dimensions.slice()});var v=function(M,R,T){var E=o[M][R],A=T.map(function(H){return H.slice()}),f="dimensions["+R+"].constraintrange",P=n._tracePreGUI[r._fullData[m[M]]._fullInput.uid];if(P[f]===void 0){var w=E.constraintrange;P[f]=w||null}var z=r._fullData[m[M]].dimensions[R];A.length?(A.length===1&&(A=A[0]),E.constraintrange=A,z.constraintrange=A.slice(),A=[A]):(delete E.constraintrange,delete z.constraintrange,A=null);var F={};F[f]=A,r.emit("plotly_restyle",[F,[c[M]]])},l=function(M){r.emit("plotly_hover",M)},p=function(M){r.emit("plotly_unhover",M)},S=function(M,R){var T=h(R,o[M].filter(a));s[M].sort(T),o[M].filter(function(E){return!a(E)}).sort(function(E){return o[M].indexOf(E)}).forEach(function(E){s[M].splice(s[M].indexOf(E),1),s[M].splice(o[M].indexOf(E),0,E)}),r.emit("plotly_restyle",[{dimensions:[s[M]]},[c[M]]])};y(r,u,{width:b.w,height:b.h,margin:{t:b.t,r:b.r,b:b.b,l:b.l}},{filterChanged:v,hover:l,unhover:p,axesMoved:S})}};d.reglPrecompiled=L},34e3:function(W,V,e){var y=e(9012),C=e(27670).Y,a=e(41940),L=e(22399),x=e(5386).fF,h=e(5386).si,d=e(1426).extendFlat,t=e(79952).u,r=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});W.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},y.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:x({},{keys:["label","color","value","percent","text"]}),texttemplate:h({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},r,{}),outsidetextfont:d({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:C({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(W,V,e){var y=e(74875);V.name="pie",V.plot=function(C,a,L,x){y.plotBasePlot(V.name,C,a,L,x)},V.clean=function(C,a,L,x){y.cleanBasePlot(V.name,C,a,L,x)}},32354:function(W,V,e){var y=e(92770),C=e(84267),a=e(7901),L={};function x(r,u){var n=[],i=r._fullLayout,s=i.hiddenlabels||[],o=u.labels,m=u.marker.colors||[],c=u.values,b=u._length,v=u._hasValues&&b,l,p;if(u.dlabel)for(o=new Array(b),l=0;l<b;l++)o[l]=String(u.label0+l*u.dlabel);var S={},M=h(i["_"+u.type+"colormap"]),R=0,T=!1;for(l=0;l<b;l++){var E,A,f;if(v){if(E=c[l],!y(E))continue;E=+E}else E=1;A=o[l],(A===void 0||A==="")&&(A=l),A=String(A);var P=S[A];P===void 0?(S[A]=n.length,f=s.indexOf(A)!==-1,f||(R+=E),n.push({v:E,label:A,color:M(m[l],A),i:l,pts:[l],hidden:f})):(T=!0,p=n[P],p.v+=E,p.pts.push(l),p.hidden||(R+=E),p.color===!1&&m[l]&&(p.color=M(m[l],A)))}n=n.filter(function(z){return z.v>=0});var w=u.type==="funnelarea"?T:u.sort;return w&&n.sort(function(z,F){return F.v-z.v}),n[0]&&(n[0].vTotal=R),n}function h(r){return function(n,i){return!n||(n=C(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),r[i]||(r[i]=n),n)}}function d(r,u){var n=(u||{}).type;n||(n="pie");var i=r._fullLayout,s=r.calcdata,o=i[n+"colorway"],m=i["_"+n+"colormap"];i["extend"+n+"colors"]&&(o=t(o,L));for(var c=0,b=0;b<s.length;b++){var v=s[b],l=v[0].trace.type;if(l===n)for(var p=0;p<v.length;p++){var S=v[p];S.color===!1&&(m[S.label]?S.color=m[S.label]:(m[S.label]=S.color=o[c%o.length],c++))}}}function t(r,u){var n,i=JSON.stringify(r),s=u[i];if(!s){for(s=r.slice(),n=0;n<r.length;n++)s.push(C(r[n]).lighten(20).toHexString());for(n=0;n<r.length;n++)s.push(C(r[n]).darken(20).toHexString());u[i]=s}return s}W.exports={calc:x,crossTraceCalc:d,makePullColorFn:h,generateExtendedColors:t}},37434:function(W,V,e){var y=e(92770),C=e(71828),a=e(34e3),L=e(27670).c,x=e(90769).handleText,h=e(71828).coercePattern;function d(u,n){var i=Array.isArray(u),s=C.isArrayOrTypedArray(n),o=Math.min(i?u.length:1/0,s?n.length:1/0);if(isFinite(o)||(o=0),o&&s){for(var m,c=0;c<o;c++){var b=n[c];if(y(b)&&b>0){m=!0;break}}m||(o=0)}return{hasLabels:i,hasValues:s,len:o}}function t(u,n,i,s,o){var m=s("marker.line.width");m&&s("marker.line.color",o?void 0:i.paper_bgcolor);var c=s("marker.colors");h(s,"marker.pattern",c),u.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=u.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=i.paper_bgcolor)}function r(u,n,i,s){function o(P,w){return C.coerce(u,n,a,P,w)}var m=o("labels"),c=o("values"),b=d(m,c),v=b.len;if(n._hasLabels=b.hasLabels,n._hasValues=b.hasValues,!n._hasLabels&&n._hasValues&&(o("label0"),o("dlabel")),!v){n.visible=!1;return}n._length=v,t(u,n,s,o,!0),o("scalegroup");var l=o("text"),p=o("texttemplate"),S;if(p||(S=o("textinfo",Array.isArray(l)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),p||S&&S!=="none"){var M=o("textposition");x(u,n,s,o,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var R=Array.isArray(M)||M==="auto",T=R||M==="outside";T&&o("automargin"),(M==="inside"||M==="auto"||Array.isArray(M))&&o("insidetextorientation")}L(n,s,o);var E=o("hole"),A=o("title.text");if(A){var f=o("title.position",E?"middle center":"top center");!E&&f==="middle center"&&(n.title.position="top center"),C.coerceFont(o,"title.font",s.font)}o("sort"),o("direction"),o("rotation"),o("pull")}W.exports={handleLabelsAndValues:d,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(W,V,e){var y=e(23469).appendArrayMultiPointValues;W.exports=function(a,L){var x={curveNumber:L.index,pointNumbers:a.pts,data:L._input,fullData:L,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(x.pointNumber=x.i=a.pts[0]),y(x,L,a.pts),L.type==="funnelarea"&&(delete x.v,delete x.i),x}},22209:function(W,V,e){var y=e(91424),C=e(7901);W.exports=function(L,x,h,d){var t=h.marker.pattern;t&&t.shape?y.pointStyle(L,h,d,x):C.fill(L,x.color)}},53581:function(W,V,e){var y=e(71828);function C(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}V.formatPiePercent=function(L,x){var h=C((L*100).toPrecision(3));return y.numSeparate(h,x)+"%"},V.formatPieValue=function(L,x){var h=C(L.toPrecision(10));return y.numSeparate(h,x)},V.getFirstFilled=function(L,x){if(Array.isArray(L))for(var h=0;h<x.length;h++){var d=L[x[h]];if(d||d===0||d==="")return d}},V.castOption=function(L,x){if(Array.isArray(L))return V.getFirstFilled(L,x);if(L)return L},V.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(W,V,e){W.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(W){W.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(W,V,e){var y=e(71828),C=e(92774);W.exports=function(L,x){function h(d,t){return y.coerce(L,x,C,d,t)}h("hiddenlabels"),h("piecolorway",x.colorway),h("extendpiecolors")}},14575:function(W,V,e){var y=e(39898),C=e(74875),a=e(30211),L=e(7901),x=e(91424),h=e(71828),d=h.strScale,t=h.strTranslate,r=e(63893),u=e(72597),n=u.recordMinTextSize,i=u.clearMinTextSize,s=e(97313).TEXTPAD,o=e(53581),m=e(20007),c=e(71828).isValidTextValue;function b(J,Q){var X=J._context.staticPlot,q=J._fullLayout,se=q._size;i("pie",q),M(Q,J),K(Q,se);var Y=h.makeTraceGroups(q._pielayer,Q,"trace").each(function(Z){var ie=y.select(this),te=Z[0],fe=te.trace;ae(Z),ie.attr("stroke-linejoin","round"),ie.each(function(){var de=y.select(this).selectAll("g.slice").data(Z);de.enter().append("g").classed("slice",!0),de.exit().remove();var we=[[[],[]],[[],[]]],Ae=!1;de.each(function(_e,We){if(_e.hidden){y.select(this).selectAll("path,g").remove();return}_e.pointNumber=_e.i,_e.curveNumber=fe.index,we[_e.pxmid[1]<0?0:1][_e.pxmid[0]<0?0:1].push(_e);var tt=te.cx,Ke=te.cy,qe=y.select(this),rt=qe.selectAll("path.surface").data([_e]);if(rt.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),qe.call(l,J,Z),fe.pull){var ft=+o.castOption(fe.pull,_e.pts)||0;ft>0&&(tt+=ft*_e.pxmid[0],Ke+=ft*_e.pxmid[1])}_e.cxFinal=tt,_e.cyFinal=Ke;function pt(Oe,Ue,ke,Me){var ce=Me*(Ue[0]-Oe[0]),be=Me*(Ue[1]-Oe[1]);return"a"+Me*te.r+","+Me*te.r+" 0 "+_e.largeArc+(ke?" 1 ":" 0 ")+ce+","+be}var gt=fe.hole;if(_e.v===te.vTotal){var Mt="M"+(tt+_e.px0[0])+","+(Ke+_e.px0[1])+pt(_e.px0,_e.pxmid,!0,1)+pt(_e.pxmid,_e.px0,!0,1)+"Z";gt?rt.attr("d","M"+(tt+gt*_e.px0[0])+","+(Ke+gt*_e.px0[1])+pt(_e.px0,_e.pxmid,!1,gt)+pt(_e.pxmid,_e.px0,!1,gt)+"Z"+Mt):rt.attr("d",Mt)}else{var Lt=pt(_e.px0,_e.px1,!0,1);if(gt){var Wt=1-gt;rt.attr("d","M"+(tt+gt*_e.px1[0])+","+(Ke+gt*_e.px1[1])+pt(_e.px1,_e.px0,!1,gt)+"l"+Wt*_e.px0[0]+","+Wt*_e.px0[1]+Lt+"Z")}else rt.attr("d","M"+tt+","+Ke+"l"+_e.px0[0]+","+_e.px0[1]+Lt+"Z")}ve(J,_e,te);var Je=o.castOption(fe.textposition,_e.pts),ze=qe.selectAll("g.slicetext").data(_e.text&&Je!=="none"?[0]:[]);ze.enter().append("g").classed("slicetext",!0),ze.exit().remove(),ze.each(function(){var Oe=h.ensureSingle(y.select(this),"text","",function(it){it.attr("data-notex",1)}),Ue=h.ensureUniformFontSize(J,Je==="outside"?p(fe,_e,q.font):S(fe,_e,q.font));Oe.text(_e.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(x.font,Ue).call(r.convertToTspans,J);var ke=x.bBox(Oe.node()),Me;if(Je==="outside")Me=F(ke,_e);else if(Me=R(ke,_e,te),Je==="auto"&&Me.scale<1){var ce=h.ensureUniformFontSize(J,fe.outsidetextfont);Oe.call(x.font,ce),ke=x.bBox(Oe.node()),Me=F(ke,_e)}var be=Me.textPosAngle,De=be===void 0?_e.pxmid:ue(te.r,be);if(Me.targetX=tt+De[0]*Me.rCenter+(Me.x||0),Me.targetY=Ke+De[1]*Me.rCenter+(Me.y||0),ee(Me,ke),Me.outside){var Ve=Me.targetY;_e.yLabelMin=Ve-ke.height/2,_e.yLabelMid=Ve,_e.yLabelMax=Ve+ke.height/2,_e.labelExtraX=0,_e.labelExtraY=0,Ae=!0}Me.fontSize=Ue.size,n(fe.type,Me,q),Z[We].transform=Me,h.setTransormAndDisplay(Oe,Me)})});var Re=y.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(Re.enter().append("g").classed("titletext",!0),Re.exit().remove(),Re.each(function(){var _e=h.ensureSingle(y.select(this),"text","",function(Ke){Ke.attr("data-notex",1)}),We=fe.title.text;fe._meta&&(We=h.templateString(We,fe._meta)),_e.text(We).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(x.font,fe.title.font).call(r.convertToTspans,J);var tt;fe.title.position==="middle center"?tt=H(te):tt=_(te,se),_e.attr("transform",t(tt.x,tt.y)+d(Math.min(1,tt.scale))+t(tt.tx,tt.ty))}),Ae&&U(we,fe),v(de,fe),Ae&&fe.automargin){var Fe=x.bBox(ie.node()),Se=fe.domain,Te=se.w*(Se.x[1]-Se.x[0]),Ee=se.h*(Se.y[1]-Se.y[0]),Ne=(.5*Te-te.r)/se.w,He=(.5*Ee-te.r)/se.h;C.autoMargin(J,"pie."+fe.uid+".automargin",{xl:Se.x[0]-Ne,xr:Se.x[1]+Ne,yb:Se.y[0]-He,yt:Se.y[1]+He,l:Math.max(te.cx-te.r-Fe.left,0),r:Math.max(Fe.right-(te.cx+te.r),0),b:Math.max(Fe.bottom-(te.cy+te.r),0),t:Math.max(te.cy-te.r-Fe.top,0),pad:5})}})});setTimeout(function(){Y.selectAll("tspan").each(function(){var Z=y.select(this);Z.attr("dy")&&Z.attr("dy",Z.attr("dy"))})},0)}function v(J,Q){J.each(function(X){var q=y.select(this);if(!X.labelExtraX&&!X.labelExtraY){q.select("path.textline").remove();return}var se=q.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,h.setTransormAndDisplay(se,X.transform);var Y=X.cxFinal+X.pxmid[0],Z=X.cyFinal+X.pxmid[1],ie="M"+Y+","+Z,te=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var fe=X.labelExtraX*X.pxmid[1]/X.pxmid[0],de=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(fe)>Math.abs(de)?ie+="l"+de*X.pxmid[0]/X.pxmid[1]+","+de+"H"+(Y+X.labelExtraX+te):ie+="l"+X.labelExtraX+","+fe+"v"+(de-fe)+"h"+te}else ie+="V"+(X.yLabelMid+X.labelExtraY)+"h"+te;h.ensureSingle(q,"path","textline").call(L.stroke,Q.outsidetextfont.color).attr({"stroke-width":Math.min(2,Q.outsidetextfont.size/8),d:ie,fill:"none"})})}function l(J,Q,X){var q=X[0],se=q.cx,Y=q.cy,Z=q.trace,ie=Z.type==="funnelarea";"_hasHoverLabel"in Z||(Z._hasHoverLabel=!1),"_hasHoverEvent"in Z||(Z._hasHoverEvent=!1),J.on("mouseover",function(te){var fe=Q._fullLayout,de=Q._fullData[Z.index];if(!(Q._dragging||fe.hovermode===!1)){var we=de.hoverinfo;if(Array.isArray(we)&&(we=a.castHoverinfo({hoverinfo:[o.castOption(we,te.pts)],_module:Z._module},fe,0)),we==="all"&&(we="label+text+value+percent+name"),de.hovertemplate||we!=="none"&&we!=="skip"&&we){var Ae=te.rInscribed||0,Re=se+te.pxmid[0]*(1-Ae),Fe=Y+te.pxmid[1]*(1-Ae),Se=fe.separators,Te=[];if(we&&we.indexOf("label")!==-1&&Te.push(te.label),te.text=o.castOption(de.hovertext||de.text,te.pts),we&&we.indexOf("text")!==-1){var Ee=te.text;h.isValidTextValue(Ee)&&Te.push(Ee)}te.value=te.v,te.valueLabel=o.formatPieValue(te.v,Se),we&&we.indexOf("value")!==-1&&Te.push(te.valueLabel),te.percent=te.v/q.vTotal,te.percentLabel=o.formatPiePercent(te.percent,Se),we&&we.indexOf("percent")!==-1&&Te.push(te.percentLabel);var Ne=de.hoverlabel,He=Ne.font,_e=[];a.loneHover({trace:Z,x0:Re-Ae*q.r,x1:Re+Ae*q.r,y:Fe,_x0:ie?se+te.TL[0]:Re-Ae*q.r,_x1:ie?se+te.TR[0]:Re+Ae*q.r,_y0:ie?Y+te.TL[1]:Fe-Ae*q.r,_y1:ie?Y+te.BL[1]:Fe+Ae*q.r,text:Te.join("<br>"),name:de.hovertemplate||we.indexOf("name")!==-1?de.name:void 0,idealAlign:te.pxmid[0]<0?"left":"right",color:o.castOption(Ne.bgcolor,te.pts)||te.color,borderColor:o.castOption(Ne.bordercolor,te.pts),fontFamily:o.castOption(He.family,te.pts),fontSize:o.castOption(He.size,te.pts),fontColor:o.castOption(He.color,te.pts),nameLength:o.castOption(Ne.namelength,te.pts),textAlign:o.castOption(Ne.align,te.pts),hovertemplate:o.castOption(de.hovertemplate,te.pts),hovertemplateLabels:te,eventData:[m(te,de)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:Q,inOut_bbox:_e}),te.bbox=_e[0],Z._hasHoverLabel=!0}Z._hasHoverEvent=!0,Q.emit("plotly_hover",{points:[m(te,de)],event:y.event})}}),J.on("mouseout",function(te){var fe=Q._fullLayout,de=Q._fullData[Z.index],we=y.select(this).datum();Z._hasHoverEvent&&(te.originalEvent=y.event,Q.emit("plotly_unhover",{points:[m(we,de)],event:y.event}),Z._hasHoverEvent=!1),Z._hasHoverLabel&&(a.loneUnhover(fe._hoverlayer.node()),Z._hasHoverLabel=!1)}),J.on("click",function(te){var fe=Q._fullLayout,de=Q._fullData[Z.index];Q._dragging||fe.hovermode===!1||(Q._hoverdata=[m(te,de)],a.click(Q,y.event))})}function p(J,Q,X){var q=o.castOption(J.outsidetextfont.color,Q.pts)||o.castOption(J.textfont.color,Q.pts)||X.color,se=o.castOption(J.outsidetextfont.family,Q.pts)||o.castOption(J.textfont.family,Q.pts)||X.family,Y=o.castOption(J.outsidetextfont.size,Q.pts)||o.castOption(J.textfont.size,Q.pts)||X.size;return{color:q,family:se,size:Y}}function S(J,Q,X){var q=o.castOption(J.insidetextfont.color,Q.pts);!q&&J._input.textfont&&(q=o.castOption(J._input.textfont.color,Q.pts));var se=o.castOption(J.insidetextfont.family,Q.pts)||o.castOption(J.textfont.family,Q.pts)||X.family,Y=o.castOption(J.insidetextfont.size,Q.pts)||o.castOption(J.textfont.size,Q.pts)||X.size;return{color:q||L.contrast(Q.color),family:se,size:Y}}function M(J,Q){for(var X,q,se=0;se<J.length;se++)if(X=J[se][0],q=X.trace,q.title.text){var Y=q.title.text;q._meta&&(Y=h.templateString(Y,q._meta));var Z=x.tester.append("text").attr("data-notex",1).text(Y).call(x.font,q.title.font).call(r.convertToTspans,Q),ie=x.bBox(Z.node(),!0);X.titleBox={width:ie.width,height:ie.height},Z.remove()}}function R(J,Q,X){var q=X.r||Q.rpx1,se=Q.rInscribed,Y=Q.startangle===Q.stopangle;if(Y)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var Z=Q.ring,ie=Z===1&&Math.abs(Q.startangle-Q.stopangle)===Math.PI*2,te=Q.halfangle,fe=Q.midangle,de=X.trace.insidetextorientation,we=de==="horizontal",Ae=de==="tangential",Re=de==="radial",Fe=de==="auto",Se=[],Te;if(!Fe){var Ee=function(qe,rt){if(T(Q,qe)){var ft=Math.abs(qe-Q.startangle),pt=Math.abs(qe-Q.stopangle),gt=ft<pt?ft:pt;rt==="tan"?Te=A(J,q,Z,gt,0):Te=E(J,q,Z,gt,Math.PI/2),Te.textPosAngle=qe,Se.push(Te)}},Ne;if(we||Ae){for(Ne=4;Ne>=-4;Ne-=2)Ee(Math.PI*Ne,"tan");for(Ne=4;Ne>=-4;Ne-=2)Ee(Math.PI*(Ne+1),"tan")}if(we||Re){for(Ne=4;Ne>=-4;Ne-=2)Ee(Math.PI*(Ne+1.5),"rad");for(Ne=4;Ne>=-4;Ne-=2)Ee(Math.PI*(Ne+.5),"rad")}}if(ie||Fe||we){var He=Math.sqrt(J.width*J.width+J.height*J.height);if(Te={scale:se*q*2/He,rCenter:1-se,rotate:0},Te.textPosAngle=(Q.startangle+Q.stopangle)/2,Te.scale>=1)return Te;Se.push(Te)}(Fe||Re)&&(Te=E(J,q,Z,te,fe),Te.textPosAngle=(Q.startangle+Q.stopangle)/2,Se.push(Te)),(Fe||Ae)&&(Te=A(J,q,Z,te,fe),Te.textPosAngle=(Q.startangle+Q.stopangle)/2,Se.push(Te));for(var _e=0,We=0,tt=0;tt<Se.length;tt++){var Ke=Se[tt].scale;if(We<Ke&&(We=Ke,_e=tt),!Fe&&We>=1)break}return Se[_e]}function T(J,Q){var X=J.startangle,q=J.stopangle;return X>Q&&Q>q||X<Q&&Q<q}function E(J,Q,X,q,se){Q=Math.max(0,Q-2*s);var Y=J.width/J.height,Z=w(Y,q,Q,X);return{scale:Z*2/J.height,rCenter:f(Y,Z/Q),rotate:P(se)}}function A(J,Q,X,q,se){Q=Math.max(0,Q-2*s);var Y=J.height/J.width,Z=w(Y,q,Q,X);return{scale:Z*2/J.width,rCenter:f(Y,Z/Q),rotate:P(se+Math.PI/2)}}function f(J,Q){return Math.cos(Q)-J*Q}function P(J){return(180/Math.PI*J+720)%180-90}function w(J,Q,X,q){var se=J+1/(2*Math.tan(Q));return X*Math.min(1/(Math.sqrt(se*se+.5)+se),q/(Math.sqrt(J*J+q/2)+J))}function z(J,Q){return J.v===Q.vTotal&&!Q.trace.hole?1:Math.min(1/(1+1/Math.sin(J.halfangle)),J.ring/2)}function F(J,Q){var X=Q.pxmid[0],q=Q.pxmid[1],se=J.width/2,Y=J.height/2;return X<0&&(se*=-1),q<0&&(Y*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(Y)*(se>0?1:-1)/2,y:Y/(1+X*X/(q*q)),outside:!0}}function H(J){var Q=Math.sqrt(J.titleBox.width*J.titleBox.width+J.titleBox.height*J.titleBox.height);return{x:J.cx,y:J.cy,scale:J.trace.hole*J.r*2/Q,tx:0,ty:-J.titleBox.height/2+J.trace.title.font.size}}function _(J,Q){var X=1,q=1,se,Y=J.trace,Z={x:J.cx,y:J.cy},ie={tx:0,ty:0};ie.ty+=Y.title.font.size,se=O(Y),Y.title.position.indexOf("top")!==-1?(Z.y-=(1+se)*J.r,ie.ty-=J.titleBox.height):Y.title.position.indexOf("bottom")!==-1&&(Z.y+=(1+se)*J.r);var te=B(J.r,J.trace.aspectratio),fe=Q.w*(Y.domain.x[1]-Y.domain.x[0])/2;return Y.title.position.indexOf("left")!==-1?(fe=fe+te,Z.x-=(1+se)*te,ie.tx+=J.titleBox.width/2):Y.title.position.indexOf("center")!==-1?fe*=2:Y.title.position.indexOf("right")!==-1&&(fe=fe+te,Z.x+=(1+se)*te,ie.tx-=J.titleBox.width/2),X=fe/J.titleBox.width,q=N(J,Q)/J.titleBox.height,{x:Z.x,y:Z.y,scale:Math.min(X,q),tx:ie.tx,ty:ie.ty}}function B(J,Q){return J/(Q===void 0?1:Q)}function N(J,Q){var X=J.trace,q=Q.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(J.titleBox.height,q/2)}function O(J){var Q=J.pull;if(!Q)return 0;var X;if(Array.isArray(Q))for(Q=0,X=0;X<J.pull.length;X++)J.pull[X]>Q&&(Q=J.pull[X]);return Q}function U(J,Q){var X,q,se,Y,Z,ie,te,fe,de,we,Ae,Re,Fe;function Se(He,_e){return He.pxmid[1]-_e.pxmid[1]}function Te(He,_e){return _e.pxmid[1]-He.pxmid[1]}function Ee(He,_e){_e||(_e={});var We=_e.labelExtraY+(q?_e.yLabelMax:_e.yLabelMin),tt=q?He.yLabelMin:He.yLabelMax,Ke=q?He.yLabelMax:He.yLabelMin,qe=He.cyFinal+Z(He.px0[1],He.px1[1]),rt=We-tt,ft,pt,gt,Mt,Lt,Wt;if(rt*te>0&&(He.labelExtraY=rt),!!Array.isArray(Q.pull))for(pt=0;pt<we.length;pt++)gt=we[pt],!(gt===He||(o.castOption(Q.pull,He.pts)||0)>=(o.castOption(Q.pull,gt.pts)||0))&&((He.pxmid[1]-gt.pxmid[1])*te>0?(Mt=gt.cyFinal+Z(gt.px0[1],gt.px1[1]),rt=Mt-tt-He.labelExtraY,rt*te>0&&(He.labelExtraY+=rt)):(Ke+He.labelExtraY-qe)*te>0&&(ft=3*ie*Math.abs(pt-we.indexOf(He)),Lt=gt.cxFinal+Y(gt.px0[0],gt.px1[0]),Wt=Lt+ft-(He.cxFinal+He.pxmid[0])-He.labelExtraX,Wt*ie>0&&(He.labelExtraX+=Wt)))}for(q=0;q<2;q++)for(se=q?Se:Te,Z=q?Math.max:Math.min,te=q?1:-1,X=0;X<2;X++){for(Y=X?Math.max:Math.min,ie=X?1:-1,fe=J[q][X],fe.sort(se),de=J[1-q][X],we=de.concat(fe),Re=[],Ae=0;Ae<fe.length;Ae++)fe[Ae].yLabelMid!==void 0&&Re.push(fe[Ae]);for(Fe=!1,Ae=0;q&&Ae<de.length;Ae++)if(de[Ae].yLabelMid!==void 0){Fe=de[Ae];break}for(Ae=0;Ae<Re.length;Ae++){var Ne=Ae&&Re[Ae-1];Fe&&!Ae&&(Ne=Fe),Ee(Re[Ae],Ne)}}}function K(J,Q){for(var X=[],q=0;q<J.length;q++){var se=J[q][0],Y=se.trace,Z=Y.domain,ie=Q.w*(Z.x[1]-Z.x[0]),te=Q.h*(Z.y[1]-Z.y[0]);Y.title.text&&Y.title.position!=="middle center"&&(te-=N(se,Q));var fe=ie/2,de=te/2;Y.type==="funnelarea"&&!Y.scalegroup&&(de/=Y.aspectratio),se.r=Math.min(fe,de)/(1+O(Y)),se.cx=Q.l+Q.w*(Y.domain.x[1]+Y.domain.x[0])/2,se.cy=Q.t+Q.h*(1-Y.domain.y[0])-te/2,Y.title.text&&Y.title.position.indexOf("bottom")!==-1&&(se.cy-=N(se,Q)),Y.scalegroup&&X.indexOf(Y.scalegroup)===-1&&X.push(Y.scalegroup)}re(J,X)}function re(J,Q){for(var X,q,se,Y=0;Y<Q.length;Y++){var Z=1/0,ie=Q[Y];for(q=0;q<J.length;q++)if(X=J[q][0],se=X.trace,se.scalegroup===ie){var te;if(se.type==="pie")te=X.r*X.r;else if(se.type==="funnelarea"){var fe,de;se.aspectratio>1?(fe=X.r,de=fe/se.aspectratio):(de=X.r,fe=de*se.aspectratio),fe*=(1+se.baseratio)/2,te=fe*de}Z=Math.min(Z,te/X.vTotal)}for(q=0;q<J.length;q++)if(X=J[q][0],se=X.trace,se.scalegroup===ie){var we=Z*X.vTotal;se.type==="funnelarea"&&(we/=(1+se.baseratio)/2,we/=se.aspectratio),X.r=Math.sqrt(we)}}}function ae(J){var Q=J[0],X=Q.r,q=Q.trace,se=o.getRotationAngle(q.rotation),Y=2*Math.PI/Q.vTotal,Z="px0",ie="px1",te,fe,de;if(q.direction==="counterclockwise"){for(te=0;te<J.length&&J[te].hidden;te++);if(te===J.length)return;se+=Y*J[te].v,Y*=-1,Z="px1",ie="px0"}for(de=ue(X,se),te=0;te<J.length;te++)fe=J[te],!fe.hidden&&(fe[Z]=de,fe.startangle=se,se+=Y*fe.v/2,fe.pxmid=ue(X,se),fe.midangle=se,se+=Y*fe.v/2,de=ue(X,se),fe.stopangle=se,fe[ie]=de,fe.largeArc=fe.v>Q.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/Q.vTotal,.5),fe.ring=1-q.hole,fe.rInscribed=z(fe,Q))}function ue(J,Q){return[J*Math.sin(Q),-J*Math.cos(Q)]}function ve(J,Q,X){var q=J._fullLayout,se=X.trace,Y=se.texttemplate,Z=se.textinfo;if(!Y&&Z&&Z!=="none"){var ie=Z.split("+"),te=function(_e){return ie.indexOf(_e)!==-1},fe=te("label"),de=te("text"),we=te("value"),Ae=te("percent"),Re=q.separators,Fe;if(Fe=fe?[Q.label]:[],de){var Se=o.getFirstFilled(se.text,Q.pts);c(Se)&&Fe.push(Se)}we&&Fe.push(o.formatPieValue(Q.v,Re)),Ae&&Fe.push(o.formatPiePercent(Q.v/X.vTotal,Re)),Q.text=Fe.join("<br>")}function Te(_e){return{label:_e.label,value:_e.v,valueLabel:o.formatPieValue(_e.v,q.separators),percent:_e.v/X.vTotal,percentLabel:o.formatPiePercent(_e.v/X.vTotal,q.separators),color:_e.color,text:_e.text,customdata:h.castOption(se,_e.i,"customdata")}}if(Y){var Ee=h.castOption(se,Q.i,"texttemplate");if(!Ee)Q.text="";else{var Ne=Te(Q),He=o.getFirstFilled(se.text,Q.pts);(c(He)||He==="")&&(Ne.text=He),Q.text=h.texttemplateString(Ee,Ne,J._fullLayout._d3locale,Ne,se._meta||{})}}}function ee(J,Q){var X=J.rotate*Math.PI/180,q=Math.cos(X),se=Math.sin(X),Y=(Q.left+Q.right)/2,Z=(Q.top+Q.bottom)/2;J.textX=Y*q-Z*se,J.textY=Y*se+Z*q,J.noCenter=!0}W.exports={plot:b,formatSliceLabel:ve,transformInsideText:R,determineInsideTextFont:S,positionTitleOutside:_,prerenderTitles:M,layoutAreas:K,attachFxHandlers:l,computeTransform:ee}},68357:function(W,V,e){var y=e(39898),C=e(63463),a=e(72597).resizeText;W.exports=function(x){var h=x._fullLayout._pielayer.selectAll(".trace");a(x,h,"pie"),h.each(function(d){var t=d[0],r=t.trace,u=y.select(this);u.style({opacity:r.opacity}),u.selectAll("path.surface").each(function(n){y.select(this).call(C,n,r,x)})})}},63463:function(W,V,e){var y=e(7901),C=e(53581).castOption,a=e(22209);W.exports=function(x,h,d,t){var r=d.marker.line,u=C(r.color,h.pts)||y.defaultLine,n=C(r.width,h.pts)||0;x.call(a,h,d,t).style("stroke-width",n).call(y.stroke,u)}},10959:function(W,V,e){var y=e(82196);W.exports={x:y.x,y:y.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:y.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(W,V,e){var y=e(9330).gl_pointcloud2d,C=e(78614),a=e(71739).findExtremes,L=e(34603);function x(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=y(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var h=x.prototype;h.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},h.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=L(t,{})},h.updateFast=function(t){var r=this.xData=this.pickXData=t.x,u=this.yData=this.pickYData=t.y,n=this.pickXYData=t.xy,i=t.xbounds&&t.ybounds,s=t.indices,o,m,c,b=this.bounds,v,l,p;if(n){if(c=n,o=n.length>>>1,i)b[0]=t.xbounds[0],b[2]=t.xbounds[1],b[1]=t.ybounds[0],b[3]=t.ybounds[1];else for(p=0;p<o;p++)v=c[p*2],l=c[p*2+1],v<b[0]&&(b[0]=v),v>b[2]&&(b[2]=v),l<b[1]&&(b[1]=l),l>b[3]&&(b[3]=l);if(s)m=s;else for(m=new Int32Array(o),p=0;p<o;p++)m[p]=p}else for(o=r.length,c=new Float32Array(2*o),m=new Int32Array(o),p=0;p<o;p++)v=r[p],l=u[p],m[p]=p,c[p*2]=v,c[p*2+1]=l,v<b[0]&&(b[0]=v),v>b[2]&&(b[2]=v),l<b[1]&&(b[1]=l),l>b[3]&&(b[3]=l);this.idToIndex=m,this.pointcloudOptions.idToIndex=m,this.pointcloudOptions.positions=c;var S=C(t.marker.color),M=C(t.marker.border.color),R=t.opacity*t.marker.opacity;S[3]*=R,this.pointcloudOptions.color=S;var T=t.marker.blend;if(T===null){var E=100;T=r.length<E||u.length<E}this.pointcloudOptions.blend=T,M[3]*=R,this.pointcloudOptions.borderColor=M;var A=t.marker.sizemin,f=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=A,this.pointcloudOptions.sizeMax=f,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var P=this.scene.xaxis,w=this.scene.yaxis,z=f/2||.5;t._extremes[P._id]=a(P,[b[0],b[2]],{ppad:z}),t._extremes[w._id]=a(w,[b[1],b[3]],{ppad:z})},h.dispose=function(){this.pointcloud.dispose()};function d(t,r){var u=new x(t,r.uid);return u.update(r),u}W.exports=d},33876:function(W,V,e){var y=e(71828),C=e(10959);W.exports=function(L,x,h){function d(t,r){return y.coerce(L,x,C,t,r)}d("x"),d("y"),d("xbounds"),d("ybounds"),L.xy&&L.xy instanceof Float32Array&&(x.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(x.indices=L.indices),d("text"),d("marker.color",h),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",h),d("marker.border.arearatio"),x._length=null}},20593:function(W,V,e){W.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(W,V,e){var y=e(41940),C=e(9012),a=e(22399),L=e(77914),x=e(27670).Y,h=e(5386).fF,d=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,u=e(1426).extendFlat,n=e(30962).overrideAll,i=W.exports=n({hoverinfo:u({},C.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:x({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:y({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:h({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:u(d().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");i.transforms=void 0},75536:function(W,V,e){var y=e(30962).overrideAll,C=e(27659).a0,a=e(60436),L=e(528),x=e(6964),h=e(28569),d=e(47322).prepSelect,t=e(71828),r=e(73972),u="sankey";V.name=u,V.baseLayoutAttrOverrides=y({hoverlabel:L.hoverlabel},"plot","nested"),V.plot=function(i){var s=C(i.calcdata,u)[0];a(i,s),V.updateFx(i)},V.clean=function(i,s,o,m){var c=m._has&&m._has(u),b=s._has&&s._has(u);c&&!b&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},V.updateFx=function(i){for(var s=0;s<i._fullData.length;s++)n(i,s)};function n(i,s){var o=i._fullData[s],m=i._fullLayout,c=m.dragmode,b=m.dragmode==="pan"?"move":"crosshair",v=o._bgRect;if(v&&!(c==="pan"||c==="zoom")){x(v,b);var l={_id:"x",c2p:t.identity,_offset:o._sankey.translateX,_length:o._sankey.width},p={_id:"y",c2p:t.identity,_offset:o._sankey.translateY,_length:o._sankey.height},S={gd:i,element:v.node(),plotinfo:{id:s,xaxis:l,yaxis:p,fillRangeItems:t.noop},subplot:s,xaxes:[l],yaxes:[p],doneFnCompleted:function(M){var R=i._fullData[s],T,E=R.node.groups.slice(),A=[];function f(F){for(var H=R._sankey.graph.nodes,_=0;_<H.length;_++)if(H[_].pointNumber===F)return H[_]}for(var P=0;P<M.length;P++){var w=f(M[P].pointNumber);if(w)if(w.group){for(var z=0;z<w.childrenNodes.length;z++)A.push(w.childrenNodes[z].pointNumber);E[w.pointNumber-R.node._count]=!1}else A.push(w.pointNumber)}T=E.filter(Boolean).concat([A]),r.call("_guiRestyle",i,{"node.groups":[T]},s)}};S.prepFn=function(M,R,T){d(M,R,T,S,c)},h.init(S)}}},92930:function(W,V,e){var y=e(68664),C=e(71828),a=e(28984).wrap,L=C.isArrayOrTypedArray,x=C.isIndex,h=e(21081);function d(r){var u=r.node,n=r.link,i=[],s=L(n.color),o=L(n.customdata),m={},c={},b=n.colorscales.length,v;for(v=0;v<b;v++){var l=n.colorscales[v],p=h.extractScale(l,{cLetter:"c"}),S=h.makeColorScaleFunc(p);c[l.label]=S}var M=0;for(v=0;v<n.value.length;v++)n.source[v]>M&&(M=n.source[v]),n.target[v]>M&&(M=n.target[v]);var R=M+1;r.node._count=R;var T,E=r.node.groups,A={};for(v=0;v<E.length;v++){var f=E[v];for(T=0;T<f.length;T++){var P=f[T],w=R+v;A.hasOwnProperty(P)?C.warn("Node "+P+" is already part of a group."):A[P]=w}}var z={source:[],target:[]};for(v=0;v<n.value.length;v++){var F=n.value[v],H=n.source[v],_=n.target[v];if(F>0&&x(H,R)&&x(_,R)&&!(A.hasOwnProperty(H)&&A.hasOwnProperty(_)&&A[H]===A[_])){A.hasOwnProperty(_)&&(_=A[_]),A.hasOwnProperty(H)&&(H=A[H]),H=+H,_=+_,m[H]=m[_]=!0;var B="";n.label&&n.label[v]&&(B=n.label[v]);var N=null;B&&c.hasOwnProperty(B)&&(N=c[B]),i.push({pointNumber:v,label:B,color:s?n.color[v]:n.color,customdata:o?n.customdata[v]:n.customdata,concentrationscale:N,source:H,target:_,value:+F}),z.source.push(H),z.target.push(_)}}var O=R+E.length,U=L(u.color),K=L(u.customdata),re=[];for(v=0;v<O;v++)if(m[v]){var ae=u.label[v];re.push({group:v>R-1,childrenNodes:[],pointNumber:v,label:ae,color:U?u.color[v]:u.color,customdata:K?u.customdata[v]:u.customdata})}var ue=!1;return t(O,z.source,z.target)&&(ue=!0),{circular:ue,links:i,nodes:re,groups:E,groupLookup:A}}function t(r,u,n){for(var i=C.init2dArray(r,0),s=0;s<Math.min(u.length,n.length);s++)if(C.isIndex(u[s],r)&&C.isIndex(n[s],r)){if(u[s]===n[s])return!0;i[u[s]].push(n[s])}var o=y(i);return o.components.some(function(m){return m.length>1})}W.exports=function(u,n){var i=d(n);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},85247:function(W){W.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(W,V,e){var y=e(71828),C=e(39953),a=e(7901),L=e(84267),x=e(27670).c,h=e(38048),d=e(44467),t=e(85501);W.exports=function(n,i,s,o){function m(f,P){return y.coerce(n,i,C,f,P)}var c=y.extendDeep(o.hoverlabel,n.hoverlabel),b=n.node,v=d.newContainer(i,"node");function l(f,P){return y.coerce(b,v,C.node,f,P)}l("label"),l("groups"),l("x"),l("y"),l("pad"),l("thickness"),l("line.color"),l("line.width"),l("hoverinfo",n.hoverinfo),h(b,v,l,c),l("hovertemplate");var p=o.colorway,S=function(f){return p[f%p.length]};l("color",v.label.map(function(f,P){return a.addOpacity(S(P),.8)})),l("customdata");var M=n.link||{},R=d.newContainer(i,"link");function T(f,P){return y.coerce(M,R,C.link,f,P)}T("label"),T("arrowlen"),T("source"),T("target"),T("value"),T("line.color"),T("line.width"),T("hoverinfo",n.hoverinfo),h(M,R,T,c),T("hovertemplate");var E=L(o.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";T("color",y.repeat(E,R.value.length)),T("customdata"),t(M,R,{name:"colorscales",handleItemDefaults:r}),x(i,o,m),m("orientation"),m("valueformat"),m("valuesuffix");var A;v.x.length&&v.y.length&&(A="freeform"),m("arrangement",A),y.coerceFont(m,"textfont",y.extendFlat({},o.font)),i._length=null};function r(u,n){function i(s,o){return y.coerce(u,n,C.link.colorscales,s,o)}i("label"),i("cmin"),i("cmax"),i("colorscale")}},29396:function(W,V,e){W.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(W,V,e){var y=e(39898),C=e(71828),a=C.numberFormat,L=e(3393),x=e(30211),h=e(7901),d=e(85247).cn,t=C._;function r(p){return p!==""}function u(p,S){return p.filter(function(M){return M.key===S.traceId})}function n(p,S){y.select(p).select("path").style("fill-opacity",S),y.select(p).select("rect").style("fill-opacity",S)}function i(p){y.select(p).select("text.name").style("fill","black")}function s(p){return function(S){return p.node.sourceLinks.indexOf(S.link)!==-1||p.node.targetLinks.indexOf(S.link)!==-1}}function o(p){return function(S){return S.node.sourceLinks.indexOf(p.link)!==-1||S.node.targetLinks.indexOf(p.link)!==-1}}function m(p,S,M){S&&M&&u(M,S).selectAll("."+d.sankeyLink).filter(s(S)).call(b.bind(0,S,M,!1))}function c(p,S,M){S&&M&&u(M,S).selectAll("."+d.sankeyLink).filter(s(S)).call(v.bind(0,S,M,!1))}function b(p,S,M,R){var T=R.datum().link.label;R.style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),T&&u(S,p).selectAll("."+d.sankeyLink).filter(function(E){return E.link.label===T}).style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),M&&u(S,p).selectAll("."+d.sankeyNode).filter(o(p)).call(m)}function v(p,S,M,R){var T=R.datum().link.label;R.style("fill-opacity",function(E){return E.tinyColorAlpha}),T&&u(S,p).selectAll("."+d.sankeyLink).filter(function(E){return E.link.label===T}).style("fill-opacity",function(E){return E.tinyColorAlpha}),M&&u(S,p).selectAll(d.sankeyNode).filter(o(p)).call(c)}function l(p,S){var M=p.hoverlabel||{},R=C.nestedProperty(M,S).get();return Array.isArray(R)?!1:R}W.exports=function(S,M){for(var R=S._fullLayout,T=R._paper,E=R._size,A=0;A<S._fullData.length;A++)if(S._fullData[A].visible&&S._fullData[A].type===d.sankey&&!S._fullData[A]._viewInitial){var f=S._fullData[A].node;S._fullData[A]._viewInitial={node:{groups:f.groups.slice(),x:f.x.slice(),y:f.y.slice()}}}var P=function(ue,ve){var ee=ve.link;ee.originalEvent=y.event,S._hoverdata=[ee],x.click(S,{target:!0})},w=function(ue,ve,ee){S._fullLayout.hovermode!==!1&&(y.select(ue).call(b.bind(0,ve,ee,!0)),ve.link.trace.link.hoverinfo!=="skip"&&(ve.link.fullData=ve.link.trace,S.emit("plotly_hover",{event:y.event,points:[ve.link]})))},z=t(S,"source:")+" ",F=t(S,"target:")+" ",H=t(S,"concentration:")+" ",_=t(S,"incoming flow count:")+" ",B=t(S,"outgoing flow count:")+" ",N=function(ue,ve){if(S._fullLayout.hovermode===!1)return;var ee=ve.link.trace.link;if(ee.hoverinfo==="none"||ee.hoverinfo==="skip")return;var J=[];function Q(te){var fe,de;te.circular?(fe=(te.circularPathData.leftInnerExtent+te.circularPathData.rightInnerExtent)/2,de=te.circularPathData.verticalFullExtent):(fe=(te.source.x1+te.target.x0)/2,de=(te.y0+te.y1)/2);var we=[fe,de];return te.trace.orientation==="v"&&we.reverse(),we[0]+=ve.parent.translateX,we[1]+=ve.parent.translateY,we}for(var X=0,q=0;q<ve.flow.links.length;q++){var se=ve.flow.links[q];if(!(S._fullLayout.hovermode==="closest"&&ve.link.pointNumber!==se.pointNumber)){ve.link.pointNumber===se.pointNumber&&(X=q),se.fullData=se.trace,ee=ve.link.trace.link;var Y=Q(se),Z={valueLabel:a(ve.valueFormat)(se.value)+ve.valueSuffix};J.push({x:Y[0],y:Y[1],name:Z.valueLabel,text:[se.label||"",z+se.source.label,F+se.target.label,se.concentrationscale?H+a("%0.2f")(se.flow.labelConcentration):""].filter(r).join("<br>"),color:l(ee,"bgcolor")||h.addOpacity(se.color,1),borderColor:l(ee,"bordercolor"),fontFamily:l(ee,"font.family"),fontSize:l(ee,"font.size"),fontColor:l(ee,"font.color"),nameLength:l(ee,"namelength"),textAlign:l(ee,"align"),idealAlign:y.event.x<Y[0]?"right":"left",hovertemplate:ee.hovertemplate,hovertemplateLabels:Z,eventData:[se]})}}var ie=x.loneHover(J,{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:S,anchorIndex:X});ie.each(function(){var te=this;ve.link.concentrationscale||n(te,.65),i(te)})},O=function(ue,ve,ee){S._fullLayout.hovermode!==!1&&(y.select(ue).call(v.bind(0,ve,ee,!0)),ve.link.trace.link.hoverinfo!=="skip"&&(ve.link.fullData=ve.link.trace,S.emit("plotly_unhover",{event:y.event,points:[ve.link]})),x.loneUnhover(R._hoverlayer.node()))},U=function(ue,ve,ee){var J=ve.node;J.originalEvent=y.event,S._hoverdata=[J],y.select(ue).call(c,ve,ee),x.click(S,{target:!0})},K=function(ue,ve,ee){S._fullLayout.hovermode!==!1&&(y.select(ue).call(m,ve,ee),ve.node.trace.node.hoverinfo!=="skip"&&(ve.node.fullData=ve.node.trace,S.emit("plotly_hover",{event:y.event,points:[ve.node]})))},re=function(ue,ve){if(S._fullLayout.hovermode!==!1){var ee=ve.node.trace.node;if(!(ee.hoverinfo==="none"||ee.hoverinfo==="skip")){var J=y.select(ue).select("."+d.nodeRect),Q=S._fullLayout._paperdiv.node().getBoundingClientRect(),X=J.node().getBoundingClientRect(),q=X.left-2-Q.left,se=X.right+2-Q.left,Y=X.top+X.height/4-Q.top,Z={valueLabel:a(ve.valueFormat)(ve.node.value)+ve.valueSuffix};ve.node.fullData=ve.node.trace,S._fullLayout._calcInverseTransform(S);var ie=S._fullLayout._invScaleX,te=S._fullLayout._invScaleY,fe=x.loneHover({x0:ie*q,x1:ie*se,y:te*Y,name:a(ve.valueFormat)(ve.node.value)+ve.valueSuffix,text:[ve.node.label,_+ve.node.targetLinks.length,B+ve.node.sourceLinks.length].filter(r).join("<br>"),color:l(ee,"bgcolor")||ve.tinyColorHue,borderColor:l(ee,"bordercolor"),fontFamily:l(ee,"font.family"),fontSize:l(ee,"font.size"),fontColor:l(ee,"font.color"),nameLength:l(ee,"namelength"),textAlign:l(ee,"align"),idealAlign:"left",hovertemplate:ee.hovertemplate,hovertemplateLabels:Z,eventData:[ve.node]},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:S});n(fe,.85),i(fe)}}},ae=function(ue,ve,ee){S._fullLayout.hovermode!==!1&&(y.select(ue).call(c,ve,ee),ve.node.trace.node.hoverinfo!=="skip"&&(ve.node.fullData=ve.node.trace,S.emit("plotly_unhover",{event:y.event,points:[ve.node]})),x.loneUnhover(R._hoverlayer.node()))};L(S,T,M,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:w,follow:N,unhover:O,select:P},nodeEvents:{hover:K,follow:re,unhover:ae,select:U}})}},3393:function(W,V,e){var y=e(49887),C=e(81684).k4,a=e(39898),L=e(30838),x=e(86781),h=e(85247),d=e(84267),t=e(7901),r=e(91424),u=e(71828),n=u.strTranslate,i=u.strRotate,s=e(28984),o=s.keyFun,m=s.repeat,c=s.unwrap,b=e(63893),v=e(73972),l=e(18783),p=l.CAP_SHIFT,S=l.LINE_SPACING,M=3;function R(Q,X,q){var se=c(X),Y=se.trace,Z=Y.domain,ie=Y.orientation==="h",te=Y.node.pad,fe=Y.node.thickness,de=Q.width*(Z.x[1]-Z.x[0]),we=Q.height*(Z.y[1]-Z.y[0]),Ae=se._nodes,Re=se._links,Fe=se.circular,Se;Fe?Se=x.sankeyCircular().circularLinkGap(0):Se=L.sankey(),Se.iterations(h.sankeyIterations).size(ie?[de,we]:[we,de]).nodeWidth(fe).nodePadding(te).nodeId(function(Lt){return Lt.pointNumber}).nodes(Ae).links(Re);var Te=Se();Se.nodePadding()<te&&u.warn("node.pad was reduced to ",Se.nodePadding()," to fit within the figure.");var Ee,Ne,He;for(var _e in se._groupLookup){var We=parseInt(se._groupLookup[_e]),tt;for(Ee=0;Ee<Te.nodes.length;Ee++)if(Te.nodes[Ee].pointNumber===We){tt=Te.nodes[Ee];break}if(tt){var Ke={pointNumber:parseInt(_e),x0:tt.x0,x1:tt.x1,y0:tt.y0,y1:tt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Te.nodes.unshift(Ke),tt.childrenNodes.unshift(Ke)}}function qe(){for(Ee=0;Ee<Te.nodes.length;Ee++){var Lt=Te.nodes[Ee],Wt={},Je,ze;for(Ne=0;Ne<Lt.targetLinks.length;Ne++)ze=Lt.targetLinks[Ne],Je=ze.source.pointNumber+":"+ze.target.pointNumber,Wt.hasOwnProperty(Je)||(Wt[Je]=[]),Wt[Je].push(ze);var Oe=Object.keys(Wt);for(Ne=0;Ne<Oe.length;Ne++){Je=Oe[Ne];var Ue=Wt[Je],ke=0,Me={};for(He=0;He<Ue.length;He++)ze=Ue[He],Me[ze.label]||(Me[ze.label]=0),Me[ze.label]+=ze.value,ke+=ze.value;for(He=0;He<Ue.length;He++)ze=Ue[He],ze.flow={value:ke,labelConcentration:Me[ze.label]/ke,concentration:ze.value/ke,links:Ue},ze.concentrationscale&&(ze.color=d(ze.concentrationscale(ze.flow.labelConcentration)))}var ce=0;for(Ne=0;Ne<Lt.sourceLinks.length;Ne++)ce+=Lt.sourceLinks[Ne].value;for(Ne=0;Ne<Lt.sourceLinks.length;Ne++)ze=Lt.sourceLinks[Ne],ze.concentrationOut=ze.value/ce;var be=0;for(Ne=0;Ne<Lt.targetLinks.length;Ne++)be+=Lt.targetLinks[Ne].value;for(Ne=0;Ne<Lt.targetLinks.length;Ne++)ze=Lt.targetLinks[Ne],ze.concenrationIn=ze.value/be}}qe();function rt(Lt){Lt.forEach(function(Wt){var Je,ze,Oe=0,Ue=Wt.length,ke;for(Wt.sort(function(Me,ce){return Me.y0-ce.y0}),ke=0;ke<Ue;++ke)Je=Wt[ke],Je.y0>=Oe||(ze=Oe-Je.y0,ze>1e-6&&(Je.y0+=ze,Je.y1+=ze)),Oe=Je.y1+te})}function ft(Lt){var Wt=Lt.map(function(ce,be){return{x0:ce.x0,index:be}}).sort(function(ce,be){return ce.x0-be.x0}),Je=[],ze=-1,Oe,Ue=-1/0,ke;for(Ee=0;Ee<Wt.length;Ee++){var Me=Lt[Wt[Ee].index];Me.x0>Ue+fe&&(ze+=1,Oe=Me.x0),Ue=Me.x0,Je[ze]||(Je[ze]=[]),Je[ze].push(Me),ke=Oe-Me.x0,Me.x0+=ke,Me.x1+=ke}return Je}if(Y.node.x.length&&Y.node.y.length){for(Ee=0;Ee<Math.min(Y.node.x.length,Y.node.y.length,Te.nodes.length);Ee++)if(Y.node.x[Ee]&&Y.node.y[Ee]){var pt=[Y.node.x[Ee]*de,Y.node.y[Ee]*we];Te.nodes[Ee].x0=pt[0]-fe/2,Te.nodes[Ee].x1=pt[0]+fe/2;var gt=Te.nodes[Ee].y1-Te.nodes[Ee].y0;Te.nodes[Ee].y0=pt[1]-gt/2,Te.nodes[Ee].y1=pt[1]+gt/2}if(Y.arrangement==="snap"){Ae=Te.nodes;var Mt=ft(Ae);rt(Mt)}Se.update(Te)}return{circular:Fe,key:q,trace:Y,guid:u.randstr(),horizontal:ie,width:de,height:we,nodePad:Y.node.pad,nodeLineColor:Y.node.line.color,nodeLineWidth:Y.node.line.width,linkLineColor:Y.link.line.color,linkLineWidth:Y.link.line.width,linkArrowLength:Y.link.arrowlen,valueFormat:Y.valueformat,valueSuffix:Y.valuesuffix,textFont:Y.textfont,translateX:Z.x[0]*Q.width+Q.margin.l,translateY:Q.height-Z.y[1]*Q.height+Q.margin.t,dragParallel:ie?we:de,dragPerpendicular:ie?de:we,arrangement:Y.arrangement,sankey:Se,graph:Te,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function T(Q,X,q){var se=d(X.color),Y=X.source.label+"|"+X.target.label,Z=Y+"__"+q;return X.trace=Q.trace,X.curveNumber=Q.trace.index,{circular:Q.circular,key:Z,traceId:Q.key,pointNumber:X.pointNumber,link:X,tinyColorHue:t.tinyRGB(se),tinyColorAlpha:se.getAlpha(),linkPath:A,linkLineColor:Q.linkLineColor,linkLineWidth:Q.linkLineWidth,linkArrowLength:Q.linkArrowLength,valueFormat:Q.valueFormat,valueSuffix:Q.valueSuffix,sankey:Q.sankey,parent:Q,interactionState:Q.interactionState,flow:X.flow}}function E(Q,X){var q="",se=Q.width/2,Y=Q.circularPathData;return Q.circularLinkType==="top"?q="M "+(Y.targetX-X)+" "+(Y.targetY+se)+" L"+(Y.rightInnerExtent-X)+" "+(Y.targetY+se)+"A"+(Y.rightLargeArcRadius+se)+" "+(Y.rightSmallArcRadius+se)+" 0 0 1 "+(Y.rightFullExtent-se-X)+" "+(Y.targetY-Y.rightSmallArcRadius)+"L"+(Y.rightFullExtent-se-X)+" "+Y.verticalRightInnerExtent+"A"+(Y.rightLargeArcRadius+se)+" "+(Y.rightLargeArcRadius+se)+" 0 0 1 "+(Y.rightInnerExtent-X)+" "+(Y.verticalFullExtent-se)+"L"+Y.leftInnerExtent+" "+(Y.verticalFullExtent-se)+"A"+(Y.leftLargeArcRadius+se)+" "+(Y.leftLargeArcRadius+se)+" 0 0 1 "+(Y.leftFullExtent+se)+" "+Y.verticalLeftInnerExtent+"L"+(Y.leftFullExtent+se)+" "+(Y.sourceY-Y.leftSmallArcRadius)+"A"+(Y.leftLargeArcRadius+se)+" "+(Y.leftSmallArcRadius+se)+" 0 0 1 "+Y.leftInnerExtent+" "+(Y.sourceY+se)+"L"+Y.sourceX+" "+(Y.sourceY+se)+"L"+Y.sourceX+" "+(Y.sourceY-se)+"L"+Y.leftInnerExtent+" "+(Y.sourceY-se)+"A"+(Y.leftLargeArcRadius-se)+" "+(Y.leftSmallArcRadius-se)+" 0 0 0 "+(Y.leftFullExtent-se)+" "+(Y.sourceY-Y.leftSmallArcRadius)+"L"+(Y.leftFullExtent-se)+" "+Y.verticalLeftInnerExtent+"A"+(Y.leftLargeArcRadius-se)+" "+(Y.leftLargeArcRadius-se)+" 0 0 0 "+Y.leftInnerExtent+" "+(Y.verticalFullExtent+se)+"L"+(Y.rightInnerExtent-X)+" "+(Y.verticalFullExtent+se)+"A"+(Y.rightLargeArcRadius-se)+" "+(Y.rightLargeArcRadius-se)+" 0 0 0 "+(Y.rightFullExtent+se-X)+" "+Y.verticalRightInnerExtent+"L"+(Y.rightFullExtent+se-X)+" "+(Y.targetY-Y.rightSmallArcRadius)+"A"+(Y.rightLargeArcRadius-se)+" "+(Y.rightSmallArcRadius-se)+" 0 0 0 "+(Y.rightInnerExtent-X)+" "+(Y.targetY-se)+"L"+(Y.targetX-X)+" "+(Y.targetY-se)+(X>0?"L"+Y.targetX+" "+Y.targetY:"")+"Z":q="M "+(Y.targetX-X)+" "+(Y.targetY-se)+" L"+(Y.rightInnerExtent-X)+" "+(Y.targetY-se)+"A"+(Y.rightLargeArcRadius+se)+" "+(Y.rightSmallArcRadius+se)+" 0 0 0 "+(Y.rightFullExtent-se-X)+" "+(Y.targetY+Y.rightSmallArcRadius)+"L"+(Y.rightFullExtent-se-X)+" "+Y.verticalRightInnerExtent+"A"+(Y.rightLargeArcRadius+se)+" "+(Y.rightLargeArcRadius+se)+" 0 0 0 "+(Y.rightInnerExtent-X)+" "+(Y.verticalFullExtent+se)+"L"+Y.leftInnerExtent+" "+(Y.verticalFullExtent+se)+"A"+(Y.leftLargeArcRadius+se)+" "+(Y.leftLargeArcRadius+se)+" 0 0 0 "+(Y.leftFullExtent+se)+" "+Y.verticalLeftInnerExtent+"L"+(Y.leftFullExtent+se)+" "+(Y.sourceY+Y.leftSmallArcRadius)+"A"+(Y.leftLargeArcRadius+se)+" "+(Y.leftSmallArcRadius+se)+" 0 0 0 "+Y.leftInnerExtent+" "+(Y.sourceY-se)+"L"+Y.sourceX+" "+(Y.sourceY-se)+"L"+Y.sourceX+" "+(Y.sourceY+se)+"L"+Y.leftInnerExtent+" "+(Y.sourceY+se)+"A"+(Y.leftLargeArcRadius-se)+" "+(Y.leftSmallArcRadius-se)+" 0 0 1 "+(Y.leftFullExtent-se)+" "+(Y.sourceY+Y.leftSmallArcRadius)+"L"+(Y.leftFullExtent-se)+" "+Y.verticalLeftInnerExtent+"A"+(Y.leftLargeArcRadius-se)+" "+(Y.leftLargeArcRadius-se)+" 0 0 1 "+Y.leftInnerExtent+" "+(Y.verticalFullExtent-se)+"L"+(Y.rightInnerExtent-X)+" "+(Y.verticalFullExtent-se)+"A"+(Y.rightLargeArcRadius-se)+" "+(Y.rightLargeArcRadius-se)+" 0 0 1 "+(Y.rightFullExtent+se-X)+" "+Y.verticalRightInnerExtent+"L"+(Y.rightFullExtent+se-X)+" "+(Y.targetY+Y.rightSmallArcRadius)+"A"+(Y.rightLargeArcRadius-se)+" "+(Y.rightSmallArcRadius-se)+" 0 0 1 "+(Y.rightInnerExtent-X)+" "+(Y.targetY+se)+"L"+(Y.targetX-X)+" "+(Y.targetY+se)+(X>0?"L"+Y.targetX+" "+Y.targetY:"")+"Z",q}function A(){var Q=.5;function X(q){var se=q.linkArrowLength;if(q.link.circular)return E(q.link,se);var Y=Math.abs((q.link.target.x0-q.link.source.x1)/2);se>Y&&(se=Y);var Z=q.link.source.x1,ie=q.link.target.x0-se,te=C(Z,ie),fe=te(Q),de=te(1-Q),we=q.link.y0-q.link.width/2,Ae=q.link.y0+q.link.width/2,Re=q.link.y1-q.link.width/2,Fe=q.link.y1+q.link.width/2,Se="M"+Z+","+we,Te="C"+fe+","+we+" "+de+","+Re+" "+ie+","+Re,Ee="C"+de+","+Fe+" "+fe+","+Ae+" "+Z+","+Ae,Ne=se>0?"L"+(ie+se)+","+(Re+q.link.width/2):"";return Ne+="L"+ie+","+Fe,Se+Te+Ne+Ee+"Z"}return X}function f(Q,X){var q=d(X.color),se=h.nodePadAcross,Y=Q.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var Z=X.dx,ie=Math.max(.5,X.dy),te="node_"+X.pointNumber;return X.group&&(te=u.randstr()),X.trace=Q.trace,X.curveNumber=Q.trace.index,{index:X.pointNumber,key:te,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:Q.key,trace:Q.trace,node:X,nodePad:Q.nodePad,nodeLineColor:Q.nodeLineColor,nodeLineWidth:Q.nodeLineWidth,textFont:Q.textFont,size:Q.horizontal?Q.height:Q.width,visibleWidth:Math.ceil(Z),visibleHeight:ie,zoneX:-se,zoneY:-Y,zoneWidth:Z+2*se,zoneHeight:ie+2*Y,labelY:Q.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:Q.width,forceLayouts:Q.forceLayouts,horizontal:Q.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:t.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:Q.valueFormat,valueSuffix:Q.valueSuffix,sankey:Q.sankey,graph:Q.graph,arrangement:Q.arrangement,uniqueNodeLabelPathId:[Q.guid,Q.key,te].join("_"),interactionState:Q.interactionState,figure:Q}}function P(Q){Q.attr("transform",function(X){return n(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function w(Q){Q.call(P)}function z(Q,X){Q.call(w),X.attr("d",A())}function F(Q){Q.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function H(Q){return Q.link.width>1||Q.linkLineWidth>0}function _(Q){var X=n(Q.translateX,Q.translateY);return X+(Q.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function B(Q,X,q){Q.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.hover(this,se,X),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.unhover(this,se,X),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(q.unhover(this,se,X),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&q.select(this,se,X)})}function N(Q,X,q,se){var Y=a.behavior.drag().origin(function(Z){return{x:Z.node.x0+Z.visibleWidth/2,y:Z.node.y0+Z.visibleHeight/2}}).on("dragstart",function(Z){if(Z.arrangement!=="fixed"&&(u.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(te){se._fullLayout._dragCover=te}),u.raiseToTop(this),Z.interactionState.dragInProgress=Z.node,ue(Z.node),Z.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,Z.interactionState.hovered),Z.interactionState.hovered=!1),Z.arrangement==="snap")){var ie=Z.traceId+"|"+Z.key;Z.forceLayouts[ie]?Z.forceLayouts[ie].alpha(1):O(Q,ie,Z),U(Q,X,Z,ie,se)}}).on("drag",function(Z){if(Z.arrangement!=="fixed"){var ie=a.event.x,te=a.event.y;Z.arrangement==="snap"?(Z.node.x0=ie-Z.visibleWidth/2,Z.node.x1=ie+Z.visibleWidth/2,Z.node.y0=te-Z.visibleHeight/2,Z.node.y1=te+Z.visibleHeight/2):(Z.arrangement==="freeform"&&(Z.node.x0=ie-Z.visibleWidth/2,Z.node.x1=ie+Z.visibleWidth/2),te=Math.max(0,Math.min(Z.size-Z.visibleHeight/2,te)),Z.node.y0=te-Z.visibleHeight/2,Z.node.y1=te+Z.visibleHeight/2),ue(Z.node),Z.arrangement!=="snap"&&(Z.sankey.update(Z.graph),z(Q.filter(ve(Z)),X))}}).on("dragend",function(Z){if(Z.arrangement!=="fixed"){Z.interactionState.dragInProgress=!1;for(var ie=0;ie<Z.node.childrenNodes.length;ie++)Z.node.childrenNodes[ie].x=Z.node.x,Z.node.childrenNodes[ie].y=Z.node.y;Z.arrangement!=="snap"&&re(Z,se)}});Q.on(".drag",null).call(Y)}function O(Q,X,q,se){ee(q.graph.nodes);var Y=q.graph.nodes.filter(function(Z){return Z.originalX===q.node.originalX}).filter(function(Z){return!Z.partOfGroup});q.forceLayouts[X]=y.forceSimulation(Y).alphaDecay(0).force("collide",y.forceCollide().radius(function(Z){return Z.dy/2+q.nodePad/2}).strength(1).iterations(h.forceIterations)).force("constrain",K(Q,X,Y,q)).stop()}function U(Q,X,q,se,Y){window.requestAnimationFrame(function Z(){var ie;for(ie=0;ie<h.forceTicksPerFrame;ie++)q.forceLayouts[se].tick();var te=q.graph.nodes;if(J(te),q.sankey.update(q.graph),z(Q.filter(ve(q)),X),q.forceLayouts[se].alpha()>0)window.requestAnimationFrame(Z);else{var fe=q.node.originalX;q.node.x0=fe-q.visibleWidth/2,q.node.x1=fe+q.visibleWidth/2,re(q,Y)}})}function K(Q,X,q,se){return function(){for(var Z=0,ie=0;ie<q.length;ie++){var te=q[ie];te===se.interactionState.dragInProgress?(te.x=te.lastDraggedX,te.y=te.lastDraggedY):(te.vx=(te.originalX-te.x)/h.forceTicksPerFrame,te.y=Math.min(se.size-te.dy/2,Math.max(te.dy/2,te.y))),Z=Math.max(Z,Math.abs(te.vx),Math.abs(te.vy))}!se.interactionState.dragInProgress&&Z<.1&&se.forceLayouts[X].alpha()>0&&se.forceLayouts[X].alpha(0)}}function re(Q,X){for(var q=[],se=[],Y=0;Y<Q.graph.nodes.length;Y++){var Z=(Q.graph.nodes[Y].x0+Q.graph.nodes[Y].x1)/2,ie=(Q.graph.nodes[Y].y0+Q.graph.nodes[Y].y1)/2;q.push(Z/Q.figure.width),se.push(ie/Q.figure.height)}v.call("_guiRestyle",X,{"node.x":[q],"node.y":[se]},Q.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function ae(Q){var X=[],q;for(q=0;q<Q.length;q++)Q[q].originalX=(Q[q].x0+Q[q].x1)/2,Q[q].originalY=(Q[q].y0+Q[q].y1)/2,X.indexOf(Q[q].originalX)===-1&&X.push(Q[q].originalX);for(X.sort(function(se,Y){return se-Y}),q=0;q<Q.length;q++)Q[q].originalLayerIndex=X.indexOf(Q[q].originalX),Q[q].originalLayer=Q[q].originalLayerIndex/(X.length-1)}function ue(Q){Q.lastDraggedX=Q.x0+Q.dx/2,Q.lastDraggedY=Q.y0+Q.dy/2}function ve(Q){return function(X){return X.node.originalX===Q.node.originalX}}function ee(Q){for(var X=0;X<Q.length;X++)Q[X].y=(Q[X].y0+Q[X].y1)/2,Q[X].x=(Q[X].x0+Q[X].x1)/2}function J(Q){for(var X=0;X<Q.length;X++)Q[X].y0=Q[X].y-Q[X].dy/2,Q[X].y1=Q[X].y0+Q[X].dy,Q[X].x0=Q[X].x-Q[X].dx/2,Q[X].x1=Q[X].x0+Q[X].dx}W.exports=function(Q,X,q,se,Y){var Z=Q._context.staticPlot,ie=!1;u.ensureSingle(Q._fullLayout._infolayer,"g","first-render",function(){ie=!0});var te=Q._fullLayout._dragCover,fe=q.filter(function(Ee){return c(Ee).trace.visible}).map(R.bind(null,se)),de=X.selectAll("."+h.cn.sankey).data(fe,o);de.exit().remove(),de.enter().append("g").classed(h.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Z?"none":"auto").attr("transform",_),de.each(function(Ee,Ne){Q._fullData[Ne]._sankey=Ee;var He="bgsankey-"+Ee.trace.uid+"-"+Ne;u.ensureSingle(Q._fullLayout._draggers,"rect",He),Q._fullData[Ne]._bgRect=a.select("."+He),Q._fullData[Ne]._bgRect.style("pointer-events",Z?"none":"all").attr("width",Ee.width).attr("height",Ee.height).attr("x",Ee.translateX).attr("y",Ee.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),de.transition().ease(h.ease).duration(h.duration).attr("transform",_);var we=de.selectAll("."+h.cn.sankeyLinks).data(m,o);we.enter().append("g").classed(h.cn.sankeyLinks,!0).style("fill","none");var Ae=we.selectAll("."+h.cn.sankeyLink).data(function(Ee){var Ne=Ee.graph.links;return Ne.filter(function(He){return He.value}).map(T.bind(null,Ee))},o);Ae.enter().append("path").classed(h.cn.sankeyLink,!0).call(B,de,Y.linkEvents),Ae.style("stroke",function(Ee){return H(Ee)?t.tinyRGB(d(Ee.linkLineColor)):Ee.tinyColorHue}).style("stroke-opacity",function(Ee){return H(Ee)?t.opacity(Ee.linkLineColor):Ee.tinyColorAlpha}).style("fill",function(Ee){return Ee.tinyColorHue}).style("fill-opacity",function(Ee){return Ee.tinyColorAlpha}).style("stroke-width",function(Ee){return H(Ee)?Ee.linkLineWidth:1}).attr("d",A()),Ae.style("opacity",function(){return Q._context.staticPlot||ie||te?1:0}).transition().ease(h.ease).duration(h.duration).style("opacity",1),Ae.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Re=de.selectAll("."+h.cn.sankeyNodeSet).data(m,o);Re.enter().append("g").classed(h.cn.sankeyNodeSet,!0),Re.style("cursor",function(Ee){switch(Ee.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Fe=Re.selectAll("."+h.cn.sankeyNode).data(function(Ee){var Ne=Ee.graph.nodes;return ae(Ne),Ne.map(f.bind(null,Ee))},o);Fe.enter().append("g").classed(h.cn.sankeyNode,!0).call(P).style("opacity",function(Ee){return(Q._context.staticPlot||ie)&&!Ee.partOfGroup?1:0}),Fe.call(B,de,Y.nodeEvents).call(N,Ae,Y,Q),Fe.transition().ease(h.ease).duration(h.duration).call(P).style("opacity",function(Ee){return Ee.partOfGroup?0:1}),Fe.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Se=Fe.selectAll("."+h.cn.nodeRect).data(m);Se.enter().append("rect").classed(h.cn.nodeRect,!0).call(F),Se.style("stroke-width",function(Ee){return Ee.nodeLineWidth}).style("stroke",function(Ee){return t.tinyRGB(d(Ee.nodeLineColor))}).style("stroke-opacity",function(Ee){return t.opacity(Ee.nodeLineColor)}).style("fill",function(Ee){return Ee.tinyColorHue}).style("fill-opacity",function(Ee){return Ee.tinyColorAlpha}),Se.transition().ease(h.ease).duration(h.duration).call(F);var Te=Fe.selectAll("."+h.cn.nodeLabel).data(m);Te.enter().append("text").classed(h.cn.nodeLabel,!0).style("cursor","default"),Te.attr("data-notex",1).text(function(Ee){return Ee.node.label}).each(function(Ee){var Ne=a.select(this);r.font(Ne,Ee.textFont),b.convertToTspans(Ne,Q)}).style("text-shadow",b.makeTextShadow(Q._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ee){return Ee.horizontal&&Ee.left?"end":"start"}).attr("transform",function(Ee){var Ne=a.select(this),He=b.lineCount(Ne),_e=Ee.textFont.size*((He-1)*S-p),We=Ee.nodeLineWidth/2+M,tt=((Ee.horizontal?Ee.visibleHeight:Ee.visibleWidth)-_e)/2;Ee.horizontal&&(Ee.left?We=-We:We+=Ee.visibleWidth);var Ke=Ee.horizontal?"":"scale(-1,1)"+i(90);return n(Ee.horizontal?We:tt,Ee.horizontal?tt:We)+Ke}),Te.transition().ease(h.ease).duration(h.duration)}},84564:function(W){W.exports=function(e,y){for(var C=e.cd,a=[],L=C[0].trace,x=L._sankey.graph.nodes,h=0;h<x.length;h++){var d=x[h];if(!d.partOfGroup){var t=[(d.x0+d.x1)/2,(d.y0+d.y1)/2];L.orientation==="v"&&t.reverse(),y&&y.contains(t,!1,h,e)&&a.push({pointNumber:d.pointNumber})}}return a}},75225:function(W,V,e){var y=e(71828);W.exports=function(a,L){for(var x=0;x<a.length;x++)a[x].i=x;y.mergeArray(L.text,a,"tx"),y.mergeArray(L.texttemplate,a,"txt"),y.mergeArray(L.hovertext,a,"htx"),y.mergeArray(L.customdata,a,"data"),y.mergeArray(L.textposition,a,"tp"),L.textfont&&(y.mergeArrayCastPositive(L.textfont.size,a,"ts"),y.mergeArray(L.textfont.color,a,"tc"),y.mergeArray(L.textfont.family,a,"tf"));var h=L.marker;if(h){y.mergeArrayCastPositive(h.size,a,"ms"),y.mergeArrayCastPositive(h.opacity,a,"mo"),y.mergeArray(h.symbol,a,"mx"),y.mergeArray(h.angle,a,"ma"),y.mergeArray(h.standoff,a,"mf"),y.mergeArray(h.color,a,"mc");var d=h.line;h.line&&(y.mergeArray(d.color,a,"mlc"),y.mergeArrayCastPositive(d.width,a,"mlw"));var t=h.gradient;t&&t.type!=="none"&&(y.mergeArray(t.type,a,"mgt"),y.mergeArray(t.color,a,"mgc"))}}},82196:function(W,V,e){var y=e(12663).axisHoverFormat,C=e(5386).si,a=e(5386).fF,L=e(50693),x=e(41940),h=e(79952).P,d=e(79952).u,t=e(91424),r=e(47581),u=e(1426).extendFlat;function n(o){return{valType:"any",dflt:0,editType:"calc"}}function i(o){return{valType:"any",editType:"calc"}}function s(o){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:i(),yperiod0:i(),xperiodalignment:s(),yperiodalignment:s(),xhoverformat:y("x"),yhoverformat:y("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:C({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},h,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:d,marker:u({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:x({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(W,V,e){var y=e(92770),C=e(71828),a=e(89298),L=e(42973),x=e(50606).BADNUM,h=e(34098),d=e(36922),t=e(75225),r=e(66279);function u(c,b){var v=c._fullLayout,l=b._xA=a.getFromId(c,b.xaxis||"x","x"),p=b._yA=a.getFromId(c,b.yaxis||"y","y"),S=l.makeCalcdata(b,"x"),M=p.makeCalcdata(b,"y"),R=L(b,l,"x",S),T=L(b,p,"y",M),E=R.vals,A=T.vals,f=b._length,P=new Array(f),w=b.ids,z=m(b,v,l,p),F=!1,H,_,B,N,O,U;s(v,b);var K="x",re="y",ae;if(z)C.pushUnique(z.traceIndices,b._expandedIndex),H=z.orientation==="v",H?(re="s",ae="x"):(K="s",ae="y"),O=z.stackgaps==="interpolate";else{var ue=i(b,f);n(c,b,l,p,E,A,ue)}var ve=!!b.xperiodalignment,ee=!!b.yperiodalignment;for(_=0;_<f;_++){var J=P[_]={},Q=y(E[_]),X=y(A[_]);Q&&X?(J[K]=E[_],J[re]=A[_],ve&&(J.orig_x=S[_],J.xEnd=R.ends[_],J.xStart=R.starts[_]),ee&&(J.orig_y=M[_],J.yEnd=T.ends[_],J.yStart=T.starts[_])):z&&(H?Q:X)?(J[ae]=H?E[_]:A[_],J.gap=!0,O?(J.s=x,F=!0):J.s=0):J[K]=J[re]=x,w&&(J.id=String(w[_]))}if(t(P,b),d(c,b),r(P,b),z){for(_=0;_<P.length;)P[_][ae]===x?P.splice(_,1):_++;if(C.sort(P,function(Z,ie){return Z[ae]-ie[ae]||Z.i-ie.i}),F){for(_=0;_<P.length-1&&P[_].gap;)_++;for(U=P[_].s,U||(U=P[_].s=0),B=0;B<_;B++)P[B].s=U;for(N=P.length-1;N>_&&P[N].gap;)N--;for(U=P[N].s,B=P.length-1;B>N;B--)P[B].s=U;for(;_<N;)if(_++,P[_].gap){for(B=_+1;P[B].gap;)B++;for(var q=P[_-1][ae],se=P[_-1].s,Y=(P[B].s-se)/(P[B][ae]-q);_<B;)P[_].s=se+(P[_][ae]-q)*Y,_++}}}return P}function n(c,b,v,l,p,S,M){var R=b._length,T=c._fullLayout,E=v._id,A=l._id,f=T._firstScatter[o(b)]===b.uid,P=(m(b,T,v,l)||{}).orientation,w=b.fill;v._minDtick=0,l._minDtick=0;var z={padded:!0},F={padded:!0};M&&(z.ppad=F.ppad=M);var H=R<2||p[0]!==p[R-1]||S[0]!==S[R-1];H&&(w==="tozerox"||w==="tonextx"&&(f||P==="h"))?z.tozero=!0:!(b.error_y||{}).visible&&(w==="tonexty"||w==="tozeroy"||!h.hasMarkers(b)&&!h.hasText(b))&&(z.padded=!1,z.ppad=0),H&&(w==="tozeroy"||w==="tonexty"&&(f||P==="v"))?F.tozero=!0:(w==="tonextx"||w==="tozerox")&&(F.padded=!1),E&&(b._extremes[E]=a.findExtremes(v,p,z)),A&&(b._extremes[A]=a.findExtremes(l,S,F))}function i(c,b){if(h.hasMarkers(c)){var v=c.marker,l=1.6*(c.marker.sizeref||1),p;if(c.marker.sizemode==="area"?p=function(E){return Math.max(Math.sqrt((E||0)/l),3)}:p=function(E){return Math.max((E||0)/l,3)},C.isArrayOrTypedArray(v.size)){var S={type:"linear"};a.setConvert(S);for(var M=S.makeCalcdata(c.marker,"size"),R=new Array(b),T=0;T<b;T++)R[T]=p(M[T]);return R}else return p(v.size)}}function s(c,b){var v=o(b),l=c._firstScatter;l[v]||(l[v]=b.uid)}function o(c){var b=c.stackgroup;return c.xaxis+c.yaxis+c.type+(b?"-"+b:"")}function m(c,b,v,l){var p=c.stackgroup;if(p){var S=b._scatterStackOpts[v._id+l._id][p],M=S.orientation==="v"?l:v;if(M.type==="linear"||M.type==="log")return S}}W.exports={calc:u,calcMarkerSize:i,calcAxisExpansion:n,setFirstScatter:s,getStackOpts:m}},66279:function(W,V,e){var y=e(71828);W.exports=function(a,L){y.isArrayOrTypedArray(L.selectedpoints)&&y.tagSelected(a,L)}},36922:function(W,V,e){var y=e(52075).hasColorscale,C=e(78803),a=e(34098);W.exports=function(x,h){a.hasLines(h)&&y(h,"line")&&C(x,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(h)&&(y(h,"marker")&&C(x,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),y(h,"marker.line")&&C(x,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(W){W.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(W,V,e){var y=e(47761),C=e(11661).setGroupPositions;function a(h,d){for(var t=d.xaxis,r=d.yaxis,u=h._fullLayout,n=h._fullData,i=h.calcdata,s=[],o=[],m=0;m<n.length;m++){var c=n[m];c.visible===!0&&c.type==="scatter"&&c.xaxis===t._id&&c.yaxis===r._id&&(c.orientation==="h"?s.push(i[m]):c.orientation==="v"&&o.push(i[m]))}var b={mode:u.scattermode,gap:u.scattergap};C(h,t,r,o,b),C(h,r,t,s,b)}W.exports=function(d,t){d._fullLayout.scattermode==="group"&&a(d,t);var r=t.xaxis,u=t.yaxis,n=r._id+u._id,i=d._fullLayout._scatterStackOpts[n];if(i){var s=d.calcdata,o,m,c,b,v,l,p,S,M,R,T,E,A,f,P;for(var w in i){R=i[w];var z=R.traceIndices;if(z.length){for(T=R.stackgaps==="interpolate",E=R.groupnorm,R.orientation==="v"?(A="x",f="y"):(A="y",f="x"),P=new Array(z.length),o=0;o<P.length;o++)P[o]=!1;l=s[z[0]];var F=new Array(l.length);for(o=0;o<l.length;o++)F[o]=l[o][A];for(o=1;o<z.length;o++){for(v=s[z[o]],m=c=0;m<v.length;m++){for(p=v[m][A];p>F[c]&&c<F.length;c++)L(v,m,F[c],o,P,T,A),m++;if(p!==F[c]){for(b=0;b<o;b++)L(s[z[b]],c,p,b,P,T,A);F.splice(c,0,p)}c++}for(;c<F.length;c++)L(v,m,F[c],o,P,T,A),m++}var H=F.length;for(m=0;m<l.length;m++){for(S=l[m][f]=l[m].s,o=1;o<z.length;o++)v=s[z[o]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=H,S+=v[m].s,v[m][f]=S;if(E)for(M=(E==="fraction"?S:S/100)||1,o=0;o<z.length;o++){var _=s[z[o]][m];_[f]/=M,_.sNorm=_.s/M}}for(o=0;o<z.length;o++){v=s[z[o]];var B=v[0].trace,N=y.calcMarkerSize(B,B._rawLength),O=Array.isArray(N);if(N&&P[o]||O){var U=N;for(N=new Array(H),m=0;m<H;m++)N[m]=v[m].gap?0:O?U[v[m].i]:U}var K=new Array(H),re=new Array(H);for(m=0;m<H;m++)K[m]=v[m].x,re[m]=v[m].y;y.calcAxisExpansion(d,B,r,u,K,re,N),v[0].t.orientation=R.orientation}}}}};function L(h,d,t,r,u,n,i){u[r]=!0;var s={i:null,gap:!0,s:0};if(s[i]=t,h.splice(d,0,s),d&&t===h[d-1][i]){var o=h[d-1];s.s=o.s,s.i=o.i,s.gap=o.gap}else n&&(s.s=x(h,d,t,i));d||(h[0].t=h[1].t,h[0].trace=h[1].trace,delete h[1].t,delete h[1].trace)}function x(h,d,t,r){var u=h[d-1],n=h[d+1];return n?u?u.s+(n.s-u.s)*(t-u[r])/(n[r]-u[r]):n.s:u.s}},34936:function(W,V,e){var y=e(71828),C=e(26125),a=e(82196);W.exports=function(x,h){var d,t,r;function u(m){return y.coerce(t._input,t,a,m)}if(h.scattermode==="group")for(r=0;r<x.length;r++)t=x[r],t.type==="scatter"&&(d=t._input,C(d,t,h,u));for(r=0;r<x.length;r++){var n=x[r];if(n.type==="scatter"){var i=n.fill;if(!(i==="none"||i==="toself")&&(n.opacity=void 0,i==="tonexty"||i==="tonextx"))for(var s=r-1;s>=0;s--){var o=x[s];if(o.type==="scatter"&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},17438:function(W,V,e){var y=e(71828),C=e(73972),a=e(82196),L=e(47581),x=e(34098),h=e(67513),d=e(73927),t=e(565),r=e(49508),u=e(11058),n=e(94039),i=e(82410),s=e(28908),o=e(71828).coercePattern;W.exports=function(c,b,v,l){function p(P,w){return y.coerce(c,b,a,P,w)}var S=h(c,b,l,p);if(S||(b.visible=!1),!!b.visible){d(c,b,l,p),p("xhoverformat"),p("yhoverformat");var M=t(c,b,l,p);l.scattermode==="group"&&b.orientation===void 0&&p("orientation","v");var R=!M&&S<L.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",R),x.hasLines(b)&&(u(c,b,v,l,p,{backoff:!0}),n(c,b,p),p("connectgaps"),p("line.simplify")),x.hasMarkers(b)&&r(c,b,v,l,p,{gradient:!0}),x.hasText(b)&&(p("texttemplate"),i(c,b,l,p));var T=[];(x.hasMarkers(b)||x.hasText(b))&&(p("cliponaxis"),p("marker.maxdisplayed"),T.push("points")),p("fill",M?M.fillDflt:"none"),b.fill!=="none"&&(s(c,b,v,p),x.hasLines(b)||n(c,b,p),o(p,"fillpattern",b.fillcolor,!1));var E=(b.line||{}).color,A=(b.marker||{}).color;(b.fill==="tonext"||b.fill==="toself")&&T.push("fills"),p("hoveron",T.join("+")||"points"),b.hoveron!=="fills"&&p("hovertemplate");var f=C.getComponentMethod("errorbars","supplyDefaults");f(c,b,E||A||v,{axis:"y"}),f(c,b,E||A||v,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(b,p)}}},28908:function(W,V,e){var y=e(7901),C=e(71828).isArrayOrTypedArray;W.exports=function(L,x,h,d){var t=!1;if(x.marker){var r=x.marker.color,u=(x.marker.line||{}).color;r&&!C(r)?t=r:u&&!C(u)&&(t=u)}d("fillcolor",y.addOpacity((x.line||{}).color||t||h,.5))}},8225:function(W,V,e){var y=e(89298);W.exports=function(a,L,x){var h={},d={_fullLayout:x},t=y.getFromTrace(d,L,"x"),r=y.getFromTrace(d,L,"y"),u=a.orig_x;u===void 0&&(u=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),h.xLabel=y.tickText(t,t.c2l(u),!0).text,h.yLabel=y.tickText(r,r.c2l(n),!0).text,h}},34603:function(W,V,e){var y=e(7901),C=e(34098);W.exports=function(L,x){var h,d;if(L.mode==="lines")return h=L.line.color,h&&y.opacity(h)?h:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var t=x.mcc||(L.marker||{}).color,r=x.mlcc||((L.marker||{}).line||{}).color;return d=t&&y.opacity(t)?t:r&&y.opacity(r)&&(x.mlw||((L.marker||{}).line||{}).width)?r:"",d?y.opacity(d)<.3?y.addOpacity(d,.3):d:(h=(L.line||{}).color,h&&y.opacity(h)&&C.hasLines(L)&&L.line.width?h:L.fillcolor)}},26125:function(W,V,e){var y=e(99082).getAxisGroup;W.exports=function(a,L,x,h){var d=L.orientation,t=L[{v:"x",h:"y"}[d]+"axis"],r=y(x,t)+d,u=x._alignmentOpts||{},n=h("alignmentgroup"),i=u[r];i||(i=u[r]={});var s=i[n];s?s.traces.push(L):s=i[n]={traces:[L],alignmentIndex:Object.keys(i).length,offsetGroups:{}};var o=h("offsetgroup"),m=s.offsetGroups,c=m[o];o&&(c||(c=m[o]={offsetIndex:Object.keys(m).length}),L._offsetIndex=c.offsetIndex)}},33720:function(W,V,e){var y=e(71828),C=e(30211),a=e(73972),L=e(34603),x=e(7901),h=y.fillText;W.exports=function(t,r,u,n){var i=t.cd,s=i[0].trace,o=t.xa,m=t.ya,c=o.c2p(r),b=m.c2p(u),v=[c,b],l=s.hoveron||"",p=s.mode.indexOf("markers")!==-1?3:.5,S=!!s.xperiodalignment,M=!!s.yperiodalignment;if(l.indexOf("points")!==-1){var R=function(fe){if(S){var de=o.c2p(fe.xStart),we=o.c2p(fe.xEnd);return c>=Math.min(de,we)&&c<=Math.max(de,we)?0:1/0}var Ae=Math.max(3,fe.mrc||0),Re=1-1/Ae,Fe=Math.abs(o.c2p(fe.x)-c);return Fe<Ae?Re*Fe/Ae:Fe-Ae+Re},T=function(fe){if(M){var de=m.c2p(fe.yStart),we=m.c2p(fe.yEnd);return b>=Math.min(de,we)&&b<=Math.max(de,we)?0:1/0}var Ae=Math.max(3,fe.mrc||0),Re=1-1/Ae,Fe=Math.abs(m.c2p(fe.y)-b);return Fe<Ae?Re*Fe/Ae:Fe-Ae+Re},E=function(fe){var de=Math.max(p,fe.mrc||0),we=o.c2p(fe.x)-c,Ae=m.c2p(fe.y)-b;return Math.max(Math.sqrt(we*we+Ae*Ae)-de,1-p/de)},A=C.getDistanceFunction(n,R,T,E);if(C.getClosest(i,A,t),t.index!==!1){var f=i[t.index],P=o.c2p(f.x,!0),w=m.c2p(f.y,!0),z=f.mrc||1;t.index=f.i;var F=i[0].t.orientation,H=F&&(f.sNorm||f.s),_=F==="h"?H:f.orig_x!==void 0?f.orig_x:f.x,B=F==="v"?H:f.orig_y!==void 0?f.orig_y:f.y;return y.extendFlat(t,{color:L(s,f),x0:P-z,x1:P+z,xLabelVal:_,y0:w-z,y1:w+z,yLabelVal:B,spikeDistance:E(f),hovertemplate:s.hovertemplate}),h(f,s,t),a.getComponentMethod("errorbars","hoverInfo")(f,s,t),[t]}}if(l.indexOf("fills")!==-1&&s._polygons){var N=s._polygons,O=[],U=!1,K=1/0,re=-1/0,ae=1/0,ue=-1/0,ve,ee,J,Q,X,q,se,Y,Z;for(ve=0;ve<N.length;ve++)J=N[ve],J.contains(v)&&(U=!U,O.push(J),ae=Math.min(ae,J.ymin),ue=Math.max(ue,J.ymax));if(U){ae=Math.max(ae,0),ue=Math.min(ue,m._length);var ie=(ae+ue)/2;for(ve=0;ve<O.length;ve++)for(Q=O[ve].pts,ee=1;ee<Q.length;ee++)Y=Q[ee-1][1],Z=Q[ee][1],Y>ie!=Z>=ie&&(q=Q[ee-1][0],se=Q[ee][0],Z-Y&&(X=q+(se-q)*(ie-Y)/(Z-Y),K=Math.min(K,X),re=Math.max(re,X)));K=Math.max(K,0),re=Math.min(re,o._length);var te=x.defaultLine;return x.opacity(s.fillcolor)?te=s.fillcolor:x.opacity((s.line||{}).color)&&(te=s.line.color),y.extendFlat(t,{distance:t.maxHoverDistance,x0:K,x1:re,y0:ie,y1:ie,color:te,hovertemplate:!1}),delete t.index,s.text&&!Array.isArray(s.text)?t.text=String(s.text):t.text=s.name,[t]}}}},67368:function(W,V,e){var y=e(34098);W.exports={hasLines:y.hasLines,hasMarkers:y.hasMarkers,hasText:y.hasText,isBubble:y.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(W){W.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(W,V,e){var y=e(71828),C=e(21479);W.exports=function(a,L){function x(d,t){return y.coerce(a,L,C,d,t)}var h=L.barmode==="group";L.scattermode==="group"&&x("scattergap",h?L.bargap:.2)}},11058:function(W,V,e){var y=e(71828).isArrayOrTypedArray,C=e(52075).hasColorscale,a=e(1586);W.exports=function(x,h,d,t,r,u){u||(u={});var n=(x.marker||{}).color;if(r("line.color",d),C(x,"line"))a(x,h,t,r,{prefix:"line.",cLetter:"c"});else{var i=(y(n)?!1:n)||d;r("line.color",i)}r("line.width"),u.noDash||r("line.dash"),u.backoff&&r("line.backoff")}},34621:function(W,V,e){var y=e(91424),C=e(50606),a=C.BADNUM,L=C.LOG_CLIP,x=L+.5,h=L-.5,d=e(71828),t=d.segmentsIntersect,r=d.constrain,u=e(47581);W.exports=function(i,s){var o=s.trace||{},m=s.xaxis,c=s.yaxis,b=m.type==="log",v=c.type==="log",l=m._length,p=c._length,S=s.backoff,M=o.marker,R=s.connectGaps,T=s.baseTolerance,E=s.shape,A=E==="linear",f=o.fill&&o.fill!=="none",P=[],w=u.minTolerance,z=i.length,F=new Array(z),H=0,_,B,N,O,U,K,re,ae,ue,ve,ee,J,Q,X,q,se;function Y(Tt){var It=i[Tt];if(!It)return!1;var Ht=s.linearized?m.l2p(It.x):m.c2p(It.x),Gt=s.linearized?c.l2p(It.y):c.c2p(It.y);if(Ht===a){if(b&&(Ht=m.c2p(It.x,!0)),Ht===a)return!1;v&&Gt===a&&(Ht*=Math.abs(m._m*p*(m._m>0?x:h)/(c._m*l*(c._m>0?x:h)))),Ht*=1e3}if(Gt===a){if(v&&(Gt=c.c2p(It.y,!0)),Gt===a)return!1;Gt*=1e3}return[Ht,Gt]}function Z(Tt,It,Ht,Gt){var Pt=Ht-Tt,Jt=Gt-It,or=.5-Tt,zr=.5-It,mt=Pt*Pt+Jt*Jt,Kt=Pt*or+Jt*zr;if(Kt>0&&Kt<mt){var jt=or*Jt-zr*Pt;if(jt*jt<mt)return!0}}var ie,te;function fe(Tt,It){var Ht=Tt[0]/l,Gt=Tt[1]/p,Pt=Math.max(0,-Ht,Ht-1,-Gt,Gt-1);return Pt&&ie!==void 0&&Z(Ht,Gt,ie,te)&&(Pt=0),Pt&&It&&Z(Ht,Gt,It[0]/l,It[1]/p)&&(Pt=0),(1+u.toleranceGrowth*Pt)*T}function de(Tt,It){var Ht=Tt[0]-It[0],Gt=Tt[1]-It[1];return Math.sqrt(Ht*Ht+Gt*Gt)}var we=u.maxScreensAway,Ae=-l*we,Re=l*(1+we),Fe=-p*we,Se=p*(1+we),Te=[[Ae,Fe,Re,Fe],[Re,Fe,Re,Se],[Re,Se,Ae,Se],[Ae,Se,Ae,Fe]],Ee,Ne,He,_e,We,tt;function Ke(Tt,It){for(var Ht=[],Gt=0,Pt=0;Pt<4;Pt++){var Jt=Te[Pt],or=t(Tt[0],Tt[1],It[0],It[1],Jt[0],Jt[1],Jt[2],Jt[3]);or&&(!Gt||Math.abs(or.x-Ht[0][0])>1||Math.abs(or.y-Ht[0][1])>1)&&(or=[or.x,or.y],Gt&&de(or,Tt)<de(Ht[0],Tt)?Ht.unshift(or):Ht.push(or),Gt++)}return Ht}function qe(Tt){if(Tt[0]<Ae||Tt[0]>Re||Tt[1]<Fe||Tt[1]>Se)return[r(Tt[0],Ae,Re),r(Tt[1],Fe,Se)]}function rt(Tt,It){if(Tt[0]===It[0]&&(Tt[0]===Ae||Tt[0]===Re)||Tt[1]===It[1]&&(Tt[1]===Fe||Tt[1]===Se))return!0}function ft(Tt,It){var Ht=[],Gt=qe(Tt),Pt=qe(It);return Gt&&Pt&&rt(Gt,Pt)||(Gt&&Ht.push(Gt),Pt&&Ht.push(Pt)),Ht}function pt(Tt,It,Ht){return function(Gt,Pt){var Jt=qe(Gt),or=qe(Pt),zr=[];if(Jt&&or&&rt(Jt,or))return zr;Jt&&zr.push(Jt),or&&zr.push(or);var mt=2*d.constrain((Gt[Tt]+Pt[Tt])/2,It,Ht)-((Jt||Gt)[Tt]+(or||Pt)[Tt]);if(mt){var Kt;Jt&&or?Kt=mt>0==Jt[Tt]>or[Tt]?Jt:or:Kt=Jt||or,Kt[Tt]+=mt}return zr}}var gt;E==="linear"||E==="spline"?gt=Ke:E==="hv"||E==="vh"?gt=ft:E==="hvh"?gt=pt(0,Ae,Re):E==="vhv"&&(gt=pt(1,Fe,Se));function Mt(Tt,It){var Ht=It[0]-Tt[0],Gt=(It[1]-Tt[1])/Ht,Pt=(Tt[1]*It[0]-It[1]*Tt[0])/Ht;return Pt>0?[Gt>0?Ae:Re,Se]:[Gt>0?Re:Ae,Fe]}function Lt(Tt){var It=Tt[0],Ht=Tt[1],Gt=It===F[H-1][0],Pt=Ht===F[H-1][1];if(!(Gt&&Pt))if(H>1){var Jt=It===F[H-2][0],or=Ht===F[H-2][1];Gt&&(It===Ae||It===Re)&&Jt?or?H--:F[H-1]=Tt:Pt&&(Ht===Fe||Ht===Se)&&or?Jt?H--:F[H-1]=Tt:F[H++]=Tt}else F[H++]=Tt}function Wt(Tt){F[H-1][0]!==Tt[0]&&F[H-1][1]!==Tt[1]&&Lt([He,_e]),Lt(Tt),We=null,He=_e=0}var Je=d.isArrayOrTypedArray(M);function ze(Tt){if(Tt&&S&&(Tt.i=_,Tt.d=i,Tt.trace=o,Tt.marker=Je?M[Tt.i]:M,Tt.backoff=S),ie=Tt[0]/l,te=Tt[1]/p,Ee=Tt[0]<Ae?Ae:Tt[0]>Re?Re:0,Ne=Tt[1]<Fe?Fe:Tt[1]>Se?Se:0,Ee||Ne){if(!H)F[H++]=[Ee||Tt[0],Ne||Tt[1]];else if(We){var It=gt(We,Tt);It.length>1&&(Wt(It[0]),F[H++]=It[1])}else tt=gt(F[H-1],Tt)[0],F[H++]=tt;var Ht=F[H-1];Ee&&Ne&&(Ht[0]!==Ee||Ht[1]!==Ne)?(We&&(He!==Ee&&_e!==Ne?Lt(He&&_e?Mt(We,Tt):[He||Ee,_e||Ne]):He&&_e&&Lt([He,_e])),Lt([Ee,Ne])):He-Ee&&_e-Ne&&Lt([Ee||He,Ne||_e]),We=Tt,He=Ee,_e=Ne}else We&&Wt(gt(We,Tt)[0]),F[H++]=Tt}for(_=0;_<z;_++)if(B=Y(_),!!B){for(H=0,We=null,ze(B),_++;_<z;_++){if(O=Y(_),!O){if(R)continue;break}if(!A||!s.simplify){ze(O);continue}var Oe=Y(_+1);if(ve=de(O,B),!(!(f&&(H===0||H===z-1))&&ve<fe(O,Oe)*w)){for(ae=[(O[0]-B[0])/ve,(O[1]-B[1])/ve],U=B,ee=ve,J=X=q=0,re=!1,N=O,_++;_<i.length;_++){if(K=Oe,Oe=Y(_+1),!K){if(R)continue;break}if(ue=[K[0]-B[0],K[1]-B[1]],se=ue[0]*ae[1]-ue[1]*ae[0],X=Math.min(X,se),q=Math.max(q,se),q-X>fe(K,Oe))break;N=K,Q=ue[0]*ae[0]+ue[1]*ae[1],Q>ee?(ee=Q,O=K,re=!1):Q<J&&(J=Q,U=K,re=!0)}if(re?(ze(O),N!==U&&ze(U)):(U!==B&&ze(U),N!==O&&ze(O)),ze(N),_>=i.length||!K)break;ze(K),B=K}}We&&Lt([He||We[0],_e||We[1]]),P.push(F.slice(0,H))}var Ue=E.slice(E.length-1);if(S&&Ue!=="h"&&Ue!=="v"){for(var ke=!1,Me=-1,ce=[],be=0;be<P.length;be++)for(var De=0;De<P[be].length-1;De++){var Ve=P[be][De],it=P[be][De+1],ot=y.applyBackoff(it,Ve);(ot[0]!==it[0]||ot[1]!==it[1])&&(ke=!0),ce[Me+1]||(Me++,ce[Me]=[Ve,[ot[0],ot[1]]])}return ke?ce:P}return P}},94039:function(W){W.exports=function(e,y,C){var a=C("line.shape");a==="spline"&&C("line.smoothing")}},68687:function(W){var V={tonextx:1,tonexty:1,tonext:1};W.exports=function(y,C,a){var L,x,h,d,t,r={},u=!1,n=-1,i=0,s=-1;for(x=0;x<a.length;x++)L=a[x][0].trace,h=L.stackgroup||"",h?h in r?t=r[h]:(t=r[h]=i,i++):L.fill in V&&s>=0?t=s:(t=s=i,i++),t<n&&(u=!0),L._groupIndex=n=t;var o=a.slice();u&&o.sort(function(c,b){var v=c[0].trace,l=b[0].trace;return v._groupIndex-l._groupIndex||v.index-l.index});var m={};for(x=0;x<o.length;x++)L=o[x][0].trace,h=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in V&&(d=m[h],L._prevtrace=d||null,d&&(d._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),m[h]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return o}},39984:function(W,V,e){var y=e(92770);W.exports=function(a,L){L||(L=2);var x=a.marker,h=x.sizeref||1,d=x.sizemin||0,t=x.sizemode==="area"?function(r){return Math.sqrt(r/h)}:function(r){return r/h};return function(r){var u=t(r/L);return y(u)&&u>0?Math.max(u,d):0}}},4898:function(W){W.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(W,V,e){var y=e(7901),C=e(52075).hasColorscale,a=e(1586),L=e(34098);W.exports=function(h,d,t,r,u,n){var i=L.isBubble(h),s=(h.line||{}).color,o;if(n=n||{},s&&(t=s),u("marker.symbol"),u("marker.opacity",i?.7:1),u("marker.size"),n.noAngle||(u("marker.angle"),n.noAngleRef||u("marker.angleref"),n.noStandOff||u("marker.standoff")),u("marker.color",t),C(h,"marker")&&a(h,d,r,u,{prefix:"marker.",cLetter:"c"}),n.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),n.noLine||(s&&!Array.isArray(s)&&d.marker.color!==s?o=s:i?o=y.background:o=y.defaultLine,u("marker.line.color",o),C(h,"marker.line")&&a(h,d,r,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",i?1:0)),i&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),n.gradient){var m=u("marker.gradient.type");m!=="none"&&u("marker.gradient.color")}}},73927:function(W,V,e){var y=e(71828).dateTick0,C=e(50606),a=C.ONEWEEK;function L(x,h){return x%a===0?y(h,1):y(h,0)}W.exports=function(h,d,t,r,u){if(u||(u={x:!0,y:!0}),u.x){var n=r("xperiod");n&&(r("xperiod0",L(n,d.xcalendar)),r("xperiodalignment"))}if(u.y){var i=r("yperiod");i&&(r("yperiod0",L(i,d.ycalendar)),r("yperiodalignment"))}}},32663:function(W,V,e){var y=e(39898),C=e(73972),a=e(71828),L=a.ensureSingle,x=a.identity,h=e(91424),d=e(34098),t=e(34621),r=e(68687),u=e(61082).tester;W.exports=function(m,c,b,v,l,p){var S,M,R=!l,T=!!l&&l.duration>0,E=r(m,c,b);if(S=v.selectAll("g.trace").data(E,function(f){return f[0].trace.uid}),S.enter().append("g").attr("class",function(f){return"trace scatter trace"+f[0].trace.uid}).style("stroke-miterlimit",2),S.order(),n(m,S,c),T){p&&(M=p());var A=y.transition().duration(l.duration).ease(l.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()});A.each(function(){v.selectAll("g.trace").each(function(f,P){i(m,P,c,f,E,this,l)})})}else S.each(function(f,P){i(m,P,c,f,E,this,l)});R&&S.exit().remove(),v.selectAll("path:not([d])").remove()};function n(o,m,c){m.each(function(b){var v=L(y.select(this),"g","fills");h.setClipUrl(v,c.layerClipId,o);var l=b[0].trace,p=[];l._ownfill&&p.push("_ownFill"),l._nexttrace&&p.push("_nextFill");var S=v.selectAll("g").data(p,x);S.enter().append("g"),S.exit().each(function(M){l[M]=null}).remove(),S.order().each(function(M){l[M]=L(y.select(this),"path","js-fill")})})}function i(o,m,c,b,v,l,p){var S=o._context.staticPlot,M;s(o,m,c,b,v);var R=!!p&&p.duration>0;function T(_e){return R?_e.transition():_e}var E=c.xaxis,A=c.yaxis,f=b[0].trace,P=f.line,w=y.select(l),z=L(w,"g","errorbars"),F=L(w,"g","lines"),H=L(w,"g","points"),_=L(w,"g","text");if(C.getComponentMethod("errorbars","plot")(o,z,c,p),f.visible!==!0)return;T(w).style("opacity",f.opacity);var B,N,O=f.fill.charAt(f.fill.length-1);O!=="x"&&O!=="y"&&(O=""),b[0][c.isRangePlot?"nodeRangePlot3":"node3"]=w;var U="",K=[],re=f._prevtrace;re&&(U=re._prevRevpath||"",N=re._nextFill,K=re._polygons);var ae,ue,ve="",ee="",J,Q,X,q,se,Y,Z,ie=[],te=a.noop;if(B=f._ownFill,d.hasLines(f)||f.fill!=="none"){for(N&&N.datum(b),["hv","vh","hvh","vhv"].indexOf(P.shape)!==-1?(J=h.steps(P.shape),Q=h.steps(P.shape.split("").reverse().join(""))):P.shape==="spline"?J=Q=function(_e){var We=_e[_e.length-1];return _e.length>1&&_e[0][0]===We[0]&&_e[0][1]===We[1]?h.smoothclosed(_e.slice(1),P.smoothing):h.smoothopen(_e,P.smoothing)}:J=Q=function(_e){return"M"+_e.join("L")},X=function(_e){return Q(_e.reverse())},ie=t(b,{xaxis:E,yaxis:A,trace:f,connectGaps:f.connectgaps,baseTolerance:Math.max(P.width||1,3)/4,shape:P.shape,backoff:P.backoff,simplify:P.simplify,fill:f.fill}),Z=f._polygons=new Array(ie.length),M=0;M<ie.length;M++)f._polygons[M]=u(ie[M]);ie.length&&(q=ie[0][0],se=ie[ie.length-1],Y=se[se.length-1]),te=function(_e){return function(We){if(ae=J(We),ue=X(We),ve?O?(ve+="L"+ae.substr(1),ee=ue+("L"+ee.substr(1))):(ve+="Z"+ae,ee=ue+"Z"+ee):(ve=ae,ee=ue),d.hasLines(f)){var tt=y.select(this);if(tt.datum(b),_e)T(tt.style("opacity",0).attr("d",ae).call(h.lineGroupStyle)).style("opacity",1);else{var Ke=T(tt);Ke.attr("d",ae),h.singleLineStyle(b,Ke)}}}}}var fe=F.selectAll(".js-line").data(ie);T(fe.exit()).style("opacity",0).remove(),fe.each(te(!1)),fe.enter().append("path").classed("js-line",!0).style("vector-effect",S?"none":"non-scaling-stroke").call(h.lineGroupStyle).each(te(!0)),h.setClipUrl(fe,c.layerClipId,o);function de(_e){T(_e).attr("d","M0,0Z")}ie.length?(B?(B.datum(b),q&&Y&&(O?(O==="y"?q[1]=Y[1]=A.c2p(0,!0):O==="x"&&(q[0]=Y[0]=E.c2p(0,!0)),T(B).attr("d","M"+Y+"L"+q+"L"+ve.substr(1)).call(h.singleFillStyle,o)):T(B).attr("d",ve+"Z").call(h.singleFillStyle,o))):N&&(f.fill.substr(0,6)==="tonext"&&ve&&U?(f.fill==="tonext"?T(N).attr("d",ve+"Z"+U+"Z").call(h.singleFillStyle,o):T(N).attr("d",ve+"L"+U.substr(1)+"Z").call(h.singleFillStyle,o),f._polygons=f._polygons.concat(K)):(de(N),f._polygons=null)),f._prevRevpath=ee,f._prevPolygons=Z):(B?de(B):N&&de(N),f._polygons=f._prevRevpath=f._prevPolygons=null);function we(_e){return _e.filter(function(We){return!We.gap&&We.vis})}function Ae(_e){return _e.filter(function(We){return We.vis})}function Re(_e){return _e.filter(function(We){return!We.gap})}function Fe(_e){return _e.id}function Se(_e){if(_e.ids)return Fe}function Te(){return!1}function Ee(_e,We,tt){var Ke,qe,rt,ft=tt[0].trace,pt=d.hasMarkers(ft),gt=d.hasText(ft),Mt=Se(ft),Lt=Te,Wt=Te;if(pt||gt){var Je=x,ze=ft.stackgroup,Oe=ze&&o._fullLayout._scatterStackOpts[E._id+A._id][ze].stackgaps==="infer zero";ft.marker.maxdisplayed||ft._needsCull?Je=Oe?Ae:we:ze&&!Oe&&(Je=Re),pt&&(Lt=Je),gt&&(Wt=Je)}qe=_e.selectAll("path.point"),Ke=qe.data(Lt,Mt);var Ue=Ke.enter().append("path").classed("point",!0);R&&Ue.call(h.pointStyle,ft,o).call(h.translatePoints,E,A).style("opacity",0).transition().style("opacity",1),Ke.order();var ke;pt&&(ke=h.makePointStyleFns(ft)),Ke.each(function(Me){var ce=y.select(this),be=T(ce);rt=h.translatePoint(Me,be,E,A),rt?(h.singlePointStyle(Me,be,ft,ke,o),c.layerClipId&&h.hideOutsideRangePoint(Me,be,E,A,ft.xcalendar,ft.ycalendar),ft.customdata&&ce.classed("plotly-customdata",Me.data!==null&&Me.data!==void 0)):be.remove()}),R?Ke.exit().transition().style("opacity",0).remove():Ke.exit().remove(),qe=We.selectAll("g"),Ke=qe.data(Wt,Mt),Ke.enter().append("g").classed("textpoint",!0).append("text"),Ke.order(),Ke.each(function(Me){var ce=y.select(this),be=T(ce.select("text"));rt=h.translatePoint(Me,be,E,A),rt?c.layerClipId&&h.hideOutsideRangePoint(Me,ce,E,A,ft.xcalendar,ft.ycalendar):ce.remove()}),Ke.selectAll("text").call(h.textPointStyle,ft,o).each(function(Me){var ce=E.c2p(Me.x),be=A.c2p(Me.y);y.select(this).selectAll("tspan.line").each(function(){T(y.select(this)).attr({x:ce,y:be})})}),Ke.exit().remove()}H.datum(b),_.datum(b),Ee(H,_,b);var Ne=f.cliponaxis===!1,He=Ne?null:c.layerClipId;h.setClipUrl(H,He,o),h.setClipUrl(_,He,o)}function s(o,m,c,b,v){var l=c.xaxis,p=c.yaxis,S=y.extent(a.simpleMap(l.range,l.r2c)),M=y.extent(a.simpleMap(p.range,p.r2c)),R=b[0].trace;if(d.hasMarkers(R)){var T=R.marker.maxdisplayed;if(T!==0){var E=b.filter(function(w){return w.x>=S[0]&&w.x<=S[1]&&w.y>=M[0]&&w.y<=M[1]}),A=Math.ceil(E.length/T),f=0;v.forEach(function(w,z){var F=w[0].trace;d.hasMarkers(F)&&F.marker.maxdisplayed>0&&z<m&&f++});var P=Math.round(f*A/3+Math.floor(f/3)*A/7.1);b.forEach(function(w){delete w.vis}),E.forEach(function(w,z){Math.round((z+P)%A)===0&&(w.vis=!0)})}}}},98002:function(W,V,e){var y=e(34098);W.exports=function(a,L){var x=a.cd,h=a.xaxis,d=a.yaxis,t=[],r=x[0].trace,u,n,i,s,o=!y.hasMarkers(r)&&!y.hasText(r);if(o)return[];if(L===!1)for(u=0;u<x.length;u++)x[u].selected=0;else for(u=0;u<x.length;u++)n=x[u],i=h.c2p(n.x),s=d.c2p(n.y),n.i!==null&&L.contains([i,s],!1,u,a)?(t.push({pointNumber:n.i,x:h.c2d(n.x),y:d.c2d(n.y)}),n.selected=1):n.selected=0;return t}},565:function(W){var V=["orientation","groupnorm","stackgaps"];W.exports=function(y,C,a,L){var x=a._scatterStackOpts,h=L("stackgroup");if(h){var d=C.xaxis+C.yaxis,t=x[d];t||(t=x[d]={});var r=t[h],u=!1;r?r.traces.push(C):(r=t[h]={traceIndices:[],traces:[C]},u=!0);for(var n={orientation:C.x&&!C.y?"h":"v"},i=0;i<V.length;i++){var s=V[i],o=s+"Found";if(!r[o]){var m=y[s]!==void 0,c=s==="orientation";if((m||u)&&(r[s]=L(s,n[s]),c&&(r.fillDflt=r[s]==="h"?"tonextx":"tonexty"),m&&(r[o]=!0,!u&&(delete r.traces[0][s],c))))for(var b=0;b<r.traces.length-1;b++){var v=r.traces[b];v._input.fill!==v.fill&&(v.fill=r.fillDflt)}}}return r}}},16296:function(W,V,e){var y=e(39898),C=e(91424),a=e(73972);function L(t){var r=y.select(t).selectAll("g.trace.scatter");r.style("opacity",function(u){return u[0].trace.opacity}),r.selectAll("g.points").each(function(u){var n=y.select(this),i=u.trace||u[0].trace;x(n,i,t)}),r.selectAll("g.text").each(function(u){var n=y.select(this),i=u.trace||u[0].trace;h(n,i,t)}),r.selectAll("g.trace path.js-line").call(C.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(C.fillGroupStyle,t),a.getComponentMethod("errorbars","style")(r)}function x(t,r,u){C.pointStyle(t.selectAll("path.point"),r,u)}function h(t,r,u){C.textPointStyle(t.selectAll("text"),r,u)}function d(t,r,u){var n=r[0].trace;n.selectedpoints?(C.selectedPointStyle(u.selectAll("path.point"),n),C.selectedTextStyle(u.selectAll("text"),n)):(x(u,n,t),h(u,n,t))}W.exports={style:L,stylePoints:x,styleText:h,styleOnSelect:d}},34098:function(W,V,e){var y=e(71828);W.exports={hasLines:function(C){return C.visible&&C.mode&&C.mode.indexOf("lines")!==-1},hasMarkers:function(C){return C.visible&&(C.mode&&C.mode.indexOf("markers")!==-1||C.type==="splom")},hasText:function(C){return C.visible&&C.mode&&C.mode.indexOf("text")!==-1},isBubble:function(C){return y.isPlainObject(C.marker)&&y.isArrayOrTypedArray(C.marker.size)}}},82410:function(W,V,e){var y=e(71828);W.exports=function(C,a,L,x,h){h=h||{},x("textposition"),y.coerceFont(x,"textfont",h.font||L.font),h.noSelect||(x("selected.textfont.color"),x("unselected.textfont.color"))}},67513:function(W,V,e){var y=e(71828),C=e(73972);W.exports=function(L,x,h,d){var t=d("x"),r=d("y"),u,n=C.getComponentMethod("calendars","handleTraceDefaults");if(n(L,x,["x","y"],h),t){var i=y.minRowLength(t);r?u=Math.min(i,y.minRowLength(r)):(u=i,d("y0"),d("dy"))}else{if(!r)return 0;u=y.minRowLength(r),d("x0"),d("dx")}return x._length=u,u}},44542:function(W,V,e){var y=e(82196),C=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,x=e(5386).si,h=e(9012),d=e(29659),t=e(87381),r=e(1426).extendFlat,u=e(30962).overrideAll,n=e(78607),i=y.line,s=y.marker,o=s.line,m=r({width:i.width,dash:{valType:"enumerated",values:n(d),dflt:"solid"}},C("line"));function c(v){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var b=W.exports=u({x:y.x,y:y.y,z:{valType:"data_array"},text:r({},y.text,{}),texttemplate:x({},{}),hovertext:r({},y.hovertext,{}),hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:r({},y.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:c(),y:c(),z:c()},connectgaps:y.connectgaps,line:m,marker:r({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:r({},s.size,{dflt:8}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:r({},s.opacity,{arrayOk:!1}),colorbar:s.colorbar,line:r({width:r({},o.width,{arrayOk:!1})},C("marker.line"))},C("marker")),textposition:r({},y.textposition,{dflt:"top center"}),textfont:{color:y.textfont.color,size:y.textfont.size,family:r({},y.textfont.family,{arrayOk:!1})},opacity:h.opacity,hoverinfo:r({},h.hoverinfo)},"calc","nested");b.x.editType=b.y.editType=b.z.editType="calc+clearAxisTypes"},36563:function(W,V,e){var y=e(75225),C=e(36922);W.exports=function(L,x){var h=[{x:!1,y:!1,trace:x,t:{}}];return y(h,x),C(L,x),h}},67336:function(W,V,e){var y=e(73972);function C(x,h,d,t){if(!h||!h.visible)return null;for(var r=y.getComponentMethod("errorbars","makeComputeError")(h),u=new Array(x.length),n=0;n<x.length;n++){var i=r(+x[n],n);if(t.type==="log"){var s=t.c2l(x[n]),o=x[n]-i[0],m=x[n]+i[1];if(u[n]=[(t.c2l(o,!0)-s)*d,(t.c2l(m,!0)-s)*d],o>0){var c=t.c2l(o);t._lowerLogErrorBound||(t._lowerLogErrorBound=c),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,c)}}else u[n]=[-i[0]*d,i[1]*d]}return u}function a(x){for(var h=0;h<x.length;h++)if(x[h])return x[h].length;return 0}function L(x,h,d){var t=[C(x.x,x.error_x,h[0],d.xaxis),C(x.y,x.error_y,h[1],d.yaxis),C(x.z,x.error_z,h[2],d.zaxis)],r=a(t);if(r===0)return null;for(var u=new Array(r),n=0;n<r;n++){for(var i=[[0,0,0],[0,0,0]],s=0;s<3;s++)if(t[s])for(var o=0;o<2;o++)i[o][s]=t[s][n][o];u[n]=i}return u}W.exports=L},58925:function(W,V,e){var y=e(9330).gl_line3d,C=e(9330).gl_scatter3d,a=e(9330).gl_error3d,L=e(9330).gl_mesh3d,x=e(9330).delaunay_triangulate,h=e(71828),d=e(78614),t=e(81697).formatColor,r=e(39984),u=e(29659),n=e(87381),i=e(89298),s=e(23469).appendArrayPointValue,o=e(67336);function m(w,z){this.scene=w,this.uid=z,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=m.prototype;c.handlePick=function(w){if(w.object&&(w.object===this.linePlot||w.object===this.delaunayMesh||w.object===this.textMarkers||w.object===this.scatterPlot)){var z=w.index=w.data.index;return w.object.highlight&&w.object.highlight(null),this.scatterPlot&&(w.object=this.scatterPlot,this.scatterPlot.highlight(w.data)),w.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[z]||this.textLabels[z]===0)&&(w.textLabel=this.textLabels[z]):w.textLabel=this.textLabels),w.traceCoordinate=[this.data.x[z],this.data.y[z],this.data.z[z]],!0}};function b(w,z,F){var H=(F+1)%3,_=(F+2)%3,B=[],N=[],O;for(O=0;O<w.length;++O){var U=w[O];isNaN(U[H])||!isFinite(U[H])||isNaN(U[_])||!isFinite(U[_])||(B.push([U[H],U[_]]),N.push(O))}var K=x(B);for(O=0;O<K.length;++O)for(var re=K[O],ae=0;ae<re.length;++ae)re[ae]=N[re[ae]];return{positions:w,cells:K,meshColor:z}}function v(w){for(var z=[0,0,0],F=[[0,0,0],[0,0,0],[0,0,0]],H=[1,1,1],_=0;_<3;_++){var B=w[_];B&&B.copy_zstyle!==!1&&w[2].visible!==!1&&(B=w[2]),!(!B||!B.visible)&&(z[_]=B.width/2,F[_]=d(B.color),H[_]=B.thickness)}return{capSize:z,color:F,lineWidth:H}}function l(w){return w==null?0:w.indexOf("left")>-1?-1:w.indexOf("right")>-1?1:0}function p(w){return w==null?0:w.indexOf("top")>-1?-1:w.indexOf("bottom")>-1?1:0}function S(w){var z=0,F=0,H=[z,F];if(Array.isArray(w))for(var _=0;_<w.length;_++)H[_]=[z,F],w[_]&&(H[_][0]=l(w[_]),H[_][1]=p(w[_]));else H[0]=l(w),H[1]=p(w);return H}function M(w,z){return z(w*4)}function R(w){return n[w]}function T(w,z,F,H,_){var B=null;if(h.isArrayOrTypedArray(w)){B=[];for(var N=0;N<z;N++)w[N]===void 0?B[N]=H:B[N]=F(w[N],_)}else B=F(w,h.identity);return B}function E(w,z){var F=[],H=w.fullSceneLayout,_=w.dataScale,B=H.xaxis,N=H.yaxis,O=H.zaxis,U=z.marker,K=z.line,re=z.x||[],ae=z.y||[],ue=z.z||[],ve=re.length,ee=z.xcalendar,J=z.ycalendar,Q=z.zcalendar,X,q,se,Y,Z,ie;for(Z=0;Z<ve;Z++)X=B.d2l(re[Z],0,ee)*_[0],q=N.d2l(ae[Z],0,J)*_[1],se=O.d2l(ue[Z],0,Q)*_[2],F[Z]=[X,q,se];if(Array.isArray(z.text))ie=z.text;else if(z.text!==void 0)for(ie=new Array(ve),Z=0;Z<ve;Z++)ie[Z]=z.text;function te(Ke,qe){var rt=H[Ke];return i.tickText(rt,rt.d2l(qe),!0).text}var fe=z.texttemplate;if(fe){var de=w.fullLayout,we=de._d3locale,Ae=Array.isArray(fe),Re=Ae?Math.min(fe.length,ve):ve,Fe=Ae?function(Ke){return fe[Ke]}:function(){return fe};for(ie=new Array(Re),Z=0;Z<Re;Z++){var Se={x:re[Z],y:ae[Z],z:ue[Z]},Te={xLabel:te("xaxis",re[Z]),yLabel:te("yaxis",ae[Z]),zLabel:te("zaxis",ue[Z])},Ee={};s(Ee,z,Z);var Ne=z._meta||{};ie[Z]=h.texttemplateString(Fe(Z),Te,we,Ee,Se,Ne)}}if(Y={position:F,mode:z.mode,text:ie},"line"in z&&(Y.lineColor=t(K,1,ve),Y.lineWidth=K.width,Y.lineDashes=K.dash),"marker"in z){var He=r(z);Y.scatterColor=t(U,1,ve),Y.scatterSize=T(U.size,ve,M,20,He),Y.scatterMarker=T(U.symbol,ve,R,""),Y.scatterLineWidth=U.line.width,Y.scatterLineColor=t(U.line,1,ve),Y.scatterAngle=0}"textposition"in z&&(Y.textOffset=S(z.textposition),Y.textColor=t(z.textfont,1,ve),Y.textSize=T(z.textfont.size,ve,h.identity,12),Y.textFont=z.textfont.family,Y.textAngle=0);var _e=["x","y","z"];for(Y.project=[!1,!1,!1],Y.projectScale=[1,1,1],Y.projectOpacity=[1,1,1],Z=0;Z<3;++Z){var We=z.projection[_e[Z]];(Y.project[Z]=We.show)&&(Y.projectOpacity[Z]=We.opacity,Y.projectScale[Z]=We.scale)}Y.errorBounds=o(z,_,H);var tt=v([z.error_x,z.error_y,z.error_z]);return Y.errorColor=tt.color,Y.errorLineWidth=tt.lineWidth,Y.errorCapSize=tt.capSize,Y.delaunayAxis=z.surfaceaxis,Y.delaunayColor=d(z.surfacecolor),Y}function A(w){if(h.isArrayOrTypedArray(w)){var z=w[0];return h.isArrayOrTypedArray(z)&&(w=z),"rgb("+w.slice(0,3).map(function(F){return Math.round(F*255)})+")"}return null}function f(w){return h.isArrayOrTypedArray(w)?w.length===4&&typeof w[0]=="number"?A(w):w.map(A):null}c.update=function(w){var z=this.scene.glplot.gl,F,H,_,B,N=u.solid;this.data=w;var O=E(this.scene,w);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in u&&(N=u[O.lineDashes]),this.color=f(O.scatterColor)||f(O.lineColor),this.dataPoints=O.position,F={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:w.opacity,connectGaps:w.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(F):(this.linePlot=y(F),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=w.opacity;if(w.marker&&w.marker.opacity!==void 0&&(U*=w.marker.opacity),H={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:U,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(H):(this.scatterPlot=C(H),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),B={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:w.opacity},this.textLabels=w.hovertext||w.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(B):(this.textMarkers=C(B),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),_={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:w.opacity},this.errorBars?O.errorBounds?this.errorBars.update(_):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=a(_),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var K=b(O.position,O.delaunayColor,O.delaunayAxis);K.opacity=w.opacity,this.delaunayMesh?this.delaunayMesh.update(K):(K.gl=z,this.delaunayMesh=L(K),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function P(w,z){var F=new m(w,z.uid);return F.update(z),F}W.exports=P},21428:function(W,V,e){var y=e(73972),C=e(71828),a=e(34098),L=e(49508),x=e(11058),h=e(82410),d=e(44542);W.exports=function(u,n,i,s){function o(M,R){return C.coerce(u,n,d,M,R)}var m=t(u,n,o,s);if(!m){n.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),a.hasLines(n)&&(o("connectgaps"),x(u,n,i,s,o)),a.hasMarkers(n)&&L(u,n,i,s,o,{noSelect:!0,noAngle:!0}),a.hasText(n)&&(o("texttemplate"),h(u,n,s,o,{noSelect:!0}));var c=(n.line||{}).color,b=(n.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",c||b);for(var v=["x","y","z"],l=0;l<3;++l){var p="projection."+v[l];o(p+".show")&&(o(p+".opacity"),o(p+".scale"))}var S=y.getComponentMethod("errorbars","supplyDefaults");S(u,n,c||b||i,{axis:"z"}),S(u,n,c||b||i,{axis:"y",inherit:"z"}),S(u,n,c||b||i,{axis:"x",inherit:"z"})};function t(r,u,n,i){var s=0,o=n("x"),m=n("y"),c=n("z"),b=y.getComponentMethod("calendars","handleTraceDefaults");return b(r,u,["x","y","z"],i),o&&m&&c&&(s=Math.min(o.length,m.length,c.length),u._length=u._xlength=u._ylength=u._zlength=s),s}},13551:function(W,V,e){W.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(W,V,e){var y=e(82196),C=e(9012),a=e(5386).fF,L=e(5386).si,x=e(50693),h=e(1426).extendFlat,d=y.marker,t=y.line,r=d.line;W.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:h({},y.mode,{dflt:"markers"}),text:h({},y.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","text"]}),hovertext:h({},y.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:h({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:y.connectgaps,fill:h({},y.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:y.fillcolor,marker:h({symbol:d.symbol,opacity:d.opacity,maxdisplayed:d.maxdisplayed,angle:d.angle,angleref:d.angleref,standoff:d.standoff,size:d.size,sizeref:d.sizeref,sizemin:d.sizemin,sizemode:d.sizemode,line:h({width:r.width,editType:"calc"},x("marker.line")),gradient:d.gradient,editType:"calc"},x("marker")),textfont:y.textfont,textposition:y.textposition,selected:y.selected,unselected:y.unselected,hoverinfo:h({},C.hoverinfo,{flags:["a","b","text","name"]}),hoveron:y.hoveron,hovertemplate:a()}},34618:function(W,V,e){var y=e(92770),C=e(36922),a=e(75225),L=e(66279),x=e(47761).calcMarkerSize,h=e(22882);W.exports=function(t,r){var u=r._carpetTrace=h(t,r);if(!(!u||!u.visible||u.visible==="legendonly")){var n;r.xaxis=u.xaxis,r.yaxis=u.yaxis;var i=r._length,s=new Array(i),o,m,c=!1;for(n=0;n<i;n++)if(o=r.a[n],m=r.b[n],y(o)&&y(m)){var b=u.ab2xy(+o,+m,!0),v=u.isVisible(+o,+m);v||(c=!0),s[n]={x:b[0],y:b[1],a:o,b:m,vis:v}}else s[n]={x:!1,y:!1};return r._needsCull=c,s[0].carpet=u,s[0].trace=r,x(r,i),C(t,r),a(s,r),L(s,r),s}}},98965:function(W,V,e){var y=e(71828),C=e(47581),a=e(34098),L=e(49508),x=e(11058),h=e(94039),d=e(82410),t=e(28908),r=e(97001);W.exports=function(n,i,s,o){function m(M,R){return y.coerce(n,i,r,M,R)}m("carpet"),i.xaxis="x",i.yaxis="y";var c=m("a"),b=m("b"),v=Math.min(c.length,b.length);if(!v){i.visible=!1;return}i._length=v,m("text"),m("texttemplate"),m("hovertext");var l=v<C.PTS_LINESONLY?"lines+markers":"lines";m("mode",l),a.hasLines(i)&&(x(n,i,s,o,m,{backoff:!0}),h(n,i,m),m("connectgaps")),a.hasMarkers(i)&&L(n,i,s,o,m,{gradient:!0}),a.hasText(i)&&d(n,i,o,m);var p=[];(a.hasMarkers(i)||a.hasText(i))&&(m("marker.maxdisplayed"),p.push("points")),m("fill"),i.fill!=="none"&&(t(n,i,s,m),a.hasLines(i)||h(n,i,m)),(i.fill==="tonext"||i.fill==="toself")&&p.push("fills");var S=m("hoveron",p.join("+")||"points");S!=="fills"&&m("hovertemplate"),y.coerceSelectionMarkerOpacity(i,m)}},16165:function(W){W.exports=function(e,y,C,a,L){var x=a[L];return e.a=x.a,e.b=x.b,e.y=x.y,e}},48953:function(W){W.exports=function(e,y){var C={},a=y._carpet,L=a.ab2ij([e.a,e.b]),x=Math.floor(L[0]),h=L[0]-x,d=Math.floor(L[1]),t=L[1]-d,r=a.evalxy([],x,d,h,t);return C.yLabel=r[1].toFixed(3),C}},22931:function(W,V,e){var y=e(33720),C=e(71828).fillText;W.exports=function(L,x,h,d){var t=y(L,x,h,d);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var u=1-r.y0/L.ya._length,n=L.xa._length,i=n*u/2,s=n-i;return r.x0=Math.max(Math.min(r.x0,s),i),r.x1=Math.max(Math.min(r.x1,s),i),t}var o=r.cd[r.index];r.a=o.a,r.b=o.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var m=r.trace,c=m._carpet,b=m._module.formatLabels(o,m);r.yLabel=b.yLabel,delete r.text;var v=[];function l(M,R){var T;M.labelprefix&&M.labelprefix.length>0?T=M.labelprefix.replace(/ = $/,""):T=M._hovertitle,v.push(T+": "+R.toFixed(3)+M.labelsuffix)}if(!m.hovertemplate){var p=o.hi||m.hoverinfo,S=p.split("+");S.indexOf("all")!==-1&&(S=["a","b","text"]),S.indexOf("a")!==-1&&l(c.aaxis,o.a),S.indexOf("b")!==-1&&l(c.baxis,o.b),v.push("y: "+r.yLabel),S.indexOf("text")!==-1&&C(o,m,v),r.extraText=v.join("<br>")}return t}},46858:function(W,V,e){W.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(W,V,e){var y=e(32663),C=e(89298),a=e(91424);W.exports=function(x,h,d,t){var r,u,n,i=d[0][0].carpet,s=C.getFromId(x,i.xaxis||"x"),o=C.getFromId(x,i.yaxis||"y"),m={xaxis:s,yaxis:o,plot:h.plot};for(r=0;r<d.length;r++)u=d[r][0].trace,u._xA=s,u._yA=o;for(y(x,m,d,t),r=0;r<d.length;r++)u=d[r][0].trace,n=t.selectAll("g.trace"+u.uid+" .js-line"),a.setClipUrl(n,d[r][0].carpet._clipPathId,x)}},19316:function(W,V,e){var y=e(5386).fF,C=e(5386).si,a=e(82196),L=e(9012),x=e(50693),h=e(79952).P,d=e(1426).extendFlat,t=e(30962).overrideAll,r=a.marker,u=a.line,n=r.line;W.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:d({},a.mode,{dflt:"markers"}),text:d({},a.text,{}),texttemplate:C({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:d({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:u.color,width:u.width,dash:h},connectgaps:a.connectgaps,marker:d({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:d({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:d({width:n.width},x("marker.line")),gradient:r.gradient},x("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:d({},L.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:y()},"calc","nested")},84622:function(W,V,e){var y=e(92770),C=e(50606).BADNUM,a=e(36922),L=e(75225),x=e(66279),h=e(71828)._;function d(t){return t&&typeof t=="string"}W.exports=function(r,u){var n=Array.isArray(u.locations),i=n?u.locations.length:u._length,s=new Array(i),o;u.geojson?o=function(p){return d(p)||y(p)}:o=d;for(var m=0;m<i;m++){var c=s[m]={};if(n){var b=u.locations[m];c.loc=o(b)?b:null}else{var v=u.lon[m],l=u.lat[m];y(v)&&y(l)?c.lonlat=[+v,+l]:c.lonlat=[C,C]}}return L(s,u),a(r,u),x(s,u),i&&(s[0].t={labels:{lat:h(r,"lat:")+" ",lon:h(r,"lon:")+" "}}),s}},10659:function(W,V,e){var y=e(71828),C=e(34098),a=e(49508),L=e(11058),x=e(82410),h=e(28908),d=e(19316);W.exports=function(r,u,n,i){function s(S,M){return y.coerce(r,u,d,S,M)}var o=s("locations"),m;if(o&&o.length){var c=s("geojson"),b;(typeof c=="string"&&c!==""||y.isPlainObject(c))&&(b="geojson-id");var v=s("locationmode",b);v==="geojson-id"&&s("featureidkey"),m=o.length}else{var l=s("lon")||[],p=s("lat")||[];m=Math.min(l.length,p.length)}if(!m){u.visible=!1;return}u._length=m,s("text"),s("hovertext"),s("hovertemplate"),s("mode"),C.hasLines(u)&&(L(r,u,n,i,s),s("connectgaps")),C.hasMarkers(u)&&a(r,u,n,i,s,{gradient:!0}),C.hasText(u)&&(s("texttemplate"),x(r,u,i,s)),s("fill"),u.fill!=="none"&&h(r,u,n,s),y.coerceSelectionMarkerOpacity(u,s)}},84084:function(W){W.exports=function(e,y,C,a,L){e.lon=y.lon,e.lat=y.lat,e.location=y.loc?y.loc:null;var x=a[L];return x.fIn&&x.fIn.properties&&(e.properties=x.fIn.properties),e}},82719:function(W,V,e){var y=e(89298);W.exports=function(a,L,x){var h={},d=x[L.geo]._subplot,t=d.mockAxis,r=a.lonlat;return h.lonLabel=y.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=y.tickText(t,t.c2l(r[1]),!0).text,h}},14977:function(W,V,e){var y=e(30211),C=e(50606).BADNUM,a=e(34603),L=e(71828).fillText,x=e(19316);W.exports=function(t,r,u){var n=t.cd,i=n[0].trace,s=t.xa,o=t.ya,m=t.subplot,c=m.projection.isLonLatOverEdges,b=m.project;function v(E){var A=E.lonlat;if(A[0]===C||c(A))return 1/0;var f=b(A),P=b([r,u]),w=Math.abs(f[0]-P[0]),z=Math.abs(f[1]-P[1]),F=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(w*w+z*z)-F,1-3/F)}if(y.getClosest(n,v,t),t.index!==!1){var l=n[t.index],p=l.lonlat,S=[s.c2p(p),o.c2p(p)],M=l.mrc||1;t.x0=S[0]-M,t.x1=S[0]+M,t.y0=S[1]-M,t.y1=S[1]+M,t.loc=l.loc,t.lon=p[0],t.lat=p[1];var R={};R[i.geo]={_subplot:m};var T=i._module.formatLabels(l,i,R);return t.lonLabel=T.lonLabel,t.latLabel=T.latLabel,t.color=a(i,l),t.extraText=h(i,l,t,n[0].t.labels),t.hovertemplate=i.hovertemplate,[t]}};function h(d,t,r,u){if(d.hovertemplate)return;var n=t.hi||d.hoverinfo,i=n==="all"?x.hoverinfo.flags:n.split("+"),s=i.indexOf("location")!==-1&&Array.isArray(d.locations),o=i.indexOf("lon")!==-1,m=i.indexOf("lat")!==-1,c=i.indexOf("text")!==-1,b=[];function v(l){return l+""}return s?b.push(t.loc):o&&m?b.push("("+v(r.latLabel)+", "+v(r.lonLabel)+")"):o?b.push(u.lon+v(r.lonLabel)):m&&b.push(u.lat+v(r.latLabel)),c&&L(t,d,b),b.join("<br>")}},17988:function(W,V,e){W.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(W,V,e){var y=e(39898),C=e(71828),a=e(90973).getTopojsonFeatures,L=e(18214),x=e(41327),h=e(71739).findExtremes,d=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),u=e(33095);function n(s,o,m){var c=o.layers.frontplot.select(".scatterlayer"),b=C.makeTraceGroups(c,m,"trace scattergeo");function v(l,p){l.lonlat[0]===d&&y.select(p).remove()}b.selectAll("*").remove(),b.each(function(l){var p=y.select(this),S=l[0].trace;if(r.hasLines(S)||S.fill!=="none"){var M=L.calcTraceToLineCoords(l),R=S.fill!=="none"?L.makePolygon(M):L.makeLine(M);p.selectAll("path.js-line").data([{geojson:R,trace:S}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(S)&&p.selectAll("path.point").data(C.identity).enter().append("path").classed("point",!0).each(function(T){v(T,this)}),r.hasText(S)&&p.selectAll("g").data(C.identity).enter().append("g").append("text").each(function(T){v(T,this)}),u(s,l)})}function i(s,o){var m=s[0].trace,c=o[m.geo],b=c._subplot,v=m._length,l,p;if(Array.isArray(m.locations)){var S=m.locationmode,M=S==="geojson-id"?x.extractTraceFeature(s):a(m,b.topojson);for(l=0;l<v;l++){p=s[l];var R=S==="geojson-id"?p.fOut:x.locationToFeature(S,p.loc,M);p.lonlat=R?R.properties.ct:[d,d]}}var T={padded:!0},E,A;if(c.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var f=x.computeBbox(x.getTraceGeojson(m));E=[f[0],f[2]],A=[f[1],f[3]]}else{for(E=new Array(v),A=new Array(v),l=0;l<v;l++)p=s[l],E[l]=p.lonlat[0],A[l]=p.lonlat[1];T.ppad=t(m,v)}m._extremes.lon=h(c.lonaxis._ax,E,T),m._extremes.lat=h(c.lataxis._ax,A,T)}W.exports={calcGeoJSON:i,plot:n}},20548:function(W,V,e){var y=e(34098),C=e(50606).BADNUM;W.exports=function(L,x){var h=L.cd,d=L.xaxis,t=L.yaxis,r=[],u=h[0].trace,n,i,s,o,m,c=!y.hasMarkers(u)&&!y.hasText(u);if(c)return[];if(x===!1)for(m=0;m<h.length;m++)h[m].selected=0;else for(m=0;m<h.length;m++)n=h[m],i=n.lonlat,i[0]!==C&&(s=d.c2p(i),o=t.c2p(i),x.contains([s,o],null,m,L)?(r.push({pointNumber:m,lon:i[0],lat:i[1]}),n.selected=1):n.selected=0);return r}},33095:function(W,V,e){var y=e(39898),C=e(91424),a=e(7901),L=e(16296),x=L.stylePoints,h=L.styleText;W.exports=function(r,u){u&&d(r,u)};function d(t,r){var u=r[0].trace,n=r[0].node3;n.style("opacity",r[0].trace.opacity),x(n,u,t),h(n,u,t),n.selectAll("path.js-line").style("fill","none").each(function(i){var s=y.select(this),o=i.trace,m=o.line||{};s.call(a.stroke,m.color).call(C.dashLine,m.dash||"",m.width||0),o.fill!=="none"&&s.call(a.fill,o.fillcolor)})}},42341:function(W,V,e){var y=e(9012),C=e(82196),a=e(12663).axisHoverFormat,L=e(50693),x=e(78607),h=e(1426).extendFlat,d=e(30962).overrideAll,t=e(78232).DASHES,r=C.line,u=C.marker,n=u.line,i=W.exports=d({x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:C.text,hovertext:C.hovertext,textposition:C.textposition,textfont:C.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:x(t),dflt:"solid"}},marker:h({},L("marker"),{symbol:u.symbol,angle:u.angle,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:h({},L("marker.line"),{width:n.width})}),connectgaps:C.connectgaps,fill:h({},C.fill,{dflt:"none"}),fillcolor:C.fillcolor,selected:{marker:C.selected.marker,textfont:C.selected.textfont},unselected:{marker:C.unselected.marker,textfont:C.unselected.textfont},opacity:y.opacity},"calc","nested");i.x.editType=i.y.editType=i.x0.editType=i.y0.editType="calc+clearAxisTypes",i.hovertemplate=C.hovertemplate,i.texttemplate=C.texttemplate},72156:function(W,V,e){var y=e(20794);W.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:y.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(W,V,e){var y=e(88294),C=e(71828),a=e(41675),L=e(71739).findExtremes,x=e(42973),h=e(47761),d=h.calcMarkerSize,t=h.calcAxisExpansion,r=h.setFirstScatter,u=e(36922),n=e(19635),i=e(38967),s=e(50606).BADNUM,o=e(78232).TOO_MANY_POINTS;W.exports=function(v,l){var p=v._fullLayout,S=l._xA=a.getFromId(v,l.xaxis,"x"),M=l._yA=a.getFromId(v,l.yaxis,"y"),R=p._plots[l.xaxis+l.yaxis],T=l._length,E=T>=o,A=T*2,f={},P,w=S.makeCalcdata(l,"x"),z=M.makeCalcdata(l,"y"),F=x(l,S,"x",w),H=x(l,M,"y",z),_=F.vals,B=H.vals;l._x=_,l._y=B,l.xperiodalignment&&(l._origX=w,l._xStarts=F.starts,l._xEnds=F.ends),l.yperiodalignment&&(l._origY=z,l._yStarts=H.starts,l._yEnds=H.ends);var N=new Array(A),O=new Array(T);for(P=0;P<T;P++)N[P*2]=_[P]===s?NaN:_[P],N[P*2+1]=B[P]===s?NaN:B[P],O[P]=P;if(S.type==="log")for(P=0;P<A;P+=2)N[P]=S.c2l(N[P]);if(M.type==="log")for(P=1;P<A;P+=2)N[P]=M.c2l(N[P]);E&&S.type!=="log"&&M.type!=="log"?f.tree=y(N):f.ids=O,u(v,l);var U=c(v,R,l,N,_,B),K=i(v,R);r(p,l);var re;return E?U.marker&&(re=U.marker.sizeAvg||Math.max(U.marker.size,3)):re=d(l,T),t(v,l,S,M,_,B,re),U.errorX&&m(l,S,U.errorX),U.errorY&&m(l,M,U.errorY),U.fill&&!K.fill2d&&(K.fill2d=!0),U.marker&&!K.scatter2d&&(K.scatter2d=!0),U.line&&!K.line2d&&(K.line2d=!0),(U.errorX||U.errorY)&&!K.error2d&&(K.error2d=!0),U.text&&!K.glText&&(K.glText=!0),U.marker&&(U.marker.snap=T),K.lineOptions.push(U.line),K.errorXOptions.push(U.errorX),K.errorYOptions.push(U.errorY),K.fillOptions.push(U.fill),K.markerOptions.push(U.marker),K.markerSelectedOptions.push(U.markerSel),K.markerUnselectedOptions.push(U.markerUnsel),K.textOptions.push(U.text),K.textSelectedOptions.push(U.textSel),K.textUnselectedOptions.push(U.textUnsel),K.selectBatch.push([]),K.unselectBatch.push([]),f._scene=K,f.index=K.count,f.x=_,f.y=B,f.positions=N,K.count++,[{x:!1,y:!1,t:f,trace:l}]};function m(b,v,l){var p=b._extremes[v._id],S=L(v,l._bnds,{padded:!0});p.min=p.min.concat(S.min),p.max=p.max.concat(S.max)}function c(b,v,l,p,S,M){var R=n.style(b,l);if(R.marker&&(R.marker.positions=p),R.line&&p.length>1&&C.extendFlat(R.line,n.linePositions(b,l,p)),R.errorX||R.errorY){var T=n.errorBarPositions(b,l,p,S,M);R.errorX&&C.extendFlat(R.errorX,T.x),R.errorY&&C.extendFlat(R.errorY,T.y)}return R.text&&(C.extendFlat(R.text,{positions:p},n.textPosition(b,l,R.text,R.marker)),C.extendFlat(R.textSel,{positions:p},n.textPosition(b,l,R.text,R.markerSel)),C.extendFlat(R.textUnsel,{positions:p},n.textPosition(b,l,R.text,R.markerUnsel))),R}},78232:function(W){var V=20;W.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:V,SYMBOL_STROKE:V/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(W,V,e){var y=e(92770),C=e(82019),a=e(25075),L=e(73972),x=e(71828),h=e(91424),d=e(41675),t=e(81697).formatColor,r=e(34098),u=e(39984),n=e(68645),i=e(78232),s=e(37822).DESELECTDIM,o={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},m=e(23469).appendArrayPointValue;function c(F,H){var _,B={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},N=F._context.plotGlPixelRatio;if(H.visible!==!0)return B;if(r.hasText(H)&&(B.text=b(F,H),B.textSel=p(F,H,H.selected),B.textUnsel=p(F,H,H.unselected)),r.hasMarkers(H)&&(B.marker=v(F,H),B.markerSel=l(F,H,H.selected),B.markerUnsel=l(F,H,H.unselected),!H.unselected&&x.isArrayOrTypedArray(H.marker.opacity))){var O=H.marker.opacity;for(B.markerUnsel.opacity=new Array(O.length),_=0;_<O.length;_++)B.markerUnsel.opacity[_]=s*O[_]}if(r.hasLines(H)){B.line={overlay:!0,thickness:H.line.width*N,color:H.line.color,opacity:H.opacity};var U=(i.DASHES[H.line.dash]||[1]).slice();for(_=0;_<U.length;++_)U[_]*=H.line.width*N;B.line.dashes=U}return H.error_x&&H.error_x.visible&&(B.errorX=S(H,H.error_x,N)),H.error_y&&H.error_y.visible&&(B.errorY=S(H,H.error_y,N)),H.fill&&H.fill!=="none"&&(B.fill={closed:!0,fill:H.fillcolor,thickness:0}),B}function b(F,H){var _=F._fullLayout,B=H._length,N=H.textfont,O=H.textposition,U=Array.isArray(O)?O:[O],K=N.color,re=N.size,ae=N.family,ue={},ve,ee=F._context.plotGlPixelRatio,J=H.texttemplate;if(J){ue.text=[];var Q=_._d3locale,X=Array.isArray(J),q=X?Math.min(J.length,B):B,se=X?function(we){return J[we]}:function(){return J};for(ve=0;ve<q;ve++){var Y={i:ve},Z=H._module.formatLabels(Y,H,_),ie={};m(ie,H,ve);var te=H._meta||{};ue.text.push(x.texttemplateString(se(ve),Z,Q,ie,Y,te))}}else Array.isArray(H.text)&&H.text.length<B?ue.text=H.text.slice():ue.text=H.text;if(Array.isArray(ue.text))for(ve=ue.text.length;ve<B;ve++)ue.text[ve]="";for(ue.opacity=H.opacity,ue.font={},ue.align=[],ue.baseline=[],ve=0;ve<U.length;ve++){var fe=U[ve].split(/\s+/);switch(fe[1]){case"left":ue.align.push("right");break;case"right":ue.align.push("left");break;default:ue.align.push(fe[1])}switch(fe[0]){case"top":ue.baseline.push("bottom");break;case"bottom":ue.baseline.push("top");break;default:ue.baseline.push(fe[0])}}if(Array.isArray(K))for(ue.color=new Array(B),ve=0;ve<B;ve++)ue.color[ve]=K[ve];else ue.color=K;if(x.isArrayOrTypedArray(re)||Array.isArray(ae))for(ue.font=new Array(B),ve=0;ve<B;ve++){var de=ue.font[ve]={};de.size=(x.isTypedArray(re)?re[ve]:Array.isArray(re)?y(re[ve])?re[ve]:0:re)*ee,de.family=Array.isArray(ae)?ae[ve]:ae}else ue.font={size:re*ee,family:ae};return ue}function v(F,H){var _=H._length,B=H.marker,N={},O,U=x.isArrayOrTypedArray(B.symbol),K=x.isArrayOrTypedArray(B.angle),re=x.isArrayOrTypedArray(B.color),ae=x.isArrayOrTypedArray(B.line.color),ue=x.isArrayOrTypedArray(B.opacity),ve=x.isArrayOrTypedArray(B.size),ee=x.isArrayOrTypedArray(B.line.width),J;if(U||(J=n.isOpenSymbol(B.symbol)),U||re||ae||ue||K){N.symbols=new Array(_),N.angles=new Array(_),N.colors=new Array(_),N.borderColors=new Array(_);var Q=B.symbol,X=B.angle,q=t(B,B.opacity,_),se=t(B.line,B.opacity,_);if(!Array.isArray(se[0])){var Y=se;for(se=Array(_),O=0;O<_;O++)se[O]=Y}if(!Array.isArray(q[0])){var Z=q;for(q=Array(_),O=0;O<_;O++)q[O]=Z}if(!Array.isArray(Q)){var ie=Q;for(Q=Array(_),O=0;O<_;O++)Q[O]=ie}if(!Array.isArray(X)){var te=X;for(X=Array(_),O=0;O<_;O++)X[O]=te}for(N.symbols=Q,N.angles=X,N.colors=q,N.borderColors=se,O=0;O<_;O++)U&&(J=n.isOpenSymbol(B.symbol[O])),J&&(se[O]=q[O].slice(),q[O]=q[O].slice(),q[O][3]=0);for(N.opacity=H.opacity,N.markers=new Array(_),O=0;O<_;O++)N.markers[O]=f({mx:N.symbols[O],ma:N.angles[O]},H)}else J?(N.color=a(B.color,"uint8"),N.color[3]=0,N.borderColor=a(B.color,"uint8")):(N.color=a(B.color,"uint8"),N.borderColor=a(B.line.color,"uint8")),N.opacity=H.opacity*B.opacity,N.marker=f({mx:B.symbol,ma:B.angle},H);var fe=1,de=u(H,fe),we;if(ve||ee){var Ae=N.sizes=new Array(_),Re=N.borderSizes=new Array(_),Fe=0,Se;if(ve){for(O=0;O<_;O++)Ae[O]=de(B.size[O]),Fe+=Ae[O];Se=Fe/_}else for(we=de(B.size),O=0;O<_;O++)Ae[O]=we;if(ee)for(O=0;O<_;O++)Re[O]=B.line.width[O];else for(we=B.line.width,O=0;O<_;O++)Re[O]=we;N.sizeAvg=Se}else N.size=de(B&&B.size||10),N.borderSizes=de(B.line.width);return N}function l(F,H,_){var B=H.marker,N={};return _&&(_.marker&&_.marker.symbol?N=v(F,x.extendFlat({},B,_.marker)):_.marker&&(_.marker.size&&(N.size=_.marker.size),_.marker.color&&(N.colors=_.marker.color),_.marker.opacity!==void 0&&(N.opacity=_.marker.opacity))),N}function p(F,H,_){var B={};if(!_)return B;if(_.textfont){var N={opacity:1,text:H.text,texttemplate:H.texttemplate,textposition:H.textposition,textfont:x.extendFlat({},H.textfont)};_.textfont&&x.extendFlat(N.textfont,_.textfont),B=b(F,N)}return B}function S(F,H,_){var B={capSize:H.width*2*_,lineWidth:H.thickness*_,color:H.color};return H.copy_ystyle&&(B=F.error_y),B}var M=i.SYMBOL_SDF_SIZE,R=i.SYMBOL_SIZE,T=i.SYMBOL_STROKE,E={},A=h.symbolFuncs[0](R*.05);function f(F,H){var _=F.mx;if(_==="circle")return null;var B,N,O=h.symbolNumber(_),U=h.symbolFuncs[O%100],K=!!h.symbolNoDot[O%100],re=!!h.symbolNoFill[O%100],ae=n.isDotSymbol(_);if(F.ma&&(_+="_"+F.ma),E[_])return E[_];var ue=h.getMarkerAngle(F,H);return ae&&!K?B=U(R*1.1,ue)+A:B=U(R,ue),N=C(B,{w:M,h:M,viewBox:[-R,-R,R,R],stroke:re?T:-T}),E[_]=N,N||null}function P(F,H,_){var B=_.length,N=B/2,O,U;if(r.hasLines(H)&&N)if(H.line.shape==="hv"){for(O=[],U=0;U<N-1;U++)isNaN(_[U*2])||isNaN(_[U*2+1])?O.push(NaN,NaN,NaN,NaN):(O.push(_[U*2],_[U*2+1]),!isNaN(_[U*2+2])&&!isNaN(_[U*2+3])?O.push(_[U*2+2],_[U*2+1]):O.push(NaN,NaN));O.push(_[B-2],_[B-1])}else if(H.line.shape==="hvh"){for(O=[],U=0;U<N-1;U++)if(isNaN(_[U*2])||isNaN(_[U*2+1])||isNaN(_[U*2+2])||isNaN(_[U*2+3]))!isNaN(_[U*2])&&!isNaN(_[U*2+1])?O.push(_[U*2],_[U*2+1]):O.push(NaN,NaN),O.push(NaN,NaN);else{var K=(_[U*2]+_[U*2+2])/2;O.push(_[U*2],_[U*2+1],K,_[U*2+1],K,_[U*2+3])}O.push(_[B-2],_[B-1])}else if(H.line.shape==="vhv"){for(O=[],U=0;U<N-1;U++)if(isNaN(_[U*2])||isNaN(_[U*2+1])||isNaN(_[U*2+2])||isNaN(_[U*2+3]))!isNaN(_[U*2])&&!isNaN(_[U*2+1])?O.push(_[U*2],_[U*2+1]):O.push(NaN,NaN),O.push(NaN,NaN);else{var re=(_[U*2+1]+_[U*2+3])/2;O.push(_[U*2],_[U*2+1],_[U*2],re,_[U*2+2],re)}O.push(_[B-2],_[B-1])}else if(H.line.shape==="vh"){for(O=[],U=0;U<N-1;U++)isNaN(_[U*2])||isNaN(_[U*2+1])?O.push(NaN,NaN,NaN,NaN):(O.push(_[U*2],_[U*2+1]),!isNaN(_[U*2+2])&&!isNaN(_[U*2+3])?O.push(_[U*2],_[U*2+3]):O.push(NaN,NaN));O.push(_[B-2],_[B-1])}else O=_;var ae=!1;for(U=0;U<O.length;U++)if(isNaN(O[U])){ae=!0;break}var ue=ae||O.length>i.TOO_MANY_POINTS||r.hasMarkers(H)?"rect":"round";if(ae&&H.connectgaps){var ve=O[0],ee=O[1];for(U=0;U<O.length;U+=2)isNaN(O[U])||isNaN(O[U+1])?(O[U]=ve,O[U+1]=ee):(ve=O[U],ee=O[U+1])}return{join:ue,positions:O}}function w(F,H,_,B,N){var O=L.getComponentMethod("errorbars","makeComputeError"),U=d.getFromId(F,H.xaxis,"x"),K=d.getFromId(F,H.yaxis,"y"),re=_.length/2,ae={};function ue(ve,ee){var J=ee._id.charAt(0),Q=H["error_"+J];if(Q&&Q.visible&&(ee.type==="linear"||ee.type==="log")){for(var X=O(Q),q={x:0,y:1}[J],se={x:[0,1,2,3],y:[2,3,0,1]}[J],Y=new Float64Array(4*re),Z=1/0,ie=-1/0,te=0,fe=0;te<re;te++,fe+=4){var de=ve[te];if(y(de)){var we=_[te*2+q],Ae=X(de,te),Re=Ae[0],Fe=Ae[1];if(y(Re)&&y(Fe)){var Se=de-Re,Te=de+Fe;Y[fe+se[0]]=we-ee.c2l(Se),Y[fe+se[1]]=ee.c2l(Te)-we,Y[fe+se[2]]=0,Y[fe+se[3]]=0,Z=Math.min(Z,de-Re),ie=Math.max(ie,de+Fe)}}}ae[J]={positions:_,errors:Y,_bnds:[Z,ie]}}}return ue(B,U),ue(N,K),ae}function z(F,H,_,B){var N=H._length,O={},U;if(r.hasMarkers(H)){var K=_.font,re=_.align,ae=_.baseline;for(O.offset=new Array(N),U=0;U<N;U++){var ue=B.sizes?B.sizes[U]:B.size,ve=Array.isArray(K)?K[U].size:K.size,ee=Array.isArray(re)?re.length>1?re[U]:re[0]:re,J=Array.isArray(ae)?ae.length>1?ae[U]:ae[0]:ae,Q=o[ee],X=o[J],q=ue?ue/.8+1:0,se=-X*q-X*.5;O.offset[U]=[Q*q/ve,se/ve]}}return O}W.exports={style:c,markerStyle:v,markerSelection:l,linePositions:P,errorBarPositions:w,textPosition:z}},47148:function(W,V,e){var y=e(71828),C=e(73972),a=e(68645),L=e(42341),x=e(47581),h=e(34098),d=e(67513),t=e(73927),r=e(49508),u=e(11058),n=e(28908),i=e(82410);W.exports=function(o,m,c,b){function v(A,f){return y.coerce(o,m,L,A,f)}var l=o.marker?a.isOpenSymbol(o.marker.symbol):!1,p=h.isBubble(o),S=d(o,m,b,v);if(!S){m.visible=!1;return}t(o,m,b,v),v("xhoverformat"),v("yhoverformat");var M=S<x.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("hovertemplate"),v("mode",M),h.hasLines(m)&&(v("connectgaps"),u(o,m,c,b,v),v("line.shape")),h.hasMarkers(m)&&(r(o,m,c,b,v,{noAngleRef:!0,noStandOff:!0}),v("marker.line.width",l||p?1:0)),h.hasText(m)&&(v("texttemplate"),i(o,m,b,v));var R=(m.line||{}).color,T=(m.marker||{}).color;v("fill"),m.fill!=="none"&&n(o,m,c,v);var E=C.getComponentMethod("errorbars","supplyDefaults");E(o,m,R||T||c,{axis:"y"}),E(o,m,R||T||c,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(m,v)}},5345:function(W,V,e){var y=e(71828),C=e(7901),a=e(37822).DESELECTDIM;function L(x){var h=x[0],d=h.trace,t=h.t,r=t._scene,u=t.index,n=r.selectBatch[u],i=r.unselectBatch[u],s=r.textOptions[u],o=r.textSelectedOptions[u]||{},m=r.textUnselectedOptions[u]||{},c=y.extendFlat({},s),b,v;if(n.length||i.length){var l=o.color,p=m.color,S=s.color,M=Array.isArray(S);for(c.color=new Array(d._length),b=0;b<n.length;b++)v=n[b],c.color[v]=l||(M?S[v]:S);for(b=0;b<i.length;b++){v=i[b];var R=M?S[v]:S;c.color[v]=p||(l?R:C.addOpacity(R,a))}}r.glText[u].update(c)}W.exports={styleTextSelection:L}},68101:function(W,V,e){var y=e(8225);W.exports=function(a,L,x){var h=a.i;return"x"in a||(a.x=L._x[h]),"y"in a||(a.y=L._y[h]),y(a,L,x)}},68645:function(W,V,e){var y=e(78232);V.isOpenSymbol=function(C){return typeof C=="string"?y.OPEN_RE.test(C):C%200>100},V.isDotSymbol=function(C){return typeof C=="string"?y.DOT_RE.test(C):C>200}},20794:function(W,V,e){var y=e(73972),C=e(71828),a=e(34603);function L(h,d,t,r){var u=h.cd,n=u[0].t,i=u[0].trace,s=h.xa,o=h.ya,m=n.x,c=n.y,b=s.c2p(d),v=o.c2p(t),l=h.distance,p;if(n.tree){var S=s.p2c(b-l),M=s.p2c(b+l),R=o.p2c(v-l),T=o.p2c(v+l);r==="x"?p=n.tree.range(Math.min(S,M),Math.min(o._rl[0],o._rl[1]),Math.max(S,M),Math.max(o._rl[0],o._rl[1])):p=n.tree.range(Math.min(S,M),Math.min(R,T),Math.max(S,M),Math.max(R,T))}else p=n.ids;var E,A,f,P,w,z,F,H,_,B=l;if(r==="x"){var N=!!i.xperiodalignment,O=!!i.yperiodalignment;for(w=0;w<p.length;w++){if(E=p[w],f=m[E],z=Math.abs(s.c2p(f)-b),N){var U=s.c2p(i._xStarts[E]),K=s.c2p(i._xEnds[E]);z=b>=Math.min(U,K)&&b<=Math.max(U,K)?0:1/0}if(z<B){if(B=z,P=c[E],F=o.c2p(P)-v,O){var re=o.c2p(i._yStarts[E]),ae=o.c2p(i._yEnds[E]);F=v>=Math.min(re,ae)&&v<=Math.max(re,ae)?0:1/0}_=Math.sqrt(z*z+F*F),A=p[w]}}}else for(w=p.length-1;w>-1;w--)E=p[w],f=m[E],P=c[E],z=s.c2p(f)-b,F=o.c2p(P)-v,H=Math.sqrt(z*z+F*F),H<B&&(B=_=H,A=E);return h.index=A,h.distance=B,h.dxy=_,A===void 0?[h]:[x(h,m,c,i)]}function x(h,d,t,r){var u=h.xa,n=h.ya,i=h.distance,s=h.dxy,o=h.index,m={pointNumber:o,x:d[o],y:t[o]};m.tx=Array.isArray(r.text)?r.text[o]:r.text,m.htx=Array.isArray(r.hovertext)?r.hovertext[o]:r.hovertext,m.data=Array.isArray(r.customdata)?r.customdata[o]:r.customdata,m.tp=Array.isArray(r.textposition)?r.textposition[o]:r.textposition;var c=r.textfont;c&&(m.ts=C.isArrayOrTypedArray(c.size)?c.size[o]:c.size,m.tc=Array.isArray(c.color)?c.color[o]:c.color,m.tf=Array.isArray(c.family)?c.family[o]:c.family);var b=r.marker;b&&(m.ms=C.isArrayOrTypedArray(b.size)?b.size[o]:b.size,m.mo=C.isArrayOrTypedArray(b.opacity)?b.opacity[o]:b.opacity,m.mx=C.isArrayOrTypedArray(b.symbol)?b.symbol[o]:b.symbol,m.ma=C.isArrayOrTypedArray(b.angle)?b.angle[o]:b.angle,m.mc=C.isArrayOrTypedArray(b.color)?b.color[o]:b.color);var v=b&&b.line;v&&(m.mlc=Array.isArray(v.color)?v.color[o]:v.color,m.mlw=C.isArrayOrTypedArray(v.width)?v.width[o]:v.width);var l=b&&b.gradient;l&&l.type!=="none"&&(m.mgt=Array.isArray(l.type)?l.type[o]:l.type,m.mgc=Array.isArray(l.color)?l.color[o]:l.color);var p=u.c2p(m.x,!0),S=n.c2p(m.y,!0),M=m.mrc||1,R=r.hoverlabel;R&&(m.hbg=Array.isArray(R.bgcolor)?R.bgcolor[o]:R.bgcolor,m.hbc=Array.isArray(R.bordercolor)?R.bordercolor[o]:R.bordercolor,m.hts=C.isArrayOrTypedArray(R.font.size)?R.font.size[o]:R.font.size,m.htc=Array.isArray(R.font.color)?R.font.color[o]:R.font.color,m.htf=Array.isArray(R.font.family)?R.font.family[o]:R.font.family,m.hnl=C.isArrayOrTypedArray(R.namelength)?R.namelength[o]:R.namelength);var T=r.hoverinfo;T&&(m.hi=Array.isArray(T)?T[o]:T);var E=r.hovertemplate;E&&(m.ht=Array.isArray(E)?E[o]:E);var A={};A[h.index]=m;var f=r._origX,P=r._origY,w=C.extendFlat({},h,{color:a(r,m),x0:p-M,x1:p+M,xLabelVal:f?f[o]:m.x,y0:S-M,y1:S+M,yLabelVal:P?P[o]:m.y,cd:A,distance:i,spikeDistance:s,hovertemplate:m.ht});return m.htx?w.text=m.htx:m.tx?w.text=m.tx:r.text&&(w.text=r.text),C.fillText(m,r,w),y.getComponentMethod("errorbars","hoverInfo")(m,r,w),w}W.exports={hoverPoints:L,calcHover:x}},68868:function(W,V,e){var y=e(72156);y.plot=e(26787),W.exports=y},26787:function(W,V,e){var y=e(11870),C=e(46075),a=e(3593),L=e(42505),x=e(71828),h=e(64505).selectMode,d=e(79749),t=e(34098),r=e(68687),u=e(5345).styleTextSelection,n={};function i(o,m,c,b){var v=o._size,l=o.width*b,p=o.height*b,S=v.l*b,M=v.b*b,R=v.r*b,T=v.t*b,E=v.w*b,A=v.h*b;return[S+m.domain[0]*E,M+c.domain[0]*A,l-R-(1-m.domain[1])*E,p-T-(1-c.domain[1])*A]}var s=W.exports=function(m,c,b){if(b.length){var v=m._fullLayout,l=c._scene,p=c.xaxis,S=c.yaxis,M,R;if(l){var T=d(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!T){l.init();return}var E=l.count,A=v._glcanvas.data()[0].regl;if(r(m,c,b),l.dirty){if(l.error2d===!0&&(l.error2d=a(A)),l.line2d===!0&&(l.line2d=C(A)),l.scatter2d===!0&&(l.scatter2d=y(A)),l.fill2d===!0&&(l.fill2d=C(A)),l.glText===!0)for(l.glText=new Array(E),M=0;M<E;M++)l.glText[M]=new L(A);if(l.glText){if(E>l.glText.length){var f=E-l.glText.length;for(M=0;M<f;M++)l.glText.push(new L(A))}else if(E<l.glText.length){var P=l.glText.length-E,w=l.glText.splice(E,P);w.forEach(function(Y){Y.destroy()})}for(M=0;M<E;M++)l.glText[M].update(l.textOptions[M])}if(l.line2d&&(l.line2d.update(l.lineOptions),l.lineOptions=l.lineOptions.map(function(Y){if(Y&&Y.positions){for(var Z=Y.positions,ie=0;ie<Z.length&&(isNaN(Z[ie])||isNaN(Z[ie+1]));)ie+=2;for(var te=Z.length-2;te>ie&&(isNaN(Z[te])||isNaN(Z[te+1]));)te-=2;Y.positions=Z.slice(ie,te+2)}return Y}),l.line2d.update(l.lineOptions)),l.error2d){var z=(l.errorXOptions||[]).concat(l.errorYOptions||[]);l.error2d.update(z)}l.scatter2d&&l.scatter2d.update(l.markerOptions),l.fillOrder=x.repeat(null,E),l.fill2d&&(l.fillOptions=l.fillOptions.map(function(Y,Z){var ie=b[Z];if(!(!Y||!ie||!ie[0]||!ie[0].trace)){var te=ie[0],fe=te.trace,de=te.t,we=l.lineOptions[Z],Ae,Re,Fe=[];fe._ownfill&&Fe.push(Z),fe._nexttrace&&Fe.push(Z+1),Fe.length&&(l.fillOrder[Z]=Fe);var Se=[],Te=we&&we.positions||de.positions,Ee,Ne;if(fe.fill==="tozeroy"){for(Ee=0;Ee<Te.length&&isNaN(Te[Ee+1]);)Ee+=2;for(Ne=Te.length-2;Ne>Ee&&isNaN(Te[Ne+1]);)Ne-=2;Te[Ee+1]!==0&&(Se=[Te[Ee],0]),Se=Se.concat(Te.slice(Ee,Ne+2)),Te[Ne+1]!==0&&(Se=Se.concat([Te[Ne],0]))}else if(fe.fill==="tozerox"){for(Ee=0;Ee<Te.length&&isNaN(Te[Ee]);)Ee+=2;for(Ne=Te.length-2;Ne>Ee&&isNaN(Te[Ne]);)Ne-=2;Te[Ee]!==0&&(Se=[0,Te[Ee+1]]),Se=Se.concat(Te.slice(Ee,Ne+2)),Te[Ne]!==0&&(Se=Se.concat([0,Te[Ne+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Se=[],Ae=0,Y.splitNull=!0,Re=0;Re<Te.length;Re+=2)(isNaN(Te[Re])||isNaN(Te[Re+1]))&&(Se=Se.concat(Te.slice(Ae,Re)),Se.push(Te[Ae],Te[Ae+1]),Se.push(null,null),Ae=Re+2);Se=Se.concat(Te.slice(Ae)),Ae&&Se.push(Te[Ae],Te[Ae+1])}else{var He=fe._nexttrace;if(He){var _e=l.lineOptions[Z+1];if(_e){var We=_e.positions;if(fe.fill==="tonexty"){for(Se=Te.slice(),Z=Math.floor(We.length/2);Z--;){var tt=We[Z*2],Ke=We[Z*2+1];isNaN(tt)||isNaN(Ke)||Se.push(tt,Ke)}Y.fill=He.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var qe=l.lineOptions[Z-1].positions,rt=Se.length/2;Ae=rt;var ft=[Ae];for(Re=0;Re<qe.length;Re+=2)(isNaN(qe[Re])||isNaN(qe[Re+1]))&&(ft.push(Re/2+rt+1),Ae=Re+2);Se=Se.concat(qe),Y.hole=ft}return Y.fillmode=fe.fill,Y.opacity=fe.opacity,Y.positions=Se,Y}}),l.fill2d.update(l.fillOptions))}var F=v.dragmode,H=h(F),_=v.clickmode.indexOf("select")>-1;for(M=0;M<E;M++){var B=b[M][0],N=B.trace,O=B.t,U=O.index,K=N._length,re=O.x,ae=O.y;if(N.selectedpoints||H||_){if(H||(H=!0),N.selectedpoints){var ue=l.selectBatch[U]=x.selIndices2selPoints(N),ve={};for(R=0;R<ue.length;R++)ve[ue[R]]=1;var ee=[];for(R=0;R<K;R++)ve[R]||ee.push(R);l.unselectBatch[U]=ee}var J=O.xpx=new Array(K),Q=O.ypx=new Array(K);for(R=0;R<K;R++)J[R]=p.c2p(re[R]),Q[R]=S.c2p(ae[R])}else O.xpx=O.ypx=null}if(H){if(l.select2d||(l.select2d=y(v._glcanvas.data()[1].regl)),l.scatter2d){var X=new Array(E);for(M=0;M<E;M++)X[M]=l.selectBatch[M].length||l.unselectBatch[M].length?l.markerUnselectedOptions[M]:{};l.scatter2d.update(X)}l.select2d&&(l.select2d.update(l.markerOptions),l.select2d.update(l.markerSelectedOptions)),l.glText&&b.forEach(function(Y){var Z=((Y||[])[0]||{}).trace||{};t.hasText(Z)&&u(Y)})}else l.scatter2d&&l.scatter2d.update(l.markerOptions);var q={viewport:i(v,p,S,m._context.plotGlPixelRatio),range:[(p._rl||p.range)[0],(S._rl||S.range)[0],(p._rl||p.range)[1],(S._rl||S.range)[1]]},se=x.repeat(q,l.count);l.fill2d&&l.fill2d.update(se),l.line2d&&l.line2d.update(se),l.error2d&&l.error2d.update(se.concat(se)),l.scatter2d&&l.scatter2d.update(se),l.select2d&&l.select2d.update(se),l.glText&&l.glText.forEach(function(Y){Y.update(q)})}}};s.reglPrecompiled=n},38967:function(W,V,e){var y=e(71828);W.exports=function(a,L){var x=L._scene,h={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(x=L._scene={},x.init=function(){y.extendFlat(x,d,h)},x.init(),x.update=function(r){var u=y.repeat(r,x.count);if(x.fill2d&&x.fill2d.update(u),x.scatter2d&&x.scatter2d.update(u),x.line2d&&x.line2d.update(u),x.error2d&&x.error2d.update(u.concat(u)),x.select2d&&x.select2d.update(u),x.glText)for(var n=0;n<x.count;n++)x.glText[n].update(r)},x.draw=function(){for(var r=x.count,u=x.fill2d,n=x.error2d,i=x.line2d,s=x.scatter2d,o=x.glText,m=x.select2d,c=x.selectBatch,b=x.unselectBatch,v=0;v<r;v++){if(u&&x.fillOrder[v]&&u.draw(x.fillOrder[v]),i&&x.lineOptions[v]&&i.draw(v),n&&(x.errorXOptions[v]&&n.draw(v),x.errorYOptions[v]&&n.draw(v+r)),s&&x.markerOptions[v])if(b[v].length){var l=y.repeat([],x.count);l[v]=b[v],s.draw(l)}else c[v].length||s.draw(v);o[v]&&x.textOptions[v]&&o[v].render()}m&&m.draw(c),x.dirty=!1},x.destroy=function(){x.fill2d&&x.fill2d.destroy&&x.fill2d.destroy(),x.scatter2d&&x.scatter2d.destroy&&x.scatter2d.destroy(),x.error2d&&x.error2d.destroy&&x.error2d.destroy(),x.line2d&&x.line2d.destroy&&x.line2d.destroy(),x.select2d&&x.select2d.destroy&&x.select2d.destroy(),x.glText&&x.glText.forEach(function(r){r.destroy&&r.destroy()}),x.lineOptions=null,x.fillOptions=null,x.markerOptions=null,x.markerSelectedOptions=null,x.markerUnselectedOptions=null,x.errorXOptions=null,x.errorYOptions=null,x.textOptions=null,x.textSelectedOptions=null,x.textUnselectedOptions=null,x.selectBatch=null,x.unselectBatch=null,L._scene=null}),x.dirty||y.extendFlat(x,h),x}},58147:function(W,V,e){var y=e(34098),C=e(5345).styleTextSelection;W.exports=function(L,x){var h=L.cd,d=L.xaxis,t=L.yaxis,r=[],u=h[0].trace,n=h[0].t,i=u._length,s=n.x,o=n.y,m=n._scene,c=n.index;if(!m)return r;var b=y.hasText(u),v=y.hasMarkers(u),l=!v&&!b;if(u.visible!==!0||l)return r;var p=[],S=[];if(x!==!1&&!x.degenerate)for(var M=0;M<i;M++)x.contains([n.xpx[M],n.ypx[M]],!1,M,L)?(p.push(M),r.push({pointNumber:M,x:d.c2d(s[M]),y:t.c2d(o[M])})):S.push(M);if(v){var R=m.scatter2d;if(!p.length&&!S.length){var T=new Array(m.count);T[c]=m.markerOptions[c],R.update.apply(R,T)}else if(!m.selectBatch[c].length&&!m.unselectBatch[c].length){var E=new Array(m.count);E[c]=m.markerUnselectedOptions[c],R.update.apply(R,E)}}return m.selectBatch[c]=p,m.unselectBatch[c]=S,b&&C(h),r}},99181:function(W,V,e){var y=e(5386).fF,C=e(5386).si,a=e(19316),L=e(82196),x=e(23585),h=e(9012),d=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,u=e(23585),n=a.line,i=a.marker;W.exports=r({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},u.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},i.opacity,{dflt:1})},mode:t({},L.mode,{dflt:"markers"}),text:t({},L.text,{}),texttemplate:C({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},L.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:L.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:i.opacity,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode},d("marker")),fill:a.fill,fillcolor:L.fillcolor,textfont:x.layers.symbol.textfont,textposition:x.layers.symbol.textposition,below:{valType:"string"},selected:{marker:L.selected.marker},unselected:{marker:L.unselected.marker},hoverinfo:t({},h.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:y()},"calc","nested")},15790:function(W,V,e){var y=e(92770),C=e(71828),a=e(50606).BADNUM,L=e(18214),x=e(21081),h=e(91424),d=e(39984),t=e(34098),r=e(13056),u=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,i=e(63893).BR_TAG_ALL;W.exports=function(S,M){var R=M[0].trace,T=R.visible===!0&&R._length!==0,E=R.fill!=="none",A=t.hasLines(R),f=t.hasMarkers(R),P=t.hasText(R),w=f&&R.marker.symbol==="circle",z=f&&R.marker.symbol!=="circle",F=R.cluster&&R.cluster.enabled,H=s("fill"),_=s("line"),B=s("circle"),N=s("symbol"),O={fill:H,line:_,circle:B,symbol:N};if(!T)return O;var U;if((E||A)&&(U=L.calcTraceToLineCoords(M)),E&&(H.geojson=L.makePolygon(U),H.layout.visibility="visible",C.extendFlat(H.paint,{"fill-color":R.fillcolor})),A&&(_.geojson=L.makeLine(U),_.layout.visibility="visible",C.extendFlat(_.paint,{"line-width":R.line.width,"line-color":R.line.color,"line-opacity":R.opacity})),w){var K=o(M);B.geojson=K.geojson,B.layout.visibility="visible",F&&(B.filter=["!",["has","point_count"]],O.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":l(R.cluster.color,R.cluster.step),"circle-radius":l(R.cluster.size,R.cluster.step),"circle-opacity":l(R.cluster.opacity,R.cluster.step)}},O.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),C.extendFlat(B.paint,{"circle-color":K.mcc,"circle-radius":K.mrc,"circle-opacity":K.mo})}if(w&&F&&(B.filter=["!",["has","point_count"]]),(z||P)&&(N.geojson=m(M,S),C.extendFlat(N.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),z&&(C.extendFlat(N.layout,{"icon-size":R.marker.size/10}),"angle"in R.marker&&R.marker.angle!=="auto"&&C.extendFlat(N.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),N.layout["icon-allow-overlap"]=R.marker.allowoverlap,C.extendFlat(N.paint,{"icon-opacity":R.opacity*R.marker.opacity,"icon-color":R.marker.color})),P)){var re=(R.marker||{}).size,ae=r(R.textposition,re);C.extendFlat(N.layout,{"text-size":R.textfont.size,"text-anchor":ae.anchor,"text-offset":ae.offset,"text-font":R.textfont.family.split(", ")}),C.extendFlat(N.paint,{"text-color":R.textfont.color,"text-opacity":R.opacity})}return O};function s(p){return{type:p,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function o(p){var S=p[0].trace,M=S.marker,R=S.selectedpoints,T=C.isArrayOrTypedArray(M.color),E=C.isArrayOrTypedArray(M.size),A=C.isArrayOrTypedArray(M.opacity),f;function P(re){return S.opacity*re}function w(re){return re/2}var z;T&&(x.hasColorscale(S,"marker")?z=x.makeColorScaleFuncFromTrace(M):z=C.identity);var F;E&&(F=d(S));var H;A&&(H=function(re){var ae=y(re)?+C.constrain(re,0,1):0;return P(ae)});var _=[];for(f=0;f<p.length;f++){var B=p[f],N=B.lonlat;if(!v(N)){var O={};z&&(O.mcc=B.mcc=z(B.mc)),F&&(O.mrc=B.mrc=F(B.ms)),H&&(O.mo=H(B.mo)),R&&(O.selected=B.selected||0),_.push({type:"Feature",id:f+1,geometry:{type:"Point",coordinates:N},properties:O})}}var U;if(R)for(U=h.makeSelectedPointStyleFns(S),f=0;f<_.length;f++){var K=_[f].properties;U.selectedOpacityFn&&(K.mo=P(U.selectedOpacityFn(K))),U.selectedColorFn&&(K.mcc=U.selectedColorFn(K)),U.selectedSizeFn&&(K.mrc=U.selectedSizeFn(K))}return{geojson:{type:"FeatureCollection",features:_},mcc:T||U&&U.selectedColorFn?{type:"identity",property:"mcc"}:M.color,mrc:E||U&&U.selectedSizeFn?{type:"identity",property:"mrc"}:w(M.size),mo:A||U&&U.selectedOpacityFn?{type:"identity",property:"mo"}:P(M.opacity)}}function m(p,S){for(var M=S._fullLayout,R=p[0].trace,T=R.marker||{},E=T.symbol,A=T.angle,f=E!=="circle"?c(E):b,P=A!=="auto"?c(A,!0):b,w=t.hasText(R)?c(R.text):b,z=[],F=0;F<p.length;F++){var H=p[F];if(!v(H.lonlat)){var _=R.texttemplate,B;if(_){var N=Array.isArray(_)?_[F]||"":_,O=R._module.formatLabels(H,R,M),U={};u(U,R,H.i);var K=R._meta||{};B=C.texttemplateString(N,O,M._d3locale,U,H,K)}else B=w(F);B&&(B=B.replace(n,"").replace(i,`
`)),z.push({type:"Feature",geometry:{type:"Point",coordinates:H.lonlat},properties:{symbol:f(F),angle:P(F),text:B}})}}return{type:"FeatureCollection",features:z}}function c(p,S){return C.isArrayOrTypedArray(p)?S?function(M){return y(p[M])?+p[M]:0}:function(M){return p[M]}:p?function(){return p}:b}function b(){return""}function v(p){return p[0]===a}function l(p,S){var M;if(C.isArrayOrTypedArray(p)&&C.isArrayOrTypedArray(S)){M=["step",["get","point_count"],p[0]];for(var R=1;R<p.length;R++)M.push(S[R-1],p[R])}else M=p;return M}},76645:function(W,V,e){var y=e(71828),C=e(34098),a=e(49508),L=e(11058),x=e(82410),h=e(28908),d=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];W.exports=function(n,i,s,o){function m(E,A){return y.coerce(n,i,d,E,A)}function c(E,A){return y.coerce2(n,i,d,E,A)}var b=r(n,i,m);if(!b){i.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),C.hasLines(i)&&(L(n,i,s,o,m,{noDash:!0}),m("connectgaps")),C.hasMarkers(i)){a(n,i,s,o,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var v=i.marker;v.symbol!=="circle"&&(y.isArrayOrTypedArray(v.size)&&(v.size=v.size[0]),y.isArrayOrTypedArray(v.color)&&(v.color=v.color[0]))}var l=c("cluster.maxzoom"),p=c("cluster.step"),S=c("cluster.color",i.marker&&i.marker.color||s),M=c("cluster.size"),R=c("cluster.opacity"),T=l!==!1||p!==!1||S!==!1||M!==!1||R!==!1;m("cluster.enabled",T),C.hasText(i)&&x(n,i,o,m,{noSelect:!0,font:{family:t.indexOf(o.font.family)!==-1?o.font.family:"Open Sans Regular",size:o.font.size,color:o.font.color}}),m("fill"),i.fill!=="none"&&h(n,i,s,m),y.coerceSelectionMarkerOpacity(i,m)};function r(u,n,i){var s=i("lon")||[],o=i("lat")||[],m=Math.min(s.length,o.length);return n._length=m,m}},53353:function(W){W.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e}},15636:function(W,V,e){var y=e(89298);W.exports=function(a,L,x){var h={},d=x[L.subplot]._subplot,t=d.mockAxis,r=a.lonlat;return h.lonLabel=y.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=y.tickText(t,t.c2l(r[1]),!0).text,h}},28178:function(W,V,e){var y=e(30211),C=e(71828),a=e(34603),L=C.fillText,x=e(50606).BADNUM,h=e(77734).traceLayerPrefix;function d(r,u,n){var i=r.cd,s=i[0].trace,o=r.xa,m=r.ya,c=r.subplot,b=[],v=h+s.uid+"-circle",l=s.cluster&&s.cluster.enabled;if(l){var p=c.map.queryRenderedFeatures(null,{layers:[v]});b=p.map(function(_){return _.id})}var S=u>=0?Math.floor((u+180)/360):Math.ceil((u-180)/360),M=S*360,R=u-M;function T(_){var B=_.lonlat;if(B[0]===x||l&&b.indexOf(_.i+1)===-1)return 1/0;var N=C.modHalf(B[0],360),O=B[1],U=c.project([N,O]),K=U.x-o.c2p([R,O]),re=U.y-m.c2p([N,n]),ae=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(K*K+re*re)-ae,1-3/ae)}if(y.getClosest(i,T,r),r.index!==!1){var E=i[r.index],A=E.lonlat,f=[C.modHalf(A[0],360)+M,A[1]],P=o.c2p(f),w=m.c2p(f),z=E.mrc||1;r.x0=P-z,r.x1=P+z,r.y0=w-z,r.y1=w+z;var F={};F[s.subplot]={_subplot:c};var H=s._module.formatLabels(E,s,F);return r.lonLabel=H.lonLabel,r.latLabel=H.latLabel,r.color=a(s,E),r.extraText=t(s,E,i[0].t.labels),r.hovertemplate=s.hovertemplate,[r]}}function t(r,u,n){if(r.hovertemplate)return;var i=u.hi||r.hoverinfo,s=i.split("+"),o=s.indexOf("all")!==-1,m=s.indexOf("lon")!==-1,c=s.indexOf("lat")!==-1,b=u.lonlat,v=[];function l(p){return p+""}return o||m&&c?v.push("("+l(b[1])+", "+l(b[0])+")"):m?v.push(n.lon+l(b[0])):c&&v.push(n.lat+l(b[1])),(o||s.indexOf("text")!==-1)&&L(u,r,v),v.join("<br>")}W.exports={hoverPoints:d,getExtraText:t}},20467:function(W,V,e){W.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(y,C){if(C){var a=C[0].trace;a._glTrace.update(C)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(W,V,e){var y=e(71828),C=e(15790),a=e(77734).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function x(d,t,r,u){this.type="scattermapbox",this.subplot=d,this.uid=t,this.clusterEnabled=r,this.isHidden=u,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var h=x.prototype;h.addSource=function(d,t,r){var u={type:"geojson",data:t.geojson};r&&r.enabled&&y.extendFlat(u,{cluster:!0,clusterMaxZoom:r.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[d]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[d],u)},h.setSourceData=function(d,t){this.subplot.map.getSource(this.sourceIds[d]).setData(t.geojson)},h.addLayer=function(d,t,r){var u={type:t.type,id:this.layerIds[d],source:this.sourceIds[d],layout:t.layout,paint:t.paint};t.filter&&(u.filter=t.filter);for(var n=this.layerIds[d],i,s=this.subplot.getMapLayers(),o=0;o<s.length;o++)if(s[o].id===n){i=!0;break}i?(this.subplot.setOptions(n,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",u.paint)):this.subplot.addLayer(u,r)},h.update=function(t){var r=t[0].trace,u=this.subplot,n=u.map,i=C(u.gd,t),s=u.belowLookup["trace-"+this.uid],o=!!(r.cluster&&r.cluster.enabled),m=!!this.clusterEnabled,c=this;function b(A){A||c.addSource("circle",i.circle,r.cluster);for(var f=L.cluster,P=0;P<f.length;P++){var w=f[P],z=i[w];c.addLayer(w,z,s)}}function v(A){for(var f=L.cluster,P=f.length-1;P>=0;P--){var w=f[P];n.removeLayer(c.layerIds[w])}A||n.removeSource(c.sourceIds.circle)}function l(A){for(var f=L.nonCluster,P=0;P<f.length;P++){var w=f[P],z=i[w];A||c.addSource(w,z),c.addLayer(w,z,s)}}function p(A){for(var f=L.nonCluster,P=f.length-1;P>=0;P--){var w=f[P];n.removeLayer(c.layerIds[w]),A||n.removeSource(c.sourceIds[w])}}function S(A){m?v(A):p(A)}function M(A){o?b(A):l(A)}function R(){for(var A=o?L.cluster:L.nonCluster,f=0;f<A.length;f++){var P=A[f],w=i[P];w&&(u.setOptions(c.layerIds[P],"setLayoutProperty",w.layout),w.layout.visibility==="visible"&&(P!=="cluster"&&c.setSourceData(P,w),u.setOptions(c.layerIds[P],"setPaintProperty",w.paint)))}}var T=this.isHidden,E=r.visible!==!0;E?T||S():T?E||M():m!==o?(S(),M()):(this.below!==s&&(S(!0),M(!0)),R()),this.clusterEnabled=o,this.isHidden=E,this.below=s,t[0].trace._glTrace=this},h.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?L.cluster:L.nonCluster,u=r.length-1;u>=0;u--){var n=r[u];t.removeLayer(this.layerIds[n]),t.removeSource(this.sourceIds[n])}},W.exports=function(t,r){var u=r[0].trace,n=u.cluster&&u.cluster.enabled,i=u.visible!==!0,s=new x(t,u.uid,n,i),o=C(t.gd,r),m=s.below=t.belowLookup["trace-"+u.uid],c,b,v;if(n)for(s.addSource("circle",o.circle,u.cluster),c=0;c<L.cluster.length;c++)b=L.cluster[c],v=o[b],s.addLayer(b,v,m);else for(c=0;c<L.nonCluster.length;c++)b=L.nonCluster[c],v=o[b],s.addSource(b,v,u.cluster),s.addLayer(b,v,m);return r[0].trace._glTrace=s,s}},86387:function(W,V,e){var y=e(71828),C=e(34098),a=e(50606).BADNUM;W.exports=function(x,h){var d=x.cd,t=x.xaxis,r=x.yaxis,u=[],n=d[0].trace,i;if(!C.hasMarkers(n))return[];if(h===!1)for(i=0;i<d.length;i++)d[i].selected=0;else for(i=0;i<d.length;i++){var s=d[i],o=s.lonlat;if(o[0]!==a){var m=[y.modHalf(o[0],360),o[1]],c=[t.c2p(m),r.c2p(m)];h.contains(c,null,i,x)?(u.push({pointNumber:i,lon:o[0],lat:o[1]}),s.selected=1):s.selected=0}}return u}},81245:function(W,V,e){var y=e(5386).fF,C=e(5386).si,a=e(1426).extendFlat,L=e(82196),x=e(9012),h=L.line;W.exports={mode:L.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:C({editType:"plot"},{keys:["r","theta","text"]}),hovertext:L.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:a({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:a({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:a({},x.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:L.hoveron,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},26442:function(W,V,e){var y=e(92770),C=e(50606).BADNUM,a=e(89298),L=e(36922),x=e(75225),h=e(66279),d=e(47761).calcMarkerSize;W.exports=function(r,u){for(var n=r._fullLayout,i=u.subplot,s=n[i].radialaxis,o=n[i].angularaxis,m=s.makeCalcdata(u,"r"),c=o.makeCalcdata(u,"theta"),b=u._length,v=new Array(b),l=0;l<b;l++){var p=m[l],S=c[l],M=v[l]={};y(p)&&y(S)?(M.r=p,M.theta=S):M.r=C}var R=d(u,b);return u._extremes.x=a.findExtremes(s,m,{ppad:R}),L(r,u),x(v,u),h(v,u),v}},22184:function(W,V,e){var y=e(71828),C=e(34098),a=e(49508),L=e(11058),x=e(94039),h=e(82410),d=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function u(i,s,o,m){function c(l,p){return y.coerce(i,s,r,l,p)}var b=n(i,s,m,c);if(!b){s.visible=!1;return}c("thetaunit"),c("mode",b<t?"lines+markers":"lines"),c("text"),c("hovertext"),s.hoveron!=="fills"&&c("hovertemplate"),C.hasLines(s)&&(L(i,s,o,m,c,{backoff:!0}),x(i,s,c),c("connectgaps")),C.hasMarkers(s)&&a(i,s,o,m,c,{gradient:!0}),C.hasText(s)&&(c("texttemplate"),h(i,s,m,c));var v=[];(C.hasMarkers(s)||C.hasText(s))&&(c("cliponaxis"),c("marker.maxdisplayed"),v.push("points")),c("fill"),s.fill!=="none"&&(d(i,s,o,c),C.hasLines(s)||x(i,s,c)),(s.fill==="tonext"||s.fill==="toself")&&v.push("fills"),c("hoveron",v.join("+")||"points"),y.coerceSelectionMarkerOpacity(s,c)}function n(i,s,o,m){var c=m("r"),b=m("theta"),v;if(c)b?v=Math.min(c.length,b.length):(v=c.length,m("theta0"),m("dtheta"));else{if(!b)return 0;v=s.theta.length,m("r0"),m("dr")}return s._length=v,v}W.exports={handleRThetaDefaults:n,supplyDefaults:u}},98608:function(W,V,e){var y=e(71828),C=e(89298);W.exports=function(L,x,h){var d={},t=h[x.subplot]._subplot,r,u;t?(r=t.radialAxis,u=t.angularAxis):(t=h[x.subplot],r=t.radialaxis,u=t.angularaxis);var n=r.c2l(L.r);d.rLabel=C.tickText(r,n,!0).text;var i=u.thetaunit==="degrees"?y.rad2deg(L.theta):L.theta;return d.thetaLabel=C.tickText(u,i,!0).text,d}},59150:function(W,V,e){var y=e(33720);function C(L,x,h,d){var t=y(L,x,h,d);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var u=L.subplot,n=r.cd[r.index],i=r.trace;if(u.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,i,u,r),r.hovertemplate=i.hovertemplate,t}}function a(L,x,h,d){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="r",r._hovertitle="";var u={};u[x.subplot]={_subplot:h};var n=x._module.formatLabels(L,x,u);d.rLabel=n.rLabel,d.thetaLabel=n.thetaLabel;var i=L.hi||x.hoverinfo,s=[];function o(c,b){s.push(c._hovertitle+": "+b)}if(!x.hovertemplate){var m=i.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&o(t,d.rLabel),m.indexOf("theta")!==-1&&o(r,d.thetaLabel),m.indexOf("text")!==-1&&d.text&&(s.push(d.text),delete d.text),d.extraText=s.join("<br>")}}W.exports={hoverPoints:C,makeHoverPointText:a}},91271:function(W,V,e){W.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(W,V,e){var y=e(32663),C=e(50606).BADNUM;W.exports=function(L,x,h){for(var d=x.layers.frontplot.select("g.scatterlayer"),t=x.xaxis,r=x.yaxis,u={xaxis:t,yaxis:r,plot:x.framework,layerClipId:x._hasClipOnAxisFalse?x.clipIds.forTraces:null},n=x.radialAxis,i=x.angularAxis,s=0;s<h.length;s++)for(var o=h[s],m=0;m<o.length;m++){m===0&&(o[0].trace._xA=t,o[0].trace._yA=r);var c=o[m],b=c.r;if(b===C)c.x=c.y=C;else{var v=n.c2g(b),l=i.c2g(c.theta);c.x=v*Math.cos(l),c.y=v*Math.sin(l)}}y(L,u,h,d)}},53286:function(W,V,e){var y=e(81245),C=e(42341),a=e(5386).si;W.exports={mode:y.mode,r:y.r,theta:y.theta,r0:y.r0,dr:y.dr,theta0:y.theta0,dtheta:y.dtheta,thetaunit:y.thetaunit,text:y.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:y.hovertext,hovertemplate:y.hovertemplate,line:C.line,connectgaps:C.connectgaps,marker:C.marker,fill:C.fill,fillcolor:C.fillcolor,textposition:C.textposition,textfont:C.textfont,hoverinfo:y.hoverinfo,selected:y.selected,unselected:y.unselected}},65746:function(W,V,e){W.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(W,V,e){var y=e(36922),C=e(47761).calcMarkerSize,a=e(19635),L=e(89298),x=e(78232).TOO_MANY_POINTS;W.exports=function(d,t){var r=d._fullLayout,u=t.subplot,n=r[u].radialaxis,i=r[u].angularaxis,s=t._r=n.makeCalcdata(t,"r"),o=t._theta=i.makeCalcdata(t,"theta"),m=t._length,c={};m<s.length&&(s=s.slice(0,m)),m<o.length&&(o=o.slice(0,m)),c.r=s,c.theta=o,y(d,t);var b=c.opts=a.style(d,t),v;return m<x?v=C(t,m):b.marker&&(v=2*(b.marker.sizeAvg||Math.max(b.marker.size,3))),t._extremes.x=L.findExtremes(n,s,{ppad:v}),[{x:!1,y:!1,t:c,trace:t}]}},75485:function(W,V,e){var y=e(71828),C=e(34098),a=e(22184).handleRThetaDefaults,L=e(49508),x=e(11058),h=e(82410),d=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);W.exports=function(n,i,s,o){function m(b,v){return y.coerce(n,i,r,b,v)}var c=a(n,i,o,m);if(!c){i.visible=!1;return}m("thetaunit"),m("mode",c<t?"lines+markers":"lines"),m("text"),m("hovertext"),i.hoveron!=="fills"&&m("hovertemplate"),C.hasLines(i)&&(x(n,i,s,o,m),m("connectgaps")),C.hasMarkers(i)&&L(n,i,s,o,m,{noAngleRef:!0,noStandOff:!0}),C.hasText(i)&&(m("texttemplate"),h(n,i,o,m)),m("fill"),i.fill!=="none"&&d(n,i,s,m),y.coerceSelectionMarkerOpacity(i,m)}},46255:function(W,V,e){var y=e(98608);W.exports=function(a,L,x){var h=a.i;return"r"in a||(a.r=L._r[h]),"theta"in a||(a.theta=L._theta[h]),y(a,L,x)}},29347:function(W,V,e){var y=e(20794),C=e(59150).makeHoverPointText;function a(L,x,h,d){var t=L.cd,r=t[0].t,u=r.r,n=r.theta,i=y.hoverPoints(L,x,h,d);if(!(!i||i[0].index===!1)){var s=i[0];if(s.index===void 0)return i;var o=L.subplot,m=s.cd[s.index],c=s.trace;if(m.r=u[s.index],m.theta=n[s.index],!!o.isPtInside(m))return s.xLabelVal=void 0,s.yLabelVal=void 0,C(m,c,o,s),i}}W.exports={hoverPoints:a}},21461:function(W,V,e){var y=e(65746);y.plot=e(49741),W.exports=y},49741:function(W,V,e){var y=e(88294),C=e(92770),a=e(26787),L=e(38967),x=e(19635),h=e(71828),d=e(78232).TOO_MANY_POINTS,t={};W.exports=function(u,n,i){if(i.length){var s=n.radialAxis,o=n.angularAxis,m=L(u,n);return i.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var b=c[0],v=b.trace,l=b.t,p=v._length,S=l.r,M=l.theta,R=l.opts,T,E=S.slice(),A=M.slice();for(T=0;T<S.length;T++)n.isPtInside({r:S[T],theta:M[T]})||(E[T]=NaN,A[T]=NaN);var f=new Array(p*2),P=Array(p),w=Array(p);for(T=0;T<p;T++){var z=E[T],F,H;if(C(z)){var _=s.c2g(z),B=o.c2g(A[T],v.thetaunit);F=_*Math.cos(B),H=_*Math.sin(B)}else F=H=NaN;P[T]=f[T*2]=F,w[T]=f[T*2+1]=H}l.tree=y(f),R.marker&&p>=d&&(R.marker.cluster=l.tree),R.marker&&(R.markerSel.positions=R.markerUnsel.positions=R.marker.positions=f),R.line&&f.length>1&&h.extendFlat(R.line,x.linePositions(u,v,f)),R.text&&(h.extendFlat(R.text,{positions:f},x.textPosition(u,v,R.text,R.marker)),h.extendFlat(R.textSel,{positions:f},x.textPosition(u,v,R.text,R.markerSel)),h.extendFlat(R.textUnsel,{positions:f},x.textPosition(u,v,R.text,R.markerUnsel))),R.fill&&!m.fill2d&&(m.fill2d=!0),R.marker&&!m.scatter2d&&(m.scatter2d=!0),R.line&&!m.line2d&&(m.line2d=!0),R.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(R.line),m.fillOptions.push(R.fill),m.markerOptions.push(R.marker),m.markerSelectedOptions.push(R.markerSel),m.markerUnselectedOptions.push(R.markerUnsel),m.textOptions.push(R.text),m.textSelectedOptions.push(R.textSel),m.textUnselectedOptions.push(R.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),l.x=P,l.y=w,l.rawx=P,l.rawy=w,l.r=S,l.theta=M,l.positions=f,l._scene=m,l.index=m.count,m.count++}}),a(u,n,i)}},W.exports.reglPrecompiled=t},48300:function(W,V,e){var y=e(5386).fF,C=e(5386).si,a=e(1426).extendFlat,L=e(82196),x=e(9012),h=L.line;W.exports={mode:L.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:C({editType:"plot"},{keys:["real","imag","text"]}),hovertext:L.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:a({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:a({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:a({},x.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:L.hoveron,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},30621:function(W,V,e){var y=e(92770),C=e(50606).BADNUM,a=e(36922),L=e(75225),x=e(66279),h=e(47761).calcMarkerSize;W.exports=function(t,r){for(var u=t._fullLayout,n=r.subplot,i=u[n].realaxis,s=u[n].imaginaryaxis,o=i.makeCalcdata(r,"real"),m=s.makeCalcdata(r,"imag"),c=r._length,b=new Array(c),v=0;v<c;v++){var l=o[v],p=m[v],S=b[v]={};y(l)&&y(p)?(S.real=l,S.imag=p):S.real=C}return h(r,c),a(t,r),L(b,r),x(b,r),b}},65269:function(W,V,e){var y=e(71828),C=e(34098),a=e(49508),L=e(11058),x=e(94039),h=e(82410),d=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);W.exports=function(i,s,o,m){function c(l,p){return y.coerce(i,s,r,l,p)}var b=u(i,s,m,c);if(!b){s.visible=!1;return}c("mode",b<t?"lines+markers":"lines"),c("text"),c("hovertext"),s.hoveron!=="fills"&&c("hovertemplate"),C.hasLines(s)&&(L(i,s,o,m,c,{backoff:!0}),x(i,s,c),c("connectgaps")),C.hasMarkers(s)&&a(i,s,o,m,c,{gradient:!0}),C.hasText(s)&&(c("texttemplate"),h(i,s,m,c));var v=[];(C.hasMarkers(s)||C.hasText(s))&&(c("cliponaxis"),c("marker.maxdisplayed"),v.push("points")),c("fill"),s.fill!=="none"&&(d(i,s,o,c),C.hasLines(s)||x(i,s,c)),(s.fill==="tonext"||s.fill==="toself")&&v.push("fills"),c("hoveron",v.join("+")||"points"),y.coerceSelectionMarkerOpacity(s,c)};function u(n,i,s,o){var m=o("real"),c=o("imag"),b;return m&&c&&(b=Math.min(m.length,c.length)),i._length=b,b}},62047:function(W,V,e){var y=e(89298);W.exports=function(a,L,x){var h={},d=x[L.subplot]._subplot;return h.realLabel=y.tickText(d.radialAxis,a.real,!0).text,h.imagLabel=y.tickText(d.angularAxis,a.imag,!0).text,h}},11350:function(W,V,e){var y=e(33720);function C(L,x,h,d){var t=y(L,x,h,d);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var u=L.subplot,n=r.cd[r.index],i=r.trace;if(u.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,i,u,r),r.hovertemplate=i.hovertemplate,t}}function a(L,x,h,d){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="real",r._hovertitle="imag";var u={};u[x.subplot]={_subplot:h};var n=x._module.formatLabels(L,x,u);d.realLabel=n.realLabel,d.imagLabel=n.imagLabel;var i=L.hi||x.hoverinfo,s=[];function o(c,b){s.push(c._hovertitle+": "+b)}if(!x.hovertemplate){var m=i.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&o(t,d.realLabel),m.indexOf("imag")!==-1&&o(r,d.imagLabel),m.indexOf("text")!==-1&&d.text&&(s.push(d.text),delete d.text),d.extraText=s.join("<br>")}}W.exports={hoverPoints:C,makeHoverPointText:a}},85956:function(W,V,e){W.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(W,V,e){var y=e(32663),C=e(50606).BADNUM,a=e(23893),L=a.smith;W.exports=function(h,d,t){for(var r=d.layers.frontplot.select("g.scatterlayer"),u=d.xaxis,n=d.yaxis,i={xaxis:u,yaxis:n,plot:d.framework,layerClipId:d._hasClipOnAxisFalse?d.clipIds.forTraces:null},s=0;s<t.length;s++)for(var o=t[s],m=0;m<o.length;m++){m===0&&(o[0].trace._xA=u,o[0].trace._yA=n);var c=o[m],b=c.real;if(b===C)c.x=c.y=C;else{var v=L([b,c.imag]);c.x=v[0],c.y=v[1]}}y(h,i,t,r)}},50413:function(W,V,e){var y=e(5386).fF,C=e(5386).si,a=e(82196),L=e(9012),x=e(50693),h=e(79952).P,d=e(1426).extendFlat,t=a.marker,r=a.line,u=t.line;W.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:d({},a.mode,{dflt:"markers"}),text:d({},a.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:d({},a.hovertext,{}),line:{color:r.color,width:r.width,dash:h,backoff:r.backoff,shape:d({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:d({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:d({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:d({width:u.width,editType:"calc"},x("marker.line")),gradient:t.gradient,editType:"calc"},x("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:d({},L.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:y()}},54337:function(W,V,e){var y=e(92770),C=e(36922),a=e(75225),L=e(66279),x=e(47761).calcMarkerSize,h=["a","b","c"],d={a:["b","c"],b:["a","c"],c:["a","b"]};W.exports=function(r,u){var n=r._fullLayout[u.subplot],i=n.sum,s=u.sum||i,o={a:u.a,b:u.b,c:u.c},m,c,b,v,l,p;for(m=0;m<h.length;m++)if(b=h[m],!o[b]){for(l=o[d[b][0]],p=o[d[b][1]],v=new Array(l.length),c=0;c<l.length;c++)v[c]=s-l[c]-p[c];o[b]=v}var S=u._length,M=new Array(S),R,T,E,A,f,P;for(m=0;m<S;m++)R=o.a[m],T=o.b[m],E=o.c[m],y(R)&&y(T)&&y(E)?(R=+R,T=+T,E=+E,A=i/(R+T+E),A!==1&&(R*=A,T*=A,E*=A),P=R,f=E-T,M[m]={x:f,y:P,a:R,b:T,c:E}):M[m]={x:!1,y:!1};return x(u,S),C(r,u),a(M,u),L(M,u),M}},46008:function(W,V,e){var y=e(71828),C=e(47581),a=e(34098),L=e(49508),x=e(11058),h=e(94039),d=e(82410),t=e(28908),r=e(50413);W.exports=function(n,i,s,o){function m(M,R){return y.coerce(n,i,r,M,R)}var c=m("a"),b=m("b"),v=m("c"),l;if(c?(l=c.length,b?(l=Math.min(l,b.length),v&&(l=Math.min(l,v.length))):v?l=Math.min(l,v.length):l=0):b&&v&&(l=Math.min(b.length,v.length)),!l){i.visible=!1;return}i._length=l,m("sum"),m("text"),m("hovertext"),i.hoveron!=="fills"&&m("hovertemplate");var p=l<C.PTS_LINESONLY?"lines+markers":"lines";m("mode",p),a.hasLines(i)&&(x(n,i,s,o,m,{backoff:!0}),h(n,i,m),m("connectgaps")),a.hasMarkers(i)&&L(n,i,s,o,m,{gradient:!0}),a.hasText(i)&&(m("texttemplate"),d(n,i,o,m));var S=[];(a.hasMarkers(i)||a.hasText(i))&&(m("cliponaxis"),m("marker.maxdisplayed"),S.push("points")),m("fill"),i.fill!=="none"&&(t(n,i,s,m),a.hasLines(i)||h(n,i,m)),(i.fill==="tonext"||i.fill==="toself")&&S.push("fills"),m("hoveron",S.join("+")||"points"),y.coerceSelectionMarkerOpacity(i,m)}},4524:function(W){W.exports=function(e,y,C,a,L){if(y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),a[L]){var x=a[L];e.a=x.a,e.b=x.b,e.c=x.c}else e.a=y.a,e.b=y.b,e.c=y.c;return e}},93645:function(W,V,e){var y=e(89298);W.exports=function(a,L,x){var h={},d=x[L.subplot]._subplot;return h.aLabel=y.tickText(d.aaxis,a.a,!0).text,h.bLabel=y.tickText(d.baxis,a.b,!0).text,h.cLabel=y.tickText(d.caxis,a.c,!0).text,h}},47250:function(W,V,e){var y=e(33720);W.exports=function(a,L,x,h){var d=y(a,L,x,h);if(!d||d[0].index===!1)return;var t=d[0];if(t.index===void 0){var r=1-t.y0/a.ya._length,u=a.xa._length,n=u*r/2,i=u-n;return t.x0=Math.max(Math.min(t.x0,i),n),t.x1=Math.max(Math.min(t.x1,i),n),d}var s=t.cd[t.index],o=t.trace,m=t.subplot;t.a=s.a,t.b=s.b,t.c=s.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var c={};c[o.subplot]={_subplot:m};var b=o._module.formatLabels(s,o,c);t.aLabel=b.aLabel,t.bLabel=b.bLabel,t.cLabel=b.cLabel;var v=s.hi||o.hoverinfo,l=[];function p(M,R){l.push(M._hovertitle+": "+R)}if(!o.hovertemplate){var S=v.split("+");S.indexOf("all")!==-1&&(S=["a","b","c"]),S.indexOf("a")!==-1&&p(m.aaxis,t.aLabel),S.indexOf("b")!==-1&&p(m.baxis,t.bLabel),S.indexOf("c")!==-1&&p(m.caxis,t.cLabel)}return t.extraText=l.join("<br>"),t.hovertemplate=o.hovertemplate,d}},52979:function(W,V,e){W.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(W,V,e){var y=e(32663);W.exports=function(a,L,x){var h=L.plotContainer;h.select(".scatterlayer").selectAll("*").remove();for(var d=L.xaxis,t=L.yaxis,r={xaxis:d,yaxis:t,plot:h,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},u=L.layers.frontplot.select("g.scatterlayer"),n=0;n<x.length;n++){var i=x[n];i.length&&(i[0].trace._xA=d,i[0].trace._yA=t)}y(a,r,x,u)}},46880:function(W,V,e){var y=e(82196),C=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,x=e(42341),h=e(85555).idRegex,d=e(44467).templatedArray,t=e(1426).extendFlat,r=y.marker,u=r.line,n=t(C("marker.line",{editTypeOverride:"calc"}),{width:t({},u.width,{editType:"calc"}),editType:"calc"}),i=t(C("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:n,editType:"calc"});i.color.editType=i.cmin.editType=i.cmax.editType="style";function s(o){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:h[o],editType:"plot"}}}W.exports={dimensions:d("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},x.text,{}),hovertext:t({},x.hovertext,{}),hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),marker:i,xaxes:s("x"),yaxes:s("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:x.selected.marker,editType:"calc"},unselected:{marker:x.unselected.marker,editType:"calc"},opacity:x.opacity}},65017:function(W,V,e){var y=e(73972),C=e(83312);W.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},y.register(C)},16947:function(W,V,e){var y=e(46075),C=e(73972),a=e(79749),L=e(27659).a0,x=e(93612),h=e(41675).getFromId,d=e(89298).shouldShowZeroLine,t="splom",r={};function u(c){var b=c._fullLayout,v=C.getModule(t),l=L(c.calcdata,v)[0],p=a(c,["ANGLE_instanced_arrays","OES_element_index_uint"],r);p&&(b._hasOnlyLargeSploms&&s(c),v.plot(c,{},l))}function n(c){var b=c.calcdata,v=c._fullLayout;v._hasOnlyLargeSploms&&s(c);for(var l=0;l<b.length;l++){var p=b[l][0],S=p.trace,M=v._splomScenes[S.uid];S.type==="splom"&&M&&M.matrix&&i(c,S,M)}}function i(c,b,v){for(var l=v.matrixOptions.data.length,p=b._visibleDims,S=v.viewOpts.ranges=new Array(l),M=0;M<p.length;M++){var R=p[M],T=S[M]=new Array(4),E=h(c,b._diag[R][0]);E&&(T[0]=E.r2l(E.range[0]),T[2]=E.r2l(E.range[1]));var A=h(c,b._diag[R][1]);A&&(T[1]=A.r2l(A.range[0]),T[3]=A.r2l(A.range[1]))}v.selectBatch.length||v.unselectBatch.length?v.matrix.update({ranges:S},{ranges:S}):v.matrix.update({ranges:S})}function s(c){var b=c._fullLayout,v=b._glcanvas.data()[0].regl,l=b._splomGrid;l||(l=b._splomGrid=y(v)),l.update(o(c))}function o(c){var b=c._context.plotGlPixelRatio,v=c._fullLayout,l=v._size,p=[0,0,v.width*b,v.height*b],S={},M;function R(K,re,ae,ue,ve,ee){ae*=b,ue*=b,ve*=b,ee*=b;var J=re[K+"color"],Q=re[K+"width"],X=String(J+Q);X in S?S[X].data.push(NaN,NaN,ae,ue,ve,ee):S[X]={data:[ae,ue,ve,ee],join:"rect",thickness:Q*b,color:J,viewport:p,range:p,overlay:!1}}for(M in v._splomSubplots){var T=v._plots[M],E=T.xaxis,A=T.yaxis,f=E._gridVals,P=A._gridVals,w=E._offset,z=E._length,F=A._length,H=l.b+A.domain[0]*l.h,_=-A._m,B=-_*A.r2l(A.range[0],A.calendar),N,O;if(E.showgrid)for(M=0;M<f.length;M++)N=w+E.l2p(f[M].x),R("grid",E,N,H,N,H+F);if(A.showgrid)for(M=0;M<P.length;M++)O=H+B+_*P[M].x,R("grid",A,w,O,w+z,O);d(c,E,A)&&(N=w+E.l2p(0),R("zeroline",E,N,H,N,H+F)),d(c,A,E)&&(O=H+B+0,R("zeroline",A,w,O,w+z,O))}var U=[];for(M in S)U.push(S[M]);return U}function m(c,b,v,l){var p={},S;if(l._splomScenes){for(S=0;S<c.length;S++){var M=c[S];M.type==="splom"&&(p[M.uid]=1)}for(S=0;S<v.length;S++){var R=v[S];if(!p[R.uid]){var T=l._splomScenes[R.uid];T&&T.destroy&&T.destroy(),l._splomScenes[R.uid]=null,delete l._splomScenes[R.uid]}}}Object.keys(l._splomScenes||{}).length===0&&delete l._splomScenes,l._splomGrid&&!b._hasOnlyLargeSploms&&l._hasOnlyLargeSploms&&(l._splomGrid.destroy(),l._splomGrid=null,delete l._splomGrid),x.clean(c,b,v,l)}W.exports={name:t,attr:x.attr,attrRegex:x.attrRegex,layoutAttributes:x.layoutAttributes,supplyLayoutDefaults:x.supplyLayoutDefaults,drawFramework:x.drawFramework,plot:u,drag:n,updateGrid:s,clean:m,updateFx:x.updateFx,toSVG:x.toSVG,reglPrecompiled:r}},87625:function(W,V,e){var y=e(71828),C=e(41675),a=e(47761).calcMarkerSize,L=e(47761).calcAxisExpansion,x=e(36922),h=e(19635).markerSelection,d=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;W.exports=function(i,s){var o=s.dimensions,m=s._length,c={},b=c.cdata=[],v=c.data=[],l=s._visibleDims=[],p,S,M,R,T;function E(z,F){for(var H=z.makeCalcdata({v:F.values,vcalendar:s.calendar},"v"),_=0;_<H.length;_++)H[_]=H[_]===r?NaN:H[_];b.push(H),v.push(z.type==="log"?y.simpleMap(H,z.c2l):H)}for(p=0;p<o.length;p++)if(M=o[p],M.visible){if(R=C.getFromId(i,s._diag[p][0]),T=C.getFromId(i,s._diag[p][1]),R&&T&&R.type!==T.type){y.log("Skipping splom dimension "+p+" with conflicting axis types");continue}R?(E(R,M),T&&T.type==="category"&&(T._categories=R._categories.slice())):E(T,M),l.push(p)}x(i,s),y.extendFlat(c,d(i,s));var A=b.length,f=A*m>u,P;for(f?P=c.sizeAvg||Math.max(c.size,3):P=a(s,m),S=0;S<l.length;S++)p=l[S],M=o[p],R=C.getFromId(i,s._diag[p][0])||{},T=C.getFromId(i,s._diag[p][1])||{},L(i,s,R,T,b[S],b[S],P);var w=t(i,s);return w.matrix||(w.matrix=!0),w.matrixOptions=c,w.selectedOptions=h(i,s,s.selected),w.unselectedOptions=h(i,s,s.unselected),[{x:!1,y:!1,t:{},trace:s}]}},25784:function(W,V,e){var y=e(71828),C=e(85501),a=e(46880),L=e(34098),x=e(49508),h=e(94397),d=e(68645).isOpenSymbol;W.exports=function(n,i,s,o){function m(R,T){return y.coerce(n,i,a,R,T)}var c=C(n,i,{name:"dimensions",handleItemDefaults:t}),b=m("diagonal.visible"),v=m("showupperhalf"),l=m("showlowerhalf"),p=h(i,c,"values");if(!p||!b&&!v&&!l){i.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),x(n,i,s,o,m,{noAngleRef:!0,noStandOff:!0});var S=d(i.marker.symbol),M=L.isBubble(i);m("marker.line.width",S||M?1:0),r(n,i,o,m),y.coerceSelectionMarkerOpacity(i,m)};function t(u,n){function i(o,m){return y.coerce(u,n,a.dimensions,o,m)}i("label");var s=i("values");s&&s.length?i("visible"):n.visible=!1,i("axis.type"),i("axis.matches")}function r(u,n,i,s){var o=n.dimensions,m=o.length,c=n.showupperhalf,b=n.showlowerhalf,v=n.diagonal.visible,l,p,S=new Array(m),M=new Array(m);for(l=0;l<m;l++){var R=l?l+1:"";S[l]="x"+R,M[l]="y"+R}var T=s("xaxes",S),E=s("yaxes",M),A=n._diag=new Array(m);n._xaxes={},n._yaxes={};var f=[],P=[];function w(K,re,ae,ue){if(K){var ve=K.charAt(0),ee=i._splomAxes[ve];if(n["_"+ve+"axes"][K]=1,ue.push(K),!(K in ee)){var J=ee[K]={};ae&&(J.label=ae.label||"",ae.visible&&ae.axis&&(ae.axis.type&&(J.type=ae.axis.type),ae.axis.matches&&(J.matches=re)))}}}var z=!v&&!b,F=!v&&!c;for(n._axesDim={},l=0;l<m;l++){var H=o[l],_=l===0,B=l===m-1,N=_&&z||B&&F?void 0:T[l],O=_&&F||B&&z?void 0:E[l];w(N,O,H,f),w(O,N,H,P),A[l]=[N,O],n._axesDim[N]=l,n._axesDim[O]=l}for(l=0;l<f.length;l++)for(p=0;p<P.length;p++){var U=f[l]+P[p];(l>p&&c||l<p&&b||l===p&&(v||!b||!c))&&(i._splomSubplots[U]=1)}(!b||!v&&c&&b)&&(i._splomGridDflt.xside="bottom",i._splomGridDflt.yside="left")}},28801:function(W,V,e){var y=e(71828),C=e(36922),a=e(19635).markerStyle;W.exports=function(x,h){var d=h.trace,t=x._fullLayout._splomScenes[d.uid];if(t){C(x,d),y.extendFlat(t.matrixOptions,a(x,d));var r=y.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(W,V){V.getDimIndex=function(y,C){for(var a=C._id,L=a.charAt(0),x={x:0,y:1}[L],h=y._visibleDims,d=0;d<h.length;d++){var t=h[d];if(y._diag[t][x]===a)return d}return!1}},8567:function(W,V,e){var y=e(35948),C=e(20794).calcHover;function a(L,x,h){var d=L.cd,t=d[0].trace,r=L.scene,u=r.matrixOptions.cdata,n=L.xa,i=L.ya,s=n.c2p(x),o=i.c2p(h),m=L.distance,c=y.getDimIndex(t,n),b=y.getDimIndex(t,i);if(c===!1||b===!1)return[L];for(var v=u[c],l=u[b],p,S,M=m,R=0;R<v.length;R++){var T=v[R],E=l[R],A=n.c2p(T)-s,f=i.c2p(E)-o,P=Math.sqrt(A*A+f*f);P<M&&(M=S=P,p=R)}return L.index=p,L.distance=M,L.dxy=S,p===void 0?[L]:[C(L,v,l,t)]}W.exports={hoverPoints:a}},6419:function(W,V,e){var y=e(65017);y.basePlotModule=e(16947),W.exports=y},79410:function(W,V,e){var y=e(60487),C=e(71828),a=e(41675),L=e(64505).selectMode;W.exports=function(d,t,r){if(r.length)for(var u=0;u<r.length;u++)x(d,r[u][0])};function x(h,d){var t=h._fullLayout,r=t._size,u=d.trace,n=d.t,i=t._splomScenes[u.uid],s=i.matrixOptions,o=s.cdata,m=t._glcanvas.data()[0].regl,c=t.dragmode,b,v,l,p,S;if(o.length!==0){s.lower=u.showupperhalf,s.upper=u.showlowerhalf,s.diagonal=u.diagonal.visible;var M=u._visibleDims,R=o.length,T=i.viewOpts={};for(T.ranges=new Array(R),T.domains=new Array(R),S=0;S<M.length;S++){l=M[S];var E=T.ranges[S]=new Array(4),A=T.domains[S]=new Array(4);b=a.getFromId(h,u._diag[l][0]),b&&(E[0]=b._rl[0],E[2]=b._rl[1],A[0]=b.domain[0],A[2]=b.domain[1]),v=a.getFromId(h,u._diag[l][1]),v&&(E[1]=v._rl[0],E[3]=v._rl[1],A[1]=v.domain[0],A[3]=v.domain[1])}var f=h._context.plotGlPixelRatio,P=r.l*f,w=r.b*f,z=r.w*f,F=r.h*f;T.viewport=[P,w,z+P,F+w],i.matrix===!0&&(i.matrix=y(m));var H=t.clickmode.indexOf("select")>-1,_=L(c)||!!u.selectedpoints||H,B=!0;if(_){var N=u._length;if(u.selectedpoints){i.selectBatch=u.selectedpoints;var O=u.selectedpoints,U={};for(l=0;l<O.length;l++)U[O[l]]=!0;var K=[];for(l=0;l<N;l++)U[l]||K.push(l);i.unselectBatch=K}var re=n.xpx=new Array(R),ae=n.ypx=new Array(R);for(S=0;S<M.length;S++){if(l=M[S],b=a.getFromId(h,u._diag[l][0]),b)for(re[S]=new Array(N),p=0;p<N;p++)re[S][p]=b.c2p(o[S][p]);if(v=a.getFromId(h,u._diag[l][1]),v)for(ae[S]=new Array(N),p=0;p<N;p++)ae[S][p]=v.c2p(o[S][p])}if(i.selectBatch.length||i.unselectBatch.length){var ue=C.extendFlat({},s,i.unselectedOptions,T),ve=C.extendFlat({},s,i.selectedOptions,T);i.matrix.update(ue,ve),B=!1}}else n.xpx=n.ypx=null;if(B){var ee=C.extendFlat({},s,T);i.matrix.update(ee,null)}}}},10164:function(W,V,e){var y=e(71828);W.exports=function(a,L){var x=a._fullLayout,h=L.uid,d=x._splomScenes;d||(d=x._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},u=d[L.uid];return u||(u=d[h]=y.extendFlat({},t,r),u.draw=function(){u.matrix&&u.matrix.draw&&(u.selectBatch.length||u.unselectBatch.length?u.matrix.draw(u.unselectBatch,u.selectBatch):u.matrix.draw()),u.dirty=!1},u.destroy=function(){u.matrix&&u.matrix.destroy&&u.matrix.destroy(),u.matrixOptions=null,u.selectBatch=null,u.unselectBatch=null,u=null}),u.dirty||y.extendFlat(u,t),u}},8689:function(W,V,e){var y=e(71828),C=y.pushUnique,a=e(34098),L=e(35948);W.exports=function(h,d){var t=h.cd,r=t[0].trace,u=t[0].t,n=h.scene,i=n.matrixOptions.cdata,s=h.xaxis,o=h.yaxis,m=[];if(!n)return m;var c=!a.hasMarkers(r)&&!a.hasText(r);if(r.visible!==!0||c)return m;var b=L.getDimIndex(r,s),v=L.getDimIndex(r,o);if(b===!1||v===!1)return m;var l=u.xpx[b],p=u.ypx[v],S=i[b],M=i[v],R=(h.scene.selectBatch||[]).slice(),T=[];if(d!==!1&&!d.degenerate)for(var E=0;E<S.length;E++)d.contains([l[E],p[E]],null,E,h)?(m.push({pointNumber:E,x:S[E],y:M[E]}),C(R,E)):R.indexOf(E)!==-1?C(R,E):T.push(E);var A=n.matrixOptions;return!R.length&&!T.length?n.matrix.update(A,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,y.extendFlat({},A,n.selectedOptions,n.viewOpts)),n.selectBatch=R,n.unselectBatch=T,m}},21850:function(W,V,e){var y=e(50693),C=e(12663).axisHoverFormat,a=e(5386).fF,L=e(2418),x=e(9012),h=e(1426).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:C("u",1),vhoverformat:C("v",1),whoverformat:C("w",1),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),showlegend:h({},x.showlegend,{dflt:!1})};h(d,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){d[r]=L[r]}),d.hoverinfo=h({},x.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,W.exports=d},88489:function(W,V,e){var y=e(71828),C=e(78803);function a(d,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=h(t.u,t._len),t._v=h(t.v,t._len),t._w=h(t.w,t._len),t._x=h(t.x,t._len),t._y=h(t.y,t._len),t._z=h(t.z,t._len);var r=L(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var u=0,n,i,s;t.starts&&(n=h(t.starts.x||[]),i=h(t.starts.y||[]),s=h(t.starts.z||[]),u=Math.min(n.length,i.length,s.length)),t._startsX=n||[],t._startsY=i||[],t._startsZ=s||[];var o=0,m=1/0,c;for(c=0;c<t._len;c++){var b=t._u[c],v=t._v[c],l=t._w[c],p=Math.sqrt(b*b+v*v+l*l);o=Math.max(o,p),m=Math.min(m,p)}for(C(d,t,{vals:[m,o],containerStr:"",cLetter:"c"}),c=0;c<u;c++){var S=n[c];r.xMax=Math.max(r.xMax,S),r.xMin=Math.min(r.xMin,S);var M=i[c];r.yMax=Math.max(r.yMax,M),r.yMin=Math.min(r.yMin,M);var R=s[c];r.zMax=Math.max(r.zMax,R),r.zMin=Math.min(r.zMin,R)}t._slen=u,t._normMax=o,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function L(d){var t=d._x,r=d._y,u=d._z,n=d._len,i,s,o,m=-1/0,c=1/0,b=-1/0,v=1/0,l=-1/0,p=1/0,S="",M,R,T,E,A,f,P,w,z;for(n&&(E=t[0],f=r[0],w=u[0]),n>1&&(A=t[n-1],P=r[n-1],z=u[n-1]),i=0;i<n;i++)m=Math.max(m,t[i]),c=Math.min(c,t[i]),b=Math.max(b,r[i]),v=Math.min(v,r[i]),l=Math.max(l,u[i]),p=Math.min(p,u[i]),!M&&t[i]!==E&&(M=!0,S+="x"),!R&&r[i]!==f&&(R=!0,S+="y"),!T&&u[i]!==w&&(T=!0,S+="z");M||(S+="x"),R||(S+="y"),T||(S+="z");var F=x(d._x),H=x(d._y),_=x(d._z);S=S.replace("x",(E>A?"-":"+")+"x"),S=S.replace("y",(f>P?"-":"+")+"y"),S=S.replace("z",(w>z?"-":"+")+"z");var B=function(){n=0,F=[],H=[],_=[]};(!n||n<F.length*H.length*_.length)&&B();var N=function(fe){return fe==="x"?t:fe==="y"?r:u},O=function(fe){return fe==="x"?F:fe==="y"?H:_},U=function(fe){return fe[n-1]<fe[0]?-1:1},K=N(S[1]),re=N(S[3]),ae=N(S[5]),ue=O(S[1]).length,ve=O(S[3]).length,ee=O(S[5]).length,J=!1,Q=function(fe,de,we){return ue*(ve*fe+de)+we},X=U(N(S[1])),q=U(N(S[3])),se=U(N(S[5]));for(i=0;i<ee-1;i++){for(s=0;s<ve-1;s++){for(o=0;o<ue-1;o++){var Y=Q(i,s,o),Z=Q(i,s,o+1),ie=Q(i,s+1,o),te=Q(i+1,s,o);if((!(K[Y]*X<K[Z]*X)||!(re[Y]*q<re[ie]*q)||!(ae[Y]*se<ae[te]*se))&&(J=!0),J)break}if(J)break}if(J)break}return J&&(y.warn("Encountered arbitrary coordinates! Unable to input data grid."),B()),{xMin:c,yMin:v,zMin:p,xMax:m,yMax:b,zMax:l,Xs:F,Ys:H,Zs:_,len:n,fill:S}}function x(d){return y.distinctVals(d).vals}function h(d,t){if(t===void 0&&(t=d.length),y.isTypedArray(d))return d.subarray(0,t);for(var r=[],u=0;u<t;u++)r[u]=+d[u];return r}W.exports={calc:a,filter:h,processGrid:L}},90154:function(W,V,e){var y=e(9330).gl_streamtube3d,C=y.createTubeMesh,a=e(71828),L=e(81697).parseColorScale,x=e(21081).extractOpts,h=e(90060),d={xaxis:0,yaxis:1,zaxis:2};function t(o,m){this.scene=o,this.uid=m,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(o){var m=this.scene.fullSceneLayout,c=this.scene.dataScale;function b(p,S){var M=m[S],R=c[d[S]];return M.l2c(p)/R}if(o.object===this.mesh){var v=o.data.position,l=o.data.velocity;return o.traceCoordinate=[b(v[0],"xaxis"),b(v[1],"yaxis"),b(v[2],"zaxis"),b(l[0],"xaxis"),b(l[1],"yaxis"),b(l[2],"zaxis"),o.data.intensity*this.data._normMax,o.data.divergence],o.textLabel=this.data.hovertext||this.data.text,!0}};function u(o){var m=o.length,c;return m>2?c=o.slice(1,m-1):m===2?c=[(o[0]+o[1])/2]:c=o,c}function n(o){var m=o.length;return m===1?[.5,.5]:[o[1]-o[0],o[m-1]-o[m-2]]}function i(o,m){var c=o.fullSceneLayout,b=o.dataScale,v=m._len,l={};function p(ve,ee){var J=c[ee],Q=b[d[ee]];return a.simpleMap(ve,function(X){return J.d2l(X)*Q})}if(l.vectors=h(p(m._u,"xaxis"),p(m._v,"yaxis"),p(m._w,"zaxis"),v),!v)return{positions:[],cells:[]};var S=p(m._Xs,"xaxis"),M=p(m._Ys,"yaxis"),R=p(m._Zs,"zaxis");l.meshgrid=[S,M,R],l.gridFill=m._gridFill;var T=m._slen;if(T)l.startingPositions=h(p(m._startsX,"xaxis"),p(m._startsY,"yaxis"),p(m._startsZ,"zaxis"));else{for(var E=M[0],A=u(S),f=u(R),P=new Array(A.length*f.length),w=0,z=0;z<A.length;z++)for(var F=0;F<f.length;F++)P[w++]=[A[z],E,f[F]];l.startingPositions=P}l.colormap=L(m),l.tubeSize=m.sizeref,l.maxLength=m.maxdisplayed;var H=p(m._xbnds,"xaxis"),_=p(m._ybnds,"yaxis"),B=p(m._zbnds,"zaxis"),N=n(S),O=n(M),U=n(R),K=[[H[0]-N[0],_[0]-O[0],B[0]-U[0]],[H[1]+N[1],_[1]+O[1],B[1]+U[1]]],re=y(l,K),ae=x(m);re.vertexIntensityBounds=[ae.min/m._normMax,ae.max/m._normMax];var ue=m.lightposition;return re.lightPosition=[ue.x,ue.y,ue.z],re.ambient=m.lighting.ambient,re.diffuse=m.lighting.diffuse,re.specular=m.lighting.specular,re.roughness=m.lighting.roughness,re.fresnel=m.lighting.fresnel,re.opacity=m.opacity,m._pad=re.tubeScale*m.sizeref*2,re}r.update=function(o){this.data=o;var m=i(this.scene,o);this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(o,m){var c=o.glplot.gl,b=i(o,m),v=C(c,b),l=new t(o,m.uid);return l.mesh=v,l.data=m,v._trace=l,o.glplot.add(v),l}W.exports=s},22459:function(W,V,e){var y=e(71828),C=e(1586),a=e(21850);W.exports=function(x,h,d,t){function r(c,b){return y.coerce(x,h,a,c,b)}var u=r("u"),n=r("v"),i=r("w"),s=r("x"),o=r("y"),m=r("z");if(!u||!u.length||!n||!n.length||!i||!i.length||!s||!s.length||!o||!o.length||!m||!m.length){h.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),C(x,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null}},61510:function(W,V,e){W.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(y,C){return y.tubex=y.x,y.tubey=y.y,y.tubez=y.z,y.tubeu=C.traceCoordinate[3],y.tubev=C.traceCoordinate[4],y.tubew=C.traceCoordinate[5],y.norm=C.traceCoordinate[6],y.divergence=C.traceCoordinate[7],delete y.x,delete y.y,delete y.z,y},meta:{}}},57564:function(W,V,e){var y=e(9012),C=e(5386).fF,a=e(5386).si,L=e(50693),x=e(27670).Y,h=e(34e3),d=e(7055),t=e(1426).extendFlat,r=e(79952).u;W.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},h.marker.line.color,{dflt:null}),width:t({},h.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:h.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:h.hovertext,hoverinfo:t({},y.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:C({},{keys:d.eventDataKeys}),textfont:h.textfont,insidetextorientation:h.insidetextorientation,insidetextfont:h.insidetextfont,outsidetextfont:t({},h.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:h.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:x({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(W,V,e){var y=e(74875);V.name="sunburst",V.plot=function(C,a,L,x){y.plotBasePlot(V.name,C,a,L,x)},V.clean=function(C,a,L,x){y.cleanBasePlot(V.name,C,a,L,x)}},52147:function(W,V,e){var y=e(674),C=e(92770),a=e(71828),L=e(21081).makeColorScaleFuncFromTrace,x=e(32354).makePullColorFn,h=e(32354).generateExtendedColors,d=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},u={},n={};V.calc=function(s,o){var m=s._fullLayout,c=o.ids,b=a.isArrayOrTypedArray(c),v=o.labels,l=o.parents,p=o.values,S=a.isArrayOrTypedArray(p),M=[],R={},T={},E=function(X,q){R[X]?R[X].push(q):R[X]=[q],T[q]=1},A=function(X){return X||typeof X=="number"},f=function(X){return!S||C(p[X])&&p[X]>=0},P,w,z;b?(P=Math.min(c.length,l.length),w=function(X){return A(c[X])&&f(X)},z=function(X){return String(c[X])}):(P=Math.min(v.length,l.length),w=function(X){return A(v[X])&&f(X)},z=function(X){return String(v[X])}),S&&(P=Math.min(P,p.length));for(var F=0;F<P;F++)if(w(F)){var H=z(F),_=A(l[F])?String(l[F]):"",B={i:F,id:H,pid:_,label:A(v[F])?String(v[F]):""};S&&(B.v=+p[F]),M.push(B),E(_,H)}if(R[""]){if(R[""].length>1){for(var U=a.randstr(),K=0;K<M.length;K++)M[K].pid===""&&(M[K].pid=U);M.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var N=[],O;for(O in R)T[O]||N.push(O);if(N.length===1)O=N[0],M.unshift({hasImpliedRoot:!0,id:O,pid:"",label:O});else return a.warn(["Multiple implied roots, cannot build",o.type,"hierarchy of",o.name+".","These roots include:",N.join(", ")].join(" "))}var re;try{re=y.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(M)}catch(X){return a.warn(["Failed to build",o.type,"hierarchy of",o.name+".","Error:",X.message].join(" "))}var ae=y.hierarchy(re),ue=!1;if(S)switch(o.branchvalues){case"remainder":ae.sum(function(X){return X.data.v});break;case"total":ae.each(function(X){var q=X.data.data,se=q.v;if(X.children){var Y=X.children.reduce(function(Z,ie){return Z+ie.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(se=Y),se<Y*t)return ue=!0,a.warn(["Total value for node",X.data.data.id,"of",o.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,Y].join(" "))}X.value=se});break}else i(ae,o,{branches:o.count.indexOf("branches")!==-1,leaves:o.count.indexOf("leaves")!==-1});if(!ue){o.sort&&ae.sort(function(X,q){return q.value-X.value});var ve,ee,J=o.marker.colors||[],Q=!!J.length;return o._hasColorscale?(Q||(J=S?o.values:o._values),d(s,o,{vals:J,containerStr:"marker",cLetter:"c"}),ee=L(o.marker)):ve=x(m["_"+o.type+"colormap"]),ae.each(function(X){var q=X.data.data;q.color=o._hasColorscale?ee(J[q.i]):ve(J[q.i],q.id)}),M[0].hierarchy=ae,M}},V._runCrossTraceCalc=function(s,o){var m=o._fullLayout,c=o.calcdata,b=m[s+"colorway"],v=m["_"+s+"colormap"];m["extend"+s+"colors"]&&(b=h(b,s==="icicle"?n:s==="treemap"?u:r));var l=0,p;function S(E){var A=E.data.data,f=A.id;A.color===!1&&(v[f]?A.color=v[f]:E.parent?E.parent.parent?A.color=E.parent.data.data.color:(v[f]=A.color=b[l%b.length],l++):A.color=p)}for(var M=0;M<c.length;M++){var R=c[M],T=R[0];T.trace.type===s&&T.hierarchy&&(p=T.trace.root.color,T.hierarchy.each(S))}},V.crossTraceCalc=function(s){return V._runCrossTraceCalc("sunburst",s)};function i(s,o,m){var c=0,b=s.children;if(b){for(var v=b.length,l=0;l<v;l++)c+=i(b[l],o,m);m.branches&&c++}else m.leaves&&c++;return s.value=s.data.data.value=c,o._values||(o._values=[]),o._values[s.data.data.i]=c,c}},7055:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(W,V,e){var y=e(71828),C=e(57564),a=e(27670).c,L=e(90769).handleText,x=e(37434).handleMarkerDefaults,h=e(21081),d=h.hasColorscale,t=h.handleDefaults;W.exports=function(u,n,i,s){function o(S,M){return y.coerce(u,n,C,S,M)}var m=o("labels"),c=o("parents");if(!m||!m.length||!c||!c.length){n.visible=!1;return}var b=o("values");b&&b.length?o("branchvalues"):o("count"),o("level"),o("maxdepth"),x(u,n,s,o);var v=n._hasColorscale=d(u,"marker","colors")||(u.marker||{}).coloraxis;v&&t(u,n,s,o,{prefix:"marker.",cLetter:"c"}),o("leaf.opacity",v?1:.7);var l=o("text");o("texttemplate"),n.texttemplate||o("textinfo",Array.isArray(l)?"text+label":"label"),o("hovertext"),o("hovertemplate");var p="auto";L(u,n,s,o,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),o("insidetextorientation"),o("sort"),o("rotation"),o("root.color"),a(n,s,o),n._length=null}},43467:function(W,V,e){var y=e(91424),C=e(7901);W.exports=function(L,x,h,d,t){var r=x.data.data,u=r.i,n=t||r.color;if(u>=0){x.i=r.i;var i=h.marker;i.pattern?(!i.colors||!i.pattern.shape)&&(i.color=n,x.color=n):(i.color=n,x.color=n),y.pointStyle(L,h,d,x)}else C.fill(L,n)}},83523:function(W,V,e){var y=e(39898),C=e(73972),a=e(23469).appendArrayPointValue,L=e(30211),x=e(71828),h=e(11086),d=e(2791),t=e(53581),r=t.formatPieValue;W.exports=function(i,s,o,m,c){var b=m[0],v=b.trace,l=b.hierarchy,p=v.type==="sunburst",S=v.type==="treemap"||v.type==="icicle";"_hasHoverLabel"in v||(v._hasHoverLabel=!1),"_hasHoverEvent"in v||(v._hasHoverEvent=!1);var M=function(E){var A=o._fullLayout;if(!(o._dragging||A.hovermode===!1)){var f=o._fullData[v.index],P=E.data.data,w=P.i,z=d.isHierarchyRoot(E),F=d.getParent(l,E),H=d.getValue(E),_=function(Z){return x.castOption(f,w,Z)},B=_("hovertemplate"),N=L.castHoverinfo(f,A,w),O=A.separators,U;if(B||N&&N!=="none"&&N!=="skip"){var K,re;p&&(K=b.cx+E.pxmid[0]*(1-E.rInscribed),re=b.cy+E.pxmid[1]*(1-E.rInscribed)),S&&(K=E._hoverX,re=E._hoverY);var ae={},ue=[],ve=[],ee=function(Z){return ue.indexOf(Z)!==-1};N&&(ue=N==="all"?f._module.attributes.hoverinfo.flags:N.split("+")),ae.label=P.label,ee("label")&&ae.label&&ve.push(ae.label),P.hasOwnProperty("v")&&(ae.value=P.v,ae.valueLabel=r(ae.value,O),ee("value")&&ve.push(ae.valueLabel)),ae.currentPath=E.currentPath=d.getPath(E.data),ee("current path")&&!z&&ve.push(ae.currentPath);var J,Q=[],X=function(){Q.indexOf(J)===-1&&(ve.push(J),Q.push(J))};ae.percentParent=E.percentParent=H/d.getValue(F),ae.parent=E.parentString=d.getPtLabel(F),ee("percent parent")&&(J=d.formatPercent(ae.percentParent,O)+" of "+ae.parent,X()),ae.percentEntry=E.percentEntry=H/d.getValue(s),ae.entry=E.entry=d.getPtLabel(s),ee("percent entry")&&!z&&!E.onPathbar&&(J=d.formatPercent(ae.percentEntry,O)+" of "+ae.entry,X()),ae.percentRoot=E.percentRoot=H/d.getValue(l),ae.root=E.root=d.getPtLabel(l),ee("percent root")&&!z&&(J=d.formatPercent(ae.percentRoot,O)+" of "+ae.root,X()),ae.text=_("hovertext")||_("text"),ee("text")&&(J=ae.text,x.isValidTextValue(J)&&ve.push(J)),U=[u(E,f,c.eventDataKeys)];var q={trace:f,y:re,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:ve.join("<br>"),name:B||ee("name")?f.name:void 0,color:_("hoverlabel.bgcolor")||P.color,borderColor:_("hoverlabel.bordercolor"),fontFamily:_("hoverlabel.font.family"),fontSize:_("hoverlabel.font.size"),fontColor:_("hoverlabel.font.color"),nameLength:_("hoverlabel.namelength"),textAlign:_("hoverlabel.align"),hovertemplate:B,hovertemplateLabels:ae,eventData:U};p&&(q.x0=K-E.rInscribed*E.rpx1,q.x1=K+E.rInscribed*E.rpx1,q.idealAlign=E.pxmid[0]<0?"left":"right"),S&&(q.x=K,q.idealAlign=K<0?"left":"right");var se=[];L.loneHover(q,{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:o,inOut_bbox:se}),U[0].bbox=se[0],v._hasHoverLabel=!0}if(S){var Y=i.select("path.surface");c.styleOne(Y,E,f,o,{hovered:!0})}v._hasHoverEvent=!0,o.emit("plotly_hover",{points:U||[u(E,f,c.eventDataKeys)],event:y.event})}},R=function(E){var A=o._fullLayout,f=o._fullData[v.index],P=y.select(this).datum();if(v._hasHoverEvent&&(E.originalEvent=y.event,o.emit("plotly_unhover",{points:[u(P,f,c.eventDataKeys)],event:y.event}),v._hasHoverEvent=!1),v._hasHoverLabel&&(L.loneUnhover(A._hoverlayer.node()),v._hasHoverLabel=!1),S){var w=i.select("path.surface");c.styleOne(w,P,f,o,{hovered:!1})}},T=function(E){var A=o._fullLayout,f=o._fullData[v.index],P=p&&(d.isHierarchyRoot(E)||d.isLeaf(E)),w=d.getPtId(E),z=d.isEntry(E)?d.findEntryWithChild(l,w):d.findEntryWithLevel(l,w),F=d.getPtId(z),H={points:[u(E,f,c.eventDataKeys)],event:y.event};P||(H.nextLevel=F);var _=h.triggerHandler(o,"plotly_"+v.type+"click",H);if(_!==!1&&A.hovermode&&(o._hoverdata=[u(E,f,c.eventDataKeys)],L.click(o,y.event)),!P&&_!==!1&&!o._dragging&&!o._transitioning){C.call("_storeDirectGUIEdit",f,A._tracePreGUI[f.uid],{level:f.level});var B={data:[{level:F}],traces:[v.index]},N={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(A._hoverlayer.node()),C.call("animate",o,B,N)}};i.on("mouseover",M),i.on("mouseout",R),i.on("click",T)};function u(n,i,s){for(var o=n.data.data,m={curveNumber:i.index,pointNumber:o.i,data:i._input,fullData:i},c=0;c<s.length;c++){var b=s[c];b in n&&(m[b]=n[b])}return"parentString"in n&&!d.isHierarchyRoot(n)&&(m.parent=n.parentString),a(m,i,o.i),m}},2791:function(W,V,e){var y=e(71828),C=e(7901),a=e(6964),L=e(53581);V.findEntryWithLevel=function(t,r){var u;return r&&t.eachAfter(function(n){if(V.getPtId(n)===r)return u=n.copy()}),u||t},V.findEntryWithChild=function(t,r){var u;return t.eachAfter(function(n){for(var i=n.children||[],s=0;s<i.length;s++){var o=i[s];if(V.getPtId(o)===r)return u=n.copy()}}),u||t},V.isEntry=function(t){return!t.parent},V.isLeaf=function(t){return!t.children},V.getPtId=function(t){return t.data.data.id},V.getPtLabel=function(t){return t.data.data.label},V.getValue=function(t){return t.value},V.isHierarchyRoot=function(t){return d(t)===""},V.setSliceCursor=function(t,r,u){var n=u.isTransitioning;if(!n){var i=t.datum();n=u.hideOnRoot&&V.isHierarchyRoot(i)||u.hideOnLeaves&&V.isLeaf(i)}a(t,n?null:"pointer")};function x(t,r,u){return{color:V.getOutsideTextFontKey("color",t,r,u),family:V.getOutsideTextFontKey("family",t,r,u),size:V.getOutsideTextFontKey("size",t,r,u)}}function h(t,r,u,n){var i=(n||{}).onPathbar,s=r.data.data,o=s.i,m=y.castOption(t,o,(i?"pathbar.textfont":"insidetextfont")+".color");return!m&&t._input.textfont&&(m=y.castOption(t._input,o,"textfont.color")),{color:m||C.contrast(s.color),family:V.getInsideTextFontKey("family",t,r,u,n),size:V.getInsideTextFontKey("size",t,r,u,n)}}V.getInsideTextFontKey=function(t,r,u,n,i){var s=(i||{}).onPathbar,o=s?"pathbar.textfont":"insidetextfont",m=u.data.data.i;return y.castOption(r,m,o+"."+t)||y.castOption(r,m,"textfont."+t)||n.size},V.getOutsideTextFontKey=function(t,r,u,n){var i=u.data.data.i;return y.castOption(r,i,"outsidetextfont."+t)||y.castOption(r,i,"textfont."+t)||n.size},V.isOutsideText=function(t,r){return!t._hasColorscale&&V.isHierarchyRoot(r)},V.determineTextFont=function(t,r,u,n){return V.isOutsideText(t,r)?x(t,r,u):h(t,r,u,n)},V.hasTransition=function(t){return!!(t&&t.duration>0)},V.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},V.isHeader=function(t,r){return!(V.isLeaf(t)||t.depth===r._maxDepth-1)};function d(t){return t.data.data.pid}V.getParent=function(t,r){return V.findEntryWithLevel(t,d(r))},V.listPath=function(t,r){var u=t.parent;if(!u)return[];var n=r?[u.data[r]]:[u];return V.listPath(u,r).concat(n)},V.getPath=function(t){return V.listPath(t,"label").join("/")+"/"},V.formatValue=L.formatPieValue,V.formatPercent=function(t,r){var u=y.formatPercent(t,0);return u==="0%"&&(u=L.formatPiePercent(t,r)),u}},87619:function(W,V,e){W.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(W){W.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(W,V,e){var y=e(71828),C=e(2654);W.exports=function(L,x){function h(d,t){return y.coerce(L,x,C,d,t)}h("sunburstcolorway",x.colorway),h("extendsunburstcolors")}},24714:function(W,V,e){var y=e(39898),C=e(674),a=e(81684).sX,L=e(91424),x=e(71828),h=e(63893),d=e(72597),t=d.recordMinTextSize,r=d.clearMinTextSize,u=e(14575),n=e(53581).getRotationAngle,i=u.computeTransform,s=u.transformInsideText,o=e(29969).styleOne,m=e(16688).resizeText,c=e(83523),b=e(7055),v=e(2791);V.plot=function(T,E,A,f){var P=T._fullLayout,w=P._sunburstlayer,z,F,H=!A,_=!P.uniformtext.mode&&v.hasTransition(A);if(r("sunburst",P),z=w.selectAll("g.trace.sunburst").data(E,function(N){return N[0].trace.uid}),z.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),z.order(),_){f&&(F=f());var B=y.transition().duration(A.duration).ease(A.easing).each("end",function(){F&&F()}).each("interrupt",function(){F&&F()});B.each(function(){w.selectAll("g.trace").each(function(N){l(T,N,this,A)})})}else z.each(function(N){l(T,N,this,A)}),P.uniformtext.mode&&m(T,P._sunburstlayer.selectAll(".trace"),"sunburst");H&&z.exit().remove()};function l(T,E,A,f){var P=T._context.staticPlot,w=T._fullLayout,z=!w.uniformtext.mode&&v.hasTransition(f),F=y.select(A),H=F.selectAll("g.slice"),_=E[0],B=_.trace,N=_.hierarchy,O=v.findEntryWithLevel(N,B.level),U=v.getMaxDepth(B),K=w._size,re=B.domain,ae=K.w*(re.x[1]-re.x[0]),ue=K.h*(re.y[1]-re.y[0]),ve=.5*Math.min(ae,ue),ee=_.cx=K.l+K.w*(re.x[1]+re.x[0])/2,J=_.cy=K.t+K.h*(1-re.y[0])-ue/2;if(!O)return H.remove();var Q=null,X={};z&&H.each(function(We){X[v.getPtId(We)]={rpx0:We.rpx0,rpx1:We.rpx1,x0:We.x0,x1:We.x1,transform:We.transform},!Q&&v.isEntry(We)&&(Q=We)});var q=p(O).descendants(),se=O.height+1,Y=0,Z=U;_.hasMultipleRoots&&v.isHierarchyRoot(O)&&(q=q.slice(1),se-=1,Y=1,Z+=1),q=q.filter(function(We){return We.y1<=Z});var ie=n(B.rotation);ie&&q.forEach(function(We){We.x0+=ie,We.x1+=ie});var te=Math.min(se,U),fe=function(We){return(We-Y)/te*ve},de=function(We,tt){return[We*Math.cos(tt),-We*Math.sin(tt)]},we=function(We){return x.pathAnnulus(We.rpx0,We.rpx1,We.x0,We.x1,ee,J)},Ae=function(We){return ee+M(We)[0]*(We.transform.rCenter||0)+(We.transform.x||0)},Re=function(We){return J+M(We)[1]*(We.transform.rCenter||0)+(We.transform.y||0)};H=H.data(q,v.getPtId),H.enter().append("g").classed("slice",!0),z?H.exit().transition().each(function(){var We=y.select(this),tt=We.select("path.surface");tt.transition().attrTween("d",function(qe){var rt=Ee(qe);return function(ft){return we(rt(ft))}});var Ke=We.select("g.slicetext");Ke.attr("opacity",0)}).remove():H.exit().remove(),H.order();var Fe=null;if(z&&Q){var Se=v.getPtId(Q);H.each(function(We){Fe===null&&v.getPtId(We)===Se&&(Fe=We.x1)})}var Te=H;z&&(Te=Te.transition().each("end",function(){var We=y.select(this);v.setSliceCursor(We,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Te.each(function(We){var tt=y.select(this),Ke=x.ensureSingle(tt,"path","surface",function(Mt){Mt.style("pointer-events",P?"none":"all")});We.rpx0=fe(We.y0),We.rpx1=fe(We.y1),We.xmid=(We.x0+We.x1)/2,We.pxmid=de(We.rpx1,We.xmid),We.midangle=-(We.xmid-Math.PI/2),We.startangle=-(We.x0-Math.PI/2),We.stopangle=-(We.x1-Math.PI/2),We.halfangle=.5*Math.min(x.angleDelta(We.x0,We.x1)||Math.PI,Math.PI),We.ring=1-We.rpx0/We.rpx1,We.rInscribed=S(We),z?Ke.transition().attrTween("d",function(Mt){var Lt=Ne(Mt);return function(Wt){return we(Lt(Wt))}}):Ke.attr("d",we),tt.call(c,O,T,E,{eventDataKeys:b.eventDataKeys,transitionTime:b.CLICK_TRANSITION_TIME,transitionEasing:b.CLICK_TRANSITION_EASING}).call(v.setSliceCursor,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:T._transitioning}),Ke.call(o,We,B,T);var qe=x.ensureSingle(tt,"g","slicetext"),rt=x.ensureSingle(qe,"text","",function(Mt){Mt.attr("data-notex",1)}),ft=x.ensureUniformFontSize(T,v.determineTextFont(B,We,w.font));rt.text(V.formatSliceLabel(We,O,B,E,w)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ft).call(h.convertToTspans,T);var pt=L.bBox(rt.node());We.transform=s(pt,We,_),We.transform.targetX=Ae(We),We.transform.targetY=Re(We);var gt=function(Mt,Lt){var Wt=Mt.transform;return i(Wt,Lt),Wt.fontSize=ft.size,t(B.type,Wt,w),x.getTextTransform(Wt)};z?rt.transition().attrTween("transform",function(Mt){var Lt=He(Mt);return function(Wt){return gt(Lt(Wt),pt)}}):rt.attr("transform",gt(We,pt))});function Ee(We){var tt=v.getPtId(We),Ke=X[tt],qe=X[v.getPtId(O)],rt;if(qe){var ft=(We.x1>qe.x1?2*Math.PI:0)+ie;rt=We.rpx1<qe.rpx1?{x0:We.x0,x1:We.x1,rpx0:0,rpx1:0}:{x0:ft,x1:ft,rpx0:We.rpx0,rpx1:We.rpx1}}else{var pt,gt=v.getPtId(We.parent);H.each(function(ze){if(v.getPtId(ze)===gt)return pt=ze});var Mt=pt.children,Lt;Mt.forEach(function(ze,Oe){if(v.getPtId(ze)===tt)return Lt=Oe});var Wt=Mt.length,Je=a(pt.x0,pt.x1);rt={rpx0:ve,rpx1:ve,x0:Je(Lt/Wt),x1:Je((Lt+1)/Wt)}}return a(Ke,rt)}function Ne(We){var tt=X[v.getPtId(We)],Ke,qe={x0:We.x0,x1:We.x1,rpx0:We.rpx0,rpx1:We.rpx1};if(tt)Ke=tt;else if(Q)if(We.parent)if(Fe){var rt=(We.x1>Fe?2*Math.PI:0)+ie;Ke={x0:rt,x1:rt}}else Ke={rpx0:ve,rpx1:ve},x.extendFlat(Ke,_e(We));else Ke={rpx0:0,rpx1:0};else Ke={x0:ie,x1:ie};return a(Ke,qe)}function He(We){var tt=X[v.getPtId(We)],Ke,qe=We.transform;if(tt)Ke=tt;else if(Ke={rpx1:We.rpx1,transform:{textPosAngle:qe.textPosAngle,scale:0,rotate:qe.rotate,rCenter:qe.rCenter,x:qe.x,y:qe.y}},Q)if(We.parent)if(Fe){var rt=We.x1>Fe?2*Math.PI:0;Ke.x0=Ke.x1=rt}else x.extendFlat(Ke,_e(We));else Ke.x0=Ke.x1=ie;else Ke.x0=Ke.x1=ie;var ft=a(Ke.transform.textPosAngle,We.transform.textPosAngle),pt=a(Ke.rpx1,We.rpx1),gt=a(Ke.x0,We.x0),Mt=a(Ke.x1,We.x1),Lt=a(Ke.transform.scale,qe.scale),Wt=a(Ke.transform.rotate,qe.rotate),Je=qe.rCenter===0?3:Ke.transform.rCenter===0?1/3:1,ze=a(Ke.transform.rCenter,qe.rCenter),Oe=function(Ue){return ze(Math.pow(Ue,Je))};return function(Ue){var ke=pt(Ue),Me=gt(Ue),ce=Mt(Ue),be=Oe(Ue),De=de(ke,(Me+ce)/2),Ve=ft(Ue),it={pxmid:De,rpx1:ke,transform:{textPosAngle:Ve,rCenter:be,x:qe.x,y:qe.y}};return t(B.type,qe,w),{transform:{targetX:Ae(it),targetY:Re(it),scale:Lt(Ue),rotate:Wt(Ue),rCenter:be}}}}function _e(We){var tt=We.parent,Ke=X[v.getPtId(tt)],qe={};if(Ke){var rt=tt.children,ft=rt.indexOf(We),pt=rt.length,gt=a(Ke.x0,Ke.x1);qe.x0=gt(ft/pt),qe.x1=gt(ft/pt)}else qe.x0=qe.x1=0;return qe}}function p(T){return C.partition().size([2*Math.PI,T.height+1])(T)}V.formatSliceLabel=function(T,E,A,f,P){var w=A.texttemplate,z=A.textinfo;if(!w&&(!z||z==="none"))return"";var F=P.separators,H=f[0],_=T.data.data,B=H.hierarchy,N=v.isHierarchyRoot(T),O=v.getParent(B,T),U=v.getValue(T);if(!w){var K=z.split("+"),re=function(Y){return K.indexOf(Y)!==-1},ae=[],ue;if(re("label")&&_.label&&ae.push(_.label),_.hasOwnProperty("v")&&re("value")&&ae.push(v.formatValue(_.v,F)),!N){re("current path")&&ae.push(v.getPath(T.data));var ve=0;re("percent parent")&&ve++,re("percent entry")&&ve++,re("percent root")&&ve++;var ee=ve>1;if(ve){var J,Q=function(Y){ue=v.formatPercent(J,F),ee&&(ue+=" of "+Y),ae.push(ue)};re("percent parent")&&!N&&(J=U/v.getValue(O),Q("parent")),re("percent entry")&&(J=U/v.getValue(E),Q("entry")),re("percent root")&&(J=U/v.getValue(B),Q("root"))}}return re("text")&&(ue=x.castOption(A,_.i,"text"),x.isValidTextValue(ue)&&ae.push(ue)),ae.join("<br>")}var X=x.castOption(A,_.i,"texttemplate");if(!X)return"";var q={};_.label&&(q.label=_.label),_.hasOwnProperty("v")&&(q.value=_.v,q.valueLabel=v.formatValue(_.v,F)),q.currentPath=v.getPath(T.data),N||(q.percentParent=U/v.getValue(O),q.percentParentLabel=v.formatPercent(q.percentParent,F),q.parent=v.getPtLabel(O)),q.percentEntry=U/v.getValue(E),q.percentEntryLabel=v.formatPercent(q.percentEntry,F),q.entry=v.getPtLabel(E),q.percentRoot=U/v.getValue(B),q.percentRootLabel=v.formatPercent(q.percentRoot,F),q.root=v.getPtLabel(B),_.hasOwnProperty("color")&&(q.color=_.color);var se=x.castOption(A,_.i,"text");return(x.isValidTextValue(se)||se==="")&&(q.text=se),q.customdata=x.castOption(A,_.i,"customdata"),x.texttemplateString(X,q,P._d3locale,q,A._meta||{})};function S(T){return T.rpx0===0&&x.isFullCircle([T.x0,T.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(T.halfangle)),T.ring/2))}function M(T){return R(T.rpx1,T.transform.textPosAngle)}function R(T,E){return[T*Math.sin(E),-T*Math.cos(E)]}},29969:function(W,V,e){var y=e(39898),C=e(7901),a=e(71828),L=e(72597).resizeText,x=e(43467);function h(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");L(t,r,"sunburst"),r.each(function(u){var n=y.select(this),i=u[0],s=i.trace;n.style("opacity",s.opacity),n.selectAll("path.surface").each(function(o){y.select(this).call(d,o,s,t)})})}function d(t,r,u,n){var i=r.data.data,s=!r.children,o=i.i,m=a.castOption(u,o,"marker.line.color")||C.defaultLine,c=a.castOption(u,o,"marker.line.width")||0;t.call(x,r,u,n).style("stroke-width",c).call(C.stroke,m).style("opacity",s?u.leaf.opacity:null)}W.exports={style:h,styleOne:d}},54532:function(W,V,e){var y=e(7901),C=e(50693),a=e(12663).axisHoverFormat,L=e(5386).fF,x=e(9012),h=e(1426).extendFlat,d=e(30962).overrideAll;function t(n){return{valType:"boolean",dflt:!1}}function r(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:y.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:y.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var u=W.exports=d(h({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},C("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:h({},C.zauto,{}),zmin:h({},C.zmin,{}),zmax:h({},C.zmax,{})},hoverinfo:h({},x.hoverinfo),showlegend:h({},x.showlegend,{dflt:!1})}),"calc","nested");u.x.editType=u.y.editType=u.z.editType="calc+clearAxisTypes",u.transforms=void 0},18396:function(W,V,e){var y=e(78803);W.exports=function(a,L){L.surfacecolor?y(a,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):y(a,L,{vals:L.z,containerStr:"",cLetter:"c"})}},43768:function(W,V,e){var y=e(9330).gl_surface3d,C=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,L=e(824),x=e(43907),h=e(71828).isArrayOrTypedArray,d=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function u(f,P,w){this.scene=f,this.uid=w,this.surface=P,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=u.prototype;n.getXat=function(f,P,w,z){var F=h(this.data.x)?h(this.data.x[0])?this.data.x[P][f]:this.data.x[f]:f;return w===void 0?F:z.d2l(F,0,w)},n.getYat=function(f,P,w,z){var F=h(this.data.y)?h(this.data.y[0])?this.data.y[P][f]:this.data.y[P]:P;return w===void 0?F:z.d2l(F,0,w)},n.getZat=function(f,P,w,z){var F=this.data.z[P][f];return F===null&&this.data.connectgaps&&this.data._interpolatedZ&&(F=this.data._interpolatedZ[P][f]),w===void 0?F:z.d2l(F,0,w)},n.handlePick=function(f){if(f.object===this.surface){var P=(f.data.index[0]-1)/this.dataScaleX-1,w=(f.data.index[1]-1)/this.dataScaleY-1,z=Math.max(Math.min(Math.round(P),this.data.z[0].length-1),0),F=Math.max(Math.min(Math.round(w),this.data._ylength-1),0);f.index=[z,F],f.traceCoordinate=[this.getXat(z,F),this.getYat(z,F),this.getZat(z,F)],f.dataCoordinate=[this.getXat(z,F,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(z,F,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(z,F,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var H=0;H<3;H++){var _=f.dataCoordinate[H];_!=null&&(f.dataCoordinate[H]*=this.scene.dataScale[H])}var B=this.data.hovertext||this.data.text;return Array.isArray(B)&&B[F]&&B[F][z]!==void 0?f.textLabel=B[F][z]:B?f.textLabel=B:f.textLabel="",f.data.dataCoordinate=f.dataCoordinate.slice(),this.surface.highlight(f.data),this.scene.glplot.spikes.position=f.dataCoordinate,!0}};function i(f){var P=f[0].rgb,w=f[f.length-1].rgb;return P[0]===w[0]&&P[1]===w[1]&&P[2]===w[2]&&P[3]===w[3]}var s=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function o(f,P){if(f<P)return 0;for(var w=0;Math.floor(f%P)===0;)f/=P,w++;return w}function m(f){for(var P=[],w=0;w<s.length;w++){var z=s[w];P.push(o(f,z))}return P}function c(f){for(var P=m(f),w=f,z=0;z<s.length;z++)if(P[z]>0){w=s[z];break}return w}function b(f,P){if(!(f<1||P<1)){for(var w=m(f),z=m(P),F=1,H=0;H<s.length;H++)F*=Math.pow(s[H],Math.max(w[H],z[H]));return F}}function v(f){if(f.length!==0){for(var P=1,w=0;w<f.length;w++)P=b(P,f[w]);return P}}n.calcXnums=function(f){var P,w=[];for(P=1;P<f;P++){var z=this.getXat(P-1,0),F=this.getXat(P,0);F!==z&&z!==void 0&&z!==null&&F!==void 0&&F!==null?w[P-1]=Math.abs(F-z):w[P-1]=0}var H=0;for(P=1;P<f;P++)H+=w[P-1];for(P=1;P<f;P++)w[P-1]===0?w[P-1]=1:w[P-1]=Math.round(H/w[P-1]);return w},n.calcYnums=function(f){var P,w=[];for(P=1;P<f;P++){var z=this.getYat(0,P-1),F=this.getYat(0,P);F!==z&&z!==void 0&&z!==null&&F!==void 0&&F!==null?w[P-1]=Math.abs(F-z):w[P-1]=0}var H=0;for(P=1;P<f;P++)H+=w[P-1];for(P=1;P<f;P++)w[P-1]===0?w[P-1]=1:w[P-1]=Math.round(H/w[P-1]);return w};var l=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=l[9],S=l[13];n.estimateScale=function(f,P){for(var w=P===0?this.calcXnums(f):this.calcYnums(f),z=1+v(w);z<p;)z*=2;for(;z>S;)z--,z/=c(z),z++,z<p&&(z=S);var F=Math.round(z/f);return F>1?F:1};function M(f,P,w){var z=w[8]+w[2]*P[0]+w[5]*P[1];return f[0]=(w[6]+w[0]*P[0]+w[3]*P[1])/z,f[1]=(w[7]+w[1]*P[0]+w[4]*P[1])/z,f}function R(f,P,w){return T(f,P,M,w),f}function T(f,P,w,z){for(var F=[0,0],H=f.shape[0],_=f.shape[1],B=0;B<H;B++)for(var N=0;N<_;N++)w(F,[B,N],z),f.set(B,N,a(P,F[0],F[1]));return f}n.refineCoords=function(f){for(var P=this.dataScaleX,w=this.dataScaleY,z=f[0].shape[0],F=f[0].shape[1],H=Math.floor(f[0].shape[0]*P+1)|0,_=Math.floor(f[0].shape[1]*w+1)|0,B=1+z+1,N=1+F+1,O=C(new Float32Array(B*N),[B,N]),U=[1/P,0,0,0,1/w,0,0,0,1],K=0;K<f.length;++K){this.surface.padField(O,f[K]);var re=C(new Float32Array(H*_),[H,_]);R(re,O,U),f[K]=re}};function E(f,P){for(var w=!1,z=0;z<f.length;z++)if(P===f[z]){w=!0;break}w===!1&&f.push(P)}n.setContourLevels=function(){var f=[[],[],[]],P=[!1,!1,!1],w=!1,z,F,H;for(z=0;z<3;++z)if(this.showContour[z]&&(w=!0,this.contourSize[z]>0&&this.contourStart[z]!==null&&this.contourEnd[z]!==null&&this.contourEnd[z]>this.contourStart[z]))for(P[z]=!0,F=this.contourStart[z];F<this.contourEnd[z];F+=this.contourSize[z])H=F*this.scene.dataScale[z],E(f[z],H);if(w){var _=[[],[],[]];for(z=0;z<3;++z)this.showContour[z]&&(_[z]=P[z]?f[z]:this.scene.contourLevels[z]);this.surface.update({levels:_})}},n.update=function(f){var P=this.scene,w=P.fullSceneLayout,z=this.surface,F=d(f),H=P.dataScale,_=f.z[0].length,B=f._ylength,N=P.contourLevels;this.data=f;var O,U,K,re,ae=[];for(O=0;O<3;O++)for(ae[O]=[],U=0;U<_;U++)ae[O][U]=[];for(U=0;U<_;U++)for(K=0;K<B;K++)ae[0][U][K]=this.getXat(U,K,f.xcalendar,w.xaxis),ae[1][U][K]=this.getYat(U,K,f.ycalendar,w.yaxis),ae[2][U][K]=this.getZat(U,K,f.zcalendar,w.zaxis);if(f.connectgaps)for(f._emptypoints=x(ae[2]),L(ae[2],f._emptypoints),f._interpolatedZ=[],U=0;U<_;U++)for(f._interpolatedZ[U]=[],K=0;K<B;K++)f._interpolatedZ[U][K]=ae[2][U][K];for(O=0;O<3;O++)for(U=0;U<_;U++)for(K=0;K<B;K++)re=ae[O][U][K],re==null?ae[O][U][K]=NaN:re=ae[O][U][K]*=H[O];for(O=0;O<3;O++)for(U=0;U<_;U++)for(K=0;K<B;K++)re=ae[O][U][K],re!=null&&(this.minValues[O]>re&&(this.minValues[O]=re),this.maxValues[O]<re&&(this.maxValues[O]=re));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(U=0;U<_;U++)for(K=0;K<B;K++)re=ae[O][U][K],re!=null&&(ae[O][U][K]-=this.objectOffset[O]);var ue=[C(new Float32Array(_*B),[_,B]),C(new Float32Array(_*B),[_,B]),C(new Float32Array(_*B),[_,B])];for(O=0;O<3;O++)for(U=0;U<_;U++)for(K=0;K<B;K++)ue[O].set(U,K,ae[O][U][K]);ae=[];var ve={colormap:F,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!f.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:f.opacityscale,opacity:f.opacity},ee=r(f);if(ve.intensityBounds=[ee.min,ee.max],f.surfacecolor){var J=C(new Float32Array(_*B),[_,B]);for(U=0;U<_;U++)for(K=0;K<B;K++)J.set(U,K,f.surfacecolor[K][U]);ue.push(J)}else ve.intensityBounds[0]*=H[2],ve.intensityBounds[1]*=H[2];(S<ue[0].shape[0]||S<ue[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ue[0].shape[0],0),this.dataScaleY=this.estimateScale(ue[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ue)),f.surfacecolor&&(ve.intensity=ue.pop());var Q=[!0,!0,!0],X=["x","y","z"];for(O=0;O<3;++O){var q=f.contours[X[O]];Q[O]=q.highlight,ve.showContour[O]=q.show||q.highlight,ve.showContour[O]&&(ve.contourProject[O]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[O]=!0,ve.levels[O]=N[O],z.highlightColor[O]=ve.contourColor[O]=t(q.color),q.usecolormap?z.highlightTint[O]=ve.contourTint[O]=0:z.highlightTint[O]=ve.contourTint[O]=1,ve.contourWidth[O]=q.width,this.contourStart[O]=q.start,this.contourEnd[O]=q.end,this.contourSize[O]=q.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),q.highlight&&(ve.dynamicColor[O]=t(q.highlightcolor),ve.dynamicWidth[O]=q.highlightwidth))}i(F)&&(ve.vertexColor=!0),ve.objectOffset=this.objectOffset,ve.coords=ue,z.update(ve),z.visible=f.visible,z.enableDynamic=Q,z.enableHighlight=Q,z.snapToData=!0,"lighting"in f&&(z.ambientLight=f.lighting.ambient,z.diffuseLight=f.lighting.diffuse,z.specularLight=f.lighting.specular,z.roughness=f.lighting.roughness,z.fresnel=f.lighting.fresnel),"lightposition"in f&&(z.lightPosition=[f.lightposition.x,f.lightposition.y,f.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function A(f,P){var w=f.glplot.gl,z=y({gl:w}),F=new u(f,z,P.uid);return z._trace=F,F.update(P),f.glplot.add(z),F}W.exports=A},91831:function(W,V,e){var y=e(73972),C=e(71828),a=e(1586),L=e(54532),x=.1;function h(n,i){for(var s=[],o=32,m=0;m<o;m++){var c=m/(o-1),b=i+(1-i)*(1-Math.pow(Math.sin(n*c*Math.PI),2));s.push([c,Math.max(0,Math.min(1,b))])}return s}function d(n){var i=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var s=0;s<n.length;s++){var o=n[s];if(o.length!==2||+o[0]<i)return!1;i=+o[0]}return!0}function t(n,i,s,o){var m,c;function b(f,P){return C.coerce(n,i,L,f,P)}var v=b("x"),l=b("y"),p=b("z");if(!p||!p.length||v&&v.length<1||l&&l.length<1){i.visible=!1;return}i._xlength=Array.isArray(v)&&C.isArrayOrTypedArray(v[0])?p.length:p[0].length,i._ylength=p.length;var S=y.getComponentMethod("calendars","handleTraceDefaults");S(n,i,["x","y","z"],o),b("text"),b("hovertext"),b("hovertemplate"),b("xhoverformat"),b("yhoverformat"),b("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(f){b(f)});var M=b("surfacecolor"),R=["x","y","z"];for(m=0;m<3;++m){var T="contours."+R[m],E=b(T+".show"),A=b(T+".highlight");if(E||A)for(c=0;c<3;++c)b(T+".project."+R[c]);E&&(b(T+".color"),b(T+".width"),b(T+".usecolormap")),A&&(b(T+".highlightcolor"),b(T+".highlightwidth")),b(T+".start"),b(T+".end"),b(T+".size")}M||(u(n,"zmin","cmin"),u(n,"zmax","cmax"),u(n,"zauto","cauto")),a(n,i,o,b,{prefix:"",cLetter:"c"}),r(n,i,o,b),i._length=null}function r(n,i,s,o){var m=o("opacityscale");m==="max"?i.opacityscale=[[0,x],[1,1]]:m==="min"?i.opacityscale=[[0,1],[1,x]]:m==="extremes"?i.opacityscale=h(1,x):d(m)||(i.opacityscale=void 0)}function u(n,i,s){i in n&&!(s in n)&&(n[s]=n[i])}W.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(W,V,e){W.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(W,V,e){var y=e(50215),C=e(1426).extendFlat,a=e(30962).overrideAll,L=e(41940),x=e(27670).Y,h=e(12663).descriptionOnlyNumbers,d=W.exports=a({domain:x({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:C({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:C({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:C({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:C({},L({arrayOk:!0}))}},"calc","from-root");d.transforms=void 0},99469:function(W,V,e){var y=e(27659).a0,C=e(36736),a="table";V.name=a,V.plot=function(L){var x=y(L.calcdata,a)[0];x.length&&C(L,x)},V.clean=function(L,x,h,d){var t=d._has&&d._has(a),r=x._has&&x._has(a);t&&!r&&d._paperdiv.selectAll(".table").remove()}},76333:function(W,V,e){var y=e(28984).wrap;W.exports=function(){return y({})}},49850:function(W){W.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(W,V,e){var y=e(49850),C=e(1426).extendFlat,a=e(92770);W.exports=function(s,o){var m=h(o.cells.values),c=function(U){return U.slice(o.header.values.length,U.length)},b=h(o.header.values);b.length&&!b[0].length&&(b[0]=[""],b=h(b));var v=b.concat(c(m).map(function(){return d((b[0]||[""]).length)})),l=o.domain,p=Math.floor(s._fullLayout._size.w*(l.x[1]-l.x[0])),S=Math.floor(s._fullLayout._size.h*(l.y[1]-l.y[0])),M=o.header.values.length?v[0].map(function(){return o.header.height}):[y.emptyHeaderHeight],R=m.length?m[0].map(function(){return o.cells.height}):[],T=M.reduce(x,0),E=S-T,A=E+y.uplift,f=u(R,A),P=u(M,T),w=r(P,[]),z=r(f,w),F={},H=o._fullInput.columnorder.concat(c(m.map(function(U,K){return K}))),_=v.map(function(U,K){var re=Array.isArray(o.columnwidth)?o.columnwidth[Math.min(K,o.columnwidth.length-1)]:o.columnwidth;return a(re)?Number(re):1}),B=_.reduce(x,0);_=_.map(function(U){return U/B*p});var N=Math.max(L(o.header.line.width),L(o.cells.line.width)),O={key:o.uid+s._context.staticPlot,translateX:l.x[0]*s._fullLayout._size.w,translateY:s._fullLayout._size.h*(1-l.y[1]),size:s._fullLayout._size,width:p,maxLineWidth:N,height:S,columnOrder:H,groupHeight:S,rowBlocks:z,headerRowBlocks:w,scrollY:0,cells:C({},o.cells,{values:m}),headerCells:C({},o.header,{values:v}),gdColumns:v.map(function(U){return U[0]}),gdColumnsOriginalOrder:v.map(function(U){return U[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:v.map(function(U,K){var re=F[U];F[U]=(re||0)+1;var ae=U+"__"+F[U];return{key:ae,label:U,specIndex:K,xIndex:H[K],xScale:t,x:void 0,calcdata:void 0,columnWidth:_[K]}})};return O.columns.forEach(function(U){U.calcdata=O,U.x=t(U)}),O};function L(i){if(Array.isArray(i)){for(var s=0,o=0;o<i.length;o++)s=Math.max(s,L(i[o]));return s}return i}function x(i,s){return i+s}function h(i){var s=i.slice(),o=1/0,m=0,c;for(c=0;c<s.length;c++)Array.isArray(s[c])||(s[c]=[s[c]]),o=Math.min(o,s[c].length),m=Math.max(m,s[c].length);if(o!==m)for(c=0;c<s.length;c++){var b=m-s[c].length;b&&(s[c]=s[c].concat(d(b)))}return s}function d(i){for(var s=new Array(i),o=0;o<i;o++)s[o]="";return s}function t(i){return i.calcdata.columns.reduce(function(s,o){return o.xIndex<i.xIndex?s+o.columnWidth:s},0)}function r(i,s){var o=Object.keys(i);return o.map(function(m){return C({},i[m],{auxiliaryBlocks:s})})}function u(i,s){for(var o={},m,c=0,b=0,v=n(),l=0,p=0,S=0;S<i.length;S++)m=i[S],v.rows.push({rowIndex:S,rowHeight:m}),b+=m,(b>=s||S===i.length-1)&&(o[c]=v,v.key=p++,v.firstRowIndex=l,v.lastRowIndex=S,v=n(),c+=b,l=S+1,b=0);return o}function n(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(W,V,e){var y=e(1426).extendFlat;V.splitToPanels=function(a){var L=[0,0],x=y({},a,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:y({},a.calcdata,{cells:a.calcdata.headerCells})}),h=y({},a,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),d=y({},a,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[h,d,x]},V.splitToCells=function(a){var L=C(a);return(a.values||[]).slice(L[0],L[1]).map(function(x,h){var d=typeof x=="string"&&x.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:h+d,key:L[0]+h,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:x}})};function C(a){var L=a.rowBlocks[a.page],x=L?L.rows[0].rowIndex:0,h=L?x+L.rows.length:0;return[x,h]}},39754:function(W,V,e){var y=e(71828),C=e(44464),a=e(27670).c;function L(x,h){for(var d=x.columnorder||[],t=x.header.values.length,r=d.slice(0,t),u=r.slice().sort(function(s,o){return s-o}),n=r.map(function(s){return u.indexOf(s)}),i=n.length;i<t;i++)n.push(i);h("columnorder",n)}W.exports=function(h,d,t,r){function u(n,i){return y.coerce(h,d,C,n,i)}a(d,r,u),u("columnwidth"),u("header.values"),u("header.format"),u("header.align"),u("header.prefix"),u("header.suffix"),u("header.height"),u("header.line.width"),u("header.line.color"),u("header.fill.color"),y.coerceFont(u,"header.font",y.extendFlat({},r.font)),L(d,u),u("cells.values"),u("cells.format"),u("cells.align"),u("cells.prefix"),u("cells.suffix"),u("cells.height"),u("cells.line.width"),u("cells.line.color"),u("cells.fill.color"),y.coerceFont(u,"cells.font",y.extendFlat({},r.font)),d._length=null}},96595:function(W,V,e){W.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(W,V,e){var y=e(49850),C=e(39898),a=e(71828),L=a.numberFormat,x=e(28984),h=e(91424),d=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,u=e(71828).cancelTransition,n=e(51018),i=e(56269),s=e(7901);W.exports=function(ie,te){var fe=!ie._context.staticPlot,de=ie._fullLayout._paper.selectAll("."+y.cn.table).data(te.map(function(qe){var rt=x.unwrap(qe),ft=rt.trace;return n(ie,ft)}),x.keyFun);de.exit().remove(),de.enter().append("g").classed(y.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),de.attr("width",function(qe){return qe.width+qe.size.l+qe.size.r}).attr("height",function(qe){return qe.height+qe.size.t+qe.size.b}).attr("transform",function(qe){return r(qe.translateX,qe.translateY)});var we=de.selectAll("."+y.cn.tableControlView).data(x.repeat,x.keyFun),Ae=we.enter().append("g").classed(y.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var Re="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(qe){we.filter(function(rt){return qe===rt}).call(v,ie)}).on(Re,function(qe){if(!qe.scrollbarState.wheeling){qe.scrollbarState.wheeling=!0;var rt=qe.scrollY+C.event.deltaY,ft=re(ie,we,null,rt)(qe);ft||(C.event.stopPropagation(),C.event.preventDefault()),qe.scrollbarState.wheeling=!1}}).call(v,ie,!0)}we.attr("transform",function(qe){return r(qe.size.l,qe.size.t)});var Fe=we.selectAll("."+y.cn.scrollBackground).data(x.repeat,x.keyFun);Fe.enter().append("rect").classed(y.cn.scrollBackground,!0).attr("fill","none"),Fe.attr("width",function(qe){return qe.width}).attr("height",function(qe){return qe.height}),we.each(function(qe){h.setClipUrl(C.select(this),m(ie,qe),ie)});var Se=we.selectAll("."+y.cn.yColumn).data(function(qe){return qe.columns},x.keyFun);Se.enter().append("g").classed(y.cn.yColumn,!0),Se.exit().remove(),Se.attr("transform",function(qe){return r(qe.x,0)}),fe&&Se.call(C.behavior.drag().origin(function(qe){var rt=C.select(this);return _(rt,qe,-y.uplift),t(this),qe.calcdata.columnDragInProgress=!0,v(we.filter(function(ft){return qe.calcdata.key===ft.key}),ie),qe}).on("drag",function(qe){var rt=C.select(this),ft=function(Mt){return(qe===Mt?C.event.x:Mt.x)+Mt.columnWidth/2};qe.x=Math.max(-y.overdrag,Math.min(qe.calcdata.width+y.overdrag-qe.columnWidth,C.event.x));var pt=b(Se).filter(function(Mt){return Mt.calcdata.key===qe.calcdata.key}),gt=pt.sort(function(Mt,Lt){return ft(Mt)-ft(Lt)});gt.forEach(function(Mt,Lt){Mt.xIndex=Lt,Mt.x=qe===Mt?Mt.x:Mt.xScale(Mt)}),Se.filter(function(Mt){return qe!==Mt}).transition().ease(y.transitionEase).duration(y.transitionDuration).attr("transform",function(Mt){return r(Mt.x,0)}),rt.call(u).attr("transform",r(qe.x,-y.uplift))}).on("dragend",function(qe){var rt=C.select(this),ft=qe.calcdata;qe.x=qe.xScale(qe),qe.calcdata.columnDragInProgress=!1,_(rt,qe,0),F(ie,ft,ft.columns.map(function(pt){return pt.xIndex}))})),Se.each(function(qe){h.setClipUrl(C.select(this),c(ie,qe),ie)});var Te=Se.selectAll("."+y.cn.columnBlock).data(i.splitToPanels,x.keyFun);Te.enter().append("g").classed(y.cn.columnBlock,!0).attr("id",function(qe){return qe.key}),Te.style("cursor",function(qe){return qe.dragHandle?"ew-resize":qe.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ee=Te.filter(N),Ne=Te.filter(B);fe&&Ne.call(C.behavior.drag().origin(function(qe){return C.event.stopPropagation(),qe}).on("drag",re(ie,we,-1)).on("dragend",function(){})),l(ie,we,Ee,Te),l(ie,we,Ne,Te);var He=we.selectAll("."+y.cn.scrollAreaClip).data(x.repeat,x.keyFun);He.enter().append("clipPath").classed(y.cn.scrollAreaClip,!0).attr("id",function(qe){return m(ie,qe)});var _e=He.selectAll("."+y.cn.scrollAreaClipRect).data(x.repeat,x.keyFun);_e.enter().append("rect").classed(y.cn.scrollAreaClipRect,!0).attr("x",-y.overdrag).attr("y",-y.uplift).attr("fill","none"),_e.attr("width",function(qe){return qe.width+2*y.overdrag}).attr("height",function(qe){return qe.height+y.uplift});var We=Se.selectAll("."+y.cn.columnBoundary).data(x.repeat,x.keyFun);We.enter().append("g").classed(y.cn.columnBoundary,!0);var tt=Se.selectAll("."+y.cn.columnBoundaryClippath).data(x.repeat,x.keyFun);tt.enter().append("clipPath").classed(y.cn.columnBoundaryClippath,!0),tt.attr("id",function(qe){return c(ie,qe)});var Ke=tt.selectAll("."+y.cn.columnBoundaryRect).data(x.repeat,x.keyFun);Ke.enter().append("rect").classed(y.cn.columnBoundaryRect,!0).attr("fill","none"),Ke.attr("width",function(qe){return qe.columnWidth+2*o(qe)}).attr("height",function(qe){return qe.calcdata.height+2*o(qe)+y.uplift}).attr("x",function(qe){return-o(qe)}).attr("y",function(qe){return-o(qe)}),K(null,Ne,we)};function o(Z){return Math.ceil(Z.calcdata.maxLineWidth/2)}function m(Z,ie){return"clip"+Z._fullLayout._uid+"_scrollAreaBottomClip_"+ie.key}function c(Z,ie){return"clip"+Z._fullLayout._uid+"_columnBoundaryClippath_"+ie.calcdata.key+"_"+ie.specIndex}function b(Z){return[].concat.apply([],Z.map(function(ie){return ie})).map(function(ie){return ie.__data__})}function v(Z,ie,te){function fe(Se){var Te=Se.rowBlocks;return Q(Te,Te.length-1)+(Te.length?X(Te[Te.length-1],1/0):1)}var de=Z.selectAll("."+y.cn.scrollbarKit).data(x.repeat,x.keyFun);de.enter().append("g").classed(y.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),de.each(function(Se){var Te=Se.scrollbarState;Te.totalHeight=fe(Se),Te.scrollableAreaHeight=Se.groupHeight-O(Se),Te.currentlyVisibleHeight=Math.min(Te.totalHeight,Te.scrollableAreaHeight),Te.ratio=Te.currentlyVisibleHeight/Te.totalHeight,Te.barLength=Math.max(Te.ratio*Te.currentlyVisibleHeight,y.goldenRatio*y.scrollbarWidth),Te.barWiggleRoom=Te.currentlyVisibleHeight-Te.barLength,Te.wiggleRoom=Math.max(0,Te.totalHeight-Te.scrollableAreaHeight),Te.topY=Te.barWiggleRoom===0?0:Se.scrollY/Te.wiggleRoom*Te.barWiggleRoom,Te.bottomY=Te.topY+Te.barLength,Te.dragMultiplier=Te.wiggleRoom/Te.barWiggleRoom}).attr("transform",function(Se){var Te=Se.width+y.scrollbarWidth/2+y.scrollbarOffset;return r(Te,O(Se))});var we=de.selectAll("."+y.cn.scrollbar).data(x.repeat,x.keyFun);we.enter().append("g").classed(y.cn.scrollbar,!0);var Ae=we.selectAll("."+y.cn.scrollbarSlider).data(x.repeat,x.keyFun);Ae.enter().append("g").classed(y.cn.scrollbarSlider,!0),Ae.attr("transform",function(Se){return r(0,Se.scrollbarState.topY||0)});var Re=Ae.selectAll("."+y.cn.scrollbarGlyph).data(x.repeat,x.keyFun);Re.enter().append("line").classed(y.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",y.scrollbarWidth).attr("stroke-linecap","round").attr("y1",y.scrollbarWidth/2),Re.attr("y2",function(Se){return Se.scrollbarState.barLength-y.scrollbarWidth/2}).attr("stroke-opacity",function(Se){return Se.columnDragInProgress||!Se.scrollbarState.barWiggleRoom||te?0:.4}),Re.transition().delay(0).duration(0),Re.transition().delay(y.scrollbarHideDelay).duration(y.scrollbarHideDuration).attr("stroke-opacity",0);var Fe=we.selectAll("."+y.cn.scrollbarCaptureZone).data(x.repeat,x.keyFun);Fe.enter().append("line").classed(y.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",y.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Se){var Te=C.event.y,Ee=this.getBoundingClientRect(),Ne=Se.scrollbarState,He=Te-Ee.top,_e=C.scale.linear().domain([0,Ne.scrollableAreaHeight]).range([0,Ne.totalHeight]).clamp(!0);Ne.topY<=He&&He<=Ne.bottomY||re(ie,Z,null,_e(He-Ne.barLength/2))(Se)}).call(C.behavior.drag().origin(function(Se){return C.event.stopPropagation(),Se.scrollbarState.scrollbarScrollInProgress=!0,Se}).on("drag",re(ie,Z)).on("dragend",function(){})),Fe.attr("y2",function(Se){return Se.scrollbarState.scrollableAreaHeight}),ie._context.staticPlot&&(Re.remove(),Fe.remove())}function l(Z,ie,te,fe){var de=p(te),we=S(de);E(we);var Ae=M(we);f(Ae);var Re=T(we),Fe=R(Re);A(Fe),P(Fe,ie,fe,Z),J(we)}function p(Z){var ie=Z.selectAll("."+y.cn.columnCells).data(x.repeat,x.keyFun);return ie.enter().append("g").classed(y.cn.columnCells,!0),ie.exit().remove(),ie}function S(Z){var ie=Z.selectAll("."+y.cn.columnCell).data(i.splitToCells,function(te){return te.keyWithinBlock});return ie.enter().append("g").classed(y.cn.columnCell,!0),ie.exit().remove(),ie}function M(Z){var ie=Z.selectAll("."+y.cn.cellRect).data(x.repeat,function(te){return te.keyWithinBlock});return ie.enter().append("rect").classed(y.cn.cellRect,!0),ie}function R(Z){var ie=Z.selectAll("."+y.cn.cellText).data(x.repeat,function(te){return te.keyWithinBlock});return ie.enter().append("text").classed(y.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){C.event.stopPropagation()}),ie}function T(Z){var ie=Z.selectAll("."+y.cn.cellTextHolder).data(x.repeat,function(te){return te.keyWithinBlock});return ie.enter().append("g").classed(y.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ie}function E(Z){Z.each(function(ie,te){var fe=ie.calcdata.cells.font,de=ie.column.specIndex,we={size:H(fe.size,de,te),color:H(fe.color,de,te),family:H(fe.family,de,te)};ie.rowNumber=ie.key,ie.align=H(ie.calcdata.cells.align,de,te),ie.cellBorderWidth=H(ie.calcdata.cells.line.width,de,te),ie.font=we})}function A(Z){Z.each(function(ie){h.font(C.select(this),ie.font)})}function f(Z){Z.attr("width",function(ie){return ie.column.columnWidth}).attr("stroke-width",function(ie){return ie.cellBorderWidth}).each(function(ie){var te=C.select(this);s.stroke(te,H(ie.calcdata.cells.line.color,ie.column.specIndex,ie.rowNumber)),s.fill(te,H(ie.calcdata.cells.fill.color,ie.column.specIndex,ie.rowNumber))})}function P(Z,ie,te,fe){Z.text(function(de){var we=de.column.specIndex,Ae=de.rowNumber,Re=de.value,Fe=typeof Re=="string",Se=Fe&&Re.match(/<br>/i),Te=!Fe||Se;de.mayHaveMarkup=Fe&&Re.match(/[<&>]/);var Ee=w(Re);de.latex=Ee;var Ne=Ee?"":H(de.calcdata.cells.prefix,we,Ae)||"",He=Ee?"":H(de.calcdata.cells.suffix,we,Ae)||"",_e=Ee?null:H(de.calcdata.cells.format,we,Ae)||null,We=Ne+(_e?L(_e)(de.value):de.value)+He,tt;de.wrappingNeeded=!de.wrapped&&!Te&&!Ee&&(tt=z(We)),de.cellHeightMayIncrease=Se||Ee||de.mayHaveMarkup||(tt===void 0?z(We):tt),de.needsConvertToTspans=de.mayHaveMarkup||de.wrappingNeeded||de.latex;var Ke;if(de.wrappingNeeded){var qe=y.wrapSplitCharacter===" "?We.replace(/<a href=/ig,"<a_href="):We,rt=qe.split(y.wrapSplitCharacter),ft=y.wrapSplitCharacter===" "?rt.map(function(pt){return pt.replace(/<a_href=/ig,"<a href=")}):rt;de.fragments=ft.map(function(pt){return{text:pt,width:null}}),de.fragments.push({fragment:y.wrapSpacer,width:null}),Ke=ft.join(y.lineBreaker)+y.lineBreaker+y.wrapSpacer}else delete de.fragments,Ke=We;return Ke}).attr("dy",function(de){return de.needsConvertToTspans?0:"0.75em"}).each(function(de){var we=this,Ae=C.select(we),Re=de.wrappingNeeded?ue:ve;de.needsConvertToTspans?d.convertToTspans(Ae,fe,Re(te,we,ie,fe,de)):C.select(we.parentNode).attr("transform",function(Fe){return r(ee(Fe),y.cellPad)}).attr("text-anchor",function(Fe){return{left:"start",center:"middle",right:"end"}[Fe.align]})})}function w(Z){return typeof Z=="string"&&Z.match(y.latexCheck)}function z(Z){return Z.indexOf(y.wrapSplitCharacter)!==-1}function F(Z,ie,te){var fe=ie.gdColumnsOriginalOrder;ie.gdColumns.sort(function(de,we){return te[fe.indexOf(de)]-te[fe.indexOf(we)]}),ie.columnorder=te,Z.emit("plotly_restyle")}function H(Z,ie,te){if(Array.isArray(Z)){var fe=Z[Math.min(ie,Z.length-1)];return Array.isArray(fe)?fe[Math.min(te,fe.length-1)]:fe}else return Z}function _(Z,ie,te){Z.transition().ease(y.releaseTransitionEase).duration(y.releaseTransitionDuration).attr("transform",r(ie.x,te))}function B(Z){return Z.type==="cells"}function N(Z){return Z.type==="header"}function O(Z){var ie=Z.rowBlocks.length?Z.rowBlocks[0].auxiliaryBlocks:[];return ie.reduce(function(te,fe){return te+X(fe,1/0)},0)}function U(Z,ie,te){for(var fe=[],de=0,we=0;we<Z.length;we++){for(var Ae=Z[we],Re=Ae.rows,Fe=0,Se=0;Se<Re.length;Se++)Fe+=Re[Se].rowHeight;Ae.allRowsHeight=Fe;var Te=de+Fe,Ee=ie,Ne=Ee+te;Ee<Te&&Ne>de&&fe.push(we),de+=Fe}return fe}function K(Z,ie,te){var fe=b(ie)[0];if(fe!==void 0){var de=fe.rowBlocks,we=fe.calcdata,Ae=Q(de,de.length),Re=fe.calcdata.groupHeight-O(fe),Fe=we.scrollY=Math.max(0,Math.min(Ae-Re,we.scrollY)),Se=U(de,Fe,Re);Se.length===1&&(Se[0]===de.length-1?Se.unshift(Se[0]-1):Se.push(Se[0]+1)),Se[0]%2&&Se.reverse(),ie.each(function(Te,Ee){Te.page=Se[Ee],Te.scrollY=Fe}),ie.attr("transform",function(Te){var Ee=Q(Te.rowBlocks,Te.page)-Te.scrollY;return r(0,Ee)}),Z&&(ae(Z,te,ie,Se,fe.prevPages,fe,0),ae(Z,te,ie,Se,fe.prevPages,fe,1),v(te,Z))}}function re(Z,ie,te,fe){return function(we){var Ae=we.calcdata?we.calcdata:we,Re=ie.filter(function(Ee){return Ae.key===Ee.key}),Fe=te||Ae.scrollbarState.dragMultiplier,Se=Ae.scrollY;Ae.scrollY=fe===void 0?Ae.scrollY+Fe*C.event.dy:fe;var Te=Re.selectAll("."+y.cn.yColumn).selectAll("."+y.cn.columnBlock).filter(B);return K(Z,Te,Re),Ae.scrollY===Se}}function ae(Z,ie,te,fe,de,we,Ae){var Re=fe[Ae]!==de[Ae];Re&&(clearTimeout(we.currentRepaint[Ae]),we.currentRepaint[Ae]=setTimeout(function(){var Fe=te.filter(function(Se,Te){return Te===Ae&&fe[Te]!==de[Te]});l(Z,ie,Fe,te),de[Ae]=fe[Ae]}))}function ue(Z,ie,te,fe){return function(){var we=C.select(ie.parentNode);we.each(function(Ae){var Re=Ae.fragments;we.selectAll("tspan.line").each(function(We,tt){Re[tt].width=this.getComputedTextLength()});var Fe=Re[Re.length-1].width,Se=Re.slice(0,-1),Te=[],Ee,Ne,He=0,_e=Ae.column.columnWidth-2*y.cellPad;for(Ae.value="";Se.length;)Ee=Se.shift(),Ne=Ee.width+Fe,He+Ne>_e&&(Ae.value+=Te.join(y.wrapSpacer)+y.lineBreaker,Te=[],He=0),Te.push(Ee.text),He+=Ne;He&&(Ae.value+=Te.join(y.wrapSpacer)),Ae.wrapped=!0}),we.selectAll("tspan.line").remove(),P(we.select("."+y.cn.cellText),te,Z,fe),C.select(ie.parentNode.parentNode).call(J)}}function ve(Z,ie,te,fe,de){return function(){if(!de.settledY){var Ae=C.select(ie.parentNode),Re=se(de),Fe=de.key-Re.firstRowIndex,Se=Re.rows[Fe].rowHeight,Te=de.cellHeightMayIncrease?ie.parentNode.getBoundingClientRect().height+2*y.cellPad:Se,Ee=Math.max(Te,Se),Ne=Ee-Re.rows[Fe].rowHeight;Ne&&(Re.rows[Fe].rowHeight=Ee,Z.selectAll("."+y.cn.columnCell).call(J),K(null,Z.filter(B),0),v(te,fe,!0)),Ae.attr("transform",function(){var He=this,_e=He.parentNode,We=_e.getBoundingClientRect(),tt=C.select(He.parentNode).select("."+y.cn.cellRect).node().getBoundingClientRect(),Ke=He.transform.baseVal.consolidate(),qe=tt.top-We.top+(Ke?Ke.matrix.f:y.cellPad);return r(ee(de,C.select(He.parentNode).select("."+y.cn.cellTextHolder).node().getBoundingClientRect().width),qe)}),de.settledY=!0}}}function ee(Z,ie){switch(Z.align){case"left":return y.cellPad;case"right":return Z.column.columnWidth-(ie||0)-y.cellPad;case"center":return(Z.column.columnWidth-(ie||0))/2;default:return y.cellPad}}function J(Z){Z.attr("transform",function(ie){var te=ie.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,Re){return Ae+X(Re,1/0)},0),fe=se(ie),de=X(fe,ie.key),we=de+te;return r(0,we)}).selectAll("."+y.cn.cellRect).attr("height",function(ie){return Y(se(ie),ie.key).rowHeight})}function Q(Z,ie){for(var te=0,fe=ie-1;fe>=0;fe--)te+=q(Z[fe]);return te}function X(Z,ie){for(var te=0,fe=0;fe<Z.rows.length&&Z.rows[fe].rowIndex<ie;fe++)te+=Z.rows[fe].rowHeight;return te}function q(Z){var ie=Z.allRowsHeight;if(ie!==void 0)return ie;for(var te=0,fe=0;fe<Z.rows.length;fe++)te+=Z.rows[fe].rowHeight;return Z.allRowsHeight=te,te}function se(Z){return Z.rowBlocks[Z.page]}function Y(Z,ie){return Z.rows[ie-Z.firstRowIndex]}},45802:function(W,V,e){var y=e(5386).fF,C=e(5386).si,a=e(50693),L=e(27670).Y,x=e(34e3),h=e(57564),d=e(43473),t=e(1426).extendFlat,r=e(79952).u;W.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:h.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:h.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},x.textfont,{}),editType:"calc"},text:x.text,textinfo:h.textinfo,texttemplate:C({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:x.hovertext,hoverinfo:h.hoverinfo,hovertemplate:y({},{keys:d.eventDataKeys}),textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:t({},x.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:x.sort,root:h.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},78018:function(W,V,e){var y=e(74875);V.name="treemap",V.plot=function(C,a,L,x){y.plotBasePlot(V.name,C,a,L,x)},V.clean=function(C,a,L,x){y.cleanBasePlot(V.name,C,a,L,x)}},65039:function(W,V,e){var y=e(52147);V.y=function(C,a){return y.calc(C,a)},V.T=function(C){return y._runCrossTraceCalc("treemap",C)}},43473:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(W,V,e){var y=e(71828),C=e(45802),a=e(7901),L=e(27670).c,x=e(90769).handleText,h=e(97313).TEXTPAD,d=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,u=t.handleDefaults;W.exports=function(i,s,o,m){function c(f,P){return y.coerce(i,s,C,f,P)}var b=c("labels"),v=c("parents");if(!b||!b.length||!v||!v.length){s.visible=!1;return}var l=c("values");l&&l.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var p=c("tiling.packing");p==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var S=c("text");c("texttemplate"),s.texttemplate||c("textinfo",Array.isArray(S)?"text+label":"label"),c("hovertext"),c("hovertemplate");var M=c("pathbar.visible"),R="auto";x(i,s,m,c,R,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var T=s.textposition.indexOf("bottom")!==-1;d(i,s,m,c);var E=s._hasColorscale=r(i,"marker","colors")||(i.marker||{}).coloraxis;E?u(i,s,m,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(s.marker.colors||[]).length);var A=s.textfont.size*2;c("marker.pad.t",T?A/4:A),c("marker.pad.l",A/4),c("marker.pad.r",A/4),c("marker.pad.b",T?A:A/4),c("marker.cornerradius"),s._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},M&&(c("pathbar.thickness",s.pathbar.textfont.size+2*h),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),L(s,m,c),s._length=null}},80694:function(W,V,e){var y=e(39898),C=e(2791),a=e(72597),L=a.clearMinTextSize,x=e(16688).resizeText,h=e(46650);W.exports=function(t,r,u,n,i){var s=i.type,o=i.drawDescendants,m=t._fullLayout,c=m["_"+s+"layer"],b,v,l=!u;if(L(s,m),b=c.selectAll("g.trace."+s).data(r,function(S){return S[0].trace.uid}),b.enter().append("g").classed("trace",!0).classed(s,!0),b.order(),!m.uniformtext.mode&&C.hasTransition(u)){n&&(v=n());var p=y.transition().duration(u.duration).ease(u.easing).each("end",function(){v&&v()}).each("interrupt",function(){v&&v()});p.each(function(){c.selectAll("g.trace").each(function(S){h(t,S,this,u,o)})})}else b.each(function(S){h(t,S,this,u,o)}),m.uniformtext.mode&&x(t,c.selectAll(".trace"),s);l&&b.exit().remove()}},66209:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(63893),x=e(37210),h=e(96362).styleOne,d=e(43473),t=e(2791),r=e(83523),u=!0;W.exports=function(i,s,o,m,c){var b=c.barDifY,v=c.width,l=c.height,p=c.viewX,S=c.viewY,M=c.pathSlice,R=c.toMoveInsideSlice,T=c.strTransform,E=c.hasTransition,A=c.handleSlicesExit,f=c.makeUpdateSliceInterpolator,P=c.makeUpdateTextInterpolator,w={},z=i._context.staticPlot,F=i._fullLayout,H=s[0],_=H.trace,B=H.hierarchy,N=v/_._entryDepth,O=t.listPath(o.data,"id"),U=x(B.copy(),[v,l],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();U=U.filter(function(re){var ae=O.indexOf(re.data.id);return ae===-1?!1:(re.x0=N*ae,re.x1=N*(ae+1),re.y0=b,re.y1=b+l,re.onPathbar=!0,!0)}),U.reverse(),m=m.data(U,t.getPtId),m.enter().append("g").classed("pathbar",!0),A(m,u,w,[v,l],M),m.order();var K=m;E&&(K=K.transition().each("end",function(){var re=y.select(this);t.setSliceCursor(re,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(re){re._x0=p(re.x0),re._x1=p(re.x1),re._y0=S(re.y0),re._y1=S(re.y1),re._hoverX=p(re.x1-Math.min(v,l)/2),re._hoverY=S(re.y1-l/2);var ae=y.select(this),ue=C.ensureSingle(ae,"path","surface",function(Q){Q.style("pointer-events",z?"none":"all")});E?ue.transition().attrTween("d",function(Q){var X=f(Q,u,w,[v,l]);return function(q){return M(X(q))}}):ue.attr("d",M),ae.call(r,o,i,s,{styleOne:h,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:i._transitioning}),ue.call(h,re,_,i,{hovered:!1}),re._text=(t.getPtLabel(re)||"").split("<br>").join(" ")||"";var ve=C.ensureSingle(ae,"g","slicetext"),ee=C.ensureSingle(ve,"text","",function(Q){Q.attr("data-notex",1)}),J=C.ensureUniformFontSize(i,t.determineTextFont(_,re,F.font,{onPathbar:!0}));ee.text(re._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,J).call(L.convertToTspans,i),re.textBB=a.bBox(ee.node()),re.transform=R(re,{fontSize:J.size,onPathbar:!0}),re.transform.fontSize=J.size,E?ee.transition().attrTween("transform",function(Q){var X=P(Q,u,w,[v,l]);return function(q){return T(X(q))}}):ee.attr("transform",T(re))})}},52583:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(63893),x=e(37210),h=e(96362).styleOne,d=e(43473),t=e(2791),r=e(83523),u=e(24714).formatSliceLabel,n=!1;W.exports=function(s,o,m,c,b){var v=b.width,l=b.height,p=b.viewX,S=b.viewY,M=b.pathSlice,R=b.toMoveInsideSlice,T=b.strTransform,E=b.hasTransition,A=b.handleSlicesExit,f=b.makeUpdateSliceInterpolator,P=b.makeUpdateTextInterpolator,w=b.prevEntry,z={},F=s._context.staticPlot,H=s._fullLayout,_=o[0],B=_.trace,N=B.textposition.indexOf("left")!==-1,O=B.textposition.indexOf("right")!==-1,U=B.textposition.indexOf("bottom")!==-1,K=!U&&!B.marker.pad.t||U&&!B.marker.pad.b,re=x(m,[v,l],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}),ae=re.descendants(),ue=1/0,ve=-1/0;ae.forEach(function(q){var se=q.depth;se>=B._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(ue=Math.min(ue,se),ve=Math.max(ve,se))}),c=c.data(ae,t.getPtId),B._maxVisibleLayers=isFinite(ve)?ve-ue+1:0,c.enter().append("g").classed("slice",!0),A(c,n,z,[v,l],M),c.order();var ee=null;if(E&&w){var J=t.getPtId(w);c.each(function(q){ee===null&&t.getPtId(q)===J&&(ee={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var Q=function(){return ee||{x0:0,x1:v,y0:0,y1:l}},X=c;return E&&(X=X.transition().each("end",function(){var q=y.select(this);t.setSliceCursor(q,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(q){var se=t.isHeader(q,B);q._x0=p(q.x0),q._x1=p(q.x1),q._y0=S(q.y0),q._y1=S(q.y1),q._hoverX=p(q.x1-B.marker.pad.r),q._hoverY=S(U?q.y1-B.marker.pad.b/2:q.y0+B.marker.pad.t/2);var Y=y.select(this),Z=C.ensureSingle(Y,"path","surface",function(de){de.style("pointer-events",F?"none":"all")});E?Z.transition().attrTween("d",function(de){var we=f(de,n,Q(),[v,l]);return function(Ae){return M(we(Ae))}}):Z.attr("d",M),Y.call(r,m,s,o,{styleOne:h,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{isTransitioning:s._transitioning}),Z.call(h,q,B,s,{hovered:!1}),q.x0===q.x1||q.y0===q.y1?q._text="":se?q._text=K?"":t.getPtLabel(q)||"":q._text=u(q,m,B,o,H)||"";var ie=C.ensureSingle(Y,"g","slicetext"),te=C.ensureSingle(ie,"text","",function(de){de.attr("data-notex",1)}),fe=C.ensureUniformFontSize(s,t.determineTextFont(B,q,H.font));te.text(q._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":N||se?"start":"middle").call(a.font,fe).call(L.convertToTspans,s),q.textBB=a.bBox(te.node()),q.transform=R(q,{fontSize:fe.size,isHeader:se}),q.transform.fontSize=fe.size,E?te.transition().attrTween("transform",function(de){var we=P(de,n,Q(),[v,l]);return function(Ae){return T(we(Ae))}}):te.attr("transform",T(q))}),ee}},14102:function(W){W.exports=function V(e,y,C){var a;C.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),C.flipX&&(a=e.x0,e.x0=y[0]-e.x1,e.x1=y[0]-a),C.flipY&&(a=e.y0,e.y0=y[1]-e.y1,e.y1=y[1]-a);var L=e.children;if(L)for(var x=0;x<L.length;x++)V(L[x],y,C)}},70954:function(W,V,e){W.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(W){W.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(W,V,e){var y=e(71828),C=e(55479);W.exports=function(L,x){function h(d,t){return y.coerce(L,x,C,d,t)}h("treemapcolorway",x.colorway),h("extendtreemapcolors")}},37210:function(W,V,e){var y=e(674),C=e(14102);W.exports=function(x,h,d){var t=d.flipX,r=d.flipY,u=d.packing==="dice-slice",n=d.pad[r?"bottom":"top"],i=d.pad[t?"right":"left"],s=d.pad[t?"left":"right"],o=d.pad[r?"top":"bottom"],m;u&&(m=i,i=n,n=m,m=s,s=o,o=m);var c=y.treemap().tile(a(d.packing,d.squarifyratio)).paddingInner(d.pad.inner).paddingLeft(i).paddingRight(s).paddingTop(n).paddingBottom(o).size(u?[h[1],h[0]]:h)(x);return(u||t||r)&&C(c,h,{swapXY:u,flipX:t,flipY:r}),c};function a(L,x){switch(L){case"squarify":return y.treemapSquarify.ratio(x);case"binary":return y.treemapBinary;case"dice":return y.treemapDice;case"slice":return y.treemapSlice;default:return y.treemapSliceDice}}},5893:function(W,V,e){var y=e(80694),C=e(52583);W.exports=function(L,x,h,d){return y(L,x,h,d,{type:"treemap",drawDescendants:C})}},46650:function(W,V,e){var y=e(39898),C=e(81684).sX,a=e(2791),L=e(71828),x=e(97313).TEXTPAD,h=e(17295),d=h.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,u=e(43473),n=e(66209);function i(s){return a.isHierarchyRoot(s)?"":a.getPtId(s)}W.exports=function(o,m,c,b,v){var l=o._fullLayout,p=m[0],S=p.trace,M=S.type,R=M==="icicle",T=p.hierarchy,E=a.findEntryWithLevel(T,S.level),A=y.select(c),f=A.selectAll("g.pathbar"),P=A.selectAll("g.slice");if(!E){f.remove(),P.remove();return}var w=a.isHierarchyRoot(E),z=!l.uniformtext.mode&&a.hasTransition(b),F=a.getMaxDepth(S),H=function(Je){return Je.data.depth-E.data.depth<F},_=l._size,B=S.domain,N=_.w*(B.x[1]-B.x[0]),O=_.h*(B.y[1]-B.y[0]),U=N,K=S.pathbar.thickness,re=S.marker.line.width+u.gapWithPathbar,ae=S.pathbar.visible?S.pathbar.side.indexOf("bottom")>-1?O+re:-(K+re):0,ue={x0:U,x1:U,y0:ae,y1:ae+K},ve=function(Je,ze,Oe){var Ue=S.tiling.pad,ke=function(De){return De-Ue<=ze.x0},Me=function(De){return De+Ue>=ze.x1},ce=function(De){return De-Ue<=ze.y0},be=function(De){return De+Ue>=ze.y1};return Je.x0===ze.x0&&Je.x1===ze.x1&&Je.y0===ze.y0&&Je.y1===ze.y1?{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1}:{x0:ke(Je.x0-Ue)?0:Me(Je.x0-Ue)?Oe[0]:Je.x0,x1:ke(Je.x1+Ue)?0:Me(Je.x1+Ue)?Oe[0]:Je.x1,y0:ce(Je.y0-Ue)?0:be(Je.y0-Ue)?Oe[1]:Je.y0,y1:ce(Je.y1+Ue)?0:be(Je.y1+Ue)?Oe[1]:Je.y1}},ee=null,J={},Q={},X=null,q=function(Je,ze){return ze?J[i(Je)]:Q[i(Je)]},se=function(Je,ze,Oe,Ue){if(ze)return J[i(T)]||ue;var ke=Q[S.level]||Oe;return H(Je)?ve(Je,ke,Ue):{}};p.hasMultipleRoots&&w&&F++,S._maxDepth=F,S._backgroundColor=l.paper_bgcolor,S._entryDepth=E.data.depth,S._atRootLevel=w;var Y=-N/2+_.l+_.w*(B.x[1]+B.x[0])/2,Z=-O/2+_.t+_.h*(1-(B.y[1]+B.y[0])/2),ie=function(Je){return Y+Je},te=function(Je){return Z+Je},fe=te(0),de=ie(0),we=function(Je){return de+Je},Ae=function(Je){return fe+Je};function Re(Je,ze){return Je+","+ze}var Fe=we(0),Se=function(Je){Je.x=Math.max(Fe,Je.x)},Te=S.pathbar.edgeshape,Ee=function(Je){var ze=we(Math.max(Math.min(Je.x0,Je.x0),0)),Oe=we(Math.min(Math.max(Je.x1,Je.x1),U)),Ue=Ae(Je.y0),ke=Ae(Je.y1),Me=K/2,ce={},be={};ce.x=ze,be.x=Oe,ce.y=be.y=(Ue+ke)/2;var De={x:ze,y:Ue},Ve={x:Oe,y:Ue},it={x:Oe,y:ke},ot={x:ze,y:ke};return Te===">"?(De.x-=Me,Ve.x-=Me,it.x-=Me,ot.x-=Me):Te==="/"?(it.x-=Me,ot.x-=Me,ce.x-=Me/2,be.x-=Me/2):Te==="\\"?(De.x-=Me,Ve.x-=Me,ce.x-=Me/2,be.x-=Me/2):Te==="<"&&(ce.x-=Me,be.x-=Me),Se(De),Se(ot),Se(ce),Se(Ve),Se(it),Se(be),"M"+Re(De.x,De.y)+"L"+Re(Ve.x,Ve.y)+"L"+Re(be.x,be.y)+"L"+Re(it.x,it.y)+"L"+Re(ot.x,ot.y)+"L"+Re(ce.x,ce.y)+"Z"},Ne=S[R?"tiling":"marker"].pad,He=function(Je){return S.textposition.indexOf(Je)!==-1},_e=He("top"),We=He("left"),tt=He("right"),Ke=He("bottom"),qe=function(Je){var ze=ie(Je.x0),Oe=ie(Je.x1),Ue=te(Je.y0),ke=te(Je.y1),Me=Oe-ze,ce=ke-Ue;if(!Me||!ce)return"";var be=S.marker.cornerradius||0,De=Math.min(be,Me/2,ce/2);De&&Je.data&&Je.data.data&&Je.data.data.label&&(_e&&(De=Math.min(De,Ne.t)),We&&(De=Math.min(De,Ne.l)),tt&&(De=Math.min(De,Ne.r)),Ke&&(De=Math.min(De,Ne.b)));var Ve=function(it,ot){return De?"a"+Re(De,De)+" 0 0 1 "+Re(it,ot):""};return"M"+Re(ze,Ue+De)+Ve(De,-De)+"L"+Re(Oe-De,Ue)+Ve(De,De)+"L"+Re(Oe,ke-De)+Ve(-De,De)+"L"+Re(ze+De,ke)+Ve(-De,-De)+"Z"},rt=function(Je,ze){var Oe=Je.x0,Ue=Je.x1,ke=Je.y0,Me=Je.y1,ce=Je.textBB,be=_e||ze.isHeader&&!Ke,De=be?"start":Ke?"end":"middle",Ve=He("right"),it=He("left")||ze.onPathbar,ot=it?-1:Ve?1:0;if(ze.isHeader){if(Oe+=(R?Ne:Ne.l)-x,Ue-=(R?Ne:Ne.r)-x,Oe>=Ue){var Tt=(Oe+Ue)/2;Oe=Tt,Ue=Tt}var It;Ke?(It=Me-(R?Ne:Ne.b),ke<It&&It<Me&&(ke=It)):(It=ke+(R?Ne:Ne.t),ke<It&&It<Me&&(Me=It))}var Ht=d(Oe,Ue,ke,Me,ce,{isHorizontal:!1,constrained:!0,angle:0,anchor:De,leftToRight:ot});return Ht.fontSize=ze.fontSize,Ht.targetX=ie(Ht.targetX),Ht.targetY=te(Ht.targetY),isNaN(Ht.targetX)||isNaN(Ht.targetY)?{}:(Oe!==Ue&&ke!==Me&&r(S.type,Ht,l),{scale:Ht.scale,rotate:Ht.rotate,textX:Ht.textX,textY:Ht.textY,anchorX:Ht.anchorX,anchorY:Ht.anchorY,targetX:Ht.targetX,targetY:Ht.targetY})},ft=function(Je,ze){for(var Oe,Ue=0,ke=Je;!Oe&&Ue<F;)Ue++,ke=ke.parent,ke?Oe=q(ke,ze):Ue=F;return Oe||{}},pt=function(Je,ze,Oe,Ue){var ke=q(Je,ze),Me;if(ze)Me=ue;else{var ce=q(E,ze);ce?Me=ve(Je,ce,Ue):Me={}}return C(ke,Me)},gt=function(Je,ze,Oe,Ue,ke){var Me=q(Je,ze),ce;if(Me)ce=Me;else if(ze)ce=ue;else if(ee)if(Je.parent){var be=X||Oe;be&&!ze?ce=ve(Je,be,Ue):(ce={},L.extendFlat(ce,ft(Je,ze)))}else ce=L.extendFlat({},Je),R&&(ke.orientation==="h"?ke.flipX?ce.x0=Je.x1:ce.x1=0:ke.flipY?ce.y0=Je.y1:ce.y1=0);else ce={};return C(ce,{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1})},Mt=function(Je,ze,Oe,Ue){var ke=q(Je,ze),Me={},ce=se(Je,ze,Oe,Ue);L.extendFlat(Me,{transform:rt({x0:ce.x0,x1:ce.x1,y0:ce.y0,y1:ce.y1,textBB:Je.textBB,_text:Je._text},{isHeader:a.isHeader(Je,S)})}),ke?Me=ke:Je.parent&&L.extendFlat(Me,ft(Je,ze));var be=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(S.type,be,l),C(Me,{transform:{scale:be.scale,rotate:be.rotate,textX:be.textX,textY:be.textY,anchorX:be.anchorX,anchorY:be.anchorY,targetX:be.targetX,targetY:be.targetY}})},Lt=function(Je,ze,Oe,Ue,ke){var Me=Ue[0],ce=Ue[1];z?Je.exit().transition().each(function(){var be=y.select(this),De=be.select("path.surface");De.transition().attrTween("d",function(it){var ot=pt(it,ze,Oe,[Me,ce]);return function(Tt){return ke(ot(Tt))}});var Ve=be.select("g.slicetext");Ve.attr("opacity",0)}).remove():Je.exit().remove()},Wt=function(Je){var ze=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(S.type,ze,l),L.getTextTransform({textX:ze.textX,textY:ze.textY,anchorX:ze.anchorX,anchorY:ze.anchorY,targetX:ze.targetX,targetY:ze.targetY,scale:ze.scale,rotate:ze.rotate})};z&&(f.each(function(Je){J[i(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(J[i(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate})}),P.each(function(Je){Q[i(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(Q[i(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate}),!ee&&a.isEntry(Je)&&(ee=Je)})),X=v(o,m,E,P,{width:N,height:O,viewX:ie,viewY:te,pathSlice:qe,toMoveInsideSlice:rt,prevEntry:ee,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Lt,hasTransition:z,strTransform:Wt}),S.pathbar.visible?n(o,m,E,f,{barDifY:ae,width:U,height:K,viewX:we,viewY:Ae,pathSlice:Ee,toMoveInsideSlice:rt,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Lt,hasTransition:z,strTransform:Wt}):f.remove()}},96362:function(W,V,e){var y=e(39898),C=e(7901),a=e(71828),L=e(2791),x=e(72597).resizeText,h=e(43467);function d(r){var u=r._fullLayout._treemaplayer.selectAll(".trace");x(r,u,"treemap"),u.each(function(n){var i=y.select(this),s=n[0],o=s.trace;i.style("opacity",o.opacity),i.selectAll("path.surface").each(function(m){y.select(this).call(t,m,o,r,{hovered:!1})})})}function t(r,u,n,i,s){var o=(s||{}).hovered,m=u.data.data,c=m.i,b,v,l=m.color,p=L.isHierarchyRoot(u),S=1;if(o)b=n._hovered.marker.line.color,v=n._hovered.marker.line.width;else if(p&&l===n.root.color)S=100,b="rgba(0,0,0,0)",v=0;else if(b=a.castOption(n,c,"marker.line.color")||C.defaultLine,v=a.castOption(n,c,"marker.line.width")||0,!n._hasColorscale&&!u.onPathbar){var M=n.marker.depthfade;if(M){var R=C.combine(C.addOpacity(n._backgroundColor,.75),l),T;if(M===!0){var E=L.getMaxDepth(n);isFinite(E)?L.isLeaf(u)?T=0:T=n._maxVisibleLayers-(u.data.depth-n._entryDepth):T=u.data.height+1}else T=u.data.depth-n._entryDepth,n._atRootLevel||T++;if(T>0)for(var A=0;A<T;A++){var f=.5*A/T;l=C.combine(C.addOpacity(R,f),l)}}}r.call(h,u,n,i,l).style("stroke-width",v).call(C.stroke,b).style("opacity",S)}W.exports={style:d,styleOne:t}},68875:function(W,V,e){var y=e(53522),C=e(1426).extendFlat,a=e(12663).axisHoverFormat;W.exports={y:y.y,x:y.x,x0:y.x0,y0:y.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:C({},y.name,{}),orientation:C({},y.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,points:C({},y.boxpoints,{}),jitter:C({},y.jitter,{}),pointpos:C({},y.pointpos,{}),width:C({},y.width,{}),marker:y.marker,text:y.text,hovertext:y.hovertext,hovertemplate:y.hovertemplate,quartilemethod:y.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(W,V,e){var y=e(71828),C=e(89298),a=e(48518),L=e(60168),x=e(50606).BADNUM;W.exports=function(u,n){var i=a(u,n);if(i[0].t.empty)return i;for(var s=u._fullLayout,o=C.getFromId(u,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,c=-1/0,b=0,v=0,l=0;l<i.length;l++){var p=i[l],S=p.pts.map(L.extractVal),M=p.bandwidth=d(n,p,S),R=p.span=t(n,p,o,M);if(p.min===p.max&&M===0)R=p.span=[p.min,p.max],p.density=[{v:1,t:R[0]}],p.bandwidth=M,b=Math.max(b,1);else{var T=R[1]-R[0],E=Math.ceil(T/(M/3)),A=T/E;if(!isFinite(A)||!isFinite(E))return y.error("Something went wrong with computing the violin span"),i[0].t.empty=!0,i;var f=L.makeKDE(p,n,S);p.density=new Array(E);for(var P=0,w=R[0];w<R[1]+A/2;P++,w+=A){var z=f(w);p.density[P]={v:z,t:w},b=Math.max(b,z)}}v=Math.max(v,S.length),m=Math.min(m,R[0]),c=Math.max(c,R[1])}var F=C.findExtremes(o,[m,c],{padded:!0});if(n._extremes[o._id]=F,n.width)i[0].t.maxKDE=b;else{var H=s._violinScaleGroupStats,_=n.scalegroup,B=H[_];B?(B.maxKDE=Math.max(B.maxKDE,b),B.maxCount=Math.max(B.maxCount,v)):H[_]={maxKDE:b,maxCount:v}}return i[0].t.labels.kde=y._(u,"kde:"),i};function h(r,u,n){var i=Math.min(u,n/1.349);return 1.059*i*Math.pow(r,-.2)}function d(r,u,n){var i=u.max-u.min;if(!i)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,i/1e4);var s=n.length,o=y.stdev(n,s-1,u.mean);return Math.max(h(s,o,u.q3-u.q1),i/100)}function t(r,u,n,i){var s=r.spanmode,o=r.span||[],m=[u.min,u.max],c=[u.min-2*i,u.max+2*i],b;function v(p){var S=o[p],M=n.type==="multicategory"?n.r2c(S):n.d2c(S,0,r[u.valLetter+"calendar"]);return M===x?c[p]:M}s==="soft"?b=c:s==="hard"?b=m:b=[v(0),v(1)];var l={type:"linear",range:b};return C.setConvert(l),l.cleanRange(),b}},86403:function(W,V,e){var y=e(37188).setPositionOffset,C=["v","h"];W.exports=function(L,x){for(var h=L.calcdata,d=x.xaxis,t=x.yaxis,r=0;r<C.length;r++){for(var u=C[r],n=u==="h"?t:d,i=[],s=0;s<h.length;s++){var o=h[s],m=o[0].t,c=o[0].trace;c.visible===!0&&c.type==="violin"&&!m.empty&&c.orientation===u&&c.xaxis===d._id&&c.yaxis===t._id&&i.push(s)}y("violin",L,i,n)}}},15899:function(W,V,e){var y=e(71828),C=e(7901),a=e(36411),L=e(68875);W.exports=function(h,d,t,r){function u(A,f){return y.coerce(h,d,L,A,f)}function n(A,f){return y.coerce2(h,d,L,A,f)}if(a.handleSampleDefaults(h,d,u,r),d.visible!==!1){u("bandwidth"),u("side");var i=u("width");i||(u("scalegroup",d.name),u("scalemode"));var s=u("span"),o;Array.isArray(s)&&(o="manual"),u("spanmode",o);var m=u("line.color",(h.marker||{}).color||t),c=u("line.width"),b=u("fillcolor",C.addOpacity(d.line.color,.5));a.handlePointsDefaults(h,d,u,{prefix:""});var v=n("box.width"),l=n("box.fillcolor",b),p=n("box.line.color",m),S=n("box.line.width",c),M=u("box.visible",!!(v||l||p||S));M||(d.box={visible:!1});var R=n("meanline.color",m),T=n("meanline.width",c),E=u("meanline.visible",!!(R||T));E||(d.meanline={visible:!1}),u("quartilemethod")}}},60168:function(W,V,e){var y=e(71828),C={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};V.makeKDE=function(a,L,x){var h=x.length,d=C.gaussian,t=a.bandwidth,r=1/(h*t);return function(u){for(var n=0,i=0;i<h;i++)n+=d((u-x[i])/t);return r*n}},V.getPositionOnKdePath=function(a,L,x){var h,d;L.orientation==="h"?(h="y",d="x"):(h="x",d="y");var t=y.findPointOnPath(a.path,x,d,{pathLength:a.pathLength}),r=a.posCenterPx,u=t[h],n=L.side==="both"?2*r-u:r;return[u,n]},V.getKdeValue=function(a,L,x){var h=a.pts.map(V.extractVal),d=V.makeKDE(a,L,h);return d(x)/a.posDensityScale},V.extractVal=function(a){return a.v}},57634:function(W,V,e){var y=e(7901),C=e(71828),a=e(89298),L=e(41868),x=e(60168);W.exports=function(d,t,r,u,n){n||(n={});var i=n.hoverLayer,s=d.cd,o=s[0].trace,m=o.hoveron,c=m.indexOf("violins")!==-1,b=m.indexOf("kde")!==-1,v=[],l,p;if(c||b){var S=L.hoverOnBoxes(d,t,r,u);if(b&&S.length>0){var M=d.xa,R=d.ya,T,E,A,f,P;o.orientation==="h"?(P=t,T="y",A=R,E="x",f=M):(P=r,T="x",A=M,E="y",f=R);var w=s[d.index];if(P>=w.span[0]&&P<=w.span[1]){var z=C.extendFlat({},d),F=f.c2p(P,!0),H=x.getKdeValue(w,o,P),_=x.getPositionOnKdePath(w,o,F),B=A._offset,N=A._length;z[T+"0"]=_[0],z[T+"1"]=_[1],z[E+"0"]=z[E+"1"]=F,z[E+"Label"]=E+": "+a.hoverLabelText(f,P,o[E+"hoverformat"])+", "+s[0].t.labels.kde+" "+H.toFixed(3);for(var O=0,U=0;U<S.length;U++)if(S[U].attr==="med"){O=U;break}z.spikeDistance=S[O].spikeDistance;var K=T+"Spike";z[K]=S[O][K],S[O].spikeDistance=void 0,S[O][K]=void 0,z.hovertemplate=!1,v.push(z),p={},p[T+"1"]=C.constrain(B+_[0],B,B+N),p[T+"2"]=C.constrain(B+_[1],B,B+N),p[E+"1"]=p[E+"2"]=f._offset+F}}c&&(v=v.concat(S))}m.indexOf("points")!==-1&&(l=L.hoverOnPoints(d,t,r));var re=i.selectAll(".violinline-"+o.uid).data(p?[0]:[]);return re.enter().append("line").classed("violinline-"+o.uid,!0).attr("stroke-width",1.5),re.exit().remove(),re.attr(p).call(y.stroke,d.color),u==="closest"?l?[l]:v:(l&&v.push(l),v)}},47462:function(W,V,e){W.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(W,V,e){var y=e(40094),C=e(71828).extendFlat;W.exports={violinmode:C({},y.boxmode,{}),violingap:C({},y.boxgap,{}),violingroupgap:C({},y.boxgroupgap,{})}},33598:function(W,V,e){var y=e(71828),C=e(9228),a=e(4199);W.exports=function(x,h,d){function t(r,u){return y.coerce(x,h,C,r,u)}a._supply(x,h,d,t,"violin")}},28443:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(86047),x=e(34621),h=e(60168);W.exports=function(t,r,u,n){var i=t._context.staticPlot,s=t._fullLayout,o=r.xaxis,m=r.yaxis;function c(b,v){var l=x(b,{xaxis:o,yaxis:m,trace:v,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(l[0],1)}C.makeTraceGroups(n,u,"trace violins").each(function(b){var v=y.select(this),l=b[0],p=l.t,S=l.trace;if(S.visible!==!0||p.empty){v.remove();return}var M=p.bPos,R=p.bdPos,T=r[p.valLetter+"axis"],E=r[p.posLetter+"axis"],A=S.side==="both",f=A||S.side==="positive",P=A||S.side==="negative",w=v.selectAll("path.violin").data(C.identity);w.enter().append("path").style("vector-effect",i?"none":"non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each(function(U){var K=y.select(this),re=U.density,ae=re.length,ue=E.c2l(U.pos+M,!0),ve=E.l2p(ue),ee;if(S.width)ee=p.maxKDE/R;else{var J=s._violinScaleGroupStats[S.scalegroup];ee=S.scalemode==="count"?J.maxKDE/R*(J.maxCount/U.pts.length):J.maxKDE/R}var Q,X,q,se,Y,Z,ie;if(f){for(Z=new Array(ae),se=0;se<ae;se++)ie=Z[se]={},ie[p.posLetter]=ue+re[se].v/ee,ie[p.valLetter]=T.c2l(re[se].t,!0);Q=c(Z,S)}if(P){for(Z=new Array(ae),Y=0,se=ae-1;Y<ae;Y++,se--)ie=Z[Y]={},ie[p.posLetter]=ue-re[se].v/ee,ie[p.valLetter]=T.c2l(re[se].t,!0);X=c(Z,S)}if(A)q=Q+"L"+X.substr(1)+"Z";else{var te=[ve,T.c2p(re[0].t)],fe=[ve,T.c2p(re[ae-1].t)];S.orientation==="h"&&(te.reverse(),fe.reverse()),f?q="M"+te+"L"+Q.substr(1)+"L"+fe:q="M"+fe+"L"+X.substr(1)+"L"+te}K.attr("d",q),U.posCenterPx=ve,U.posDensityScale=ee*R,U.path=K.node(),U.pathLength=U.path.getTotalLength()/(A?2:1)});var z=S.box,F=z.width,H=(z.line||{}).width,_,B;A?(_=R*F,B=0):f?(_=[0,R*F/2],B=H*{x:1,y:-1}[p.posLetter]):(_=[R*F/2,0],B=H*{x:-1,y:1}[p.posLetter]),L.plotBoxAndWhiskers(v,{pos:E,val:T},S,{bPos:M,bdPos:_,bPosPxOffset:B}),L.plotBoxMean(v,{pos:E,val:T},S,{bPos:M,bdPos:_,bPosPxOffset:B});var N;!S.box.visible&&S.meanline.visible&&(N=C.identity);var O=v.selectAll("path.meanline").data(N||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",i?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(U){var K=T.c2p(U.mean,!0),re=h.getPositionOnKdePath(U,S,K);y.select(this).attr("d",S.orientation==="h"?"M"+K+","+re[0]+"V"+re[1]:"M"+re[0]+","+K+"H"+re[1])}),L.plotPoints(v,{x:o,y:m},S,p)})}},31847:function(W,V,e){var y=e(39898),C=e(7901),a=e(16296).stylePoints;W.exports=function(x){var h=y.select(x).selectAll("g.trace.violins");h.style("opacity",function(d){return d[0].trace.opacity}),h.each(function(d){var t=d[0].trace,r=y.select(this),u=t.box||{},n=u.line||{},i=t.meanline||{},s=i.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(C.stroke,t.line.color).call(C.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",n.width+"px").call(C.stroke,n.color).call(C.fill,u.fillcolor);var o={"stroke-width":s+"px","stroke-dasharray":2*s+"px,"+s+"px"};r.selectAll("path.mean").style(o).call(C.stroke,i.color),r.selectAll("path.meanline").style(o).call(C.stroke,i.color),a(r,t,x)})}},16336:function(W,V,e){var y=e(50693),C=e(16249),a=e(54532),L=e(9012),x=e(1426).extendFlat,h=e(30962).overrideAll,d=W.exports=h(x({x:C.x,y:C.y,z:C.z,value:C.value,isomin:C.isomin,isomax:C.isomax,surface:C.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:C.slices,caps:C.caps,text:C.text,hovertext:C.hovertext,xhoverformat:C.xhoverformat,yhoverformat:C.yhoverformat,zhoverformat:C.zhoverformat,valuehoverformat:C.valuehoverformat,hovertemplate:C.hovertemplate},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:C.colorbar,opacity:C.opacity,opacityscale:a.opacityscale,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:x({},L.hoverinfo),showlegend:x({},L.showlegend,{dflt:!1})}),"calc","nested");d.x.editType=d.y.editType=d.z.editType=d.value.editType="calc+clearAxisTypes",d.transforms=void 0},64809:function(W,V,e){var y=e(9330).gl_mesh3d,C=e(81697).parseColorScale,a=e(78614),L=e(21081).extractOpts,x=e(90060),h=e(22674).findNearestOnAxis,d=e(22674).generateIsoMeshes;function t(n,i,s){this.scene=n,this.uid=s,this.mesh=i,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(n){if(n.object===this.mesh){var i=n.data.index,s=this.data._meshX[i],o=this.data._meshY[i],m=this.data._meshZ[i],c=this.data._Ys.length,b=this.data._Zs.length,v=h(s,this.data._Xs).id,l=h(o,this.data._Ys).id,p=h(m,this.data._Zs).id,S=n.index=p+b*l+b*c*v;n.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[S]!==void 0?n.textLabel=M[S]:M&&(n.textLabel=M),!0}},r.update=function(n){var i=this.scene,s=i.fullSceneLayout;this.data=d(n);function o(l,p,S,M){return p.map(function(R){return l.d2l(R,0,M)*S})}var m=x(o(s.xaxis,n._meshX,i.dataScale[0],n.xcalendar),o(s.yaxis,n._meshY,i.dataScale[1],n.ycalendar),o(s.zaxis,n._meshZ,i.dataScale[2],n.zcalendar)),c=x(n._meshI,n._meshJ,n._meshK),b={positions:m,cells:c,lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:a(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},v=L(n);b.vertexIntensity=n._meshIntensity,b.vertexIntensityBounds=[v.min,v.max],b.colormap=C(n),this.mesh.update(b)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(n,i){var s=n.glplot.gl,o=y({gl:s}),m=new t(n,o,i.uid);return o._trace=m,m.update(i),n.glplot.add(o),m}W.exports=u},47651:function(W,V,e){var y=e(71828),C=e(16336),a=e(82738).supplyIsoDefaults,L=e(91831).opacityscaleDefaults;W.exports=function(h,d,t,r){function u(n,i){return y.coerce(h,d,C,n,i)}a(h,d,t,r,u),L(h,d,r,u)}},17659:function(W,V,e){W.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(W,V,e){var y=e(1486),C=e(82196).line,a=e(9012),L=e(12663).axisHoverFormat,x=e(5386).fF,h=e(5386).si,d=e(48334),t=e(1426).extendFlat,r=e(7901);function u(n){return{marker:{color:t({},y.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},y.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},y.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}W.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:y.hovertext,hovertemplate:x({},{keys:d.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:d.eventDataKeys.concat(["label"])}),text:y.text,textposition:y.textposition,insidetextanchor:y.insidetextanchor,textangle:y.textangle,textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:y.orientation,offset:y.offset,width:y.width,increasing:u(),decreasing:u(),totals:u(),connector:{line:{color:t({},C.color,{dflt:r.defaultLine}),width:t({},C.width,{editType:"plot"}),dash:C.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup}},52752:function(W,V,e){var y=e(89298),C=e(42973),a=e(71828).mergeArray,L=e(66279),x=e(50606).BADNUM;function h(t){return t==="a"||t==="absolute"}function d(t){return t==="t"||t==="total"}W.exports=function(r,u){var n=y.getFromId(r,u.xaxis||"x"),i=y.getFromId(r,u.yaxis||"y"),s,o,m,c,b,v;u.orientation==="h"?(s=n.makeCalcdata(u,"x"),m=i.makeCalcdata(u,"y"),c=C(u,i,"y",m),b=!!u.yperiodalignment,v="y"):(s=i.makeCalcdata(u,"y"),m=n.makeCalcdata(u,"x"),c=C(u,n,"x",m),b=!!u.xperiodalignment,v="x"),o=c.vals;for(var l=Math.min(o.length,s.length),p=new Array(l),S=0,M,R=!1,T=0;T<l;T++){var E=s[T]||0,A=!1;(s[T]!==x||d(u.measure[T])||h(u.measure[T]))&&T+1<l&&(s[T+1]!==x||d(u.measure[T+1])||h(u.measure[T+1]))&&(A=!0);var f=p[T]={i:T,p:o[T],s:E,rawS:E,cNext:A};h(u.measure[T])?(S=f.s,f.isSum=!0,f.dir="totals",f.s=S):d(u.measure[T])?(f.isSum=!0,f.dir="totals",f.s=S):(f.isSum=!1,f.dir=f.rawS<0?"decreasing":"increasing",M=f.s,f.s=S+M,S+=M),f.dir==="totals"&&(R=!0),b&&(p[T].orig_p=m[T],p[T][v+"End"]=c.ends[T],p[T][v+"Start"]=c.starts[T]),u.ids&&(f.id=String(u.ids[T])),f.v=(u.base||0)+S}return p.length&&(p[0].hasTotals=R),a(u.text,p,"tx"),a(u.hovertext,p,"htx"),L(p,u),p}},48334:function(W){W.exports={eventDataKeys:["initial","delta","final"]}},70766:function(W,V,e){var y=e(11661).setGroupPositions;W.exports=function(a,L){var x=a._fullLayout,h=a._fullData,d=a.calcdata,t=L.xaxis,r=L.yaxis,u=[],n=[],i=[],s,o;for(o=0;o<h.length;o++){var m=h[o];m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="waterfall"&&(s=d[o],m.orientation==="h"?i.push(s):n.push(s),u.push(s))}var c={mode:x.waterfallmode,norm:x.waterfallnorm,gap:x.waterfallgap,groupgap:x.waterfallgroupgap};for(y(a,t,r,n,c),y(a,r,t,i,c),o=0;o<u.length;o++){s=u[o];for(var b=0;b<s.length;b++){var v=s[b];v.isSum===!1&&(v.s0+=b===0?0:s[b-1].s),b+1<s.length&&(s[b].nextP0=s[b+1].p0,s[b].nextS0=s[b+1].s0)}}}},83266:function(W,V,e){var y=e(71828),C=e(26125),a=e(90769).handleText,L=e(67513),x=e(73927),h=e(43037),d=e(7901),t=e(22372),r=t.INCREASING.COLOR,u=t.DECREASING.COLOR,n="#4499FF";function i(m,c,b){m(c+".marker.color",b),m(c+".marker.line.color",d.defaultLine),m(c+".marker.line.width")}function s(m,c,b,v){function l(T,E){return y.coerce(m,c,h,T,E)}var p=L(m,c,v,l);if(!p){c.visible=!1;return}x(m,c,v,l),l("xhoverformat"),l("yhoverformat"),l("measure"),l("orientation",c.x&&!c.y?"h":"v"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate");var S=l("textposition");a(m,c,v,l,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(l("texttemplate"),c.texttemplate||l("textinfo")),i(l,"increasing",r),i(l,"decreasing",u),i(l,"totals",n);var M=l("connector.visible");if(M){l("connector.mode");var R=l("connector.line.width");R&&(l("connector.line.color"),l("connector.line.dash"))}}function o(m,c){var b,v;function l(S){return y.coerce(v._input,v,h,S)}if(c.waterfallmode==="group")for(var p=0;p<m.length;p++)v=m[p],b=v._input,C(b,v,c,l)}W.exports={supplyDefaults:s,crossTraceDefaults:o}},58593:function(W){W.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"initial"in y&&(e.initial=y.initial),"delta"in y&&(e.delta=y.delta),"final"in y&&(e.final=y.final),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},61326:function(W,V,e){var y=e(89298).hoverLabelText,C=e(7901).opacity,a=e(95423).hoverOnBars,L=e(22372),x={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};W.exports=function(t,r,u,n,i){var s=a(t,r,u,n,i);if(!s)return;var o=s.cd,m=o[0].trace,c=m.orientation==="h",b=c?"x":"y",v=c?t.xa:t.ya;function l(w){return y(v,w,m[b+"hoverformat"])}var p=s.index,S=o[p],M=S.isSum?S.b+S.s:S.rawS;s.initial=S.b+S.s-M,s.delta=M,s.final=s.initial+s.delta;var R=l(Math.abs(s.delta));s.deltaLabel=M<0?"("+R+")":R,s.finalLabel=l(s.final),s.initialLabel=l(s.initial);var T=S.hi||m.hoverinfo,E=[];if(T&&T!=="none"&&T!=="skip"){var A=T==="all",f=T.split("+"),P=function(w){return A||f.indexOf(w)!==-1};S.isSum||(P("final")&&(c?!P("x"):!P("y"))&&E.push(s.finalLabel),P("delta")&&(M<0?E.push(s.deltaLabel+" "+x.decreasing):E.push(s.deltaLabel+" "+x.increasing)),P("initial")&&E.push("Initial: "+s.initialLabel))}return E.length&&(s.extraText=E.join("<br>")),s.color=h(m,S),[s]};function h(d,t){var r=d[t.dir].marker,u=r.color,n=r.line.color,i=r.line.width;if(C(u))return u;if(C(n)&&i)return n}},19990:function(W,V,e){W.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(W){W.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(W,V,e){var y=e(71828),C=e(13494);W.exports=function(a,L,x){var h=!1;function d(u,n){return y.coerce(a,L,C,u,n)}for(var t=0;t<x.length;t++){var r=x[t];if(r.visible&&r.type==="waterfall"){h=!0;break}}h&&(d("waterfallmode"),d("waterfallgap",.2),d("waterfallgroupgap"))}},30436:function(W,V,e){var y=e(39898),C=e(71828),a=e(91424),L=e(50606).BADNUM,x=e(17295),h=e(72597).clearMinTextSize;W.exports=function(u,n,i,s){var o=u._fullLayout;h("waterfall",o),x.plot(u,n,i,s,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),d(u,n,i,s)};function d(r,u,n,i){var s=u.xaxis,o=u.yaxis;C.makeTraceGroups(i,n,"trace bars").each(function(m){var c=y.select(this),b=m[0].trace,v=C.ensureSingle(c,"g","lines");if(!b.connector||!b.connector.visible){v.remove();return}var l=b.orientation==="h",p=b.connector.mode,S=v.selectAll("g.line").data(C.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var M=S.size();S.each(function(R,T){if(!(T!==M-1&&!R.cNext)){var E=t(R,s,o,l),A=E[0],f=E[1],P="";A[0]!==L&&f[0]!==L&&A[1]!==L&&f[1]!==L&&(p==="spanning"&&!R.isSum&&T>0&&(l?P+="M"+A[0]+","+f[1]+"V"+f[0]:P+="M"+A[1]+","+f[0]+"H"+A[0]),p!=="between"&&(R.isSum||T<M-1)&&(l?P+="M"+A[1]+","+f[0]+"V"+f[1]:P+="M"+A[0]+","+f[1]+"H"+A[1]),A[2]!==L&&f[2]!==L&&(l?P+="M"+A[1]+","+f[1]+"V"+f[2]:P+="M"+A[1]+","+f[1]+"H"+A[2])),P===""&&(P="M0,0Z"),C.ensureSingle(y.select(this),"path").attr("d",P).call(a.setClipUrl,u.layerClipId,r)}})})}function t(r,u,n,i){var s=[],o=[],m=i?u:n,c=i?n:u;return s[0]=m.c2p(r.s0,!0),o[0]=c.c2p(r.p0,!0),s[1]=m.c2p(r.s1,!0),o[1]=c.c2p(r.p1,!0),s[2]=m.c2p(r.nextS0,!0),o[2]=c.c2p(r.nextP0,!0),i?[s,o]:[o,s]}},55750:function(W,V,e){var y=e(39898),C=e(91424),a=e(7901),L=e(37822).DESELECTDIM,x=e(16688),h=e(72597).resizeText,d=x.styleTextPoints;function t(r,u,n){var i=n||y.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");h(r,i,"waterfall"),i.style("opacity",function(s){return s[0].trace.opacity}),i.each(function(s){var o=y.select(this),m=s[0].trace;o.selectAll(".point > path").each(function(c){if(!c.isBlank){var b=m[c.dir].marker;y.select(this).call(a.fill,b.color).call(a.stroke,b.line.color).call(C.dashLine,b.line.dash,b.line.width).style("opacity",m.selectedpoints&&!c.selected?L:1)}}),d(o,m,r),o.selectAll(".lines").each(function(){var c=m.connector.line;C.lineGroupStyle(y.select(this).selectAll("path"),c.width,c.color,c.dash)})})}W.exports={style:t}},82887:function(W,V,e){var y=e(89298),C=e(71828),a=e(86281),L=e(79344).p,x=e(50606).BADNUM;V.moduleType="transform",V.name="aggregate";var h=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=h.aggregations;V.supplyDefaults=function(s,o){var m={},c;function b(w,z){return C.coerce(s,m,h,w,z)}var v=b("enabled");if(!v)return m;var l=a.findArrayAttributes(o),p={};for(c=0;c<l.length;c++)p[l[c]]=1;var S=b("groups");if(!Array.isArray(S)){if(!p[S])return m.enabled=!1,m;p[S]=0}var M=s.aggregations||[],R=m.aggregations=new Array(M.length),T;function E(w,z){return C.coerce(M[c],T,d,w,z)}for(c=0;c<M.length;c++){T={_index:c};var A=E("target"),f=E("func"),P=E("enabled");P&&A&&(p[A]||f==="count"&&p[A]===void 0)?(f==="stddev"&&E("funcmode"),p[A]=0,R[c]=T):R[c]={enabled:!1,_index:c}}for(c=0;c<l.length;c++)p[l[c]]&&R.push({target:l[c],func:d.func.dflt,enabled:!0,_index:-1});return m},V.calcTransform=function(s,o,m){if(m.enabled){var c=m.groups,b=C.getTargetArray(o,{target:c});if(b){var v,l,p,S,M={},R={},T=[],E=L(o.transforms,m),A=b.length;for(o._length&&(A=Math.min(A,o._length)),v=0;v<A;v++)l=b[v],p=M[l],p===void 0?(M[l]=T.length,S=[v],T.push(S),R[M[l]]=E(v)):(T[p].push(v),R[M[l]]=(R[M[l]]||[]).concat(E(v)));m._indexToPoints=R;var f=m.aggregations;for(v=0;v<f.length;v++)t(s,o,T,f[v]);typeof c=="string"&&t(s,o,T,{target:c,func:"first",enabled:!0}),o._length=T.length}}};function t(s,o,m,c){if(c.enabled){for(var b=c.target,v=C.nestedProperty(o,b),l=v.get(),p=y.getDataConversions(s,o,b,l),S=r(c,p),M=new Array(m.length),R=0;R<m.length;R++)M[R]=S(l,m[R]);v.set(M),c.func==="count"&&C.pushUnique(o._arrayAttrs,b)}}function r(s,o){var m=s.func,c=o.d2c,b=o.c2d;switch(m){case"count":return u;case"first":return n;case"last":return i;case"sum":return function(v,l){for(var p=0,S=0;S<l.length;S++){var M=c(v[l[S]]);M!==x&&(p+=M)}return b(p)};case"avg":return function(v,l){for(var p=0,S=0,M=0;M<l.length;M++){var R=c(v[l[M]]);R!==x&&(p+=R,S++)}return S?b(p/S):x};case"min":return function(v,l){for(var p=1/0,S=0;S<l.length;S++){var M=c(v[l[S]]);M!==x&&(p=Math.min(p,M))}return p===1/0?x:b(p)};case"max":return function(v,l){for(var p=-1/0,S=0;S<l.length;S++){var M=c(v[l[S]]);M!==x&&(p=Math.max(p,M))}return p===-1/0?x:b(p)};case"range":return function(v,l){for(var p=1/0,S=-1/0,M=0;M<l.length;M++){var R=c(v[l[M]]);R!==x&&(p=Math.min(p,R),S=Math.max(S,R))}return S===-1/0||p===1/0?x:b(S-p)};case"change":return function(v,l){var p=c(v[l[0]]),S=c(v[l[l.length-1]]);return p===x||S===x?x:b(S-p)};case"median":return function(v,l){for(var p=[],S=0;S<l.length;S++){var M=c(v[l[S]]);M!==x&&p.push(M)}if(!p.length)return x;p.sort(C.sorterAsc);var R=(p.length-1)/2;return b((p[Math.floor(R)]+p[Math.ceil(R)])/2)};case"mode":return function(v,l){for(var p={},S=0,M=x,R=0;R<l.length;R++){var T=c(v[l[R]]);if(T!==x){var E=p[T]=(p[T]||0)+1;E>S&&(S=E,M=T)}}return S?b(M):x};case"rms":return function(v,l){for(var p=0,S=0,M=0;M<l.length;M++){var R=c(v[l[M]]);R!==x&&(p+=R*R,S++)}return S?b(Math.sqrt(p/S)):x};case"stddev":return function(v,l){var p=0,S=0,M=1,R=x,T;for(T=0;T<l.length&&R===x;T++)R=c(v[l[T]]);if(R===x)return x;for(;T<l.length;T++){var E=c(v[l[T]]);if(E!==x){var A=E-R;p+=A,S+=A*A,M++}}var f=s.funcmode==="sample"?M-1:M;return f?Math.sqrt((S-p*p/M)/f):0}}}function u(s,o){return o.length}function n(s,o){return s[o[0]]}function i(s,o){return s[o[o.length-1]]}},14382:function(W,V,e){var y=e(71828),C=e(73972),a=e(89298),L=e(79344).p,x=e(74808),h=x.COMPARISON_OPS,d=x.INTERVAL_OPS,t=x.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(h).concat(d).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(u){var n={};function i(c,b){return y.coerce(u,n,V.attributes,c,b)}var s=i("enabled");if(s){var o=i("target");if(y.isArrayOrTypedArray(o)&&o.length===0)return n.enabled=!1,n;i("preservegaps"),i("operation"),i("value");var m=C.getComponentMethod("calendars","handleDefaults");m(u,n,"valuecalendar",null),m(u,n,"targetcalendar",null)}return n},V.calcTransform=function(u,n,i){if(!i.enabled)return;var s=y.getTargetArray(n,i);if(!s)return;var o=i.target,m=s.length;n._length&&(m=Math.min(m,n._length));var c=i.targetcalendar,b=n._arrayAttrs,v=i.preservegaps;if(typeof o=="string"){var l=y.nestedProperty(n,o+"calendar").get();l&&(c=l)}var p=a.getDataToCoordFunc(u,n,o,s),S=r(i,p,c),M={},R={},T=0;function E(F,H){for(var _=0;_<b.length;_++){var B=y.nestedProperty(n,b[_]);F(B,H)}}var A,f;v?(A=function(F){M[F.astr]=y.extendDeep([],F.get()),F.set(new Array(m))},f=function(F,H){var _=M[F.astr][H];F.get()[H]=_}):(A=function(F){M[F.astr]=y.extendDeep([],F.get()),F.set([])},f=function(F,H){var _=M[F.astr][H];F.get().push(_)}),E(A);for(var P=L(n.transforms,i),w=0;w<m;w++){var z=S(s[w]);z?(E(f,w),R[T++]=P(w)):v&&T++}i._indexToPoints=R,n._length=T};function r(u,n,i){var s=u.operation,o=u.value,m=Array.isArray(o);function c(p){return p.indexOf(s)!==-1}var b=function(p){return n(p,0,u.valuecalendar)},v=function(p){return n(p,0,i)},l;switch(c(h)?l=b(m?o[0]:o):c(d)?l=m?[b(o[0]),b(o[1])]:[b(o),b(o)]:c(t)&&(l=m?o.map(b):[b(o)]),s){case"=":return function(p){return v(p)===l};case"!=":return function(p){return v(p)!==l};case"<":return function(p){return v(p)<l};case"<=":return function(p){return v(p)<=l};case">":return function(p){return v(p)>l};case">=":return function(p){return v(p)>=l};case"[]":return function(p){var S=v(p);return S>=l[0]&&S<=l[1]};case"()":return function(p){var S=v(p);return S>l[0]&&S<l[1]};case"[)":return function(p){var S=v(p);return S>=l[0]&&S<l[1]};case"(]":return function(p){var S=v(p);return S>l[0]&&S<=l[1]};case"][":return function(p){var S=v(p);return S<=l[0]||S>=l[1]};case")(":return function(p){var S=v(p);return S<l[0]||S>l[1]};case"](":return function(p){var S=v(p);return S<=l[0]||S>l[1]};case")[":return function(p){var S=v(p);return S<l[0]||S>=l[1]};case"{}":return function(p){return l.indexOf(v(p))!==-1};case"}{":return function(p){return l.indexOf(v(p))===-1}}}},43102:function(W,V,e){var y=e(71828),C=e(86281),a=e(74875),L=e(79344).p;V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(h,d,t){var r,u={};function n(b,v){return y.coerce(h,u,V.attributes,b,v)}var i=n("enabled");if(!i)return u;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var s=h.styles,o=u.styles=[];if(s)for(r=0;r<s.length;r++){var m=o[r]={};y.coerce(s[r],o[r],V.attributes.styles,"target");var c=y.coerce(s[r],o[r],V.attributes.styles,"value");y.isPlainObject(c)?m.value=y.extendDeep({},c):c&&delete m.value}return u},V.transform=function(h,d){var t,r,u,n=[];for(r=0;r<h.length;r++)for(t=x(h[r],d),u=0;u<t.length;u++)n.push(t[u]);return n};function x(h,d){var t,r,u,n,i,s,o,m,c,b,v=d.transform,l=d.transformIndex,p=h.transforms[l].groups,S=L(h.transforms,v);if(!y.isArrayOrTypedArray(p)||p.length===0)return[h];var M=y.filterUnique(p),R=new Array(M.length),T=p.length,E=C.findArrayAttributes(h),A=v.styles||[],f={};for(t=0;t<A.length;t++)f[A[t].target]=A[t].value;v.styles&&(b=y.keyedContainer(v,"styles","target","value.name"));var P={},w={};for(t=0;t<M.length;t++){s=M[t],P[s]=t,w[s]=0,o=R[t]=y.extendDeepNoArrays({},h),o._group=s,o.transforms[l]._indexToPoints={};var z=null;for(b&&(z=b.get(s)),z||z===""?o.name=z:o.name=y.templateString(v.nameformat,{trace:h.name,group:s}),m=o.transforms,o.transforms=[],r=0;r<m.length;r++)o.transforms[r]=y.extendDeepNoArrays({},m[r]);for(r=0;r<E.length;r++)y.nestedProperty(o,E[r]).set([])}for(u=0;u<E.length;u++){for(n=E[u],r=0,c=[];r<M.length;r++)c[r]=y.nestedProperty(R[r],n).get();for(i=y.nestedProperty(h,n).get(),r=0;r<T;r++)c[P[p[r]]].push(i[r])}for(r=0;r<T;r++){o=R[P[p[r]]];var F=o.transforms[l]._indexToPoints;F[w[p[r]]]=S(r),w[p[r]]++}for(t=0;t<M.length;t++)s=M[t],o=R[t],a.clearExpandedTraceDefaultColors(o),o=y.extendDeepNoArrays(o,f[s]||{});return R}},79344:function(W,V){V.p=function(e,y){for(var C,a,L=0;L<e.length&&(C=e[L],C!==y);L++)!C._indexToPoints||C.enabled===!1||(a=C._indexToPoints);var x=a?function(h){return a[h]}:function(h){return[h]};return x}},32275:function(W,V,e){var y=e(71828),C=e(89298),a=e(79344).p,L=e(50606).BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(d){var t={};function r(n,i){return y.coerce(d,t,V.attributes,n,i)}var u=r("enabled");return u&&(r("target"),r("order")),t},V.calcTransform=function(d,t,r){if(r.enabled){var u=y.getTargetArray(t,r);if(u){var n=r.target,i=u.length;t._length&&(i=Math.min(i,t._length));var s=t._arrayAttrs,o=C.getDataToCoordFunc(d,t,n,u),m=x(r,u,o,i),c=a(t.transforms,r),b={},v,l;for(v=0;v<s.length;v++){var p=y.nestedProperty(t,s[v]),S=p.get(),M=new Array(i);for(l=0;l<i;l++)M[l]=S[m[l]];p.set(M)}for(l=0;l<i;l++)b[l]=c(m[l]);r._indexToPoints=b,t._length=i}}};function x(d,t,r,u){var n=new Array(u),i=new Array(u),s;for(s=0;s<u;s++)n[s]={v:t[s],i:s};for(n.sort(h(d,r)),s=0;s<u;s++)i[s]=n[s].i;return i}function h(d,t){switch(d.order){case"ascending":return function(r,u){var n=t(r.v),i=t(u.v);return n===L?1:i===L?-1:n-i};case"descending":return function(r,u){var n=t(r.v),i=t(u.v);return n===L?1:i===L?-1:i-n}}}},11506:function(W,V){V.version="2.26.0"},9330:function(W,V,e){var y=e(90386);(function(a,L){W.exports=L()})(self,function(){return function(){var C={7386:function(h,d,t){h.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(h,d,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(Me,ce){if(!(Me instanceof ce))throw new TypeError("Cannot call a class as a function")}function u(Me,ce){for(var be=0;be<ce.length;be++){var De=ce[be];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Me,De.key,De)}}function n(Me,ce,be){return ce&&u(Me.prototype,ce),be&&u(Me,be),Object.defineProperty(Me,"prototype",{writable:!1}),Me}function i(Me,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");Me.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Me,writable:!0,configurable:!0}}),Object.defineProperty(Me,"prototype",{writable:!1}),ce&&s(Me,ce)}function s(Me,ce){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,Ve){return De.__proto__=Ve,De},s(Me,ce)}function o(Me){var ce=b();return function(){var De=v(Me),Ve;if(ce){var it=v(this).constructor;Ve=Reflect.construct(De,arguments,it)}else Ve=De.apply(this,arguments);return m(this,Ve)}}function m(Me,ce){if(ce&&(l(ce)==="object"||typeof ce=="function"))return ce;if(ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(Me)}function c(Me){if(Me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(Me){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(be){return be.__proto__||Object.getPrototypeOf(be)},v(Me)}function l(Me){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},l(Me)}var p=t(3910),S=t(3187),M=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.lW=A,d.h2=50;var R=2147483647;A.TYPED_ARRAY_SUPPORT=T(),!A.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var Me=new Uint8Array(1),ce={foo:function(){return 42}};return Object.setPrototypeOf(ce,Uint8Array.prototype),Object.setPrototypeOf(Me,ce),Me.foo()===42}catch{return!1}}Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}});function E(Me){if(Me>R)throw new RangeError('The value "'+Me+'" is invalid for option "size"');var ce=new Uint8Array(Me);return Object.setPrototypeOf(ce,A.prototype),ce}function A(Me,ce,be){if(typeof Me=="number"){if(typeof ce=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return z(Me)}return f(Me,ce,be)}A.poolSize=8192;function f(Me,ce,be){if(typeof Me=="string")return F(Me,ce);if(ArrayBuffer.isView(Me))return _(Me);if(Me==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(Me));if(Je(Me,ArrayBuffer)||Me&&Je(Me.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(Me,SharedArrayBuffer)||Me&&Je(Me.buffer,SharedArrayBuffer)))return B(Me,ce,be);if(typeof Me=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var De=Me.valueOf&&Me.valueOf();if(De!=null&&De!==Me)return A.from(De,ce,be);var Ve=N(Me);if(Ve)return Ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Me[Symbol.toPrimitive]=="function")return A.from(Me[Symbol.toPrimitive]("string"),ce,be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(Me))}A.from=function(Me,ce,be){return f(Me,ce,be)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array);function P(Me){if(typeof Me!="number")throw new TypeError('"size" argument must be of type number');if(Me<0)throw new RangeError('The value "'+Me+'" is invalid for option "size"')}function w(Me,ce,be){return P(Me),Me<=0?E(Me):ce!==void 0?typeof be=="string"?E(Me).fill(ce,be):E(Me).fill(ce):E(Me)}A.alloc=function(Me,ce,be){return w(Me,ce,be)};function z(Me){return P(Me),E(Me<0?0:O(Me)|0)}A.allocUnsafe=function(Me){return z(Me)},A.allocUnsafeSlow=function(Me){return z(Me)};function F(Me,ce){if((typeof ce!="string"||ce==="")&&(ce="utf8"),!A.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);var be=U(Me,ce)|0,De=E(be),Ve=De.write(Me,ce);return Ve!==be&&(De=De.slice(0,Ve)),De}function H(Me){for(var ce=Me.length<0?0:O(Me.length)|0,be=E(ce),De=0;De<ce;De+=1)be[De]=Me[De]&255;return be}function _(Me){if(Je(Me,Uint8Array)){var ce=new Uint8Array(Me);return B(ce.buffer,ce.byteOffset,ce.byteLength)}return H(Me)}function B(Me,ce,be){if(ce<0||Me.byteLength<ce)throw new RangeError('"offset" is outside of buffer bounds');if(Me.byteLength<ce+(be||0))throw new RangeError('"length" is outside of buffer bounds');var De;return ce===void 0&&be===void 0?De=new Uint8Array(Me):be===void 0?De=new Uint8Array(Me,ce):De=new Uint8Array(Me,ce,be),Object.setPrototypeOf(De,A.prototype),De}function N(Me){if(A.isBuffer(Me)){var ce=O(Me.length)|0,be=E(ce);return be.length===0||Me.copy(be,0,0,ce),be}if(Me.length!==void 0)return typeof Me.length!="number"||ze(Me.length)?E(0):H(Me);if(Me.type==="Buffer"&&Array.isArray(Me.data))return H(Me.data)}function O(Me){if(Me>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return Me|0}A.isBuffer=function(ce){return ce!=null&&ce._isBuffer===!0&&ce!==A.prototype},A.compare=function(ce,be){if(Je(ce,Uint8Array)&&(ce=A.from(ce,ce.offset,ce.byteLength)),Je(be,Uint8Array)&&(be=A.from(be,be.offset,be.byteLength)),!A.isBuffer(ce)||!A.isBuffer(be))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ce===be)return 0;for(var De=ce.length,Ve=be.length,it=0,ot=Math.min(De,Ve);it<ot;++it)if(ce[it]!==be[it]){De=ce[it],Ve=be[it];break}return De<Ve?-1:Ve<De?1:0},A.isEncoding=function(ce){switch(String(ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(ce,be){if(!Array.isArray(ce))throw new TypeError('"list" argument must be an Array of Buffers');if(ce.length===0)return A.alloc(0);var De;if(be===void 0)for(be=0,De=0;De<ce.length;++De)be+=ce[De].length;var Ve=A.allocUnsafe(be),it=0;for(De=0;De<ce.length;++De){var ot=ce[De];if(Je(ot,Uint8Array))it+ot.length>Ve.length?(A.isBuffer(ot)||(ot=A.from(ot)),ot.copy(Ve,it)):Uint8Array.prototype.set.call(Ve,ot,it);else if(A.isBuffer(ot))ot.copy(Ve,it);else throw new TypeError('"list" argument must be an Array of Buffers');it+=ot.length}return Ve};function U(Me,ce){if(A.isBuffer(Me))return Me.length;if(ArrayBuffer.isView(Me)||Je(Me,ArrayBuffer))return Me.byteLength;if(typeof Me!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(Me));var be=Me.length,De=arguments.length>2&&arguments[2]===!0;if(!De&&be===0)return 0;for(var Ve=!1;;)switch(ce){case"ascii":case"latin1":case"binary":return be;case"utf8":case"utf-8":return pt(Me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be*2;case"hex":return be>>>1;case"base64":return Lt(Me).length;default:if(Ve)return De?-1:pt(Me).length;ce=(""+ce).toLowerCase(),Ve=!0}}A.byteLength=U;function K(Me,ce,be){var De=!1;if((ce===void 0||ce<0)&&(ce=0),ce>this.length||((be===void 0||be>this.length)&&(be=this.length),be<=0)||(be>>>=0,ce>>>=0,be<=ce))return"";for(Me||(Me="utf8");;)switch(Me){case"hex":return fe(this,ce,be);case"utf8":case"utf-8":return se(this,ce,be);case"ascii":return ie(this,ce,be);case"latin1":case"binary":return te(this,ce,be);case"base64":return q(this,ce,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,ce,be);default:if(De)throw new TypeError("Unknown encoding: "+Me);Me=(Me+"").toLowerCase(),De=!0}}A.prototype._isBuffer=!0;function re(Me,ce,be){var De=Me[ce];Me[ce]=Me[be],Me[be]=De}A.prototype.swap16=function(){var ce=this.length;if(ce%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var be=0;be<ce;be+=2)re(this,be,be+1);return this},A.prototype.swap32=function(){var ce=this.length;if(ce%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var be=0;be<ce;be+=4)re(this,be,be+3),re(this,be+1,be+2);return this},A.prototype.swap64=function(){var ce=this.length;if(ce%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var be=0;be<ce;be+=8)re(this,be,be+7),re(this,be+1,be+6),re(this,be+2,be+5),re(this,be+3,be+4);return this},A.prototype.toString=function(){var ce=this.length;return ce===0?"":arguments.length===0?se(this,0,ce):K.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(ce){if(!A.isBuffer(ce))throw new TypeError("Argument must be a Buffer");return this===ce?!0:A.compare(this,ce)===0},A.prototype.inspect=function(){var ce="",be=d.h2;return ce=this.toString("hex",0,be).replace(/(.{2})/g,"$1 ").trim(),this.length>be&&(ce+=" ... "),"<Buffer "+ce+">"},M&&(A.prototype[M]=A.prototype.inspect),A.prototype.compare=function(ce,be,De,Ve,it){if(Je(ce,Uint8Array)&&(ce=A.from(ce,ce.offset,ce.byteLength)),!A.isBuffer(ce))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(ce));if(be===void 0&&(be=0),De===void 0&&(De=ce?ce.length:0),Ve===void 0&&(Ve=0),it===void 0&&(it=this.length),be<0||De>ce.length||Ve<0||it>this.length)throw new RangeError("out of range index");if(Ve>=it&&be>=De)return 0;if(Ve>=it)return-1;if(be>=De)return 1;if(be>>>=0,De>>>=0,Ve>>>=0,it>>>=0,this===ce)return 0;for(var ot=it-Ve,Tt=De-be,It=Math.min(ot,Tt),Ht=this.slice(Ve,it),Gt=ce.slice(be,De),Pt=0;Pt<It;++Pt)if(Ht[Pt]!==Gt[Pt]){ot=Ht[Pt],Tt=Gt[Pt];break}return ot<Tt?-1:Tt<ot?1:0};function ae(Me,ce,be,De,Ve){if(Me.length===0)return-1;if(typeof be=="string"?(De=be,be=0):be>2147483647?be=2147483647:be<-2147483648&&(be=-2147483648),be=+be,ze(be)&&(be=Ve?0:Me.length-1),be<0&&(be=Me.length+be),be>=Me.length){if(Ve)return-1;be=Me.length-1}else if(be<0)if(Ve)be=0;else return-1;if(typeof ce=="string"&&(ce=A.from(ce,De)),A.isBuffer(ce))return ce.length===0?-1:ue(Me,ce,be,De,Ve);if(typeof ce=="number")return ce=ce&255,typeof Uint8Array.prototype.indexOf=="function"?Ve?Uint8Array.prototype.indexOf.call(Me,ce,be):Uint8Array.prototype.lastIndexOf.call(Me,ce,be):ue(Me,[ce],be,De,Ve);throw new TypeError("val must be string, number or Buffer")}function ue(Me,ce,be,De,Ve){var it=1,ot=Me.length,Tt=ce.length;if(De!==void 0&&(De=String(De).toLowerCase(),De==="ucs2"||De==="ucs-2"||De==="utf16le"||De==="utf-16le")){if(Me.length<2||ce.length<2)return-1;it=2,ot/=2,Tt/=2,be/=2}function It(or,zr){return it===1?or[zr]:or.readUInt16BE(zr*it)}var Ht;if(Ve){var Gt=-1;for(Ht=be;Ht<ot;Ht++)if(It(Me,Ht)===It(ce,Gt===-1?0:Ht-Gt)){if(Gt===-1&&(Gt=Ht),Ht-Gt+1===Tt)return Gt*it}else Gt!==-1&&(Ht-=Ht-Gt),Gt=-1}else for(be+Tt>ot&&(be=ot-Tt),Ht=be;Ht>=0;Ht--){for(var Pt=!0,Jt=0;Jt<Tt;Jt++)if(It(Me,Ht+Jt)!==It(ce,Jt)){Pt=!1;break}if(Pt)return Ht}return-1}A.prototype.includes=function(ce,be,De){return this.indexOf(ce,be,De)!==-1},A.prototype.indexOf=function(ce,be,De){return ae(this,ce,be,De,!0)},A.prototype.lastIndexOf=function(ce,be,De){return ae(this,ce,be,De,!1)};function ve(Me,ce,be,De){be=Number(be)||0;var Ve=Me.length-be;De?(De=Number(De),De>Ve&&(De=Ve)):De=Ve;var it=ce.length;De>it/2&&(De=it/2);var ot;for(ot=0;ot<De;++ot){var Tt=parseInt(ce.substr(ot*2,2),16);if(ze(Tt))return ot;Me[be+ot]=Tt}return ot}function ee(Me,ce,be,De){return Wt(pt(ce,Me.length-be),Me,be,De)}function J(Me,ce,be,De){return Wt(gt(ce),Me,be,De)}function Q(Me,ce,be,De){return Wt(Lt(ce),Me,be,De)}function X(Me,ce,be,De){return Wt(Mt(ce,Me.length-be),Me,be,De)}A.prototype.write=function(ce,be,De,Ve){if(be===void 0)Ve="utf8",De=this.length,be=0;else if(De===void 0&&typeof be=="string")Ve=be,De=this.length,be=0;else if(isFinite(be))be=be>>>0,isFinite(De)?(De=De>>>0,Ve===void 0&&(Ve="utf8")):(Ve=De,De=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var it=this.length-be;if((De===void 0||De>it)&&(De=it),ce.length>0&&(De<0||be<0)||be>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ve||(Ve="utf8");for(var ot=!1;;)switch(Ve){case"hex":return ve(this,ce,be,De);case"utf8":case"utf-8":return ee(this,ce,be,De);case"ascii":case"latin1":case"binary":return J(this,ce,be,De);case"base64":return Q(this,ce,be,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,ce,be,De);default:if(ot)throw new TypeError("Unknown encoding: "+Ve);Ve=(""+Ve).toLowerCase(),ot=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(Me,ce,be){return ce===0&&be===Me.length?p.fromByteArray(Me):p.fromByteArray(Me.slice(ce,be))}function se(Me,ce,be){be=Math.min(Me.length,be);for(var De=[],Ve=ce;Ve<be;){var it=Me[Ve],ot=null,Tt=it>239?4:it>223?3:it>191?2:1;if(Ve+Tt<=be){var It=void 0,Ht=void 0,Gt=void 0,Pt=void 0;switch(Tt){case 1:it<128&&(ot=it);break;case 2:It=Me[Ve+1],(It&192)===128&&(Pt=(it&31)<<6|It&63,Pt>127&&(ot=Pt));break;case 3:It=Me[Ve+1],Ht=Me[Ve+2],(It&192)===128&&(Ht&192)===128&&(Pt=(it&15)<<12|(It&63)<<6|Ht&63,Pt>2047&&(Pt<55296||Pt>57343)&&(ot=Pt));break;case 4:It=Me[Ve+1],Ht=Me[Ve+2],Gt=Me[Ve+3],(It&192)===128&&(Ht&192)===128&&(Gt&192)===128&&(Pt=(it&15)<<18|(It&63)<<12|(Ht&63)<<6|Gt&63,Pt>65535&&Pt<1114112&&(ot=Pt))}}ot===null?(ot=65533,Tt=1):ot>65535&&(ot-=65536,De.push(ot>>>10&1023|55296),ot=56320|ot&1023),De.push(ot),Ve+=Tt}return Z(De)}var Y=4096;function Z(Me){var ce=Me.length;if(ce<=Y)return String.fromCharCode.apply(String,Me);for(var be="",De=0;De<ce;)be+=String.fromCharCode.apply(String,Me.slice(De,De+=Y));return be}function ie(Me,ce,be){var De="";be=Math.min(Me.length,be);for(var Ve=ce;Ve<be;++Ve)De+=String.fromCharCode(Me[Ve]&127);return De}function te(Me,ce,be){var De="";be=Math.min(Me.length,be);for(var Ve=ce;Ve<be;++Ve)De+=String.fromCharCode(Me[Ve]);return De}function fe(Me,ce,be){var De=Me.length;(!ce||ce<0)&&(ce=0),(!be||be<0||be>De)&&(be=De);for(var Ve="",it=ce;it<be;++it)Ve+=Oe[Me[it]];return Ve}function de(Me,ce,be){for(var De=Me.slice(ce,be),Ve="",it=0;it<De.length-1;it+=2)Ve+=String.fromCharCode(De[it]+De[it+1]*256);return Ve}A.prototype.slice=function(ce,be){var De=this.length;ce=~~ce,be=be===void 0?De:~~be,ce<0?(ce+=De,ce<0&&(ce=0)):ce>De&&(ce=De),be<0?(be+=De,be<0&&(be=0)):be>De&&(be=De),be<ce&&(be=ce);var Ve=this.subarray(ce,be);return Object.setPrototypeOf(Ve,A.prototype),Ve};function we(Me,ce,be){if(Me%1!==0||Me<0)throw new RangeError("offset is not uint");if(Me+ce>be)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUintLE=A.prototype.readUIntLE=function(ce,be,De){ce=ce>>>0,be=be>>>0,De||we(ce,be,this.length);for(var Ve=this[ce],it=1,ot=0;++ot<be&&(it*=256);)Ve+=this[ce+ot]*it;return Ve},A.prototype.readUintBE=A.prototype.readUIntBE=function(ce,be,De){ce=ce>>>0,be=be>>>0,De||we(ce,be,this.length);for(var Ve=this[ce+--be],it=1;be>0&&(it*=256);)Ve+=this[ce+--be]*it;return Ve},A.prototype.readUint8=A.prototype.readUInt8=function(ce,be){return ce=ce>>>0,be||we(ce,1,this.length),this[ce]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(ce,be){return ce=ce>>>0,be||we(ce,2,this.length),this[ce]|this[ce+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(ce,be){return ce=ce>>>0,be||we(ce,2,this.length),this[ce]<<8|this[ce+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(ce,be){return ce=ce>>>0,be||we(ce,4,this.length),(this[ce]|this[ce+1]<<8|this[ce+2]<<16)+this[ce+3]*16777216},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(ce,be){return ce=ce>>>0,be||we(ce,4,this.length),this[ce]*16777216+(this[ce+1]<<16|this[ce+2]<<8|this[ce+3])},A.prototype.readBigUInt64LE=Ue(function(ce){ce=ce>>>0,Ke(ce,"offset");var be=this[ce],De=this[ce+7];(be===void 0||De===void 0)&&qe(ce,this.length-8);var Ve=be+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24),it=this[++ce]+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+De*Math.pow(2,24);return BigInt(Ve)+(BigInt(it)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ue(function(ce){ce=ce>>>0,Ke(ce,"offset");var be=this[ce],De=this[ce+7];(be===void 0||De===void 0)&&qe(ce,this.length-8);var Ve=be*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce],it=this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+De;return(BigInt(Ve)<<BigInt(32))+BigInt(it)}),A.prototype.readIntLE=function(ce,be,De){ce=ce>>>0,be=be>>>0,De||we(ce,be,this.length);for(var Ve=this[ce],it=1,ot=0;++ot<be&&(it*=256);)Ve+=this[ce+ot]*it;return it*=128,Ve>=it&&(Ve-=Math.pow(2,8*be)),Ve},A.prototype.readIntBE=function(ce,be,De){ce=ce>>>0,be=be>>>0,De||we(ce,be,this.length);for(var Ve=be,it=1,ot=this[ce+--Ve];Ve>0&&(it*=256);)ot+=this[ce+--Ve]*it;return it*=128,ot>=it&&(ot-=Math.pow(2,8*be)),ot},A.prototype.readInt8=function(ce,be){return ce=ce>>>0,be||we(ce,1,this.length),this[ce]&128?(255-this[ce]+1)*-1:this[ce]},A.prototype.readInt16LE=function(ce,be){ce=ce>>>0,be||we(ce,2,this.length);var De=this[ce]|this[ce+1]<<8;return De&32768?De|4294901760:De},A.prototype.readInt16BE=function(ce,be){ce=ce>>>0,be||we(ce,2,this.length);var De=this[ce+1]|this[ce]<<8;return De&32768?De|4294901760:De},A.prototype.readInt32LE=function(ce,be){return ce=ce>>>0,be||we(ce,4,this.length),this[ce]|this[ce+1]<<8|this[ce+2]<<16|this[ce+3]<<24},A.prototype.readInt32BE=function(ce,be){return ce=ce>>>0,be||we(ce,4,this.length),this[ce]<<24|this[ce+1]<<16|this[ce+2]<<8|this[ce+3]},A.prototype.readBigInt64LE=Ue(function(ce){ce=ce>>>0,Ke(ce,"offset");var be=this[ce],De=this[ce+7];(be===void 0||De===void 0)&&qe(ce,this.length-8);var Ve=this[ce+4]+this[ce+5]*Math.pow(2,8)+this[ce+6]*Math.pow(2,16)+(De<<24);return(BigInt(Ve)<<BigInt(32))+BigInt(be+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24))}),A.prototype.readBigInt64BE=Ue(function(ce){ce=ce>>>0,Ke(ce,"offset");var be=this[ce],De=this[ce+7];(be===void 0||De===void 0)&&qe(ce,this.length-8);var Ve=(be<<24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce];return(BigInt(Ve)<<BigInt(32))+BigInt(this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+De)}),A.prototype.readFloatLE=function(ce,be){return ce=ce>>>0,be||we(ce,4,this.length),S.read(this,ce,!0,23,4)},A.prototype.readFloatBE=function(ce,be){return ce=ce>>>0,be||we(ce,4,this.length),S.read(this,ce,!1,23,4)},A.prototype.readDoubleLE=function(ce,be){return ce=ce>>>0,be||we(ce,8,this.length),S.read(this,ce,!0,52,8)},A.prototype.readDoubleBE=function(ce,be){return ce=ce>>>0,be||we(ce,8,this.length),S.read(this,ce,!1,52,8)};function Ae(Me,ce,be,De,Ve,it){if(!A.isBuffer(Me))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce>Ve||ce<it)throw new RangeError('"value" argument is out of bounds');if(be+De>Me.length)throw new RangeError("Index out of range")}A.prototype.writeUintLE=A.prototype.writeUIntLE=function(ce,be,De,Ve){if(ce=+ce,be=be>>>0,De=De>>>0,!Ve){var it=Math.pow(2,8*De)-1;Ae(this,ce,be,De,it,0)}var ot=1,Tt=0;for(this[be]=ce&255;++Tt<De&&(ot*=256);)this[be+Tt]=ce/ot&255;return be+De},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(ce,be,De,Ve){if(ce=+ce,be=be>>>0,De=De>>>0,!Ve){var it=Math.pow(2,8*De)-1;Ae(this,ce,be,De,it,0)}var ot=De-1,Tt=1;for(this[be+ot]=ce&255;--ot>=0&&(Tt*=256);)this[be+ot]=ce/Tt&255;return be+De},A.prototype.writeUint8=A.prototype.writeUInt8=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,1,255,0),this[be]=ce&255,be+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,2,65535,0),this[be]=ce&255,this[be+1]=ce>>>8,be+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,2,65535,0),this[be]=ce>>>8,this[be+1]=ce&255,be+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,4,4294967295,0),this[be+3]=ce>>>24,this[be+2]=ce>>>16,this[be+1]=ce>>>8,this[be]=ce&255,be+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,4,4294967295,0),this[be]=ce>>>24,this[be+1]=ce>>>16,this[be+2]=ce>>>8,this[be+3]=ce&255,be+4};function Re(Me,ce,be,De,Ve){tt(ce,De,Ve,Me,be,7);var it=Number(ce&BigInt(4294967295));Me[be++]=it,it=it>>8,Me[be++]=it,it=it>>8,Me[be++]=it,it=it>>8,Me[be++]=it;var ot=Number(ce>>BigInt(32)&BigInt(4294967295));return Me[be++]=ot,ot=ot>>8,Me[be++]=ot,ot=ot>>8,Me[be++]=ot,ot=ot>>8,Me[be++]=ot,be}function Fe(Me,ce,be,De,Ve){tt(ce,De,Ve,Me,be,7);var it=Number(ce&BigInt(4294967295));Me[be+7]=it,it=it>>8,Me[be+6]=it,it=it>>8,Me[be+5]=it,it=it>>8,Me[be+4]=it;var ot=Number(ce>>BigInt(32)&BigInt(4294967295));return Me[be+3]=ot,ot=ot>>8,Me[be+2]=ot,ot=ot>>8,Me[be+1]=ot,ot=ot>>8,Me[be]=ot,be+8}A.prototype.writeBigUInt64LE=Ue(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Re(this,ce,be,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ue(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,ce,be,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(ce,be,De,Ve){if(ce=+ce,be=be>>>0,!Ve){var it=Math.pow(2,8*De-1);Ae(this,ce,be,De,it-1,-it)}var ot=0,Tt=1,It=0;for(this[be]=ce&255;++ot<De&&(Tt*=256);)ce<0&&It===0&&this[be+ot-1]!==0&&(It=1),this[be+ot]=(ce/Tt>>0)-It&255;return be+De},A.prototype.writeIntBE=function(ce,be,De,Ve){if(ce=+ce,be=be>>>0,!Ve){var it=Math.pow(2,8*De-1);Ae(this,ce,be,De,it-1,-it)}var ot=De-1,Tt=1,It=0;for(this[be+ot]=ce&255;--ot>=0&&(Tt*=256);)ce<0&&It===0&&this[be+ot+1]!==0&&(It=1),this[be+ot]=(ce/Tt>>0)-It&255;return be+De},A.prototype.writeInt8=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,1,127,-128),ce<0&&(ce=255+ce+1),this[be]=ce&255,be+1},A.prototype.writeInt16LE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,2,32767,-32768),this[be]=ce&255,this[be+1]=ce>>>8,be+2},A.prototype.writeInt16BE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,2,32767,-32768),this[be]=ce>>>8,this[be+1]=ce&255,be+2},A.prototype.writeInt32LE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,4,2147483647,-2147483648),this[be]=ce&255,this[be+1]=ce>>>8,this[be+2]=ce>>>16,this[be+3]=ce>>>24,be+4},A.prototype.writeInt32BE=function(ce,be,De){return ce=+ce,be=be>>>0,De||Ae(this,ce,be,4,2147483647,-2147483648),ce<0&&(ce=4294967295+ce+1),this[be]=ce>>>24,this[be+1]=ce>>>16,this[be+2]=ce>>>8,this[be+3]=ce&255,be+4},A.prototype.writeBigInt64LE=Ue(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Re(this,ce,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ue(function(ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Fe(this,ce,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(Me,ce,be,De,Ve,it){if(be+De>Me.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("Index out of range")}function Te(Me,ce,be,De,Ve){return ce=+ce,be=be>>>0,Ve||Se(Me,ce,be,4),S.write(Me,ce,be,De,23,4),be+4}A.prototype.writeFloatLE=function(ce,be,De){return Te(this,ce,be,!0,De)},A.prototype.writeFloatBE=function(ce,be,De){return Te(this,ce,be,!1,De)};function Ee(Me,ce,be,De,Ve){return ce=+ce,be=be>>>0,Ve||Se(Me,ce,be,8),S.write(Me,ce,be,De,52,8),be+8}A.prototype.writeDoubleLE=function(ce,be,De){return Ee(this,ce,be,!0,De)},A.prototype.writeDoubleBE=function(ce,be,De){return Ee(this,ce,be,!1,De)},A.prototype.copy=function(ce,be,De,Ve){if(!A.isBuffer(ce))throw new TypeError("argument should be a Buffer");if(De||(De=0),!Ve&&Ve!==0&&(Ve=this.length),be>=ce.length&&(be=ce.length),be||(be=0),Ve>0&&Ve<De&&(Ve=De),Ve===De||ce.length===0||this.length===0)return 0;if(be<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(Ve<0)throw new RangeError("sourceEnd out of bounds");Ve>this.length&&(Ve=this.length),ce.length-be<Ve-De&&(Ve=ce.length-be+De);var it=Ve-De;return this===ce&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(be,De,Ve):Uint8Array.prototype.set.call(ce,this.subarray(De,Ve),be),it},A.prototype.fill=function(ce,be,De,Ve){if(typeof ce=="string"){if(typeof be=="string"?(Ve=be,be=0,De=this.length):typeof De=="string"&&(Ve=De,De=this.length),Ve!==void 0&&typeof Ve!="string")throw new TypeError("encoding must be a string");if(typeof Ve=="string"&&!A.isEncoding(Ve))throw new TypeError("Unknown encoding: "+Ve);if(ce.length===1){var it=ce.charCodeAt(0);(Ve==="utf8"&&it<128||Ve==="latin1")&&(ce=it)}}else typeof ce=="number"?ce=ce&255:typeof ce=="boolean"&&(ce=Number(ce));if(be<0||this.length<be||this.length<De)throw new RangeError("Out of range index");if(De<=be)return this;be=be>>>0,De=De===void 0?this.length:De>>>0,ce||(ce=0);var ot;if(typeof ce=="number")for(ot=be;ot<De;++ot)this[ot]=ce;else{var Tt=A.isBuffer(ce)?ce:A.from(ce,Ve),It=Tt.length;if(It===0)throw new TypeError('The value "'+ce+'" is invalid for argument "value"');for(ot=0;ot<De-be;++ot)this[ot+be]=Tt[ot%It]}return this};var Ne={};function He(Me,ce,be){Ne[Me]=function(De){i(it,De);var Ve=o(it);function it(){var ot;return r(this,it),ot=Ve.call(this),Object.defineProperty(c(ot),"message",{value:ce.apply(c(ot),arguments),writable:!0,configurable:!0}),ot.name="".concat(ot.name," [").concat(Me,"]"),ot.stack,delete ot.name,ot}return n(it,[{key:"code",get:function(){return Me},set:function(Tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Tt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Me,"]: ").concat(this.message)}}]),it}(be)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(Me){return Me?"".concat(Me," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(Me,ce){return'The "'.concat(Me,'" argument must be of type number. Received type ').concat(l(ce))},TypeError),He("ERR_OUT_OF_RANGE",function(Me,ce,be){var De='The value of "'.concat(Me,'" is out of range.'),Ve=be;return Number.isInteger(be)&&Math.abs(be)>Math.pow(2,32)?Ve=_e(String(be)):typeof be=="bigint"&&(Ve=String(be),(be>Math.pow(BigInt(2),BigInt(32))||be<-Math.pow(BigInt(2),BigInt(32)))&&(Ve=_e(Ve)),Ve+="n"),De+=" It must be ".concat(ce,". Received ").concat(Ve),De},RangeError);function _e(Me){for(var ce="",be=Me.length,De=Me[0]==="-"?1:0;be>=De+4;be-=3)ce="_".concat(Me.slice(be-3,be)).concat(ce);return"".concat(Me.slice(0,be)).concat(ce)}function We(Me,ce,be){Ke(ce,"offset"),(Me[ce]===void 0||Me[ce+be]===void 0)&&qe(ce,Me.length-(be+1))}function tt(Me,ce,be,De,Ve,it){if(Me>be||Me<ce){var ot=typeof ce=="bigint"?"n":"",Tt;throw it>3?ce===0||ce===BigInt(0)?Tt=">= 0".concat(ot," and < 2").concat(ot," ** ").concat((it+1)*8).concat(ot):Tt=">= -(2".concat(ot," ** ").concat((it+1)*8-1).concat(ot,") and < 2 ** ")+"".concat((it+1)*8-1).concat(ot):Tt=">= ".concat(ce).concat(ot," and <= ").concat(be).concat(ot),new Ne.ERR_OUT_OF_RANGE("value",Tt,Me)}We(De,Ve,it)}function Ke(Me,ce){if(typeof Me!="number")throw new Ne.ERR_INVALID_ARG_TYPE(ce,"number",Me)}function qe(Me,ce,be){throw Math.floor(Me)!==Me?(Ke(Me,be),new Ne.ERR_OUT_OF_RANGE(be||"offset","an integer",Me)):ce<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE(be||"offset",">= ".concat(be?1:0," and <= ").concat(ce),Me)}var rt=/[^+/0-9A-Za-z-_]/g;function ft(Me){if(Me=Me.split("=")[0],Me=Me.trim().replace(rt,""),Me.length<2)return"";for(;Me.length%4!==0;)Me=Me+"=";return Me}function pt(Me,ce){ce=ce||1/0;for(var be,De=Me.length,Ve=null,it=[],ot=0;ot<De;++ot){if(be=Me.charCodeAt(ot),be>55295&&be<57344){if(!Ve){if(be>56319){(ce-=3)>-1&&it.push(239,191,189);continue}else if(ot+1===De){(ce-=3)>-1&&it.push(239,191,189);continue}Ve=be;continue}if(be<56320){(ce-=3)>-1&&it.push(239,191,189),Ve=be;continue}be=(Ve-55296<<10|be-56320)+65536}else Ve&&(ce-=3)>-1&&it.push(239,191,189);if(Ve=null,be<128){if((ce-=1)<0)break;it.push(be)}else if(be<2048){if((ce-=2)<0)break;it.push(be>>6|192,be&63|128)}else if(be<65536){if((ce-=3)<0)break;it.push(be>>12|224,be>>6&63|128,be&63|128)}else if(be<1114112){if((ce-=4)<0)break;it.push(be>>18|240,be>>12&63|128,be>>6&63|128,be&63|128)}else throw new Error("Invalid code point")}return it}function gt(Me){for(var ce=[],be=0;be<Me.length;++be)ce.push(Me.charCodeAt(be)&255);return ce}function Mt(Me,ce){for(var be,De,Ve,it=[],ot=0;ot<Me.length&&!((ce-=2)<0);++ot)be=Me.charCodeAt(ot),De=be>>8,Ve=be%256,it.push(Ve),it.push(De);return it}function Lt(Me){return p.toByteArray(ft(Me))}function Wt(Me,ce,be,De){var Ve;for(Ve=0;Ve<De&&!(Ve+be>=ce.length||Ve>=Me.length);++Ve)ce[Ve+be]=Me[Ve];return Ve}function Je(Me,ce){return Me instanceof ce||Me!=null&&Me.constructor!=null&&Me.constructor.name!=null&&Me.constructor.name===ce.name}function ze(Me){return Me!==Me}var Oe=function(){for(var Me="0123456789abcdef",ce=new Array(256),be=0;be<16;++be)for(var De=be*16,Ve=0;Ve<16;++Ve)ce[De+Ve]=Me[be]+Me[Ve];return ce}();function Ue(Me){return typeof BigInt>"u"?ke:Me}function ke(){throw new Error("BigInt not supported")}},2321:function(h){h.exports=u,h.exports.isMobile=u,h.exports.default=u;var d=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function u(n){n||(n={});var i=n.ua;if(!i&&typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),typeof i!="string")return!1;var s=d.test(i)&&!t.test(i)||!!n.tablet&&r.test(i);return!s&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf("Macintosh")!==-1&&i.indexOf("Safari")!==-1&&(s=!0),s}},3910:function(h,d){d.byteLength=m,d.toByteArray=b,d.fromByteArray=p;for(var t=[],r=[],u=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],r[n.charCodeAt(i)]=i;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function o(S){var M=S.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");R===-1&&(R=M);var T=R===M?0:4-R%4;return[R,T]}function m(S){var M=o(S),R=M[0],T=M[1];return(R+T)*3/4-T}function c(S,M,R){return(M+R)*3/4-R}function b(S){var M,R=o(S),T=R[0],E=R[1],A=new u(c(S,T,E)),f=0,P=E>0?T-4:T,w;for(w=0;w<P;w+=4)M=r[S.charCodeAt(w)]<<18|r[S.charCodeAt(w+1)]<<12|r[S.charCodeAt(w+2)]<<6|r[S.charCodeAt(w+3)],A[f++]=M>>16&255,A[f++]=M>>8&255,A[f++]=M&255;return E===2&&(M=r[S.charCodeAt(w)]<<2|r[S.charCodeAt(w+1)]>>4,A[f++]=M&255),E===1&&(M=r[S.charCodeAt(w)]<<10|r[S.charCodeAt(w+1)]<<4|r[S.charCodeAt(w+2)]>>2,A[f++]=M>>8&255,A[f++]=M&255),A}function v(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function l(S,M,R){for(var T,E=[],A=M;A<R;A+=3)T=(S[A]<<16&16711680)+(S[A+1]<<8&65280)+(S[A+2]&255),E.push(v(T));return E.join("")}function p(S){for(var M,R=S.length,T=R%3,E=[],A=16383,f=0,P=R-T;f<P;f+=A)E.push(l(S,f,f+A>P?P:f+A));return T===1?(M=S[R-1],E.push(t[M>>2]+t[M<<4&63]+"==")):T===2&&(M=(S[R-2]<<8)+S[R-1],E.push(t[M>>10]+t[M>>4&63]+t[M<<2&63]+"=")),E.join("")}},3187:function(h,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(t,r,u,n,i){var s,o,m=i*8-n-1,c=(1<<m)-1,b=c>>1,v=-7,l=u?i-1:0,p=u?-1:1,S=t[r+l];for(l+=p,s=S&(1<<-v)-1,S>>=-v,v+=m;v>0;s=s*256+t[r+l],l+=p,v-=8);for(o=s&(1<<-v)-1,s>>=-v,v+=n;v>0;o=o*256+t[r+l],l+=p,v-=8);if(s===0)s=1-b;else{if(s===c)return o?NaN:(S?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-b}return(S?-1:1)*o*Math.pow(2,s-n)},d.write=function(t,r,u,n,i,s){var o,m,c,b=s*8-i-1,v=(1<<b)-1,l=v>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:s-1,M=n?1:-1,R=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,o=v):(o=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+l>=1?r+=p/c:r+=p*Math.pow(2,1-l),r*c>=2&&(o++,c/=2),o+l>=v?(m=0,o=v):o+l>=1?(m=(r*c-1)*Math.pow(2,i),o=o+l):(m=r*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[u+S]=m&255,S+=M,m/=256,i-=8);for(o=o<<i|m,b+=i;b>0;t[u+S]=o&255,S+=M,o/=256,b-=8);t[u+S-M]|=R*128}},1152:function(h,d,t){h.exports=o;var r=t(3440),u=t(7774),n=t(9298);function i(m,c){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(b){return m[b]}),this._mode=c,this._active=m[c],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=i.prototype;s.flush=function(m){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].flush(m)},s.idle=function(m){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].idle(m)},s.lookAt=function(m,c,b,v){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].lookAt(m,c,b,v)},s.rotate=function(m,c,b,v){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].rotate(m,c,b,v)},s.pan=function(m,c,b,v){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].pan(m,c,b,v)},s.translate=function(m,c,b,v){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].translate(m,c,b,v)},s.setMatrix=function(m,c){for(var b=this._controllerList,v=0;v<b.length;++v)b[v].setMatrix(m,c)},s.setDistanceLimits=function(m,c){for(var b=this._controllerList,v=0;v<b.length;++v)b[v].setDistanceLimits(m,c)},s.setDistance=function(m,c){for(var b=this._controllerList,v=0;v<b.length;++v)b[v].setDistance(m,c)},s.recalcMatrix=function(m){this._active.recalcMatrix(m)},s.getDistance=function(m){return this._active.getDistance(m)},s.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},s.lastT=function(){return this._active.lastT()},s.setMode=function(m){if(m!==this._mode){var c=this._controllerNames.indexOf(m);if(!(c<0)){var b=this._active,v=this._controllerList[c],l=Math.max(b.lastT(),v.lastT());b.recalcMatrix(l),v.setMatrix(l,b.computedMatrix),this._active=v,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode};function o(m){m=m||{};var c=m.eye||[0,0,1],b=m.center||[0,0,0],v=m.up||[0,1,0],l=m.distanceLimits||[0,1/0],p=m.mode||"turntable",S=r(),M=u(),R=n();return S.setDistanceLimits(l[0],l[1]),S.lookAt(0,c,b,v),M.setDistanceLimits(l[0],l[1]),M.lookAt(0,c,b,v),R.setDistanceLimits(l[0],l[1]),R.lookAt(0,c,b,v),new i({turntable:S,orbit:M,matrix:R},p)}},8126:function(h,d,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,u=t(5827),n=t(2944),i=new r;function s(o){var m=i.get(o),c=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!c||!o.isBuffer(c)){var b=u(o,new Float32Array([-1,-1,-1,4,4,-1]));m=n(o,[{buffer:b,type:o.FLOAT,size:2}]),m._triangleBuffer=b,i.set(o,m)}m.bind(),o.drawArrays(o.TRIANGLES,0,3),m.unbind()}h.exports=s},8008:function(h,d,t){var r=t(4930);h.exports=u;function u(n,i,s){i=typeof i=="number"?i:1,s=s||": ";var o=n.split(/\r?\n/),m=String(o.length+i-1).length;return o.map(function(c,b){var v=b+i,l=String(v).length,p=r(v,m-l);return p+s+c}).join(`
`)}},2153:function(h,d,t){h.exports=n;var r=t(417);function u(i,s){for(var o=new Array(s+1),m=0;m<i.length;++m)o[m]=i[m];for(var m=0;m<=i.length;++m){for(var c=i.length;c<=s;++c){for(var b=new Array(s),v=0;v<s;++v)b[v]=Math.pow(c+1-m,v);o[c]=b}var l=r.apply(void 0,o);if(l)return!0}return!1}function n(i){var s=i.length;if(s===0)return[];if(s===1)return[0];for(var o=i[0].length,m=[i[0]],c=[0],b=1;b<s;++b){if(m.push(i[b]),!u(m,o)){m.pop();continue}if(c.push(b),c.length===o+1)return c}return c}},4653:function(h,d,t){h.exports=n;var r=t(4419),u=t(1778);function n(i,s){return r(s).filter(function(o){for(var m=new Array(o.length),c=0;c<o.length;++c)m[c]=s[o[c]];return u(m)*i<1})}},2350:function(h,d,t){h.exports=n;var r=t(4653),u=t(8691);function n(i,s){return u(r(i,s))}},7896:function(h){h.exports=function(t){return atob(t)}},957:function(h,d,t){h.exports=n;var r=t(6606);function u(i){for(var s=0,o=0;o<i.length;++o)s+=i[o];return s}function n(i,s){for(var o=s.length,m=new Array(o+1),c=0;c<o;++c){for(var b=new Array(o+1),v=0;v<=o;++v)b[v]=i[v][c];m[c]=b}m[o]=new Array(o+1);for(var c=0;c<=o;++c)m[o][c]=1;for(var l=new Array(o+1),c=0;c<o;++c)l[c]=s[c];l[o]=1;var p=r(m,l),S=u(p[o+1]);S===0&&(S=1);for(var M=new Array(o+1),c=0;c<=o;++c)M[c]=u(p[c])/S;return M}},1539:function(h,d,t){var r=t(8524);h.exports=u;function u(n,i){return r(n[0].mul(i[1]).add(i[0].mul(n[1])),n[1].mul(i[1]))}},8846:function(h){h.exports=d;function d(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(h,d,t){var r=t(8524);h.exports=u;function u(n,i){return r(n[0].mul(i[1]),n[1].mul(i[0]))}},5125:function(h,d,t){var r=t(234),u=t(3218),n=t(5514),i=t(2813),s=t(8524),o=t(9189);h.exports=m;function m(c,b){if(r(c))return b?o(c,m(b)):[c[0].clone(),c[1].clone()];var v=0,l,p;if(u(c))l=c.clone();else if(typeof c=="string")l=i(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))l=n(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),v-=256;l=n(c)}}if(r(b))l.mul(b[1]),p=b[0].clone();else if(u(b))p=b.clone();else if(typeof b=="string")p=i(b);else if(!b)p=n(1);else if(b===Math.floor(b))p=n(b);else{for(;b!==Math.floor(b);)b=b*Math.pow(2,256),v+=256;p=n(b)}return v>0?l=l.ushln(v):v<0&&(p=p.ushln(-v)),s(l,p)}},234:function(h,d,t){var r=t(3218);h.exports=u;function u(n){return Array.isArray(n)&&n.length===2&&r(n[0])&&r(n[1])}},4275:function(h,d,t){var r=t(1928);h.exports=u;function u(n){return n.cmp(new r(0))}},9958:function(h,d,t){var r=t(4275);h.exports=u;function u(n){var i=n.length,s=n.words,o=0;if(i===1)o=s[0];else if(i===2)o=s[0]+s[1]*67108864;else for(var m=0;m<i;m++){var c=s[m];o+=c*Math.pow(67108864,m)}return r(n)*o}},1112:function(h,d,t){var r=t(8362),u=t(2288).countTrailingZeros;h.exports=n;function n(i){var s=u(r.lo(i));if(s<32)return s;var o=u(r.hi(i));return o>20?52:o+32}},3218:function(h,d,t){t(1928),h.exports=r;function r(u){return u&&typeof u=="object"&&!!u.words}},5514:function(h,d,t){var r=t(1928),u=t(8362);h.exports=n;function n(i){var s=u.exponent(i);return s<52?new r(i):new r(i*Math.pow(2,52-s)).ushln(s-52)}},8524:function(h,d,t){var r=t(5514),u=t(4275);h.exports=n;function n(i,s){var o=u(i),m=u(s);if(o===0)return[r(0),r(1)];if(m===0)return[r(0),r(0)];m<0&&(i=i.neg(),s=s.neg());var c=i.gcd(s);return c.cmpn(1)?[i.div(c),s.div(c)]:[i,s]}},2813:function(h,d,t){var r=t(1928);h.exports=u;function u(n){return new r(n)}},3962:function(h,d,t){var r=t(8524);h.exports=u;function u(n,i){return r(n[0].mul(i[0]),n[1].mul(i[1]))}},4951:function(h,d,t){var r=t(4275);h.exports=u;function u(n){return r(n[0])*r(n[1])}},4354:function(h,d,t){var r=t(8524);h.exports=u;function u(n,i){return r(n[0].mul(i[1]).sub(n[1].mul(i[0])),n[1].mul(i[1]))}},7999:function(h,d,t){var r=t(9958),u=t(1112);h.exports=n;function n(i){var s=i[0],o=i[1];if(s.cmpn(0)===0)return 0;var m=s.abs().divmod(o.abs()),c=m.div,b=r(c),v=m.mod,l=s.negative!==o.negative?-1:1;if(v.cmpn(0)===0)return l*b;if(b){var p=u(b)+4,S=r(v.ushln(p).divRound(o));return l*(b+S*Math.pow(2,-p))}else{var M=o.bitLength()-v.bitLength()+53,S=r(v.ushln(M).divRound(o));return M<1023?l*S*Math.pow(2,-M):(S*=Math.pow(2,-1023),l*S*Math.pow(2,1023-M))}}},5070:function(h){function d(s,o,m,c,b){for(var v=b+1;c<=b;){var l=c+b>>>1,p=s[l],S=m!==void 0?m(p,o):p-o;S>=0?(v=l,b=l-1):c=l+1}return v}function t(s,o,m,c,b){for(var v=b+1;c<=b;){var l=c+b>>>1,p=s[l],S=m!==void 0?m(p,o):p-o;S>0?(v=l,b=l-1):c=l+1}return v}function r(s,o,m,c,b){for(var v=c-1;c<=b;){var l=c+b>>>1,p=s[l],S=m!==void 0?m(p,o):p-o;S<0?(v=l,c=l+1):b=l-1}return v}function u(s,o,m,c,b){for(var v=c-1;c<=b;){var l=c+b>>>1,p=s[l],S=m!==void 0?m(p,o):p-o;S<=0?(v=l,c=l+1):b=l-1}return v}function n(s,o,m,c,b){for(;c<=b;){var v=c+b>>>1,l=s[v],p=m!==void 0?m(l,o):l-o;if(p===0)return v;p<=0?c=v+1:b=v-1}return-1}function i(s,o,m,c,b,v){return typeof m=="function"?v(s,o,m,c===void 0?0:c|0,b===void 0?s.length-1:b|0):v(s,o,void 0,m===void 0?0:m|0,c===void 0?s.length-1:c|0)}h.exports={ge:function(s,o,m,c,b){return i(s,o,m,c,b,d)},gt:function(s,o,m,c,b){return i(s,o,m,c,b,t)},lt:function(s,o,m,c,b){return i(s,o,m,c,b,r)},le:function(s,o,m,c,b){return i(s,o,m,c,b,u)},eq:function(s,o,m,c,b){return i(s,o,m,c,b,n)}}},2288:function(h,d){"use restrict";var t=32;d.INT_BITS=t,d.INT_MAX=2147483647,d.INT_MIN=-1<<t-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var i=n>>t-1;return(n^i)-i},d.min=function(n,i){return i^(n^i)&-(n<i)},d.max=function(n,i){return n^(n^i)&-(n<i)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var i,s;return i=(n>65535)<<4,n>>>=i,s=(n>255)<<3,n>>>=s,i|=s,s=(n>15)<<2,n>>>=s,i|=s,s=(n>3)<<1,n>>>=s,i|=s,i|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var i=32;return n&=-n,n&&i--,n&65535&&(i-=16),n&16711935&&(i-=8),n&252645135&&(i-=4),n&858993459&&(i-=2),n&1431655765&&(i-=1),i}d.countTrailingZeros=r,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var u=new Array(256);(function(n){for(var i=0;i<256;++i){var s=i,o=i,m=7;for(s>>>=1;s;s>>>=1)o<<=1,o|=s&1,--m;n[i]=o<<m&255}})(u),d.reverse=function(n){return u[n&255]<<24|u[n>>>8&255]<<16|u[n>>>16&255]<<8|u[n>>>24&255]},d.interleave2=function(n,i){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,n|i<<1},d.deinterleave2=function(n,i){return n=n>>>i&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,i,s){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,n|=i<<1,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|s<<2},d.deinterleave3=function(n,i){return n=n>>>i&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var i=n|n-1;return i+1|(~i&-~i)-1>>>r(n)+1}},1928:function(h,d,t){h=t.nmd(h),function(r,u){function n(N,O){if(!N)throw new Error(O||"Assertion failed")}function i(N,O){N.super_=O;var U=function(){};U.prototype=O.prototype,N.prototype=new U,N.prototype.constructor=N}function s(N,O,U){if(s.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((O==="le"||O==="be")&&(U=O,O=10),this._init(N||0,O||10,U||"be"))}typeof r=="object"?r.exports=s:u.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=t(6601).Buffer}catch{}s.isBN=function(O){return O instanceof s?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===s.wordSize&&Array.isArray(O.words)},s.max=function(O,U){return O.cmp(U)>0?O:U},s.min=function(O,U){return O.cmp(U)<0?O:U},s.prototype._init=function(O,U,K){if(typeof O=="number")return this._initNumber(O,U,K);if(typeof O=="object")return this._initArray(O,U,K);U==="hex"&&(U=16),n(U===(U|0)&&U>=2&&U<=36),O=O.toString().replace(/\s+/g,"");var re=0;O[0]==="-"&&(re++,this.negative=1),re<O.length&&(U===16?this._parseHex(O,re,K):(this._parseBase(O,U,re),K==="le"&&this._initArray(this.toArray(),U,K)))},s.prototype._initNumber=function(O,U,K){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(n(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),K==="le"&&this._initArray(this.toArray(),U,K)},s.prototype._initArray=function(O,U,K){if(n(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var re=0;re<this.length;re++)this.words[re]=0;var ae,ue,ve=0;if(K==="be")for(re=O.length-1,ae=0;re>=0;re-=3)ue=O[re]|O[re-1]<<8|O[re-2]<<16,this.words[ae]|=ue<<ve&67108863,this.words[ae+1]=ue>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ae++);else if(K==="le")for(re=0,ae=0;re<O.length;re+=3)ue=O[re]|O[re+1]<<8|O[re+2]<<16,this.words[ae]|=ue<<ve&67108863,this.words[ae+1]=ue>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ae++);return this.strip()};function m(N,O){var U=N.charCodeAt(O);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function c(N,O,U){var K=m(N,U);return U-1>=O&&(K|=m(N,U-1)<<4),K}s.prototype._parseHex=function(O,U,K){this.length=Math.ceil((O.length-U)/6),this.words=new Array(this.length);for(var re=0;re<this.length;re++)this.words[re]=0;var ae=0,ue=0,ve;if(K==="be")for(re=O.length-1;re>=U;re-=2)ve=c(O,U,re)<<ae,this.words[ue]|=ve&67108863,ae>=18?(ae-=18,ue+=1,this.words[ue]|=ve>>>26):ae+=8;else{var ee=O.length-U;for(re=ee%2===0?U+1:U;re<O.length;re+=2)ve=c(O,U,re)<<ae,this.words[ue]|=ve&67108863,ae>=18?(ae-=18,ue+=1,this.words[ue]|=ve>>>26):ae+=8}this.strip()};function b(N,O,U,K){for(var re=0,ae=Math.min(N.length,U),ue=O;ue<ae;ue++){var ve=N.charCodeAt(ue)-48;re*=K,ve>=49?re+=ve-49+10:ve>=17?re+=ve-17+10:re+=ve}return re}s.prototype._parseBase=function(O,U,K){this.words=[0],this.length=1;for(var re=0,ae=1;ae<=67108863;ae*=U)re++;re--,ae=ae/U|0;for(var ue=O.length-K,ve=ue%re,ee=Math.min(ue,ue-ve)+K,J=0,Q=K;Q<ee;Q+=re)J=b(O,Q,Q+re,U),this.imuln(ae),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J);if(ve!==0){var X=1;for(J=b(O,Q,O.length,U),Q=0;Q<ve;Q++)X*=U;this.imuln(X),this.words[0]+J<67108864?this.words[0]+=J:this._iaddn(J)}this.strip()},s.prototype.copy=function(O){O.words=new Array(this.length);for(var U=0;U<this.length;U++)O.words[U]=this.words[U];O.length=this.length,O.negative=this.negative,O.red=this.red},s.prototype.clone=function(){var O=new s(null);return this.copy(O),O},s.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(O,U){O=O||10,U=U|0||1;var K;if(O===16||O==="hex"){K="";for(var re=0,ae=0,ue=0;ue<this.length;ue++){var ve=this.words[ue],ee=((ve<<re|ae)&16777215).toString(16);ae=ve>>>24-re&16777215,ae!==0||ue!==this.length-1?K=v[6-ee.length]+ee+K:K=ee+K,re+=2,re>=26&&(re-=26,ue--)}for(ae!==0&&(K=ae.toString(16)+K);K.length%U!==0;)K="0"+K;return this.negative!==0&&(K="-"+K),K}if(O===(O|0)&&O>=2&&O<=36){var J=l[O],Q=p[O];K="";var X=this.clone();for(X.negative=0;!X.isZero();){var q=X.modn(Q).toString(O);X=X.idivn(Q),X.isZero()?K=q+K:K=v[J-q.length]+q+K}for(this.isZero()&&(K="0"+K);K.length%U!==0;)K="0"+K;return this.negative!==0&&(K="-"+K),K}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(O,U){return n(typeof o<"u"),this.toArrayLike(o,O,U)},s.prototype.toArray=function(O,U){return this.toArrayLike(Array,O,U)},s.prototype.toArrayLike=function(O,U,K){var re=this.byteLength(),ae=K||Math.max(1,re);n(re<=ae,"byte array longer than desired length"),n(ae>0,"Requested array length <= 0"),this.strip();var ue=U==="le",ve=new O(ae),ee,J,Q=this.clone();if(ue){for(J=0;!Q.isZero();J++)ee=Q.andln(255),Q.iushrn(8),ve[J]=ee;for(;J<ae;J++)ve[J]=0}else{for(J=0;J<ae-re;J++)ve[J]=0;for(J=0;!Q.isZero();J++)ee=Q.andln(255),Q.iushrn(8),ve[ae-J-1]=ee}return ve},Math.clz32?s.prototype._countBits=function(O){return 32-Math.clz32(O)}:s.prototype._countBits=function(O){var U=O,K=0;return U>=4096&&(K+=13,U>>>=13),U>=64&&(K+=7,U>>>=7),U>=8&&(K+=4,U>>>=4),U>=2&&(K+=2,U>>>=2),K+U},s.prototype._zeroBits=function(O){if(O===0)return 26;var U=O,K=0;return U&8191||(K+=13,U>>>=13),U&127||(K+=7,U>>>=7),U&15||(K+=4,U>>>=4),U&3||(K+=2,U>>>=2),U&1||K++,K},s.prototype.bitLength=function(){var O=this.words[this.length-1],U=this._countBits(O);return(this.length-1)*26+U};function S(N){for(var O=new Array(N.bitLength()),U=0;U<O.length;U++){var K=U/26|0,re=U%26;O[U]=(N.words[K]&1<<re)>>>re}return O}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,U=0;U<this.length;U++){var K=this._zeroBits(this.words[U]);if(O+=K,K!==26)break}return O},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},s.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var U=0;U<O.length;U++)this.words[U]=this.words[U]|O.words[U];return this.strip()},s.prototype.ior=function(O){return n((this.negative|O.negative)===0),this.iuor(O)},s.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},s.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},s.prototype.iuand=function(O){var U;this.length>O.length?U=O:U=this;for(var K=0;K<U.length;K++)this.words[K]=this.words[K]&O.words[K];return this.length=U.length,this.strip()},s.prototype.iand=function(O){return n((this.negative|O.negative)===0),this.iuand(O)},s.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},s.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},s.prototype.iuxor=function(O){var U,K;this.length>O.length?(U=this,K=O):(U=O,K=this);for(var re=0;re<K.length;re++)this.words[re]=U.words[re]^K.words[re];if(this!==U)for(;re<U.length;re++)this.words[re]=U.words[re];return this.length=U.length,this.strip()},s.prototype.ixor=function(O){return n((this.negative|O.negative)===0),this.iuxor(O)},s.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},s.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},s.prototype.inotn=function(O){n(typeof O=="number"&&O>=0);var U=Math.ceil(O/26)|0,K=O%26;this._expand(U),K>0&&U--;for(var re=0;re<U;re++)this.words[re]=~this.words[re]&67108863;return K>0&&(this.words[re]=~this.words[re]&67108863>>26-K),this.strip()},s.prototype.notn=function(O){return this.clone().inotn(O)},s.prototype.setn=function(O,U){n(typeof O=="number"&&O>=0);var K=O/26|0,re=O%26;return this._expand(K+1),U?this.words[K]=this.words[K]|1<<re:this.words[K]=this.words[K]&~(1<<re),this.strip()},s.prototype.iadd=function(O){var U;if(this.negative!==0&&O.negative===0)return this.negative=0,U=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,U=this.isub(O),O.negative=1,U._normSign();var K,re;this.length>O.length?(K=this,re=O):(K=O,re=this);for(var ae=0,ue=0;ue<re.length;ue++)U=(K.words[ue]|0)+(re.words[ue]|0)+ae,this.words[ue]=U&67108863,ae=U>>>26;for(;ae!==0&&ue<K.length;ue++)U=(K.words[ue]|0)+ae,this.words[ue]=U&67108863,ae=U>>>26;if(this.length=K.length,ae!==0)this.words[this.length]=ae,this.length++;else if(K!==this)for(;ue<K.length;ue++)this.words[ue]=K.words[ue];return this},s.prototype.add=function(O){var U;return O.negative!==0&&this.negative===0?(O.negative=0,U=this.sub(O),O.negative^=1,U):O.negative===0&&this.negative!==0?(this.negative=0,U=O.sub(this),this.negative=1,U):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},s.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var U=this.iadd(O);return O.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var K=this.cmp(O);if(K===0)return this.negative=0,this.length=1,this.words[0]=0,this;var re,ae;K>0?(re=this,ae=O):(re=O,ae=this);for(var ue=0,ve=0;ve<ae.length;ve++)U=(re.words[ve]|0)-(ae.words[ve]|0)+ue,ue=U>>26,this.words[ve]=U&67108863;for(;ue!==0&&ve<re.length;ve++)U=(re.words[ve]|0)+ue,ue=U>>26,this.words[ve]=U&67108863;if(ue===0&&ve<re.length&&re!==this)for(;ve<re.length;ve++)this.words[ve]=re.words[ve];return this.length=Math.max(this.length,ve),re!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(O){return this.clone().isub(O)};function M(N,O,U){U.negative=O.negative^N.negative;var K=N.length+O.length|0;U.length=K,K=K-1|0;var re=N.words[0]|0,ae=O.words[0]|0,ue=re*ae,ve=ue&67108863,ee=ue/67108864|0;U.words[0]=ve;for(var J=1;J<K;J++){for(var Q=ee>>>26,X=ee&67108863,q=Math.min(J,O.length-1),se=Math.max(0,J-N.length+1);se<=q;se++){var Y=J-se|0;re=N.words[Y]|0,ae=O.words[se]|0,ue=re*ae+X,Q+=ue/67108864|0,X=ue&67108863}U.words[J]=X|0,ee=Q|0}return ee!==0?U.words[J]=ee|0:U.length--,U.strip()}var R=function(O,U,K){var re=O.words,ae=U.words,ue=K.words,ve=0,ee,J,Q,X=re[0]|0,q=X&8191,se=X>>>13,Y=re[1]|0,Z=Y&8191,ie=Y>>>13,te=re[2]|0,fe=te&8191,de=te>>>13,we=re[3]|0,Ae=we&8191,Re=we>>>13,Fe=re[4]|0,Se=Fe&8191,Te=Fe>>>13,Ee=re[5]|0,Ne=Ee&8191,He=Ee>>>13,_e=re[6]|0,We=_e&8191,tt=_e>>>13,Ke=re[7]|0,qe=Ke&8191,rt=Ke>>>13,ft=re[8]|0,pt=ft&8191,gt=ft>>>13,Mt=re[9]|0,Lt=Mt&8191,Wt=Mt>>>13,Je=ae[0]|0,ze=Je&8191,Oe=Je>>>13,Ue=ae[1]|0,ke=Ue&8191,Me=Ue>>>13,ce=ae[2]|0,be=ce&8191,De=ce>>>13,Ve=ae[3]|0,it=Ve&8191,ot=Ve>>>13,Tt=ae[4]|0,It=Tt&8191,Ht=Tt>>>13,Gt=ae[5]|0,Pt=Gt&8191,Jt=Gt>>>13,or=ae[6]|0,zr=or&8191,mt=or>>>13,Kt=ae[7]|0,jt=Kt&8191,wr=Kt>>>13,vr=ae[8]|0,ct=vr&8191,ut=vr>>>13,bt=ae[9]|0,At=bt&8191,Ct=bt>>>13;K.negative=O.negative^U.negative,K.length=19,ee=Math.imul(q,ze),J=Math.imul(q,Oe),J=J+Math.imul(se,ze)|0,Q=Math.imul(se,Oe);var St=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(St>>>26)|0,St&=67108863,ee=Math.imul(Z,ze),J=Math.imul(Z,Oe),J=J+Math.imul(ie,ze)|0,Q=Math.imul(ie,Oe),ee=ee+Math.imul(q,ke)|0,J=J+Math.imul(q,Me)|0,J=J+Math.imul(se,ke)|0,Q=Q+Math.imul(se,Me)|0;var zt=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(zt>>>26)|0,zt&=67108863,ee=Math.imul(fe,ze),J=Math.imul(fe,Oe),J=J+Math.imul(de,ze)|0,Q=Math.imul(de,Oe),ee=ee+Math.imul(Z,ke)|0,J=J+Math.imul(Z,Me)|0,J=J+Math.imul(ie,ke)|0,Q=Q+Math.imul(ie,Me)|0,ee=ee+Math.imul(q,be)|0,J=J+Math.imul(q,De)|0,J=J+Math.imul(se,be)|0,Q=Q+Math.imul(se,De)|0;var Vt=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,ee=Math.imul(Ae,ze),J=Math.imul(Ae,Oe),J=J+Math.imul(Re,ze)|0,Q=Math.imul(Re,Oe),ee=ee+Math.imul(fe,ke)|0,J=J+Math.imul(fe,Me)|0,J=J+Math.imul(de,ke)|0,Q=Q+Math.imul(de,Me)|0,ee=ee+Math.imul(Z,be)|0,J=J+Math.imul(Z,De)|0,J=J+Math.imul(ie,be)|0,Q=Q+Math.imul(ie,De)|0,ee=ee+Math.imul(q,it)|0,J=J+Math.imul(q,ot)|0,J=J+Math.imul(se,it)|0,Q=Q+Math.imul(se,ot)|0;var qt=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(qt>>>26)|0,qt&=67108863,ee=Math.imul(Se,ze),J=Math.imul(Se,Oe),J=J+Math.imul(Te,ze)|0,Q=Math.imul(Te,Oe),ee=ee+Math.imul(Ae,ke)|0,J=J+Math.imul(Ae,Me)|0,J=J+Math.imul(Re,ke)|0,Q=Q+Math.imul(Re,Me)|0,ee=ee+Math.imul(fe,be)|0,J=J+Math.imul(fe,De)|0,J=J+Math.imul(de,be)|0,Q=Q+Math.imul(de,De)|0,ee=ee+Math.imul(Z,it)|0,J=J+Math.imul(Z,ot)|0,J=J+Math.imul(ie,it)|0,Q=Q+Math.imul(ie,ot)|0,ee=ee+Math.imul(q,It)|0,J=J+Math.imul(q,Ht)|0,J=J+Math.imul(se,It)|0,Q=Q+Math.imul(se,Ht)|0;var $t=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+($t>>>26)|0,$t&=67108863,ee=Math.imul(Ne,ze),J=Math.imul(Ne,Oe),J=J+Math.imul(He,ze)|0,Q=Math.imul(He,Oe),ee=ee+Math.imul(Se,ke)|0,J=J+Math.imul(Se,Me)|0,J=J+Math.imul(Te,ke)|0,Q=Q+Math.imul(Te,Me)|0,ee=ee+Math.imul(Ae,be)|0,J=J+Math.imul(Ae,De)|0,J=J+Math.imul(Re,be)|0,Q=Q+Math.imul(Re,De)|0,ee=ee+Math.imul(fe,it)|0,J=J+Math.imul(fe,ot)|0,J=J+Math.imul(de,it)|0,Q=Q+Math.imul(de,ot)|0,ee=ee+Math.imul(Z,It)|0,J=J+Math.imul(Z,Ht)|0,J=J+Math.imul(ie,It)|0,Q=Q+Math.imul(ie,Ht)|0,ee=ee+Math.imul(q,Pt)|0,J=J+Math.imul(q,Jt)|0,J=J+Math.imul(se,Pt)|0,Q=Q+Math.imul(se,Jt)|0;var sr=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(sr>>>26)|0,sr&=67108863,ee=Math.imul(We,ze),J=Math.imul(We,Oe),J=J+Math.imul(tt,ze)|0,Q=Math.imul(tt,Oe),ee=ee+Math.imul(Ne,ke)|0,J=J+Math.imul(Ne,Me)|0,J=J+Math.imul(He,ke)|0,Q=Q+Math.imul(He,Me)|0,ee=ee+Math.imul(Se,be)|0,J=J+Math.imul(Se,De)|0,J=J+Math.imul(Te,be)|0,Q=Q+Math.imul(Te,De)|0,ee=ee+Math.imul(Ae,it)|0,J=J+Math.imul(Ae,ot)|0,J=J+Math.imul(Re,it)|0,Q=Q+Math.imul(Re,ot)|0,ee=ee+Math.imul(fe,It)|0,J=J+Math.imul(fe,Ht)|0,J=J+Math.imul(de,It)|0,Q=Q+Math.imul(de,Ht)|0,ee=ee+Math.imul(Z,Pt)|0,J=J+Math.imul(Z,Jt)|0,J=J+Math.imul(ie,Pt)|0,Q=Q+Math.imul(ie,Jt)|0,ee=ee+Math.imul(q,zr)|0,J=J+Math.imul(q,mt)|0,J=J+Math.imul(se,zr)|0,Q=Q+Math.imul(se,mt)|0;var Cr=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,ee=Math.imul(qe,ze),J=Math.imul(qe,Oe),J=J+Math.imul(rt,ze)|0,Q=Math.imul(rt,Oe),ee=ee+Math.imul(We,ke)|0,J=J+Math.imul(We,Me)|0,J=J+Math.imul(tt,ke)|0,Q=Q+Math.imul(tt,Me)|0,ee=ee+Math.imul(Ne,be)|0,J=J+Math.imul(Ne,De)|0,J=J+Math.imul(He,be)|0,Q=Q+Math.imul(He,De)|0,ee=ee+Math.imul(Se,it)|0,J=J+Math.imul(Se,ot)|0,J=J+Math.imul(Te,it)|0,Q=Q+Math.imul(Te,ot)|0,ee=ee+Math.imul(Ae,It)|0,J=J+Math.imul(Ae,Ht)|0,J=J+Math.imul(Re,It)|0,Q=Q+Math.imul(Re,Ht)|0,ee=ee+Math.imul(fe,Pt)|0,J=J+Math.imul(fe,Jt)|0,J=J+Math.imul(de,Pt)|0,Q=Q+Math.imul(de,Jt)|0,ee=ee+Math.imul(Z,zr)|0,J=J+Math.imul(Z,mt)|0,J=J+Math.imul(ie,zr)|0,Q=Q+Math.imul(ie,mt)|0,ee=ee+Math.imul(q,jt)|0,J=J+Math.imul(q,wr)|0,J=J+Math.imul(se,jt)|0,Q=Q+Math.imul(se,wr)|0;var Ze=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,ee=Math.imul(pt,ze),J=Math.imul(pt,Oe),J=J+Math.imul(gt,ze)|0,Q=Math.imul(gt,Oe),ee=ee+Math.imul(qe,ke)|0,J=J+Math.imul(qe,Me)|0,J=J+Math.imul(rt,ke)|0,Q=Q+Math.imul(rt,Me)|0,ee=ee+Math.imul(We,be)|0,J=J+Math.imul(We,De)|0,J=J+Math.imul(tt,be)|0,Q=Q+Math.imul(tt,De)|0,ee=ee+Math.imul(Ne,it)|0,J=J+Math.imul(Ne,ot)|0,J=J+Math.imul(He,it)|0,Q=Q+Math.imul(He,ot)|0,ee=ee+Math.imul(Se,It)|0,J=J+Math.imul(Se,Ht)|0,J=J+Math.imul(Te,It)|0,Q=Q+Math.imul(Te,Ht)|0,ee=ee+Math.imul(Ae,Pt)|0,J=J+Math.imul(Ae,Jt)|0,J=J+Math.imul(Re,Pt)|0,Q=Q+Math.imul(Re,Jt)|0,ee=ee+Math.imul(fe,zr)|0,J=J+Math.imul(fe,mt)|0,J=J+Math.imul(de,zr)|0,Q=Q+Math.imul(de,mt)|0,ee=ee+Math.imul(Z,jt)|0,J=J+Math.imul(Z,wr)|0,J=J+Math.imul(ie,jt)|0,Q=Q+Math.imul(ie,wr)|0,ee=ee+Math.imul(q,ct)|0,J=J+Math.imul(q,ut)|0,J=J+Math.imul(se,ct)|0,Q=Q+Math.imul(se,ut)|0;var je=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(je>>>26)|0,je&=67108863,ee=Math.imul(Lt,ze),J=Math.imul(Lt,Oe),J=J+Math.imul(Wt,ze)|0,Q=Math.imul(Wt,Oe),ee=ee+Math.imul(pt,ke)|0,J=J+Math.imul(pt,Me)|0,J=J+Math.imul(gt,ke)|0,Q=Q+Math.imul(gt,Me)|0,ee=ee+Math.imul(qe,be)|0,J=J+Math.imul(qe,De)|0,J=J+Math.imul(rt,be)|0,Q=Q+Math.imul(rt,De)|0,ee=ee+Math.imul(We,it)|0,J=J+Math.imul(We,ot)|0,J=J+Math.imul(tt,it)|0,Q=Q+Math.imul(tt,ot)|0,ee=ee+Math.imul(Ne,It)|0,J=J+Math.imul(Ne,Ht)|0,J=J+Math.imul(He,It)|0,Q=Q+Math.imul(He,Ht)|0,ee=ee+Math.imul(Se,Pt)|0,J=J+Math.imul(Se,Jt)|0,J=J+Math.imul(Te,Pt)|0,Q=Q+Math.imul(Te,Jt)|0,ee=ee+Math.imul(Ae,zr)|0,J=J+Math.imul(Ae,mt)|0,J=J+Math.imul(Re,zr)|0,Q=Q+Math.imul(Re,mt)|0,ee=ee+Math.imul(fe,jt)|0,J=J+Math.imul(fe,wr)|0,J=J+Math.imul(de,jt)|0,Q=Q+Math.imul(de,wr)|0,ee=ee+Math.imul(Z,ct)|0,J=J+Math.imul(Z,ut)|0,J=J+Math.imul(ie,ct)|0,Q=Q+Math.imul(ie,ut)|0,ee=ee+Math.imul(q,At)|0,J=J+Math.imul(q,Ct)|0,J=J+Math.imul(se,At)|0,Q=Q+Math.imul(se,Ct)|0;var kt=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(kt>>>26)|0,kt&=67108863,ee=Math.imul(Lt,ke),J=Math.imul(Lt,Me),J=J+Math.imul(Wt,ke)|0,Q=Math.imul(Wt,Me),ee=ee+Math.imul(pt,be)|0,J=J+Math.imul(pt,De)|0,J=J+Math.imul(gt,be)|0,Q=Q+Math.imul(gt,De)|0,ee=ee+Math.imul(qe,it)|0,J=J+Math.imul(qe,ot)|0,J=J+Math.imul(rt,it)|0,Q=Q+Math.imul(rt,ot)|0,ee=ee+Math.imul(We,It)|0,J=J+Math.imul(We,Ht)|0,J=J+Math.imul(tt,It)|0,Q=Q+Math.imul(tt,Ht)|0,ee=ee+Math.imul(Ne,Pt)|0,J=J+Math.imul(Ne,Jt)|0,J=J+Math.imul(He,Pt)|0,Q=Q+Math.imul(He,Jt)|0,ee=ee+Math.imul(Se,zr)|0,J=J+Math.imul(Se,mt)|0,J=J+Math.imul(Te,zr)|0,Q=Q+Math.imul(Te,mt)|0,ee=ee+Math.imul(Ae,jt)|0,J=J+Math.imul(Ae,wr)|0,J=J+Math.imul(Re,jt)|0,Q=Q+Math.imul(Re,wr)|0,ee=ee+Math.imul(fe,ct)|0,J=J+Math.imul(fe,ut)|0,J=J+Math.imul(de,ct)|0,Q=Q+Math.imul(de,ut)|0,ee=ee+Math.imul(Z,At)|0,J=J+Math.imul(Z,Ct)|0,J=J+Math.imul(ie,At)|0,Q=Q+Math.imul(ie,Ct)|0;var _t=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(_t>>>26)|0,_t&=67108863,ee=Math.imul(Lt,be),J=Math.imul(Lt,De),J=J+Math.imul(Wt,be)|0,Q=Math.imul(Wt,De),ee=ee+Math.imul(pt,it)|0,J=J+Math.imul(pt,ot)|0,J=J+Math.imul(gt,it)|0,Q=Q+Math.imul(gt,ot)|0,ee=ee+Math.imul(qe,It)|0,J=J+Math.imul(qe,Ht)|0,J=J+Math.imul(rt,It)|0,Q=Q+Math.imul(rt,Ht)|0,ee=ee+Math.imul(We,Pt)|0,J=J+Math.imul(We,Jt)|0,J=J+Math.imul(tt,Pt)|0,Q=Q+Math.imul(tt,Jt)|0,ee=ee+Math.imul(Ne,zr)|0,J=J+Math.imul(Ne,mt)|0,J=J+Math.imul(He,zr)|0,Q=Q+Math.imul(He,mt)|0,ee=ee+Math.imul(Se,jt)|0,J=J+Math.imul(Se,wr)|0,J=J+Math.imul(Te,jt)|0,Q=Q+Math.imul(Te,wr)|0,ee=ee+Math.imul(Ae,ct)|0,J=J+Math.imul(Ae,ut)|0,J=J+Math.imul(Re,ct)|0,Q=Q+Math.imul(Re,ut)|0,ee=ee+Math.imul(fe,At)|0,J=J+Math.imul(fe,Ct)|0,J=J+Math.imul(de,At)|0,Q=Q+Math.imul(de,Ct)|0;var Zt=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,ee=Math.imul(Lt,it),J=Math.imul(Lt,ot),J=J+Math.imul(Wt,it)|0,Q=Math.imul(Wt,ot),ee=ee+Math.imul(pt,It)|0,J=J+Math.imul(pt,Ht)|0,J=J+Math.imul(gt,It)|0,Q=Q+Math.imul(gt,Ht)|0,ee=ee+Math.imul(qe,Pt)|0,J=J+Math.imul(qe,Jt)|0,J=J+Math.imul(rt,Pt)|0,Q=Q+Math.imul(rt,Jt)|0,ee=ee+Math.imul(We,zr)|0,J=J+Math.imul(We,mt)|0,J=J+Math.imul(tt,zr)|0,Q=Q+Math.imul(tt,mt)|0,ee=ee+Math.imul(Ne,jt)|0,J=J+Math.imul(Ne,wr)|0,J=J+Math.imul(He,jt)|0,Q=Q+Math.imul(He,wr)|0,ee=ee+Math.imul(Se,ct)|0,J=J+Math.imul(Se,ut)|0,J=J+Math.imul(Te,ct)|0,Q=Q+Math.imul(Te,ut)|0,ee=ee+Math.imul(Ae,At)|0,J=J+Math.imul(Ae,Ct)|0,J=J+Math.imul(Re,At)|0,Q=Q+Math.imul(Re,Ct)|0;var ar=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(ar>>>26)|0,ar&=67108863,ee=Math.imul(Lt,It),J=Math.imul(Lt,Ht),J=J+Math.imul(Wt,It)|0,Q=Math.imul(Wt,Ht),ee=ee+Math.imul(pt,Pt)|0,J=J+Math.imul(pt,Jt)|0,J=J+Math.imul(gt,Pt)|0,Q=Q+Math.imul(gt,Jt)|0,ee=ee+Math.imul(qe,zr)|0,J=J+Math.imul(qe,mt)|0,J=J+Math.imul(rt,zr)|0,Q=Q+Math.imul(rt,mt)|0,ee=ee+Math.imul(We,jt)|0,J=J+Math.imul(We,wr)|0,J=J+Math.imul(tt,jt)|0,Q=Q+Math.imul(tt,wr)|0,ee=ee+Math.imul(Ne,ct)|0,J=J+Math.imul(Ne,ut)|0,J=J+Math.imul(He,ct)|0,Q=Q+Math.imul(He,ut)|0,ee=ee+Math.imul(Se,At)|0,J=J+Math.imul(Se,Ct)|0,J=J+Math.imul(Te,At)|0,Q=Q+Math.imul(Te,Ct)|0;var ur=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(ur>>>26)|0,ur&=67108863,ee=Math.imul(Lt,Pt),J=Math.imul(Lt,Jt),J=J+Math.imul(Wt,Pt)|0,Q=Math.imul(Wt,Jt),ee=ee+Math.imul(pt,zr)|0,J=J+Math.imul(pt,mt)|0,J=J+Math.imul(gt,zr)|0,Q=Q+Math.imul(gt,mt)|0,ee=ee+Math.imul(qe,jt)|0,J=J+Math.imul(qe,wr)|0,J=J+Math.imul(rt,jt)|0,Q=Q+Math.imul(rt,wr)|0,ee=ee+Math.imul(We,ct)|0,J=J+Math.imul(We,ut)|0,J=J+Math.imul(tt,ct)|0,Q=Q+Math.imul(tt,ut)|0,ee=ee+Math.imul(Ne,At)|0,J=J+Math.imul(Ne,Ct)|0,J=J+Math.imul(He,At)|0,Q=Q+Math.imul(He,Ct)|0;var nr=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(nr>>>26)|0,nr&=67108863,ee=Math.imul(Lt,zr),J=Math.imul(Lt,mt),J=J+Math.imul(Wt,zr)|0,Q=Math.imul(Wt,mt),ee=ee+Math.imul(pt,jt)|0,J=J+Math.imul(pt,wr)|0,J=J+Math.imul(gt,jt)|0,Q=Q+Math.imul(gt,wr)|0,ee=ee+Math.imul(qe,ct)|0,J=J+Math.imul(qe,ut)|0,J=J+Math.imul(rt,ct)|0,Q=Q+Math.imul(rt,ut)|0,ee=ee+Math.imul(We,At)|0,J=J+Math.imul(We,Ct)|0,J=J+Math.imul(tt,At)|0,Q=Q+Math.imul(tt,Ct)|0;var Ot=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,ee=Math.imul(Lt,jt),J=Math.imul(Lt,wr),J=J+Math.imul(Wt,jt)|0,Q=Math.imul(Wt,wr),ee=ee+Math.imul(pt,ct)|0,J=J+Math.imul(pt,ut)|0,J=J+Math.imul(gt,ct)|0,Q=Q+Math.imul(gt,ut)|0,ee=ee+Math.imul(qe,At)|0,J=J+Math.imul(qe,Ct)|0,J=J+Math.imul(rt,At)|0,Q=Q+Math.imul(rt,Ct)|0;var cr=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(cr>>>26)|0,cr&=67108863,ee=Math.imul(Lt,ct),J=Math.imul(Lt,ut),J=J+Math.imul(Wt,ct)|0,Q=Math.imul(Wt,ut),ee=ee+Math.imul(pt,At)|0,J=J+Math.imul(pt,Ct)|0,J=J+Math.imul(gt,At)|0,Q=Q+Math.imul(gt,Ct)|0;var pr=(ve+ee|0)+((J&8191)<<13)|0;ve=(Q+(J>>>13)|0)+(pr>>>26)|0,pr&=67108863,ee=Math.imul(Lt,At),J=Math.imul(Lt,Ct),J=J+Math.imul(Wt,At)|0,Q=Math.imul(Wt,Ct);var gr=(ve+ee|0)+((J&8191)<<13)|0;return ve=(Q+(J>>>13)|0)+(gr>>>26)|0,gr&=67108863,ue[0]=St,ue[1]=zt,ue[2]=Vt,ue[3]=qt,ue[4]=$t,ue[5]=sr,ue[6]=Cr,ue[7]=Ze,ue[8]=je,ue[9]=kt,ue[10]=_t,ue[11]=Zt,ue[12]=ar,ue[13]=ur,ue[14]=nr,ue[15]=Ot,ue[16]=cr,ue[17]=pr,ue[18]=gr,ve!==0&&(ue[19]=ve,K.length++),K};Math.imul||(R=M);function T(N,O,U){U.negative=O.negative^N.negative,U.length=N.length+O.length;for(var K=0,re=0,ae=0;ae<U.length-1;ae++){var ue=re;re=0;for(var ve=K&67108863,ee=Math.min(ae,O.length-1),J=Math.max(0,ae-N.length+1);J<=ee;J++){var Q=ae-J,X=N.words[Q]|0,q=O.words[J]|0,se=X*q,Y=se&67108863;ue=ue+(se/67108864|0)|0,Y=Y+ve|0,ve=Y&67108863,ue=ue+(Y>>>26)|0,re+=ue>>>26,ue&=67108863}U.words[ae]=ve,K=ue,ue=re}return K!==0?U.words[ae]=K:U.length--,U.strip()}function E(N,O,U){var K=new A;return K.mulp(N,O,U)}s.prototype.mulTo=function(O,U){var K,re=this.length+O.length;return this.length===10&&O.length===10?K=R(this,O,U):re<63?K=M(this,O,U):re<1024?K=T(this,O,U):K=E(this,O,U),K};function A(N,O){this.x=N,this.y=O}A.prototype.makeRBT=function(O){for(var U=new Array(O),K=s.prototype._countBits(O)-1,re=0;re<O;re++)U[re]=this.revBin(re,K,O);return U},A.prototype.revBin=function(O,U,K){if(O===0||O===K-1)return O;for(var re=0,ae=0;ae<U;ae++)re|=(O&1)<<U-ae-1,O>>=1;return re},A.prototype.permute=function(O,U,K,re,ae,ue){for(var ve=0;ve<ue;ve++)re[ve]=U[O[ve]],ae[ve]=K[O[ve]]},A.prototype.transform=function(O,U,K,re,ae,ue){this.permute(ue,O,U,K,re,ae);for(var ve=1;ve<ae;ve<<=1)for(var ee=ve<<1,J=Math.cos(2*Math.PI/ee),Q=Math.sin(2*Math.PI/ee),X=0;X<ae;X+=ee)for(var q=J,se=Q,Y=0;Y<ve;Y++){var Z=K[X+Y],ie=re[X+Y],te=K[X+Y+ve],fe=re[X+Y+ve],de=q*te-se*fe;fe=q*fe+se*te,te=de,K[X+Y]=Z+te,re[X+Y]=ie+fe,K[X+Y+ve]=Z-te,re[X+Y+ve]=ie-fe,Y!==ee&&(de=J*q-Q*se,se=J*se+Q*q,q=de)}},A.prototype.guessLen13b=function(O,U){var K=Math.max(U,O)|1,re=K&1,ae=0;for(K=K/2|0;K;K=K>>>1)ae++;return 1<<ae+1+re},A.prototype.conjugate=function(O,U,K){if(!(K<=1))for(var re=0;re<K/2;re++){var ae=O[re];O[re]=O[K-re-1],O[K-re-1]=ae,ae=U[re],U[re]=-U[K-re-1],U[K-re-1]=-ae}},A.prototype.normalize13b=function(O,U){for(var K=0,re=0;re<U/2;re++){var ae=Math.round(O[2*re+1]/U)*8192+Math.round(O[2*re]/U)+K;O[re]=ae&67108863,ae<67108864?K=0:K=ae/67108864|0}return O},A.prototype.convert13b=function(O,U,K,re){for(var ae=0,ue=0;ue<U;ue++)ae=ae+(O[ue]|0),K[2*ue]=ae&8191,ae=ae>>>13,K[2*ue+1]=ae&8191,ae=ae>>>13;for(ue=2*U;ue<re;++ue)K[ue]=0;n(ae===0),n((ae&-8192)===0)},A.prototype.stub=function(O){for(var U=new Array(O),K=0;K<O;K++)U[K]=0;return U},A.prototype.mulp=function(O,U,K){var re=2*this.guessLen13b(O.length,U.length),ae=this.makeRBT(re),ue=this.stub(re),ve=new Array(re),ee=new Array(re),J=new Array(re),Q=new Array(re),X=new Array(re),q=new Array(re),se=K.words;se.length=re,this.convert13b(O.words,O.length,ve,re),this.convert13b(U.words,U.length,Q,re),this.transform(ve,ue,ee,J,re,ae),this.transform(Q,ue,X,q,re,ae);for(var Y=0;Y<re;Y++){var Z=ee[Y]*X[Y]-J[Y]*q[Y];J[Y]=ee[Y]*q[Y]+J[Y]*X[Y],ee[Y]=Z}return this.conjugate(ee,J,re),this.transform(ee,J,se,ue,re,ae),this.conjugate(se,ue,re),this.normalize13b(se,re),K.negative=O.negative^U.negative,K.length=O.length+U.length,K.strip()},s.prototype.mul=function(O){var U=new s(null);return U.words=new Array(this.length+O.length),this.mulTo(O,U)},s.prototype.mulf=function(O){var U=new s(null);return U.words=new Array(this.length+O.length),E(this,O,U)},s.prototype.imul=function(O){return this.clone().mulTo(O,this)},s.prototype.imuln=function(O){n(typeof O=="number"),n(O<67108864);for(var U=0,K=0;K<this.length;K++){var re=(this.words[K]|0)*O,ae=(re&67108863)+(U&67108863);U>>=26,U+=re/67108864|0,U+=ae>>>26,this.words[K]=ae&67108863}return U!==0&&(this.words[K]=U,this.length++),this},s.prototype.muln=function(O){return this.clone().imuln(O)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(O){var U=S(O);if(U.length===0)return new s(1);for(var K=this,re=0;re<U.length&&U[re]===0;re++,K=K.sqr());if(++re<U.length)for(var ae=K.sqr();re<U.length;re++,ae=ae.sqr())U[re]!==0&&(K=K.mul(ae));return K},s.prototype.iushln=function(O){n(typeof O=="number"&&O>=0);var U=O%26,K=(O-U)/26,re=67108863>>>26-U<<26-U,ae;if(U!==0){var ue=0;for(ae=0;ae<this.length;ae++){var ve=this.words[ae]&re,ee=(this.words[ae]|0)-ve<<U;this.words[ae]=ee|ue,ue=ve>>>26-U}ue&&(this.words[ae]=ue,this.length++)}if(K!==0){for(ae=this.length-1;ae>=0;ae--)this.words[ae+K]=this.words[ae];for(ae=0;ae<K;ae++)this.words[ae]=0;this.length+=K}return this.strip()},s.prototype.ishln=function(O){return n(this.negative===0),this.iushln(O)},s.prototype.iushrn=function(O,U,K){n(typeof O=="number"&&O>=0);var re;U?re=(U-U%26)/26:re=0;var ae=O%26,ue=Math.min((O-ae)/26,this.length),ve=67108863^67108863>>>ae<<ae,ee=K;if(re-=ue,re=Math.max(0,re),ee){for(var J=0;J<ue;J++)ee.words[J]=this.words[J];ee.length=ue}if(ue!==0)if(this.length>ue)for(this.length-=ue,J=0;J<this.length;J++)this.words[J]=this.words[J+ue];else this.words[0]=0,this.length=1;var Q=0;for(J=this.length-1;J>=0&&(Q!==0||J>=re);J--){var X=this.words[J]|0;this.words[J]=Q<<26-ae|X>>>ae,Q=X&ve}return ee&&Q!==0&&(ee.words[ee.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(O,U,K){return n(this.negative===0),this.iushrn(O,U,K)},s.prototype.shln=function(O){return this.clone().ishln(O)},s.prototype.ushln=function(O){return this.clone().iushln(O)},s.prototype.shrn=function(O){return this.clone().ishrn(O)},s.prototype.ushrn=function(O){return this.clone().iushrn(O)},s.prototype.testn=function(O){n(typeof O=="number"&&O>=0);var U=O%26,K=(O-U)/26,re=1<<U;if(this.length<=K)return!1;var ae=this.words[K];return!!(ae&re)},s.prototype.imaskn=function(O){n(typeof O=="number"&&O>=0);var U=O%26,K=(O-U)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=K)return this;if(U!==0&&K++,this.length=Math.min(K,this.length),U!==0){var re=67108863^67108863>>>U<<U;this.words[this.length-1]&=re}return this.strip()},s.prototype.maskn=function(O){return this.clone().imaskn(O)},s.prototype.iaddn=function(O){return n(typeof O=="number"),n(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},s.prototype._iaddn=function(O){this.words[0]+=O;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},s.prototype.isubn=function(O){if(n(typeof O=="number"),n(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},s.prototype.addn=function(O){return this.clone().iaddn(O)},s.prototype.subn=function(O){return this.clone().isubn(O)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(O,U,K){var re=O.length+K,ae;this._expand(re);var ue,ve=0;for(ae=0;ae<O.length;ae++){ue=(this.words[ae+K]|0)+ve;var ee=(O.words[ae]|0)*U;ue-=ee&67108863,ve=(ue>>26)-(ee/67108864|0),this.words[ae+K]=ue&67108863}for(;ae<this.length-K;ae++)ue=(this.words[ae+K]|0)+ve,ve=ue>>26,this.words[ae+K]=ue&67108863;if(ve===0)return this.strip();for(n(ve===-1),ve=0,ae=0;ae<this.length;ae++)ue=-(this.words[ae]|0)+ve,ve=ue>>26,this.words[ae]=ue&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(O,U){var K=this.length-O.length,re=this.clone(),ae=O,ue=ae.words[ae.length-1]|0,ve=this._countBits(ue);K=26-ve,K!==0&&(ae=ae.ushln(K),re.iushln(K),ue=ae.words[ae.length-1]|0);var ee=re.length-ae.length,J;if(U!=="mod"){J=new s(null),J.length=ee+1,J.words=new Array(J.length);for(var Q=0;Q<J.length;Q++)J.words[Q]=0}var X=re.clone()._ishlnsubmul(ae,1,ee);X.negative===0&&(re=X,J&&(J.words[ee]=1));for(var q=ee-1;q>=0;q--){var se=(re.words[ae.length+q]|0)*67108864+(re.words[ae.length+q-1]|0);for(se=Math.min(se/ue|0,67108863),re._ishlnsubmul(ae,se,q);re.negative!==0;)se--,re.negative=0,re._ishlnsubmul(ae,1,q),re.isZero()||(re.negative^=1);J&&(J.words[q]=se)}return J&&J.strip(),re.strip(),U!=="div"&&K!==0&&re.iushrn(K),{div:J||null,mod:re}},s.prototype.divmod=function(O,U,K){if(n(!O.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var re,ae,ue;return this.negative!==0&&O.negative===0?(ue=this.neg().divmod(O,U),U!=="mod"&&(re=ue.div.neg()),U!=="div"&&(ae=ue.mod.neg(),K&&ae.negative!==0&&ae.iadd(O)),{div:re,mod:ae}):this.negative===0&&O.negative!==0?(ue=this.divmod(O.neg(),U),U!=="mod"&&(re=ue.div.neg()),{div:re,mod:ue.mod}):this.negative&O.negative?(ue=this.neg().divmod(O.neg(),U),U!=="div"&&(ae=ue.mod.neg(),K&&ae.negative!==0&&ae.isub(O)),{div:ue.div,mod:ae}):O.length>this.length||this.cmp(O)<0?{div:new s(0),mod:this}:O.length===1?U==="div"?{div:this.divn(O.words[0]),mod:null}:U==="mod"?{div:null,mod:new s(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new s(this.modn(O.words[0]))}:this._wordDiv(O,U)},s.prototype.div=function(O){return this.divmod(O,"div",!1).div},s.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},s.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},s.prototype.divRound=function(O){var U=this.divmod(O);if(U.mod.isZero())return U.div;var K=U.div.negative!==0?U.mod.isub(O):U.mod,re=O.ushrn(1),ae=O.andln(1),ue=K.cmp(re);return ue<0||ae===1&&ue===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},s.prototype.modn=function(O){n(O<=67108863);for(var U=(1<<26)%O,K=0,re=this.length-1;re>=0;re--)K=(U*K+(this.words[re]|0))%O;return K},s.prototype.idivn=function(O){n(O<=67108863);for(var U=0,K=this.length-1;K>=0;K--){var re=(this.words[K]|0)+U*67108864;this.words[K]=re/O|0,U=re%O}return this.strip()},s.prototype.divn=function(O){return this.clone().idivn(O)},s.prototype.egcd=function(O){n(O.negative===0),n(!O.isZero());var U=this,K=O.clone();U.negative!==0?U=U.umod(O):U=U.clone();for(var re=new s(1),ae=new s(0),ue=new s(0),ve=new s(1),ee=0;U.isEven()&&K.isEven();)U.iushrn(1),K.iushrn(1),++ee;for(var J=K.clone(),Q=U.clone();!U.isZero();){for(var X=0,q=1;!(U.words[0]&q)&&X<26;++X,q<<=1);if(X>0)for(U.iushrn(X);X-- >0;)(re.isOdd()||ae.isOdd())&&(re.iadd(J),ae.isub(Q)),re.iushrn(1),ae.iushrn(1);for(var se=0,Y=1;!(K.words[0]&Y)&&se<26;++se,Y<<=1);if(se>0)for(K.iushrn(se);se-- >0;)(ue.isOdd()||ve.isOdd())&&(ue.iadd(J),ve.isub(Q)),ue.iushrn(1),ve.iushrn(1);U.cmp(K)>=0?(U.isub(K),re.isub(ue),ae.isub(ve)):(K.isub(U),ue.isub(re),ve.isub(ae))}return{a:ue,b:ve,gcd:K.iushln(ee)}},s.prototype._invmp=function(O){n(O.negative===0),n(!O.isZero());var U=this,K=O.clone();U.negative!==0?U=U.umod(O):U=U.clone();for(var re=new s(1),ae=new s(0),ue=K.clone();U.cmpn(1)>0&&K.cmpn(1)>0;){for(var ve=0,ee=1;!(U.words[0]&ee)&&ve<26;++ve,ee<<=1);if(ve>0)for(U.iushrn(ve);ve-- >0;)re.isOdd()&&re.iadd(ue),re.iushrn(1);for(var J=0,Q=1;!(K.words[0]&Q)&&J<26;++J,Q<<=1);if(J>0)for(K.iushrn(J);J-- >0;)ae.isOdd()&&ae.iadd(ue),ae.iushrn(1);U.cmp(K)>=0?(U.isub(K),re.isub(ae)):(K.isub(U),ae.isub(re))}var X;return U.cmpn(1)===0?X=re:X=ae,X.cmpn(0)<0&&X.iadd(O),X},s.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var U=this.clone(),K=O.clone();U.negative=0,K.negative=0;for(var re=0;U.isEven()&&K.isEven();re++)U.iushrn(1),K.iushrn(1);do{for(;U.isEven();)U.iushrn(1);for(;K.isEven();)K.iushrn(1);var ae=U.cmp(K);if(ae<0){var ue=U;U=K,K=ue}else if(ae===0||K.cmpn(1)===0)break;U.isub(K)}while(!0);return K.iushln(re)},s.prototype.invm=function(O){return this.egcd(O).a.umod(O)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(O){return this.words[0]&O},s.prototype.bincn=function(O){n(typeof O=="number");var U=O%26,K=(O-U)/26,re=1<<U;if(this.length<=K)return this._expand(K+1),this.words[K]|=re,this;for(var ae=re,ue=K;ae!==0&&ue<this.length;ue++){var ve=this.words[ue]|0;ve+=ae,ae=ve>>>26,ve&=67108863,this.words[ue]=ve}return ae!==0&&(this.words[ue]=ae,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(O){var U=O<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var K;if(this.length>1)K=1;else{U&&(O=-O),n(O<=67108863,"Number is too big");var re=this.words[0]|0;K=re===O?0:re<O?-1:1}return this.negative!==0?-K|0:K},s.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var U=this.ucmp(O);return this.negative!==0?-U|0:U},s.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var U=0,K=this.length-1;K>=0;K--){var re=this.words[K]|0,ae=O.words[K]|0;if(re!==ae){re<ae?U=-1:re>ae&&(U=1);break}}return U},s.prototype.gtn=function(O){return this.cmpn(O)===1},s.prototype.gt=function(O){return this.cmp(O)===1},s.prototype.gten=function(O){return this.cmpn(O)>=0},s.prototype.gte=function(O){return this.cmp(O)>=0},s.prototype.ltn=function(O){return this.cmpn(O)===-1},s.prototype.lt=function(O){return this.cmp(O)===-1},s.prototype.lten=function(O){return this.cmpn(O)<=0},s.prototype.lte=function(O){return this.cmp(O)<=0},s.prototype.eqn=function(O){return this.cmpn(O)===0},s.prototype.eq=function(O){return this.cmp(O)===0},s.red=function(O){return new _(O)},s.prototype.toRed=function(O){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(O){return this.red=O,this},s.prototype.forceRed=function(O){return n(!this.red,"Already a number in reduction context"),this._forceRed(O)},s.prototype.redAdd=function(O){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},s.prototype.redIAdd=function(O){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},s.prototype.redSub=function(O){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},s.prototype.redISub=function(O){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},s.prototype.redShl=function(O){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},s.prototype.redMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},s.prototype.redIMul=function(O){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(O){return n(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var f={k256:null,p224:null,p192:null,p25519:null};function P(N,O){this.name=N,this.p=new s(O,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var O=new s(null);return O.words=new Array(Math.ceil(this.n/13)),O},P.prototype.ireduce=function(O){var U=O,K;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),K=U.bitLength();while(K>this.n);var re=K<this.n?-1:U.ucmp(this.p);return re===0?(U.words[0]=0,U.length=1):re>0?U.isub(this.p):U.strip!==void 0?U.strip():U._strip(),U},P.prototype.split=function(O,U){O.iushrn(this.n,0,U)},P.prototype.imulK=function(O){return O.imul(this.k)};function w(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(w,P),w.prototype.split=function(O,U){for(var K=4194303,re=Math.min(O.length,9),ae=0;ae<re;ae++)U.words[ae]=O.words[ae];if(U.length=re,O.length<=9){O.words[0]=0,O.length=1;return}var ue=O.words[9];for(U.words[U.length++]=ue&K,ae=10;ae<O.length;ae++){var ve=O.words[ae]|0;O.words[ae-10]=(ve&K)<<4|ue>>>22,ue=ve}ue>>>=22,O.words[ae-10]=ue,ue===0&&O.length>10?O.length-=10:O.length-=9},w.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var U=0,K=0;K<O.length;K++){var re=O.words[K]|0;U+=re*977,O.words[K]=U&67108863,U=re*64+(U/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function z(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,P);function F(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,P);function H(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,P),H.prototype.imulK=function(O){for(var U=0,K=0;K<O.length;K++){var re=(O.words[K]|0)*19+U,ae=re&67108863;re>>>=26,O.words[K]=ae,U=re}return U!==0&&(O.words[O.length++]=U),O},s._prime=function(O){if(f[O])return f[O];var U;if(O==="k256")U=new w;else if(O==="p224")U=new z;else if(O==="p192")U=new F;else if(O==="p25519")U=new H;else throw new Error("Unknown prime "+O);return f[O]=U,U};function _(N){if(typeof N=="string"){var O=s._prime(N);this.m=O.p,this.prime=O}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}_.prototype._verify1=function(O){n(O.negative===0,"red works only with positives"),n(O.red,"red works only with red numbers")},_.prototype._verify2=function(O,U){n((O.negative|U.negative)===0,"red works only with positives"),n(O.red&&O.red===U.red,"red works only with red numbers")},_.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},_.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},_.prototype.add=function(O,U){this._verify2(O,U);var K=O.add(U);return K.cmp(this.m)>=0&&K.isub(this.m),K._forceRed(this)},_.prototype.iadd=function(O,U){this._verify2(O,U);var K=O.iadd(U);return K.cmp(this.m)>=0&&K.isub(this.m),K},_.prototype.sub=function(O,U){this._verify2(O,U);var K=O.sub(U);return K.cmpn(0)<0&&K.iadd(this.m),K._forceRed(this)},_.prototype.isub=function(O,U){this._verify2(O,U);var K=O.isub(U);return K.cmpn(0)<0&&K.iadd(this.m),K},_.prototype.shl=function(O,U){return this._verify1(O),this.imod(O.ushln(U))},_.prototype.imul=function(O,U){return this._verify2(O,U),this.imod(O.imul(U))},_.prototype.mul=function(O,U){return this._verify2(O,U),this.imod(O.mul(U))},_.prototype.isqr=function(O){return this.imul(O,O.clone())},_.prototype.sqr=function(O){return this.mul(O,O)},_.prototype.sqrt=function(O){if(O.isZero())return O.clone();var U=this.m.andln(3);if(n(U%2===1),U===3){var K=this.m.add(new s(1)).iushrn(2);return this.pow(O,K)}for(var re=this.m.subn(1),ae=0;!re.isZero()&&re.andln(1)===0;)ae++,re.iushrn(1);n(!re.isZero());var ue=new s(1).toRed(this),ve=ue.redNeg(),ee=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new s(2*J*J).toRed(this);this.pow(J,ee).cmp(ve)!==0;)J.redIAdd(ve);for(var Q=this.pow(J,re),X=this.pow(O,re.addn(1).iushrn(1)),q=this.pow(O,re),se=ae;q.cmp(ue)!==0;){for(var Y=q,Z=0;Y.cmp(ue)!==0;Z++)Y=Y.redSqr();n(Z<se);var ie=this.pow(Q,new s(1).iushln(se-Z-1));X=X.redMul(ie),Q=ie.redSqr(),q=q.redMul(Q),se=Z}return X},_.prototype.invm=function(O){var U=O._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},_.prototype.pow=function(O,U){if(U.isZero())return new s(1).toRed(this);if(U.cmpn(1)===0)return O.clone();var K=4,re=new Array(1<<K);re[0]=new s(1).toRed(this),re[1]=O;for(var ae=2;ae<re.length;ae++)re[ae]=this.mul(re[ae-1],O);var ue=re[0],ve=0,ee=0,J=U.bitLength()%26;for(J===0&&(J=26),ae=U.length-1;ae>=0;ae--){for(var Q=U.words[ae],X=J-1;X>=0;X--){var q=Q>>X&1;if(ue!==re[0]&&(ue=this.sqr(ue)),q===0&&ve===0){ee=0;continue}ve<<=1,ve|=q,ee++,!(ee!==K&&(ae!==0||X!==0))&&(ue=this.mul(ue,re[ve]),ee=0,ve=0)}J=26}return ue},_.prototype.convertTo=function(O){var U=O.umod(this.m);return U===O?U.clone():U},_.prototype.convertFrom=function(O){var U=O.clone();return U.red=null,U},s.mont=function(O){return new B(O)};function B(N){_.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(B,_),B.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},B.prototype.convertFrom=function(O){var U=this.imod(O.mul(this.rinv));return U.red=null,U},B.prototype.imul=function(O,U){if(O.isZero()||U.isZero())return O.words[0]=0,O.length=1,O;var K=O.imul(U),re=K.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=K.isub(re).iushrn(this.shift),ue=ae;return ae.cmp(this.m)>=0?ue=ae.isub(this.m):ae.cmpn(0)<0&&(ue=ae.iadd(this.m)),ue._forceRed(this)},B.prototype.mul=function(O,U){if(O.isZero()||U.isZero())return new s(0)._forceRed(this);var K=O.mul(U),re=K.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ae=K.isub(re).iushrn(this.shift),ue=ae;return ae.cmp(this.m)>=0?ue=ae.isub(this.m):ae.cmpn(0)<0&&(ue=ae.iadd(this.m)),ue._forceRed(this)},B.prototype.invm=function(O){var U=this.imod(O._invmp(this.m).mul(this.r2));return U._forceRed(this)}}(h,this)},2692:function(h){h.exports=d;function d(t){var r,u,n,i=t.length,s=0;for(r=0;r<i;++r)s+=t[r].length;var o=new Array(s),m=0;for(r=0;r<i;++r){var c=t[r],b=c.length;for(u=0;u<b;++u){var v=o[m++]=new Array(b-1),l=0;for(n=0;n<b;++n)n!==u&&(v[l++]=c[n]);if(u&1){var p=v[1];v[1]=v[0],v[0]=p}}}return o}},2569:function(h,d,t){h.exports=l;var r=t(5306),u=t(1390),n=t(2337);function i(p,S){for(var M=0;M<p;++M)if(!(S[M]<=S[M+p]))return!0;return!1}function s(p,S,M,R){for(var T=0,E=0,A=0,f=p.length;A<f;++A){var P=p[A];if(!i(S,P)){for(var w=0;w<2*S;++w)M[T++]=P[w];R[E++]=A}}return E}function o(p,S,M,R){var T=p.length,E=S.length;if(!(T<=0||E<=0)){var A=p[0].length>>>1;if(!(A<=0)){var f,P=r.mallocDouble(2*A*T),w=r.mallocInt32(T);if(T=s(p,A,P,w),T>0){if(A===1&&R)u.init(T),f=u.sweepComplete(A,M,0,T,P,w,0,T,P,w);else{var z=r.mallocDouble(2*A*E),F=r.mallocInt32(E);E=s(S,A,z,F),E>0&&(u.init(T+E),A===1?f=u.sweepBipartite(A,M,0,T,P,w,0,E,z,F):f=n(A,M,R,T,P,w,E,z,F),r.free(z),r.free(F))}r.free(P),r.free(w)}return f}}}var m;function c(p,S){m.push([p,S])}function b(p){return m=[],o(p,p,c,!0),m}function v(p,S){return m=[],o(p,S,c,!1),m}function l(p,S,M){switch(arguments.length){case 1:return b(p);case 2:return typeof S=="function"?o(p,p,S,!0):v(p,S);case 3:return o(p,S,M,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(h,d){function t(){function n(o,m,c,b,v,l,p,S,M,R,T){for(var E=2*o,A=b,f=E*b;A<v;++A,f+=E){var P=l[m+f],w=l[m+f+o],z=p[A];e:for(var F=S,H=E*S;F<M;++F,H+=E){var _=R[m+H],B=R[m+H+o],N=T[F];if(!(B<P||w<_)){for(var O=m+1;O<o;++O){var U=l[O+f],K=l[O+o+f],re=R[O+H],ae=R[O+o+H];if(K<re||ae<U)continue e}var ue=c(z,N);if(ue!==void 0)return ue}}}}function i(o,m,c,b,v,l,p,S,M,R,T){for(var E=2*o,A=S,f=E*S;A<M;++A,f+=E){var P=R[m+f],w=R[m+f+o],z=T[A];e:for(var F=b,H=E*b;F<v;++F,H+=E){var _=l[m+H],B=l[m+H+o],N=p[F];if(!(w<_||B<P)){for(var O=m+1;O<o;++O){var U=l[O+H],K=l[O+o+H],re=R[O+f],ae=R[O+o+f];if(K<re||ae<U)continue e}var ue=c(N,z);if(ue!==void 0)return ue}}}}function s(o,m,c,b,v,l,p,S,M,R,T){return v-b>M-S?n(o,m,c,b,v,l,p,S,M,R,T):i(o,m,c,b,v,l,p,S,M,R,T)}return s}function r(){function n(c,b,v,l,p,S,M,R,T,E,A){for(var f=2*c,P=l,w=f*l;P<p;++P,w+=f){var z=S[b+w],F=S[b+w+c],H=M[P];e:for(var _=R,B=f*R;_<T;++_,B+=f){var N=E[b+B],O=A[_];if(!(N<=z||F<N)){for(var U=b+1;U<c;++U){var K=S[U+w],re=S[U+c+w],ae=E[U+B],ue=E[U+c+B];if(re<ae||ue<K)continue e}var ve=v(O,H);if(ve!==void 0)return ve}}}}function i(c,b,v,l,p,S,M,R,T,E,A){for(var f=2*c,P=l,w=f*l;P<p;++P,w+=f){var z=S[b+w],F=S[b+w+c],H=M[P];e:for(var _=R,B=f*R;_<T;++_,B+=f){var N=E[b+B],O=A[_];if(!(N<z||F<N)){for(var U=b+1;U<c;++U){var K=S[U+w],re=S[U+c+w],ae=E[U+B],ue=E[U+c+B];if(re<ae||ue<K)continue e}var ve=v(H,O);if(ve!==void 0)return ve}}}}function s(c,b,v,l,p,S,M,R,T,E,A){for(var f=2*c,P=R,w=f*R;P<T;++P,w+=f){var z=E[b+w],F=A[P];e:for(var H=l,_=f*l;H<p;++H,_+=f){var B=S[b+_],N=S[b+_+c],O=M[H];if(!(z<=B||N<z)){for(var U=b+1;U<c;++U){var K=S[U+_],re=S[U+c+_],ae=E[U+w],ue=E[U+c+w];if(re<ae||ue<K)continue e}var ve=v(F,O);if(ve!==void 0)return ve}}}}function o(c,b,v,l,p,S,M,R,T,E,A){for(var f=2*c,P=R,w=f*R;P<T;++P,w+=f){var z=E[b+w],F=A[P];e:for(var H=l,_=f*l;H<p;++H,_+=f){var B=S[b+_],N=S[b+_+c],O=M[H];if(!(z<B||N<z)){for(var U=b+1;U<c;++U){var K=S[U+_],re=S[U+c+_],ae=E[U+w],ue=E[U+c+w];if(re<ae||ue<K)continue e}var ve=v(O,F);if(ve!==void 0)return ve}}}}function m(c,b,v,l,p,S,M,R,T,E,A,f){return S-p>E-T?l?n(c,b,v,p,S,M,R,T,E,A,f):i(c,b,v,p,S,M,R,T,E,A,f):l?s(c,b,v,p,S,M,R,T,E,A,f):o(c,b,v,p,S,M,R,T,E,A,f)}return m}function u(n){return n?t():r()}d.partial=u(!1),d.full=u(!0)},2337:function(h,d,t){h.exports=N;var r=t(5306),u=t(2288),n=t(7333),i=n.partial,s=n.full,o=t(1390),m=t(2464),c=t(122),b=128,v=1<<22,l=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)"),S=c("lo===p0"),M=c("lo<p0"),R=c("hi<=p0"),T=c("lo<=p0&&p0<=hi"),E=c("lo<p0&&p0<=hi"),A=6,f=2,P=1024,w=r.mallocInt32(P),z=r.mallocDouble(P);function F(O,U){var K=8*u.log2(U+1)*(O+1)|0,re=u.nextPow2(A*K);w.length<re&&(r.free(w),w=r.mallocInt32(re));var ae=u.nextPow2(f*K);z.length<ae&&(r.free(z),z=r.mallocDouble(ae))}function H(O,U,K,re,ae,ue,ve,ee,J){var Q=A*O;w[Q]=U,w[Q+1]=K,w[Q+2]=re,w[Q+3]=ae,w[Q+4]=ue,w[Q+5]=ve;var X=f*O;z[X]=ee,z[X+1]=J}function _(O,U,K,re,ae,ue,ve,ee,J,Q,X){var q=2*O,se=J*q,Y=Q[se+U];e:for(var Z=ae,ie=ae*q;Z<ue;++Z,ie+=q){var te=ve[ie+U],fe=ve[ie+U+O];if(!(Y<te||fe<Y)&&!(re&&Y===te)){for(var de=ee[Z],we=U+1;we<O;++we){var te=ve[ie+we],fe=ve[ie+we+O],Ae=Q[se+we],Re=Q[se+we+O];if(fe<Ae||Re<te)continue e}var Fe;if(re?Fe=K(X,de):Fe=K(de,X),Fe!==void 0)return Fe}}}function B(O,U,K,re,ae,ue,ve,ee,J,Q){var X=2*O,q=ee*X,se=J[q+U];e:for(var Y=re,Z=re*X;Y<ae;++Y,Z+=X){var ie=ve[Y];if(ie!==Q){var te=ue[Z+U],fe=ue[Z+U+O];if(!(se<te||fe<se)){for(var de=U+1;de<O;++de){var te=ue[Z+de],fe=ue[Z+de+O],we=J[q+de],Ae=J[q+de+O];if(fe<we||Ae<te)continue e}var Re=K(ie,Q);if(Re!==void 0)return Re}}}}function N(O,U,K,re,ae,ue,ve,ee,J){F(O,re+ve);var Q=0,X=2*O,q;for(H(Q++,0,0,re,0,ve,K?16:0,-1/0,1/0),K||H(Q++,0,0,ve,0,re,1,-1/0,1/0);Q>0;){Q-=1;var se=Q*A,Y=w[se],Z=w[se+1],ie=w[se+2],te=w[se+3],fe=w[se+4],de=w[se+5],we=Q*f,Ae=z[we],Re=z[we+1],Fe=de&1,Se=!!(de&16),Te=ae,Ee=ue,Ne=ee,He=J;if(Fe&&(Te=ee,Ee=J,Ne=ae,He=ue),!(de&2&&(ie=M(O,Y,Z,ie,Te,Ee,Re),Z>=ie))&&!(de&4&&(Z=R(O,Y,Z,ie,Te,Ee,Ae),Z>=ie))){var _e=ie-Z,We=fe-te;if(Se){if(O*_e*(_e+We)<l){if(q=o.scanComplete(O,Y,U,Z,ie,Te,Ee,te,fe,Ne,He),q!==void 0)return q;continue}}else if(O*Math.min(_e,We)<b){if(q=i(O,Y,U,Fe,Z,ie,Te,Ee,te,fe,Ne,He),q!==void 0)return q;continue}else if(O*_e*We<v){if(q=o.scanBipartite(O,Y,U,Fe,Z,ie,Te,Ee,te,fe,Ne,He),q!==void 0)return q;continue}var tt=p(O,Y,Z,ie,Te,Ee,Ae,Re);if(Z<tt)if(O*(tt-Z)<b){if(q=s(O,Y+1,U,Z,tt,Te,Ee,te,fe,Ne,He),q!==void 0)return q}else if(Y===O-2){if(Fe?q=o.sweepBipartite(O,U,te,fe,Ne,He,Z,tt,Te,Ee):q=o.sweepBipartite(O,U,Z,tt,Te,Ee,te,fe,Ne,He),q!==void 0)return q}else H(Q++,Y+1,Z,tt,te,fe,Fe,-1/0,1/0),H(Q++,Y+1,te,fe,Z,tt,Fe^1,-1/0,1/0);if(tt<ie){var Ke=m(O,Y,te,fe,Ne,He),qe=Ne[X*Ke+Y],rt=S(O,Y,Ke,fe,Ne,He,qe);if(rt<fe&&H(Q++,Y,tt,ie,rt,fe,(Fe|4)+(Se?16:0),qe,Re),te<Ke&&H(Q++,Y,tt,ie,te,Ke,(Fe|2)+(Se?16:0),Ae,qe),Ke+1===rt){if(Se?q=B(O,Y,U,tt,ie,Te,Ee,Ke,Ne,He[Ke]):q=_(O,Y,U,Fe,tt,ie,Te,Ee,Ke,Ne,He[Ke]),q!==void 0)return q}else if(Ke<rt){var ft;if(Se){if(ft=T(O,Y,tt,ie,Te,Ee,qe),tt<ft){var pt=S(O,Y,tt,ft,Te,Ee,qe);if(Y===O-2){if(tt<pt&&(q=o.sweepComplete(O,U,tt,pt,Te,Ee,Ke,rt,Ne,He),q!==void 0)||pt<ft&&(q=o.sweepBipartite(O,U,pt,ft,Te,Ee,Ke,rt,Ne,He),q!==void 0))return q}else tt<pt&&H(Q++,Y+1,tt,pt,Ke,rt,16,-1/0,1/0),pt<ft&&(H(Q++,Y+1,pt,ft,Ke,rt,0,-1/0,1/0),H(Q++,Y+1,Ke,rt,pt,ft,1,-1/0,1/0))}}else Fe?ft=E(O,Y,tt,ie,Te,Ee,qe):ft=T(O,Y,tt,ie,Te,Ee,qe),tt<ft&&(Y===O-2?Fe?q=o.sweepBipartite(O,U,Ke,rt,Ne,He,tt,ft,Te,Ee):q=o.sweepBipartite(O,U,tt,ft,Te,Ee,Ke,rt,Ne,He):(H(Q++,Y+1,tt,ft,Ke,rt,Fe,-1/0,1/0),H(Q++,Y+1,Ke,rt,tt,ft,Fe^1,-1/0,1/0)))}}}}}},2464:function(h,d,t){h.exports=s;var r=t(122),u=r("lo<p0"),n=8;function i(o,m,c,b,v,l){for(var p=2*o,S=p*(c+1)+m,M=c+1;M<b;++M,S+=p)for(var R=v[S],T=M,E=p*(M-1);T>c&&v[E+m]>R;--T,E-=p){for(var A=E,f=E+p,P=0;P<p;++P,++A,++f){var w=v[A];v[A]=v[f],v[f]=w}var z=l[T];l[T]=l[T-1],l[T-1]=z}}function s(o,m,c,b,v,l){if(b<=c+1)return c;for(var p=c,S=b,M=b+c>>>1,R=2*o,T=M,E=v[R*M+m];p<S;){if(S-p<n){i(o,m,p,S,v,l),E=v[R*M+m];break}var A=S-p,f=Math.random()*A+p|0,P=v[R*f+m],w=Math.random()*A+p|0,z=v[R*w+m],F=Math.random()*A+p|0,H=v[R*F+m];P<=z?H>=z?(T=w,E=z):P>=H?(T=f,E=P):(T=F,E=H):z>=H?(T=w,E=z):H>=P?(T=f,E=P):(T=F,E=H);for(var N=R*(S-1),O=R*T,_=0;_<R;++_,++N,++O){var B=v[N];v[N]=v[O],v[O]=B}var U=l[S-1];l[S-1]=l[T],l[T]=U,T=u(o,m,p,S-1,v,l,E);for(var N=R*(S-1),O=R*T,_=0;_<R;++_,++N,++O){var B=v[N];v[N]=v[O],v[O]=B}var U=l[S-1];if(l[S-1]=l[T],l[T]=U,M<T){for(S=T-1;p<S&&v[R*(S-1)+m]===E;)S-=1;S+=1}else if(T<M)for(p=T+1;p<S&&v[R*p+m]===E;)p+=1;else break}return u(o,m,c,M,v,l,v[R*M+m])}},122:function(h){h.exports=t;var d={"lo===p0":r,"lo<p0":u,"lo<=p0":n,"hi<=p0":i,"lo<p0&&p0<=hi":o,"lo<=p0&&p0<=hi":s,"!(lo>=p0)&&!(p1>=hi)":m};function t(c){return d[c]}function r(c,b,v,l,p,S,M){for(var R=2*c,T=R*v,E=T,A=v,f=b,P=c+b,w=v;l>w;++w,T+=R){var z=p[T+f];if(z===M)if(A===w)A+=1,E+=R;else{for(var F=0;R>F;++F){var H=p[T+F];p[T+F]=p[E],p[E++]=H}var _=S[w];S[w]=S[A],S[A++]=_}}return A}function u(c,b,v,l,p,S,M){for(var R=2*c,T=R*v,E=T,A=v,f=b,P=c+b,w=v;l>w;++w,T+=R){var z=p[T+f];if(z<M)if(A===w)A+=1,E+=R;else{for(var F=0;R>F;++F){var H=p[T+F];p[T+F]=p[E],p[E++]=H}var _=S[w];S[w]=S[A],S[A++]=_}}return A}function n(c,b,v,l,p,S,M){for(var R=2*c,T=R*v,E=T,A=v,f=b,P=c+b,w=v;l>w;++w,T+=R){var z=p[T+P];if(z<=M)if(A===w)A+=1,E+=R;else{for(var F=0;R>F;++F){var H=p[T+F];p[T+F]=p[E],p[E++]=H}var _=S[w];S[w]=S[A],S[A++]=_}}return A}function i(c,b,v,l,p,S,M){for(var R=2*c,T=R*v,E=T,A=v,f=b,P=c+b,w=v;l>w;++w,T+=R){var z=p[T+P];if(z<=M)if(A===w)A+=1,E+=R;else{for(var F=0;R>F;++F){var H=p[T+F];p[T+F]=p[E],p[E++]=H}var _=S[w];S[w]=S[A],S[A++]=_}}return A}function s(c,b,v,l,p,S,M){for(var R=2*c,T=R*v,E=T,A=v,f=b,P=c+b,w=v;l>w;++w,T+=R){var z=p[T+f],F=p[T+P];if(z<=M&&M<=F)if(A===w)A+=1,E+=R;else{for(var H=0;R>H;++H){var _=p[T+H];p[T+H]=p[E],p[E++]=_}var B=S[w];S[w]=S[A],S[A++]=B}}return A}function o(c,b,v,l,p,S,M){for(var R=2*c,T=R*v,E=T,A=v,f=b,P=c+b,w=v;l>w;++w,T+=R){var z=p[T+f],F=p[T+P];if(z<M&&M<=F)if(A===w)A+=1,E+=R;else{for(var H=0;R>H;++H){var _=p[T+H];p[T+H]=p[E],p[E++]=_}var B=S[w];S[w]=S[A],S[A++]=B}}return A}function m(c,b,v,l,p,S,M,R){for(var T=2*c,E=T*v,A=E,f=v,P=b,w=c+b,z=v;l>z;++z,E+=T){var F=p[E+P],H=p[E+w];if(!(F>=M)&&!(R>=H))if(f===z)f+=1,A+=T;else{for(var _=0;T>_;++_){var B=p[E+_];p[E+_]=p[A],p[A++]=B}var N=S[z];S[z]=S[f],S[f++]=N}}return f}},309:function(h){h.exports=t;var d=32;function t(b,v){v<=4*d?r(0,v-1,b):c(0,v-1,b)}function r(b,v,l){for(var p=2*(b+1),S=b+1;S<=v;++S){for(var M=l[p++],R=l[p++],T=S,E=p-2;T-- >b;){var A=l[E-2],f=l[E-1];if(A<M)break;if(A===M&&f<R)break;l[E]=A,l[E+1]=f,E-=2}l[E]=M,l[E+1]=R}}function u(b,v,l){b*=2,v*=2;var p=l[b],S=l[b+1];l[b]=l[v],l[b+1]=l[v+1],l[v]=p,l[v+1]=S}function n(b,v,l){b*=2,v*=2,l[b]=l[v],l[b+1]=l[v+1]}function i(b,v,l,p){b*=2,v*=2,l*=2;var S=p[b],M=p[b+1];p[b]=p[v],p[b+1]=p[v+1],p[v]=p[l],p[v+1]=p[l+1],p[l]=S,p[l+1]=M}function s(b,v,l,p,S){b*=2,v*=2,S[b]=S[v],S[v]=l,S[b+1]=S[v+1],S[v+1]=p}function o(b,v,l){b*=2,v*=2;var p=l[b],S=l[v];return p<S?!1:p===S?l[b+1]>l[v+1]:!0}function m(b,v,l,p){b*=2;var S=p[b];return S<v?!0:S===v?p[b+1]<l:!1}function c(b,v,l){var p=(v-b+1)/6|0,S=b+p,M=v-p,R=b+v>>1,T=R-p,E=R+p,A=S,f=T,P=R,w=E,z=M,F=b+1,H=v-1,_=0;o(A,f,l)&&(_=A,A=f,f=_),o(w,z,l)&&(_=w,w=z,z=_),o(A,P,l)&&(_=A,A=P,P=_),o(f,P,l)&&(_=f,f=P,P=_),o(A,w,l)&&(_=A,A=w,w=_),o(P,w,l)&&(_=P,P=w,w=_),o(f,z,l)&&(_=f,f=z,z=_),o(f,P,l)&&(_=f,f=P,P=_),o(w,z,l)&&(_=w,w=z,z=_);for(var B=l[2*f],N=l[2*f+1],O=l[2*w],U=l[2*w+1],K=2*A,re=2*P,ae=2*z,ue=2*S,ve=2*R,ee=2*M,J=0;J<2;++J){var Q=l[K+J],X=l[re+J],q=l[ae+J];l[ue+J]=Q,l[ve+J]=X,l[ee+J]=q}n(T,b,l),n(E,v,l);for(var se=F;se<=H;++se)if(m(se,B,N,l))se!==F&&u(se,F,l),++F;else if(!m(se,O,U,l))for(;;)if(m(H,O,U,l)){m(H,B,N,l)?(i(se,F,H,l),++F,--H):(u(se,H,l),--H);break}else{if(--H<se)break;continue}s(b,F-1,B,N,l),s(v,H+1,O,U,l),F-2-b<=d?r(b,F-2,l):c(b,F-2,l),v-(H+2)<=d?r(H+2,v,l):c(H+2,v,l),H-F<=d?r(F,H,l):c(F,H,l)}},1390:function(h,d,t){h.exports={init:S,sweepBipartite:T,sweepComplete:E,scanBipartite:A,scanComplete:f};var r=t(5306),u=t(2288),n=t(309),i=1<<28,s=1024,o=r.mallocInt32(s),m=r.mallocInt32(s),c=r.mallocInt32(s),b=r.mallocInt32(s),v=r.mallocInt32(s),l=r.mallocInt32(s),p=r.mallocDouble(s*8);function S(P){var w=u.nextPow2(P);o.length<w&&(r.free(o),o=r.mallocInt32(w)),m.length<w&&(r.free(m),m=r.mallocInt32(w)),c.length<w&&(r.free(c),c=r.mallocInt32(w)),b.length<w&&(r.free(b),b=r.mallocInt32(w)),v.length<w&&(r.free(v),v=r.mallocInt32(w)),l.length<w&&(r.free(l),l=r.mallocInt32(w));var z=8*w;p.length<z&&(r.free(p),p=r.mallocDouble(z))}function M(P,w,z,F){var H=w[F],_=P[z-1];P[H]=_,w[_]=H}function R(P,w,z,F){P[z]=F,w[F]=z}function T(P,w,z,F,H,_,B,N,O,U){for(var K=0,re=2*P,ae=P-1,ue=re-1,ve=z;ve<F;++ve){var ee=_[ve],J=re*ve;p[K++]=H[J+ae],p[K++]=-(ee+1),p[K++]=H[J+ue],p[K++]=ee}for(var ve=B;ve<N;++ve){var ee=U[ve]+i,Q=re*ve;p[K++]=O[Q+ae],p[K++]=-ee,p[K++]=O[Q+ue],p[K++]=ee}var X=K>>>1;n(p,X);for(var q=0,se=0,ve=0;ve<X;++ve){var Y=p[2*ve+1]|0;if(Y>=i)Y=Y-i|0,M(c,b,se--,Y);else if(Y>=0)M(o,m,q--,Y);else if(Y<=-i){Y=-Y-i|0;for(var Z=0;Z<q;++Z){var ie=w(o[Z],Y);if(ie!==void 0)return ie}R(c,b,se++,Y)}else{Y=-Y-1|0;for(var Z=0;Z<se;++Z){var ie=w(Y,c[Z]);if(ie!==void 0)return ie}R(o,m,q++,Y)}}}function E(P,w,z,F,H,_,B,N,O,U){for(var K=0,re=2*P,ae=P-1,ue=re-1,ve=z;ve<F;++ve){var ee=_[ve]+1<<1,J=re*ve;p[K++]=H[J+ae],p[K++]=-ee,p[K++]=H[J+ue],p[K++]=ee}for(var ve=B;ve<N;++ve){var ee=U[ve]+1<<1,Q=re*ve;p[K++]=O[Q+ae],p[K++]=-ee|1,p[K++]=O[Q+ue],p[K++]=ee|1}var X=K>>>1;n(p,X);for(var q=0,se=0,Y=0,ve=0;ve<X;++ve){var Z=p[2*ve+1]|0,ie=Z&1;if(ve<X-1&&Z>>1===p[2*ve+3]>>1&&(ie=2,ve+=1),Z<0){for(var te=-(Z>>1)-1,fe=0;fe<Y;++fe){var de=w(v[fe],te);if(de!==void 0)return de}if(ie!==0)for(var fe=0;fe<q;++fe){var de=w(o[fe],te);if(de!==void 0)return de}if(ie!==1)for(var fe=0;fe<se;++fe){var de=w(c[fe],te);if(de!==void 0)return de}ie===0?R(o,m,q++,te):ie===1?R(c,b,se++,te):ie===2&&R(v,l,Y++,te)}else{var te=(Z>>1)-1;ie===0?M(o,m,q--,te):ie===1?M(c,b,se--,te):ie===2&&M(v,l,Y--,te)}}}function A(P,w,z,F,H,_,B,N,O,U,K,re){var ae=0,ue=2*P,ve=w,ee=w+P,J=1,Q=1;F?Q=i:J=i;for(var X=H;X<_;++X){var q=X+J,se=ue*X;p[ae++]=B[se+ve],p[ae++]=-q,p[ae++]=B[se+ee],p[ae++]=q}for(var X=O;X<U;++X){var q=X+Q,Y=ue*X;p[ae++]=K[Y+ve],p[ae++]=-q}var Z=ae>>>1;n(p,Z);for(var ie=0,X=0;X<Z;++X){var te=p[2*X+1]|0;if(te<0){var q=-te,fe=!1;if(q>=i?(fe=!F,q-=i):(fe=!!F,q-=1),fe)R(o,m,ie++,q);else{var de=re[q],we=ue*q,Ae=K[we+w+1],Re=K[we+w+1+P];e:for(var Fe=0;Fe<ie;++Fe){var Se=o[Fe],Te=ue*Se;if(!(Re<B[Te+w+1]||B[Te+w+1+P]<Ae)){for(var Ee=w+2;Ee<P;++Ee)if(K[we+Ee+P]<B[Te+Ee]||B[Te+Ee+P]<K[we+Ee])continue e;var Ne=N[Se],He;if(F?He=z(de,Ne):He=z(Ne,de),He!==void 0)return He}}}}else M(o,m,ie--,te-J)}}function f(P,w,z,F,H,_,B,N,O,U,K){for(var re=0,ae=2*P,ue=w,ve=w+P,ee=F;ee<H;++ee){var J=ee+i,Q=ae*ee;p[re++]=_[Q+ue],p[re++]=-J,p[re++]=_[Q+ve],p[re++]=J}for(var ee=N;ee<O;++ee){var J=ee+1,X=ae*ee;p[re++]=U[X+ue],p[re++]=-J}var q=re>>>1;n(p,q);for(var se=0,ee=0;ee<q;++ee){var Y=p[2*ee+1]|0;if(Y<0){var J=-Y;if(J>=i)o[se++]=J-i;else{J-=1;var Z=K[J],ie=ae*J,te=U[ie+w+1],fe=U[ie+w+1+P];e:for(var de=0;de<se;++de){var we=o[de],Ae=B[we];if(Ae===Z)break;var Re=ae*we;if(!(fe<_[Re+w+1]||_[Re+w+1+P]<te)){for(var Fe=w+2;Fe<P;++Fe)if(U[ie+Fe+P]<_[Re+Fe]||_[Re+Fe+P]<U[ie+Fe])continue e;var Se=z(Ae,Z);if(Se!==void 0)return Se}}}}else{for(var J=Y-i,de=se-1;de>=0;--de)if(o[de]===J){for(var Fe=de+1;Fe<se;++Fe)o[Fe-1]=o[Fe];break}--se}}}},7761:function(h,d,t){var r=t(9971),u=t(743),n=t(2161),i=t(7098);h.exports=b;function s(v){return[Math.min(v[0],v[1]),Math.max(v[0],v[1])]}function o(v,l){return v[0]-l[0]||v[1]-l[1]}function m(v){return v.map(s).sort(o)}function c(v,l,p){return l in v?v[l]:p}function b(v,l,p){Array.isArray(l)?(p=p||{},l=l||[]):(p=l||{},l=[]);var S=!!c(p,"delaunay",!0),M=!!c(p,"interior",!0),R=!!c(p,"exterior",!0),T=!!c(p,"infinity",!1);if(!M&&!R||v.length===0)return[];var E=r(v,l);if(S||M!==R||T){for(var A=u(v.length,m(l)),f=0;f<E.length;++f){var P=E[f];A.addTriangle(P[0],P[1],P[2])}return S&&n(v,A),R?M?T?i(A,0,T):A.cells():i(A,1,T):i(A,-1)}else return E}},2161:function(h,d,t){var r=t(2227)[4];t(5070),h.exports=n;function u(i,s,o,m,c,b){var v=s.opposite(m,c);if(!(v<0)){if(c<m){var l=m;m=c,c=l,l=b,b=v,v=l}s.isConstraint(m,c)||r(i[m],i[c],i[b],i[v])<0&&o.push(m,c)}}function n(i,s){for(var o=[],m=i.length,c=s.stars,b=0;b<m;++b)for(var v=c[b],l=1;l<v.length;l+=2){var p=v[l];if(!(p<b)&&!s.isConstraint(b,p)){for(var S=v[l-1],M=-1,R=1;R<v.length;R+=2)if(v[R-1]===p){M=v[R];break}M<0||r(i[b],i[p],i[S],i[M])<0&&o.push(b,p)}}for(;o.length>0;){for(var p=o.pop(),b=o.pop(),S=-1,M=-1,v=c[b],T=1;T<v.length;T+=2){var E=v[T-1],A=v[T];E===p?M=A:A===p&&(S=E)}S<0||M<0||r(i[b],i[p],i[S],i[M])>=0||(s.flip(b,p),u(i,s,o,S,b,M),u(i,s,o,b,M,S),u(i,s,o,M,p,S),u(i,s,o,p,S,M))}}},7098:function(h,d,t){var r=t(5070);h.exports=m;function u(c,b,v,l,p,S,M){this.cells=c,this.neighbor=b,this.flags=l,this.constraint=v,this.active=p,this.next=S,this.boundary=M}var n=u.prototype;function i(c,b){return c[0]-b[0]||c[1]-b[1]||c[2]-b[2]}n.locate=function(){var c=[0,0,0];return function(b,v,l){var p=b,S=v,M=l;return v<l?v<b&&(p=v,S=l,M=b):l<b&&(p=l,S=b,M=v),p<0?-1:(c[0]=p,c[1]=S,c[2]=M,r.eq(this.cells,c,i))}}();function s(c,b){for(var v=c.cells(),l=v.length,p=0;p<l;++p){var S=v[p],M=S[0],R=S[1],T=S[2];R<T?R<M&&(S[0]=R,S[1]=T,S[2]=M):T<M&&(S[0]=T,S[1]=M,S[2]=R)}v.sort(i);for(var E=new Array(l),p=0;p<E.length;++p)E[p]=0;var A=[],f=[],P=new Array(3*l),w=new Array(3*l),z=null;b&&(z=[]);for(var F=new u(v,P,w,E,A,f,z),p=0;p<l;++p)for(var S=v[p],H=0;H<3;++H){var M=S[H],R=S[(H+1)%3],_=P[3*p+H]=F.locate(R,M,c.opposite(R,M)),B=w[3*p+H]=c.isConstraint(M,R);_<0&&(B?f.push(p):(A.push(p),E[p]=1),b&&z.push([R,M,-1]))}return F}function o(c,b,v){for(var l=0,p=0;p<c.length;++p)b[p]===v&&(c[l++]=c[p]);return c.length=l,c}function m(c,b,v){var l=s(c,v);if(b===0)return v?l.cells.concat(l.boundary):l.cells;for(var p=1,S=l.active,M=l.next,R=l.flags,T=l.cells,E=l.constraint,A=l.neighbor;S.length>0||M.length>0;){for(;S.length>0;){var f=S.pop();if(R[f]!==-p){R[f]=p,T[f];for(var P=0;P<3;++P){var w=A[3*f+P];w>=0&&R[w]===0&&(E[3*f+P]?M.push(w):(S.push(w),R[w]=p))}}}var z=M;M=S,S=z,M.length=0,p=-p}var F=o(T,R,b);return v?F.concat(l.boundary):F}},9971:function(h,d,t){var r=t(5070),u=t(417)[3],n=0,i=1,s=2;h.exports=M;function o(R,T,E,A,f){this.a=R,this.b=T,this.idx=E,this.lowerIds=A,this.upperIds=f}function m(R,T,E,A){this.a=R,this.b=T,this.type=E,this.idx=A}function c(R,T){var E=R.a[0]-T.a[0]||R.a[1]-T.a[1]||R.type-T.type;return E||R.type!==n&&(E=u(R.a,R.b,T.b),E)?E:R.idx-T.idx}function b(R,T){return u(R.a,R.b,T)}function v(R,T,E,A,f){for(var P=r.lt(T,A,b),w=r.gt(T,A,b),z=P;z<w;++z){for(var F=T[z],H=F.lowerIds,B=H.length;B>1&&u(E[H[B-2]],E[H[B-1]],A)>0;)R.push([H[B-1],H[B-2],f]),B-=1;H.length=B,H.push(f);for(var _=F.upperIds,B=_.length;B>1&&u(E[_[B-2]],E[_[B-1]],A)<0;)R.push([_[B-2],_[B-1],f]),B-=1;_.length=B,_.push(f)}}function l(R,T){var E;return R.a[0]<T.a[0]?E=u(R.a,R.b,T.a):E=u(T.b,T.a,R.a),E||(T.b[0]<R.b[0]?E=u(R.a,R.b,T.b):E=u(T.b,T.a,R.b),E||R.idx-T.idx)}function p(R,T,E){var A=r.le(R,E,l),f=R[A],P=f.upperIds,w=P[P.length-1];f.upperIds=[w],R.splice(A+1,0,new o(E.a,E.b,E.idx,[w],P))}function S(R,T,E){var A=E.a;E.a=E.b,E.b=A;var f=r.eq(R,E,l),P=R[f],w=R[f-1];w.upperIds=P.upperIds,R.splice(f,1)}function M(R,T){for(var E=R.length,A=T.length,f=[],P=0;P<E;++P)f.push(new m(R[P],null,n,P));for(var P=0;P<A;++P){var w=T[P],z=R[w[0]],F=R[w[1]];z[0]<F[0]?f.push(new m(z,F,s,P),new m(F,z,i,P)):z[0]>F[0]&&f.push(new m(F,z,s,P),new m(z,F,i,P))}f.sort(c);for(var H=f[0].a[0]-(1+Math.abs(f[0].a[0]))*Math.pow(2,-52),_=[new o([H,1],[H,0],-1,[],[])],B=[],P=0,N=f.length;P<N;++P){var O=f[P],U=O.type;U===n?v(B,_,R,O.a,O.idx):U===s?p(_,R,O):S(_,R,O)}return B}},743:function(h,d,t){var r=t(5070);h.exports=s;function u(o,m){this.stars=o,this.edges=m}var n=u.prototype;function i(o,m,c){for(var b=1,v=o.length;b<v;b+=2)if(o[b-1]===m&&o[b]===c){o[b-1]=o[v-2],o[b]=o[v-1],o.length=v-2;return}}n.isConstraint=function(){var o=[0,0];function m(c,b){return c[0]-b[0]||c[1]-b[1]}return function(c,b){return o[0]=Math.min(c,b),o[1]=Math.max(c,b),r.eq(this.edges,o,m)>=0}}(),n.removeTriangle=function(o,m,c){var b=this.stars;i(b[o],m,c),i(b[m],c,o),i(b[c],o,m)},n.addTriangle=function(o,m,c){var b=this.stars;b[o].push(m,c),b[m].push(c,o),b[c].push(o,m)},n.opposite=function(o,m){for(var c=this.stars[m],b=1,v=c.length;b<v;b+=2)if(c[b]===o)return c[b-1];return-1},n.flip=function(o,m){var c=this.opposite(o,m),b=this.opposite(m,o);this.removeTriangle(o,m,c),this.removeTriangle(m,o,b),this.addTriangle(o,b,c),this.addTriangle(m,c,b)},n.edges=function(){for(var o=this.stars,m=[],c=0,b=o.length;c<b;++c)for(var v=o[c],l=0,p=v.length;l<p;l+=2)m.push([v[l],v[l+1]]);return m},n.cells=function(){for(var o=this.stars,m=[],c=0,b=o.length;c<b;++c)for(var v=o[c],l=0,p=v.length;l<p;l+=2){var S=v[l],M=v[l+1];c<Math.min(S,M)&&m.push([c,S,M])}return m};function s(o,m){for(var c=new Array(o),b=0;b<o;++b)c[b]=[];return new u(c,m)}},9887:function(h){h.exports=d;function d(t){for(var r=1,u=1;u<t.length;++u)for(var n=0;n<u;++n)if(t[u]<t[n])r=-r;else if(t[n]===t[u])return 0;return r}},9243:function(h,d,t){var r=t(3094),u=t(6606);function n(o,m){for(var c=0,b=o.length,v=0;v<b;++v)c+=o[v]*m[v];return c}function i(o){var m=o.length;if(m===0)return[];o[0].length;var c=r([o.length+1,o.length+1],1),b=r([o.length+1],1);c[m][m]=0;for(var v=0;v<m;++v){for(var l=0;l<=v;++l)c[l][v]=c[v][l]=2*n(o[v],o[l]);b[v]=n(o[v],o[v])}for(var p=u(c,b),S=0,M=p[m+1],v=0;v<M.length;++v)S+=M[v];for(var R=new Array(m),v=0;v<m;++v){for(var M=p[v],T=0,l=0;l<M.length;++l)T+=M[l];R[v]=T/S}return R}function s(o){if(o.length===0)return[];for(var m=o[0].length,c=r([m]),b=i(o),v=0;v<o.length;++v)for(var l=0;l<m;++l)c[l]+=o[v][l]*b[v];return c}s.barycenetric=i,h.exports=s},1778:function(h,d,t){h.exports=u;var r=t(9243);function u(n){for(var i=r(n),s=0,o=0;o<n.length;++o)for(var m=n[o],c=0;c<i.length;++c)s+=Math.pow(m[c]-i[c],2);return Math.sqrt(s/n.length)}},197:function(h,d,t){h.exports=z;var r=t(1731),u=t(2569),n=t(4434),i=t(5125),s=t(8846),o=t(7999),m=t(2826),c=t(8551),b=t(5528);function v(F){var H=o(F);return[c(H,-1/0),c(H,1/0)]}function l(F,H){for(var _=new Array(H.length),B=0;B<H.length;++B){var N=H[B],O=F[N[0]],U=F[N[1]];_[B]=[c(Math.min(O[0],U[0]),-1/0),c(Math.min(O[1],U[1]),-1/0),c(Math.max(O[0],U[0]),1/0),c(Math.max(O[1],U[1]),1/0)]}return _}function p(F){for(var H=new Array(F.length),_=0;_<F.length;++_){var B=F[_];H[_]=[c(B[0],-1/0),c(B[1],-1/0),c(B[0],1/0),c(B[1],1/0)]}return H}function S(F,H,_){var B=[];return u(_,function(N,O){var U=H[N],K=H[O];if(!(U[0]===K[0]||U[0]===K[1]||U[1]===K[0]||U[1]===K[1])){var re=F[U[0]],ae=F[U[1]],ue=F[K[0]],ve=F[K[1]];n(re,ae,ue,ve)&&B.push([N,O])}}),B}function M(F,H,_,B){var N=[];return u(_,B,function(O,U){var K=H[O];if(!(K[0]===U||K[1]===U)){var re=F[U],ae=F[K[0]],ue=F[K[1]];n(ae,ue,re,re)&&N.push([O,U])}}),N}function R(F,H,_,B,N){var O,U,K=F.map(function(we){return[i(we[0]),i(we[1])]});for(O=0;O<_.length;++O){var re=_[O];U=re[0];var ae=re[1],ue=H[U],ve=H[ae],ee=b(m(F[ue[0]]),m(F[ue[1]]),m(F[ve[0]]),m(F[ve[1]]));if(ee){var J=F.length;F.push([o(ee[0]),o(ee[1])]),K.push(ee),B.push([U,J],[ae,J])}}for(B.sort(function(we,Ae){if(we[0]!==Ae[0])return we[0]-Ae[0];var Re=K[we[1]],Fe=K[Ae[1]];return s(Re[0],Fe[0])||s(Re[1],Fe[1])}),O=B.length-1;O>=0;--O){var Q=B[O];U=Q[0];var X=H[U],q=X[0],se=X[1],Y=F[q],Z=F[se];if((Y[0]-Z[0]||Y[1]-Z[1])<0){var ie=q;q=se,se=ie}X[0]=q;var te=X[1]=Q[1],fe;for(N&&(fe=X[2]);O>0&&B[O-1][0]===U;){var Q=B[--O],de=Q[1];N?H.push([te,de,fe]):H.push([te,de]),te=de}N?H.push([te,se,fe]):H.push([te,se])}return K}function T(F,H,_){for(var B=H.length,N=new r(B),O=[],U=0;U<H.length;++U){var K=H[U],re=v(K[0]),ae=v(K[1]);O.push([c(re[0],-1/0),c(ae[0],-1/0),c(re[1],1/0),c(ae[1],1/0)])}u(O,function(Q,X){N.link(Q,X)});for(var ue=!0,ve=new Array(B),U=0;U<B;++U){var ee=N.find(U);ee!==U&&(ue=!1,F[ee]=[Math.min(F[U][0],F[ee][0]),Math.min(F[U][1],F[ee][1])])}if(ue)return null;for(var J=0,U=0;U<B;++U){var ee=N.find(U);ee===U?(ve[U]=J,F[J++]=F[U]):ve[U]=-1}F.length=J;for(var U=0;U<B;++U)ve[U]<0&&(ve[U]=ve[N.find(U)]);return ve}function E(F,H){return F[0]-H[0]||F[1]-H[1]}function A(F,H){var _=F[0]-H[0]||F[1]-H[1];return _||(F[2]<H[2]?-1:F[2]>H[2]?1:0)}function f(F,H,_){if(F.length!==0){if(H)for(var B=0;B<F.length;++B){var N=F[B],O=H[N[0]],U=H[N[1]];N[0]=Math.min(O,U),N[1]=Math.max(O,U)}else for(var B=0;B<F.length;++B){var N=F[B],O=N[0],U=N[1];N[0]=Math.min(O,U),N[1]=Math.max(O,U)}_?F.sort(A):F.sort(E);for(var K=1,B=1;B<F.length;++B){var re=F[B-1],ae=F[B];ae[0]===re[0]&&ae[1]===re[1]&&(!_||ae[2]===re[2])||(F[K++]=ae)}F.length=K}}function P(F,H,_){var B=T(F,[],p(F));return f(H,B,_),!!B}function w(F,H,_){var B=l(F,H),N=S(F,H,B),O=p(F),U=M(F,H,B,O),K=R(F,H,N,U,_),re=T(F,K);return f(H,re,_),re?!0:N.length>0||U.length>0}function z(F,H,_){var B;if(_){B=H;for(var N=new Array(H.length),O=0;O<H.length;++O){var U=H[O];N[O]=[U[0],U[1],_[O]]}H=N}for(var K=P(F,H,!!_);w(F,H,!!_);)K=!0;if(_&&K){B.length=0,_.length=0;for(var O=0;O<H.length;++O){var U=H[O];B.push([U[0],U[1]]),_.push(U[2])}}return K}},5528:function(h,d,t){h.exports=b;var r=t(3962),u=t(9189),n=t(4354),i=t(4951),s=t(6695),o=t(7584),m=t(4469);function c(v,l){return n(r(v[0],l[1]),r(v[1],l[0]))}function b(v,l,p,S){var M=s(l,v),R=s(S,p),T=c(M,R);if(i(T)===0)return null;var E=s(v,p),A=c(R,E),f=u(A,T),P=m(M,f),w=o(v,P);return w}},5692:function(h){h.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(h,d,t){var r=t(5692),u=t(3578);h.exports=n;function n(m){var c,b,v,l,p,S,M,R,f,T,E;if(m||(m={}),R=(m.nshades||72)-1,M=m.format||"hex",S=m.colormap,S||(S="jet"),typeof S=="string"){if(S=S.toLowerCase(),!r[S])throw Error(S+" not a supported colorscale");p=r[S]}else if(Array.isArray(S))p=S.slice();else throw Error("unsupported colormap option",S);if(p.length>R+1)throw new Error(S+" map requires nshades to be at least size "+p.length);Array.isArray(m.alpha)?m.alpha.length!==2?T=[1,1]:T=m.alpha.slice():typeof m.alpha=="number"?T=[m.alpha,m.alpha]:T=[1,1],c=p.map(function(z){return Math.round(z.index*R)}),T[0]=Math.min(Math.max(T[0],0),1),T[1]=Math.min(Math.max(T[1],0),1);var A=p.map(function(z,F){var H=p[F].index,_=p[F].rgb.slice();return _.length===4&&_[3]>=0&&_[3]<=1||(_[3]=T[0]+(T[1]-T[0])*H),_}),f=[];for(E=0;E<c.length-1;++E){l=c[E+1]-c[E],b=A[E],v=A[E+1];for(var P=0;P<l;P++){var w=P/l;f.push([Math.round(u(b[0],v[0],w)),Math.round(u(b[1],v[1],w)),Math.round(u(b[2],v[2],w)),u(b[3],v[3],w)])}}return f.push(p[p.length-1].rgb.concat(T[1])),M==="hex"?f=f.map(s):M==="rgbaString"?f=f.map(o):M==="float"&&(f=f.map(i)),f}function i(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function s(m){for(var c,b="#",v=0;v<3;++v)c=m[v],c=c.toString(16),b+=("00"+c).substr(c.length);return b}function o(m){return"rgba("+m.join(",")+")"}},9398:function(h,d,t){h.exports=m;var r=t(417),u=t(7538),n=t(87),i=t(2019),s=t(9662);function o(c,b,v){var l=n(c[0],-b[0]),p=n(c[1],-b[1]),S=n(v[0],-b[0]),M=n(v[1],-b[1]),R=s(i(l,S),i(p,M));return R[R.length-1]>=0}function m(c,b,v,l){var p=r(b,v,l);if(p===0){var S=u(r(c,b,v)),M=u(r(c,b,l));if(S===M){if(S===0){var R=o(c,b,v),T=o(c,b,l);return R===T?0:R?1:-1}return 0}else{if(M===0)return S>0||o(c,b,l)?-1:1;if(S===0)return M>0||o(c,b,v)?1:-1}return u(M-S)}var E=r(c,b,v);if(E>0)return p>0&&r(c,b,l)>0?1:-1;if(E<0)return p>0||r(c,b,l)>0?1:-1;var A=r(c,b,l);return A>0||o(c,b,v)?1:-1}},7538:function(h){h.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(h){h.exports=r;var d=Math.min;function t(u,n){return u-n}function r(u,n){var i=u.length,s=u.length-n.length;if(s)return s;switch(i){case 0:return 0;case 1:return u[0]-n[0];case 2:return u[0]+u[1]-n[0]-n[1]||d(u[0],u[1])-d(n[0],n[1]);case 3:var o=u[0]+u[1],m=n[0]+n[1];if(s=o+u[2]-(m+n[2]),s)return s;var c=d(u[0],u[1]),b=d(n[0],n[1]);return d(c,u[2])-d(b,n[2])||d(c+u[2],o)-d(b+n[2],m);case 4:var v=u[0],l=u[1],p=u[2],S=u[3],M=n[0],R=n[1],T=n[2],E=n[3];return v+l+p+S-(M+R+T+E)||d(v,l,p,S)-d(M,R,T,E,M)||d(v+l,v+p,v+S,l+p,l+S,p+S)-d(M+R,M+T,M+E,R+T,R+E,T+E)||d(v+l+p,v+l+S,v+p+S,l+p+S)-d(M+R+T,M+R+E,M+T+E,R+T+E);default:for(var A=u.slice().sort(t),f=n.slice().sort(t),P=0;P<i;++P)if(s=A[P]-f[P],s)return s;return 0}}},1284:function(h,d,t){var r=t(9209),u=t(9887);h.exports=n;function n(i,s){return r(i,s)||u(i)-u(s)}},5537:function(h,d,t){var r=t(8950),u=t(8722),n=t(3332);h.exports=i;function i(s){var o=s.length;if(o===0)return[];if(o===1)return[[0]];var m=s[0].length;return m===0?[]:m===1?r(s):m===2?u(s):n(s,m)}},8950:function(h){h.exports=d;function d(t){for(var r=0,u=0,n=1;n<t.length;++n)t[n][0]<t[r][0]&&(r=n),t[n][0]>t[u][0]&&(u=n);return r<u?[[r],[u]]:r>u?[[u],[r]]:[[r]]}},8722:function(h,d,t){h.exports=u;var r=t(3266);function u(n){var i=r(n),s=i.length;if(s<=2)return[];for(var o=new Array(s),m=i[s-1],c=0;c<s;++c){var b=i[c];o[c]=[m,b],m=b}return o}},3332:function(h,d,t){h.exports=s;var r=t(2183),u=t(2153);function n(o,m){for(var c=o.length,b=new Array(c),v=0;v<m.length;++v)b[v]=o[m[v]];for(var l=m.length,v=0;v<c;++v)m.indexOf(v)<0&&(b[l++]=o[v]);return b}function i(o,m){for(var c=o.length,b=m.length,v=0;v<c;++v)for(var l=o[v],p=0;p<l.length;++p){var S=l[p];if(S<b)l[p]=m[S];else{S=S-b;for(var M=0;M<b;++M)S>=m[M]&&(S+=1);l[p]=S}}return o}function s(o,m){try{return r(o,!0)}catch{var c=u(o);if(c.length<=m)return[];var b=n(o,c),v=r(b,!0);return i(v,c)}}},9680:function(h){function d(r,u,n,i,s,o){var m=6*s*s-6*s,c=3*s*s-4*s+1,b=-6*s*s+6*s,v=3*s*s-2*s;if(r.length){o||(o=new Array(r.length));for(var l=r.length-1;l>=0;--l)o[l]=m*r[l]+c*u[l]+b*n[l]+v*i[l];return o}return m*r+c*u+b*n[l]+v*i}function t(r,u,n,i,s,o){var m=s-1,c=s*s,b=m*m,v=(1+2*s)*b,l=s*b,p=c*(3-2*s),S=c*m;if(r.length){o||(o=new Array(r.length));for(var M=r.length-1;M>=0;--M)o[M]=v*r[M]+l*u[M]+p*n[M]+S*i[M];return o}return v*r+l*u+p*n+S*i}h.exports=t,h.exports.derivative=d},4419:function(h,d,t){var r=t(2183),u=t(1215);h.exports=o;function n(m,c){this.point=m,this.index=c}function i(m,c){for(var b=m.point,v=c.point,l=b.length,p=0;p<l;++p){var S=v[p]-b[p];if(S)return S}return 0}function s(m,c,b){if(m===1)return b?[[-1,0]]:[];var v=c.map(function(R,T){return[R[0],T]});v.sort(function(R,T){return R[0]-T[0]});for(var l=new Array(m-1),p=1;p<m;++p){var S=v[p-1],M=v[p];l[p-1]=[S[1],M[1]]}return b&&l.push([-1,l[0][1]],[l[m-1][1],-1]),l}function o(m,c){var b=m.length;if(b===0)return[];var v=m[0].length;if(v<1)return[];if(v===1)return s(b,m,c);for(var l=new Array(b),p=1,S=0;S<b;++S){for(var M=m[S],R=new Array(v+1),T=0,E=0;E<v;++E){var A=M[E];R[E]=A,T+=A*A}R[v]=T,l[S]=new n(R,S),p=Math.max(T,p)}u(l,i),b=l.length;for(var f=new Array(b+v+1),P=new Array(b+v+1),w=(v+1)*(v+1)*p,z=new Array(v+1),S=0;S<=v;++S)z[S]=0;z[v]=w,f[0]=z.slice(),P[0]=-1;for(var S=0;S<=v;++S){var R=z.slice();R[S]=1,f[S+1]=R,P[S+1]=-1}for(var S=0;S<b;++S){var F=l[S];f[S+v+1]=F.point,P[S+v+1]=F.index}var H=r(f,!1);if(c?H=H.filter(function(_){for(var B=0,N=0;N<=v;++N){var O=P[_[N]];if(O<0&&++B>=2)return!1;_[N]=O}return!0}):H=H.filter(function(_){for(var B=0;B<=v;++B){var N=P[_[B]];if(N<0)return!1;_[B]=N}return!0}),v&1)for(var S=0;S<H.length;++S){var F=H[S],R=F[0];F[0]=F[1],F[1]=R}return H}},8362:function(h){var d=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,d=!0,r[1]===1072693248){let p=function(R,T){return r[0]=R,r[1]=T,t[0]},S=function(R){return t[0]=R,r[0]},M=function(R){return t[0]=R,r[1]};var n=p,i=S,s=M;h.exports=function(T){return t[0]=T,[r[0],r[1]]},h.exports.pack=p,h.exports.lo=S,h.exports.hi=M}else if(r[0]===1072693248){let p=function(R,T){return r[1]=R,r[0]=T,t[0]},S=function(R){return t[0]=R,r[1]},M=function(R){return t[0]=R,r[0]};var o=p,m=S,c=M;h.exports=function(T){return t[0]=T,[r[1],r[0]]},h.exports.pack=p,h.exports.lo=S,h.exports.hi=M}else d=!1}if(!d){let p=function(R,T){return u.writeUInt32LE(R,0,!0),u.writeUInt32LE(T,4,!0),u.readDoubleLE(0,!0)},S=function(R){return u.writeDoubleLE(R,0,!0),u.readUInt32LE(0,!0)},M=function(R){return u.writeDoubleLE(R,0,!0),u.readUInt32LE(4,!0)};var b=p,v=S,l=M,u=new Buffer(8);h.exports=function(T){return u.writeDoubleLE(T,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},h.exports.pack=p,h.exports.lo=S,h.exports.hi=M}h.exports.sign=function(p){return h.exports.hi(p)>>>31},h.exports.exponent=function(p){var S=h.exports.hi(p);return(S<<1>>>21)-1023},h.exports.fraction=function(p){var S=h.exports.lo(p),M=h.exports.hi(p),R=M&(1<<20)-1;return M&2146435072&&(R+=1048576),[S,R]},h.exports.denormalized=function(p){var S=h.exports.hi(p);return!(S&2146435072)}},3094:function(h){function d(u,n,i){var s=u[i]|0;if(s<=0)return[];var o=new Array(s),m;if(i===u.length-1)for(m=0;m<s;++m)o[m]=n;else for(m=0;m<s;++m)o[m]=d(u,n,i+1);return o}function t(u,n){var i,s;for(i=new Array(u),s=0;s<u;++s)i[s]=n;return i}function r(u,n){switch(typeof n>"u"&&(n=0),typeof u){case"number":if(u>0)return t(u|0,n);break;case"object":if(typeof u.length=="number")return d(u,n,0);break}return[]}h.exports=r},8348:function(h,d,t){h.exports=u;var r=t(1215);function u(n,i){var s=n.length;if(typeof i!="number"){i=0;for(var o=0;o<s;++o){var m=n[o];i=Math.max(i,m[0],m[1])}i=(i|0)+1}i=i|0;for(var c=new Array(i),o=0;o<i;++o)c[o]=[];for(var o=0;o<s;++o){var m=n[o];c[m[0]].push(m[1]),c[m[1]].push(m[0])}for(var b=0;b<i;++b)r(c[b],function(v,l){return v-l});return c}},5795:function(h){h.exports=d;function d(t,r,u){var n=r||0,i=u||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}},8444:function(h,d,t){h.exports=m;var r=t(9680),u=t(5070);function n(c,b,v){return Math.min(b,Math.max(c,v))}function i(c,b,v){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var l=0;l<this.dimension;++l)this.bounds[0][l]=-1/0,this.bounds[1][l]=1/0;this._state=c.slice().reverse(),this._velocity=b.slice().reverse(),this._time=[v],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var s=i.prototype;s.flush=function(c){var b=u.gt(this._time,c)-1;b<=0||(this._time.splice(0,b),this._state.splice(0,b*this.dimension),this._velocity.splice(0,b*this.dimension))},s.curve=function(c){var b=this._time,v=b.length,l=u.le(b,c),p=this._scratch[0],S=this._state,M=this._velocity,R=this.dimension,T=this.bounds;if(l<0)for(var E=R-1,A=0;A<R;++A,--E)p[A]=S[E];else if(l>=v-1)for(var E=S.length-1,f=c-b[v-1],A=0;A<R;++A,--E)p[A]=S[E]+f*M[E];else{for(var E=R*(l+1)-1,P=b[l],w=b[l+1],z=w-P||1,F=this._scratch[1],H=this._scratch[2],_=this._scratch[3],B=this._scratch[4],N=!0,A=0;A<R;++A,--E)F[A]=S[E],_[A]=M[E]*z,H[A]=S[E+R],B[A]=M[E+R]*z,N=N&&F[A]===H[A]&&_[A]===B[A]&&_[A]===0;if(N)for(var A=0;A<R;++A)p[A]=F[A];else r(F,_,H,B,(c-P)/z,p)}for(var O=T[0],U=T[1],A=0;A<R;++A)p[A]=n(O[A],U[A],p[A]);return p},s.dcurve=function(c){var b=this._time,v=b.length,l=u.le(b,c),p=this._scratch[0],S=this._state,M=this._velocity,R=this.dimension;if(l>=v-1){var T=S.length-1;c-b[v-1];for(var E=0;E<R;++E,--T)p[E]=M[T]}else{for(var T=R*(l+1)-1,A=b[l],f=b[l+1],P=f-A||1,w=this._scratch[1],z=this._scratch[2],F=this._scratch[3],H=this._scratch[4],_=!0,E=0;E<R;++E,--T)w[E]=S[T],F[E]=M[T]*P,z[E]=S[T+R],H[E]=M[T+R]*P,_=_&&w[E]===z[E]&&F[E]===H[E]&&F[E]===0;if(_)for(var E=0;E<R;++E)p[E]=0;else{r.derivative(w,F,z,H,(c-A)/P,p);for(var E=0;E<R;++E)p[E]/=P}}return p},s.lastT=function(){var c=this._time;return c[c.length-1]},s.stable=function(){for(var c=this._velocity,b=c.length,v=this.dimension-1;v>=0;--v)if(c[--b])return!1;return!0},s.jump=function(c){var b=this.lastT(),v=this.dimension;if(!(c<b||arguments.length!==v+1)){var l=this._state,p=this._velocity,S=l.length-this.dimension,M=this.bounds,R=M[0],T=M[1];this._time.push(b,c);for(var E=0;E<2;++E)for(var A=0;A<v;++A)l.push(l[S++]),p.push(0);this._time.push(c);for(var A=v;A>0;--A)l.push(n(R[A-1],T[A-1],arguments[A])),p.push(0)}},s.push=function(c){var b=this.lastT(),v=this.dimension;if(!(c<b||arguments.length!==v+1)){var l=this._state,p=this._velocity,S=l.length-this.dimension,M=c-b,R=this.bounds,T=R[0],E=R[1],A=M>1e-6?1/M:0;this._time.push(c);for(var f=v;f>0;--f){var P=n(T[f-1],E[f-1],arguments[f]);l.push(P),p.push((P-l[S++])*A)}}},s.set=function(c){var b=this.dimension;if(!(c<this.lastT()||arguments.length!==b+1)){var v=this._state,l=this._velocity,p=this.bounds,S=p[0],M=p[1];this._time.push(c);for(var R=b;R>0;--R)v.push(n(S[R-1],M[R-1],arguments[R])),l.push(0)}},s.move=function(c){var b=this.lastT(),v=this.dimension;if(!(c<=b||arguments.length!==v+1)){var l=this._state,p=this._velocity,S=l.length-this.dimension,M=this.bounds,R=M[0],T=M[1],E=c-b,A=E>1e-6?1/E:0;this._time.push(c);for(var f=v;f>0;--f){var P=arguments[f];l.push(n(R[f-1],T[f-1],l[S++]+P)),p.push(P*A)}}},s.idle=function(c){var b=this.lastT();if(!(c<b)){var v=this.dimension,l=this._state,p=this._velocity,S=l.length-v,M=this.bounds,R=M[0],T=M[1],E=c-b;this._time.push(c);for(var A=v-1;A>=0;--A)l.push(n(R[A],T[A],l[S]+E*p[S])),p.push(0),S+=1}};function o(c){for(var b=new Array(c),v=0;v<c;++v)b[v]=0;return b}function m(c,b,v){switch(arguments.length){case 0:return new i([0],[0],0);case 1:if(typeof c=="number"){var l=o(c);return new i(l,l,0)}else return new i(c,o(c.length),0);case 2:if(typeof b=="number"){var l=o(c.length);return new i(c,l,+b)}else v=0;case 3:if(c.length!==b.length)throw new Error("state and velocity lengths must match");return new i(c,b,v)}}},7080:function(h){h.exports=R;var d=0,t=1;function r(T,E,A,f,P,w){this._color=T,this.key=E,this.value=A,this.left=f,this.right=P,this._count=w}function u(T){return new r(T._color,T.key,T.value,T.left,T.right,T._count)}function n(T,E){return new r(T,E.key,E.value,E.left,E.right,E._count)}function i(T){T._count=1+(T.left?T.left._count:0)+(T.right?T.right._count:0)}function s(T,E){this._compare=T,this.root=E}var o=s.prototype;Object.defineProperty(o,"keys",{get:function(){var T=[];return this.forEach(function(E,A){T.push(E)}),T}}),Object.defineProperty(o,"values",{get:function(){var T=[];return this.forEach(function(E,A){T.push(A)}),T}}),Object.defineProperty(o,"length",{get:function(){return this.root?this.root._count:0}}),o.insert=function(T,E){for(var A=this._compare,f=this.root,P=[],w=[];f;){var z=A(T,f.key);P.push(f),w.push(z),z<=0?f=f.left:f=f.right}P.push(new r(d,T,E,null,null,1));for(var F=P.length-2;F>=0;--F){var f=P[F];w[F]<=0?P[F]=new r(f._color,f.key,f.value,P[F+1],f.right,f._count+1):P[F]=new r(f._color,f.key,f.value,f.left,P[F+1],f._count+1)}for(var F=P.length-1;F>1;--F){var H=P[F-1],f=P[F];if(H._color===t||f._color===t)break;var _=P[F-2];if(_.left===H)if(H.left===f){var B=_.right;if(B&&B._color===d)H._color=t,_.right=n(t,B),_._color=d,F-=1;else{if(_._color=d,_.left=H.right,H._color=t,H.right=_,P[F-2]=H,P[F-1]=f,i(_),i(H),F>=3){var N=P[F-3];N.left===_?N.left=H:N.right=H}break}}else{var B=_.right;if(B&&B._color===d)H._color=t,_.right=n(t,B),_._color=d,F-=1;else{if(H.right=f.left,_._color=d,_.left=f.right,f._color=t,f.left=H,f.right=_,P[F-2]=f,P[F-1]=H,i(_),i(H),i(f),F>=3){var N=P[F-3];N.left===_?N.left=f:N.right=f}break}}else if(H.right===f){var B=_.left;if(B&&B._color===d)H._color=t,_.left=n(t,B),_._color=d,F-=1;else{if(_._color=d,_.right=H.left,H._color=t,H.left=_,P[F-2]=H,P[F-1]=f,i(_),i(H),F>=3){var N=P[F-3];N.right===_?N.right=H:N.left=H}break}}else{var B=_.left;if(B&&B._color===d)H._color=t,_.left=n(t,B),_._color=d,F-=1;else{if(H.left=f.right,_._color=d,_.right=f.left,f._color=t,f.right=H,f.left=_,P[F-2]=f,P[F-1]=H,i(_),i(H),i(f),F>=3){var N=P[F-3];N.right===_?N.right=f:N.left=f}break}}}return P[0]._color=t,new s(A,P[0])};function m(T,E){if(E.left){var A=m(T,E.left);if(A)return A}var A=T(E.key,E.value);if(A)return A;if(E.right)return m(T,E.right)}function c(T,E,A,f){var P=E(T,f.key);if(P<=0){if(f.left){var w=c(T,E,A,f.left);if(w)return w}var w=A(f.key,f.value);if(w)return w}if(f.right)return c(T,E,A,f.right)}function b(T,E,A,f,P){var w=A(T,P.key),z=A(E,P.key),F;if(w<=0&&(P.left&&(F=b(T,E,A,f,P.left),F)||z>0&&(F=f(P.key,P.value),F)))return F;if(z>0&&P.right)return b(T,E,A,f,P.right)}o.forEach=function(E,A,f){if(this.root)switch(arguments.length){case 1:return m(E,this.root);case 2:return c(A,this._compare,E,this.root);case 3:return this._compare(A,f)>=0?void 0:b(A,f,this._compare,E,this.root)}},Object.defineProperty(o,"begin",{get:function(){for(var T=[],E=this.root;E;)T.push(E),E=E.left;return new v(this,T)}}),Object.defineProperty(o,"end",{get:function(){for(var T=[],E=this.root;E;)T.push(E),E=E.right;return new v(this,T)}}),o.at=function(T){if(T<0)return new v(this,[]);for(var E=this.root,A=[];;){if(A.push(E),E.left){if(T<E.left._count){E=E.left;continue}T-=E.left._count}if(!T)return new v(this,A);if(T-=1,E.right){if(T>=E.right._count)break;E=E.right}else break}return new v(this,[])},o.ge=function(T){for(var E=this._compare,A=this.root,f=[],P=0;A;){var w=E(T,A.key);f.push(A),w<=0&&(P=f.length),w<=0?A=A.left:A=A.right}return f.length=P,new v(this,f)},o.gt=function(T){for(var E=this._compare,A=this.root,f=[],P=0;A;){var w=E(T,A.key);f.push(A),w<0&&(P=f.length),w<0?A=A.left:A=A.right}return f.length=P,new v(this,f)},o.lt=function(T){for(var E=this._compare,A=this.root,f=[],P=0;A;){var w=E(T,A.key);f.push(A),w>0&&(P=f.length),w<=0?A=A.left:A=A.right}return f.length=P,new v(this,f)},o.le=function(T){for(var E=this._compare,A=this.root,f=[],P=0;A;){var w=E(T,A.key);f.push(A),w>=0&&(P=f.length),w<0?A=A.left:A=A.right}return f.length=P,new v(this,f)},o.find=function(T){for(var E=this._compare,A=this.root,f=[];A;){var P=E(T,A.key);if(f.push(A),P===0)return new v(this,f);P<=0?A=A.left:A=A.right}return new v(this,[])},o.remove=function(T){var E=this.find(T);return E?E.remove():this},o.get=function(T){for(var E=this._compare,A=this.root;A;){var f=E(T,A.key);if(f===0)return A.value;f<=0?A=A.left:A=A.right}};function v(T,E){this.tree=T,this._stack=E}var l=v.prototype;Object.defineProperty(l,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(l,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),l.clone=function(){return new v(this.tree,this._stack.slice())};function p(T,E){T.key=E.key,T.value=E.value,T.left=E.left,T.right=E.right,T._color=E._color,T._count=E._count}function S(T){for(var E,A,f,P,w=T.length-1;w>=0;--w){if(E=T[w],w===0){E._color=t;return}if(A=T[w-1],A.left===E){if(f=A.right,f.right&&f.right._color===d){if(f=A.right=u(f),P=f.right=u(f.right),A.right=f.left,f.left=A,f.right=P,f._color=A._color,E._color=t,A._color=t,P._color=t,i(A),i(f),w>1){var z=T[w-2];z.left===A?z.left=f:z.right=f}T[w-1]=f;return}else if(f.left&&f.left._color===d){if(f=A.right=u(f),P=f.left=u(f.left),A.right=P.left,f.left=P.right,P.left=A,P.right=f,P._color=A._color,A._color=t,f._color=t,E._color=t,i(A),i(f),i(P),w>1){var z=T[w-2];z.left===A?z.left=P:z.right=P}T[w-1]=P;return}if(f._color===t)if(A._color===d){A._color=t,A.right=n(d,f);return}else{A.right=n(d,f);continue}else{if(f=u(f),A.right=f.left,f.left=A,f._color=A._color,A._color=d,i(A),i(f),w>1){var z=T[w-2];z.left===A?z.left=f:z.right=f}T[w-1]=f,T[w]=A,w+1<T.length?T[w+1]=E:T.push(E),w=w+2}}else{if(f=A.left,f.left&&f.left._color===d){if(f=A.left=u(f),P=f.left=u(f.left),A.left=f.right,f.right=A,f.left=P,f._color=A._color,E._color=t,A._color=t,P._color=t,i(A),i(f),w>1){var z=T[w-2];z.right===A?z.right=f:z.left=f}T[w-1]=f;return}else if(f.right&&f.right._color===d){if(f=A.left=u(f),P=f.right=u(f.right),A.left=P.right,f.right=P.left,P.right=A,P.left=f,P._color=A._color,A._color=t,f._color=t,E._color=t,i(A),i(f),i(P),w>1){var z=T[w-2];z.right===A?z.right=P:z.left=P}T[w-1]=P;return}if(f._color===t)if(A._color===d){A._color=t,A.left=n(d,f);return}else{A.left=n(d,f);continue}else{if(f=u(f),A.left=f.right,f.right=A,f._color=A._color,A._color=d,i(A),i(f),w>1){var z=T[w-2];z.right===A?z.right=f:z.left=f}T[w-1]=f,T[w]=A,w+1<T.length?T[w+1]=E:T.push(E),w=w+2}}}}l.remove=function(){var T=this._stack;if(T.length===0)return this.tree;var E=new Array(T.length),A=T[T.length-1];E[E.length-1]=new r(A._color,A.key,A.value,A.left,A.right,A._count);for(var f=T.length-2;f>=0;--f){var A=T[f];A.left===T[f+1]?E[f]=new r(A._color,A.key,A.value,E[f+1],A.right,A._count):E[f]=new r(A._color,A.key,A.value,A.left,E[f+1],A._count)}if(A=E[E.length-1],A.left&&A.right){var P=E.length;for(A=A.left;A.right;)E.push(A),A=A.right;var w=E[P-1];E.push(new r(A._color,w.key,w.value,A.left,A.right,A._count)),E[P-1].key=A.key,E[P-1].value=A.value;for(var f=E.length-2;f>=P;--f)A=E[f],E[f]=new r(A._color,A.key,A.value,A.left,E[f+1],A._count);E[P-1].left=E[P]}if(A=E[E.length-1],A._color===d){var z=E[E.length-2];z.left===A?z.left=null:z.right===A&&(z.right=null),E.pop();for(var f=0;f<E.length;++f)E[f]._count--;return new s(this.tree._compare,E[0])}else if(A.left||A.right){A.left?p(A,A.left):A.right&&p(A,A.right),A._color=t;for(var f=0;f<E.length-1;++f)E[f]._count--;return new s(this.tree._compare,E[0])}else{if(E.length===1)return new s(this.tree._compare,null);for(var f=0;f<E.length;++f)E[f]._count--;var F=E[E.length-2];S(E),F.left===A?F.left=null:F.right=null}return new s(this.tree._compare,E[0])},Object.defineProperty(l,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(l,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(l,"index",{get:function(){var T=0,E=this._stack;if(E.length===0){var A=this.tree.root;return A?A._count:0}else E[E.length-1].left&&(T=E[E.length-1].left._count);for(var f=E.length-2;f>=0;--f)E[f+1]===E[f].right&&(++T,E[f].left&&(T+=E[f].left._count));return T},enumerable:!0}),l.next=function(){var T=this._stack;if(T.length!==0){var E=T[T.length-1];if(E.right)for(E=E.right;E;)T.push(E),E=E.left;else for(T.pop();T.length>0&&T[T.length-1].right===E;)E=T[T.length-1],T.pop()}},Object.defineProperty(l,"hasNext",{get:function(){var T=this._stack;if(T.length===0)return!1;if(T[T.length-1].right)return!0;for(var E=T.length-1;E>0;--E)if(T[E-1].left===T[E])return!0;return!1}}),l.update=function(T){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var A=new Array(E.length),f=E[E.length-1];A[A.length-1]=new r(f._color,f.key,T,f.left,f.right,f._count);for(var P=E.length-2;P>=0;--P)f=E[P],f.left===E[P+1]?A[P]=new r(f._color,f.key,f.value,A[P+1],f.right,f._count):A[P]=new r(f._color,f.key,f.value,f.left,A[P+1],f._count);return new s(this.tree._compare,A[0])},l.prev=function(){var T=this._stack;if(T.length!==0){var E=T[T.length-1];if(E.left)for(E=E.left;E;)T.push(E),E=E.right;else for(T.pop();T.length>0&&T[T.length-1].left===E;)E=T[T.length-1],T.pop()}},Object.defineProperty(l,"hasPrev",{get:function(){var T=this._stack;if(T.length===0)return!1;if(T[T.length-1].left)return!0;for(var E=T.length-1;E>0;--E)if(T[E-1].right===T[E])return!0;return!1}});function M(T,E){return T<E?-1:T>E?1:0}function R(T){return new s(T||M,null)}},7453:function(h,d,t){h.exports=f;var r=t(9557),u=t(1681),n=t(1011),i=t(2864),s=t(8468),o=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(P,w){return P[0]=w[0],P[1]=w[1],P[2]=w[2],P}function c(P){this.gl=P,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(P)}var b=c.prototype;b.update=function(P){P=P||{};function w(ue,ve,ee){if(ee in P){var J=P[ee],Q=this[ee],X;(ue?Array.isArray(J)&&Array.isArray(J[0]):Array.isArray(J))?this[ee]=X=[ve(J[0]),ve(J[1]),ve(J[2])]:this[ee]=X=[ve(J),ve(J),ve(J)];for(var q=0;q<3;++q)if(X[q]!==Q[q])return!0}return!1}var z=w.bind(this,!1,Number),F=w.bind(this,!1,Boolean),H=w.bind(this,!1,String),_=w.bind(this,!0,function(ue){if(Array.isArray(ue)){if(ue.length===3)return[+ue[0],+ue[1],+ue[2],1];if(ue.length===4)return[+ue[0],+ue[1],+ue[2],+ue[3]]}return[0,0,0,1]}),B,N=!1,O=!1;if("bounds"in P)for(var U=P.bounds,K=0;K<2;++K)for(var re=0;re<3;++re)U[K][re]!==this.bounds[K][re]&&(O=!0),this.bounds[K][re]=U[K][re];if("ticks"in P){B=P.ticks,N=!0,this.autoTicks=!1;for(var K=0;K<3;++K)this.tickSpacing[K]=0}else z("tickSpacing")&&(this.autoTicks=!0,O=!0);if(this._firstInit&&("ticks"in P||"tickSpacing"in P||(this.autoTicks=!0),O=!0,N=!0,this._firstInit=!1),O&&this.autoTicks&&(B=s.create(this.bounds,this.tickSpacing),N=!0),N){for(var K=0;K<3;++K)B[K].sort(function(ve,ee){return ve.x-ee.x});s.equal(B,this.ticks)?N=!1:this.ticks=B}F("tickEnable"),H("tickFont")&&(N=!0),z("tickSize"),z("tickAngle"),z("tickPad"),_("tickColor");var ae=H("labels");H("labelFont")&&(ae=!0),F("labelEnable"),z("labelSize"),z("labelPad"),_("labelColor"),F("lineEnable"),F("lineMirror"),z("lineWidth"),_("lineColor"),F("lineTickEnable"),F("lineTickMirror"),z("lineTickLength"),z("lineTickWidth"),_("lineTickColor"),F("gridEnable"),z("gridWidth"),_("gridColor"),F("zeroEnable"),_("zeroLineColor"),z("zeroLineWidth"),F("backgroundEnable"),_("backgroundColor"),this._text?this._text&&(ae||N)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&N&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};function v(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var l=[new v,new v,new v];function p(P,w,z,F,H){for(var _=P.primalOffset,B=P.primalMinor,N=P.mirrorOffset,O=P.mirrorMinor,U=F[w],K=0;K<3;++K)if(w!==K){var re=_,ae=N,ue=B,ve=O;U&1<<K&&(re=N,ae=_,ue=O,ve=B),re[K]=z[0][K],ae[K]=z[1][K],H[K]>0?(ue[K]=-1,ve[K]=0):(ue[K]=0,ve[K]=1)}}var S=[0,0,0],M={model:o,view:o,projection:o,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(P){};var R=0,T=[0,0,0],E=[0,0,0],A=[0,0,0];b.draw=function(P){P=P||M;for(var Q=this.gl,w=P.model||o,z=P.view||o,F=P.projection||o,H=this.bounds,_=P._ortho||!1,B=i(w,z,F,H,_),N=B.cubeEdges,O=B.axis,U=z[12],K=z[13],re=z[14],ae=z[15],ue=_?2:1,ve=ue*this.pixelRatio*(F[3]*U+F[7]*K+F[11]*re+F[15]*ae)/Q.drawingBufferHeight,ee=0;ee<3;++ee)this.lastCubeProps.cubeEdges[ee]=N[ee],this.lastCubeProps.axis[ee]=O[ee];for(var J=l,ee=0;ee<3;++ee)p(l[ee],ee,this.bounds,N,O);for(var Q=this.gl,X=S,ee=0;ee<3;++ee)this.backgroundEnable[ee]?X[ee]=O[ee]:X[ee]=0;this._background.draw(w,z,F,H,X,this.backgroundColor),this._lines.bind(w,z,F,this);for(var ee=0;ee<3;++ee){var q=[0,0,0];O[ee]>0?q[ee]=H[1][ee]:q[ee]=H[0][ee];for(var se=0;se<2;++se){var Y=(ee+1+se)%3,Z=(ee+1+(se^1))%3;this.gridEnable[Y]&&this._lines.drawGrid(Y,Z,this.bounds,q,this.gridColor[Y],this.gridWidth[Y]*this.pixelRatio)}for(var se=0;se<2;++se){var Y=(ee+1+se)%3,Z=(ee+1+(se^1))%3;this.zeroEnable[Z]&&Math.min(H[0][Z],H[1][Z])<=0&&Math.max(H[0][Z],H[1][Z])>=0&&this._lines.drawZero(Y,Z,this.bounds,q,this.zeroLineColor[Z],this.zeroLineWidth[Z]*this.pixelRatio)}}for(var ee=0;ee<3;++ee){this.lineEnable[ee]&&this._lines.drawAxisLine(ee,this.bounds,J[ee].primalOffset,this.lineColor[ee],this.lineWidth[ee]*this.pixelRatio),this.lineMirror[ee]&&this._lines.drawAxisLine(ee,this.bounds,J[ee].mirrorOffset,this.lineColor[ee],this.lineWidth[ee]*this.pixelRatio);for(var ie=m(T,J[ee].primalMinor),te=m(E,J[ee].mirrorMinor),fe=this.lineTickLength,se=0;se<3;++se){var de=ve/w[5*se];ie[se]*=fe[se]*de,te[se]*=fe[se]*de}this.lineTickEnable[ee]&&this._lines.drawAxisTicks(ee,J[ee].primalOffset,ie,this.lineTickColor[ee],this.lineTickWidth[ee]*this.pixelRatio),this.lineTickMirror[ee]&&this._lines.drawAxisTicks(ee,J[ee].mirrorOffset,te,this.lineTickColor[ee],this.lineTickWidth[ee]*this.pixelRatio)}this._lines.unbind(),this._text.bind(w,z,F,this.pixelRatio);var we,Ae=.5,Re,Fe;function Se(We){Fe=[0,0,0],Fe[We]=1}function Te(We,tt,Ke){var qe=(We+1)%3,rt=(We+2)%3,ft=tt[qe],pt=tt[rt],gt=Ke[qe],Mt=Ke[rt];if(ft>0&&Mt>0){Se(qe);return}else if(ft>0&&Mt<0){Se(qe);return}else if(ft<0&&Mt>0){Se(qe);return}else if(ft<0&&Mt<0){Se(qe);return}else if(pt>0&&gt>0){Se(rt);return}else if(pt>0&&gt<0){Se(rt);return}else if(pt<0&&gt>0){Se(rt);return}else if(pt<0&&gt<0){Se(rt);return}}for(var ee=0;ee<3;++ee){for(var Ee=J[ee].primalMinor,Ne=J[ee].mirrorMinor,He=m(A,J[ee].primalOffset),se=0;se<3;++se)this.lineTickEnable[ee]&&(He[se]+=ve*Ee[se]*Math.max(this.lineTickLength[se],0)/w[5*se]);var _e=[0,0,0];if(_e[ee]=1,this.tickEnable[ee]){this.tickAngle[ee]===-3600?(this.tickAngle[ee]=0,this.tickAlign[ee]="auto"):this.tickAlign[ee]=-1,Re=1,we=[this.tickAlign[ee],Ae,Re],we[0]==="auto"?we[0]=R:we[0]=parseInt(""+we[0]),Fe=[0,0,0],Te(ee,Ee,Ne);for(var se=0;se<3;++se)He[se]+=ve*Ee[se]*this.tickPad[se]/w[5*se];this._text.drawTicks(ee,this.tickSize[ee],this.tickAngle[ee],He,this.tickColor[ee],_e,Fe,we)}if(this.labelEnable[ee]){Re=0,Fe=[0,0,0],this.labels[ee].length>4&&(Se(ee),Re=1),we=[this.labelAlign[ee],Ae,Re],we[0]==="auto"?we[0]=R:we[0]=parseInt(""+we[0]);for(var se=0;se<3;++se)He[se]+=ve*Ee[se]*this.labelPad[se]/w[5*se];He[ee]+=.5*(H[0][ee]+H[1][ee]),this._text.drawLabel(ee,this.labelSize[ee],this.labelAngle[ee],He,this.labelColor[ee],[0,0,0],Fe,we)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function f(P,w){var z=new c(P);return z.update(w),z}},1011:function(h,d,t){h.exports=o;var r=t(5827),u=t(2944),n=t(1943).bg;function i(m,c,b,v){this.gl=m,this.buffer=c,this.vao=b,this.shader=v}var s=i.prototype;s.draw=function(m,c,b,v,l,p){for(var S=!1,M=0;M<3;++M)S=S||l[M];if(S){var R=this.gl;R.enable(R.POLYGON_OFFSET_FILL),R.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:c,projection:b,bounds:v,enable:l,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),R.disable(R.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function o(m){for(var c=[],b=[],v=0,l=0;l<3;++l)for(var p=(l+1)%3,S=(l+2)%3,M=[0,0,0],R=[0,0,0],T=-1;T<=1;T+=2){b.push(v,v+2,v+1,v+1,v+2,v+3),M[l]=T,R[l]=T;for(var E=-1;E<=1;E+=2){M[p]=E;for(var A=-1;A<=1;A+=2)M[S]=A,c.push(M[0],M[1],M[2],R[0],R[1],R[2]),v+=1}var f=p;p=S,S=f}var P=r(m,new Float32Array(c)),w=r(m,new Uint16Array(b),m.ELEMENT_ARRAY_BUFFER),z=u(m,[{buffer:P,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:P,type:m.FLOAT,size:3,offset:12,stride:24}],w),F=n(m);return F.attributes.position.location=0,F.attributes.normal.location=1,new i(m,P,z,F)}},2864:function(h,d,t){h.exports=T;var r=t(2288),u=t(104),n=t(4670),i=t(417),s=new Array(16),o=new Array(8),m=new Array(8),c=new Array(3),b=[0,0,0];(function(){for(var E=0;E<8;++E)o[E]=[1,1,1,1],m[E]=[1,1,1]})();function v(E,A,f){for(var P=0;P<4;++P){E[P]=f[12+P];for(var w=0;w<3;++w)E[P]+=A[w]*f[4*w+P]}}var l=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(E){for(var A=0;A<l.length;++A)if(E=n.positive(E,l[A]),E.length<3)return 0;for(var f=E[0],P=f[0]/f[3],w=f[1]/f[3],z=0,A=1;A+1<E.length;++A){var F=E[A],H=E[A+1],_=F[0]/F[3],B=F[1]/F[3],N=H[0]/H[3],O=H[1]/H[3],U=_-P,K=B-w,re=N-P,ae=O-w;z+=Math.abs(U*ae-K*re)}return z}var S=[1,1,1],M=[0,0,0],R={cubeEdges:S,axis:M};function T(E,A,f,P,w){u(s,A,E),u(s,f,s);for(var z=0,F=0;F<2;++F){c[2]=P[F][2];for(var H=0;H<2;++H){c[1]=P[H][1];for(var _=0;_<2;++_)c[0]=P[_][0],v(o[z],c,s),z+=1}}for(var B=-1,F=0;F<8;++F){for(var N=o[F][3],O=0;O<3;++O)m[F][O]=o[F][O]/N;w&&(m[F][2]*=-1),N<0&&(B<0||m[F][2]<m[B][2])&&(B=F)}if(B<0){B=0;for(var U=0;U<3;++U){for(var K=(U+2)%3,re=(U+1)%3,ae=-1,ue=-1,ve=0;ve<2;++ve){var ee=ve<<U,J=ee+(ve<<K)+(1-ve<<re),Q=ee+(1-ve<<K)+(ve<<re);i(m[ee],m[J],m[Q],b)<0||(ve?ae=1:ue=1)}if(ae<0||ue<0){ue>ae&&(B|=1<<U);continue}for(var ve=0;ve<2;++ve){var ee=ve<<U,J=ee+(ve<<K)+(1-ve<<re),Q=ee+(1-ve<<K)+(ve<<re),X=p([o[ee],o[J],o[Q],o[ee+(1<<K)+(1<<re)]]);ve?ae=X:ue=X}if(ue>ae){B|=1<<U;continue}}}for(var q=7^B,se=-1,F=0;F<8;++F)F===B||F===q||(se<0||m[se][1]>m[F][1])&&(se=F);for(var Y=-1,F=0;F<3;++F){var Z=se^1<<F;if(!(Z===B||Z===q)){Y<0&&(Y=Z);var re=m[Z];re[0]<m[Y][0]&&(Y=Z)}}for(var ie=-1,F=0;F<3;++F){var Z=se^1<<F;if(!(Z===B||Z===q||Z===Y)){ie<0&&(ie=Z);var re=m[Z];re[0]>m[ie][0]&&(ie=Z)}}var te=S;te[0]=te[1]=te[2]=0,te[r.log2(Y^se)]=se&Y,te[r.log2(se^ie)]=se&ie;var fe=ie^7;fe===B||fe===q?(fe=Y^7,te[r.log2(ie^fe)]=fe&ie):te[r.log2(Y^fe)]=fe&Y;for(var de=M,we=B,U=0;U<3;++U)we&1<<U?de[U]=-1:de[U]=1;return R}},1681:function(h,d,t){h.exports=S;var r=t(5827),u=t(2944),n=t(1943).j,i=[0,0,0],s=[0,0,0],o=[0,0,0],m=[0,0,0],c=[1,1];function b(M){return M[0]=M[1]=M[2]=0,M}function v(M,R){return M[0]=R[0],M[1]=R[1],M[2]=R[2],M}function l(M,R,T,E,A,f,P,w){this.gl=M,this.vertBuffer=R,this.vao=T,this.shader=E,this.tickCount=A,this.tickOffset=f,this.gridCount=P,this.gridOffset=w}var p=l.prototype;p.bind=function(M,R,T){this.shader.bind(),this.shader.uniforms.model=M,this.shader.uniforms.view=R,this.shader.uniforms.projection=T,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(M,R,T,E,A){var f=b(s);this.shader.uniforms.majorAxis=s,f[M]=R[1][M]-R[0][M],this.shader.uniforms.minorAxis=f;var P=v(m,T);P[M]+=R[0][M],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=E;var w=b(o);w[(M+2)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6);var w=b(o);w[(M+1)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(M,R,T,E,A){if(this.tickCount[M]){var f=b(i);f[M]=1,this.shader.uniforms.majorAxis=f,this.shader.uniforms.offset=R,this.shader.uniforms.minorAxis=T,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=A;var P=b(o);P[M]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M])}},p.drawGrid=function(M,R,T,E,A,f){if(this.gridCount[M]){var P=b(s);P[R]=T[1][R]-T[0][R],this.shader.uniforms.minorAxis=P;var w=v(m,E);w[R]+=T[0][R],this.shader.uniforms.offset=w;var z=b(i);z[M]=1,this.shader.uniforms.majorAxis=z;var F=b(o);F[M]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=f,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,this.gridCount[M],this.gridOffset[M])}},p.drawZero=function(M,R,T,E,A,f){var P=b(s);this.shader.uniforms.majorAxis=P,P[M]=T[1][M]-T[0][M],this.shader.uniforms.minorAxis=P;var w=v(m,E);w[M]+=T[0][M],this.shader.uniforms.offset=w;var z=b(o);z[R]=1,this.shader.uniforms.screenAxis=z,this.shader.uniforms.lineWidth=f,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function S(M,R,T){var E=[],A=[0,0,0],f=[0,0,0],P=[0,0,0],w=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var z=0;z<3;++z){for(var _=E.length/3|0,F=0;F<T[z].length;++F){var H=+T[z][F].x;E.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var N=E.length/3|0;A[z]=_,f[z]=N-_;for(var _=E.length/3|0,B=0;B<T[z].length;++B){var H=+T[z][B].x;E.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var N=E.length/3|0;P[z]=_,w[z]=N-_}var O=r(M,new Float32Array(E)),U=u(M,[{buffer:O,type:M.FLOAT,size:3,stride:0,offset:0}]),K=n(M);return K.attributes.position.location=0,new l(M,O,U,K,f,A,w,P)}},1943:function(h,d,t){var r=t(6832),u=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),i=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.j=function(b){return u(b,n,i,null,[{name:"position",type:"vec3"}])};var s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),o=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.f=function(b){return u(b,s,o,null,[{name:"position",type:"vec3"}])};var m=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);d.bg=function(b){return u(b,m,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(h,d,t){h.exports=p;var r=t(5827),u=t(2944),n=t(875),i=t(1943).f,s=window||y.global||{},o=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};var m=3;function c(S,M,R,T){this.gl=S,this.shader=M,this.buffer=R,this.vao=T,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var b=c.prototype,v=[0,0];b.bind=function(S,M,R,T){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=S,E.view=M,E.projection=R,E.pixelScale=T,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=v},b.unbind=function(){this.vao.unbind()},b.update=function(S,M,R,T,E){var A=[];function f(O,U,K,re,ae,ue){var ve=o[K];ve||(ve=o[K]={});var ee=ve[U];ee||(ee=ve[U]=l(U,{triangles:!0,font:K,textAlign:"center",textBaseline:"middle",lineSpacing:ae,styletags:ue}));for(var J=(re||12)/12,Q=ee.positions,X=ee.cells,q=0,se=X.length;q<se;++q)for(var Y=X[q],Z=2;Z>=0;--Z){var ie=Q[Y[Z]];A.push(J*ie[0],-J*ie[1],O)}}for(var P=[0,0,0],w=[0,0,0],z=[0,0,0],F=[0,0,0],H=1.25,_={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},B=0;B<3;++B){z[B]=A.length/m|0,f(.5*(S[0][B]+S[1][B]),M[B],R[B],12,H,_),F[B]=(A.length/m|0)-z[B],P[B]=A.length/m|0;for(var N=0;N<T[B].length;++N)T[B][N].text&&f(T[B][N].x,T[B][N].text,T[B][N].font||E,T[B][N].fontSize||12,H,_);w[B]=(A.length/m|0)-P[B]}this.buffer.update(A),this.tickOffset=P,this.tickCount=w,this.labelOffset=z,this.labelCount=F},b.drawTicks=function(S,M,R,T,E,A,f,P){this.tickCount[S]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=E,this.shader.uniforms.angle=R,this.shader.uniforms.scale=M,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S]))},b.drawLabel=function(S,M,R,T,E,A,f,P){this.labelCount[S]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=E,this.shader.uniforms.angle=R,this.shader.uniforms.scale=M,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.labelCount[S],this.labelOffset[S]))},b.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function l(S,M){try{return n(S,M)}catch(R){return console.warn('error vectorizing text:"'+S+'" error:',R),{cells:[],positions:[]}}}function p(S,M,R,T,E,A){var f=r(S),P=u(S,[{buffer:f,size:3}]),w=i(S);w.attributes.position.location=0;var z=new c(S,w,f,P);return z.update(M,R,T,E,A),z}},8468:function(h,d){d.create=r,d.equal=u;function t(n,i){var s=n+"",o=s.indexOf("."),m=0;o>=0&&(m=s.length-o-1);var c=Math.pow(10,m),b=Math.round(n*i*c),v=b+"";if(v.indexOf("e")>=0)return v;var l=b/c,p=b%c;b<0?(l=-Math.ceil(l)|0,p=-p|0):(l=Math.floor(l)|0,p=p|0);var S=""+l;if(b<0&&(S="-"+S),m){for(var M=""+p;M.length<m;)M="0"+M;return S+"."+M}else return S}function r(n,i){for(var s=[],o=0;o<3;++o){var m=[];.5*(n[0][o]+n[1][o]);for(var c=0;c*i[o]<=n[1][o];++c)m.push({x:c*i[o],text:t(i[o],c)});for(var c=-1;c*i[o]>=n[0][o];--c)m.push({x:c*i[o],text:t(i[o],c)});s.push(m)}return s}function u(n,i){for(var s=0;s<3;++s){if(n[s].length!==i[s].length)return!1;for(var o=0;o<n[s].length;++o){var m=n[s][o],c=i[s][o];if(m.x!==c.x||m.text!==c.text||m.font!==c.font||m.fontColor!==c.fontColor||m.fontSize!==c.fontSize||m.dx!==c.dx||m.dy!==c.dy)return!1}}return!0}},2771:function(h,d,t){h.exports=R;var r=t(5795),u=t(4670),n=t(2864),i=t(104),s=t(2142),o=t(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function b(T,E,A){this.lo=T,this.hi=E,this.pixelsPerDataUnit=A}var v=[0,0,0,1],l=[0,0,0,1];function p(T,E,A,f,P){for(var w=0;w<3;++w){for(var z=v,F=l,H=0;H<3;++H)F[H]=z[H]=A[H];F[3]=z[3]=1,F[w]+=1,o(F,F,E),F[3]<0&&(T[w]=1/0),z[w]-=1,o(z,z,E),z[3]<0&&(T[w]=1/0);var _=(z[0]/z[3]-F[0]/F[3])*f,B=(z[1]/z[3]-F[1]/F[3])*P;T[w]=.25*Math.sqrt(_*_+B*B)}return T}var S=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],M=[0,0,0];function R(T,E,A,f,B){var w=E.model||m,z=E.view||m,F=E.projection||m,H=E._ortho||!1,_=T.bounds,B=B||n(w,z,F,_,H),N=B.axis;i(c,z,w),i(c,F,c);for(var O=S,U=0;U<3;++U)O[U].lo=1/0,O[U].hi=-1/0,O[U].pixelsPerDataUnit=1/0;var K=r(s(c,c));s(c,c);for(var re=0;re<3;++re){var ae=(re+1)%3,ue=(re+2)%3,ve=M;e:for(var U=0;U<2;++U){var ee=[];if(N[re]<0!=!!U){ve[re]=_[U][re];for(var J=0;J<2;++J){ve[ae]=_[J^U][ae];for(var Q=0;Q<2;++Q)ve[ue]=_[Q^J^U][ue],ee.push(ve.slice())}for(var X=H?5:4,J=X;J===X;++J){if(ee.length===0)continue e;ee=u.positive(ee,K[J])}for(var J=0;J<ee.length;++J)for(var ue=ee[J],q=p(M,c,ue,A,f),Q=0;Q<3;++Q)O[Q].lo=Math.min(O[Q].lo,ue[Q]),O[Q].hi=Math.max(O[Q].hi,ue[Q]),Q!==re&&(O[Q].pixelsPerDataUnit=Math.min(O[Q].pixelsPerDataUnit,Math.abs(q[Q])))}}}return O}},5827:function(h,d,t){var r=t(5306),u=t(7498),n=t(5050),i=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(l,p,S,M,R){this.gl=l,this.type=p,this.handle=S,this.length=M,this.usage=R}var o=s.prototype;o.bind=function(){this.gl.bindBuffer(this.type,this.handle)},o.unbind=function(){this.gl.bindBuffer(this.type,null)},o.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(l,p,S,M,R,T){var E=R.length*R.BYTES_PER_ELEMENT;if(T<0)return l.bufferData(p,R,M),E;if(E+T>S)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return l.bufferSubData(p,T,R),S}function c(l,p){for(var S=r.malloc(l.length,p),M=l.length,R=0;R<M;++R)S[R]=l[R];return S}function b(l,p){for(var S=1,M=p.length-1;M>=0;--M){if(p[M]!==S)return!1;S*=l[M]}return!0}o.update=function(l,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof l=="object"&&typeof l.shape<"u"){var S=l.dtype;if(i.indexOf(S)<0&&(S="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var M=gl.getExtension("OES_element_index_uint");M&&S!=="uint16"?S="uint32":S="uint16"}if(S===l.dtype&&b(l.shape,l.stride))l.offset===0&&l.data.length===l.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,l.data,p):this.length=m(this.gl,this.type,this.length,this.usage,l.data.subarray(l.offset,l.shape[0]),p);else{var R=r.malloc(l.size,S),T=n(R,l.shape);u.assign(T,l),p<0?this.length=m(this.gl,this.type,this.length,this.usage,R,p):this.length=m(this.gl,this.type,this.length,this.usage,R.subarray(0,l.size),p),r.free(R)}}else if(Array.isArray(l)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=c(l,"uint16"):E=c(l,"float32"),p<0?this.length=m(this.gl,this.type,this.length,this.usage,E,p):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,l.length),p),r.free(E)}else if(typeof l=="object"&&typeof l.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,l,p);else if(typeof l=="number"||l===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");l=l|0,l<=0&&(l=1),this.gl.bufferData(this.type,l|0,this.usage),this.length=l}else throw new Error("gl-buffer: Invalid data type")};function v(l,p,S,M){if(S=S||l.ARRAY_BUFFER,M=M||l.DYNAMIC_DRAW,S!==l.ARRAY_BUFFER&&S!==l.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(M!==l.DYNAMIC_DRAW&&M!==l.STATIC_DRAW&&M!==l.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var R=l.createBuffer(),T=new s(l,S,R,0,M);return T.update(p),T}h.exports=v},1140:function(h,d,t){var r=t(2858);h.exports=function(n,i){var s=n.positions,o=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return i&&(i[0]=[0,0,0],i[1]=[0,0,0]),m;for(var c=0,b=1/0,v=-1/0,l=1/0,p=-1/0,S=1/0,M=-1/0,R=null,T=null,E=[],A=1/0,f=!1,P=0;P<s.length;P++){var w=s[P];b=Math.min(w[0],b),v=Math.max(w[0],v),l=Math.min(w[1],l),p=Math.max(w[1],p),S=Math.min(w[2],S),M=Math.max(w[2],M);var z=o[P];if(r.length(z)>c&&(c=r.length(z)),P){var F=2*r.distance(R,w)/(r.length(T)+r.length(z));F?(A=Math.min(A,F),f=!1):f=!0}f||(R=w,T=z),E.push(z)}var H=[b,l,S],_=[v,p,M];i&&(i[0]=H,i[1]=_),c===0&&(c=1);var B=1/c;isFinite(A)||(A=1),m.vectorScale=A;var N=n.coneSize||.5;n.absoluteConeSize&&(N=n.absoluteConeSize*B),m.coneScale=N;for(var P=0,O=0;P<s.length;P++)for(var w=s[P],U=w[0],K=w[1],re=w[2],ae=E[P],ue=r.length(ae)*B,ve=0,ee=8;ve<ee;ve++){m.positions.push([U,K,re,O++]),m.positions.push([U,K,re,O++]),m.positions.push([U,K,re,O++]),m.positions.push([U,K,re,O++]),m.positions.push([U,K,re,O++]),m.positions.push([U,K,re,O++]),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vectors.push(ae),m.vertexIntensity.push(ue,ue,ue),m.vertexIntensity.push(ue,ue,ue);var J=m.positions.length;m.cells.push([J-6,J-5,J-4],[J-3,J-2,J-1])}return m};var u=t(7234);h.exports.createMesh=t(5028),h.exports.createConeMesh=function(n,i){return h.exports.createMesh(n,i,{shaders:u,traceType:"cone"})}},5028:function(h,d,t){var r=t(5158),u=t(5827),n=t(2944),i=t(8931),s=t(104),o=t(7437),m=t(5050),c=t(9156),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(E,A,f,P,w,z,F,H,_,B,N){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=A,this.dirty=!0,this.triShader=f,this.pickShader=P,this.trianglePositions=w,this.triangleVectors=z,this.triangleColors=H,this.triangleUVs=_,this.triangleIds=F,this.triangleVAO=B,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var l=v.prototype;l.isOpaque=function(){return this.opacity>=1},l.isTransparent=function(){return this.opacity<1},l.pickSlots=1,l.setPickBase=function(E){this.pickId=E};function p(E){for(var A=c({colormap:E,nshades:256,format:"rgba"}),f=new Uint8Array(256*4),P=0;P<256;++P){for(var w=A[P],z=0;z<3;++z)f[4*P+z]=w[z];f[4*P+3]=w[3]*255}return m(f,[256,256,4],[4,0,1])}function S(E){for(var A=E.length,f=new Array(A),P=0;P<A;++P)f[P]=E[P][2];return f}l.update=function(E){E=E||{};var A=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=A.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=A.LINEAR,this.texture.setPixels(p(E.colormap)),this.texture.generateMipmap());var f=E.cells,P=E.positions,w=E.vectors;if(!(!P||!f||!w)){var z=[],F=[],H=[],_=[],B=[];this.cells=f,this.positions=P,this.vectors=w;var N=E.meshColor||[1,1,1,1],O=E.vertexIntensity,U=1/0,K=-1/0;if(O)if(E.vertexIntensityBounds)U=+E.vertexIntensityBounds[0],K=+E.vertexIntensityBounds[1];else for(var re=0;re<O.length;++re){var ae=O[re];U=Math.min(U,ae),K=Math.max(K,ae)}else for(var re=0;re<P.length;++re){var ae=P[re][2];U=Math.min(U,ae),K=Math.max(K,ae)}O?this.intensity=O:this.intensity=S(P),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var re=0;re<P.length;++re)for(var ue=P[re],ve=0;ve<3;++ve)isNaN(ue[ve])||!isFinite(ue[ve])||(this.bounds[0][ve]=Math.min(this.bounds[0][ve],ue[ve]),this.bounds[1][ve]=Math.max(this.bounds[1][ve],ue[ve]));var ee=0;e:for(var re=0;re<f.length;++re){var J=f[re];switch(J.length){case 3:for(var ve=0;ve<3;++ve)for(var Q=J[ve],ue=P[Q],X=0;X<3;++X)if(isNaN(ue[X])||!isFinite(ue[X]))continue e;for(var ve=0;ve<3;++ve){var Q=J[2-ve],ue=P[Q];z.push(ue[0],ue[1],ue[2],ue[3]);var q=w[Q];F.push(q[0],q[1],q[2],q[3]||0);var se=N;se.length===3?H.push(se[0],se[1],se[2],1):H.push(se[0],se[1],se[2],se[3]);var Y;O?Y=[(O[Q]-U)/(K-U),0]:Y=[(ue[2]-U)/(K-U),0],_.push(Y[0],Y[1]),B.push(re)}ee+=1;break}}this.triangleCount=ee,this.trianglePositions.update(z),this.triangleVectors.update(F),this.triangleColors.update(H),this.triangleUVs.update(_),this.triangleIds.update(new Uint32Array(B))}},l.drawTransparent=l.draw=function(E){E=E||{};for(var A=this.gl,f=E.model||b,P=E.view||b,w=E.projection||b,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],F=0;F<3;++F)z[0][F]=Math.max(z[0][F],this.clipBounds[0][F]),z[1][F]=Math.min(z[1][F],this.clipBounds[1][F]);var H={model:f,view:P,projection:w,inverseModel:b.slice(),clipBounds:z,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};H.inverseModel=o(H.inverseModel,H.model),A.disable(A.CULL_FACE),this.texture.bind(0);var _=new Array(16);s(_,H.view,H.model),s(_,H.projection,_),o(_,_);for(var F=0;F<3;++F)H.eyePosition[F]=_[12+F]/_[15];for(var B=_[15],F=0;F<3;++F)B+=this.lightPosition[F]*_[4*F+3];for(var F=0;F<3;++F){for(var N=_[12+F],O=0;O<3;++O)N+=_[4*O+F]*this.lightPosition[O];H.lightPosition[F]=N/B}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=H,this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},l.drawPick=function(E){E=E||{};for(var A=this.gl,f=E.model||b,P=E.view||b,w=E.projection||b,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],F=0;F<3;++F)z[0][F]=Math.max(z[0][F],this.clipBounds[0][F]),z[1][F]=Math.min(z[1][F],this.clipBounds[1][F]);this._model=[].slice.call(f),this._view=[].slice.call(P),this._projection=[].slice.call(w),this._resolution=[A.drawingBufferWidth,A.drawingBufferHeight];var H={model:f,view:P,projection:w,clipBounds:z,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},_=this.pickShader;_.bind(),_.uniforms=H,this.triangleCount>0&&(this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},l.pick=function(E){if(!E||E.id!==this.pickId)return null;var A=E.value[0]+256*E.value[1]+65536*E.value[2],f=this.cells[A],P=this.positions[f[1]].slice(0,3),w={position:P,dataCoordinate:P,index:Math.floor(f[1]/48)};return this.traceType==="cone"?w.index=Math.floor(f[1]/48):this.traceType==="streamtube"&&(w.intensity=this.intensity[f[1]],w.velocity=this.vectors[f[1]].slice(0,3),w.divergence=this.vectors[f[1]][3],w.index=A),w},l.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function M(E,A){var f=r(E,A.meshShader.vertex,A.meshShader.fragment,null,A.meshShader.attributes);return f.attributes.position.location=0,f.attributes.color.location=2,f.attributes.uv.location=3,f.attributes.vector.location=4,f}function R(E,A){var f=r(E,A.pickShader.vertex,A.pickShader.fragment,null,A.pickShader.attributes);return f.attributes.position.location=0,f.attributes.id.location=1,f.attributes.vector.location=4,f}function T(E,A,f){var P=f.shaders;arguments.length===1&&(A=E,E=A.gl);var w=M(E,P),z=R(E,P),F=i(E,m(new Uint8Array([255,255,255,255]),[1,1,4]));F.generateMipmap(),F.minFilter=E.LINEAR_MIPMAP_LINEAR,F.magFilter=E.LINEAR;var H=u(E),_=u(E),B=u(E),N=u(E),O=u(E),U=n(E,[{buffer:H,type:E.FLOAT,size:4},{buffer:O,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:E.FLOAT,size:4},{buffer:N,type:E.FLOAT,size:2},{buffer:_,type:E.FLOAT,size:4}]),K=new v(E,F,w,z,H,_,O,B,N,U,f.traceType||"cone");return K.update(A),K}h.exports=T},7234:function(h,d,t){var r=t(6832),u=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),i=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:u,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},d.pickShader={vertex:i,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(h){h.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(h,d,t){var r=t(1950);h.exports=function(n){return r[n]}},3110:function(h,d,t){h.exports=v;var r=t(5827),u=t(2944),n=t(7667),i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(l,p,S,M){this.gl=l,this.shader=M,this.buffer=p,this.vao=S,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var o=s.prototype;o.isOpaque=function(){return!this.hasAlpha},o.isTransparent=function(){return this.hasAlpha},o.drawTransparent=o.draw=function(l){var p=this.gl,S=this.shader.uniforms;this.shader.bind();var M=S.view=l.view||i,R=S.projection=l.projection||i;S.model=l.model||i,S.clipBounds=this.clipBounds,S.opacity=this.opacity;var T=M[12],E=M[13],A=M[14],f=M[15],P=l._ortho||!1,w=P?2:1,z=w*this.pixelRatio*(R[3]*T+R[7]*E+R[11]*A+R[15]*f)/p.drawingBufferHeight;this.vao.bind();for(var F=0;F<3;++F)p.lineWidth(this.lineWidth[F]*this.pixelRatio),S.capSize=this.capSize[F]*z,this.lineCount[F]&&p.drawArrays(p.LINES,this.lineOffset[F],this.lineCount[F]);this.vao.unbind()};function m(l,p){for(var S=0;S<3;++S)l[0][S]=Math.min(l[0][S],p[S]),l[1][S]=Math.max(l[1][S],p[S])}var c=function(){for(var l=new Array(3),p=0;p<3;++p){for(var S=[],M=1;M<=2;++M)for(var R=-1;R<=1;R+=2){var T=(M+p)%3,E=[0,0,0];E[T]=R,S.push(E)}l[p]=S}return l}();function b(l,p,S,M){for(var R=c[M],T=0;T<R.length;++T){var E=R[T];l.push(p[0],p[1],p[2],S[0],S[1],S[2],S[3],E[0],E[1],E[2])}return R.length}o.update=function(l){l=l||{},"lineWidth"in l&&(this.lineWidth=l.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in l&&(this.capSize=l.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in l&&(this.opacity=+l.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=l.color||[[0,0,0],[0,0,0],[0,0,0]],S=l.position,M=l.error;if(Array.isArray(p[0])||(p=[p,p,p]),S&&M){var R=[],T=S.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var A=0;A<3;++A){this.lineOffset[A]=E;e:for(var f=0;f<T;++f){for(var P=S[f],w=0;w<3;++w)if(isNaN(P[w])||!isFinite(P[w]))continue e;var z=M[f],F=p[A];if(Array.isArray(F[0])&&(F=p[f]),F.length===3?F=[F[0],F[1],F[2],1]:F.length===4&&(F=[F[0],F[1],F[2],F[3]],!this.hasAlpha&&F[3]<1&&(this.hasAlpha=!0)),!(isNaN(z[0][A])||isNaN(z[1][A]))){if(z[0][A]<0){var H=P.slice();H[A]+=z[0][A],R.push(P[0],P[1],P[2],F[0],F[1],F[2],F[3],0,0,0,H[0],H[1],H[2],F[0],F[1],F[2],F[3],0,0,0),m(this.bounds,H),E+=2+b(R,H,F,A)}if(z[1][A]>0){var H=P.slice();H[A]+=z[1][A],R.push(P[0],P[1],P[2],F[0],F[1],F[2],F[3],0,0,0,H[0],H[1],H[2],F[0],F[1],F[2],F[3],0,0,0),m(this.bounds,H),E+=2+b(R,H,F,A)}}}this.lineCount[A]=E-this.lineOffset[A]}this.buffer.update(R)}},o.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function v(l){var p=l.gl,S=r(p),M=u(p,[{buffer:S,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:S,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:S,type:p.FLOAT,size:3,offset:28,stride:40}]),R=n(p);R.attributes.position.location=0,R.attributes.color.location=1,R.attributes.offset.location=2;var T=new s(p,S,M,R);return T.update(l),T}},7667:function(h,d,t){var r=t(6832),u=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),i=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);h.exports=function(s){return u(s,n,i,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(h,d,t){var r=t(8931);h.exports=E;var u=null,n,i,s,o;function m(A){var f=A.getParameter(A.FRAMEBUFFER_BINDING),P=A.getParameter(A.RENDERBUFFER_BINDING),w=A.getParameter(A.TEXTURE_BINDING_2D);return[f,P,w]}function c(A,f){A.bindFramebuffer(A.FRAMEBUFFER,f[0]),A.bindRenderbuffer(A.RENDERBUFFER,f[1]),A.bindTexture(A.TEXTURE_2D,f[2])}function b(A,f){var P=A.getParameter(f.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(P+1);for(var w=0;w<=P;++w){for(var z=new Array(P),F=0;F<w;++F)z[F]=A.COLOR_ATTACHMENT0+F;for(var F=w;F<P;++F)z[F]=A.NONE;u[w]=z}}function v(A){switch(A){case n:throw new Error("gl-fbo: Framebuffer unsupported");case i:throw new Error("gl-fbo: Framebuffer incomplete attachment");case s:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case o:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function l(A,f,P,w,z,F){if(!w)return null;var H=r(A,f,P,z,w);return H.magFilter=A.NEAREST,H.minFilter=A.NEAREST,H.mipSamples=1,H.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,F,A.TEXTURE_2D,H.handle,0),H}function p(A,f,P,w,z){var F=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,F),A.renderbufferStorage(A.RENDERBUFFER,w,f,P),A.framebufferRenderbuffer(A.FRAMEBUFFER,z,A.RENDERBUFFER,F),F}function S(A){var f=m(A.gl),P=A.gl,w=A.handle=P.createFramebuffer(),z=A._shape[0],F=A._shape[1],H=A.color.length,_=A._ext,B=A._useStencil,N=A._useDepth,O=A._colorType;P.bindFramebuffer(P.FRAMEBUFFER,w);for(var U=0;U<H;++U)A.color[U]=l(P,z,F,O,P.RGBA,P.COLOR_ATTACHMENT0+U);H===0?(A._color_rb=p(P,z,F,P.RGBA4,P.COLOR_ATTACHMENT0),_&&_.drawBuffersWEBGL(u[0])):H>1&&_.drawBuffersWEBGL(u[H]);var K=P.getExtension("WEBGL_depth_texture");K?B?A.depth=l(P,z,F,K.UNSIGNED_INT_24_8_WEBGL,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):N&&(A.depth=l(P,z,F,P.UNSIGNED_SHORT,P.DEPTH_COMPONENT,P.DEPTH_ATTACHMENT)):N&&B?A._depth_rb=p(P,z,F,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):N?A._depth_rb=p(P,z,F,P.DEPTH_COMPONENT16,P.DEPTH_ATTACHMENT):B&&(A._depth_rb=p(P,z,F,P.STENCIL_INDEX,P.STENCIL_ATTACHMENT));var re=P.checkFramebufferStatus(P.FRAMEBUFFER);if(re!==P.FRAMEBUFFER_COMPLETE){A._destroyed=!0,P.bindFramebuffer(P.FRAMEBUFFER,null),P.deleteFramebuffer(A.handle),A.handle=null,A.depth&&(A.depth.dispose(),A.depth=null),A._depth_rb&&(P.deleteRenderbuffer(A._depth_rb),A._depth_rb=null);for(var U=0;U<A.color.length;++U)A.color[U].dispose(),A.color[U]=null;A._color_rb&&(P.deleteRenderbuffer(A._color_rb),A._color_rb=null),c(P,f),v(re)}c(P,f)}function M(A,f,P,w,z,F,H,_){this.gl=A,this._shape=[f|0,P|0],this._destroyed=!1,this._ext=_,this.color=new Array(z);for(var B=0;B<z;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=F,this._useStencil=H;var N=this,O=[f|0,P|0];Object.defineProperties(O,{0:{get:function(){return N._shape[0]},set:function(U){return N.width=U}},1:{get:function(){return N._shape[1]},set:function(U){return N.height=U}}}),this._shapeVector=O,S(this)}var R=M.prototype;function T(A,f,P){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(A._shape[0]===f&&A._shape[1]===P)){var w=A.gl,z=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(f<0||f>z||P<0||P>z)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=f,A._shape[1]=P;for(var F=m(w),H=0;H<A.color.length;++H)A.color[H].shape=A._shape;A._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,A._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,A._shape[0],A._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,A.handle);var _=w.checkFramebufferStatus(w.FRAMEBUFFER);_!==w.FRAMEBUFFER_COMPLETE&&(A.dispose(),c(w,F),v(_)),c(w,F)}}Object.defineProperties(R,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[A|0,A|0]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var f=A[0]|0,P=A[1]|0;return T(this,f,P),[f,P]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return A=A|0,T(this,A,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A=A|0,T(this,this._shape[0],A),A},enumerable:!1}}),R.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},R.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(A,f,P,w){n||(n=A.FRAMEBUFFER_UNSUPPORTED,i=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,s=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,o=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var z=A.getExtension("WEBGL_draw_buffers");if(!u&&z&&b(A,z),Array.isArray(f)&&(w=P,P=f[1]|0,f=f[0]|0),typeof f!="number")throw new Error("gl-fbo: Missing shape parameter");var F=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(f<0||f>F||P<0||P>F)throw new Error("gl-fbo: Parameters are too large for FBO");w=w||{};var H=1;if("color"in w){if(H=Math.max(w.color|0,0),H<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(H>1)if(z){if(H>A.getParameter(z.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+H+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var _=A.UNSIGNED_BYTE,B=A.getExtension("OES_texture_float");if(w.float&&H>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");_=A.FLOAT}else w.preferFloat&&H>0&&B&&(_=A.FLOAT);var N=!0;"depth"in w&&(N=!!w.depth);var O=!1;return"stencil"in w&&(O=!!w.stencil),new M(A,f,P,_,H,N,O,z)}},3530:function(h,d,t){var r=t(8974).sprintf,u=t(6603),n=t(9365),i=t(8008);h.exports=s;function s(o,m,c){var b=n(m)||"of unknown name (see npm glsl-shader-name)",v="unknown type";c!==void 0&&(v=c===u.FRAGMENT_SHADER?"fragment":"vertex");for(var l=r(`Error compiling %s shader %s:
`,v,b),p=r("%s%s",l,o),S=o.split(`
`),M={},R=0;R<S.length;R++){var T=S[R];if(!(T===""||T==="\0")){var E=parseInt(T.split(":")[2]);if(isNaN(E))throw new Error(r("Could not parse error: %s",T));M[E]=T}}for(var A=i(m).split(`
`),R=0;R<A.length;R++)if(!(!M[R+3]&&!M[R+2]&&!M[R+1])){var f=A[R];if(l+=f+`
`,M[R+1]){var P=M[R+1];P=P.substr(P.split(":",3).join(":").length+1).trim(),l+=r(`^^^ %s

`,P)}}return{long:l.trim(),short:p.trim()}}},6386:function(h,d,t){h.exports=v;var r=t(5070),u=t(9560),n=t(5306),i=t(5158),s=t(5827),o=t(1292);function m(l,p,S,M,R,T,E){this.plot=l,this.shader=p,this.pickShader=S,this.positionBuffer=M,this.weightBuffer=R,this.colorBuffer=T,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=m.prototype,b=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var l=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,S=this.shader,M=this.bounds,R=this.numVertices;if(!(R<=0)){var T=p.gl,E=p.dataBox,A=M[2]-M[0],f=M[3]-M[1],P=E[2]-E[0],w=E[3]-E[1];l[0]=2*A/P,l[4]=2*f/w,l[6]=2*(M[0]-E[0])/P-1,l[7]=2*(M[1]-E[1])/w-1,S.bind();var z=S.uniforms;z.viewTransform=l,z.shape=this.shape;var F=S.attributes;this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(T.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),F.color.pointer(T.UNSIGNED_BYTE,!0),T.drawArrays(T.TRIANGLES,0,R)}}}(),c.drawPick=function(){var l=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(S){var M=this.plot,R=this.pickShader,T=this.bounds,E=this.numVertices;if(!(E<=0)){var A=M.gl,f=M.dataBox,P=T[2]-T[0],w=T[3]-T[1],z=f[2]-f[0],F=f[3]-f[1];l[0]=2*P/z,l[4]=2*w/F,l[6]=2*(T[0]-f[0])/z-1,l[7]=2*(T[1]-f[1])/F-1;for(var H=0;H<4;++H)p[H]=S>>H*8&255;this.pickOffset=S,R.bind();var _=R.uniforms;_.viewTransform=l,_.pickOffset=p,_.shape=this.shape;var B=R.attributes;return this.positionBuffer.bind(),B.position.pointer(),this.weightBuffer.bind(),B.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),B.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,E),S+this.shape[0]*this.shape[1]}}}(),c.pick=function(l,p,S){var M=this.pickOffset,R=this.shape[0]*this.shape[1];if(S<M||S>=M+R)return null;var T=S-M,E=this.xData,A=this.yData;return{object:this,pointId:T,dataCoord:[E[T%this.shape[0]],A[T/this.shape[0]|0]]}},c.update=function(l){l=l||{};var p=l.shape||[0,0],S=l.x||u(p[0]),M=l.y||u(p[1]),R=l.z||new Float32Array(p[0]*p[1]),T=l.zsmooth!==!1;this.xData=S,this.yData=M;var E=l.colorLevels||[0],A=l.colorValues||[0,0,0,1],f=E.length,P=this.bounds,w,z,F,H;T?(w=P[0]=S[0],z=P[1]=M[0],F=P[2]=S[S.length-1],H=P[3]=M[M.length-1]):(w=P[0]=S[0]+(S[1]-S[0])/2,z=P[1]=M[0]+(M[1]-M[0])/2,F=P[2]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2,H=P[3]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2);var _=1/(F-w),B=1/(H-z),N=p[0],O=p[1];this.shape=[N,O];var U=(T?(N-1)*(O-1):N*O)*(b.length>>>1);this.numVertices=U;for(var K=n.mallocUint8(U*4),re=n.mallocFloat32(U*2),ae=n.mallocUint8(U*2),ue=n.mallocUint32(U),ve=0,ee=T?N-1:N,J=T?O-1:O,Q=0;Q<J;++Q){var X,q;T?(X=B*(M[Q]-z),q=B*(M[Q+1]-z)):(X=Q<O-1?B*(M[Q]-(M[Q+1]-M[Q])/2-z):B*(M[Q]-(M[Q]-M[Q-1])/2-z),q=Q<O-1?B*(M[Q]+(M[Q+1]-M[Q])/2-z):B*(M[Q]+(M[Q]-M[Q-1])/2-z));for(var se=0;se<ee;++se){var Y,Z;T?(Y=_*(S[se]-w),Z=_*(S[se+1]-w)):(Y=se<N-1?_*(S[se]-(S[se+1]-S[se])/2-w):_*(S[se]-(S[se]-S[se-1])/2-w),Z=se<N-1?_*(S[se]+(S[se+1]-S[se])/2-w):_*(S[se]+(S[se]-S[se-1])/2-w));for(var ie=0;ie<b.length;ie+=2){var te=b[ie],fe=b[ie+1],de=T?(Q+fe)*N+(se+te):Q*N+se,we=R[de],Ae=r.le(E,we),Re,Fe,Se,Te;if(Ae<0)Re=A[0],Fe=A[1],Se=A[2],Te=A[3];else if(Ae===f-1)Re=A[4*f-4],Fe=A[4*f-3],Se=A[4*f-2],Te=A[4*f-1];else{var Ee=(we-E[Ae])/(E[Ae+1]-E[Ae]),Ne=1-Ee,He=4*Ae,_e=4*(Ae+1);Re=Ne*A[He]+Ee*A[_e],Fe=Ne*A[He+1]+Ee*A[_e+1],Se=Ne*A[He+2]+Ee*A[_e+2],Te=Ne*A[He+3]+Ee*A[_e+3]}K[4*ve]=255*Re,K[4*ve+1]=255*Fe,K[4*ve+2]=255*Se,K[4*ve+3]=255*Te,re[2*ve]=Y*.5+Z*.5,re[2*ve+1]=X*.5+q*.5,ae[2*ve]=te,ae[2*ve+1]=fe,ue[ve]=Q*N+se,ve+=1}}}this.positionBuffer.update(re),this.weightBuffer.update(ae),this.colorBuffer.update(K),this.idBuffer.update(ue),n.free(re),n.free(K),n.free(ae),n.free(ue)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function v(l,p){var S=l.gl,M=i(S,o.vertex,o.fragment),R=i(S,o.pickVertex,o.pickFragment),T=s(S),E=s(S),A=s(S),f=s(S),P=new m(l,M,R,T,E,A,f);return P.update(p),l.addObject(P),P}},1292:function(h,d,t){var r=t(6832);h.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(h,d,t){var r=t(6832),u=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),i=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),o=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];d.createShader=function(m){return u(m,n,i,null,o)},d.createPickShader=function(m){return u(m,n,s,null,o)}},6086:function(h,d,t){h.exports=A;var r=t(5827),u=t(2944),n=t(8931),i=new Uint8Array(4),s=new Float32Array(i.buffer);function o(f,P,w,z){return i[0]=z,i[1]=w,i[2]=P,i[3]=f,s[0]}var m=t(5070),c=t(5050),b=t(248),v=b.createShader,l=b.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function S(f,P){for(var w=0,z=0;z<3;++z){var F=f[z]-P[z];w+=F*F}return Math.sqrt(w)}function M(f){for(var P=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)P[0][w]=Math.max(f[0][w],P[0][w]),P[1][w]=Math.min(f[1][w],P[1][w]);return P}function R(f,P,w,z){this.arcLength=f,this.position=P,this.index=w,this.dataCoordinate=z}function T(f,P,w,z,F,H){this.gl=f,this.shader=P,this.pickShader=w,this.buffer=z,this.vao=F,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=H,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=T.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(f){this.pickId=f},E.drawTransparent=E.draw=function(f){if(this.vertexCount){var P=this.gl,w=this.shader,z=this.vao;w.bind(),w.uniforms={model:f.model||p,view:f.view||p,projection:f.projection||p,clipBounds:M(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(P.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.drawPick=function(f){if(this.vertexCount){var P=this.gl,w=this.pickShader,z=this.vao;w.bind(),w.uniforms={model:f.model||p,view:f.view||p,projection:f.projection||p,pickId:this.pickId,clipBounds:M(this.clipBounds),screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(P.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.update=function(f){var P,w;this.dirty=!0;var z=!!f.connectGaps;"dashScale"in f&&(this.dashScale=f.dashScale),this.hasAlpha=!1,"opacity"in f&&(this.opacity=+f.opacity,this.opacity<1&&(this.hasAlpha=!0));var F=[],H=[],_=[],B=0,N=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=f.position||f.positions;if(U){var K=f.color||f.colors||[0,0,0,1],re=f.lineWidth||1,ae=!1;e:for(P=1;P<U.length;++P){var ue=U[P-1],ve=U[P];for(H.push(B),_.push(ue.slice()),w=0;w<3;++w){if(isNaN(ue[w])||isNaN(ve[w])||!isFinite(ue[w])||!isFinite(ve[w])){if(!z&&F.length>0){for(var ee=0;ee<24;++ee)F.push(F[F.length-12]);N+=2,ae=!0}continue e}O[0][w]=Math.min(O[0][w],ue[w],ve[w]),O[1][w]=Math.max(O[1][w],ue[w],ve[w])}var J,Q;Array.isArray(K[0])?(J=K.length>P-1?K[P-1]:K.length>0?K[K.length-1]:[0,0,0,1],Q=K.length>P?K[P]:K.length>0?K[K.length-1]:[0,0,0,1]):J=Q=K,J.length===3&&(J=[J[0],J[1],J[2],1]),Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),!this.hasAlpha&&J[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(re)?X=re.length>P-1?re[P-1]:re.length>0?re[re.length-1]:[0,0,0,1]:X=re;var q=B;if(B+=S(ue,ve),ae){for(w=0;w<2;++w)F.push(ue[0],ue[1],ue[2],ve[0],ve[1],ve[2],q,X,J[0],J[1],J[2],J[3]);N+=2,ae=!1}F.push(ue[0],ue[1],ue[2],ve[0],ve[1],ve[2],q,X,J[0],J[1],J[2],J[3],ue[0],ue[1],ue[2],ve[0],ve[1],ve[2],q,-X,J[0],J[1],J[2],J[3],ve[0],ve[1],ve[2],ue[0],ue[1],ue[2],B,-X,Q[0],Q[1],Q[2],Q[3],ve[0],ve[1],ve[2],ue[0],ue[1],ue[2],B,X,Q[0],Q[1],Q[2],Q[3]),N+=4}}if(this.buffer.update(F),H.push(B),_.push(U[U.length-1].slice()),this.bounds=O,this.vertexCount=N,this.points=_,this.arcLength=H,"dashes"in f){var se=f.dashes,Y=se.slice();for(Y.unshift(0),P=1;P<Y.length;++P)Y[P]=Y[P-1]+Y[P];var Z=c(new Array(256*4),[256,1,4]);for(P=0;P<256;++P){for(w=0;w<4;++w)Z.set(P,0,w,0);m.le(Y,Y[Y.length-1]*P/255)&1?Z.set(P,0,0,0):Z.set(P,0,0,255)}this.texture.setPixels(Z)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(f){if(!f||f.id!==this.pickId)return null;var P=o(f.value[0],f.value[1],f.value[2],0),w=m.le(this.arcLength,P);if(w<0)return null;if(w===this.arcLength.length-1)return new R(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),w);for(var z=this.points[w],F=this.points[Math.min(w+1,this.points.length-1)],H=(P-this.arcLength[w])/(this.arcLength[w+1]-this.arcLength[w]),_=1-H,B=[0,0,0],N=0;N<3;++N)B[N]=_*z[N]+H*F[N];var O=Math.min(H<.5?w:w+1,this.points.length-1);return new R(P,B,O,this.points[O])};function A(f){var P=f.gl||f.scene&&f.scene.gl,w=v(P);w.attributes.position.location=0,w.attributes.nextPosition.location=1,w.attributes.arcLength.location=2,w.attributes.lineWidth.location=3,w.attributes.color.location=4;var z=l(P);z.attributes.position.location=0,z.attributes.nextPosition.location=1,z.attributes.arcLength.location=2,z.attributes.lineWidth.location=3,z.attributes.color.location=4;for(var F=r(P),H=u(P,[{buffer:F,size:3,offset:0,stride:48},{buffer:F,size:3,offset:12,stride:48},{buffer:F,size:1,offset:24,stride:48},{buffer:F,size:1,offset:28,stride:48},{buffer:F,size:4,offset:32,stride:48}]),_=c(new Array(256*4),[256,1,4]),B=0;B<1024;++B)_.data[B]=255;var N=n(P,_);N.wrap=P.REPEAT;var O=new T(P,w,z,F,H,N);return O.update(f),O}},7332:function(h){h.exports=d;function d(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(h){h.exports=d;function d(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(h){h.exports=d;function d(t){var r=t[0],u=t[1],n=t[2],i=t[3],s=t[4],o=t[5],m=t[6],c=t[7],b=t[8],v=t[9],l=t[10],p=t[11],S=t[12],M=t[13],R=t[14],T=t[15],E=r*o-u*s,A=r*m-n*s,f=r*c-i*s,P=u*m-n*o,w=u*c-i*o,z=n*c-i*m,F=b*M-v*S,H=b*R-l*S,_=b*T-p*S,B=v*R-l*M,N=v*T-p*M,O=l*T-p*R;return E*O-A*N+f*B+P*_-w*H+z*F}},5950:function(h){h.exports=d;function d(t,r){var u=r[0],n=r[1],i=r[2],s=r[3],o=u+u,m=n+n,c=i+i,b=u*o,v=n*o,l=n*m,p=i*o,S=i*m,M=i*c,R=s*o,T=s*m,E=s*c;return t[0]=1-l-M,t[1]=v+E,t[2]=p-T,t[3]=0,t[4]=v-E,t[5]=1-b-M,t[6]=S+R,t[7]=0,t[8]=p+T,t[9]=S-R,t[10]=1-b-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2],o=r[3],m=n+n,c=i+i,b=s+s,v=n*m,l=n*c,p=n*b,S=i*c,M=i*b,R=s*b,T=o*m,E=o*c,A=o*b;return t[0]=1-(S+R),t[1]=l+A,t[2]=p-E,t[3]=0,t[4]=l-A,t[5]=1-(v+R),t[6]=M+T,t[7]=0,t[8]=p+E,t[9]=M-T,t[10]=1-(v+S),t[11]=0,t[12]=u[0],t[13]=u[1],t[14]=u[2],t[15]=1,t}},9947:function(h){h.exports=d;function d(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(h){h.exports=d;function d(t,r){var u=r[0],n=r[1],i=r[2],s=r[3],o=r[4],m=r[5],c=r[6],b=r[7],v=r[8],l=r[9],p=r[10],S=r[11],M=r[12],R=r[13],T=r[14],E=r[15],A=u*m-n*o,f=u*c-i*o,P=u*b-s*o,w=n*c-i*m,z=n*b-s*m,F=i*b-s*c,H=v*R-l*M,_=v*T-p*M,B=v*E-S*M,N=l*T-p*R,O=l*E-S*R,U=p*E-S*T,K=A*U-f*O+P*N+w*B-z*_+F*H;return K?(K=1/K,t[0]=(m*U-c*O+b*N)*K,t[1]=(i*O-n*U-s*N)*K,t[2]=(R*F-T*z+E*w)*K,t[3]=(p*z-l*F-S*w)*K,t[4]=(c*B-o*U-b*_)*K,t[5]=(u*U-i*B+s*_)*K,t[6]=(T*P-M*F-E*f)*K,t[7]=(v*F-p*P+S*f)*K,t[8]=(o*O-m*B+b*H)*K,t[9]=(n*B-u*O-s*H)*K,t[10]=(M*z-R*P+E*A)*K,t[11]=(l*P-v*z-S*A)*K,t[12]=(m*_-o*N-c*H)*K,t[13]=(u*N-n*_+i*H)*K,t[14]=(R*f-M*w-T*A)*K,t[15]=(v*w-l*f+p*A)*K,t):null}},3012:function(h,d,t){var r=t(9947);h.exports=u;function u(n,i,s,o){var m,c,b,v,l,p,S,M,R,T,E=i[0],A=i[1],f=i[2],P=o[0],w=o[1],z=o[2],F=s[0],H=s[1],_=s[2];return Math.abs(E-F)<1e-6&&Math.abs(A-H)<1e-6&&Math.abs(f-_)<1e-6?r(n):(S=E-F,M=A-H,R=f-_,T=1/Math.sqrt(S*S+M*M+R*R),S*=T,M*=T,R*=T,m=w*R-z*M,c=z*S-P*R,b=P*M-w*S,T=Math.sqrt(m*m+c*c+b*b),T?(T=1/T,m*=T,c*=T,b*=T):(m=0,c=0,b=0),v=M*b-R*c,l=R*m-S*b,p=S*c-M*m,T=Math.sqrt(v*v+l*l+p*p),T?(T=1/T,v*=T,l*=T,p*=T):(v=0,l=0,p=0),n[0]=m,n[1]=v,n[2]=S,n[3]=0,n[4]=c,n[5]=l,n[6]=M,n[7]=0,n[8]=b,n[9]=p,n[10]=R,n[11]=0,n[12]=-(m*E+c*A+b*f),n[13]=-(v*E+l*A+p*f),n[14]=-(S*E+M*A+R*f),n[15]=1,n)}},104:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2],o=r[3],m=r[4],c=r[5],b=r[6],v=r[7],l=r[8],p=r[9],S=r[10],M=r[11],R=r[12],T=r[13],E=r[14],A=r[15],f=u[0],P=u[1],w=u[2],z=u[3];return t[0]=f*n+P*m+w*l+z*R,t[1]=f*i+P*c+w*p+z*T,t[2]=f*s+P*b+w*S+z*E,t[3]=f*o+P*v+w*M+z*A,f=u[4],P=u[5],w=u[6],z=u[7],t[4]=f*n+P*m+w*l+z*R,t[5]=f*i+P*c+w*p+z*T,t[6]=f*s+P*b+w*S+z*E,t[7]=f*o+P*v+w*M+z*A,f=u[8],P=u[9],w=u[10],z=u[11],t[8]=f*n+P*m+w*l+z*R,t[9]=f*i+P*c+w*p+z*T,t[10]=f*s+P*b+w*S+z*E,t[11]=f*o+P*v+w*M+z*A,f=u[12],P=u[13],w=u[14],z=u[15],t[12]=f*n+P*m+w*l+z*R,t[13]=f*i+P*c+w*p+z*T,t[14]=f*s+P*b+w*S+z*E,t[15]=f*o+P*v+w*M+z*A,t}},5268:function(h){h.exports=d;function d(t,r,u,n,i,s,o){var m=1/(r-u),c=1/(n-i),b=1/(s-o);return t[0]=-2*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*b,t[11]=0,t[12]=(r+u)*m,t[13]=(i+n)*c,t[14]=(o+s)*b,t[15]=1,t}},1120:function(h){h.exports=d;function d(t,r,u,n,i){var s=1/Math.tan(r/2),o=1/(n-i);return t[0]=s/u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*o,t[15]=0,t}},4422:function(h){h.exports=d;function d(t,r,u,n){var i=n[0],s=n[1],o=n[2],m=Math.sqrt(i*i+s*s+o*o),c,b,v,l,p,S,M,R,T,E,A,f,P,w,z,F,H,_,B,N,O,U,K,re;return Math.abs(m)<1e-6?null:(m=1/m,i*=m,s*=m,o*=m,c=Math.sin(u),b=Math.cos(u),v=1-b,l=r[0],p=r[1],S=r[2],M=r[3],R=r[4],T=r[5],E=r[6],A=r[7],f=r[8],P=r[9],w=r[10],z=r[11],F=i*i*v+b,H=s*i*v+o*c,_=o*i*v-s*c,B=i*s*v-o*c,N=s*s*v+b,O=o*s*v+i*c,U=i*o*v+s*c,K=s*o*v-i*c,re=o*o*v+b,t[0]=l*F+R*H+f*_,t[1]=p*F+T*H+P*_,t[2]=S*F+E*H+w*_,t[3]=M*F+A*H+z*_,t[4]=l*B+R*N+f*O,t[5]=p*B+T*N+P*O,t[6]=S*B+E*N+w*O,t[7]=M*B+A*N+z*O,t[8]=l*U+R*K+f*re,t[9]=p*U+T*K+P*re,t[10]=S*U+E*K+w*re,t[11]=M*U+A*K+z*re,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(h){h.exports=d;function d(t,r,u){var n=Math.sin(u),i=Math.cos(u),s=r[4],o=r[5],m=r[6],c=r[7],b=r[8],v=r[9],l=r[10],p=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=s*i+b*n,t[5]=o*i+v*n,t[6]=m*i+l*n,t[7]=c*i+p*n,t[8]=b*i-s*n,t[9]=v*i-o*n,t[10]=l*i-m*n,t[11]=p*i-c*n,t}},7115:function(h){h.exports=d;function d(t,r,u){var n=Math.sin(u),i=Math.cos(u),s=r[0],o=r[1],m=r[2],c=r[3],b=r[8],v=r[9],l=r[10],p=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=s*i-b*n,t[1]=o*i-v*n,t[2]=m*i-l*n,t[3]=c*i-p*n,t[8]=s*n+b*i,t[9]=o*n+v*i,t[10]=m*n+l*i,t[11]=c*n+p*i,t}},5240:function(h){h.exports=d;function d(t,r,u){var n=Math.sin(u),i=Math.cos(u),s=r[0],o=r[1],m=r[2],c=r[3],b=r[4],v=r[5],l=r[6],p=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=s*i+b*n,t[1]=o*i+v*n,t[2]=m*i+l*n,t[3]=c*i+p*n,t[4]=b*i-s*n,t[5]=v*i-o*n,t[6]=l*i-m*n,t[7]=p*i-c*n,t}},3668:function(h){h.exports=d;function d(t,r,u){var n=u[0],i=u[1],s=u[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=r[11]*s,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(h){h.exports=d;function d(t,r,u){var n=u[0],i=u[1],s=u[2],o,m,c,b,v,l,p,S,M,R,T,E;return r===t?(t[12]=r[0]*n+r[4]*i+r[8]*s+r[12],t[13]=r[1]*n+r[5]*i+r[9]*s+r[13],t[14]=r[2]*n+r[6]*i+r[10]*s+r[14],t[15]=r[3]*n+r[7]*i+r[11]*s+r[15]):(o=r[0],m=r[1],c=r[2],b=r[3],v=r[4],l=r[5],p=r[6],S=r[7],M=r[8],R=r[9],T=r[10],E=r[11],t[0]=o,t[1]=m,t[2]=c,t[3]=b,t[4]=v,t[5]=l,t[6]=p,t[7]=S,t[8]=M,t[9]=R,t[10]=T,t[11]=E,t[12]=o*n+v*i+M*s+r[12],t[13]=m*n+l*i+R*s+r[13],t[14]=c*n+p*i+T*s+r[14],t[15]=b*n+S*i+E*s+r[15]),t}},2142:function(h){h.exports=d;function d(t,r){if(t===r){var u=r[1],n=r[2],i=r[3],s=r[6],o=r[7],m=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=u,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=s,t[11]=r[14],t[12]=i,t[13]=o,t[14]=m}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(h,d,t){var r=t(957),u=t(7309);h.exports=m;function n(c,b){for(var v=[0,0,0,0],l=0;l<4;++l)for(var p=0;p<4;++p)v[p]+=c[4*l+p]*b[l];return v}function i(c,b,v,l,p){for(var S=n(l,n(v,n(b,[c[0],c[1],c[2],1]))),M=0;M<3;++M)S[M]/=S[3];return[.5*p[0]*(1+S[0]),.5*p[1]*(1-S[1])]}function s(c,b){if(c.length===2){for(var v=0,l=0,p=0;p<2;++p)v+=Math.pow(b[p]-c[0][p],2),l+=Math.pow(b[p]-c[1][p],2);return v=Math.sqrt(v),l=Math.sqrt(l),v+l<1e-6?[1,0]:[l/(v+l),v/(l+v)]}else if(c.length===3){var S=[0,0];return u(c[0],c[1],c[2],b,S),r(c,S)}return[]}function o(c,b){for(var v=[0,0,0],l=0;l<c.length;++l)for(var p=c[l],S=b[l],M=0;M<3;++M)v[M]+=S*p[M];return v}function m(c,b,v,l,p,S){if(c.length===1)return[0,c[0].slice()];for(var M=new Array(c.length),R=0;R<c.length;++R)M[R]=i(c[R],v,l,p,S);for(var T=0,E=1/0,R=0;R<M.length;++R){for(var A=0,f=0;f<2;++f)A+=Math.pow(M[R][f]-b[f],2);A<E&&(E=A,T=R)}for(var P=s(M,b),w=0,R=0;R<3;++R){if(P[R]<-.001||P[R]>1.0001)return null;w+=P[R]}return Math.abs(w-1)>.001?null:[T,o(c,P),P]}},2056:function(h,d,t){var r=t(6832),u=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),i=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),b=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),v=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);d.meshShader={vertex:u,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.wireShader={vertex:i,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.pointShader={vertex:o,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},d.pickShader={vertex:c,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},d.pointPickShader={vertex:v,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},d.contourShader={vertex:l,fragment:p,attributes:[{name:"position",type:"vec3"}]}},8116:function(h,d,t){var r=1e-6,u=1e-6,n=t(5158),i=t(5827),s=t(2944),o=t(8931),m=t(115),c=t(104),b=t(7437),v=t(5050),l=t(9156),p=t(7212),S=t(5306),M=t(2056),R=t(4340),T=M.meshShader,E=M.wireShader,A=M.pointShader,f=M.pickShader,P=M.pointPickShader,w=M.contourShader,z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function F(ee,J,Q,X,q,se,Y,Z,ie,te,fe,de,we,Ae,Re,Fe,Se,Te,Ee,Ne,He,_e,We,tt,Ke,qe,rt){this.gl=ee,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=J,this.dirty=!0,this.triShader=Q,this.lineShader=X,this.pointShader=q,this.pickShader=se,this.pointPickShader=Y,this.contourShader=Z,this.trianglePositions=ie,this.triangleColors=fe,this.triangleNormals=we,this.triangleUVs=de,this.triangleIds=te,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Re,this.edgeColors=Se,this.edgeUVs=Te,this.edgeIds=Fe,this.edgeVAO=Ee,this.edgeCount=0,this.pointPositions=Ne,this.pointColors=_e,this.pointUVs=We,this.pointSizes=tt,this.pointIds=He,this.pointVAO=Ke,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=qe,this.contourVAO=rt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=z,this._view=z,this._projection=z,this._resolution=[1,1]}var H=F.prototype;H.isOpaque=function(){return!this.hasAlpha},H.isTransparent=function(){return this.hasAlpha},H.pickSlots=1,H.setPickBase=function(ee){this.pickId=ee};function _(ee,J){if(!J||!J.length)return 1;for(var Q=0;Q<J.length;++Q){if(J.length<2)return 1;if(J[Q][0]===ee)return J[Q][1];if(J[Q][0]>ee&&Q>0){var X=(J[Q][0]-ee)/(J[Q][0]-J[Q-1][0]);return J[Q][1]*(1-X)+X*J[Q-1][1]}}return 1}function B(ee,J){for(var Q=l({colormap:ee,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),q=0;q<256;++q){for(var se=Q[q],Y=0;Y<3;++Y)X[4*q+Y]=se[Y];J?X[4*q+3]=255*_(q/255,J):X[4*q+3]=255*se[3]}return v(X,[256,256,4],[4,0,1])}function N(ee){for(var J=ee.length,Q=new Array(J),X=0;X<J;++X)Q[X]=ee[X][2];return Q}H.highlight=function(ee){if(!ee||!this.contourEnable){this.contourCount=0;return}for(var J=p(this.cells,this.intensity,ee.intensity),Q=J.cells,X=J.vertexIds,q=J.vertexWeights,se=Q.length,Y=S.mallocFloat32(2*3*se),Z=0,ie=0;ie<se;++ie)for(var te=Q[ie],fe=0;fe<2;++fe){var de=te[0];te.length===2&&(de=te[fe]);for(var we=X[de][0],Ae=X[de][1],Re=q[de],Fe=1-Re,Se=this.positions[we],Te=this.positions[Ae],Ee=0;Ee<3;++Ee)Y[Z++]=Re*Se[Ee]+Fe*Te[Ee]}this.contourCount=Z/3|0,this.contourPositions.update(Y.subarray(0,Z)),S.free(Y)},H.update=function(ee){ee=ee||{};var J=this.gl;this.dirty=!0,"contourEnable"in ee&&(this.contourEnable=ee.contourEnable),"contourColor"in ee&&(this.contourColor=ee.contourColor),"lineWidth"in ee&&(this.lineWidth=ee.lineWidth),"lightPosition"in ee&&(this.lightPosition=ee.lightPosition),this.hasAlpha=!1,"opacity"in ee&&(this.opacity=ee.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in ee&&(this.opacityscale=ee.opacityscale,this.hasAlpha=!0),"ambient"in ee&&(this.ambientLight=ee.ambient),"diffuse"in ee&&(this.diffuseLight=ee.diffuse),"specular"in ee&&(this.specularLight=ee.specular),"roughness"in ee&&(this.roughness=ee.roughness),"fresnel"in ee&&(this.fresnel=ee.fresnel),ee.texture?(this.texture.dispose(),this.texture=o(J,ee.texture)):ee.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=J.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=J.LINEAR,this.texture.setPixels(B(ee.colormap,this.opacityscale)),this.texture.generateMipmap());var Q=ee.cells,X=ee.positions;if(!(!X||!Q)){var q=[],se=[],Y=[],Z=[],ie=[],te=[],fe=[],de=[],we=[],Ae=[],Re=[],Fe=[],Se=[],Te=[];this.cells=Q,this.positions=X;var Ee=ee.vertexNormals,Ne=ee.cellNormals,He=ee.vertexNormalsEpsilon===void 0?r:ee.vertexNormalsEpsilon,_e=ee.faceNormalsEpsilon===void 0?u:ee.faceNormalsEpsilon;ee.useFacetNormals&&!Ne&&(Ne=m.faceNormals(Q,X,_e)),!Ne&&!Ee&&(Ee=m.vertexNormals(Q,X,He));var We=ee.vertexColors,tt=ee.cellColors,Ke=ee.meshColor||[1,1,1,1],qe=ee.vertexUVs,rt=ee.vertexIntensity,ft=ee.cellUVs,pt=ee.cellIntensity,gt=1/0,Mt=-1/0;if(!qe&&!ft)if(rt)if(ee.vertexIntensityBounds)gt=+ee.vertexIntensityBounds[0],Mt=+ee.vertexIntensityBounds[1];else for(var Lt=0;Lt<rt.length;++Lt){var Wt=rt[Lt];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}else if(pt)if(ee.cellIntensityBounds)gt=+ee.cellIntensityBounds[0],Mt=+ee.cellIntensityBounds[1];else for(var Lt=0;Lt<pt.length;++Lt){var Wt=pt[Lt];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}else for(var Lt=0;Lt<X.length;++Lt){var Wt=X[Lt][2];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}rt?this.intensity=rt:pt?this.intensity=pt:this.intensity=N(X),this.pickVertex=!(pt||tt);var Je=ee.pointSizes,ze=ee.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Lt=0;Lt<X.length;++Lt)for(var Oe=X[Lt],Ue=0;Ue<3;++Ue)isNaN(Oe[Ue])||!isFinite(Oe[Ue])||(this.bounds[0][Ue]=Math.min(this.bounds[0][Ue],Oe[Ue]),this.bounds[1][Ue]=Math.max(this.bounds[1][Ue],Oe[Ue]));var ke=0,Me=0,ce=0;e:for(var Lt=0;Lt<Q.length;++Lt){var be=Q[Lt];switch(be.length){case 1:for(var De=be[0],Oe=X[De],Ue=0;Ue<3;++Ue)if(isNaN(Oe[Ue])||!isFinite(Oe[Ue]))continue e;Ae.push(Oe[0],Oe[1],Oe[2]);var Ve;We?Ve=We[De]:tt?Ve=tt[Lt]:Ve=Ke,this.opacityscale&&rt?se.push(Ve[0],Ve[1],Ve[2],this.opacity*_((rt[De]-gt)/(Mt-gt),this.opacityscale)):Ve.length===3?Re.push(Ve[0],Ve[1],Ve[2],this.opacity):(Re.push(Ve[0],Ve[1],Ve[2],Ve[3]*this.opacity),Ve[3]<1&&(this.hasAlpha=!0));var it;qe?it=qe[De]:rt?it=[(rt[De]-gt)/(Mt-gt),0]:ft?it=ft[Lt]:pt?it=[(pt[Lt]-gt)/(Mt-gt),0]:it=[(Oe[2]-gt)/(Mt-gt),0],Fe.push(it[0],it[1]),Je?Se.push(Je[De]):Se.push(ze),Te.push(Lt),ce+=1;break;case 2:for(var Ue=0;Ue<2;++Ue)for(var De=be[Ue],Oe=X[De],ot=0;ot<3;++ot)if(isNaN(Oe[ot])||!isFinite(Oe[ot]))continue e;for(var Ue=0;Ue<2;++Ue){var De=be[Ue],Oe=X[De];te.push(Oe[0],Oe[1],Oe[2]);var Ve;We?Ve=We[De]:tt?Ve=tt[Lt]:Ve=Ke,this.opacityscale&&rt?se.push(Ve[0],Ve[1],Ve[2],this.opacity*_((rt[De]-gt)/(Mt-gt),this.opacityscale)):Ve.length===3?fe.push(Ve[0],Ve[1],Ve[2],this.opacity):(fe.push(Ve[0],Ve[1],Ve[2],Ve[3]*this.opacity),Ve[3]<1&&(this.hasAlpha=!0));var it;qe?it=qe[De]:rt?it=[(rt[De]-gt)/(Mt-gt),0]:ft?it=ft[Lt]:pt?it=[(pt[Lt]-gt)/(Mt-gt),0]:it=[(Oe[2]-gt)/(Mt-gt),0],de.push(it[0],it[1]),we.push(Lt)}Me+=1;break;case 3:for(var Ue=0;Ue<3;++Ue)for(var De=be[Ue],Oe=X[De],ot=0;ot<3;++ot)if(isNaN(Oe[ot])||!isFinite(Oe[ot]))continue e;for(var Ue=0;Ue<3;++Ue){var De=be[2-Ue],Oe=X[De];q.push(Oe[0],Oe[1],Oe[2]);var Ve;We?Ve=We[De]:tt?Ve=tt[Lt]:Ve=Ke,Ve?this.opacityscale&&rt?se.push(Ve[0],Ve[1],Ve[2],this.opacity*_((rt[De]-gt)/(Mt-gt),this.opacityscale)):Ve.length===3?se.push(Ve[0],Ve[1],Ve[2],this.opacity):(se.push(Ve[0],Ve[1],Ve[2],Ve[3]*this.opacity),Ve[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var it;qe?it=qe[De]:rt?it=[(rt[De]-gt)/(Mt-gt),0]:ft?it=ft[Lt]:pt?it=[(pt[Lt]-gt)/(Mt-gt),0]:it=[(Oe[2]-gt)/(Mt-gt),0],Z.push(it[0],it[1]);var Tt;Ee?Tt=Ee[De]:Tt=Ne[Lt],Y.push(Tt[0],Tt[1],Tt[2]),ie.push(Lt)}ke+=1;break}}this.pointCount=ce,this.edgeCount=Me,this.triangleCount=ke,this.pointPositions.update(Ae),this.pointColors.update(Re),this.pointUVs.update(Fe),this.pointSizes.update(Se),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(te),this.edgeColors.update(fe),this.edgeUVs.update(de),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update(q),this.triangleColors.update(se),this.triangleUVs.update(Z),this.triangleNormals.update(Y),this.triangleIds.update(new Uint32Array(ie))}},H.drawTransparent=H.draw=function(ee){ee=ee||{};for(var J=this.gl,Q=ee.model||z,X=ee.view||z,q=ee.projection||z,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Y=0;Y<3;++Y)se[0][Y]=Math.max(se[0][Y],this.clipBounds[0][Y]),se[1][Y]=Math.min(se[1][Y],this.clipBounds[1][Y]);var Z={model:Q,view:X,projection:q,inverseModel:z.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};Z.inverseModel=b(Z.inverseModel,Z.model),J.disable(J.CULL_FACE),this.texture.bind(0);var ie=new Array(16);c(ie,Z.view,Z.model),c(ie,Z.projection,ie),b(ie,ie);for(var Y=0;Y<3;++Y)Z.eyePosition[Y]=ie[12+Y]/ie[15];for(var te=ie[15],Y=0;Y<3;++Y)te+=this.lightPosition[Y]*ie[4*Y+3];for(var Y=0;Y<3;++Y){for(var fe=ie[12+Y],de=0;de<3;++de)fe+=ie[4*de+Y]*this.lightPosition[de];Z.lightPosition[Y]=fe/te}if(this.triangleCount>0){var we=this.triShader;we.bind(),we.uniforms=Z,this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var we=this.lineShader;we.bind(),we.uniforms=Z,this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var we=this.pointShader;we.bind(),we.uniforms=Z,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var we=this.contourShader;we.bind(),we.uniforms=Z,this.contourVAO.bind(),J.drawArrays(J.LINES,0,this.contourCount),this.contourVAO.unbind()}},H.drawPick=function(ee){ee=ee||{};for(var J=this.gl,Q=ee.model||z,X=ee.view||z,q=ee.projection||z,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Y=0;Y<3;++Y)se[0][Y]=Math.max(se[0][Y],this.clipBounds[0][Y]),se[1][Y]=Math.min(se[1][Y],this.clipBounds[1][Y]);this._model=[].slice.call(Q),this._view=[].slice.call(X),this._projection=[].slice.call(q),this._resolution=[J.drawingBufferWidth,J.drawingBufferHeight];var Z={model:Q,view:X,projection:q,clipBounds:se,pickId:this.pickId/255},ie=this.pickShader;if(ie.bind(),ie.uniforms=Z,this.triangleCount>0&&(this.triangleVAO.bind(),J.drawArrays(J.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),J.lineWidth(this.lineWidth*this.pixelRatio),J.drawArrays(J.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ie=this.pointPickShader;ie.bind(),ie.uniforms=Z,this.pointVAO.bind(),J.drawArrays(J.POINTS,0,this.pointCount),this.pointVAO.unbind()}},H.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;for(var J=ee.value[0]+256*ee.value[1]+65536*ee.value[2],Q=this.cells[J],X=this.positions,q=new Array(Q.length),se=0;se<Q.length;++se)q[se]=X[Q[se]];var Y=ee.coord[0],Z=ee.coord[1];if(!this.pickVertex){var ie=this.positions[Q[0]],te=this.positions[Q[1]],fe=this.positions[Q[2]],de=[(ie[0]+te[0]+fe[0])/3,(ie[1]+te[1]+fe[1])/3,(ie[2]+te[2]+fe[2])/3];return{_cellCenter:!0,position:[Y,Z],index:J,cell:Q,cellId:J,intensity:this.intensity[J],dataCoordinate:de}}var we=R(q,[Y*this.pixelRatio,this._resolution[1]-Z*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;for(var Ae=we[2],Re=0,se=0;se<Q.length;++se)Re+=Ae[se]*this.intensity[Q[se]];return{position:we[1],index:Q[we[0]],cell:Q,cellId:J,intensity:Re,dataCoordinate:this.positions[Q[we[0]]]}},H.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function O(ee){var J=n(ee,T.vertex,T.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.normal.location=4,J}function U(ee){var J=n(ee,E.vertex,E.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J}function K(ee){var J=n(ee,A.vertex,A.fragment);return J.attributes.position.location=0,J.attributes.color.location=2,J.attributes.uv.location=3,J.attributes.pointSize.location=4,J}function re(ee){var J=n(ee,f.vertex,f.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J}function ae(ee){var J=n(ee,P.vertex,P.fragment);return J.attributes.position.location=0,J.attributes.id.location=1,J.attributes.pointSize.location=4,J}function ue(ee){var J=n(ee,w.vertex,w.fragment);return J.attributes.position.location=0,J}function ve(ee,J){arguments.length===1&&(J=ee,ee=J.gl);var Q=ee.getExtension("OES_standard_derivatives")||ee.getExtension("MOZ_OES_standard_derivatives")||ee.getExtension("WEBKIT_OES_standard_derivatives");if(!Q)throw new Error("derivatives not supported");var X=O(ee),q=U(ee),se=K(ee),Y=re(ee),Z=ae(ee),ie=ue(ee),te=o(ee,v(new Uint8Array([255,255,255,255]),[1,1,4]));te.generateMipmap(),te.minFilter=ee.LINEAR_MIPMAP_LINEAR,te.magFilter=ee.LINEAR;var fe=i(ee),de=i(ee),we=i(ee),Ae=i(ee),Re=i(ee),Fe=s(ee,[{buffer:fe,type:ee.FLOAT,size:3},{buffer:Re,type:ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:de,type:ee.FLOAT,size:4},{buffer:we,type:ee.FLOAT,size:2},{buffer:Ae,type:ee.FLOAT,size:3}]),Se=i(ee),Te=i(ee),Ee=i(ee),Ne=i(ee),He=s(ee,[{buffer:Se,type:ee.FLOAT,size:3},{buffer:Ne,type:ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Te,type:ee.FLOAT,size:4},{buffer:Ee,type:ee.FLOAT,size:2}]),_e=i(ee),We=i(ee),tt=i(ee),Ke=i(ee),qe=i(ee),rt=s(ee,[{buffer:_e,type:ee.FLOAT,size:3},{buffer:qe,type:ee.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:We,type:ee.FLOAT,size:4},{buffer:tt,type:ee.FLOAT,size:2},{buffer:Ke,type:ee.FLOAT,size:1}]),ft=i(ee),pt=s(ee,[{buffer:ft,type:ee.FLOAT,size:3}]),gt=new F(ee,te,X,q,se,Y,Z,ie,fe,Re,de,we,Ae,Fe,Se,Ne,Te,Ee,He,_e,qe,We,tt,Ke,rt,ft,pt);return gt.update(J),gt}h.exports=ve},4554:function(h,d,t){h.exports=o;var r=t(5827),u=t(5158),n=t(2709);function i(m,c,b){this.plot=m,this.vbo=c,this.shader=b}var s=i.prototype;s.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},s.drawBox=function(){var m=[0,0],c=[0,0];return function(b,v,l,p,S){var M=this.plot,R=this.shader,T=M.gl;m[0]=b,m[1]=v,c[0]=l,c[1]=p,R.uniforms.lo=m,R.uniforms.hi=c,R.uniforms.color=S,T.drawArrays(T.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function o(m){var c=m.gl,b=r(c,[0,0,0,1,1,0,1,1]),v=u(c,n.boxVert,n.lineFrag);return new i(m,b,v)}},3016:function(h,d,t){h.exports=c;var r=t(5827),u=t(5158),n=t(5070),i=t(2709);function s(b,v,l,p){this.plot=b,this.vbo=v,this.shader=l,this.tickShader=p,this.ticks=[[],[]]}function o(b,v){return b-v}var m=s.prototype;m.draw=function(){var b=[0,0],v=[0,0],l=[0,0];return function(){for(var p=this.plot,S=this.vbo,M=this.shader,R=this.ticks,T=p.gl,E=p._tickBounds,A=p.dataBox,f=p.viewBox,P=p.gridLineWidth,w=p.gridLineColor,z=p.gridLineEnable,F=p.pixelRatio,H=0;H<2;++H){var _=E[H],B=E[H+2],N=B-_,O=.5*(A[H+2]+A[H]),U=A[H+2]-A[H];v[H]=2*N/U,b[H]=2*(_-O)/U}M.bind(),S.bind(),M.attributes.dataCoord.pointer(),M.uniforms.dataShift=b,M.uniforms.dataScale=v;for(var K=0,H=0;H<2;++H){l[0]=l[1]=0,l[H]=1,M.uniforms.dataAxis=l,M.uniforms.lineWidth=P[H]/(f[H+2]-f[H])*F,M.uniforms.color=w[H];var re=R[H].length*6;z[H]&&re&&T.drawArrays(T.TRIANGLES,K,re),K+=re}}}(),m.drawTickMarks=function(){var b=[0,0],v=[0,0],l=[1,0],p=[0,1],S=[0,0],M=[0,0];return function(){for(var R=this.plot,T=this.vbo,E=this.tickShader,A=this.ticks,f=R.gl,P=R._tickBounds,w=R.dataBox,z=R.viewBox,F=R.pixelRatio,H=R.screenBox,_=H[2]-H[0],B=H[3]-H[1],N=z[2]-z[0],O=z[3]-z[1],U=0;U<2;++U){var K=P[U],re=P[U+2],ae=re-K,ue=.5*(w[U+2]+w[U]),ve=w[U+2]-w[U];v[U]=2*ae/ve,b[U]=2*(K-ue)/ve}v[0]*=N/_,b[0]*=N/_,v[1]*=O/B,b[1]*=O/B,E.bind(),T.bind(),E.attributes.dataCoord.pointer();var ee=E.uniforms;ee.dataShift=b,ee.dataScale=v;var J=R.tickMarkLength,Q=R.tickMarkWidth,X=R.tickMarkColor,q=0,se=A[0].length*6,Y=Math.min(n.ge(A[0],(w[0]-P[0])/(P[2]-P[0]),o),A[0].length),Z=Math.min(n.gt(A[0],(w[2]-P[0])/(P[2]-P[0]),o),A[0].length),ie=q+6*Y,te=6*Math.max(0,Z-Y),fe=Math.min(n.ge(A[1],(w[1]-P[1])/(P[3]-P[1]),o),A[1].length),de=Math.min(n.gt(A[1],(w[3]-P[1])/(P[3]-P[1]),o),A[1].length),we=se+6*fe,Ae=6*Math.max(0,de-fe);S[0]=2*(z[0]-J[1])/_-1,S[1]=(z[3]+z[1])/B-1,M[0]=J[1]*F/_,M[1]=Q[1]*F/B,Ae&&(ee.color=X[1],ee.tickScale=M,ee.dataAxis=p,ee.screenOffset=S,f.drawArrays(f.TRIANGLES,we,Ae)),S[0]=(z[2]+z[0])/_-1,S[1]=2*(z[1]-J[0])/B-1,M[0]=Q[0]*F/_,M[1]=J[0]*F/B,te&&(ee.color=X[0],ee.tickScale=M,ee.dataAxis=l,ee.screenOffset=S,f.drawArrays(f.TRIANGLES,ie,te)),S[0]=2*(z[2]+J[3])/_-1,S[1]=(z[3]+z[1])/B-1,M[0]=J[3]*F/_,M[1]=Q[3]*F/B,Ae&&(ee.color=X[3],ee.tickScale=M,ee.dataAxis=p,ee.screenOffset=S,f.drawArrays(f.TRIANGLES,we,Ae)),S[0]=(z[2]+z[0])/_-1,S[1]=2*(z[3]+J[2])/B-1,M[0]=Q[2]*F/_,M[1]=J[2]*F/B,te&&(ee.color=X[2],ee.tickScale=M,ee.dataAxis=l,ee.screenOffset=S,f.drawArrays(f.TRIANGLES,ie,te))}}(),m.update=function(){var b=[1,1,-1,-1,1,-1],v=[1,-1,1,1,-1,-1];return function(l){var p=l.ticks,S=l.bounds,M=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var R=0,T=[[],[]],E=0;E<2;++E)for(var A=T[E],f=p[E],P=S[E],w=S[E+2],z=0;z<f.length;++z){var F=(f[z].x-P)/(w-P);A.push(F);for(var H=0;H<6;++H)M[R++]=F,M[R++]=b[H],M[R++]=v[H]}this.ticks=T,this.vbo.update(M)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(b){var v=b.gl,l=r(v),p=u(v,i.gridVert,i.gridFrag),S=u(v,i.tickVert,i.gridFrag),M=new s(b,l,p,S);return M}},1154:function(h,d,t){h.exports=o;var r=t(5827),u=t(5158),n=t(2709);function i(m,c,b){this.plot=m,this.vbo=c,this.shader=b}var s=i.prototype;s.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},s.drawLine=function(){var m=[0,0],c=[0,0];return function(b,v,l,p,S,M){var R=this.plot,T=this.shader,E=R.gl;m[0]=b,m[1]=v,c[0]=l,c[1]=p,T.uniforms.start=m,T.uniforms.end=c,T.uniforms.width=S*R.pixelRatio,T.uniforms.color=M,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function o(m){var c=m.gl,b=r(c,[-1,-1,-1,1,1,-1,1,1]),v=u(c,n.lineVert,n.lineFrag),l=new i(m,b,v);return l}},2709:function(h,d,t){var r=t(6832),u=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);h.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:u,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:u,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:u,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(h,d,t){h.exports=c;var r=t(5827),u=t(5158),n=t(6946),i=t(5070),s=t(2709);function o(b,v,l){this.plot=b,this.vbo=v,this.shader=l,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=o.prototype;m.drawTicks=function(){var b=[0,0],v=[0,0],l=[0,0];return function(p){var S=this.plot,M=this.shader,R=this.tickX[p],T=this.tickOffset[p],E=S.gl,A=S.viewBox,f=S.dataBox,P=S.screenBox,w=S.pixelRatio,z=S.tickEnable,F=S.tickPad,H=S.tickColor,_=S.tickAngle,B=S.labelEnable,N=S.labelPad,O=S.labelColor,U=S.labelAngle,K=this.labelOffset[p],re=this.labelCount[p],ae=i.lt(R,f[p]),ue=i.le(R,f[p+2]);b[0]=b[1]=0,b[p]=1,v[p]=(A[2+p]+A[p])/(P[2+p]-P[p])-1;var ve=2/P[2+(p^1)]-P[p^1];v[p^1]=ve*A[p^1]-1,z[p]&&(v[p^1]-=ve*w*F[p],ae<ue&&T[ue]>T[ae]&&(M.uniforms.dataAxis=b,M.uniforms.screenOffset=v,M.uniforms.color=H[p],M.uniforms.angle=_[p],E.drawArrays(E.TRIANGLES,T[ae],T[ue]-T[ae]))),B[p]&&re&&(v[p^1]-=ve*w*N[p],M.uniforms.dataAxis=l,M.uniforms.screenOffset=v,M.uniforms.color=O[p],M.uniforms.angle=U[p],E.drawArrays(E.TRIANGLES,K,re)),v[p^1]=ve*A[2+(p^1)]-1,z[p+2]&&(v[p^1]+=ve*w*F[p+2],ae<ue&&T[ue]>T[ae]&&(M.uniforms.dataAxis=b,M.uniforms.screenOffset=v,M.uniforms.color=H[p+2],M.uniforms.angle=_[p+2],E.drawArrays(E.TRIANGLES,T[ae],T[ue]-T[ae]))),B[p+2]&&re&&(v[p^1]+=ve*w*N[p+2],M.uniforms.dataAxis=l,M.uniforms.screenOffset=v,M.uniforms.color=O[p+2],M.uniforms.angle=U[p+2],E.drawArrays(E.TRIANGLES,K,re))}}(),m.drawTitle=function(){var b=[0,0],v=[0,0];return function(){var l=this.plot,p=this.shader,S=l.gl,M=l.screenBox,R=l.titleCenter,T=l.titleAngle,E=l.titleColor,A=l.pixelRatio;if(this.titleCount){for(var f=0;f<2;++f)v[f]=2*(R[f]*A-M[f])/(M[2+f]-M[f])-1;p.bind(),p.uniforms.dataAxis=b,p.uniforms.screenOffset=v,p.uniforms.angle=T,p.uniforms.color=E,S.drawArrays(S.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var b=[0,0],v=[0,0],l=[0,0];return function(){var p=this.plot,S=this.shader,M=p._tickBounds,R=p.dataBox,T=p.screenBox,E=p.viewBox;S.bind();for(var A=0;A<2;++A){var f=M[A],P=M[A+2],w=P-f,z=.5*(R[A+2]+R[A]),F=R[A+2]-R[A],H=E[A],_=E[A+2],B=_-H,N=T[A],O=T[A+2],U=O-N;v[A]=2*w/F*B/U,b[A]=2*(f-z)/F*B/U}l[1]=2*p.pixelRatio/(T[3]-T[1]),l[0]=l[1]*(T[3]-T[1])/(T[2]-T[0]),S.uniforms.dataScale=v,S.uniforms.dataShift=b,S.uniforms.textScale=l,this.vbo.bind(),S.attributes.textCoordinate.pointer()}}(),m.update=function(b){var v=[],l=b.ticks,p=b.bounds,S,M,R,T,E;for(E=0;E<2;++E){var A=[Math.floor(v.length/3)],f=[-1/0],P=l[E];for(S=0;S<P.length;++S){var w=P[S],z=w.x,F=w.text,H=w.font||"sans-serif";T=w.fontSize||12;for(var _=1/(p[E+2]-p[E]),B=p[E],N=F.split(`
`),O=0;O<N.length;O++)for(R=n(H,N[O]).data,M=0;M<R.length;M+=2)v.push(R[M]*T,-R[M+1]*T-O*T*1.2,(z-B)*_);A.push(Math.floor(v.length/3)),f.push(z)}this.tickOffset[E]=A,this.tickX[E]=f}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(v.length/3),R=n(b.labelFont[E],b.labels[E],{textAlign:"center"}).data,T=b.labelSize[E],S=0;S<R.length;S+=2)v.push(R[S]*T,-R[S+1]*T,0);this.labelCount[E]=Math.floor(v.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(v.length/3),R=n(b.titleFont,b.title).data,T=b.titleSize,S=0;S<R.length;S+=2)v.push(R[S]*T,-R[S+1]*T,0);this.titleCount=Math.floor(v.length/3)-this.titleOffset,this.vbo.update(v)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(b){var v=b.gl,l=r(v),p=u(v,s.textVert,s.textFrag),S=new o(b,l,p);return S}},2117:function(h,d,t){h.exports=v;var r=t(2611),u=t(3016),n=t(5613),i=t(1154),s=t(4554);function o(l,p){this.gl=l,this.pickBuffer=p,this.screenBox=[0,0,l.drawingBufferWidth,l.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=o.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var l=this.gl,p=this.screenBox,S=this.viewBox,M=this.dataBox,R=this.pixelRatio,T=this.grid,E=this.line,A=this.text,f=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,l.bindFramebuffer(l.FRAMEBUFFER,null),l.enable(l.SCISSOR_TEST),l.disable(l.DEPTH_TEST),l.depthFunc(l.LESS),l.depthMask(!1),l.enable(l.BLEND),l.blendEquation(l.FUNC_ADD,l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),this.borderColor){l.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var P=this.borderColor;l.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)}l.scissor(S[0],S[1],S[2]-S[0],S[3]-S[1]),l.viewport(S[0],S[1],S[2]-S[0],S[3]-S[1]);var w=this.backgroundColor;l.clearColor(w[0]*w[3],w[1]*w[3],w[2]*w[3],w[3]),l.clear(l.COLOR_BUFFER_BIT),T.draw();var z=this.zeroLineEnable,F=this.zeroLineColor,H=this.zeroLineWidth;if(z[0]||z[1]){E.bind();for(var _=0;_<2;++_)if(!(!z[_]||!(M[_]<=0&&M[_+2]>=0))){var B=p[_]-M[_]*(p[_+2]-p[_])/(M[_+2]-M[_]);_===0?E.drawLine(B,p[1],B,p[3],H[_],F[_]):E.drawLine(p[0],B,p[2],B,H[_],F[_])}}for(var _=0;_<f.length;++_)f[_].draw();l.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),l.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),E.bind();var N=this.borderLineEnable,O=this.borderLineWidth,U=this.borderLineColor;N[1]&&E.drawLine(S[0],S[1]-.5*O[1]*R,S[0],S[3]+.5*O[3]*R,O[1],U[1]),N[0]&&E.drawLine(S[0]-.5*O[0]*R,S[1],S[2]+.5*O[2]*R,S[1],O[0],U[0]),N[3]&&E.drawLine(S[2],S[1]-.5*O[1]*R,S[2],S[3]+.5*O[3]*R,O[3],U[3]),N[2]&&E.drawLine(S[0]-.5*O[0]*R,S[3],S[2]+.5*O[2]*R,S[3],O[2],U[2]),A.bind();for(var _=0;_<2;++_)A.drawTicks(_);this.titleEnable&&A.drawTitle();for(var K=this.overlays,_=0;_<K.length;++_)K[_].draw();l.disable(l.SCISSOR_TEST),l.disable(l.BLEND),l.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var l=this.pickBuffer;this.gl,this._pickTimeout=null,l.begin();for(var p=1,S=this.objects,M=0;M<S.length;++M)p=S[M].drawPick(p);l.end()}}}(),m.pick=function(){return function(l,p){if(!this.static){var S=this.pixelRatio,M=this.pickPixelRatio,R=this.viewBox,T=Math.round((l-R[0]/S)*M)|0,E=Math.round((p-R[1]/S)*M)|0,A=this.pickBuffer.query(T,E,this.pickRadius);if(!A)return null;for(var f=A.id+(A.value[0]<<8)+(A.value[1]<<16)+(A.value[2]<<24),P=this.objects,w=0;w<P.length;++w){var z=P[w].pick(T,E,f);if(z)return z}return null}}}();function c(l){for(var p=l.slice(),S=0;S<p.length;++S)p[S]=p[S].slice();return p}function b(l,p){return l.x-p.x}m.setScreenBox=function(l){var p=this.screenBox,S=this.pixelRatio;p[0]=Math.round(l[0]*S)|0,p[1]=Math.round(l[1]*S)|0,p[2]=Math.round(l[2]*S)|0,p[3]=Math.round(l[3]*S)|0,this.setDirty()},m.setDataBox=function(l){var p=this.dataBox,S=p[0]!==l[0]||p[1]!==l[1]||p[2]!==l[2]||p[3]!==l[3];S&&(p[0]=l[0],p[1]=l[1],p[2]=l[2],p[3]=l[3],this.setDirty())},m.setViewBox=function(l){var p=this.pixelRatio,S=this.viewBox;S[0]=Math.round(l[0]*p)|0,S[1]=Math.round(l[1]*p)|0,S[2]=Math.round(l[2]*p)|0,S[3]=Math.round(l[3]*p)|0;var M=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((l[2]-l[0])*M)|0,Math.round((l[3]-l[1])*M)|0],this.setDirty()},m.update=function(l){l=l||{};var p=this.gl;this.pixelRatio=l.pixelRatio||1;var S=this.pixelRatio;this.pickPixelRatio=Math.max(S,1),this.setScreenBox(l.screenBox||[0,0,p.drawingBufferWidth/S,p.drawingBufferHeight/S]),this.screenBox,this.setViewBox(l.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/S,.125*(this.screenBox[3]-this.screenBox[1])/S,.875*(this.screenBox[2]-this.screenBox[0])/S,.875*(this.screenBox[3]-this.screenBox[1])/S]);var M=this.viewBox,R=(M[2]-M[0])/(M[3]-M[1]);this.setDataBox(l.dataBox||[-10,-10/R,10,10/R]),this.borderColor=l.borderColor!==!1?(l.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(l.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(l.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(l.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(l.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(l.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(l.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(l.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(l.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(l.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(l.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(l.titleCenter||[.5*(M[0]+M[2])/S,(M[3]+120)/S]).slice(),this.titleEnable=!("titleEnable"in l)||!!l.titleEnable,this.titleAngle=l.titleAngle||0,this.titleColor=(l.titleColor||[0,0,0,1]).slice(),this.labelPad=(l.labelPad||[15,15,15,15]).slice(),this.labelAngle=(l.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(l.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(l.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(l.tickPad||[15,15,15,15]).slice(),this.tickAngle=(l.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(l.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(l.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(l.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(l.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(l.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var T=l.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var A=0;A<2;++A){var f=T[A].slice(0);f.length!==0&&(f.sort(b),E[A]=Math.min(E[A],f[0].x),E[A+2]=Math.max(E[A+2],f[f.length-1].x))}this.grid.update({bounds:E,ticks:T}),this.text.update({bounds:E,ticks:T,labels:l.labels||["x","y"],labelSize:l.labelSize||[12,12],labelFont:l.labelFont||["sans-serif","sans-serif"],title:l.title||"",titleSize:l.titleSize||18,titleFont:l.titleFont||"sans-serif"}),this.static=!!l.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var l=this.objects.length-1;l>=0;--l)this.objects[l].dispose();this.objects.length=0;for(var l=this.overlays.length-1;l>=0;--l)this.overlays[l].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(l){this.objects.indexOf(l)<0&&(this.objects.push(l),this.setDirty())},m.removeObject=function(l){for(var p=this.objects,S=0;S<p.length;++S)if(p[S]===l){p.splice(S,1),this.setDirty();break}},m.addOverlay=function(l){this.overlays.indexOf(l)<0&&(this.overlays.push(l),this.setOverlayDirty())},m.removeOverlay=function(l){for(var p=this.overlays,S=0;S<p.length;++S)if(p[S]===l){p.splice(S,1),this.setOverlayDirty();break}};function v(l){var p=l.gl,S=r(p,[p.drawingBufferWidth,p.drawingBufferHeight]),M=new o(p,S);return M.grid=u(M),M.text=n(M),M.line=i(M),M.box=s(M),M.update(l),M}},4296:function(h,d,t){h.exports=m;var r=t(8161),u=t(1152),n=t(6145),i=t(6475),s=t(2565),o=t(5233);function m(c,b){c=c||document.body,b=b||{};var v=[.01,1/0];"distanceLimits"in b&&(v[0]=b.distanceLimits[0],v[1]=b.distanceLimits[1]),"zoomMin"in b&&(v[0]=b.zoomMin),"zoomMax"in b&&(v[1]=b.zoomMax);var l=u({center:b.center||[0,0,0],up:b.up||[0,1,0],eye:b.eye||[0,0,10],mode:b.mode||"orbit",distanceLimits:v}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,M=c.clientWidth,R=c.clientHeight,T={keyBindingMode:"rotate",enableWheel:!0,view:l,element:c,delay:b.delay||16,rotateSpeed:b.rotateSpeed||1,zoomSpeed:b.zoomSpeed||1,translateSpeed:b.translateSpeed||1,flipX:!!b.flipX,flipY:!!b.flipY,modes:l.modes,_ortho:b._ortho||b.projection&&b.projection.type==="orthographic"||!1,tick:function(){var E=r(),A=this.delay,f=E-2*A;l.idle(E-A),l.recalcMatrix(f),l.flush(E-(100+A*2));for(var P=!0,w=l.computedMatrix,z=0;z<16;++z)P=P&&p[z]===w[z],p[z]=w[z];var F=c.clientWidth===M&&c.clientHeight===R;return M=c.clientWidth,R=c.clientHeight,P?!F:(S=Math.exp(l.computedRadius[0]),!0)},lookAt:function(E,A,f){l.lookAt(l.lastT(),E,A,f)},rotate:function(E,A,f){l.rotate(l.lastT(),E,A,f)},pan:function(E,A,f){l.pan(l.lastT(),E,A,f)},translate:function(E,A,f){l.translate(l.lastT(),E,A,f)}};return Object.defineProperties(T,{matrix:{get:function(){return l.computedMatrix},set:function(E){return l.setMatrix(l.lastT(),E),l.computedMatrix},enumerable:!0},mode:{get:function(){return l.getMode()},set:function(E){var A=l.computedUp.slice(),f=l.computedEye.slice(),P=l.computedCenter.slice();if(l.setMode(E),E==="turntable"){var w=r();l._active.lookAt(w,f,P,A),l._active.lookAt(w+500,f,P,[0,0,1]),l._active.flush(w)}return l.getMode()},enumerable:!0},center:{get:function(){return l.computedCenter},set:function(E){return l.lookAt(l.lastT(),null,E),l.computedCenter},enumerable:!0},eye:{get:function(){return l.computedEye},set:function(E){return l.lookAt(l.lastT(),E),l.computedEye},enumerable:!0},up:{get:function(){return l.computedUp},set:function(E){return l.lookAt(l.lastT(),null,null,E),l.computedUp},enumerable:!0},distance:{get:function(){return S},set:function(E){return l.setDistance(l.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return l.getDistanceLimits(v)},set:function(E){return l.setDistanceLimits(E),E},enumerable:!0}}),c.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),T._lastX=-1,T._lastY=-1,T._lastMods={shift:!1,control:!1,alt:!1,meta:!1},T.enableMouseListeners=function(){T.mouseListener=n(c,E),c.addEventListener("touchstart",function(A){var f=s(A.changedTouches[0],c);E(0,f[0],f[1],T._lastMods),E(1,f[0],f[1],T._lastMods)},o?{passive:!0}:!1),c.addEventListener("touchmove",function(A){var f=s(A.changedTouches[0],c);E(1,f[0],f[1],T._lastMods),A.preventDefault()},o?{passive:!1}:!1),c.addEventListener("touchend",function(A){E(0,T._lastX,T._lastY,T._lastMods)},o?{passive:!0}:!1);function E(A,f,P,w){var z=T.keyBindingMode;if(z!==!1){var F=z==="rotate",H=z==="pan",_=z==="zoom",B=!!w.control,N=!!w.alt,O=!!w.shift,U=!!(A&1),K=!!(A&2),re=!!(A&4),ae=1/c.clientHeight,ue=ae*(f-T._lastX),ve=ae*(P-T._lastY),ee=T.flipX?1:-1,J=T.flipY?1:-1,Q=Math.PI*T.rotateSpeed,X=r();if(T._lastX!==-1&&T._lastY!==-1&&((F&&U&&!B&&!N&&!O||U&&!B&&!N&&O)&&l.rotate(X,ee*Q*ue,-J*Q*ve,0),(H&&U&&!B&&!N&&!O||K||U&&B&&!N&&!O)&&l.pan(X,-T.translateSpeed*ue*S,T.translateSpeed*ve*S,0),_&&U&&!B&&!N&&!O||re||U&&!B&&N&&!O)){var q=-T.zoomSpeed*ve/window.innerHeight*(X-l.lastT())*100;l.pan(X,0,0,S*(Math.exp(q)-1))}return T._lastX=f,T._lastY=P,T._lastMods=w,!0}}T.wheelListener=i(c,function(A,f){if(T.keyBindingMode!==!1&&T.enableWheel){var P=T.flipX?1:-1,w=T.flipY?1:-1,z=r();if(Math.abs(A)>Math.abs(f))l.rotate(z,0,0,-A*P*Math.PI*T.rotateSpeed/window.innerWidth);else if(!T._ortho){var F=-T.zoomSpeed*w*f/window.innerHeight*(z-l.lastT())/20;l.pan(z,0,0,S*(Math.exp(F)-1))}}},!0)},T.enableMouseListeners(),T}},8245:function(h,d,t){var r=t(6832),u=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),i=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);h.exports=function(s){return u(s,n,i,null,[{name:"position",type:"vec2"}])}},1059:function(h,d,t){var r=t(4296),u=t(7453),n=t(2771),i=t(6496),s=t(2611),o=t(4234),m=t(8126),c=t(6145),b=t(1120),v=t(5268),l=t(8245),p=t(2321)({tablet:!0,featureDetect:!0});h.exports={createScene:E,createCamera:r};function S(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function M(f,P){var w=null;try{w=f.getContext("webgl",P),w||(w=f.getContext("experimental-webgl",P))}catch{return null}return w}function R(f){var P=Math.round(Math.log(Math.abs(f))/Math.log(10));if(P<0){var w=Math.round(Math.pow(10,-P));return Math.ceil(f*w)/w}else if(P>0){var w=Math.round(Math.pow(10,P));return Math.ceil(f/w)*w}return Math.ceil(f)}function T(f){return typeof f=="boolean"?f:!0}function E(f){f=f||{},f.camera=f.camera||{};var P=f.canvas;if(!P)if(P=document.createElement("canvas"),f.container){var w=f.container;w.appendChild(P)}else document.body.appendChild(P);var z=f.gl;if(z||(f.glOptions&&(p=!!f.glOptions.preserveDrawingBuffer),z=M(P,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!z)throw new Error("webgl not supported");var F=f.bounds||[[-10,-10,-10],[10,10,10]],H=new S,_=o(z,z.drawingBufferWidth,z.drawingBufferHeight,{preferFloat:!p}),B=l(z),N=f.cameraObject&&f.cameraObject._ortho===!0||f.camera.projection&&f.camera.projection.type==="orthographic"||!1,O={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:N},U=f.axes||{},K=u(z,U);K.enable=!U.disable;var re=f.spikes||{},ae=i(z,re),ue=[],ve=[],ee=[],J=[],Q=!0,Y=!0,X=new Array(16),q=new Array(16),se={view:null,projection:X,model:q,_ortho:!1},Y=!0,Z=[z.drawingBufferWidth,z.drawingBufferHeight],ie=f.cameraObject||r(P,O),te={gl:z,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:P,selection:H,camera:ie,axes:K,axesPixels:null,spikes:ae,bounds:F,objects:ue,shape:Z,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:T(f.autoResize),autoBounds:T(f.autoBounds),autoScale:!!f.autoScale,autoCenter:T(f.autoCenter),clipToBounds:T(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ne){this.aspect[0]=Ne.x,this.aspect[1]=Ne.y,this.aspect[2]=Ne.z,Y=!0},setBounds:function(Ne,He){this.bounds[0][Ne]=He.min,this.bounds[1][Ne]=He.max},setClearColor:function(Ne){this.clearColor=Ne},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[z.drawingBufferWidth/te.pixelRatio|0,z.drawingBufferHeight/te.pixelRatio|0];function de(){if(!te._stopped&&te.autoResize){var Ne=P.parentNode,He=1,_e=1;Ne&&Ne!==document.body?(He=Ne.clientWidth,_e=Ne.clientHeight):(He=window.innerWidth,_e=window.innerHeight);var We=Math.ceil(He*te.pixelRatio)|0,tt=Math.ceil(_e*te.pixelRatio)|0;if(We!==P.width||tt!==P.height){P.width=We,P.height=tt;var Ke=P.style;Ke.position=Ke.position||"absolute",Ke.left="0px",Ke.top="0px",Ke.width=He+"px",Ke.height=_e+"px",Q=!0}}}te.autoResize&&de(),window.addEventListener("resize",de);function we(){for(var Ne=ue.length,He=J.length,_e=0;_e<He;++_e)ee[_e]=0;e:for(var _e=0;_e<Ne;++_e){var We=ue[_e],tt=We.pickSlots;if(!tt){ve[_e]=-1;continue}for(var Ke=0;Ke<He;++Ke)if(ee[Ke]+tt<255){ve[_e]=Ke,We.setPickBase(ee[Ke]+1),ee[Ke]+=tt;continue e}var qe=s(z,Z);ve[_e]=He,J.push(qe),ee.push(tt),We.setPickBase(1),He+=1}for(;He>0&&ee[He-1]===0;)ee.pop(),J.pop().dispose()}te.update=function(Ne){te._stopped||(Q=!0,Y=!0)},te.add=function(Ne){te._stopped||(Ne.axes=K,ue.push(Ne),ve.push(-1),Q=!0,Y=!0,we())},te.remove=function(Ne){if(!te._stopped){var He=ue.indexOf(Ne);He<0||(ue.splice(He,1),ve.pop(),Q=!0,Y=!0,we())}},te.dispose=function(){if(!te._stopped&&(te._stopped=!0,window.removeEventListener("resize",de),P.removeEventListener("webglcontextlost",Ae),te.mouseListener.enabled=!1,!te.contextLost)){K.dispose(),ae.dispose();for(var Ne=0;Ne<ue.length;++Ne)ue[Ne].dispose();_.dispose();for(var Ne=0;Ne<J.length;++Ne)J[Ne].dispose();B.dispose(),z=null,K=null,ae=null,ue=[]}},te._mouseRotating=!1,te._prevButtons=0,te.enableMouseListeners=function(){te.mouseListener=c(P,function(Ne,He,_e){if(!te._stopped){var We=J.length,tt=ue.length,Ke=H.object;H.distance=1/0,H.mouse[0]=He,H.mouse[1]=_e,H.object=null,H.screen=null,H.dataCoordinate=H.dataPosition=null;var qe=!1;if(Ne&&te._prevButtons)te._mouseRotating=!0;else{te._mouseRotating&&(Y=!0),te._mouseRotating=!1;for(var rt=0;rt<We;++rt){var ft=J[rt].query(He,fe[1]-_e-1,te.pickRadius);if(ft){if(ft.distance>H.distance)continue;for(var pt=0;pt<tt;++pt){var gt=ue[pt];if(ve[pt]===rt){var Mt=gt.pick(ft);Mt&&(H.buttons=Ne,H.screen=ft.coord,H.distance=ft.distance,H.object=gt,H.index=Mt.distance,H.dataPosition=Mt.position,H.dataCoordinate=Mt.dataCoordinate,H.data=Mt,qe=!0)}}}}}Ke&&Ke!==H.object&&(Ke.highlight&&Ke.highlight(null),Q=!0),H.object&&(H.object.highlight&&H.object.highlight(H.data),Q=!0),qe=qe||H.object!==Ke,qe&&te.onselect&&te.onselect(H),Ne&1&&!(te._prevButtons&1)&&te.onclick&&te.onclick(H),te._prevButtons=Ne}})};function Ae(){if(te.contextLost)return!0;z.isContextLost()&&(te.contextLost=!0,te.mouseListener.enabled=!1,te.selection.object=null,te.oncontextloss&&te.oncontextloss())}P.addEventListener("webglcontextlost",Ae);function Re(){if(!Ae()){z.colorMask(!0,!0,!0,!0),z.depthMask(!0),z.disable(z.BLEND),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL);for(var Ne=ue.length,He=J.length,_e=0;_e<He;++_e){var We=J[_e];We.shape=fe,We.begin();for(var tt=0;tt<Ne;++tt)if(ve[tt]===_e){var Ke=ue[tt];Ke.drawPick&&(Ke.pixelRatio=1,Ke.drawPick(se))}We.end()}}}var Fe=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Se=[Fe[0].slice(),Fe[1].slice()];function Te(){if(!Ae()){de();var Ne=te.camera.tick();se.view=te.camera.matrix,Q=Q||Ne,Y=Y||Ne,K.pixelRatio=te.pixelRatio,ae.pixelRatio=te.pixelRatio;var He=ue.length,_e=Fe[0],We=Fe[1];_e[0]=_e[1]=_e[2]=1/0,We[0]=We[1]=We[2]=-1/0;for(var tt=0;tt<He;++tt){var Ke=ue[tt];Ke.pixelRatio=te.pixelRatio,Ke.axes=te.axes,Q=Q||!!Ke.dirty,Y=Y||!!Ke.dirty;var qe=Ke.bounds;if(qe)for(var rt=qe[0],ft=qe[1],pt=0;pt<3;++pt)_e[pt]=Math.min(_e[pt],rt[pt]),We[pt]=Math.max(We[pt],ft[pt])}var gt=te.bounds;if(te.autoBounds)for(var pt=0;pt<3;++pt){if(We[pt]<_e[pt])_e[pt]=-1,We[pt]=1;else{_e[pt]===We[pt]&&(_e[pt]-=1,We[pt]+=1);var Mt=.05*(We[pt]-_e[pt]);_e[pt]=_e[pt]-Mt,We[pt]=We[pt]+Mt}gt[0][pt]=_e[pt],gt[1][pt]=We[pt]}for(var Lt=!1,pt=0;pt<3;++pt)Lt=Lt||Se[0][pt]!==gt[0][pt]||Se[1][pt]!==gt[1][pt],Se[0][pt]=gt[0][pt],Se[1][pt]=gt[1][pt];if(Y=Y||Lt,Q=Q||Lt,!!Q){if(Lt){for(var Wt=[0,0,0],tt=0;tt<3;++tt)Wt[tt]=R((gt[1][tt]-gt[0][tt])/10);K.autoTicks?K.update({bounds:gt,tickSpacing:Wt}):K.update({bounds:gt})}var Je=z.drawingBufferWidth,ze=z.drawingBufferHeight;Z[0]=Je,Z[1]=ze,fe[0]=Math.max(Je/te.pixelRatio,1)|0,fe[1]=Math.max(ze/te.pixelRatio,1)|0,A(te,N);for(var tt=0;tt<He;++tt){var Ke=ue[tt];Ke.axesBounds=gt,te.clipToBounds&&(Ke.clipBounds=gt)}H.object&&(te.snapToData?ae.position=H.dataCoordinate:ae.position=H.dataPosition,ae.bounds=gt),Y&&(Y=!1,Re()),te.axesPixels=n(te.axes,se,Je,ze),te.onrender&&te.onrender(),z.bindFramebuffer(z.FRAMEBUFFER,null),z.viewport(0,0,Je,ze),te.clearRGBA(),z.depthMask(!0),z.colorMask(!0,!0,!0,!0),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL),z.disable(z.BLEND),z.disable(z.CULL_FACE);var Oe=!1;K.enable&&(Oe=Oe||K.isTransparent(),K.draw(se)),ae.axes=K,H.object&&ae.draw(se),z.disable(z.CULL_FACE);for(var tt=0;tt<He;++tt){var Ke=ue[tt];Ke.axes=K,Ke.pixelRatio=te.pixelRatio,Ke.isOpaque&&Ke.isOpaque()&&Ke.draw(se),Ke.isTransparent&&Ke.isTransparent()&&(Oe=!0)}if(Oe){_.shape=Z,_.bind(),z.clear(z.DEPTH_BUFFER_BIT),z.colorMask(!1,!1,!1,!1),z.depthMask(!0),z.depthFunc(z.LESS),K.enable&&K.isTransparent()&&K.drawTransparent(se);for(var tt=0;tt<He;++tt){var Ke=ue[tt];Ke.isOpaque&&Ke.isOpaque()&&Ke.draw(se)}z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.colorMask(!0,!0,!0,!0),z.depthMask(!1),z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT),K.isTransparent()&&K.drawTransparent(se);for(var tt=0;tt<He;++tt){var Ke=ue[tt];Ke.isTransparent&&Ke.isTransparent()&&Ke.drawTransparent(se)}z.bindFramebuffer(z.FRAMEBUFFER,null),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.disable(z.DEPTH_TEST),B.bind(),_.color[0].bind(0),B.uniforms.accumBuffer=0,m(z),z.disable(z.BLEND)}Q=!1;for(var tt=0;tt<He;++tt)ue[tt].dirty=!1}}}function Ee(){te._stopped||te.contextLost||(Te(),requestAnimationFrame(Ee))}return te.enableMouseListeners(),Ee(),te.redraw=function(){te._stopped||(Q=!0,Te())},te}function A(f,P){var w=f.bounds,z=f.cameraParams,F=z.projection,H=z.model,_=f.gl.drawingBufferWidth,B=f.gl.drawingBufferHeight,N=f.zNear,O=f.zFar,U=f.fovy,K=_/B;P?(v(F,-K,K,-1,1,N,O),z._ortho=!0):(b(F,U,K,N,O),z._ortho=!1);for(var re=0;re<16;++re)H[re]=0;H[15]=1;for(var ae=0,re=0;re<3;++re)ae=Math.max(ae,w[1][re]-w[0][re]);for(var re=0;re<3;++re)f.autoScale?H[5*re]=f.aspect[re]/(w[1][re]-w[0][re]):H[5*re]=1/ae,f.autoCenter&&(H[12+re]=-H[5*re]*.5*(w[0][re]+w[1][re]))}},8023:function(h,d,t){var r=t(6832);d.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),d.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),d.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),d.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(h,d,t){var r=t(5158),u=t(5827),n=t(5306),i=t(8023);h.exports=c;function s(b,v,l,p,S){this.plot=b,this.offsetBuffer=v,this.pickBuffer=l,this.shader=p,this.pickShader=S,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var o=s.prototype;o.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},o.update=function(b){var v;b=b||{};function l(A,f){return A in b?b[A]:f}this.sizeMin=l("sizeMin",.5),this.sizeMax=l("sizeMax",20),this.color=l("color",[1,0,0,1]).slice(),this.areaRatio=l("areaRatio",1),this.borderColor=l("borderColor",[0,0,0,1]).slice(),this.blend=l("blend",!1);var p=b.positions.length>>>1,S=b.positions instanceof Float32Array,M=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=p,R=b.positions,T=S?R:n.mallocFloat32(R.length),E=M?b.idToIndex:n.mallocInt32(p);if(S||T.set(R),!M)for(T.set(R),v=0;v<p;v++)E[v]=v;this.points=R,this.offsetBuffer.update(T),this.pickBuffer.update(E),S||n.free(T),M||n.free(E),this.pointCount=p,this.pickOffset=0};function m(b,v){var l=0,p=b.length>>>1,S;for(S=0;S<p;S++){var M=b[S*2],R=b[S*2+1];M>=v[0]&&M<=v[2]&&R>=v[1]&&R<=v[3]&&l++}return l}o.unifiedDraw=function(){var b=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(l){var p=l!==void 0,S=p?this.pickShader:this.shader,M=this.plot.gl,R=this.plot.dataBox;if(this.pointCount===0)return l;var T=R[2]-R[0],E=R[3]-R[1],A=m(this.points,R),f=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(A,.33333)));b[0]=2/T,b[4]=2/E,b[6]=-2*R[0]/T-1,b[7]=-2*R[1]/E-1,this.offsetBuffer.bind(),S.bind(),S.attributes.position.pointer(),S.uniforms.matrix=b,S.uniforms.color=this.color,S.uniforms.borderColor=this.borderColor,S.uniforms.pointCloud=f<5,S.uniforms.pointSize=f,S.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(v[0]=l&255,v[1]=l>>8&255,v[2]=l>>16&255,v[3]=l>>24&255,this.pickBuffer.bind(),S.attributes.pickId.pointer(M.UNSIGNED_BYTE),S.uniforms.pickOffset=v,this.pickOffset=l);var P=M.getParameter(M.BLEND),w=M.getParameter(M.DITHER);return P&&!this.blend&&M.disable(M.BLEND),w&&M.disable(M.DITHER),M.drawArrays(M.POINTS,0,this.pointCount),P&&!this.blend&&M.enable(M.BLEND),w&&M.enable(M.DITHER),l+this.pointCount}}(),o.draw=o.unifiedDraw,o.drawPick=o.unifiedDraw,o.pick=function(b,v,l){var p=this.pickOffset,S=this.pointCount;if(l<p||l>=p+S)return null;var M=l-p,R=this.points;return{object:this,pointId:M,dataCoord:[R[2*M],R[2*M+1]]}};function c(b,v){var l=b.gl,p=u(l),S=u(l),M=r(l,i.pointVertex,i.pointFragment),R=r(l,i.pickVertex,i.pickFragment),T=new s(b,p,S,M,R);return T.update(v),b.addObject(T),T}},6093:function(h){h.exports=d;function d(t,r,u,n){var i=r[0],s=r[1],o=r[2],m=r[3],c=u[0],b=u[1],v=u[2],l=u[3],p,S,M,R,T;return S=i*c+s*b+o*v+m*l,S<0&&(S=-S,c=-c,b=-b,v=-v,l=-l),1-S>1e-6?(p=Math.acos(S),M=Math.sin(p),R=Math.sin((1-n)*p)/M,T=Math.sin(n*p)/M):(R=1-n,T=n),t[0]=R*i+T*c,t[1]=R*s+T*b,t[2]=R*o+T*v,t[3]=R*m+T*l,t}},8240:function(h){h.exports=function(d){return!d&&d!==0?"":d.toString()}},4123:function(h,d,t){var r=t(875);h.exports=n;var u={};function n(i,s,o){var m=u[s];if(m||(m=u[s]={}),i in m)return m[i];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:s,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};c.triangles=!0;var b=r(i,c);c.triangles=!1;var v=r(i,c),l,p;if(o&&o!==1){for(l=0;l<b.positions.length;++l)for(p=0;p<b.positions[l].length;++p)b.positions[l][p]/=o;for(l=0;l<v.positions.length;++l)for(p=0;p<v.positions[l].length;++p)v.positions[l][p]/=o}var S=[[1/0,1/0],[-1/0,-1/0]],M=v.positions.length;for(l=0;l<M;++l){var R=v.positions[l];for(p=0;p<2;++p)S[0][p]=Math.min(S[0][p],R[p]),S[1][p]=Math.max(S[1][p],R[p])}return m[i]=[b,v,S]}},9282:function(h,d,t){var r=t(5158),u=t(6832),n=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),i=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),o=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:n,fragment:o,attributes:c},v={vertex:i,fragment:o,attributes:c},l={vertex:s,fragment:o,attributes:c},p={vertex:n,fragment:m,attributes:c},S={vertex:i,fragment:m,attributes:c},M={vertex:s,fragment:m,attributes:c};function R(T,E){var A=r(T,E),f=A.attributes;return f.position.location=0,f.color.location=1,f.glyph.location=2,f.id.location=3,A}d.createPerspective=function(T){return R(T,b)},d.createOrtho=function(T){return R(T,v)},d.createProject=function(T){return R(T,l)},d.createPickPerspective=function(T){return R(T,p)},d.createPickOrtho=function(T){return R(T,S)},d.createPickProject=function(T){return R(T,M)}},2182:function(h,d,t){var r=t(3596),u=t(5827),n=t(2944),i=t(5306),s=t(104),o=t(9282),m=t(4123),c=t(8240),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];h.exports=ve;function v(ee,J){var Q=ee[0],X=ee[1],q=ee[2],se=ee[3];return ee[0]=J[0]*Q+J[4]*X+J[8]*q+J[12]*se,ee[1]=J[1]*Q+J[5]*X+J[9]*q+J[13]*se,ee[2]=J[2]*Q+J[6]*X+J[10]*q+J[14]*se,ee[3]=J[3]*Q+J[7]*X+J[11]*q+J[15]*se,ee}function l(ee,J,Q,X){return v(X,X),v(X,X),v(X,X)}function p(ee,J){this.index=ee,this.dataCoordinate=this.position=J}function S(ee){return ee===!0||ee>1?1:ee}function M(ee,J,Q,X,q,se,Y,Z,ie,te,fe,de){this.gl=ee,this.pixelRatio=1,this.shader=J,this.orthoShader=Q,this.projectShader=X,this.pointBuffer=q,this.colorBuffer=se,this.glyphBuffer=Y,this.idBuffer=Z,this.vao=ie,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=te,this.pickOrthoShader=fe,this.pickProjectShader=de,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var R=M.prototype;R.pickSlots=1,R.setPickBase=function(ee){this.pickId=ee},R.isTransparent=function(){if(this.hasAlpha)return!0;for(var ee=0;ee<3;++ee)if(this.axesProject[ee]&&this.projectHasAlpha)return!0;return!1},R.isOpaque=function(){if(!this.hasAlpha)return!0;for(var ee=0;ee<3;++ee)if(this.axesProject[ee]&&!this.projectHasAlpha)return!0;return!1};var T=[0,0],E=[0,0,0],A=[0,0,0],f=[0,0,0,1],P=[0,0,0,1],w=b.slice(),z=[0,0,0],F=[[0,0,0],[0,0,0]];function H(ee){return ee[0]=ee[1]=ee[2]=0,ee}function _(ee,J){return ee[0]=J[0],ee[1]=J[1],ee[2]=J[2],ee[3]=1,ee}function B(ee,J,Q,X){return ee[0]=J[0],ee[1]=J[1],ee[2]=J[2],ee[Q]=X,ee}function N(ee){for(var J=F,Q=0;Q<2;++Q)for(var X=0;X<3;++X)J[Q][X]=Math.max(Math.min(ee[Q][X],1e8),-1e8);return J}function O(ee,J,Q,X){var q=J.axesProject,se=J.gl,Y=ee.uniforms,Z=Q.model||b,ie=Q.view||b,te=Q.projection||b,fe=J.axesBounds,de=N(J.clipBounds),we;J.axes&&J.axes.lastCubeProps?we=J.axes.lastCubeProps.axis:we=[1,1,1],T[0]=2/se.drawingBufferWidth,T[1]=2/se.drawingBufferHeight,ee.bind(),Y.view=ie,Y.projection=te,Y.screenSize=T,Y.highlightId=J.highlightId,Y.highlightScale=J.highlightScale,Y.clipBounds=de,Y.pickGroup=J.pickId/255,Y.pixelRatio=X;for(var Ae=0;Ae<3;++Ae)if(q[Ae]){Y.scale=J.projectScale[Ae],Y.opacity=J.projectOpacity[Ae];for(var Re=w,Fe=0;Fe<16;++Fe)Re[Fe]=0;for(var Fe=0;Fe<4;++Fe)Re[5*Fe]=1;Re[5*Ae]=0,we[Ae]<0?Re[12+Ae]=fe[0][Ae]:Re[12+Ae]=fe[1][Ae],s(Re,Z,Re),Y.model=Re;var Se=(Ae+1)%3,Te=(Ae+2)%3,Ee=H(E),Ne=H(A);Ee[Se]=1,Ne[Te]=1;var He=l(te,ie,Z,_(f,Ee)),_e=l(te,ie,Z,_(P,Ne));if(Math.abs(He[1])>Math.abs(_e[1])){var We=He;He=_e,_e=We,We=Ee,Ee=Ne,Ne=We;var tt=Se;Se=Te,Te=tt}He[0]<0&&(Ee[Se]=-1),_e[1]>0&&(Ne[Te]=-1);for(var Ke=0,qe=0,Fe=0;Fe<4;++Fe)Ke+=Math.pow(Z[4*Se+Fe],2),qe+=Math.pow(Z[4*Te+Fe],2);Ee[Se]/=Math.sqrt(Ke),Ne[Te]/=Math.sqrt(qe),Y.axes[0]=Ee,Y.axes[1]=Ne,Y.fragClipBounds[0]=B(z,de[0],Ae,-1e8),Y.fragClipBounds[1]=B(z,de[1],Ae,1e8),J.vao.bind(),J.vao.draw(se.TRIANGLES,J.vertexCount),J.lineWidth>0&&(se.lineWidth(J.lineWidth*X),J.vao.draw(se.LINES,J.lineVertexCount,J.vertexCount)),J.vao.unbind()}}var U=[-1e8,-1e8,-1e8],K=[1e8,1e8,1e8],re=[U,K];function ae(ee,J,Q,X,q,se,Y){var Z=Q.gl;if((se===Q.projectHasAlpha||Y)&&O(J,Q,X,q),se===Q.hasAlpha||Y){ee.bind();var ie=ee.uniforms;ie.model=X.model||b,ie.view=X.view||b,ie.projection=X.projection||b,T[0]=2/Z.drawingBufferWidth,T[1]=2/Z.drawingBufferHeight,ie.screenSize=T,ie.highlightId=Q.highlightId,ie.highlightScale=Q.highlightScale,ie.fragClipBounds=re,ie.clipBounds=Q.axes.bounds,ie.opacity=Q.opacity,ie.pickGroup=Q.pickId/255,ie.pixelRatio=q,Q.vao.bind(),Q.vao.draw(Z.TRIANGLES,Q.vertexCount),Q.lineWidth>0&&(Z.lineWidth(Q.lineWidth*q),Q.vao.draw(Z.LINES,Q.lineVertexCount,Q.vertexCount)),Q.vao.unbind()}}R.draw=function(ee){var J=this.useOrtho?this.orthoShader:this.shader;ae(J,this.projectShader,this,ee,this.pixelRatio,!1,!1)},R.drawTransparent=function(ee){var J=this.useOrtho?this.orthoShader:this.shader;ae(J,this.projectShader,this,ee,this.pixelRatio,!0,!1)},R.drawPick=function(ee){var J=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ae(J,this.pickProjectShader,this,ee,1,!0,!0)},R.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;var J=ee.value[2]+(ee.value[1]<<8)+(ee.value[0]<<16);if(J>=this.pointCount||J<0)return null;var Q=this.points[J],X=this._selectResult;X.index=J;for(var q=0;q<3;++q)X.position[q]=X.dataCoordinate[q]=Q[q];return X},R.highlight=function(ee){if(!ee)this.highlightId=[1,1,1,1];else{var J=ee.index,Q=J&255,X=J>>8&255,q=J>>16&255;this.highlightId=[Q/255,X/255,q/255,0]}};function ue(ee,J,Q,X){var q;Array.isArray(ee)?J<ee.length?q=ee[J]:q=void 0:q=ee,q=c(q);var se=!0;r(q)&&(q="",se=!1);var Y=m(q,Q,X);return{mesh:Y[0],lines:Y[1],bounds:Y[2],visible:se}}R.update=function(ee){if(ee=ee||{},"perspective"in ee&&(this.useOrtho=!ee.perspective),"orthographic"in ee&&(this.useOrtho=!!ee.orthographic),"lineWidth"in ee&&(this.lineWidth=ee.lineWidth),"project"in ee)if(Array.isArray(ee.project))this.axesProject=ee.project;else{var J=!!ee.project;this.axesProject=[J,J,J]}if("projectScale"in ee)if(Array.isArray(ee.projectScale))this.projectScale=ee.projectScale.slice();else{var Q=+ee.projectScale;this.projectScale=[Q,Q,Q]}if(this.projectHasAlpha=!1,"projectOpacity"in ee){if(Array.isArray(ee.projectOpacity))this.projectOpacity=ee.projectOpacity.slice();else{var Q=+ee.projectOpacity;this.projectOpacity=[Q,Q,Q]}for(var X=0;X<3;++X)this.projectOpacity[X]=S(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in ee&&(this.opacity=S(ee.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var q=ee.position,se=ee.font||"normal",Y=ee.alignment||[0,0],Z,ie;if(Y.length===2)Z=Y[0],ie=Y[1];else{Z=[],ie=[];for(var X=0;X<Y.length;++X)Z[X]=Y[X][0],ie[X]=Y[X][1]}var te=[1/0,1/0,1/0],fe=[-1/0,-1/0,-1/0],de=ee.glyph,we=ee.color,Ae=ee.size,Re=ee.angle,Fe=ee.lineColor,Se=-1,Te=0,Ee=0,Ne=0;if(q.length){Ne=q.length;e:for(var X=0;X<Ne;++X){for(var He=q[X],_e=0;_e<3;++_e)if(isNaN(He[_e])||!isFinite(He[_e]))continue e;var We=ue(de,X,se,this.pixelRatio),tt=We.mesh,Ke=We.lines,qe=We.bounds;Te+=tt.cells.length*3,Ee+=Ke.edges.length*2}}var rt=Te+Ee,ft=i.mallocFloat(3*rt),pt=i.mallocFloat(4*rt),gt=i.mallocFloat(2*rt),Mt=i.mallocUint32(rt);if(rt>0){var Lt=0,Wt=Te,Je=[0,0,0,1],ze=[0,0,0,1],Oe=Array.isArray(we)&&Array.isArray(we[0]),Ue=Array.isArray(Fe)&&Array.isArray(Fe[0]);e:for(var X=0;X<Ne;++X){Se+=1;for(var He=q[X],_e=0;_e<3;++_e){if(isNaN(He[_e])||!isFinite(He[_e]))continue e;fe[_e]=Math.max(fe[_e],He[_e]),te[_e]=Math.min(te[_e],He[_e])}var We=ue(de,X,se,this.pixelRatio),tt=We.mesh,Ke=We.lines,qe=We.bounds,ke=We.visible;if(!ke)Je=[1,1,1,0];else if(Array.isArray(we)){var Me;if(Oe?X<we.length?Me=we[X]:Me=[0,0,0,0]:Me=we,Me.length===3){for(var _e=0;_e<3;++_e)Je[_e]=Me[_e];Je[3]=1}else if(Me.length===4){for(var _e=0;_e<4;++_e)Je[_e]=Me[_e];!this.hasAlpha&&Me[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;if(!ke)ze=[1,1,1,0];else if(Array.isArray(Fe)){var Me;if(Ue?X<Fe.length?Me=Fe[X]:Me=[0,0,0,0]:Me=Fe,Me.length===3){for(var _e=0;_e<3;++_e)ze[_e]=Me[_e];ze[_e]=1}else if(Me.length===4){for(var _e=0;_e<4;++_e)ze[_e]=Me[_e];!this.hasAlpha&&Me[3]<1&&(this.hasAlpha=!0)}}else ze[0]=ze[1]=ze[2]=0,ze[3]=1;var ce=.5;ke?Array.isArray(Ae)?X<Ae.length?ce=+Ae[X]:ce=12:Ae?ce=+Ae:this.useOrtho&&(ce=12):ce=0;var be=0;Array.isArray(Re)?X<Re.length?be=+Re[X]:be=0:Re&&(be=+Re);for(var De=Math.cos(be),Ve=Math.sin(be),He=q[X],_e=0;_e<3;++_e)fe[_e]=Math.max(fe[_e],He[_e]),te[_e]=Math.min(te[_e],He[_e]);var it=Z,ot=ie,it=0;Array.isArray(Z)?X<Z.length?it=Z[X]:it=0:Z&&(it=Z);var ot=0;Array.isArray(ie)?X<ie.length?ot=ie[X]:ot=0:ie&&(ot=ie),it*=it>0?1-qe[0][0]:it<0?1+qe[1][0]:1,ot*=ot>0?1-qe[0][1]:ot<0?1+qe[1][1]:1;for(var Tt=[it,ot],Jt=tt.cells||[],or=tt.positions||[],_e=0;_e<Jt.length;++_e)for(var It=Jt[_e],Ht=0;Ht<3;++Ht){for(var Gt=0;Gt<3;++Gt)ft[3*Lt+Gt]=He[Gt];for(var Gt=0;Gt<4;++Gt)pt[4*Lt+Gt]=Je[Gt];Mt[Lt]=Se;var Pt=or[It[Ht]];gt[2*Lt]=ce*(De*Pt[0]-Ve*Pt[1]+Tt[0]),gt[2*Lt+1]=ce*(Ve*Pt[0]+De*Pt[1]+Tt[1]),Lt+=1}for(var Jt=Ke.edges,or=Ke.positions,_e=0;_e<Jt.length;++_e)for(var It=Jt[_e],Ht=0;Ht<2;++Ht){for(var Gt=0;Gt<3;++Gt)ft[3*Wt+Gt]=He[Gt];for(var Gt=0;Gt<4;++Gt)pt[4*Wt+Gt]=ze[Gt];Mt[Wt]=Se;var Pt=or[It[Ht]];gt[2*Wt]=ce*(De*Pt[0]-Ve*Pt[1]+Tt[0]),gt[2*Wt+1]=ce*(Ve*Pt[0]+De*Pt[1]+Tt[1]),Wt+=1}}}this.bounds=[te,fe],this.points=q,this.pointCount=q.length,this.vertexCount=Te,this.lineVertexCount=Ee,this.pointBuffer.update(ft),this.colorBuffer.update(pt),this.glyphBuffer.update(gt),this.idBuffer.update(Mt),i.free(ft),i.free(pt),i.free(gt),i.free(Mt)},R.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ve(ee){var J=ee.gl,Q=o.createPerspective(J),X=o.createOrtho(J),q=o.createProject(J),se=o.createPickPerspective(J),Y=o.createPickOrtho(J),Z=o.createPickProject(J),ie=u(J),te=u(J),fe=u(J),de=u(J),we=n(J,[{buffer:ie,size:3,type:J.FLOAT},{buffer:te,size:4,type:J.FLOAT},{buffer:fe,size:2,type:J.FLOAT},{buffer:de,size:4,type:J.UNSIGNED_BYTE,normalized:!0}]),Ae=new M(J,Q,X,q,ie,te,fe,de,we,se,Y,Z);return Ae.update(ee),Ae}},1884:function(h,d,t){var r=t(6832);d.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),d.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(h,d,t){var r=t(5158),u=t(5827),n=t(1884);h.exports=o;function i(m,c,b){this.plot=m,this.boxBuffer=c,this.boxShader=b,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var s=i.prototype;s.draw=function(){if(this.enabled){var m=this.plot,c=this.selectBox,b=this.borderWidth;this.innerFill;var v=this.innerColor;this.outerFill;var l=this.outerColor,p=this.borderColor,S=m.box,M=m.screenBox,R=m.dataBox,T=m.viewBox,E=m.pixelRatio,A=(c[0]-R[0])*(T[2]-T[0])/(R[2]-R[0])+T[0],f=(c[1]-R[1])*(T[3]-T[1])/(R[3]-R[1])+T[1],P=(c[2]-R[0])*(T[2]-T[0])/(R[2]-R[0])+T[0],w=(c[3]-R[1])*(T[3]-T[1])/(R[3]-R[1])+T[1];if(A=Math.max(A,T[0]),f=Math.max(f,T[1]),P=Math.min(P,T[2]),w=Math.min(w,T[3]),!(P<A||w<f)){S.bind();var z=M[2]-M[0],F=M[3]-M[1];if(this.outerFill&&(S.drawBox(0,0,z,f,l),S.drawBox(0,f,A,w,l),S.drawBox(0,w,z,F,l),S.drawBox(P,f,z,w,l)),this.innerFill&&S.drawBox(A,f,P,w,v),b>0){var H=b*E;S.drawBox(A-H,f-H,P+H,f+H,p),S.drawBox(A-H,w-H,P+H,w+H,p),S.drawBox(A-H,f-H,A+H,w+H,p),S.drawBox(P-H,f-H,P+H,w+H,p)}}}},s.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function o(m,c){var b=m.gl,v=u(b,[0,0,0,1,1,0,1,1]),l=r(b,n.boxVertex,n.boxFragment),p=new i(m,v,l);return p.update(c),m.addOverlay(p),p}},2611:function(h,d,t){h.exports=b;var r=t(4234),u=t(5306),n=t(5050),i=t(2288).nextPow2,s=function(v,l,p){for(var S=1e8,M=-1,R=-1,T=v.shape[0],E=v.shape[1],A=0;A<T;A++)for(var f=0;f<E;f++){var P=v.get(A,f,0),w=v.get(A,f,1),z=v.get(A,f,2),F=v.get(A,f,3);if(P<255||w<255||z<255||F<255){var H=l-A,_=p-f,B=H*H+_*_;B<S&&(S=B,M=A,R=f)}}return[M,R,S]};function o(v,l,p,S,M){this.coord=[v,l],this.id=p,this.value=S,this.distance=M}function m(v,l,p){this.gl=v,this.fbo=l,this.buffer=p,this._readTimeout=null;var S=this;this._readCallback=function(){S.gl&&(l.bind(),v.readPixels(0,0,l.shape[0],l.shape[1],v.RGBA,v.UNSIGNED_BYTE,S.buffer),S._readTimeout=null)}}var c=m.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(v){if(this.gl){this.fbo.shape=v;var l=this.fbo.shape[0],p=this.fbo.shape[1];if(p*l*4>this.buffer.length){u.free(this.buffer);for(var S=this.buffer=u.mallocUint8(i(p*l*4)),M=0;M<p*l*4;++M)S[M]=255}return v}}}),c.begin=function(){var v=this.gl;this.shape,v&&(this.fbo.bind(),v.clearColor(1,1,1,1),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT))},c.end=function(){var v=this.gl;v&&(v.bindFramebuffer(v.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(v,l,p){if(!this.gl)return null;var S=this.fbo.shape.slice();v=v|0,l=l|0,typeof p!="number"&&(p=1);var M=Math.min(Math.max(v-p,0),S[0])|0,R=Math.min(Math.max(v+p,0),S[0])|0,T=Math.min(Math.max(l-p,0),S[1])|0,E=Math.min(Math.max(l+p,0),S[1])|0;if(R<=M||E<=T)return null;var A=[R-M,E-T],f=n(this.buffer,[A[0],A[1],4],[4,S[0]*4,1],4*(M+S[0]*T)),P=s(f.hi(A[0],A[1],1),p,p),w=P[0],z=P[1];if(w<0||Math.pow(this.radius,2)<P[2])return null;var F=f.get(w,z,0),H=f.get(w,z,1),_=f.get(w,z,2),B=f.get(w,z,3);return new o(w+M|0,z+T|0,F,[H,_,B],Math.sqrt(P[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),u.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function b(v,l){var p=l[0],S=l[1],M={},R=r(v,p,S,M),T=u.mallocUint8(p*S*4);return new m(v,R,T)}},5158:function(h,d,t){var r=t(9016),u=t(4280),n=t(3984),i=t(1628),s=t(2631),o=t(9068);function m(l){this.gl=l,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=m.prototype;c.bind=function(){this.program||this._relink();var l,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),S=this.gl.lastAttribCount;if(p>S)for(l=S;l<p;l++)this.gl.enableVertexAttribArray(l);else if(S>p)for(l=p;l<S;l++)this.gl.disableVertexAttribArray(l);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},c.dispose=function(){for(var l=this.gl.lastAttribCount,p=0;p<l;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function b(l,p){return l.name<p.name?-1:1}c.update=function(l,p,S,M){if(!p||arguments.length===1){var R=l;l=R.vertex,p=R.fragment,S=R.uniforms,M=R.attributes}var T=this,E=T.gl,A=T._vref;T._vref=i.shader(E,E.VERTEX_SHADER,l),A&&A.dispose(),T.vertShader=T._vref.shader;var f=this._fref;if(T._fref=i.shader(E,E.FRAGMENT_SHADER,p),f&&f.dispose(),T.fragShader=T._fref.shader,!S||!M){var P=E.createProgram();if(E.attachShader(P,T.fragShader),E.attachShader(P,T.vertShader),E.linkProgram(P),!E.getProgramParameter(P,E.LINK_STATUS)){var w=E.getProgramInfoLog(P);throw new o(w,"Error linking program:"+w)}S=S||s.uniforms(E,P),M=M||s.attributes(E,P),E.deleteProgram(P)}M=M.slice(),M.sort(b);var z=[],F=[],H=[],_;for(_=0;_<M.length;++_){var B=M[_];if(B.type.indexOf("mat")>=0){for(var N=B.type.charAt(B.type.length-1)|0,O=new Array(N),U=0;U<N;++U)O[U]=H.length,F.push(B.name+"["+U+"]"),typeof B.location=="number"?H.push(B.location+U):Array.isArray(B.location)&&B.location.length===N&&typeof B.location[U]=="number"?H.push(B.location[U]|0):H.push(-1);z.push({name:B.name,type:B.type,locations:O})}else z.push({name:B.name,type:B.type,locations:[H.length]}),F.push(B.name),typeof B.location=="number"?H.push(B.location|0):H.push(-1)}var K=0;for(_=0;_<H.length;++_)if(H[_]<0){for(;H.indexOf(K)>=0;)K+=1;H[_]=K}var re=new Array(S.length);function ae(){T.program=i.program(E,T._vref,T._fref,F,H);for(var ue=0;ue<S.length;++ue)re[ue]=E.getUniformLocation(T.program,S[ue].name)}ae(),T._relink=ae,T.types={uniforms:n(S),attributes:n(M)},T.attributes=u(E,T,z,H),Object.defineProperty(T,"uniforms",r(E,T,S,re))};function v(l,p,S,M,R){var T=new m(l);return T.update(p,S,M,R),T}h.exports=v},9068:function(h){function d(t,r,u){this.shortMessage=r||"",this.longMessage=u||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(u?`
`+u:""),this.stack=new Error().stack}d.prototype=new Error,d.prototype.name="GLError",d.prototype.constructor=d,h.exports=d},4280:function(h,d,t){h.exports=m;var r=t(9068);function u(c,b,v,l,p,S){this._gl=c,this._wrapper=b,this._index=v,this._locations=l,this._dimension=p,this._constFunc=S}var n=u.prototype;n.pointer=function(b,v,l,p){var S=this,M=S._gl,R=S._locations[S._index];M.vertexAttribPointer(R,S._dimension,b||M.FLOAT,!!v,l||0,p||0),M.enableVertexAttribArray(R)},n.set=function(c,b,v,l){return this._constFunc(this._locations[this._index],c,b,v,l)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var i=[function(c,b,v){return v.length===void 0?c.vertexAttrib1f(b,v):c.vertexAttrib1fv(b,v)},function(c,b,v,l){return v.length===void 0?c.vertexAttrib2f(b,v,l):c.vertexAttrib2fv(b,v)},function(c,b,v,l,p){return v.length===void 0?c.vertexAttrib3f(b,v,l,p):c.vertexAttrib3fv(b,v)},function(c,b,v,l,p,S){return v.length===void 0?c.vertexAttrib4f(b,v,l,p,S):c.vertexAttrib4fv(b,v)}];function s(c,b,v,l,p,S,M){var R=i[p],T=new u(c,b,v,l,p,R);Object.defineProperty(S,M,{set:function(E){return c.disableVertexAttribArray(l[v]),R(c,l[v],E),E},get:function(){return T},enumerable:!0})}function o(c,b,v,l,p,S,M){for(var R=new Array(p),T=new Array(p),E=0;E<p;++E)s(c,b,v[E],l,p,R,E),T[E]=R[E];Object.defineProperty(R,"location",{set:function(P){if(Array.isArray(P))for(var w=0;w<p;++w)T[w].location=P[w];else for(var w=0;w<p;++w)T[w].location=P+w;return P},get:function(){for(var P=new Array(p),w=0;w<p;++w)P[w]=l[v[w]];return P},enumerable:!0}),R.pointer=function(P,w,z,F){P=P||c.FLOAT,w=!!w,z=z||p*p,F=F||0;for(var H=0;H<p;++H){var _=l[v[H]];c.vertexAttribPointer(_,p,P,w,z,F+H*p),c.enableVertexAttribArray(_)}};var A=new Array(p),f=c["vertexAttrib"+p+"fv"];Object.defineProperty(S,M,{set:function(P){for(var w=0;w<p;++w){var z=l[v[w]];if(c.disableVertexAttribArray(z),Array.isArray(P[0]))f.call(c,z,P[w]);else{for(var F=0;F<p;++F)A[F]=P[p*w+F];f.call(c,z,A)}}return P},get:function(){return R},enumerable:!0})}function m(c,b,v,l){for(var p={},S=0,M=v.length;S<M;++S){var R=v[S],T=R.name,E=R.type,A=R.locations;switch(E){case"bool":case"int":case"float":s(c,b,A[0],l,1,p,T);break;default:if(E.indexOf("vec")>=0){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new r("","Invalid data type for attribute "+T+": "+E);s(c,b,A[0],l,f,p,T)}else if(E.indexOf("mat")>=0){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new r("","Invalid data type for attribute "+T+": "+E);o(c,b,A,l,f,p,T)}else throw new r("","Unknown data type for attribute "+T+": "+E);break}}return p}},9016:function(h,d,t){var r=t(3984),u=t(9068);h.exports=s;function n(o){return function(){return o}}function i(o,m){for(var c=new Array(o),b=0;b<o;++b)c[b]=m;return c}function s(o,m,c,b){function v(E){return function(A,f,P){return A.getUniform(f.program,P[E])}}function l(E){return function(f){for(var P=p("",E),w=0;w<P.length;++w){var z=P[w],F=z[0],H=z[1];if(b[H]){var _=f;if(typeof F=="string"&&(F.indexOf(".")===0||F.indexOf("[")===0)){var B=F;if(F.indexOf(".")===0&&(B=F.slice(1)),B.indexOf("]")===B.length-1){var N=B.indexOf("["),O=B.slice(0,N),U=B.slice(N+1,B.length-1);_=O?f[O][U]:f[U]}else _=f[B]}var K=c[H].type,re;switch(K){case"bool":case"int":case"sampler2D":case"samplerCube":o.uniform1i(b[H],_);break;case"float":o.uniform1f(b[H],_);break;default:var ae=K.indexOf("vec");if(0<=ae&&ae<=1&&K.length===4+ae){if(re=K.charCodeAt(K.length-1)-48,re<2||re>4)throw new u("","Invalid data type");switch(K.charAt(0)){case"b":case"i":o["uniform"+re+"iv"](b[H],_);break;case"v":o["uniform"+re+"fv"](b[H],_);break;default:throw new u("","Unrecognized data type for vector "+name+": "+K)}}else if(K.indexOf("mat")===0&&K.length===4){if(re=K.charCodeAt(K.length-1)-48,re<2||re>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+K);o["uniformMatrix"+re+"fv"](b[H],!1,_);break}else throw new u("","Unknown uniform data type for "+name+": "+K)}}}}}function p(E,A){if(typeof A!="object")return[[E,A]];var f=[];for(var P in A){var w=A[P],z=E;parseInt(P)+""===P?z+="["+P+"]":z+="."+P,typeof w=="object"?f.push.apply(f,p(z,w)):f.push([z,w])}return f}function S(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var A=E.indexOf("vec");if(0<=A&&A<=1&&E.length===4+A){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new u("","Invalid data type");return E.charAt(0)==="b"?i(f,!1):i(f,0)}else if(E.indexOf("mat")===0&&E.length===4){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+E);return i(f*f,0)}else throw new u("","Unknown uniform data type for "+name+": "+E)}}function M(E,A,f){if(typeof f=="object"){var P=R(f);Object.defineProperty(E,A,{get:n(P),set:l(f),enumerable:!0,configurable:!1})}else b[f]?Object.defineProperty(E,A,{get:v(f),set:l(f),enumerable:!0,configurable:!1}):E[A]=S(c[f].type)}function R(E){var A;if(Array.isArray(E)){A=new Array(E.length);for(var f=0;f<E.length;++f)M(A,f,E[f])}else{A={};for(var P in E)M(A,P,E[P])}return A}var T=r(c,!0);return{get:n(R(T)),set:l(T),enumerable:!0,configurable:!0}}},3984:function(h){h.exports=d;function d(t,r){for(var u={},n=0;n<t.length;++n)for(var i=t[n].name,s=i.split("."),o=u,m=0;m<s.length;++m){var c=s[m].split("[");if(c.length>1){c[0]in o||(o[c[0]]=[]),o=o[c[0]];for(var b=1;b<c.length;++b){var v=parseInt(c[b]);b<c.length-1||m<s.length-1?(v in o||(b<c.length-1?o[v]=[]:o[v]={}),o=o[v]):r?o[v]=n:o[v]=t[n].type}}else m<s.length-1?(c[0]in o||(o[c[0]]={}),o=o[c[0]]):r?o[c[0]]=n:o[c[0]]=t[n].type}return u}},2631:function(h,d){d.uniforms=n,d.attributes=i;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function u(s,o){if(!r){var m=Object.keys(t);r={};for(var c=0;c<m.length;++c){var b=m[c];r[s[b]]=t[b]}}return r[o]}function n(s,o){for(var m=s.getProgramParameter(o,s.ACTIVE_UNIFORMS),c=[],b=0;b<m;++b){var v=s.getActiveUniform(o,b);if(v){var l=u(s,v.type);if(v.size>1)for(var p=0;p<v.size;++p)c.push({name:v.name.replace("[0]","["+p+"]"),type:l});else c.push({name:v.name,type:l})}}return c}function i(s,o){for(var m=s.getProgramParameter(o,s.ACTIVE_ATTRIBUTES),c=[],b=0;b<m;++b){var v=s.getActiveAttrib(o,b);v&&c.push({name:v.name,type:u(s,v.type)})}return c}},1628:function(h,d,t){d.shader=p,d.program=S;var r=t(9068),u=t(3530),n=typeof WeakMap>"u"?t(4037):WeakMap,i=new n,s=0;function o(M,R,T,E,A,f,P){this.id=M,this.src=R,this.type=T,this.shader=E,this.count=f,this.programs=[],this.cache=P}o.prototype.dispose=function(){if(--this.count===0){for(var M=this.cache,R=M.gl,T=this.programs,E=0,A=T.length;E<A;++E){var f=M.programs[T[E]];f&&(delete M.programs[E],R.deleteProgram(f))}R.deleteShader(this.shader),delete M.shaders[this.type===R.FRAGMENT_SHADER|0][this.src]}};function m(M){this.gl=M,this.shaders=[{},{}],this.programs={}}var c=m.prototype;function b(M,R,T){var E=M.createShader(R);if(M.shaderSource(E,T),M.compileShader(E),!M.getShaderParameter(E,M.COMPILE_STATUS)){var A=M.getShaderInfoLog(E);try{var f=u(A,T,R)}catch(P){throw console.warn("Failed to format compiler error: "+P),new r(A,`Error compiling shader:
`+A)}throw new r(A,f.short,f.long)}return E}c.getShaderReference=function(M,R){var T=this.gl,E=this.shaders[M===T.FRAGMENT_SHADER|0],A=E[R];if(!A||!T.isShader(A.shader)){var f=b(T,M,R);A=E[R]=new o(s++,R,M,f,[],1,this)}else A.count+=1;return A};function v(M,R,T,E,A){var f=M.createProgram();M.attachShader(f,R),M.attachShader(f,T);for(var P=0;P<E.length;++P)M.bindAttribLocation(f,A[P],E[P]);if(M.linkProgram(f),!M.getProgramParameter(f,M.LINK_STATUS)){var w=M.getProgramInfoLog(f);throw new r(w,"Error linking program: "+w)}return f}c.getProgram=function(M,R,T,E){var A=[M.id,R.id,T.join(":"),E.join(":")].join("@"),f=this.programs[A];return(!f||!this.gl.isProgram(f))&&(this.programs[A]=f=v(this.gl,M.shader,R.shader,T,E),M.programs.push(A),R.programs.push(A)),f};function l(M){var R=i.get(M);return R||(R=new m(M),i.set(M,R)),R}function p(M,R,T){return l(M).getShaderReference(R,T)}function S(M,R,T,E,A){return l(M).getProgram(R,T,E,A)}},3050:function(h){h.exports=r;function d(u){this.plot=u,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=d.prototype;t.update=function(u){u=u||{},this.enable=(u.enable||[!0,!0,!1,!1]).slice(),this.width=(u.width||[1,1,1,1]).slice(),this.color=(u.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(u.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var u=this.enable,n=this.width,i=this.color,s=this.center,o=this.plot,m=o.line,c=o.dataBox,b=o.viewBox;if(m.bind(),c[0]<=s[0]&&s[0]<=c[2]&&c[1]<=s[1]&&s[1]<=c[3]){var v=b[0]+(s[0]-c[0])/(c[2]-c[0])*(b[2]-b[0]),l=b[1]+(s[1]-c[1])/(c[3]-c[1])*(b[3]-b[1]);u[0]&&m.drawLine(v,l,b[0],l,n[0],i[0]),u[1]&&m.drawLine(v,l,v,b[1],n[1],i[1]),u[2]&&m.drawLine(v,l,b[2],l,n[2],i[2]),u[3]&&m.drawLine(v,l,v,b[3],n[3],i[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(u,n){var i=new d(u);return i.update(n),u.addOverlay(i),i}},3540:function(h,d,t){var r=t(6832),u=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),i=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);h.exports=function(s){return u(s,n,i,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(h,d,t){var r=t(5827),u=t(2944),n=t(3540);h.exports=v;var i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(l,p,S,M){this.gl=l,this.buffer=p,this.vao=S,this.shader=M,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var o=s.prototype,m=[0,0,0],c=[0,0,0],b=[0,0];o.isTransparent=function(){return!1},o.drawTransparent=function(l){},o.draw=function(l){var p=this.gl,S=this.vao,M=this.shader;S.bind(),M.bind();var R=l.model||i,T=l.view||i,E=l.projection||i,A;this.axes&&(A=this.axes.lastCubeProps.axis);for(var f=m,P=c,w=0;w<3;++w)A&&A[w]<0?(f[w]=this.bounds[0][w],P[w]=this.bounds[1][w]):(f[w]=this.bounds[1][w],P[w]=this.bounds[0][w]);b[0]=p.drawingBufferWidth,b[1]=p.drawingBufferHeight,M.uniforms.model=R,M.uniforms.view=T,M.uniforms.projection=E,M.uniforms.coordinates=[this.position,f,P],M.uniforms.colors=this.colors,M.uniforms.screenShape=b;for(var w=0;w<3;++w)M.uniforms.lineWidth=this.lineWidth[w]*this.pixelRatio,this.enabled[w]&&(S.draw(p.TRIANGLES,6,6*w),this.drawSides[w]&&S.draw(p.TRIANGLES,12,18+12*w));S.unbind()},o.update=function(l){l&&("bounds"in l&&(this.bounds=l.bounds),"position"in l&&(this.position=l.position),"lineWidth"in l&&(this.lineWidth=l.lineWidth),"colors"in l&&(this.colors=l.colors),"enabled"in l&&(this.enabled=l.enabled),"drawSides"in l&&(this.drawSides=l.drawSides))},o.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function v(l,p){var S=[];function M(f,P,w,z,F,H){var _=[f,P,w,0,0,0,1];_[z+3]=1,_[z]=F,S.push.apply(S,_),_[6]=-1,S.push.apply(S,_),_[z]=H,S.push.apply(S,_),S.push.apply(S,_),_[6]=1,S.push.apply(S,_),_[z]=F,S.push.apply(S,_)}M(0,0,0,0,0,1),M(0,0,0,1,0,1),M(0,0,0,2,0,1),M(1,0,0,1,-1,1),M(1,0,0,2,-1,1),M(0,1,0,0,-1,1),M(0,1,0,2,-1,1),M(0,0,1,0,-1,1),M(0,0,1,1,-1,1);var R=r(l,S),T=u(l,[{type:l.FLOAT,buffer:R,size:3,offset:0,stride:28},{type:l.FLOAT,buffer:R,size:3,offset:12,stride:28},{type:l.FLOAT,buffer:R,size:1,offset:24,stride:28}]),E=n(l);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var A=new s(l,R,T,E);return A.update(p),A}},9578:function(h,d,t){var r=t(6832),u=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),i=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:u,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},d.pickShader={vertex:i,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(h,d,t){var r=t(2858),u=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],i=function(S,M,R,T){for(var E=S.points,A=S.velocities,f=S.divergences,P=[],w=[],z=[],F=[],H=[],_=[],B=0,N=0,O=u.create(),U=u.create(),K=8,re=0;re<E.length;re++){var ae=E[re],ue=A[re],ve=f[re];M===0&&(ve=R*.05),N=r.length(ue)/T,O=u.create(),r.copy(O,ue),O[3]=ve;for(var ee=0;ee<K;ee++)H[ee]=[ae[0],ae[1],ae[2],ee];if(F.length>0)for(var ee=0;ee<K;ee++){var J=(ee+1)%K;P.push(F[ee],H[ee],H[J],H[J],F[J],F[ee]),z.push(U,O,O,O,U,U),_.push(B,N,N,N,B,B);var Q=P.length;w.push([Q-6,Q-5,Q-4],[Q-3,Q-2,Q-1])}var X=F;F=H,H=X;var q=U;U=O,O=q;var se=B;B=N,N=se}return{positions:P,cells:w,vectors:z,vertexIntensity:_}},s=function(S,M,R,T){for(var E=0,A=0;A<S.length;A++)for(var f=S[A].velocities,P=0;P<f.length;P++)E=Math.max(E,r.length(f[P]));for(var w=S.map(function(re){return i(re,R,T,E)}),z=[],F=[],H=[],_=[],A=0;A<w.length;A++){var B=w[A],N=z.length;z=z.concat(B.positions),H=H.concat(B.vectors),_=_.concat(B.vertexIntensity);for(var P=0;P<B.cells.length;P++){var O=B.cells[P],U=[];F.push(U);for(var K=0;K<O.length;K++)U.push(O[K]+N)}}return{positions:z,cells:F,vectors:H,vertexIntensity:_,colormap:M}},o=function(S,M){var R=S.length,T;for(T=0;T<R;T++){var E=S[T];if(E===M)return T;if(E>M)return T-1}return T},m=function(S,M,R){return S<M?M:S>R?R:S},c=function(S,M,R){var T=M.vectors,E=M.meshgrid,A=S[0],f=S[1],P=S[2],w=E[0].length,z=E[1].length,F=E[2].length,H=o(E[0],A),_=o(E[1],f),B=o(E[2],P),N=H+1,O=_+1,U=B+1;if(H=m(H,0,w-1),N=m(N,0,w-1),_=m(_,0,z-1),O=m(O,0,z-1),B=m(B,0,F-1),U=m(U,0,F-1),H<0||_<0||B<0||N>w-1||O>z-1||U>F-1)return r.create();var K=E[0][H],re=E[0][N],ae=E[1][_],ue=E[1][O],ve=E[2][B],ee=E[2][U],J=(A-K)/(re-K),Q=(f-ae)/(ue-ae),X=(P-ve)/(ee-ve);isFinite(J)||(J=.5),isFinite(Q)||(Q=.5),isFinite(X)||(X=.5);var q,se,Y,Z,ie,te;switch(R.reversedX&&(H=w-1-H,N=w-1-N),R.reversedY&&(_=z-1-_,O=z-1-O),R.reversedZ&&(B=F-1-B,U=F-1-U),R.filled){case 5:ie=B,te=U,Y=_*F,Z=O*F,q=H*F*z,se=N*F*z;break;case 4:ie=B,te=U,q=H*F,se=N*F,Y=_*F*w,Z=O*F*w;break;case 3:Y=_,Z=O,ie=B*z,te=U*z,q=H*z*F,se=N*z*F;break;case 2:Y=_,Z=O,q=H*z,se=N*z,ie=B*z*w,te=U*z*w;break;case 1:q=H,se=N,ie=B*w,te=U*w,Y=_*w*F,Z=O*w*F;break;default:q=H,se=N,Y=_*w,Z=O*w,ie=B*w*z,te=U*w*z;break}var fe=T[q+Y+ie],de=T[q+Y+te],we=T[q+Z+ie],Ae=T[q+Z+te],Re=T[se+Y+ie],Fe=T[se+Y+te],Se=T[se+Z+ie],Te=T[se+Z+te],Ee=r.create(),Ne=r.create(),He=r.create(),_e=r.create();r.lerp(Ee,fe,Re,J),r.lerp(Ne,de,Fe,J),r.lerp(He,we,Se,J),r.lerp(_e,Ae,Te,J);var We=r.create(),tt=r.create();r.lerp(We,Ee,He,Q),r.lerp(tt,Ne,_e,Q);var Ke=r.create();return r.lerp(Ke,We,tt,X),Ke},b=function(S){var M=1/0;S.sort(function(A,f){return A-f});for(var R=S.length,T=1;T<R;T++){var E=Math.abs(S[T]-S[T-1]);E<M&&(M=E)}return M},v=function(S){for(var M=[],R=[],T=[],E={},A={},f={},P=S.length,w=0;w<P;w++){var z=S[w],F=z[0],H=z[1],_=z[2];E[F]||(M.push(F),E[F]=!0),A[H]||(R.push(H),A[H]=!0),f[_]||(T.push(_),f[_]=!0)}var B=b(M),N=b(R),O=b(T),U=Math.min(B,N,O);return isFinite(U)?U:1};h.exports=function(S,M){var R=S.startingPositions,T=S.maxLength||1e3,E=S.tubeSize||1,A=S.absoluteTubeSize,f=S.gridFill||"+x+y+z",P={};f.indexOf("-x")!==-1&&(P.reversedX=!0),f.indexOf("-y")!==-1&&(P.reversedY=!0),f.indexOf("-z")!==-1&&(P.reversedZ=!0),P.filled=n.indexOf(f.replace(/-/g,"").replace(/\+/g,""));var w=S.getVelocity||function(Fe){return c(Fe,S,P)},z=S.getDivergence||function(Fe,Se){var Te=r.create(),Ee=1e-4;r.add(Te,Fe,[Ee,0,0]);var Ne=w(Te);r.subtract(Ne,Ne,Se),r.scale(Ne,Ne,1/Ee),r.add(Te,Fe,[0,Ee,0]);var He=w(Te);r.subtract(He,He,Se),r.scale(He,He,1/Ee),r.add(Te,Fe,[0,0,Ee]);var _e=w(Te);return r.subtract(_e,_e,Se),r.scale(_e,_e,1/Ee),r.add(Te,Ne,He),r.add(Te,Te,_e),Te},F=[],H=M[0][0],_=M[0][1],B=M[0][2],N=M[1][0],O=M[1][1],U=M[1][2],K=function(Fe){var Se=Fe[0],Te=Fe[1],Ee=Fe[2];return!(Se<H||Se>N||Te<_||Te>O||Ee<B||Ee>U)},re=r.distance(M[0],M[1]),ae=10*re/T,ue=ae*ae,ve=1,ee=0,J=R.length;J>1&&(ve=v(R));for(var Q=0;Q<J;Q++){var X=r.create();r.copy(X,R[Q]);var q=[X],se=[],Y=w(X),Z=X;se.push(Y);var ie=[],te=z(X,Y),fe=r.length(te);isFinite(fe)&&fe>ee&&(ee=fe),ie.push(fe),F.push({points:q,velocities:se,divergences:ie});for(var de=0;de<T*100&&q.length<T&&K(X);){de++;var we=r.clone(Y),Ae=r.squaredLength(we);if(Ae===0)break;if(Ae>ue&&r.scale(we,we,ae/Math.sqrt(Ae)),r.add(we,we,X),Y=w(we),r.squaredDistance(Z,we)-ue>-1e-4*ue){q.push(we),Z=we,se.push(Y);var te=z(we,Y),fe=r.length(te);isFinite(fe)&&fe>ee&&(ee=fe),ie.push(fe)}X=we}}var Re=s(F,S.colormap,ee,ve);return A?Re.tubeScale=A:(ee===0&&(ee=1),Re.tubeScale=E*.5*ve/ee),Re};var l=t(9578),p=t(1140).createMesh;h.exports.createTubeMesh=function(S,M){return p(S,M,{shaders:l,traceType:"streamtube"})}},9054:function(h,d,t){var r=t(5158),u=t(6832),n=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),i=u([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),s=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),o=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);d.createShader=function(m){var c=r(m,n,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},d.createPickShader=function(m){var c=r(m,n,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},d.createContourShader=function(m){var c=r(m,s,i,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},d.createPickContourShader=function(m){var c=r(m,s,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(h,d,t){h.exports=se;var r=t(2288),u=t(5827),n=t(2944),i=t(8931),s=t(5306),o=t(9156),m=t(7498),c=t(7382),b=t(5050),v=t(4162),l=t(104),p=t(7437),S=t(5070),M=t(9144),R=t(9054),T=R.createShader,E=R.createContourShader,A=R.createPickShader,f=R.createPickContourShader,P=4*(4+3+3),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],z=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],F=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Y=0;Y<3;++Y){var Z=F[Y],ie=(Y+1)%3,te=(Y+2)%3;Z[ie+0]=1,Z[te+3]=1,Z[Y+6]=1}})();function H(Y,Z,ie,te,fe){this.position=Y,this.index=Z,this.uv=ie,this.level=te,this.dataCoordinate=fe}var _=256;function B(Y,Z,ie,te,fe,de,we,Ae,Re,Fe,Se,Te,Ee,Ne,He){this.gl=Y,this.shape=Z,this.bounds=ie,this.objectOffset=He,this.intensityBounds=[],this._shader=te,this._pickShader=fe,this._coordinateBuffer=de,this._vao=we,this._colorMap=Ae,this._contourShader=Re,this._contourPickShader=Fe,this._contourBuffer=Se,this._contourVAO=Te,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new H([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ee,this._dynamicVAO=Ne,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(s.mallocFloat(1024),[0,0]),b(s.mallocFloat(1024),[0,0]),b(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var N=B.prototype;N.genColormap=function(Y,Z){var ie=!1,te=c([o({colormap:Y,nshades:_,format:"rgba"}).map(function(fe,de){var we=Z?O(de/255,Z):fe[3];return we<1&&(ie=!0),[fe[0],fe[1],fe[2],255*we]})]);return m.divseq(te,255),this.hasAlphaScale=ie,te},N.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},N.isOpaque=function(){return!this.isTransparent()},N.pickSlots=1,N.setPickBase=function(Y){this.pickId=Y};function O(Y,Z){if(!Z||!Z.length)return 1;for(var ie=0;ie<Z.length;++ie){if(Z.length<2)return 1;if(Z[ie][0]===Y)return Z[ie][1];if(Z[ie][0]>Y&&ie>0){var te=(Z[ie][0]-Y)/(Z[ie][0]-Z[ie-1][0]);return Z[ie][1]*(1-te)+te*Z[ie-1][1]}}return 1}var U=[0,0,0],K={showSurface:!1,showContour:!1,projections:[w.slice(),w.slice(),w.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function re(Y,Z){var ie,te,fe,de=Z.axes&&Z.axes.lastCubeProps.axis||U,we=Z.showSurface,Ae=Z.showContour;for(ie=0;ie<3;++ie)for(we=we||Z.surfaceProject[ie],te=0;te<3;++te)Ae=Ae||Z.contourProject[ie][te];for(ie=0;ie<3;++ie){var Re=K.projections[ie];for(te=0;te<16;++te)Re[te]=0;for(te=0;te<4;++te)Re[5*te]=1;Re[5*ie]=0,Re[12+ie]=Z.axesBounds[+(de[ie]>0)][ie],l(Re,Y.model,Re);var Fe=K.clipBounds[ie];for(fe=0;fe<2;++fe)for(te=0;te<3;++te)Fe[fe][te]=Y.clipBounds[fe][te];Fe[0][ie]=-1e8,Fe[1][ie]=1e8}return K.showSurface=we,K.showContour=Ae,K}var ae={model:w,view:w,projection:w,inverseModel:w.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ue=w.slice(),ve=[1,0,0,0,1,0,0,0,1];function ee(Y,Z){Y=Y||{};var ie=this.gl;ie.disable(ie.CULL_FACE),this._colorMap.bind(0);var te=ae;te.model=Y.model||w,te.view=Y.view||w,te.projection=Y.projection||w,te.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],te.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],te.objectOffset=this.objectOffset,te.contourColor=this.contourColor[0],te.inverseModel=p(te.inverseModel,te.model);for(var fe=0;fe<2;++fe)for(var de=te.clipBounds[fe],we=0;we<3;++we)de[we]=Math.min(Math.max(this.clipBounds[fe][we],-1e8),1e8);te.kambient=this.ambientLight,te.kdiffuse=this.diffuseLight,te.kspecular=this.specularLight,te.roughness=this.roughness,te.fresnel=this.fresnel,te.opacity=this.opacity,te.height=0,te.permutation=ve,te.vertexColor=this.vertexColor;var Ae=ue;for(l(Ae,te.view,te.model),l(Ae,te.projection,Ae),p(Ae,Ae),fe=0;fe<3;++fe)te.eyePosition[fe]=Ae[12+fe]/Ae[15];var Re=Ae[15];for(fe=0;fe<3;++fe)Re+=this.lightPosition[fe]*Ae[4*fe+3];for(fe=0;fe<3;++fe){var Fe=Ae[12+fe];for(we=0;we<3;++we)Fe+=Ae[4*we+fe]*this.lightPosition[we];te.lightPosition[fe]=Fe/Re}var Se=re(te,this);if(Se.showSurface){for(this._shader.bind(),this._shader.uniforms=te,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ie.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Se.projections[fe],this._shader.uniforms.clipBounds=Se.clipBounds[fe],this._vao.draw(ie.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var Te=this._contourShader;te.kambient=1,te.kdiffuse=0,te.kspecular=0,te.opacity=1,Te.bind(),Te.uniforms=te;var Ee=this._contourVAO;for(Ee.bind(),fe=0;fe<3;++fe)for(Te.uniforms.permutation=F[fe],ie.lineWidth(this.contourWidth[fe]*this.pixelRatio),we=0;we<this.contourLevels[fe].length;++we)we===this.highlightLevel[fe]?(Te.uniforms.contourColor=this.highlightColor[fe],Te.uniforms.contourTint=this.highlightTint[fe]):(we===0||we-1===this.highlightLevel[fe])&&(Te.uniforms.contourColor=this.contourColor[fe],Te.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][we]&&(Te.uniforms.height=this.contourLevels[fe][we],Ee.draw(ie.LINES,this._contourCounts[fe][we],this._contourOffsets[fe][we]));for(fe=0;fe<3;++fe)for(Te.uniforms.model=Se.projections[fe],Te.uniforms.clipBounds=Se.clipBounds[fe],we=0;we<3;++we)if(this.contourProject[fe][we]){Te.uniforms.permutation=F[we],ie.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ne=0;Ne<this.contourLevels[we].length;++Ne)Ne===this.highlightLevel[we]?(Te.uniforms.contourColor=this.highlightColor[we],Te.uniforms.contourTint=this.highlightTint[we]):(Ne===0||Ne-1===this.highlightLevel[we])&&(Te.uniforms.contourColor=this.contourColor[we],Te.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Ne]&&(Te.uniforms.height=this.contourLevels[we][Ne],Ee.draw(ie.LINES,this._contourCounts[we][Ne],this._contourOffsets[we][Ne]))}for(Ee.unbind(),Ee=this._dynamicVAO,Ee.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(Te.uniforms.model=te.model,Te.uniforms.clipBounds=te.clipBounds,Te.uniforms.permutation=F[fe],ie.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),Te.uniforms.contourColor=this.dynamicColor[fe],Te.uniforms.contourTint=this.dynamicTint[fe],Te.uniforms.height=this.dynamicLevel[fe],Ee.draw(ie.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),we=0;we<3;++we)this.contourProject[we][fe]&&(Te.uniforms.model=Se.projections[we],Te.uniforms.clipBounds=Se.clipBounds[we],Ee.draw(ie.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));Ee.unbind()}}N.draw=function(Y){return ee.call(this,Y,!1)},N.drawTransparent=function(Y){return ee.call(this,Y,!0)};var J={model:w,view:w,projection:w,inverseModel:w,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};N.drawPick=function(Y){Y=Y||{};var Z=this.gl;Z.disable(Z.CULL_FACE);var ie=J;ie.model=Y.model||w,ie.view=Y.view||w,ie.projection=Y.projection||w,ie.shape=this._field[2].shape,ie.pickId=this.pickId/255,ie.lowerBound=this.bounds[0],ie.upperBound=this.bounds[1],ie.objectOffset=this.objectOffset,ie.permutation=ve;for(var te=0;te<2;++te)for(var fe=ie.clipBounds[te],de=0;de<3;++de)fe[de]=Math.min(Math.max(this.clipBounds[te][de],-1e8),1e8);var we=re(ie,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ie,this._vao.bind(),this._vao.draw(Z.TRIANGLES,this._vertexCount),te=0;te<3;++te)this.surfaceProject[te]&&(this._pickShader.uniforms.model=we.projections[te],this._pickShader.uniforms.clipBounds=we.clipBounds[te],this._vao.draw(Z.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=ie;var Re=this._contourVAO;for(Re.bind(),de=0;de<3;++de)for(Z.lineWidth(this.contourWidth[de]*this.pixelRatio),Ae.uniforms.permutation=F[de],te=0;te<this.contourLevels[de].length;++te)this._contourCounts[de][te]&&(Ae.uniforms.height=this.contourLevels[de][te],Re.draw(Z.LINES,this._contourCounts[de][te],this._contourOffsets[de][te]));for(te=0;te<3;++te)for(Ae.uniforms.model=we.projections[te],Ae.uniforms.clipBounds=we.clipBounds[te],de=0;de<3;++de)if(this.contourProject[te][de]){Ae.uniforms.permutation=F[de],Z.lineWidth(this.contourWidth[de]*this.pixelRatio);for(var Fe=0;Fe<this.contourLevels[de].length;++Fe)this._contourCounts[de][Fe]&&(Ae.uniforms.height=this.contourLevels[de][Fe],Re.draw(Z.LINES,this._contourCounts[de][Fe],this._contourOffsets[de][Fe]))}Re.unbind()}},N.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;var Z=this._field[2].shape,ie=this._pickResult,te=Z[0]*(Y.value[0]+(Y.value[2]>>4)/16)/255,fe=Math.floor(te),de=te-fe,we=Z[1]*(Y.value[1]+(Y.value[2]&15)/16)/255,Ae=Math.floor(we),Re=we-Ae;fe+=1,Ae+=1;var Fe=ie.position;Fe[0]=Fe[1]=Fe[2]=0;for(var Se=0;Se<2;++Se)for(var Te=Se?de:1-de,Ee=0;Ee<2;++Ee)for(var Ne=Ee?Re:1-Re,He=fe+Se,_e=Ae+Ee,We=Te*Ne,tt=0;tt<3;++tt)Fe[tt]+=this._field[tt].get(He,_e)*We;for(var Ke=this._pickResult.level,qe=0;qe<3;++qe)if(Ke[qe]=S.le(this.contourLevels[qe],Fe[qe]),Ke[qe]<0)this.contourLevels[qe].length>0&&(Ke[qe]=0);else if(Ke[qe]<this.contourLevels[qe].length-1){var rt=this.contourLevels[qe][Ke[qe]],ft=this.contourLevels[qe][Ke[qe]+1];Math.abs(rt-Fe[qe])>Math.abs(ft-Fe[qe])&&(Ke[qe]+=1)}for(ie.index[0]=de<.5?fe:fe+1,ie.index[1]=Re<.5?Ae:Ae+1,ie.uv[0]=te/Z[0],ie.uv[1]=we/Z[1],tt=0;tt<3;++tt)ie.dataCoordinate[tt]=this._field[tt].get(ie.index[0],ie.index[1]);return ie},N.padField=function(Y,Z){var ie=Z.shape.slice(),te=Y.shape.slice();m.assign(Y.lo(1,1).hi(ie[0],ie[1]),Z),m.assign(Y.lo(1).hi(ie[0],1),Z.hi(ie[0],1)),m.assign(Y.lo(1,te[1]-1).hi(ie[0],1),Z.lo(0,ie[1]-1).hi(ie[0],1)),m.assign(Y.lo(0,1).hi(1,ie[1]),Z.hi(1)),m.assign(Y.lo(te[0]-1,1).hi(1,ie[1]),Z.lo(ie[0]-1)),Y.set(0,0,Z.get(0,0)),Y.set(0,te[1]-1,Z.get(0,ie[1]-1)),Y.set(te[0]-1,0,Z.get(ie[0]-1,0)),Y.set(te[0]-1,te[1]-1,Z.get(ie[0]-1,ie[1]-1))};function Q(Y,Z){return Array.isArray(Y)?[Z(Y[0]),Z(Y[1]),Z(Y[2])]:[Z(Y),Z(Y),Z(Y)]}function X(Y){return Array.isArray(Y)?Y.length===3?[Y[0],Y[1],Y[2],1]:[Y[0],Y[1],Y[2],Y[3]]:[0,0,0,1]}function q(Y){if(Array.isArray(Y)){if(Array.isArray(Y))return[X(Y[0]),X(Y[1]),X(Y[2])];var Z=X(Y);return[Z.slice(),Z.slice(),Z.slice()]}}N.update=function(Y){Y=Y||{},this.objectOffset=Y.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Y&&(this.contourWidth=Q(Y.contourWidth,Number)),"showContour"in Y&&(this.showContour=Q(Y.showContour,Boolean)),"showSurface"in Y&&(this.showSurface=!!Y.showSurface),"contourTint"in Y&&(this.contourTint=Q(Y.contourTint,Boolean)),"contourColor"in Y&&(this.contourColor=q(Y.contourColor)),"contourProject"in Y&&(this.contourProject=Q(Y.contourProject,function(_t){return Q(_t,Boolean)})),"surfaceProject"in Y&&(this.surfaceProject=Y.surfaceProject),"dynamicColor"in Y&&(this.dynamicColor=q(Y.dynamicColor)),"dynamicTint"in Y&&(this.dynamicTint=Q(Y.dynamicTint,Number)),"dynamicWidth"in Y&&(this.dynamicWidth=Q(Y.dynamicWidth,Number)),"opacity"in Y&&(this.opacity=Y.opacity),"opacityscale"in Y&&(this.opacityscale=Y.opacityscale),"colorBounds"in Y&&(this.colorBounds=Y.colorBounds),"vertexColor"in Y&&(this.vertexColor=Y.vertexColor?1:0),"colormap"in Y&&this._colorMap.setPixels(this.genColormap(Y.colormap,this.opacityscale));var Z=Y.field||Y.coords&&Y.coords[2]||null,ie=!1;if(Z||(this._field[2].shape[0]||this._field[2].shape[2]?Z=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):Z=this._field[2].hi(0,0)),"field"in Y||"coords"in Y){var te=(Z.shape[0]+2)*(Z.shape[1]+2);te>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(r.nextPow2(te))),this._field[2]=b(this._field[2].data,[Z.shape[0]+2,Z.shape[1]+2]),this.padField(this._field[2],Z),this.shape=Z.shape.slice();for(var fe=this.shape,de=0;de<2;++de)this._field[2].size>this._field[de].data.length&&(s.freeFloat(this._field[de].data),this._field[de].data=s.mallocFloat(this._field[2].size)),this._field[de]=b(this._field[de].data,[fe[0]+2,fe[1]+2]);if(Y.coords){var we=Y.coords;if(!Array.isArray(we)||we.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(de=0;de<2;++de){var Ae=we[de];for(Ee=0;Ee<2;++Ee)if(Ae.shape[Ee]!==fe[Ee])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[de],Ae)}}else if(Y.ticks){var Re=Y.ticks;if(!Array.isArray(Re)||Re.length!==2)throw new Error("gl-surface: invalid ticks");for(de=0;de<2;++de){var Fe=Re[de];if((Array.isArray(Fe)||Fe.length)&&(Fe=b(Fe)),Fe.shape[0]!==fe[de])throw new Error("gl-surface: invalid tick length");var Se=b(Fe.data,fe);Se.stride[de]=Fe.stride[0],Se.stride[de^1]=0,this.padField(this._field[de],Se)}}else{for(de=0;de<2;++de){var Te=[0,0];Te[de]=1,this._field[de]=b(this._field[de].data,[fe[0]+2,fe[1]+2],Te,0)}this._field[0].set(0,0,0);for(var Ee=0;Ee<fe[0];++Ee)this._field[0].set(Ee+1,0,Ee);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),Ee=0;Ee<fe[1];++Ee)this._field[1].set(0,Ee+1,Ee);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Ne=this._field,He=b(s.mallocFloat(Ne[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(de=0;de<3;++de)M(He.pick(de),Ne[de],"mirror");var _e=b(s.mallocFloat(Ne[2].size*3),[fe[0]+2,fe[1]+2,3]);for(de=0;de<fe[0]+2;++de)for(Ee=0;Ee<fe[1]+2;++Ee){var We=He.get(0,de,Ee,0),tt=He.get(0,de,Ee,1),Ke=He.get(1,de,Ee,0),qe=He.get(1,de,Ee,1),rt=He.get(2,de,Ee,0),ft=He.get(2,de,Ee,1),pt=Ke*ft-qe*rt,gt=rt*tt-ft*We,Mt=We*qe-tt*Ke,Lt=Math.sqrt(pt*pt+gt*gt+Mt*Mt);Lt<1e-8?(Lt=Math.max(Math.abs(pt),Math.abs(gt),Math.abs(Mt)),Lt<1e-8?(Mt=1,gt=pt=0,Lt=1):Lt=1/Lt):Lt=1/Math.sqrt(Lt),_e.set(de,Ee,0,pt*Lt),_e.set(de,Ee,1,gt*Lt),_e.set(de,Ee,2,Mt*Lt)}s.free(He.data);var Wt=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],ze=1/0,Oe=-1/0,Ue=(fe[0]-1)*(fe[1]-1)*6,ke=s.mallocFloat(r.nextPow2(10*Ue)),Me=0,ce=0;for(de=0;de<fe[0]-1;++de)e:for(Ee=0;Ee<fe[1]-1;++Ee){for(var be=0;be<2;++be)for(var De=0;De<2;++De)for(var Ve=0;Ve<3;++Ve){var it=this._field[Ve].get(1+de+be,1+Ee+De);if(isNaN(it)||!isFinite(it))continue e}for(Ve=0;Ve<6;++Ve){var ot=de+z[Ve][0],Tt=Ee+z[Ve][1],It=this._field[0].get(ot+1,Tt+1),Ht=this._field[1].get(ot+1,Tt+1);it=this._field[2].get(ot+1,Tt+1),pt=_e.get(ot+1,Tt+1,0),gt=_e.get(ot+1,Tt+1,1),Mt=_e.get(ot+1,Tt+1,2),Y.intensity&&(Gt=Y.intensity.get(ot,Tt));var Gt=Y.intensity?Y.intensity.get(ot,Tt):it+this.objectOffset[2];ke[Me++]=ot,ke[Me++]=Tt,ke[Me++]=It,ke[Me++]=Ht,ke[Me++]=it,ke[Me++]=0,ke[Me++]=Gt,ke[Me++]=pt,ke[Me++]=gt,ke[Me++]=Mt,Wt[0]=Math.min(Wt[0],It+this.objectOffset[0]),Wt[1]=Math.min(Wt[1],Ht+this.objectOffset[1]),Wt[2]=Math.min(Wt[2],it+this.objectOffset[2]),ze=Math.min(ze,Gt),Je[0]=Math.max(Je[0],It+this.objectOffset[0]),Je[1]=Math.max(Je[1],Ht+this.objectOffset[1]),Je[2]=Math.max(Je[2],it+this.objectOffset[2]),Oe=Math.max(Oe,Gt),ce+=1}}for(Y.intensityBounds&&(ze=+Y.intensityBounds[0],Oe=+Y.intensityBounds[1]),de=6;de<Me;de+=10)ke[de]=(ke[de]-ze)/(Oe-ze);this._vertexCount=ce,this._coordinateBuffer.update(ke.subarray(0,Me)),s.freeFloat(ke),s.free(_e.data),this.bounds=[Wt,Je],this.intensity=Y.intensity||this._field[2],(this.intensityBounds[0]!==ze||this.intensityBounds[1]!==Oe)&&(ie=!0),this.intensityBounds=[ze,Oe]}if("levels"in Y){var Pt=Y.levels;for(Array.isArray(Pt[0])?Pt=Pt.slice():Pt=[[],[],Pt],de=0;de<3;++de)Pt[de]=Pt[de].slice(),Pt[de].sort(function(_t,Zt){return _t-Zt});for(de=0;de<3;++de)for(Ee=0;Ee<Pt[de].length;++Ee)Pt[de][Ee]-=this.objectOffset[de];e:for(de=0;de<3;++de){if(Pt[de].length!==this.contourLevels[de].length){ie=!0;break}for(Ee=0;Ee<Pt[de].length;++Ee)if(Pt[de][Ee]!==this.contourLevels[de][Ee]){ie=!0;break e}}this.contourLevels=Pt}if(ie){Ne=this._field,fe=this.shape;for(var Jt=[],or=0;or<3;++or){var zr=this.contourLevels[or],mt=[],Kt=[],jt=[0,0,0];for(de=0;de<zr.length;++de){var wr=v(this._field[or],zr[de]);mt.push(Jt.length/5|0),ce=0;e:for(Ee=0;Ee<wr.cells.length;++Ee){var vr=wr.cells[Ee];for(Ve=0;Ve<2;++Ve){var ct=wr.positions[vr[Ve]],ut=ct[0],bt=Math.floor(ut)|0,At=ut-bt,Ct=ct[1],St=Math.floor(Ct)|0,zt=Ct-St,Vt=!1;t:for(var qt=0;qt<3;++qt){jt[qt]=0;var $t=(or+qt+1)%3;for(be=0;be<2;++be){var sr=be?At:1-At;for(ot=Math.min(Math.max(bt+be,0),fe[0])|0,De=0;De<2;++De){var Cr=De?zt:1-zt;if(Tt=Math.min(Math.max(St+De,0),fe[1])|0,qt<2?it=this._field[$t].get(ot,Tt):it=(this.intensity.get(ot,Tt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(it)||isNaN(it)){Vt=!0;break t}var Ze=sr*Cr;jt[qt]+=Ze*it}}}if(!Vt)Jt.push(jt[0],jt[1],ct[0],ct[1],jt[2]),ce+=1;else{if(Ve>0){for(var je=0;je<5;++je)Jt.pop();ce-=1}continue e}}}Kt.push(ce)}this._contourOffsets[or]=mt,this._contourCounts[or]=Kt}var kt=s.mallocFloat(Jt.length);for(de=0;de<Jt.length;++de)kt[de]=Jt[de];this._contourBuffer.update(kt),s.freeFloat(kt)}},N.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Y=0;Y<3;++Y)s.freeFloat(this._field[Y].data)},N.highlight=function(Y){var Z;if(!Y){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(Z=0;Z<3;++Z)this.enableHighlight[Z]?this.highlightLevel[Z]=Y.level[Z]:this.highlightLevel[Z]=-1;var ie;for(this.snapToData?ie=Y.dataCoordinate:ie=Y.position,Z=0;Z<3;++Z)ie[Z]-=this.objectOffset[Z];if(!((!this.enableDynamic[0]||ie[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ie[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ie[2]===this.dynamicLevel[2]))){for(var te=0,fe=this.shape,de=s.mallocFloat(12*fe[0]*fe[1]),we=0;we<3;++we){if(!this.enableDynamic[we]){this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;continue}this.dynamicLevel[we]=ie[we];var Ae=(we+1)%3,Re=(we+2)%3,Fe=this._field[we],Se=this._field[Ae],Te=this._field[Re],Ee=v(Fe,ie[we]),Ne=Ee.cells,He=Ee.positions;for(this._dynamicOffsets[we]=te,Z=0;Z<Ne.length;++Z)for(var _e=Ne[Z],We=0;We<2;++We){var tt=He[_e[We]],Ke=+tt[0],qe=Ke|0,rt=Math.min(qe+1,fe[0])|0,ft=Ke-qe,pt=1-ft,gt=+tt[1],Mt=gt|0,Lt=Math.min(Mt+1,fe[1])|0,Wt=gt-Mt,Je=1-Wt,ze=pt*Je,Oe=pt*Wt,Ue=ft*Je,ke=ft*Wt,Me=ze*Se.get(qe,Mt)+Oe*Se.get(qe,Lt)+Ue*Se.get(rt,Mt)+ke*Se.get(rt,Lt),ce=ze*Te.get(qe,Mt)+Oe*Te.get(qe,Lt)+Ue*Te.get(rt,Mt)+ke*Te.get(rt,Lt);if(isNaN(Me)||isNaN(ce)){We&&(te-=1);break}de[2*te+0]=Me,de[2*te+1]=ce,te+=1}this._dynamicCounts[we]=te-this._dynamicOffsets[we]}this._dynamicBuffer.update(de.subarray(0,2*te)),s.freeFloat(de)}};function se(Y){var Z=Y.gl,ie=T(Z),te=A(Z),fe=E(Z),de=f(Z),we=u(Z),Ae=n(Z,[{buffer:we,size:4,stride:P,offset:0},{buffer:we,size:3,stride:P,offset:16},{buffer:we,size:3,stride:P,offset:28}]),Re=u(Z),Fe=n(Z,[{buffer:Re,size:4,stride:20,offset:0},{buffer:Re,size:1,stride:20,offset:16}]),Se=u(Z),Te=n(Z,[{buffer:Se,size:2,type:Z.FLOAT}]),Ee=i(Z,1,_,Z.RGBA,Z.UNSIGNED_BYTE);Ee.minFilter=Z.LINEAR,Ee.magFilter=Z.LINEAR;var Ne=new B(Z,[0,0],[[0,0,0],[0,0,0]],ie,te,we,Ae,Ee,fe,de,Re,Fe,Se,Te,[0,0,0]),He={levels:[[],[],[]]};for(var _e in Y)He[_e]=Y[_e];return He.colormap=He.colormap||"jet",Ne.update(He),Ne}},8931:function(h,d,t){var r=t(5050),u=t(7498),n=t(5306);h.exports=f;var i=null,s=null,o=null;function m(P){i=[P.LINEAR,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_NEAREST],s=[P.NEAREST,P.LINEAR,P.NEAREST_MIPMAP_NEAREST,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_LINEAR],o=[P.REPEAT,P.CLAMP_TO_EDGE,P.MIRRORED_REPEAT]}function c(P){return typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&P instanceof HTMLVideoElement||typeof ImageData<"u"&&P instanceof ImageData}var b=function(P,w){u.muls(P,w,255)};function v(P,w,z){var F=P.gl,H=F.getParameter(F.MAX_TEXTURE_SIZE);if(w<0||w>H||z<0||z>H)throw new Error("gl-texture2d: Invalid texture size");return P._shape=[w,z],P.bind(),F.texImage2D(F.TEXTURE_2D,0,P.format,w,z,0,P.format,P.type,null),P._mipLevels=[0],P}function l(P,w,z,F,H,_){this.gl=P,this.handle=w,this.format=H,this.type=_,this._shape=[z,F],this._mipLevels=[0],this._magFilter=P.NEAREST,this._minFilter=P.NEAREST,this._wrapS=P.CLAMP_TO_EDGE,this._wrapT=P.CLAMP_TO_EDGE,this._anisoSamples=1;var B=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return B._wrapS},set:function(U){return B.wrapS=U}},{get:function(){return B._wrapT},set:function(U){return B.wrapT=U}}]),this._wrapVector=N;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return B._shape[0]},set:function(U){return B.width=U}},{get:function(){return B._shape[1]},set:function(U){return B.height=U}}]),this._shapeVector=O}var p=l.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(P){this.bind();var w=this.gl;if(this.type===w.FLOAT&&i.indexOf(P)>=0&&(w.getExtension("OES_texture_float_linear")||(P=w.NEAREST)),s.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,P),this._minFilter=P}},magFilter:{get:function(){return this._magFilter},set:function(P){this.bind();var w=this.gl;if(this.type===w.FLOAT&&i.indexOf(P)>=0&&(w.getExtension("OES_texture_float_linear")||(P=w.NEAREST)),s.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,P),this._magFilter=P}},mipSamples:{get:function(){return this._anisoSamples},set:function(P){var w=this._anisoSamples;if(this._anisoSamples=Math.max(P,1)|0,w!==this._anisoSamples){var z=this.gl.getExtension("EXT_texture_filter_anisotropic");z&&this.gl.texParameterf(this.gl.TEXTURE_2D,z.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(P){if(this.bind(),o.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,P),this._wrapS=P}},wrapT:{get:function(){return this._wrapT},set:function(P){if(this.bind(),o.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,P),this._wrapT=P}},wrap:{get:function(){return this._wrapVector},set:function(P){if(Array.isArray(P)||(P=[P,P]),P.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var w=0;w<2;++w)if(o.indexOf(P[w])<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);this._wrapS=P[0],this._wrapT=P[1];var z=this.gl;return this.bind(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,this._wrapS),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,this._wrapT),P}},shape:{get:function(){return this._shapeVector},set:function(P){if(!Array.isArray(P))P=[P|0,P|0];else if(P.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return v(this,P[0]|0,P[1]|0),[P[0]|0,P[1]|0]}},width:{get:function(){return this._shape[0]},set:function(P){return P=P|0,v(this,P,this._shape[1]),P}},height:{get:function(){return this._shape[1]},set:function(P){return P=P|0,v(this,this._shape[0],P),P}}}),p.bind=function(P){var w=this.gl;return P!==void 0&&w.activeTexture(w.TEXTURE0+(P|0)),w.bindTexture(w.TEXTURE_2D,this.handle),P!==void 0?P|0:w.getParameter(w.ACTIVE_TEXTURE)-w.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var P=Math.min(this._shape[0],this._shape[1]),w=0;P>0;++w,P>>>=1)this._mipLevels.indexOf(w)<0&&this._mipLevels.push(w)},p.setPixels=function(P,w,z,F){var H=this.gl;this.bind(),Array.isArray(w)?(F=z,z=w[1]|0,w=w[0]|0):(w=w||0,z=z||0),F=F||0;var _=c(P)?P:P.raw;if(_){var B=this._mipLevels.indexOf(F)<0;B?(H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,this.type,_),this._mipLevels.push(F)):H.texSubImage2D(H.TEXTURE_2D,F,w,z,this.format,this.type,_)}else if(P.shape&&P.stride&&P.data){if(P.shape.length<2||w+P.shape[1]>this._shape[1]>>>F||z+P.shape[0]>this._shape[0]>>>F||w<0||z<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");M(H,w,z,F,this.format,this.type,this._mipLevels,P)}else throw new Error("gl-texture2d: Unsupported data type")};function S(P,w){return P.length===3?w[2]===1&&w[1]===P[0]*P[2]&&w[0]===P[2]:w[0]===1&&w[1]===P[0]}function M(P,w,z,F,H,_,B,N){var O=N.dtype,U=N.shape.slice();if(U.length<2||U.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var K=0,re=0,ae=S(U,N.stride.slice());if(O==="float32"?K=P.FLOAT:O==="float64"?(K=P.FLOAT,ae=!1,O="float32"):O==="uint8"?K=P.UNSIGNED_BYTE:(K=P.UNSIGNED_BYTE,ae=!1,O="uint8"),U.length===2)re=P.LUMINANCE,U=[U[0],U[1],1],N=r(N.data,U,[N.stride[0],N.stride[1],1],N.offset);else if(U.length===3){if(U[2]===1)re=P.ALPHA;else if(U[2]===2)re=P.LUMINANCE_ALPHA;else if(U[2]===3)re=P.RGB;else if(U[2]===4)re=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");U[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((re===P.LUMINANCE||re===P.ALPHA)&&(H===P.LUMINANCE||H===P.ALPHA)&&(re=H),re!==H)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ue=N.size,ve=B.indexOf(F)<0;if(ve&&B.push(F),K===_&&ae)N.offset===0&&N.data.length===ue?ve?P.texImage2D(P.TEXTURE_2D,F,H,U[0],U[1],0,H,_,N.data):P.texSubImage2D(P.TEXTURE_2D,F,w,z,U[0],U[1],H,_,N.data):ve?P.texImage2D(P.TEXTURE_2D,F,H,U[0],U[1],0,H,_,N.data.subarray(N.offset,N.offset+ue)):P.texSubImage2D(P.TEXTURE_2D,F,w,z,U[0],U[1],H,_,N.data.subarray(N.offset,N.offset+ue));else{var ee;_===P.FLOAT?ee=n.mallocFloat32(ue):ee=n.mallocUint8(ue);var J=r(ee,U,[U[2],U[2]*U[0],1]);K===P.FLOAT&&_===P.UNSIGNED_BYTE?b(J,N):u.assign(J,N),ve?P.texImage2D(P.TEXTURE_2D,F,H,U[0],U[1],0,H,_,ee.subarray(0,ue)):P.texSubImage2D(P.TEXTURE_2D,F,w,z,U[0],U[1],H,_,ee.subarray(0,ue)),_===P.FLOAT?n.freeFloat32(ee):n.freeUint8(ee)}}function R(P){var w=P.createTexture();return P.bindTexture(P.TEXTURE_2D,w),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),w}function T(P,w,z,F,H){var _=P.getParameter(P.MAX_TEXTURE_SIZE);if(w<0||w>_||z<0||z>_)throw new Error("gl-texture2d: Invalid texture shape");if(H===P.FLOAT&&!P.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var B=R(P);return P.texImage2D(P.TEXTURE_2D,0,F,w,z,0,F,H,null),new l(P,B,w,z,F,H)}function E(P,w,z,F,H,_){var B=R(P);return P.texImage2D(P.TEXTURE_2D,0,H,H,_,w),new l(P,B,z,F,H,_)}function A(P,w){var z=w.dtype,F=w.shape.slice(),H=P.getParameter(P.MAX_TEXTURE_SIZE);if(F[0]<0||F[0]>H||F[1]<0||F[1]>H)throw new Error("gl-texture2d: Invalid texture size");var _=S(F,w.stride.slice()),B=0;z==="float32"?B=P.FLOAT:z==="float64"?(B=P.FLOAT,_=!1,z="float32"):z==="uint8"?B=P.UNSIGNED_BYTE:(B=P.UNSIGNED_BYTE,_=!1,z="uint8");var N=0;if(F.length===2)N=P.LUMINANCE,F=[F[0],F[1],1],w=r(w.data,F,[w.stride[0],w.stride[1],1],w.offset);else if(F.length===3)if(F[2]===1)N=P.ALPHA;else if(F[2]===2)N=P.LUMINANCE_ALPHA;else if(F[2]===3)N=P.RGB;else if(F[2]===4)N=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");B===P.FLOAT&&!P.getExtension("OES_texture_float")&&(B=P.UNSIGNED_BYTE,_=!1);var O,U,K=w.size;if(_)w.offset===0&&w.data.length===K?O=w.data:O=w.data.subarray(w.offset,w.offset+K);else{var re=[F[2],F[2]*F[0],1];U=n.malloc(K,z);var ae=r(U,F,re,0);(z==="float32"||z==="float64")&&B===P.UNSIGNED_BYTE?b(ae,w):u.assign(ae,w),O=U.subarray(0,K)}var ue=R(P);return P.texImage2D(P.TEXTURE_2D,0,N,F[0],F[1],0,N,B,O),_||n.free(U),new l(P,ue,F[0],F[1],N,B)}function f(P){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(i||m(P),typeof arguments[1]=="number")return T(P,arguments[1],arguments[2],arguments[3]||P.RGBA,arguments[4]||P.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return T(P,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var w=arguments[1],z=c(w)?w:w.raw;if(z)return E(P,z,w.width|0,w.height|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(w.shape&&w.data&&w.stride)return A(P,w)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(h){function d(t,r,u){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<u.length;++i){var s=u[i];if(s.buffer){var o=s.buffer,m=s.size||4,c=s.type||t.FLOAT,b=!!s.normalized,v=s.stride||0,l=s.offset||0;o.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,m,c,b,v,l)}else{if(typeof s=="number")t.vertexAttrib1f(i,s);else if(s.length===1)t.vertexAttrib1f(i,s[0]);else if(s.length===2)t.vertexAttrib2f(i,s[0],s[1]);else if(s.length===3)t.vertexAttrib3f(i,s[0],s[1],s[2]);else if(s.length===4)t.vertexAttrib4f(i,s[0],s[1],s[2],s[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<n;++i)t.disableVertexAttribArray(i)}}h.exports=d},7220:function(h,d,t){var r=t(3056);function u(i){this.gl=i,this._elements=null,this._attributes=null,this._elementsType=i.UNSIGNED_SHORT}u.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},u.prototype.update=function(i,s,o){this._elements=s,this._attributes=i,this._elementsType=o||this.gl.UNSIGNED_SHORT},u.prototype.dispose=function(){},u.prototype.unbind=function(){},u.prototype.draw=function(i,s,o){o=o||0;var m=this.gl;this._elements?m.drawElements(i,s,this._elementsType,o):m.drawArrays(i,o,s)};function n(i){return new u(i)}h.exports=n},3778:function(h,d,t){var r=t(3056);function u(s,o,m,c,b,v){this.location=s,this.dimension=o,this.a=m,this.b=c,this.c=b,this.d=v}u.prototype.bind=function(s){switch(this.dimension){case 1:s.vertexAttrib1f(this.location,this.a);break;case 2:s.vertexAttrib2f(this.location,this.a,this.b);break;case 3:s.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:s.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(s,o,m){this.gl=s,this._ext=o,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=s.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var s=0;s<this._attribs.length;++s)this._attribs[s].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(s,o,m){if(this.bind(),r(this.gl,o,s),this.unbind(),this._attribs.length=0,s)for(var c=0;c<s.length;++c){var b=s[c];typeof b=="number"?this._attribs.push(new u(c,1,b)):Array.isArray(b)&&this._attribs.push(new u(c,b.length,b[0],b[1],b[2],b[3]))}this._useElements=!!o,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(s,o,m){m=m||0;var c=this.gl;this._useElements?c.drawElements(s,o,this._elementsType,m):c.drawArrays(s,m,o)};function i(s,o){return new n(s,o,o.createVertexArrayOES())}h.exports=i},2944:function(h,d,t){var r=t(3778),u=t(7220);function n(s){this.bindVertexArrayOES=s.bindVertexArray.bind(s),this.createVertexArrayOES=s.createVertexArray.bind(s),this.deleteVertexArrayOES=s.deleteVertexArray.bind(s)}function i(s,o,m,c){var b=s.createVertexArray?new n(s):s.getExtension("OES_vertex_array_object"),v;return b?v=r(s,b):v=u(s),v.update(o,m,c),v}h.exports=i},2598:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]+u[0],t[1]=r[1]+u[1],t[2]=r[2]+u[2],t}},5879:function(h,d,t){h.exports=i;var r=t(5415),u=t(899),n=t(9305);function i(s,o){var m=r(s[0],s[1],s[2]),c=r(o[0],o[1],o[2]);u(m,m),u(c,c);var b=n(m,c);return b>1?0:Math.acos(b)}},8827:function(h){h.exports=d;function d(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(h){h.exports=d;function d(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(h){h.exports=d;function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(h){h.exports=d;function d(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2],o=u[0],m=u[1],c=u[2];return t[0]=i*c-s*m,t[1]=s*o-n*c,t[2]=n*m-i*o,t}},5981:function(h,d,t){h.exports=t(8288)},8288:function(h){h.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return Math.sqrt(u*u+n*n+i*i)}},8629:function(h,d,t){h.exports=t(7979)},7979:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]/u[0],t[1]=r[1]/u[1],t[2]=r[2]/u[2],t}},9305:function(h){h.exports=d;function d(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(h){h.exports=1e-6},4932:function(h,d,t){h.exports=u;var r=t(154);function u(n,i){var s=n[0],o=n[1],m=n[2],c=i[0],b=i[1],v=i[2];return Math.abs(s-c)<=r*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(o-b)<=r*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(m-v)<=r*Math.max(1,Math.abs(m),Math.abs(v))}},5777:function(h){h.exports=d;function d(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(h){h.exports=d;function d(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(h,d,t){h.exports=u;var r=t(8501)();function u(n,i,s,o,m,c){var b,v;for(i||(i=3),s||(s=0),o?v=Math.min(o*i+s,n.length):v=n.length,b=s;b<v;b+=i)r[0]=n[b],r[1]=n[b+1],r[2]=n[b+2],m(r,r,c),n[b]=r[0],n[b+1]=r[1],n[b+2]=r[2];return n}},5415:function(h){h.exports=d;function d(t,r,u){var n=new Float32Array(3);return n[0]=t,n[1]=r,n[2]=u,n}},2858:function(h,d,t){h.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(h){h.exports=d;function d(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(h,d,t){h.exports=t(4693)},4693:function(h){h.exports=d;function d(t){var r=t[0],u=t[1],n=t[2];return Math.sqrt(r*r+u*u+n*n)}},1868:function(h){h.exports=d;function d(t,r,u,n){var i=r[0],s=r[1],o=r[2];return t[0]=i+n*(u[0]-i),t[1]=s+n*(u[1]-s),t[2]=o+n*(u[2]-o),t}},1716:function(h){h.exports=d;function d(t,r,u){return t[0]=Math.max(r[0],u[0]),t[1]=Math.max(r[1],u[1]),t[2]=Math.max(r[2],u[2]),t}},3605:function(h){h.exports=d;function d(t,r,u){return t[0]=Math.min(r[0],u[0]),t[1]=Math.min(r[1],u[1]),t[2]=Math.min(r[2],u[2]),t}},5733:function(h,d,t){h.exports=t(105)},105:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]*u[0],t[1]=r[1]*u[1],t[2]=r[2]*u[2],t}},435:function(h){h.exports=d;function d(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(h){h.exports=d;function d(t,r){var u=r[0],n=r[1],i=r[2],s=u*u+n*n+i*i;return s>0&&(s=1/Math.sqrt(s),t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s),t}},6660:function(h){h.exports=d;function d(t,r){r=r||1;var u=Math.random()*2*Math.PI,n=Math.random()*2-1,i=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(u)*i,t[1]=Math.sin(u)*i,t[2]=n*r,t}},392:function(h){h.exports=d;function d(t,r,u,n){var i=u[1],s=u[2],o=r[1]-i,m=r[2]-s,c=Math.sin(n),b=Math.cos(n);return t[0]=r[0],t[1]=i+o*b-m*c,t[2]=s+o*c+m*b,t}},3222:function(h){h.exports=d;function d(t,r,u,n){var i=u[0],s=u[2],o=r[0]-i,m=r[2]-s,c=Math.sin(n),b=Math.cos(n);return t[0]=i+m*c+o*b,t[1]=r[1],t[2]=s+m*b-o*c,t}},3388:function(h){h.exports=d;function d(t,r,u,n){var i=u[0],s=u[1],o=r[0]-i,m=r[1]-s,c=Math.sin(n),b=Math.cos(n);return t[0]=i+o*b-m*c,t[1]=s+o*c+m*b,t[2]=r[2],t}},1624:function(h){h.exports=d;function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t}},6722:function(h){h.exports=d;function d(t,r,u,n){return t[0]=r[0]+u[0]*n,t[1]=r[1]+u[1]*n,t[2]=r[2]+u[2]*n,t}},831:function(h){h.exports=d;function d(t,r,u,n){return t[0]=r,t[1]=u,t[2]=n,t}},5294:function(h,d,t){h.exports=t(6403)},3303:function(h,d,t){h.exports=t(4337)},6403:function(h){h.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return u*u+n*n+i*i}},4337:function(h){h.exports=d;function d(t){var r=t[0],u=t[1],n=t[2];return r*r+u*u+n*n}},8921:function(h,d,t){h.exports=t(911)},911:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t[2]=r[2]-u[2],t}},9908:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2];return t[0]=n*u[0]+i*u[3]+s*u[6],t[1]=n*u[1]+i*u[4]+s*u[7],t[2]=n*u[2]+i*u[5]+s*u[8],t}},3255:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2],o=u[3]*n+u[7]*i+u[11]*s+u[15];return o=o||1,t[0]=(u[0]*n+u[4]*i+u[8]*s+u[12])/o,t[1]=(u[1]*n+u[5]*i+u[9]*s+u[13])/o,t[2]=(u[2]*n+u[6]*i+u[10]*s+u[14])/o,t}},6568:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2],o=u[0],m=u[1],c=u[2],b=u[3],v=b*n+m*s-c*i,l=b*i+c*n-o*s,p=b*s+o*i-m*n,S=-o*n-m*i-c*s;return t[0]=v*b+S*-o+l*-c-p*-m,t[1]=l*b+S*-m+p*-o-v*-c,t[2]=p*b+S*-c+v*-m-l*-o,t}},3433:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]+u[0],t[1]=r[1]+u[1],t[2]=r[2]+u[2],t[3]=r[3]+u[3],t}},1413:function(h){h.exports=d;function d(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(h){h.exports=d;function d(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(h){h.exports=d;function d(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(h){h.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],s=r[3]-t[3];return Math.sqrt(u*u+n*n+i*i+s*s)}},205:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]/u[0],t[1]=r[1]/u[1],t[2]=r[2]/u[2],t[3]=r[3]/u[3],t}},4242:function(h){h.exports=d;function d(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(h){h.exports=d;function d(t,r,u,n){var i=new Float32Array(4);return i[0]=t,i[1]=r,i[2]=u,i[3]=n,i}},4020:function(h,d,t){h.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(h){h.exports=d;function d(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(h){h.exports=d;function d(t){var r=t[0],u=t[1],n=t[2],i=t[3];return Math.sqrt(r*r+u*u+n*n+i*i)}},8746:function(h){h.exports=d;function d(t,r,u,n){var i=r[0],s=r[1],o=r[2],m=r[3];return t[0]=i+n*(u[0]-i),t[1]=s+n*(u[1]-s),t[2]=o+n*(u[2]-o),t[3]=m+n*(u[3]-m),t}},3030:function(h){h.exports=d;function d(t,r,u){return t[0]=Math.max(r[0],u[0]),t[1]=Math.max(r[1],u[1]),t[2]=Math.max(r[2],u[2]),t[3]=Math.max(r[3],u[3]),t}},2170:function(h){h.exports=d;function d(t,r,u){return t[0]=Math.min(r[0],u[0]),t[1]=Math.min(r[1],u[1]),t[2]=Math.min(r[2],u[2]),t[3]=Math.min(r[3],u[3]),t}},746:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]*u[0],t[1]=r[1]*u[1],t[2]=r[2]*u[2],t[3]=r[3]*u[3],t}},6459:function(h){h.exports=d;function d(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(h){h.exports=d;function d(t,r){var u=r[0],n=r[1],i=r[2],s=r[3],o=u*u+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=u*o,t[1]=n*o,t[2]=i*o,t[3]=s*o),t}},3770:function(h,d,t){var r=t(381),u=t(5510);h.exports=n;function n(i,s){return s=s||1,i[0]=Math.random(),i[1]=Math.random(),i[2]=Math.random(),i[3]=Math.random(),r(i,i),u(i,i,s),i}},5510:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]*u,t[1]=r[1]*u,t[2]=r[2]*u,t[3]=r[3]*u,t}},4224:function(h){h.exports=d;function d(t,r,u,n){return t[0]=r[0]+u[0]*n,t[1]=r[1]+u[1]*n,t[2]=r[2]+u[2]*n,t[3]=r[3]+u[3]*n,t}},6453:function(h){h.exports=d;function d(t,r,u,n,i){return t[0]=r,t[1]=u,t[2]=n,t[3]=i,t}},1542:function(h){h.exports=d;function d(t,r){var u=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],s=r[3]-t[3];return u*u+n*n+i*i+s*s}},9037:function(h){h.exports=d;function d(t){var r=t[0],u=t[1],n=t[2],i=t[3];return r*r+u*u+n*n+i*i}},2705:function(h){h.exports=d;function d(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t[2]=r[2]-u[2],t[3]=r[3]-u[3],t}},6342:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2],o=r[3];return t[0]=u[0]*n+u[4]*i+u[8]*s+u[12]*o,t[1]=u[1]*n+u[5]*i+u[9]*s+u[13]*o,t[2]=u[2]*n+u[6]*i+u[10]*s+u[14]*o,t[3]=u[3]*n+u[7]*i+u[11]*s+u[15]*o,t}},5022:function(h){h.exports=d;function d(t,r,u){var n=r[0],i=r[1],s=r[2],o=u[0],m=u[1],c=u[2],b=u[3],v=b*n+m*s-c*i,l=b*i+c*n-o*s,p=b*s+o*i-m*n,S=-o*n-m*i-c*s;return t[0]=v*b+S*-o+l*-c-p*-m,t[1]=l*b+S*-m+p*-o-v*-c,t[2]=p*b+S*-c+v*-m-l*-o,t[3]=r[3],t}},9365:function(h,d,t){var r=t(8096),u=t(7896);h.exports=n;function n(i){for(var s=Array.isArray(i)?i:r(i),o=0;o<s.length;o++){var m=s[o];if(m.type==="preprocessor"){var c=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var b=c[1],v=c[2];return(b?u(v):v).trim()}}}}},3193:function(h,d,t){h.exports=w;var r=t(399),u=t(9746),n=t(9525),i=t(9458),s=t(3585),o=999,m=9999,c=0,b=1,v=2,l=3,p=4,S=5,M=6,R=7,T=8,E=9,A=10,f=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function w(z){var F=0,H=0,_=o,B,N,O=[],U=[],K=1,re=0,ae=0,ue=!1,ve=!1,ee="",J;z=z||{};var Q=n,X=r;z.version==="300 es"&&(Q=s,X=i);for(var q={},se={},F=0;F<Q.length;F++)q[Q[F]]=!0;for(var F=0;F<X.length;F++)se[X[F]]=!0;return function(He){return U=[],He!==null?Z(He):ie()};function Y(He){He.length&&U.push({type:P[_],data:He,position:ae,line:K,column:re})}function Z(He){F=0,He.toString&&(He=He.toString()),ee+=He.replace(/\r\n/g,`
`),J=ee.length;for(var _e;B=ee[F],F<J;){switch(_e=F,_){case c:F=Ae();break;case b:F=we();break;case v:F=de();break;case l:F=Re();break;case p:F=Te();break;case f:F=Se();break;case S:F=Ee();break;case m:F=Ne();break;case E:F=fe();break;case o:F=te();break}if(_e!==F)switch(ee[_e]){case`
`:re=0,++K;break;default:++re;break}}return H+=F,ee=ee.slice(F),U}function ie(He){return O.length&&Y(O.join("")),_=A,Y("(eof)"),U}function te(){return O=O.length?[]:O,N==="/"&&B==="*"?(ae=H+F-1,_=c,N=B,F+1):N==="/"&&B==="/"?(ae=H+F-1,_=b,N=B,F+1):B==="#"?(_=v,ae=H+F,F):/\s/.test(B)?(_=E,ae=H+F,F):(ue=/\d/.test(B),ve=/[^\w_]/.test(B),ae=H+F,_=ue?p:ve?l:m,F)}function fe(){return/[^\s]/g.test(B)?(Y(O.join("")),_=o,F):(O.push(B),N=B,F+1)}function de(){return(B==="\r"||B===`
`)&&N!=="\\"?(Y(O.join("")),_=o,F):(O.push(B),N=B,F+1)}function we(){return de()}function Ae(){return B==="/"&&N==="*"?(O.push(B),Y(O.join("")),_=o,F+1):(O.push(B),N=B,F+1)}function Re(){if(N==="."&&/\d/.test(B))return _=S,F;if(N==="/"&&B==="*")return _=c,F;if(N==="/"&&B==="/")return _=b,F;if(B==="."&&O.length){for(;Fe(O););return _=S,F}if(B===";"||B===")"||B==="("){if(O.length)for(;Fe(O););return Y(B),_=o,F+1}var He=O.length===2&&B!=="=";if(/[\w_\d\s]/.test(B)||He){for(;Fe(O););return _=o,F}return O.push(B),N=B,F+1}function Fe(He){var _e=0,We,tt;do{if(We=u.indexOf(He.slice(0,He.length+_e).join("")),tt=u[We],We===-1){if(_e--+He.length>0)continue;tt=He.slice(0,1).join("")}return Y(tt),ae+=tt.length,O=O.slice(tt.length),O.length}while(1)}function Se(){return/[^a-fA-F0-9]/.test(B)?(Y(O.join("")),_=o,F):(O.push(B),N=B,F+1)}function Te(){return B==="."||/[eE]/.test(B)?(O.push(B),_=S,N=B,F+1):B==="x"&&O.length===1&&O[0]==="0"?(_=f,O.push(B),N=B,F+1):/[^\d]/.test(B)?(Y(O.join("")),_=o,F):(O.push(B),N=B,F+1)}function Ee(){return B==="f"&&(O.push(B),N=B,F+=1),/[eE]/.test(B)||(B==="-"||B==="+")&&/[eE]/.test(N)?(O.push(B),N=B,F+1):/[^\d]/.test(B)?(Y(O.join("")),_=o,F):(O.push(B),N=B,F+1)}function Ne(){if(/[^\d\w_]/.test(B)){var He=O.join("");return se[He]?_=T:q[He]?_=R:_=M,Y(O.join("")),_=o,F}return O.push(B),N=B,F+1}}},3585:function(h,d,t){var r=t(9525);r=r.slice().filter(function(u){return!/^(gl\_|texture)/.test(u)}),h.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(h){h.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(h,d,t){var r=t(399);h.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(h){h.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(h){h.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(h,d,t){var r=t(3193);h.exports=u;function u(n,i){var s=r(i),o=[];return o=o.concat(s(n)),o=o.concat(s(null)),o}},6832:function(h){h.exports=function(d){typeof d=="string"&&(d=[d]);for(var t=[].slice.call(arguments,1),r=[],u=0;u<d.length-1;u++)r.push(d[u],t[u]||"");return r.push(d[u]),r.join("")}},5233:function(h,d,t){var r=t(4846);function u(){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{n=!1}return n}h.exports=r&&u()},2183:function(h,d,t){h.exports=l;var r=t(417),u=t(8211).H;function n(p,S,M){this.vertices=p,this.adjacent=S,this.boundary=M,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var S=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=S};function i(p,S,M){this.vertices=p,this.cell=S,this.index=M}function s(p,S){return u(p.vertices,S.vertices)}function o(p){return function(){var S=this.tuple;return p.apply(this,S)}}function m(p){var S=r[p+1];return S||(S=r),o(S)}var c=[];function b(p,S,M){this.dimension=p,this.vertices=S,this.simplices=M,this.interior=M.filter(function(E){return!E.boundary}),this.tuple=new Array(p+1);for(var R=0;R<=p;++R)this.tuple[R]=this.vertices[R];var T=c[p];T||(T=c[p]=m(p)),this.orient=T}var v=b.prototype;v.handleBoundaryDegeneracy=function(p,S){var M=this.dimension,R=this.vertices.length-1,T=this.tuple,E=this.vertices,A=[p];for(p.lastVisited=-R;A.length>0;){p=A.pop();for(var f=p.adjacent,P=0;P<=M;++P){var w=f[P];if(!(!w.boundary||w.lastVisited<=-R)){for(var z=w.vertices,F=0;F<=M;++F){var H=z[F];H<0?T[F]=S:T[F]=E[H]}var _=this.orient();if(_>0)return w;w.lastVisited=-R,_===0&&A.push(w)}}}return null},v.walk=function(p,S){var M=this.vertices.length-1,R=this.dimension,T=this.vertices,E=this.tuple,A=S?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[A];e:for(;!f.boundary;){for(var P=f.vertices,w=f.adjacent,z=0;z<=R;++z)E[z]=T[P[z]];f.lastVisited=M;for(var z=0;z<=R;++z){var F=w[z];if(!(F.lastVisited>=M)){var H=E[z];E[z]=p;var _=this.orient();if(E[z]=H,_<0){f=F;continue e}else F.boundary?F.lastVisited=-M:F.lastVisited=M}}return}return f},v.addPeaks=function(p,S){var M=this.vertices.length-1,R=this.dimension,T=this.vertices,E=this.tuple,A=this.interior,f=this.simplices,P=[S];S.lastVisited=M,S.vertices[S.vertices.indexOf(-1)]=M,S.boundary=!1,A.push(S);for(var w=[];P.length>0;){var S=P.pop(),z=S.vertices,F=S.adjacent,H=z.indexOf(M);if(!(H<0)){for(var _=0;_<=R;++_)if(_!==H){var B=F[_];if(!(!B.boundary||B.lastVisited>=M)){var N=B.vertices;if(B.lastVisited!==-M){for(var O=0,U=0;U<=R;++U)N[U]<0?(O=U,E[U]=p):E[U]=T[N[U]];var K=this.orient();if(K>0){N[O]=M,B.boundary=!1,A.push(B),P.push(B),B.lastVisited=M;continue}else B.lastVisited=-M}var re=B.adjacent,ae=z.slice(),ue=F.slice(),ve=new n(ae,ue,!0);f.push(ve);var ee=re.indexOf(S);if(!(ee<0)){re[ee]=ve,ue[H]=B,ae[_]=-1,ue[_]=S,F[_]=ve,ve.flip();for(var U=0;U<=R;++U){var J=ae[U];if(!(J<0||J===M)){for(var Q=new Array(R-1),X=0,q=0;q<=R;++q){var se=ae[q];se<0||q===U||(Q[X++]=se)}w.push(new i(Q,ve,U))}}}}}}}w.sort(s);for(var _=0;_+1<w.length;_+=2){var Y=w[_],Z=w[_+1],ie=Y.index,te=Z.index;ie<0||te<0||(Y.cell.adjacent[Y.index]=Z.cell,Z.cell.adjacent[Z.index]=Y.cell)}},v.insert=function(p,S){var M=this.vertices;M.push(p);var R=this.walk(p,S);if(R){for(var T=this.dimension,E=this.tuple,A=0;A<=T;++A){var f=R.vertices[A];f<0?E[A]=p:E[A]=M[f]}var P=this.orient(E);P<0||P===0&&(R=this.handleBoundaryDegeneracy(R,p),!R)||this.addPeaks(p,R)}},v.boundary=function(){for(var p=this.dimension,S=[],M=this.simplices,R=M.length,T=0;T<R;++T){var E=M[T];if(E.boundary){for(var A=new Array(p),f=E.vertices,P=0,w=0,z=0;z<=p;++z)f[z]>=0?A[P++]=f[z]:w=z&1;if(w===(p&1)){var F=A[0];A[0]=A[1],A[1]=F}S.push(A)}}return S};function l(p,S){var M=p.length;if(M===0)throw new Error("Must have at least d+1 points");var R=p[0].length;if(M<=R)throw new Error("Must input at least d+1 points");var T=p.slice(0,R+1),E=r.apply(void 0,T);if(E===0)throw new Error("Input not in general position");for(var A=new Array(R+1),f=0;f<=R;++f)A[f]=f;E<0&&(A[0]=1,A[1]=0);for(var P=new n(A,new Array(R+1),!1),w=P.adjacent,z=new Array(R+2),f=0;f<=R;++f){for(var F=A.slice(),H=0;H<=R;++H)H===f&&(F[H]=-1);var _=F[0];F[0]=F[1],F[1]=_;var B=new n(F,new Array(R+1),!0);w[f]=B,z[f]=B}z[R+1]=P;for(var f=0;f<=R;++f)for(var F=w[f].vertices,N=w[f].adjacent,H=0;H<=R;++H){var O=F[H];if(O<0){N[H]=P;continue}for(var U=0;U<=R;++U)w[U].vertices.indexOf(O)<0&&(N[H]=w[U])}for(var K=new b(R,T,z),re=!!S,f=R+1;f<M;++f)K.insert(p[f],re);return K.boundary()}},9014:function(h,d,t){var r=t(5070),u=0,n=1,i=2;h.exports=P;function s(w,z,F,H,_){this.mid=w,this.left=z,this.right=F,this.leftPoints=H,this.rightPoints=_,this.count=(z?z.count:0)+(F?F.count:0)+H.length}var o=s.prototype;function m(w,z){w.mid=z.mid,w.left=z.left,w.right=z.right,w.leftPoints=z.leftPoints,w.rightPoints=z.rightPoints,w.count=z.count}function c(w,z){var F=E(z);w.mid=F.mid,w.left=F.left,w.right=F.right,w.leftPoints=F.leftPoints,w.rightPoints=F.rightPoints,w.count=F.count}function b(w,z){var F=w.intervals([]);F.push(z),c(w,F)}function v(w,z){var F=w.intervals([]),H=F.indexOf(z);return H<0?u:(F.splice(H,1),c(w,F),n)}o.intervals=function(w){return w.push.apply(w,this.leftPoints),this.left&&this.left.intervals(w),this.right&&this.right.intervals(w),w},o.insert=function(w){var z=this.count-this.leftPoints.length;if(this.count+=1,w[1]<this.mid)this.left?4*(this.left.count+1)>3*(z+1)?b(this,w):this.left.insert(w):this.left=E([w]);else if(w[0]>this.mid)this.right?4*(this.right.count+1)>3*(z+1)?b(this,w):this.right.insert(w):this.right=E([w]);else{var F=r.ge(this.leftPoints,w,R),H=r.ge(this.rightPoints,w,T);this.leftPoints.splice(F,0,w),this.rightPoints.splice(H,0,w)}},o.remove=function(w){var z=this.count-this.leftPoints;if(w[1]<this.mid){if(!this.left)return u;var F=this.right?this.right.count:0;if(4*F>3*(z-1))return v(this,w);var H=this.left.remove(w);return H===i?(this.left=null,this.count-=1,n):(H===n&&(this.count-=1),H)}else if(w[0]>this.mid){if(!this.right)return u;var _=this.left?this.left.count:0;if(4*_>3*(z-1))return v(this,w);var H=this.right.remove(w);return H===i?(this.right=null,this.count-=1,n):(H===n&&(this.count-=1),H)}else{if(this.count===1)return this.leftPoints[0]===w?i:u;if(this.leftPoints.length===1&&this.leftPoints[0]===w){if(this.left&&this.right){for(var B=this,N=this.left;N.right;)B=N,N=N.right;if(B===this)N.right=this.right;else{var O=this.left,H=this.right;B.count-=N.count,B.right=N.left,N.left=O,N.right=H}m(this,N),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var O=r.ge(this.leftPoints,w,R);O<this.leftPoints.length&&this.leftPoints[O][0]===w[0];++O)if(this.leftPoints[O]===w){this.count-=1,this.leftPoints.splice(O,1);for(var H=r.ge(this.rightPoints,w,T);H<this.rightPoints.length&&this.rightPoints[H][1]===w[1];++H)if(this.rightPoints[H]===w)return this.rightPoints.splice(H,1),n}return u}};function l(w,z,F){for(var H=0;H<w.length&&w[H][0]<=z;++H){var _=F(w[H]);if(_)return _}}function p(w,z,F){for(var H=w.length-1;H>=0&&w[H][1]>=z;--H){var _=F(w[H]);if(_)return _}}function S(w,z){for(var F=0;F<w.length;++F){var H=z(w[F]);if(H)return H}}o.queryPoint=function(w,z){if(w<this.mid){if(this.left){var F=this.left.queryPoint(w,z);if(F)return F}return l(this.leftPoints,w,z)}else if(w>this.mid){if(this.right){var F=this.right.queryPoint(w,z);if(F)return F}return p(this.rightPoints,w,z)}else return S(this.leftPoints,z)},o.queryInterval=function(w,z,F){if(w<this.mid&&this.left){var H=this.left.queryInterval(w,z,F);if(H)return H}if(z>this.mid&&this.right){var H=this.right.queryInterval(w,z,F);if(H)return H}return z<this.mid?l(this.leftPoints,z,F):w>this.mid?p(this.rightPoints,w,F):S(this.leftPoints,F)};function M(w,z){return w-z}function R(w,z){var F=w[0]-z[0];return F||w[1]-z[1]}function T(w,z){var F=w[1]-z[1];return F||w[0]-z[0]}function E(w){if(w.length===0)return null;for(var z=[],F=0;F<w.length;++F)z.push(w[F][0],w[F][1]);z.sort(M);for(var H=z[z.length>>1],_=[],B=[],N=[],F=0;F<w.length;++F){var O=w[F];O[1]<H?_.push(O):H<O[0]?B.push(O):N.push(O)}var U=N,K=N.slice();return U.sort(R),K.sort(T),new s(H,E(_),E(B),U,K)}function A(w){this.root=w}var f=A.prototype;f.insert=function(w){this.root?this.root.insert(w):this.root=new s(w[0],null,null,[w],[w])},f.remove=function(w){if(this.root){var z=this.root.remove(w);return z===i&&(this.root=null),z!==u}return!1},f.queryPoint=function(w,z){if(this.root)return this.root.queryPoint(w,z)},f.queryInterval=function(w,z,F){if(w<=z&&this.root)return this.root.queryInterval(w,z,F)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function P(w){return!w||w.length===0?new A(null):new A(E(w))}},9560:function(h){function d(t){for(var r=new Array(t),u=0;u<t;++u)r[u]=u;return r}h.exports=d},4846:function(h){h.exports=!0},4780:function(h){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/h.exports=function(r){return r!=null&&(d(r)||t(r)||!!r._isBuffer)};function d(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&d(r.slice(0,0))}},3596:function(h){h.exports=function(d){for(var t=d.length,r,u=0;u<t;u++)if(r=d.charCodeAt(u),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(h){function d(t,r,u){return t*(1-u)+r*u}h.exports=d},7191:function(h,d,t){var r=t(4690),u=t(9823),n=t(7332),i=t(7787),s=t(7437),o=t(2142),m={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=u(),b=u(),v=[0,0,0,0],l=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];h.exports=function(E,A,f,P,w,z){if(A||(A=[0,0,0]),f||(f=[0,0,0]),P||(P=[0,0,0]),w||(w=[0,0,0,1]),z||(z=[0,0,0,1]),!r(c,E)||(n(b,c),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(i(b)<1e-8)))return!1;var F=c[3],H=c[7],_=c[11],B=c[12],N=c[13],O=c[14],U=c[15];if(F!==0||H!==0||_!==0){v[0]=F,v[1]=H,v[2]=_,v[3]=U;var K=s(b,b);if(!K)return!1;o(b,b),S(w,v,b)}else w[0]=w[1]=w[2]=0,w[3]=1;if(A[0]=B,A[1]=N,A[2]=O,M(l,c),f[0]=m.length(l[0]),m.normalize(l[0],l[0]),P[0]=m.dot(l[0],l[1]),R(l[1],l[1],l[0],1,-P[0]),f[1]=m.length(l[1]),m.normalize(l[1],l[1]),P[0]/=f[1],P[1]=m.dot(l[0],l[2]),R(l[2],l[2],l[0],1,-P[1]),P[2]=m.dot(l[1],l[2]),R(l[2],l[2],l[1],1,-P[2]),f[2]=m.length(l[2]),m.normalize(l[2],l[2]),P[1]/=f[2],P[2]/=f[2],m.cross(p,l[1],l[2]),m.dot(l[0],p)<0)for(var re=0;re<3;re++)f[re]*=-1,l[re][0]*=-1,l[re][1]*=-1,l[re][2]*=-1;return z[0]=.5*Math.sqrt(Math.max(1+l[0][0]-l[1][1]-l[2][2],0)),z[1]=.5*Math.sqrt(Math.max(1-l[0][0]+l[1][1]-l[2][2],0)),z[2]=.5*Math.sqrt(Math.max(1-l[0][0]-l[1][1]+l[2][2],0)),z[3]=.5*Math.sqrt(Math.max(1+l[0][0]+l[1][1]+l[2][2],0)),l[2][1]>l[1][2]&&(z[0]=-z[0]),l[0][2]>l[2][0]&&(z[1]=-z[1]),l[1][0]>l[0][1]&&(z[2]=-z[2]),!0};function S(T,E,A){var f=E[0],P=E[1],w=E[2],z=E[3];return T[0]=A[0]*f+A[4]*P+A[8]*w+A[12]*z,T[1]=A[1]*f+A[5]*P+A[9]*w+A[13]*z,T[2]=A[2]*f+A[6]*P+A[10]*w+A[14]*z,T[3]=A[3]*f+A[7]*P+A[11]*w+A[15]*z,T}function M(T,E){T[0][0]=E[0],T[0][1]=E[1],T[0][2]=E[2],T[1][0]=E[4],T[1][1]=E[5],T[1][2]=E[6],T[2][0]=E[8],T[2][1]=E[9],T[2][2]=E[10]}function R(T,E,A,f,P){T[0]=E[0]*f+A[0]*P,T[1]=E[1]*f+A[1]*P,T[2]=E[2]*f+A[2]*P}},4690:function(h){h.exports=function(t,r){var u=r[15];if(u===0)return!1;for(var n=1/u,i=0;i<16;i++)t[i]=r[i]*n;return!0}},7649:function(h,d,t){var r=t(1868),u=t(1102),n=t(7191),i=t(7787),s=t(1116),o=v(),m=v(),c=v();h.exports=b;function b(S,M,R,T){if(i(M)===0||i(R)===0)return!1;var E=n(M,o.translate,o.scale,o.skew,o.perspective,o.quaternion),A=n(R,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!E||!A?!1:(r(c.translate,o.translate,m.translate,T),r(c.skew,o.skew,m.skew,T),r(c.scale,o.scale,m.scale,T),r(c.perspective,o.perspective,m.perspective,T),s(c.quaternion,o.quaternion,m.quaternion,T),u(S,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function v(){return{translate:l(),scale:l(1),skew:l(),perspective:p(),quaternion:p()}}function l(S){return[S||0,S||0,S||0]}function p(){return[0,0,0,1]}},1102:function(h,d,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var u=r.create();h.exports=function(i,s,o,m,c,b){return r.identity(i),r.fromRotationTranslation(i,b,s),i[3]=c[0],i[7]=c[1],i[11]=c[2],i[15]=c[3],r.identity(u),m[2]!==0&&(u[9]=m[2],r.multiply(i,i,u)),m[1]!==0&&(u[9]=0,u[8]=m[1],r.multiply(i,i,u)),m[0]!==0&&(u[8]=0,u[4]=m[0],r.multiply(i,i,u)),r.scale(i,i,o),i}},9298:function(h,d,t){var r=t(5070),u=t(7649),n=t(7437),i=t(6109),s=t(7115),o=t(5240),m=t(3012),c=t(998);t(3668);var b=t(899),v=[0,0,0];h.exports=M;function l(R){this._components=R.slice(),this._time=[0],this.prevMatrix=R.slice(),this.nextMatrix=R.slice(),this.computedMatrix=R.slice(),this.computedInverse=R.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=l.prototype;p.recalcMatrix=function(R){var T=this._time,E=r.le(T,R),A=this.computedMatrix;if(!(E<0)){var f=this._components;if(E===T.length-1)for(var P=16*E,w=0;w<16;++w)A[w]=f[P++];else{for(var z=T[E+1]-T[E],P=16*E,F=this.prevMatrix,H=!0,w=0;w<16;++w)F[w]=f[P++];for(var _=this.nextMatrix,w=0;w<16;++w)_[w]=f[P++],H=H&&F[w]===_[w];if(z<1e-6||H)for(var w=0;w<16;++w)A[w]=F[w];else u(A,F,_,(R-T[E])/z)}var B=this.computedUp;B[0]=A[1],B[1]=A[5],B[2]=A[9],b(B,B);var N=this.computedInverse;n(N,A);var O=this.computedEye,U=N[15];O[0]=N[12]/U,O[1]=N[13]/U,O[2]=N[14]/U;for(var K=this.computedCenter,re=Math.exp(this.computedRadius[0]),w=0;w<3;++w)K[w]=O[w]-A[2+4*w]*re}},p.idle=function(R){if(!(R<this.lastT())){for(var T=this._components,E=T.length-16,A=0;A<16;++A)T.push(T[E++]);this._time.push(R)}},p.flush=function(R){var T=r.gt(this._time,R)-2;T<0||(this._time.splice(0,T),this._components.splice(0,16*T))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(R,T,E,A){this.recalcMatrix(R),T=T||this.computedEye,E=E||v,A=A||this.computedUp,this.setMatrix(R,m(this.computedMatrix,T,E,A));for(var f=0,P=0;P<3;++P)f+=Math.pow(E[P]-T[P],2);f=Math.log(Math.sqrt(f)),this.computedRadius[0]=f},p.rotate=function(R,T,E,A){this.recalcMatrix(R);var f=this.computedInverse;T&&s(f,f,T),E&&i(f,f,E),A&&o(f,f,A),this.setMatrix(R,n(this.computedMatrix,f))};var S=[0,0,0];p.pan=function(R,T,E,A){S[0]=-(T||0),S[1]=-(E||0),S[2]=-(A||0),this.recalcMatrix(R);var f=this.computedInverse;c(f,f,S),this.setMatrix(R,n(f,f))},p.translate=function(R,T,E,A){S[0]=T||0,S[1]=E||0,S[2]=A||0,this.recalcMatrix(R);var f=this.computedMatrix;c(f,f,S),this.setMatrix(R,f)},p.setMatrix=function(R,T){if(!(R<this.lastT())){this._time.push(R);for(var E=0;E<16;++E)this._components.push(T[E])}},p.setDistance=function(R,T){this.computedRadius[0]=T},p.setDistanceLimits=function(R,T){var E=this._limits;E[0]=R,E[1]=T},p.getDistanceLimits=function(R){var T=this._limits;return R?(R[0]=T[0],R[1]=T[1],R):T};function M(R){R=R||{};var T=R.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new l(T)}},3266:function(h,d,t){h.exports=u;var r=t(417)[3];function u(n){var i=n.length;if(i<3){for(var p=new Array(i),s=0;s<i;++s)p[s]=s;return i===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:p}for(var o=new Array(i),s=0;s<i;++s)o[s]=s;o.sort(function(T,E){var A=n[T][0]-n[E][0];return A||n[T][1]-n[E][1]});for(var m=[o[0],o[1]],c=[o[0],o[1]],s=2;s<i;++s){for(var b=o[s],v=n[b],l=m.length;l>1&&r(n[m[l-2]],n[m[l-1]],v)<=0;)l-=1,m.pop();for(m.push(b),l=c.length;l>1&&r(n[c[l-2]],n[c[l-1]],v)>=0;)l-=1,c.pop();c.push(b)}for(var p=new Array(c.length+m.length-2),S=0,s=0,M=m.length;s<M;++s)p[S++]=m[s];for(var R=c.length-2;R>0;--R)p[S++]=c[R];return p}},6145:function(h,d,t){h.exports=u;var r=t(4110);function u(n,i){i||(i=n,n=window);var s=0,o=0,m=0,c={shift:!1,alt:!1,control:!1,meta:!1},b=!1;function v(w){var z=!1;return"altKey"in w&&(z=z||w.altKey!==c.alt,c.alt=!!w.altKey),"shiftKey"in w&&(z=z||w.shiftKey!==c.shift,c.shift=!!w.shiftKey),"ctrlKey"in w&&(z=z||w.ctrlKey!==c.control,c.control=!!w.ctrlKey),"metaKey"in w&&(z=z||w.metaKey!==c.meta,c.meta=!!w.metaKey),z}function l(w,z){var F=r.x(z),H=r.y(z);"buttons"in z&&(w=z.buttons|0),(w!==s||F!==o||H!==m||v(z))&&(s=w|0,o=F||0,m=H||0,i&&i(s,o,m,c))}function p(w){l(0,w)}function S(){(s||o||m||c.shift||c.alt||c.meta||c.control)&&(o=m=0,s=0,c.shift=c.alt=c.control=c.meta=!1,i&&i(0,0,0,c))}function M(w){v(w)&&i&&i(s,o,m,c)}function R(w){r.buttons(w)===0?l(0,w):l(s,w)}function T(w){l(s|r.buttons(w),w)}function E(w){l(s&~r.buttons(w),w)}function A(){b||(b=!0,n.addEventListener("mousemove",R),n.addEventListener("mousedown",T),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",S),n.addEventListener("keyup",M),n.addEventListener("keydown",M),n.addEventListener("keypress",M),n!==window&&(window.addEventListener("blur",S),window.addEventListener("keyup",M),window.addEventListener("keydown",M),window.addEventListener("keypress",M)))}function f(){b&&(b=!1,n.removeEventListener("mousemove",R),n.removeEventListener("mousedown",T),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",S),n.removeEventListener("keyup",M),n.removeEventListener("keydown",M),n.removeEventListener("keypress",M),n!==window&&(window.removeEventListener("blur",S),window.removeEventListener("keyup",M),window.removeEventListener("keydown",M),window.removeEventListener("keypress",M)))}A();var P={element:n};return Object.defineProperties(P,{enabled:{get:function(){return b},set:function(w){w?A():f()},enumerable:!0},buttons:{get:function(){return s},enumerable:!0},x:{get:function(){return o},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),P}},2565:function(h){var d={left:0,top:0};h.exports=t;function t(u,n,i){n=n||u.currentTarget||u.srcElement,Array.isArray(i)||(i=[0,0]);var s=u.clientX||0,o=u.clientY||0,m=r(n);return i[0]=s-m.left,i[1]=o-m.top,i}function r(u){return u===window||u===document||u===document.body?d:u.getBoundingClientRect()}},4110:function(h,d){function t(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){var s=i.which;if(s===2)return 4;if(s===3)return 2;if(s>0)return 1<<s-1}else if("button"in i){var s=i.button;if(s===1)return 4;if(s===2)return 2;if(s>=0)return 1<<s}}return 0}d.buttons=t;function r(i){return i.target||i.srcElement||window}d.element=r;function u(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var s=r(i),o=s.getBoundingClientRect();return i.clientX-o.left}return 0}d.x=u;function n(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var s=r(i),o=s.getBoundingClientRect();return i.clientY-o.top}return 0}d.y=n},6475:function(h,d,t){var r=t(14);h.exports=u;function u(n,i,s){typeof n=="function"&&(s=!!i,i=n,n=window);var o=r("ex",n),m=function(c){s&&c.preventDefault();var b=c.deltaX||0,v=c.deltaY||0,l=c.deltaZ||0,p=c.deltaMode,S=1;switch(p){case 1:S=o;break;case 2:S=window.innerHeight;break}if(b*=S,v*=S,l*=S,b||v||l)return i(b,v,l,c)};return n.addEventListener("wheel",m),m}},9284:function(h,d,t){var r=t(5306);h.exports=i;var u={"false,0,1":function(o,m,c,b,v){return function(p,S,M,R){var T=p.shape[0]|0,E=p.shape[1]|0,A=p.data,f=p.offset|0,P=p.stride[0]|0,w=p.stride[1]|0,z=f,F,H=-P|0,_=0,B=-w|0,N=0,O=-P-w|0,U=0,K=P|0,re=w-P*T|0,ae=0,ue=0,ve=0,ee=2*T|0,J=b(ee),Q=b(ee),X=0,q=0,se=-1,Y=-1,Z=0,ie=-T|0,te=T|0,fe=0,de=-T-1|0,we=T-1|0,Ae=0,Re=0,Fe=0;for(ae=0;ae<T;++ae)J[X++]=c(A[z],S,M,R),z+=K;if(z+=re,E>0){if(ue=1,J[X++]=c(A[z],S,M,R),z+=K,T>0)for(ae=1,F=A[z],q=J[X]=c(F,S,M,R),Z=J[X+se],fe=J[X+ie],Ae=J[X+de],(q!==Z||q!==fe||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,Z,fe,Ae,S,M,R),Re=Q[X]=ve++),X+=1,z+=K,ae=2;ae<T;++ae)F=A[z],q=J[X]=c(F,S,M,R),Z=J[X+se],fe=J[X+ie],Ae=J[X+de],(q!==Z||q!==fe||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,Z,fe,Ae,S,M,R),Re=Q[X]=ve++,Ae!==Z&&m(Q[X+se],Re,U,_,Ae,Z,S,M,R)),X+=1,z+=K;for(z+=re,X=0,Fe=se,se=Y,Y=Fe,Fe=ie,ie=te,te=Fe,Fe=de,de=we,we=Fe,ue=2;ue<E;++ue){if(J[X++]=c(A[z],S,M,R),z+=K,T>0)for(ae=1,F=A[z],q=J[X]=c(F,S,M,R),Z=J[X+se],fe=J[X+ie],Ae=J[X+de],(q!==Z||q!==fe||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,Z,fe,Ae,S,M,R),Re=Q[X]=ve++,Ae!==fe&&m(Q[X+ie],Re,N,U,fe,Ae,S,M,R)),X+=1,z+=K,ae=2;ae<T;++ae)F=A[z],q=J[X]=c(F,S,M,R),Z=J[X+se],fe=J[X+ie],Ae=J[X+de],(q!==Z||q!==fe||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,Z,fe,Ae,S,M,R),Re=Q[X]=ve++,Ae!==fe&&m(Q[X+ie],Re,N,U,fe,Ae,S,M,R),Ae!==Z&&m(Q[X+se],Re,U,_,Ae,Z,S,M,R)),X+=1,z+=K;ue&1&&(X=0),Fe=se,se=Y,Y=Fe,Fe=ie,ie=te,te=Fe,Fe=de,de=we,we=Fe,z+=re}}v(Q),v(J)}},"false,1,0":function(o,m,c,b,v){return function(p,S,M,R){var T=p.shape[0]|0,E=p.shape[1]|0,A=p.data,f=p.offset|0,P=p.stride[0]|0,w=p.stride[1]|0,z=f,F,H=-P|0,_=0,B=-w|0,N=0,O=-P-w|0,U=0,K=w|0,re=P-w*E|0,ae=0,ue=0,ve=0,ee=2*E|0,J=b(ee),Q=b(ee),X=0,q=0,se=-1,Y=-1,Z=0,ie=-E|0,te=E|0,fe=0,de=-E-1|0,we=E-1|0,Ae=0,Re=0,Fe=0;for(ue=0;ue<E;++ue)J[X++]=c(A[z],S,M,R),z+=K;if(z+=re,T>0){if(ae=1,J[X++]=c(A[z],S,M,R),z+=K,E>0)for(ue=1,F=A[z],q=J[X]=c(F,S,M,R),fe=J[X+ie],Z=J[X+se],Ae=J[X+de],(q!==fe||q!==Z||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,fe,Z,Ae,S,M,R),Re=Q[X]=ve++),X+=1,z+=K,ue=2;ue<E;++ue)F=A[z],q=J[X]=c(F,S,M,R),fe=J[X+ie],Z=J[X+se],Ae=J[X+de],(q!==fe||q!==Z||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,fe,Z,Ae,S,M,R),Re=Q[X]=ve++,Ae!==Z&&m(Q[X+se],Re,N,U,Z,Ae,S,M,R)),X+=1,z+=K;for(z+=re,X=0,Fe=ie,ie=te,te=Fe,Fe=se,se=Y,Y=Fe,Fe=de,de=we,we=Fe,ae=2;ae<T;++ae){if(J[X++]=c(A[z],S,M,R),z+=K,E>0)for(ue=1,F=A[z],q=J[X]=c(F,S,M,R),fe=J[X+ie],Z=J[X+se],Ae=J[X+de],(q!==fe||q!==Z||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,fe,Z,Ae,S,M,R),Re=Q[X]=ve++,Ae!==fe&&m(Q[X+ie],Re,U,_,Ae,fe,S,M,R)),X+=1,z+=K,ue=2;ue<E;++ue)F=A[z],q=J[X]=c(F,S,M,R),fe=J[X+ie],Z=J[X+se],Ae=J[X+de],(q!==fe||q!==Z||q!==Ae)&&(_=A[z+H],N=A[z+B],U=A[z+O],o(ae,ue,F,_,N,U,q,fe,Z,Ae,S,M,R),Re=Q[X]=ve++,Ae!==Z&&m(Q[X+se],Re,N,U,Z,Ae,S,M,R),Ae!==fe&&m(Q[X+ie],Re,U,_,Ae,fe,S,M,R)),X+=1,z+=K;ae&1&&(X=0),Fe=ie,ie=te,te=Fe,Fe=se,se=Y,Y=Fe,Fe=de,de=we,we=Fe,z+=re}}v(Q),v(J)}}};function n(s,o,m,c,b,v){var l=[v,b].join(","),p=u[l];return p(s,o,m,r.mallocUint32,r.freeUint32)}function i(s){function o(S){throw new Error("ndarray-extract-contour: "+S)}typeof s!="object"&&o("Must specify arguments");var m=s.order;Array.isArray(m)||o("Must specify order");var c=s.arrayArguments||1;c<1&&o("Must have at least one array argument");var b=s.scalarArguments||0;b<0&&o("Scalar arg count must be > 0"),typeof s.vertex!="function"&&o("Must specify vertex creation function"),typeof s.cell!="function"&&o("Must specify cell creation function"),typeof s.phase!="function"&&o("Must specify phase function");for(var v=s.getters||[],l=new Array(c),p=0;p<c;++p)v.indexOf(p)>=0?l[p]=!0:l[p]=!1;return n(s.vertex,s.cell,s.phase,b,m,l)}},9144:function(h,d,t){var r=t(3094),u={zero:function(M,R,T,E){var A=M[0],f=T[0];E|=0;var P=0,w=f;for(P=0;P<A;++P)R[E]=0,E+=w},fdTemplate1:function(M,R,T,E,A,f,P){var w=M[0],z=T[0],F=f[0],H=-1*z,_=z;E|=0,P|=0;var B=0,N=z,O=F;for(B=0;B<w;++B)A[P]=.5*(R[E+H]-R[E+_]),E+=N,P+=O},fdTemplate2:function(M,R,T,E,A,f,P,w,z,F){var H=M[0],_=M[1],B=T[0],N=T[1],O=f[0],U=f[1],K=z[0],re=z[1],ae=-1*B,ue=B,ve=-1*N,ee=N;E|=0,P|=0,F|=0;var J=0,Q=0,X=N,q=B-_*N,se=U,Y=O-_*U,Z=re,ie=K-_*re;for(Q=0;Q<H;++Q){for(J=0;J<_;++J)A[P]=.5*(R[E+ae]-R[E+ue]),w[F]=.5*(R[E+ve]-R[E+ee]),E+=X,P+=se,F+=Z;E+=q,P+=Y,F+=ie}}},n={cdiff:function(M){var R={};return function(E,A,f){var P=E.dtype,w=E.order,z=A.dtype,F=A.order,H=f.dtype,_=f.order,B=[P,w.join(),z,F.join(),H,_.join()].join(),N=R[B];return N||(R[B]=N=M([P,w,z,F,H,_])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0,f.data,f.stride,f.offset|0)}},zero:function(M){var R={};return function(E){var A=E.dtype,f=E.order,P=[A,f.join()].join(),w=R[P];return w||(R[P]=w=M([A,f])),w(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(M){var R={};return function(E,A){var f=E.dtype,P=E.order,w=A.dtype,z=A.order,F=[f,P.join(),w,z.join()].join(),H=R[F];return H||(R[F]=H=M([f,P,w,z])),H(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0)}},fdTemplate2:function(M){var R={};return function(E,A,f){var P=E.dtype,w=E.order,z=A.dtype,F=A.order,H=f.dtype,_=f.order,B=[P,w.join(),z,F.join(),H,_.join()].join(),N=R[B];return N||(R[B]=N=M([P,w,z,F,H,_])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0,f.data,f.stride,f.offset|0)}}};function i(M){var R=n[M.funcName];return R(s.bind(void 0,M))}function s(M){return u[M.funcName]}function o(M){return i({funcName:M.funcName})}var m={},c={},b=o({funcName:"cdiff"}),v=o({funcName:"zero"});function l(M){return M in m?m[M]:m[M]=o({funcName:"fdTemplate"+M})}function p(M,R,T,E){return function(A,f){var P=f.shape.slice();return P[0]>2&&P[1]>2&&E(f.pick(-1,-1).lo(1,1).hi(P[0]-2,P[1]-2),A.pick(-1,-1,0).lo(1,1).hi(P[0]-2,P[1]-2),A.pick(-1,-1,1).lo(1,1).hi(P[0]-2,P[1]-2)),P[1]>2&&(T(f.pick(0,-1).lo(1).hi(P[1]-2),A.pick(0,-1,1).lo(1).hi(P[1]-2)),R(A.pick(0,-1,0).lo(1).hi(P[1]-2))),P[1]>2&&(T(f.pick(P[0]-1,-1).lo(1).hi(P[1]-2),A.pick(P[0]-1,-1,1).lo(1).hi(P[1]-2)),R(A.pick(P[0]-1,-1,0).lo(1).hi(P[1]-2))),P[0]>2&&(T(f.pick(-1,0).lo(1).hi(P[0]-2),A.pick(-1,0,0).lo(1).hi(P[0]-2)),R(A.pick(-1,0,1).lo(1).hi(P[0]-2))),P[0]>2&&(T(f.pick(-1,P[1]-1).lo(1).hi(P[0]-2),A.pick(-1,P[1]-1,0).lo(1).hi(P[0]-2)),R(A.pick(-1,P[1]-1,1).lo(1).hi(P[0]-2))),A.set(0,0,0,0),A.set(0,0,1,0),A.set(P[0]-1,0,0,0),A.set(P[0]-1,0,1,0),A.set(0,P[1]-1,0,0),A.set(0,P[1]-1,1,0),A.set(P[0]-1,P[1]-1,0,0),A.set(P[0]-1,P[1]-1,1,0),A}}function S(M){var R=M.join(),P=c[R];if(P)return P;for(var T=M.length,E=[b,v],A=1;A<=T;++A)E.push(l(A));var f=p,P=f.apply(void 0,E);return c[R]=P,P}h.exports=function(R,T,E){if(Array.isArray(E)||(typeof E=="string"?E=r(T.dimension,E):E=r(T.dimension,"clamp")),T.size===0)return R;if(T.dimension===0)return R.set(0),R;var A=S(E);return A(R,T)}},3581:function(h){function d(i,s){var o=Math.floor(s),m=s-o,c=0<=o&&o<i.shape[0],b=0<=o+1&&o+1<i.shape[0],v=c?+i.get(o):0,l=b?+i.get(o+1):0;return(1-m)*v+m*l}function t(i,s,o){var m=Math.floor(s),c=s-m,b=0<=m&&m<i.shape[0],v=0<=m+1&&m+1<i.shape[0],l=Math.floor(o),p=o-l,S=0<=l&&l<i.shape[1],M=0<=l+1&&l+1<i.shape[1],R=b&&S?i.get(m,l):0,T=b&&M?i.get(m,l+1):0,E=v&&S?i.get(m+1,l):0,A=v&&M?i.get(m+1,l+1):0;return(1-p)*((1-c)*R+c*E)+p*((1-c)*T+c*A)}function r(i,s,o,m){var c=Math.floor(s),b=s-c,v=0<=c&&c<i.shape[0],l=0<=c+1&&c+1<i.shape[0],p=Math.floor(o),S=o-p,M=0<=p&&p<i.shape[1],R=0<=p+1&&p+1<i.shape[1],T=Math.floor(m),E=m-T,A=0<=T&&T<i.shape[2],f=0<=T+1&&T+1<i.shape[2],P=v&&M&&A?i.get(c,p,T):0,w=v&&R&&A?i.get(c,p+1,T):0,z=l&&M&&A?i.get(c+1,p,T):0,F=l&&R&&A?i.get(c+1,p+1,T):0,H=v&&M&&f?i.get(c,p,T+1):0,_=v&&R&&f?i.get(c,p+1,T+1):0,B=l&&M&&f?i.get(c+1,p,T+1):0,N=l&&R&&f?i.get(c+1,p+1,T+1):0;return(1-E)*((1-S)*((1-b)*P+b*z)+S*((1-b)*w+b*F))+E*((1-S)*((1-b)*H+b*B)+S*((1-b)*_+b*N))}function u(i){var s=i.shape.length|0,o=new Array(s),m=new Array(s),c=new Array(s),b=new Array(s),v,l;for(v=0;v<s;++v)l=+arguments[v+1],o[v]=Math.floor(l),m[v]=l-o[v],c[v]=0<=o[v]&&o[v]<i.shape[v],b[v]=0<=o[v]+1&&o[v]+1<i.shape[v];var p=0,S,M,R;e:for(v=0;v<1<<s;++v){for(M=1,R=i.offset,S=0;S<s;++S)if(v&1<<S){if(!b[S])continue e;M*=m[S],R+=i.stride[S]*(o[S]+1)}else{if(!c[S])continue e;M*=1-m[S],R+=i.stride[S]*o[S]}p+=M*i.data[R]}return p}function n(i,s,o,m){switch(i.shape.length){case 0:return 0;case 1:return d(i,s);case 2:return t(i,s,o);case 3:return r(i,s,o,m);default:return u.apply(void 0,arguments)}}h.exports=n,h.exports.d1=d,h.exports.d2=t,h.exports.d3=r},7498:function(h,d){var t={"float64,2,1,0":function(){return function(c,b,v,l,p){var S=c[0],M=c[1],R=c[2],T=v[0],E=v[1],A=v[2];l|=0;var f=0,P=0,w=0,z=A,F=E-R*A,H=T-M*E;for(w=0;w<S;++w){for(P=0;P<M;++P){for(f=0;f<R;++f)b[l]/=p,l+=z;l+=F}l+=H}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,b,v,l,p,S,M,R){var T=c[0],E=c[1],A=c[2],f=v[0],P=v[1],w=v[2],z=S[0],F=S[1],H=S[2];l|=0,M|=0;for(var _=l,B=M,N=c[0]|0;N>0;){N<64?(T=N,N=0):(T=64,N-=64);for(var O=c[1]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64),l=_+N*f+O*P,M=B+N*z+O*F;var U=0,K=0,re=0,ae=w,ue=f-A*w,ve=P-T*f,ee=H,J=z-A*H,Q=F-T*z;for(re=0;re<E;++re){for(K=0;K<T;++K){for(U=0;U<A;++U)b[l]=p[M]*R,l+=ae,M+=ee;l+=ue,M+=J}l+=ve,M+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(c,b,v,l,p,S,M){var R=c[0],T=c[1],E=v[0],A=v[1],f=S[0],P=S[1];l|=0,M|=0;var w=0,z=0,F=A,H=E-T*A,_=P,B=f-T*P;for(z=0;z<R;++z){for(w=0;w<T;++w)b[l]=p[M],l+=F,M+=_;l+=H,M+=B}}},"float32,1,0,float32,0,1":function(){return function(c,b,v,l,p,S,M){var R=c[0],T=c[1],E=v[0],A=v[1],f=S[0],P=S[1];l|=0,M|=0;for(var w=l,z=M,F=c[1]|0;F>0;){F<64?(T=F,F=0):(T=64,F-=64);for(var H=c[0]|0;H>0;){H<64?(R=H,H=0):(R=64,H-=64),l=w+F*A+H*E,M=z+F*P+H*f;var _=0,B=0,N=A,O=E-T*A,U=P,K=f-T*P;for(B=0;B<R;++B){for(_=0;_<T;++_)b[l]=p[M],l+=N,M+=U;l+=O,M+=K}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,b,v,l,p,S,M){var R=c[0],T=c[1],E=c[2],A=v[0],f=v[1],P=v[2],w=S[0],z=S[1],F=S[2];l|=0,M|=0;for(var H=l,_=M,B=c[2]|0;B>0;){B<64?(E=B,B=0):(E=64,B-=64);for(var N=c[0]|0;N>0;){N<64?(R=N,N=0):(R=64,N-=64);for(var O=c[1]|0;O>0;){O<64?(T=O,O=0):(T=64,O-=64),l=H+B*P+N*A+O*f,M=_+B*F+N*w+O*z;var U=0,K=0,re=0,ae=P,ue=A-E*P,ve=f-R*A,ee=F,J=w-E*F,Q=z-R*w;for(re=0;re<T;++re){for(K=0;K<R;++K){for(U=0;U<E;++U)b[l]=p[M],l+=ae,M+=ee;l+=ue,M+=J}l+=ve,M+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,b,v,l,p,S,M){var R=c[0],T=c[1],E=c[2],A=v[0],f=v[1],P=v[2],w=S[0],z=S[1],F=S[2];l|=0,M|=0;var H=0,_=0,B=0,N=P,O=A-E*P,U=f-R*A,K=F,re=w-E*F,ae=z-R*w;for(B=0;B<T;++B){for(_=0;_<R;++_){for(H=0;H<E;++H)b[l]=p[M],l+=N,M+=K;l+=O,M+=re}l+=U,M+=ae}}}};function r(m,c){var b=c.join(","),v=t[b];return v()}var u=r,n={mul:function(m){var c={};return function(v,l,p){var S=v.dtype,M=v.order,R=l.dtype,T=l.order,E=p.dtype,A=p.order,f=[S,M.join(),R,T.join(),E,A.join()].join(),P=c[f];return P||(c[f]=P=m([S,M,R,T,E,A])),P(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,p.data,p.stride,p.offset|0)}},muls:function(m){var c={};return function(v,l,p){var S=v.dtype,M=v.order,R=l.dtype,T=l.order,E=[S,M.join(),R,T.join()].join(),A=c[E];return A||(c[E]=A=m([S,M,R,T])),A(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,p)}},mulseq:function(m){var c={};return function(v,l){var p=v.dtype,S=v.order,M=[p,S.join()].join(),R=c[M];return R||(c[M]=R=m([p,S])),R(v.shape.slice(0),v.data,v.stride,v.offset|0,l)}},div:function(m){var c={};return function(v,l,p){var S=v.dtype,M=v.order,R=l.dtype,T=l.order,E=p.dtype,A=p.order,f=[S,M.join(),R,T.join(),E,A.join()].join(),P=c[f];return P||(c[f]=P=m([S,M,R,T,E,A])),P(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,p.data,p.stride,p.offset|0)}},divs:function(m){var c={};return function(v,l,p){var S=v.dtype,M=v.order,R=l.dtype,T=l.order,E=[S,M.join(),R,T.join()].join(),A=c[E];return A||(c[E]=A=m([S,M,R,T])),A(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,p)}},divseq:function(m){var c={};return function(v,l){var p=v.dtype,S=v.order,M=[p,S.join()].join(),R=c[M];return R||(c[M]=R=m([p,S])),R(v.shape.slice(0),v.data,v.stride,v.offset|0,l)}},assign:function(m){var c={};return function(v,l){var p=v.dtype,S=v.order,M=l.dtype,R=l.order,T=[p,S.join(),M,R.join()].join(),E=c[T];return E||(c[T]=E=m([p,S,M,R])),E(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0)}}};function i(m){var c=n[m.funcName];return c(u.bind(void 0,m))}function s(m){return i({funcName:m.funcName})}var o={mul:"*",div:"/"};(function(){for(var m in o)d[m]=s({funcName:m}),d[m+"s"]=s({funcName:m+"s"}),d[m+"seq"]=s({funcName:m+"seq"})})(),d.assign=s({funcName:"assign"})},7382:function(h,d,t){var r=t(5050),u=t(9262);h.exports=function(i,s){for(var o=[],m=i,c=1;Array.isArray(m);)o.push(m.length),c*=m.length,m=m[0];return o.length===0?r():(s||(s=r(new Float64Array(c),o)),u(s,i),s)}},9262:function(h){function d(){return function(s,o,m,c,b){var v=s[0],l=s[1],p=s[2],S=m[0],M=m[1],R=m[2],T=[0,0,0];c|=0;var E=0,A=0,f=0,P=R,w=M-p*R,z=S-l*M;for(f=0;f<v;++f){for(A=0;A<l;++A){for(E=0;E<p;++E){{var F=b,H;for(H=0;H<T.length-1;++H)F=F[T[H]];o[c]=F[T[T.length-1]]}c+=P,++T[2]}c+=w,T[2]-=p,++T[1]}c+=z,T[1]-=l,++T[0]}}}function t(){return d()}var r=t;function u(s){var o={};return function(c,b){var v=c.dtype,l=c.order,p=[v,l.join()].join(),S=o[p];return S||(o[p]=S=s([v,l])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,b)}}function n(s){return u(r.bind(void 0,s))}function i(s){return n({funcName:s.funcName})}h.exports=i({funcName:"convert"})},8139:function(h,d,t){var r=t(5306);function u(b){switch(b){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var n={"uint32,1,0":function(b,v){return function(p,S,M,R,T,E,A,f,P,w,z){var F,H,_,B=p*T+R,N,O=b(f),U,K,re,ae;for(F=p+1;F<=S;++F){for(H=F,B+=T,_=B,U=0,K=B,N=0;N<f;++N)O[U++]=M[K],K+=P;e:for(;H-- >p;){U=0,K=_-T;t:for(N=0;N<f;++N){if(re=M[K],ae=O[U],re<ae)break e;if(re>ae)break t;K+=w,U+=z}for(U=_,K=_-T,N=0;N<f;++N)M[U]=M[K],U+=P,K+=P;_-=T}for(U=_,K=0,N=0;N<f;++N)M[U]=O[K++],U+=P}v(O)}}};function i(b,v){var l=u(v),p=[v,b].join(","),S=n[p];return l?S(l[0],l[1]):S()}var s={"uint32,1,0":function(b,v,l){return function p(S,M,R,T,E,A,f,P,w,z,F){var H=(M-S+1)/6|0,_=S+H,B=M-H,N=S+M>>1,O=N-H,U=N+H,K=_,re=O,ae=N,ue=U,ve=B,ee=S+1,J=M-1,Q=!0,X,q,se,Y,Z,ie,te,fe,de,we=0,Ae=0,Re=0,Fe,Se,Te,Ee,Ne,He,_e,We,tt,Ke,qe,rt,ft,pt,gt,Mt,Lt=P,Wt=v(Lt),Je=v(Lt);Se=E*K,Te=E*re,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=K,K=re,re=q;break e}if(Re<0)break e;Mt+=z}Se=E*ue,Te=E*ve,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=ue,ue=ve,ve=q;break e}if(Re<0)break e;Mt+=z}Se=E*K,Te=E*ae,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=K,K=ae,ae=q;break e}if(Re<0)break e;Mt+=z}Se=E*re,Te=E*ae,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=re,re=ae,ae=q;break e}if(Re<0)break e;Mt+=z}Se=E*K,Te=E*ue,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=K,K=ue,ue=q;break e}if(Re<0)break e;Mt+=z}Se=E*ae,Te=E*ue,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=ae,ae=ue,ue=q;break e}if(Re<0)break e;Mt+=z}Se=E*re,Te=E*ve,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=re,re=ve,ve=q;break e}if(Re<0)break e;Mt+=z}Se=E*re,Te=E*ae,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=re,re=ae,ae=q;break e}if(Re<0)break e;Mt+=z}Se=E*ue,Te=E*ve,Mt=T;e:for(Fe=0;Fe<P;++Fe){if(te=Se+Mt,fe=Te+Mt,Re=R[te]-R[fe],Re>0){q=ue,ue=ve,ve=q;break e}if(Re<0)break e;Mt+=z}for(Se=E*K,Te=E*re,Ee=E*ae,Ne=E*ue,He=E*ve,_e=E*_,We=E*N,tt=E*B,gt=0,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,de=Ee+Mt,Ke=Ne+Mt,qe=He+Mt,rt=_e+Mt,ft=We+Mt,pt=tt+Mt,Wt[gt]=R[fe],Je[gt]=R[Ke],Q=Q&&Wt[gt]===Je[gt],se=R[te],Y=R[de],Z=R[qe],R[rt]=se,R[ft]=Y,R[pt]=Z,++gt,Mt+=w;for(Se=E*O,Te=E*S,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,R[te]=R[fe],Mt+=w;for(Se=E*U,Te=E*M,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,R[te]=R[fe],Mt+=w;if(Q)for(ie=ee;ie<=J;++ie){te=T+ie*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Re=R[te]-Wt[gt],Re!==0)break e;gt+=F,te+=z}if(Re!==0)if(Re<0){if(ie!==ee)for(Se=E*ie,Te=E*ee,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,X=R[te],R[te]=R[fe],R[fe]=X,Mt+=w;++ee}else for(;;){te=T+J*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Re=R[te]-Wt[gt],Re!==0)break e;gt+=F,te+=z}if(Re>0)J--;else if(Re<0){for(Se=E*ie,Te=E*ee,Ee=E*J,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,de=Ee+Mt,X=R[te],R[te]=R[fe],R[fe]=R[de],R[de]=X,Mt+=w;++ee,--J;break}else{for(Se=E*ie,Te=E*J,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,X=R[te],R[te]=R[fe],R[fe]=X,Mt+=w;--J;break}}}else for(ie=ee;ie<=J;++ie){te=T+ie*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(we=R[te]-Wt[gt],we!==0)break e;gt+=F,te+=z}if(we<0){if(ie!==ee)for(Se=E*ie,Te=E*ee,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,X=R[te],R[te]=R[fe],R[fe]=X,Mt+=w;++ee}else{te=T+ie*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Ae=R[te]-Je[gt],Ae!==0)break e;gt+=F,te+=z}if(Ae>0)for(;;){te=T+J*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Re=R[te]-Je[gt],Re!==0)break e;gt+=F,te+=z}if(Re>0){if(--J<ie)break;continue}else{te=T+J*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Re=R[te]-Wt[gt],Re!==0)break e;gt+=F,te+=z}if(Re<0){for(Se=E*ie,Te=E*ee,Ee=E*J,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,de=Ee+Mt,X=R[te],R[te]=R[fe],R[fe]=R[de],R[de]=X,Mt+=w;++ee,--J}else{for(Se=E*ie,Te=E*J,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,X=R[te],R[te]=R[fe],R[fe]=X,Mt+=w;--J}break}}}}for(Se=E*S,Te=E*(ee-1),gt=0,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,R[te]=R[fe],R[fe]=Wt[gt],++gt,Mt+=w;for(Se=E*M,Te=E*(J+1),gt=0,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,R[te]=R[fe],R[fe]=Je[gt],++gt,Mt+=w;if(ee-2-S<=32?b(S,ee-2,R,T,E,A,f,P,w,z,F):p(S,ee-2,R,T,E,A,f,P,w,z,F),M-(J+2)<=32?b(J+2,M,R,T,E,A,f,P,w,z,F):p(J+2,M,R,T,E,A,f,P,w,z,F),Q){l(Wt),l(Je);return}if(ee<_&&J>B){e:for(;;){for(te=T+ee*E,gt=0,Mt=T,Fe=0;Fe<P;++Fe){if(R[te]!==Wt[gt])break e;++gt,te+=w}++ee}e:for(;;){for(te=T+J*E,gt=0,Mt=T,Fe=0;Fe<P;++Fe){if(R[te]!==Je[gt])break e;++gt,te+=w}--J}for(ie=ee;ie<=J;++ie){te=T+ie*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(we=R[te]-Wt[gt],we!==0)break e;gt+=F,te+=z}if(we===0){if(ie!==ee)for(Se=E*ie,Te=E*ee,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,X=R[te],R[te]=R[fe],R[fe]=X,Mt+=w;++ee}else{te=T+ie*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Ae=R[te]-Je[gt],Ae!==0)break e;gt+=F,te+=z}if(Ae===0)for(;;){te=T+J*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Re=R[te]-Je[gt],Re!==0)break e;gt+=F,te+=z}if(Re===0){if(--J<ie)break;continue}else{te=T+J*E,gt=0;e:for(Fe=0;Fe<P;++Fe){if(Re=R[te]-Wt[gt],Re!==0)break e;gt+=F,te+=z}if(Re<0){for(Se=E*ie,Te=E*ee,Ee=E*J,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,de=Ee+Mt,X=R[te],R[te]=R[fe],R[fe]=R[de],R[de]=X,Mt+=w;++ee,--J}else{for(Se=E*ie,Te=E*J,Mt=T,Fe=0;Fe<P;++Fe)te=Se+Mt,fe=Te+Mt,X=R[te],R[te]=R[fe],R[fe]=X,Mt+=w;--J}break}}}}}l(Wt),l(Je),J-ee<=32?b(ee,J,R,T,E,A,f,P,w,z,F):p(ee,J,R,T,E,A,f,P,w,z,F)}}};function o(b,v,l){var p=u(v),S=[v,b].join(","),M=s[S];return b.length>1&&p?M(l,p[0],p[1]):M(l)}var m={"uint32,1,0":function(b,v){return function(l){var p=l.data,S=l.offset|0,M=l.shape,R=l.stride,T=R[0]|0,E=M[0]|0,A=R[1]|0,f=M[1]|0,P=A,w=A,z=1;E<=32?b(0,E-1,p,S,T,A,E,f,P,w,z):v(0,E-1,p,S,T,A,E,f,P,w,z)}}};function c(b,v){var l=[v,b].join(","),p=m[l],S=i(b,v),M=o(b,v,S);return p(S,M)}h.exports=c},8729:function(h,d,t){var r=t(8139),u={};function n(i){var s=i.order,o=i.dtype,m=[s,o],c=m.join(":"),b=u[c];return b||(u[c]=b=r(s,o)),b(i),i}h.exports=n},5050:function(h,d,t){var r=t(4780),u=typeof Float64Array<"u";function n(v,l){return v[0]-l[0]}function i(){var v=this.stride,l=new Array(v.length),p;for(p=0;p<l.length;++p)l[p]=[Math.abs(v[p]),p];l.sort(n);var S=new Array(l.length);for(p=0;p<S.length;++p)S[p]=l[p][1];return S}var s={T:function(v){function l(S){this.data=S}var p=l.prototype;return p.dtype=v,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new l(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(M){return new l(M)}},0:function(v,l){function p(M,R){this.data=M,this.offset=R}var S=p.prototype;return S.dtype=v,S.index=function(){return this.offset},S.dimension=0,S.size=1,S.shape=S.stride=S.order=[],S.lo=S.hi=S.transpose=S.step=function(){return new p(this.data,this.offset)},S.pick=function(){return l(this.data)},S.valueOf=S.get=function(){return v==="generic"?this.data.get(this.offset):this.data[this.offset]},S.set=function(R){return v==="generic"?this.data.set(this.offset,R):this.data[this.offset]=R},function(R,T,E,A){return new p(R,A)}},1:function(v,l,p){function S(R,T,E,A){this.data=R,this.shape=[T],this.stride=[E],this.offset=A|0}var M=S.prototype;return M.dtype=v,M.dimension=1,Object.defineProperty(M,"size",{get:function(){return this.shape[0]}}),M.order=[0],M.set=function(T,E){return v==="generic"?this.data.set(this.offset+this.stride[0]*T,E):this.data[this.offset+this.stride[0]*T]=E},M.get=function(T){return v==="generic"?this.data.get(this.offset+this.stride[0]*T):this.data[this.offset+this.stride[0]*T]},M.index=function(T){return this.offset+this.stride[0]*T},M.hi=function(T){return new S(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,this.stride[0],this.offset)},M.lo=function(T){var E=this.offset,A=0,f=this.shape[0],P=this.stride[0];return typeof T=="number"&&T>=0&&(A=T|0,E+=P*A,f-=A),new S(this.data,f,P,E)},M.step=function(T){var E=this.shape[0],A=this.stride[0],f=this.offset,P=0,w=Math.ceil;return typeof T=="number"&&(P=T|0,P<0?(f+=A*(E-1),E=w(-E/P)):E=w(E/P),A*=P),new S(this.data,E,A,f)},M.transpose=function(T){T=T===void 0?0:T|0;var E=this.shape,A=this.stride;return new S(this.data,E[T],A[T],this.offset)},M.pick=function(T){var E=[],A=[],f=this.offset;typeof T=="number"&&T>=0?f=f+this.stride[0]*T|0:(E.push(this.shape[0]),A.push(this.stride[0]));var P=l[E.length+1];return P(this.data,E,A,f)},function(T,E,A,f){return new S(T,E[0],A[0],f)}},2:function(v,l,p){function S(R,T,E,A,f,P){this.data=R,this.shape=[T,E],this.stride=[A,f],this.offset=P|0}var M=S.prototype;return M.dtype=v,M.dimension=2,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(M,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),M.set=function(T,E,A){return v==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*E,A):this.data[this.offset+this.stride[0]*T+this.stride[1]*E]=A},M.get=function(T,E){return v==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*E):this.data[this.offset+this.stride[0]*T+this.stride[1]*E]},M.index=function(T,E){return this.offset+this.stride[0]*T+this.stride[1]*E},M.hi=function(T,E){return new S(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},M.lo=function(T,E){var A=this.offset,f=0,P=this.shape[0],w=this.shape[1],z=this.stride[0],F=this.stride[1];return typeof T=="number"&&T>=0&&(f=T|0,A+=z*f,P-=f),typeof E=="number"&&E>=0&&(f=E|0,A+=F*f,w-=f),new S(this.data,P,w,z,F,A)},M.step=function(T,E){var A=this.shape[0],f=this.shape[1],P=this.stride[0],w=this.stride[1],z=this.offset,F=0,H=Math.ceil;return typeof T=="number"&&(F=T|0,F<0?(z+=P*(A-1),A=H(-A/F)):A=H(A/F),P*=F),typeof E=="number"&&(F=E|0,F<0?(z+=w*(f-1),f=H(-f/F)):f=H(f/F),w*=F),new S(this.data,A,f,P,w,z)},M.transpose=function(T,E){T=T===void 0?0:T|0,E=E===void 0?1:E|0;var A=this.shape,f=this.stride;return new S(this.data,A[T],A[E],f[T],f[E],this.offset)},M.pick=function(T,E){var A=[],f=[],P=this.offset;typeof T=="number"&&T>=0?P=P+this.stride[0]*T|0:(A.push(this.shape[0]),f.push(this.stride[0])),typeof E=="number"&&E>=0?P=P+this.stride[1]*E|0:(A.push(this.shape[1]),f.push(this.stride[1]));var w=l[A.length+1];return w(this.data,A,f,P)},function(T,E,A,f){return new S(T,E[0],E[1],A[0],A[1],f)}},3:function(v,l,p){function S(R,T,E,A,f,P,w,z){this.data=R,this.shape=[T,E,A],this.stride=[f,P,w],this.offset=z|0}var M=S.prototype;return M.dtype=v,M.dimension=3,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(M,"order",{get:function(){var T=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return T>E?E>A?[2,1,0]:T>A?[1,2,0]:[1,0,2]:T>A?[2,0,1]:A>E?[0,1,2]:[0,2,1]}}),M.set=function(T,E,A,f){return v==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A,f):this.data[this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A]=f},M.get=function(T,E,A){return v==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A):this.data[this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A]},M.index=function(T,E,A){return this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A},M.hi=function(T,E,A){return new S(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof A!="number"||A<0?this.shape[2]:A|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},M.lo=function(T,E,A){var f=this.offset,P=0,w=this.shape[0],z=this.shape[1],F=this.shape[2],H=this.stride[0],_=this.stride[1],B=this.stride[2];return typeof T=="number"&&T>=0&&(P=T|0,f+=H*P,w-=P),typeof E=="number"&&E>=0&&(P=E|0,f+=_*P,z-=P),typeof A=="number"&&A>=0&&(P=A|0,f+=B*P,F-=P),new S(this.data,w,z,F,H,_,B,f)},M.step=function(T,E,A){var f=this.shape[0],P=this.shape[1],w=this.shape[2],z=this.stride[0],F=this.stride[1],H=this.stride[2],_=this.offset,B=0,N=Math.ceil;return typeof T=="number"&&(B=T|0,B<0?(_+=z*(f-1),f=N(-f/B)):f=N(f/B),z*=B),typeof E=="number"&&(B=E|0,B<0?(_+=F*(P-1),P=N(-P/B)):P=N(P/B),F*=B),typeof A=="number"&&(B=A|0,B<0?(_+=H*(w-1),w=N(-w/B)):w=N(w/B),H*=B),new S(this.data,f,P,w,z,F,H,_)},M.transpose=function(T,E,A){T=T===void 0?0:T|0,E=E===void 0?1:E|0,A=A===void 0?2:A|0;var f=this.shape,P=this.stride;return new S(this.data,f[T],f[E],f[A],P[T],P[E],P[A],this.offset)},M.pick=function(T,E,A){var f=[],P=[],w=this.offset;typeof T=="number"&&T>=0?w=w+this.stride[0]*T|0:(f.push(this.shape[0]),P.push(this.stride[0])),typeof E=="number"&&E>=0?w=w+this.stride[1]*E|0:(f.push(this.shape[1]),P.push(this.stride[1])),typeof A=="number"&&A>=0?w=w+this.stride[2]*A|0:(f.push(this.shape[2]),P.push(this.stride[2]));var z=l[f.length+1];return z(this.data,f,P,w)},function(T,E,A,f){return new S(T,E[0],E[1],E[2],A[0],A[1],A[2],f)}},4:function(v,l,p){function S(R,T,E,A,f,P,w,z,F,H){this.data=R,this.shape=[T,E,A,f],this.stride=[P,w,z,F],this.offset=H|0}var M=S.prototype;return M.dtype=v,M.dimension=4,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(M,"order",{get:p}),M.set=function(T,E,A,f,P){return v==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A+this.stride[3]*f,P):this.data[this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A+this.stride[3]*f]=P},M.get=function(T,E,A,f){return v==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A+this.stride[3]*f):this.data[this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A+this.stride[3]*f]},M.index=function(T,E,A,f){return this.offset+this.stride[0]*T+this.stride[1]*E+this.stride[2]*A+this.stride[3]*f},M.hi=function(T,E,A,f){return new S(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof A!="number"||A<0?this.shape[2]:A|0,typeof f!="number"||f<0?this.shape[3]:f|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},M.lo=function(T,E,A,f){var P=this.offset,w=0,z=this.shape[0],F=this.shape[1],H=this.shape[2],_=this.shape[3],B=this.stride[0],N=this.stride[1],O=this.stride[2],U=this.stride[3];return typeof T=="number"&&T>=0&&(w=T|0,P+=B*w,z-=w),typeof E=="number"&&E>=0&&(w=E|0,P+=N*w,F-=w),typeof A=="number"&&A>=0&&(w=A|0,P+=O*w,H-=w),typeof f=="number"&&f>=0&&(w=f|0,P+=U*w,_-=w),new S(this.data,z,F,H,_,B,N,O,U,P)},M.step=function(T,E,A,f){var P=this.shape[0],w=this.shape[1],z=this.shape[2],F=this.shape[3],H=this.stride[0],_=this.stride[1],B=this.stride[2],N=this.stride[3],O=this.offset,U=0,K=Math.ceil;return typeof T=="number"&&(U=T|0,U<0?(O+=H*(P-1),P=K(-P/U)):P=K(P/U),H*=U),typeof E=="number"&&(U=E|0,U<0?(O+=_*(w-1),w=K(-w/U)):w=K(w/U),_*=U),typeof A=="number"&&(U=A|0,U<0?(O+=B*(z-1),z=K(-z/U)):z=K(z/U),B*=U),typeof f=="number"&&(U=f|0,U<0?(O+=N*(F-1),F=K(-F/U)):F=K(F/U),N*=U),new S(this.data,P,w,z,F,H,_,B,N,O)},M.transpose=function(T,E,A,f){T=T===void 0?0:T|0,E=E===void 0?1:E|0,A=A===void 0?2:A|0,f=f===void 0?3:f|0;var P=this.shape,w=this.stride;return new S(this.data,P[T],P[E],P[A],P[f],w[T],w[E],w[A],w[f],this.offset)},M.pick=function(T,E,A,f){var P=[],w=[],z=this.offset;typeof T=="number"&&T>=0?z=z+this.stride[0]*T|0:(P.push(this.shape[0]),w.push(this.stride[0])),typeof E=="number"&&E>=0?z=z+this.stride[1]*E|0:(P.push(this.shape[1]),w.push(this.stride[1])),typeof A=="number"&&A>=0?z=z+this.stride[2]*A|0:(P.push(this.shape[2]),w.push(this.stride[2])),typeof f=="number"&&f>=0?z=z+this.stride[3]*f|0:(P.push(this.shape[3]),w.push(this.stride[3]));var F=l[P.length+1];return F(this.data,P,w,z)},function(T,E,A,f){return new S(T,E[0],E[1],E[2],E[3],A[0],A[1],A[2],A[3],f)}},5:function(l,p,S){function M(T,E,A,f,P,w,z,F,H,_,B,N){this.data=T,this.shape=[E,A,f,P,w],this.stride=[z,F,H,_,B],this.offset=N|0}var R=M.prototype;return R.dtype=l,R.dimension=5,Object.defineProperty(R,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(R,"order",{get:S}),R.set=function(E,A,f,P,w,z){return l==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*f+this.stride[3]*P+this.stride[4]*w,z):this.data[this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*f+this.stride[3]*P+this.stride[4]*w]=z},R.get=function(E,A,f,P,w){return l==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*f+this.stride[3]*P+this.stride[4]*w):this.data[this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*f+this.stride[3]*P+this.stride[4]*w]},R.index=function(E,A,f,P,w){return this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*f+this.stride[3]*P+this.stride[4]*w},R.hi=function(E,A,f,P,w){return new M(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof f!="number"||f<0?this.shape[2]:f|0,typeof P!="number"||P<0?this.shape[3]:P|0,typeof w!="number"||w<0?this.shape[4]:w|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},R.lo=function(E,A,f,P,w){var z=this.offset,F=0,H=this.shape[0],_=this.shape[1],B=this.shape[2],N=this.shape[3],O=this.shape[4],U=this.stride[0],K=this.stride[1],re=this.stride[2],ae=this.stride[3],ue=this.stride[4];return typeof E=="number"&&E>=0&&(F=E|0,z+=U*F,H-=F),typeof A=="number"&&A>=0&&(F=A|0,z+=K*F,_-=F),typeof f=="number"&&f>=0&&(F=f|0,z+=re*F,B-=F),typeof P=="number"&&P>=0&&(F=P|0,z+=ae*F,N-=F),typeof w=="number"&&w>=0&&(F=w|0,z+=ue*F,O-=F),new M(this.data,H,_,B,N,O,U,K,re,ae,ue,z)},R.step=function(E,A,f,P,w){var z=this.shape[0],F=this.shape[1],H=this.shape[2],_=this.shape[3],B=this.shape[4],N=this.stride[0],O=this.stride[1],U=this.stride[2],K=this.stride[3],re=this.stride[4],ae=this.offset,ue=0,ve=Math.ceil;return typeof E=="number"&&(ue=E|0,ue<0?(ae+=N*(z-1),z=ve(-z/ue)):z=ve(z/ue),N*=ue),typeof A=="number"&&(ue=A|0,ue<0?(ae+=O*(F-1),F=ve(-F/ue)):F=ve(F/ue),O*=ue),typeof f=="number"&&(ue=f|0,ue<0?(ae+=U*(H-1),H=ve(-H/ue)):H=ve(H/ue),U*=ue),typeof P=="number"&&(ue=P|0,ue<0?(ae+=K*(_-1),_=ve(-_/ue)):_=ve(_/ue),K*=ue),typeof w=="number"&&(ue=w|0,ue<0?(ae+=re*(B-1),B=ve(-B/ue)):B=ve(B/ue),re*=ue),new M(this.data,z,F,H,_,B,N,O,U,K,re,ae)},R.transpose=function(E,A,f,P,w){E=E===void 0?0:E|0,A=A===void 0?1:A|0,f=f===void 0?2:f|0,P=P===void 0?3:P|0,w=w===void 0?4:w|0;var z=this.shape,F=this.stride;return new M(this.data,z[E],z[A],z[f],z[P],z[w],F[E],F[A],F[f],F[P],F[w],this.offset)},R.pick=function(E,A,f,P,w){var z=[],F=[],H=this.offset;typeof E=="number"&&E>=0?H=H+this.stride[0]*E|0:(z.push(this.shape[0]),F.push(this.stride[0])),typeof A=="number"&&A>=0?H=H+this.stride[1]*A|0:(z.push(this.shape[1]),F.push(this.stride[1])),typeof f=="number"&&f>=0?H=H+this.stride[2]*f|0:(z.push(this.shape[2]),F.push(this.stride[2])),typeof P=="number"&&P>=0?H=H+this.stride[3]*P|0:(z.push(this.shape[3]),F.push(this.stride[3])),typeof w=="number"&&w>=0?H=H+this.stride[4]*w|0:(z.push(this.shape[4]),F.push(this.stride[4]));var _=p[z.length+1];return _(this.data,z,F,H)},function(E,A,f,P){return new M(E,A[0],A[1],A[2],A[3],A[4],f[0],f[1],f[2],f[3],f[4],P)}}};function o(v,l){var p=l===-1?"T":String(l),S=s[p];return l===-1?S(v):l===0?S(v,c[v][0]):S(v,c[v],i)}function m(v){if(r(v))return"buffer";if(u)switch(Object.prototype.toString.call(v)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(v)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function b(v,l,p,S){if(v===void 0){var f=c.array[0];return f([])}else typeof v=="number"&&(v=[v]);l===void 0&&(l=[v.length]);var M=l.length;if(p===void 0){p=new Array(M);for(var R=M-1,T=1;R>=0;--R)p[R]=T,T*=l[R]}if(S===void 0){S=0;for(var R=0;R<M;++R)p[R]<0&&(S-=(l[R]-1)*p[R])}for(var E=m(v),A=c[E];A.length<=M+1;)A.push(o(E,A.length-1));var f=A[M+1];return f(v,l,p,S)}h.exports=b},8551:function(h,d,t){var r=t(8362),u=Math.pow(2,-1074),n=-1>>>0;h.exports=i;function i(s,o){if(isNaN(s)||isNaN(o))return NaN;if(s===o)return s;if(s===0)return o<0?-u:u;var m=r.hi(s),c=r.lo(s);return o>s==s>0?c===n?(m+=1,c=0):c+=1:c===0?(c=n,m-=1):c-=1,r.pack(c,m)}},115:function(h,d){var t=1e-6,r=1e-6;d.vertexNormals=function(u,n,i){for(var s=n.length,o=new Array(s),m=i===void 0?t:i,c=0;c<s;++c)o[c]=[0,0,0];for(var c=0;c<u.length;++c)for(var b=u[c],v=0,l=b[b.length-1],p=b[0],S=0;S<b.length;++S){v=l,l=p,p=b[(S+1)%b.length];for(var M=n[v],R=n[l],T=n[p],E=new Array(3),A=0,f=new Array(3),P=0,w=0;w<3;++w)E[w]=M[w]-R[w],A+=E[w]*E[w],f[w]=T[w]-R[w],P+=f[w]*f[w];if(A*P>m)for(var z=o[l],F=1/Math.sqrt(A*P),w=0;w<3;++w){var H=(w+1)%3,_=(w+2)%3;z[w]+=F*(f[H]*E[_]-f[_]*E[H])}}for(var c=0;c<s;++c){for(var z=o[c],B=0,w=0;w<3;++w)B+=z[w]*z[w];if(B>m)for(var F=1/Math.sqrt(B),w=0;w<3;++w)z[w]*=F;else for(var w=0;w<3;++w)z[w]=0}return o},d.faceNormals=function(u,n,i){for(var s=u.length,o=new Array(s),m=i===void 0?r:i,c=0;c<s;++c){for(var b=u[c],v=new Array(3),l=0;l<3;++l)v[l]=n[b[l]];for(var p=new Array(3),S=new Array(3),l=0;l<3;++l)p[l]=v[1][l]-v[0][l],S[l]=v[2][l]-v[0][l];for(var M=new Array(3),R=0,l=0;l<3;++l){var T=(l+1)%3,E=(l+2)%3;M[l]=p[T]*S[E]-p[E]*S[T],R+=M[l]*M[l]}R>m?R=1/Math.sqrt(R):R=0;for(var l=0;l<3;++l)M[l]*=R;o[c]=M}return o}},567:function(h){h.exports=d;function d(t,r,u,n,i,s,o,m,c,b){var v=r+s+b;if(l>0){var l=Math.sqrt(v+1);t[0]=.5*(o-c)/l,t[1]=.5*(m-n)/l,t[2]=.5*(u-s)/l,t[3]=.5*l}else{var p=Math.max(r,s,b),l=Math.sqrt(2*p-v+1);r>=p?(t[0]=.5*l,t[1]=.5*(i+u)/l,t[2]=.5*(m+n)/l,t[3]=.5*(o-c)/l):s>=p?(t[0]=.5*(u+i)/l,t[1]=.5*l,t[2]=.5*(c+o)/l,t[3]=.5*(m-n)/l):(t[0]=.5*(n+m)/l,t[1]=.5*(o+c)/l,t[2]=.5*l,t[3]=.5*(u-i)/l)}return t}},7774:function(h,d,t){h.exports=l;var r=t(8444),u=t(3012),n=t(5950),i=t(7437),s=t(567);function o(p,S,M){return Math.sqrt(Math.pow(p,2)+Math.pow(S,2)+Math.pow(M,2))}function m(p,S,M,R){return Math.sqrt(Math.pow(p,2)+Math.pow(S,2)+Math.pow(M,2)+Math.pow(R,2))}function c(p,S){var M=S[0],R=S[1],T=S[2],E=S[3],A=m(M,R,T,E);A>1e-6?(p[0]=M/A,p[1]=R/A,p[2]=T/A,p[3]=E/A):(p[0]=p[1]=p[2]=0,p[3]=1)}function b(p,S,M){this.radius=r([M]),this.center=r(S),this.rotation=r(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var v=b.prototype;v.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},v.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var S=this.computedRotation;c(S,S);var M=this.computedMatrix;n(M,S);var R=this.computedCenter,T=this.computedEye,E=this.computedUp,A=Math.exp(this.computedRadius[0]);T[0]=R[0]+A*M[2],T[1]=R[1]+A*M[6],T[2]=R[2]+A*M[10],E[0]=M[1],E[1]=M[5],E[2]=M[9];for(var f=0;f<3;++f){for(var P=0,w=0;w<3;++w)P+=M[f+4*w]*T[w];M[12+f]=-P}},v.getMatrix=function(p,S){this.recalcMatrix(p);var M=this.computedMatrix;if(S){for(var R=0;R<16;++R)S[R]=M[R];return S}return M},v.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},v.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},v.pan=function(p,S,M,R){S=S||0,M=M||0,R=R||0,this.recalcMatrix(p);var T=this.computedMatrix,E=T[1],A=T[5],f=T[9],P=o(E,A,f);E/=P,A/=P,f/=P;var w=T[0],z=T[4],F=T[8],H=w*E+z*A+F*f;w-=E*H,z-=A*H,F-=f*H;var _=o(w,z,F);w/=_,z/=_,F/=_,T[2],T[6],T[10];var B=w*S+E*M,N=z*S+A*M,O=F*S+f*M;this.center.move(p,B,N,O);var U=Math.exp(this.computedRadius[0]);U=Math.max(1e-4,U+R),this.radius.set(p,Math.log(U))},v.rotate=function(p,S,M,R){this.recalcMatrix(p),S=S||0,M=M||0;var T=this.computedMatrix,E=T[0],A=T[4],f=T[8],P=T[1],w=T[5],z=T[9],F=T[2],H=T[6],_=T[10],B=S*E+M*P,N=S*A+M*w,O=S*f+M*z,U=-(H*O-_*N),K=-(_*B-F*O),re=-(F*N-H*B),ae=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(K,2)-Math.pow(re,2))),ue=m(U,K,re,ae);ue>1e-6?(U/=ue,K/=ue,re/=ue,ae/=ue):(U=K=re=0,ae=1);var ve=this.computedRotation,ee=ve[0],J=ve[1],Q=ve[2],X=ve[3],q=ee*ae+X*U+J*re-Q*K,se=J*ae+X*K+Q*U-ee*re,Y=Q*ae+X*re+ee*K-J*U,Z=X*ae-ee*U-J*K-Q*re;if(R){U=F,K=H,re=_;var ie=Math.sin(R)/o(U,K,re);U*=ie,K*=ie,re*=ie,ae=Math.cos(S),q=q*ae+Z*U+se*re-Y*K,se=se*ae+Z*K+Y*U-q*re,Y=Y*ae+Z*re+q*K-se*U,Z=Z*ae-q*U-se*K-Y*re}var te=m(q,se,Y,Z);te>1e-6?(q/=te,se/=te,Y/=te,Z/=te):(q=se=Y=0,Z=1),this.rotation.set(p,q,se,Y,Z)},v.lookAt=function(p,S,M,R){this.recalcMatrix(p),M=M||this.computedCenter,S=S||this.computedEye,R=R||this.computedUp;var T=this.computedMatrix;u(T,S,M,R);var E=this.computedRotation;s(E,T[0],T[1],T[2],T[4],T[5],T[6],T[8],T[9],T[10]),c(E,E),this.rotation.set(p,E[0],E[1],E[2],E[3]);for(var A=0,f=0;f<3;++f)A+=Math.pow(M[f]-S[f],2);this.radius.set(p,.5*Math.log(Math.max(A,1e-6))),this.center.set(p,M[0],M[1],M[2])},v.translate=function(p,S,M,R){this.center.move(p,S||0,M||0,R||0)},v.setMatrix=function(p,S){var M=this.computedRotation;s(M,S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]),c(M,M),this.rotation.set(p,M[0],M[1],M[2],M[3]);var R=this.computedMatrix;i(R,S);var T=R[15];if(Math.abs(T)>1e-6){var E=R[12]/T,A=R[13]/T,f=R[14]/T;this.recalcMatrix(p);var P=Math.exp(this.computedRadius[0]);this.center.set(p,E-R[2]*P,A-R[6]*P,f-R[10]*P),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},v.setDistance=function(p,S){S>0&&this.radius.set(p,Math.log(S))},v.setDistanceLimits=function(p,S){p>0?p=Math.log(p):p=-1/0,S>0?S=Math.log(S):S=1/0,S=Math.max(S,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=S},v.getDistanceLimits=function(p){var S=this.radius.bounds;return p?(p[0]=Math.exp(S[0][0]),p[1]=Math.exp(S[1][0]),p):[Math.exp(S[0][0]),Math.exp(S[1][0])]},v.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},v.fromJSON=function(p){var S=this.lastT(),M=p.center;M&&this.center.set(S,M[0],M[1],M[2]);var R=p.rotation;R&&this.rotation.set(S,R[0],R[1],R[2],R[3]);var T=p.distance;T&&T>0&&this.radius.set(S,Math.log(T)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function l(p){p=p||{};var S=p.center||[0,0,0],M=p.rotation||[0,0,0,1],R=p.radius||1;S=[].slice.call(S,0,3),M=[].slice.call(M,0,4),c(M,M);var T=new b(M,S,Math.log(R));return T.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&T.lookAt(0,p.eye,p.center,p.up),T}},4930:function(h,d,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);h.exports=function(n,i,s){return s=typeof s<"u"?s+"":" ",r(s,i)+n}},4405:function(h){h.exports=function(t,r){r||(r=[0,""]),t=String(t);var u=parseFloat(t,10);return r[0]=u,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(h,d,t){h.exports=u;var r=t(9398);function u(n,i){for(var s=i.length|0,o=n.length,m=[new Array(s),new Array(s)],c=0;c<s;++c)m[0][c]=[],m[1][c]=[];for(var c=0;c<o;++c){var b=n[c];m[0][b[0]].push(b),m[1][b[1]].push(b)}for(var v=[],c=0;c<s;++c)m[0][c].length+m[1][c].length===0&&v.push([c]);function l(A,f){var P=m[f][A[f]];P.splice(P.indexOf(A),1)}function p(A,f,P){for(var w,z,F,H=0;H<2;++H)if(m[H][f].length>0){w=m[H][f][0],F=H;break}z=w[F^1];for(var _=0;_<2;++_)for(var B=m[_][f],N=0;N<B.length;++N){var O=B[N],U=O[_^1],K=r(i[A],i[f],i[z],i[U]);K>0&&(w=O,z=U,F=_)}return P||w&&l(w,F),z}function S(A,f){var P=m[f][A][0],w=[A];l(P,f);for(var z=P[f^1];;){for(;z!==A;)w.push(z),z=p(w[w.length-2],z,!1);if(m[0][A].length+m[1][A].length===0)break;var F=w[w.length-1],H=A,_=w[1],B=p(F,H,!0);if(r(i[F],i[H],i[_],i[B])<0)break;w.push(A),z=p(F,H)}return w}function M(A,f){return f[1]===f[f.length-1]}for(var c=0;c<s;++c)for(var R=0;R<2;++R){for(var T=[];m[R][c].length>0;){m[0][c].length;var E=S(c,R);M(T,E)?T.push.apply(T,E):(T.length>0&&v.push(T),T=E)}T.length>0&&v.push(T)}return v}},3959:function(h,d,t){h.exports=u;var r=t(8348);function u(n,i){for(var s=r(n,i.length),o=new Array(i.length),m=new Array(i.length),c=[],b=0;b<i.length;++b){var v=s[b].length;m[b]=v,o[b]=!0,v<=1&&c.push(b)}for(;c.length>0;){var l=c.pop();o[l]=!1;for(var p=s[l],b=0;b<p.length;++b){var S=p[b];--m[S]===0&&c.push(S)}}for(var M=new Array(i.length),R=[],b=0;b<i.length;++b)if(o[b]){var l=R.length;M[b]=l,R.push(i[b])}else M[b]=-1;for(var T=[],b=0;b<n.length;++b){var E=n[b];o[E[0]]&&o[E[1]]&&T.push([M[E[0]],M[E[1]]])}return[T,R]}},8040:function(h,d,t){h.exports=v;var r=t(8348),u=t(4166),n=t(211),i=t(9660),s=t(9662),o=t(1215),m=t(3959);function c(l,p){for(var S=new Array(l),M=0;M<l;++M)S[M]=p;return S}function b(l){for(var p=new Array(l),S=0;S<l;++S)p[S]=[];return p}function v(l,p){var Z=m(l,p);l=Z[0],p=Z[1];var S=p.length;l.length;for(var M=r(l,p.length),R=0;R<S;++R)if(M[R].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var T=u(l,p);function E(Re){for(var Fe=Re.length,Se=[0],Te=0;Te<Fe;++Te){var Ee=p[Re[Te]],Ne=p[Re[(Te+1)%Fe]],He=i(-Ee[0],Ee[1]),_e=i(-Ee[0],Ne[1]),We=i(Ne[0],Ee[1]),tt=i(Ne[0],Ne[1]);Se=s(Se,s(s(He,_e),s(We,tt)))}return Se[Se.length-1]>0}T=T.filter(E);for(var A=T.length,f=new Array(A),P=new Array(A),R=0;R<A;++R){f[R]=R;var w=new Array(A),z=T[R].map(function(Fe){return p[Fe]}),F=n([z]),H=0;e:for(var _=0;_<A;++_)if(w[_]=0,R!==_){for(var B=T[_],N=B.length,O=0;O<N;++O){var U=F(p[B[O]]);if(U!==0){U<0&&(w[_]=1,H+=1);continue e}}w[_]=1,H+=1}P[R]=[H,R,w]}P.sort(function(Re,Fe){return Fe[0]-Re[0]});for(var R=0;R<A;++R)for(var w=P[R],K=w[1],re=w[2],_=0;_<A;++_)re[_]&&(f[_]=K);for(var ae=b(A),R=0;R<A;++R)ae[R].push(f[R]),ae[f[R]].push(R);for(var ue={},ve=c(S,!1),R=0;R<A;++R)for(var B=T[R],N=B.length,_=0;_<N;++_){var ee=B[_],J=B[(_+1)%N],Q=Math.min(ee,J)+":"+Math.max(ee,J);if(Q in ue){var X=ue[Q];ae[X].push(R),ae[R].push(X),ve[ee]=ve[J]=!0}else ue[Q]=R}function q(Re){for(var Fe=Re.length,Se=0;Se<Fe;++Se)if(!ve[Re[Se]])return!1;return!0}for(var se=[],Y=c(A,-1),R=0;R<A;++R)f[R]===R&&!q(T[R])?(se.push(R),Y[R]=0):Y[R]=-1;for(var Z=[];se.length>0;){var ie=se.pop(),te=ae[ie];o(te,function(Re,Fe){return Re-Fe});var fe=te.length,de=Y[ie],we;if(de===0){var B=T[ie];we=[B]}for(var R=0;R<fe;++R){var Ae=te[R];if(!(Y[Ae]>=0)&&(Y[Ae]=de^1,se.push(Ae),de===0)){var B=T[Ae];q(B)||(B.reverse(),we.push(B))}}de===0&&Z.push(we)}return Z}},211:function(h,d,t){h.exports=p;var r=t(417)[3],u=t(4385),n=t(9014),i=t(5070);function s(){return!0}function o(S){return function(M,R){var T=S[M];return T?!!T.queryPoint(R,s):!1}}function m(S){for(var M={},R=0;R<S.length;++R){var T=S[R],E=T[0][0],A=T[0][1],f=T[1][1],P=[Math.min(A,f),Math.max(A,f)];E in M?M[E].push(P):M[E]=[P]}for(var w={},z=Object.keys(M),R=0;R<z.length;++R){var F=M[z[R]];w[z[R]]=n(F)}return o(w)}function c(S,M){return function(R){var T=i.le(M,R[0]);if(T<0)return 1;var E=S[T];if(!E)if(T>0&&M[T]===R[0])E=S[T-1];else return 1;for(var A=1;E;){var f=E.key,P=r(R,f[0],f[1]);if(f[0][0]<f[1][0])if(P<0)E=E.left;else if(P>0)A=-1,E=E.right;else return 0;else if(P>0)E=E.left;else if(P<0)A=1,E=E.right;else return 0}return A}}function b(S){return 1}function v(S){return function(R){return S(R[0],R[1])?0:1}}function l(S,M){return function(T){return S(T[0],T[1])?0:M(T)}}function p(S){for(var M=S.length,R=[],T=[],E=0;E<M;++E)for(var A=S[E],f=A.length,P=f-1,w=0;w<f;P=w++){var z=A[P],F=A[w];z[0]===F[0]?T.push([z,F]):R.push([z,F])}if(R.length===0)return T.length===0?b:v(m(T));var H=u(R),_=c(H.slabs,H.coordinates);return T.length===0?_:l(m(T),_)}},7309:function(h){var d=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function u(n,i,s,o,m){d.length<o.length&&(d=new Float64Array(o.length),t=new Float64Array(o.length),r=new Float64Array(o.length));for(var c=0;c<o.length;++c)d[c]=n[c]-o[c],t[c]=i[c]-n[c],r[c]=s[c]-n[c];for(var b=0,v=0,l=0,p=0,S=0,M=0,c=0;c<o.length;++c){var R=t[c],T=r[c],E=d[c];b+=R*R,v+=R*T,l+=T*T,p+=E*R,S+=E*T,M+=E*E}var A=Math.abs(b*l-v*v),f=v*S-l*p,P=v*p-b*S,w;if(f+P<=A)if(f<0)P<0&&p<0?(P=0,-p>=b?(f=1,w=b+2*p+M):(f=-p/b,w=p*f+M)):(f=0,S>=0?(P=0,w=M):-S>=l?(P=1,w=l+2*S+M):(P=-S/l,w=S*P+M));else if(P<0)P=0,p>=0?(f=0,w=M):-p>=b?(f=1,w=b+2*p+M):(f=-p/b,w=p*f+M);else{var z=1/A;f*=z,P*=z,w=f*(b*f+v*P+2*p)+P*(v*f+l*P+2*S)+M}else{var F,H,_,B;f<0?(F=v+p,H=l+S,H>F?(_=H-F,B=b-2*v+l,_>=B?(f=1,P=0,w=b+2*p+M):(f=_/B,P=1-f,w=f*(b*f+v*P+2*p)+P*(v*f+l*P+2*S)+M)):(f=0,H<=0?(P=1,w=l+2*S+M):S>=0?(P=0,w=M):(P=-S/l,w=S*P+M))):P<0?(F=v+S,H=b+p,H>F?(_=H-F,B=b-2*v+l,_>=B?(P=1,f=0,w=l+2*S+M):(P=_/B,f=1-P,w=f*(b*f+v*P+2*p)+P*(v*f+l*P+2*S)+M)):(P=0,H<=0?(f=1,w=b+2*p+M):p>=0?(f=0,w=M):(f=-p/b,w=p*f+M))):(_=l+S-v-p,_<=0?(f=0,P=1,w=l+2*S+M):(B=b-2*v+l,_>=B?(f=1,P=0,w=b+2*p+M):(f=_/B,P=1-f,w=f*(b*f+v*P+2*p)+P*(v*f+l*P+2*S)+M)))}for(var N=1-f-P,c=0;c<o.length;++c)m[c]=N*n[c]+f*i[c]+P*s[c];return w<0?0:w}h.exports=u},1116:function(h,d,t){h.exports=t(6093)},7584:function(h,d,t){var r=t(1539);h.exports=u;function u(n,i){for(var s=n.length,o=new Array(s),m=0;m<s;++m)o[m]=r(n[m],i[m]);return o}},2826:function(h,d,t){h.exports=u;var r=t(5125);function u(n){for(var i=new Array(n.length),s=0;s<n.length;++s)i[s]=r(n[s]);return i}},4469:function(h,d,t){var r=t(5125),u=t(3962);h.exports=n;function n(i,s){for(var o=r(s),m=i.length,c=new Array(m),b=0;b<m;++b)c[b]=u(i[b],o);return c}},6695:function(h,d,t){var r=t(4354);h.exports=u;function u(n,i){for(var s=n.length,o=new Array(s),m=0;m<s;++m)o[m]=r(n[m],i[m]);return o}},7037:function(h,d,t){var r=t(9209),u=t(1284),n=t(9887);h.exports=i;function i(s){s.sort(u);for(var o=s.length,m=0,c=0;c<o;++c){var b=s[c],v=n(b);if(v!==0){if(m>0){var l=s[m-1];if(r(b,l)===0&&n(l)!==v){m-=1;continue}}s[m++]=b}}return s.length=m,s}},6184:function(h){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var d="",t;h.exports=r;function r(u,n){if(typeof u!="string")throw new TypeError("expected a string");if(n===1)return u;if(n===2)return u+u;var i=u.length*n;if(t!==u||typeof t>"u")t=u,d="";else if(d.length>=i)return d.substr(0,i);for(;i>d.length&&n>1;)n&1&&(d+=u),n>>=1,u+=u;return d+=u,d=d.substr(0,i),d}},8161:function(h,d,t){h.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(h){h.exports=d;function d(t){for(var r=t.length,u=t[t.length-1],n=r,i=r-2;i>=0;--i){var s=u,o=t[i];u=s+o;var m=u-s,c=o-m;c&&(t[--n]=u,u=c)}for(var b=0,i=n;i<r;++i){var s=t[i],o=u;u=s+o;var m=u-s,c=o-m;c&&(t[b++]=c)}return t[b++]=u,t.length=b,t}},8167:function(h,d,t){var r=t(9660),u=t(9662),n=t(8289),i=t(402),s=6;function o(M,R,T,E){return function(f){return E(M(T(f[0][0],f[1][1]),T(-f[0][1],f[1][0])))}}function m(M,R,T,E){return function(f){return E(M(R(M(T(f[1][1],f[2][2]),T(-f[1][2],f[2][1])),f[0][0]),M(R(M(T(f[1][0],f[2][2]),T(-f[1][2],f[2][0])),-f[0][1]),R(M(T(f[1][0],f[2][1]),T(-f[1][1],f[2][0])),f[0][2]))))}}function c(M,R,T,E){return function(f){return E(M(M(R(M(R(M(T(f[2][2],f[3][3]),T(-f[2][3],f[3][2])),f[1][1]),M(R(M(T(f[2][1],f[3][3]),T(-f[2][3],f[3][1])),-f[1][2]),R(M(T(f[2][1],f[3][2]),T(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),R(M(R(M(T(f[2][2],f[3][3]),T(-f[2][3],f[3][2])),f[1][0]),M(R(M(T(f[2][0],f[3][3]),T(-f[2][3],f[3][0])),-f[1][2]),R(M(T(f[2][0],f[3][2]),T(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),M(R(M(R(M(T(f[2][1],f[3][3]),T(-f[2][3],f[3][1])),f[1][0]),M(R(M(T(f[2][0],f[3][3]),T(-f[2][3],f[3][0])),-f[1][1]),R(M(T(f[2][0],f[3][1]),T(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),R(M(R(M(T(f[2][1],f[3][2]),T(-f[2][2],f[3][1])),f[1][0]),M(R(M(T(f[2][0],f[3][2]),T(-f[2][2],f[3][0])),-f[1][1]),R(M(T(f[2][0],f[3][1]),T(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function b(M,R,T,E){return function(f){return E(M(M(R(M(M(R(M(R(M(T(f[3][3],f[4][4]),T(-f[3][4],f[4][3])),f[2][2]),M(R(M(T(f[3][2],f[4][4]),T(-f[3][4],f[4][2])),-f[2][3]),R(M(T(f[3][2],f[4][3]),T(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),R(M(R(M(T(f[3][3],f[4][4]),T(-f[3][4],f[4][3])),f[2][1]),M(R(M(T(f[3][1],f[4][4]),T(-f[3][4],f[4][1])),-f[2][3]),R(M(T(f[3][1],f[4][3]),T(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),M(R(M(R(M(T(f[3][2],f[4][4]),T(-f[3][4],f[4][2])),f[2][1]),M(R(M(T(f[3][1],f[4][4]),T(-f[3][4],f[4][1])),-f[2][2]),R(M(T(f[3][1],f[4][2]),T(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),R(M(R(M(T(f[3][2],f[4][3]),T(-f[3][3],f[4][2])),f[2][1]),M(R(M(T(f[3][1],f[4][3]),T(-f[3][3],f[4][1])),-f[2][2]),R(M(T(f[3][1],f[4][2]),T(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),R(M(M(R(M(R(M(T(f[3][3],f[4][4]),T(-f[3][4],f[4][3])),f[2][2]),M(R(M(T(f[3][2],f[4][4]),T(-f[3][4],f[4][2])),-f[2][3]),R(M(T(f[3][2],f[4][3]),T(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),R(M(R(M(T(f[3][3],f[4][4]),T(-f[3][4],f[4][3])),f[2][0]),M(R(M(T(f[3][0],f[4][4]),T(-f[3][4],f[4][0])),-f[2][3]),R(M(T(f[3][0],f[4][3]),T(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),M(R(M(R(M(T(f[3][2],f[4][4]),T(-f[3][4],f[4][2])),f[2][0]),M(R(M(T(f[3][0],f[4][4]),T(-f[3][4],f[4][0])),-f[2][2]),R(M(T(f[3][0],f[4][2]),T(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),R(M(R(M(T(f[3][2],f[4][3]),T(-f[3][3],f[4][2])),f[2][0]),M(R(M(T(f[3][0],f[4][3]),T(-f[3][3],f[4][0])),-f[2][2]),R(M(T(f[3][0],f[4][2]),T(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),M(R(M(M(R(M(R(M(T(f[3][3],f[4][4]),T(-f[3][4],f[4][3])),f[2][1]),M(R(M(T(f[3][1],f[4][4]),T(-f[3][4],f[4][1])),-f[2][3]),R(M(T(f[3][1],f[4][3]),T(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),R(M(R(M(T(f[3][3],f[4][4]),T(-f[3][4],f[4][3])),f[2][0]),M(R(M(T(f[3][0],f[4][4]),T(-f[3][4],f[4][0])),-f[2][3]),R(M(T(f[3][0],f[4][3]),T(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),M(R(M(R(M(T(f[3][1],f[4][4]),T(-f[3][4],f[4][1])),f[2][0]),M(R(M(T(f[3][0],f[4][4]),T(-f[3][4],f[4][0])),-f[2][1]),R(M(T(f[3][0],f[4][1]),T(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),R(M(R(M(T(f[3][1],f[4][3]),T(-f[3][3],f[4][1])),f[2][0]),M(R(M(T(f[3][0],f[4][3]),T(-f[3][3],f[4][0])),-f[2][1]),R(M(T(f[3][0],f[4][1]),T(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),M(R(M(M(R(M(R(M(T(f[3][2],f[4][4]),T(-f[3][4],f[4][2])),f[2][1]),M(R(M(T(f[3][1],f[4][4]),T(-f[3][4],f[4][1])),-f[2][2]),R(M(T(f[3][1],f[4][2]),T(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),R(M(R(M(T(f[3][2],f[4][4]),T(-f[3][4],f[4][2])),f[2][0]),M(R(M(T(f[3][0],f[4][4]),T(-f[3][4],f[4][0])),-f[2][2]),R(M(T(f[3][0],f[4][2]),T(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),M(R(M(R(M(T(f[3][1],f[4][4]),T(-f[3][4],f[4][1])),f[2][0]),M(R(M(T(f[3][0],f[4][4]),T(-f[3][4],f[4][0])),-f[2][1]),R(M(T(f[3][0],f[4][1]),T(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),R(M(R(M(T(f[3][1],f[4][2]),T(-f[3][2],f[4][1])),f[2][0]),M(R(M(T(f[3][0],f[4][2]),T(-f[3][2],f[4][0])),-f[2][1]),R(M(T(f[3][0],f[4][1]),T(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),R(M(M(R(M(R(M(T(f[3][2],f[4][3]),T(-f[3][3],f[4][2])),f[2][1]),M(R(M(T(f[3][1],f[4][3]),T(-f[3][3],f[4][1])),-f[2][2]),R(M(T(f[3][1],f[4][2]),T(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),R(M(R(M(T(f[3][2],f[4][3]),T(-f[3][3],f[4][2])),f[2][0]),M(R(M(T(f[3][0],f[4][3]),T(-f[3][3],f[4][0])),-f[2][2]),R(M(T(f[3][0],f[4][2]),T(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),M(R(M(R(M(T(f[3][1],f[4][3]),T(-f[3][3],f[4][1])),f[2][0]),M(R(M(T(f[3][0],f[4][3]),T(-f[3][3],f[4][0])),-f[2][1]),R(M(T(f[3][0],f[4][1]),T(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),R(M(R(M(T(f[3][1],f[4][2]),T(-f[3][2],f[4][1])),f[2][0]),M(R(M(T(f[3][0],f[4][2]),T(-f[3][2],f[4][0])),-f[2][1]),R(M(T(f[3][0],f[4][1]),T(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function v(M){var R=M===2?o:M===3?m:M===4?c:M===5?b:void 0;return R(u,n,r,i)}var l=[function(){return[0]},function(R){return[R[0][0]]}];function p(M,R,T,E,A,f,P,w){return function(F){switch(F.length){case 0:return M(F);case 1:return R(F);case 2:return T(F);case 3:return E(F);case 4:return A(F);case 5:return f(F)}var H=P[F.length];return H||(H=P[F.length]=w(F.length)),H(F)}}function S(){for(;l.length<s;)l.push(v(l.length));h.exports=p.apply(void 0,l.concat([l,v]));for(var M=0;M<l.length;++M)h.exports[M]=l[M]}S()},9130:function(h,d,t){var r=t(9660),u=t(9662);h.exports=n;function n(i,s){for(var o=r(i[0],s[0]),m=1;m<i.length;++m)o=u(o,r(i[m],s[m]));return o}},2227:function(h,d,t){var r=t(9660),u=t(9662),n=t(4078),i=t(8289),s=6;function o(A){var f=A===3?v:A===4?l:A===5?p:S;return f(u,n,r,i)}function m(){return 0}function c(){return 0}function b(){return 0}function v(A,f,P,w){function z(F,H,_){var B=P(F[0],F[0]),N=w(B,H[0]),O=w(B,_[0]),U=P(H[0],H[0]),K=w(U,F[0]),re=w(U,_[0]),ae=P(_[0],_[0]),ue=w(ae,F[0]),ve=w(ae,H[0]),ee=A(f(ve,re),f(K,N)),J=f(ue,O),Q=f(ee,J);return Q[Q.length-1]}return z}function l(A,f,P,w){function z(F,H,_,B){var N=A(P(F[0],F[0]),P(F[1],F[1])),O=w(N,H[0]),U=w(N,_[0]),K=w(N,B[0]),re=A(P(H[0],H[0]),P(H[1],H[1])),ae=w(re,F[0]),ue=w(re,_[0]),ve=w(re,B[0]),ee=A(P(_[0],_[0]),P(_[1],_[1])),J=w(ee,F[0]),Q=w(ee,H[0]),X=w(ee,B[0]),q=A(P(B[0],B[0]),P(B[1],B[1])),se=w(q,F[0]),Y=w(q,H[0]),Z=w(q,_[0]),ie=A(A(w(f(Z,X),H[1]),A(w(f(Y,ve),-_[1]),w(f(Q,ue),B[1]))),A(w(f(Y,ve),F[1]),A(w(f(se,K),-H[1]),w(f(ae,O),B[1])))),te=A(A(w(f(Z,X),F[1]),A(w(f(se,K),-_[1]),w(f(J,U),B[1]))),A(w(f(Q,ue),F[1]),A(w(f(J,U),-H[1]),w(f(ae,O),_[1])))),fe=f(ie,te);return fe[fe.length-1]}return z}function p(A,f,P,w){function z(F,H,_,B,N){var O=A(P(F[0],F[0]),A(P(F[1],F[1]),P(F[2],F[2]))),U=w(O,H[0]),K=w(O,_[0]),re=w(O,B[0]),ae=w(O,N[0]),ue=A(P(H[0],H[0]),A(P(H[1],H[1]),P(H[2],H[2]))),ve=w(ue,F[0]),ee=w(ue,_[0]),J=w(ue,B[0]),Q=w(ue,N[0]),X=A(P(_[0],_[0]),A(P(_[1],_[1]),P(_[2],_[2]))),q=w(X,F[0]),se=w(X,H[0]),Y=w(X,B[0]),Z=w(X,N[0]),ie=A(P(B[0],B[0]),A(P(B[1],B[1]),P(B[2],B[2]))),te=w(ie,F[0]),fe=w(ie,H[0]),de=w(ie,_[0]),we=w(ie,N[0]),Ae=A(P(N[0],N[0]),A(P(N[1],N[1]),P(N[2],N[2]))),Re=w(Ae,F[0]),Fe=w(Ae,H[0]),Se=w(Ae,_[0]),Te=w(Ae,B[0]),Ee=A(A(A(w(A(w(f(Te,we),_[1]),A(w(f(Se,Z),-B[1]),w(f(de,Y),N[1]))),H[2]),A(w(A(w(f(Te,we),H[1]),A(w(f(Fe,Q),-B[1]),w(f(fe,J),N[1]))),-_[2]),w(A(w(f(Se,Z),H[1]),A(w(f(Fe,Q),-_[1]),w(f(se,ee),N[1]))),B[2]))),A(w(A(w(f(de,Y),H[1]),A(w(f(fe,J),-_[1]),w(f(se,ee),B[1]))),-N[2]),A(w(A(w(f(Te,we),H[1]),A(w(f(Fe,Q),-B[1]),w(f(fe,J),N[1]))),F[2]),w(A(w(f(Te,we),F[1]),A(w(f(Re,ae),-B[1]),w(f(te,re),N[1]))),-H[2])))),A(A(w(A(w(f(Fe,Q),F[1]),A(w(f(Re,ae),-H[1]),w(f(ve,U),N[1]))),B[2]),A(w(A(w(f(fe,J),F[1]),A(w(f(te,re),-H[1]),w(f(ve,U),B[1]))),-N[2]),w(A(w(f(de,Y),H[1]),A(w(f(fe,J),-_[1]),w(f(se,ee),B[1]))),F[2]))),A(w(A(w(f(de,Y),F[1]),A(w(f(te,re),-_[1]),w(f(q,K),B[1]))),-H[2]),A(w(A(w(f(fe,J),F[1]),A(w(f(te,re),-H[1]),w(f(ve,U),B[1]))),_[2]),w(A(w(f(se,ee),F[1]),A(w(f(q,K),-H[1]),w(f(ve,U),_[1]))),-B[2]))))),Ne=A(A(A(w(A(w(f(Te,we),_[1]),A(w(f(Se,Z),-B[1]),w(f(de,Y),N[1]))),F[2]),w(A(w(f(Te,we),F[1]),A(w(f(Re,ae),-B[1]),w(f(te,re),N[1]))),-_[2])),A(w(A(w(f(Se,Z),F[1]),A(w(f(Re,ae),-_[1]),w(f(q,K),N[1]))),B[2]),w(A(w(f(de,Y),F[1]),A(w(f(te,re),-_[1]),w(f(q,K),B[1]))),-N[2]))),A(A(w(A(w(f(Se,Z),H[1]),A(w(f(Fe,Q),-_[1]),w(f(se,ee),N[1]))),F[2]),w(A(w(f(Se,Z),F[1]),A(w(f(Re,ae),-_[1]),w(f(q,K),N[1]))),-H[2])),A(w(A(w(f(Fe,Q),F[1]),A(w(f(Re,ae),-H[1]),w(f(ve,U),N[1]))),_[2]),w(A(w(f(se,ee),F[1]),A(w(f(q,K),-H[1]),w(f(ve,U),_[1]))),-N[2])))),He=f(Ee,Ne);return He[He.length-1]}return z}function S(A,f,P,w){function z(F,H,_,B,N,O){var U=A(A(P(F[0],F[0]),P(F[1],F[1])),A(P(F[2],F[2]),P(F[3],F[3]))),K=w(U,H[0]),re=w(U,_[0]),ae=w(U,B[0]),ue=w(U,N[0]),ve=w(U,O[0]),ee=A(A(P(H[0],H[0]),P(H[1],H[1])),A(P(H[2],H[2]),P(H[3],H[3]))),J=w(ee,F[0]),Q=w(ee,_[0]),X=w(ee,B[0]),q=w(ee,N[0]),se=w(ee,O[0]),Y=A(A(P(_[0],_[0]),P(_[1],_[1])),A(P(_[2],_[2]),P(_[3],_[3]))),Z=w(Y,F[0]),ie=w(Y,H[0]),te=w(Y,B[0]),fe=w(Y,N[0]),de=w(Y,O[0]),we=A(A(P(B[0],B[0]),P(B[1],B[1])),A(P(B[2],B[2]),P(B[3],B[3]))),Ae=w(we,F[0]),Re=w(we,H[0]),Fe=w(we,_[0]),Se=w(we,N[0]),Te=w(we,O[0]),Ee=A(A(P(N[0],N[0]),P(N[1],N[1])),A(P(N[2],N[2]),P(N[3],N[3]))),Ne=w(Ee,F[0]),He=w(Ee,H[0]),_e=w(Ee,_[0]),We=w(Ee,B[0]),tt=w(Ee,O[0]),Ke=A(A(P(O[0],O[0]),P(O[1],O[1])),A(P(O[2],O[2]),P(O[3],O[3]))),qe=w(Ke,F[0]),rt=w(Ke,H[0]),ft=w(Ke,_[0]),pt=w(Ke,B[0]),gt=w(Ke,N[0]),Mt=A(A(A(w(A(A(w(A(w(f(gt,tt),B[1]),A(w(f(pt,Te),-N[1]),w(f(We,Se),O[1]))),_[2]),w(A(w(f(gt,tt),_[1]),A(w(f(ft,de),-N[1]),w(f(_e,fe),O[1]))),-B[2])),A(w(A(w(f(pt,Te),_[1]),A(w(f(ft,de),-B[1]),w(f(Fe,te),O[1]))),N[2]),w(A(w(f(We,Se),_[1]),A(w(f(_e,fe),-B[1]),w(f(Fe,te),N[1]))),-O[2]))),H[3]),A(w(A(A(w(A(w(f(gt,tt),B[1]),A(w(f(pt,Te),-N[1]),w(f(We,Se),O[1]))),H[2]),w(A(w(f(gt,tt),H[1]),A(w(f(rt,se),-N[1]),w(f(He,q),O[1]))),-B[2])),A(w(A(w(f(pt,Te),H[1]),A(w(f(rt,se),-B[1]),w(f(Re,X),O[1]))),N[2]),w(A(w(f(We,Se),H[1]),A(w(f(He,q),-B[1]),w(f(Re,X),N[1]))),-O[2]))),-_[3]),w(A(A(w(A(w(f(gt,tt),_[1]),A(w(f(ft,de),-N[1]),w(f(_e,fe),O[1]))),H[2]),w(A(w(f(gt,tt),H[1]),A(w(f(rt,se),-N[1]),w(f(He,q),O[1]))),-_[2])),A(w(A(w(f(ft,de),H[1]),A(w(f(rt,se),-_[1]),w(f(ie,Q),O[1]))),N[2]),w(A(w(f(_e,fe),H[1]),A(w(f(He,q),-_[1]),w(f(ie,Q),N[1]))),-O[2]))),B[3]))),A(A(w(A(A(w(A(w(f(pt,Te),_[1]),A(w(f(ft,de),-B[1]),w(f(Fe,te),O[1]))),H[2]),w(A(w(f(pt,Te),H[1]),A(w(f(rt,se),-B[1]),w(f(Re,X),O[1]))),-_[2])),A(w(A(w(f(ft,de),H[1]),A(w(f(rt,se),-_[1]),w(f(ie,Q),O[1]))),B[2]),w(A(w(f(Fe,te),H[1]),A(w(f(Re,X),-_[1]),w(f(ie,Q),B[1]))),-O[2]))),-N[3]),w(A(A(w(A(w(f(We,Se),_[1]),A(w(f(_e,fe),-B[1]),w(f(Fe,te),N[1]))),H[2]),w(A(w(f(We,Se),H[1]),A(w(f(He,q),-B[1]),w(f(Re,X),N[1]))),-_[2])),A(w(A(w(f(_e,fe),H[1]),A(w(f(He,q),-_[1]),w(f(ie,Q),N[1]))),B[2]),w(A(w(f(Fe,te),H[1]),A(w(f(Re,X),-_[1]),w(f(ie,Q),B[1]))),-N[2]))),O[3])),A(w(A(A(w(A(w(f(gt,tt),B[1]),A(w(f(pt,Te),-N[1]),w(f(We,Se),O[1]))),H[2]),w(A(w(f(gt,tt),H[1]),A(w(f(rt,se),-N[1]),w(f(He,q),O[1]))),-B[2])),A(w(A(w(f(pt,Te),H[1]),A(w(f(rt,se),-B[1]),w(f(Re,X),O[1]))),N[2]),w(A(w(f(We,Se),H[1]),A(w(f(He,q),-B[1]),w(f(Re,X),N[1]))),-O[2]))),F[3]),w(A(A(w(A(w(f(gt,tt),B[1]),A(w(f(pt,Te),-N[1]),w(f(We,Se),O[1]))),F[2]),w(A(w(f(gt,tt),F[1]),A(w(f(qe,ve),-N[1]),w(f(Ne,ue),O[1]))),-B[2])),A(w(A(w(f(pt,Te),F[1]),A(w(f(qe,ve),-B[1]),w(f(Ae,ae),O[1]))),N[2]),w(A(w(f(We,Se),F[1]),A(w(f(Ne,ue),-B[1]),w(f(Ae,ae),N[1]))),-O[2]))),-H[3])))),A(A(A(w(A(A(w(A(w(f(gt,tt),H[1]),A(w(f(rt,se),-N[1]),w(f(He,q),O[1]))),F[2]),w(A(w(f(gt,tt),F[1]),A(w(f(qe,ve),-N[1]),w(f(Ne,ue),O[1]))),-H[2])),A(w(A(w(f(rt,se),F[1]),A(w(f(qe,ve),-H[1]),w(f(J,K),O[1]))),N[2]),w(A(w(f(He,q),F[1]),A(w(f(Ne,ue),-H[1]),w(f(J,K),N[1]))),-O[2]))),B[3]),w(A(A(w(A(w(f(pt,Te),H[1]),A(w(f(rt,se),-B[1]),w(f(Re,X),O[1]))),F[2]),w(A(w(f(pt,Te),F[1]),A(w(f(qe,ve),-B[1]),w(f(Ae,ae),O[1]))),-H[2])),A(w(A(w(f(rt,se),F[1]),A(w(f(qe,ve),-H[1]),w(f(J,K),O[1]))),B[2]),w(A(w(f(Re,X),F[1]),A(w(f(Ae,ae),-H[1]),w(f(J,K),B[1]))),-O[2]))),-N[3])),A(w(A(A(w(A(w(f(We,Se),H[1]),A(w(f(He,q),-B[1]),w(f(Re,X),N[1]))),F[2]),w(A(w(f(We,Se),F[1]),A(w(f(Ne,ue),-B[1]),w(f(Ae,ae),N[1]))),-H[2])),A(w(A(w(f(He,q),F[1]),A(w(f(Ne,ue),-H[1]),w(f(J,K),N[1]))),B[2]),w(A(w(f(Re,X),F[1]),A(w(f(Ae,ae),-H[1]),w(f(J,K),B[1]))),-N[2]))),O[3]),w(A(A(w(A(w(f(pt,Te),_[1]),A(w(f(ft,de),-B[1]),w(f(Fe,te),O[1]))),H[2]),w(A(w(f(pt,Te),H[1]),A(w(f(rt,se),-B[1]),w(f(Re,X),O[1]))),-_[2])),A(w(A(w(f(ft,de),H[1]),A(w(f(rt,se),-_[1]),w(f(ie,Q),O[1]))),B[2]),w(A(w(f(Fe,te),H[1]),A(w(f(Re,X),-_[1]),w(f(ie,Q),B[1]))),-O[2]))),F[3]))),A(A(w(A(A(w(A(w(f(pt,Te),_[1]),A(w(f(ft,de),-B[1]),w(f(Fe,te),O[1]))),F[2]),w(A(w(f(pt,Te),F[1]),A(w(f(qe,ve),-B[1]),w(f(Ae,ae),O[1]))),-_[2])),A(w(A(w(f(ft,de),F[1]),A(w(f(qe,ve),-_[1]),w(f(Z,re),O[1]))),B[2]),w(A(w(f(Fe,te),F[1]),A(w(f(Ae,ae),-_[1]),w(f(Z,re),B[1]))),-O[2]))),-H[3]),w(A(A(w(A(w(f(pt,Te),H[1]),A(w(f(rt,se),-B[1]),w(f(Re,X),O[1]))),F[2]),w(A(w(f(pt,Te),F[1]),A(w(f(qe,ve),-B[1]),w(f(Ae,ae),O[1]))),-H[2])),A(w(A(w(f(rt,se),F[1]),A(w(f(qe,ve),-H[1]),w(f(J,K),O[1]))),B[2]),w(A(w(f(Re,X),F[1]),A(w(f(Ae,ae),-H[1]),w(f(J,K),B[1]))),-O[2]))),_[3])),A(w(A(A(w(A(w(f(ft,de),H[1]),A(w(f(rt,se),-_[1]),w(f(ie,Q),O[1]))),F[2]),w(A(w(f(ft,de),F[1]),A(w(f(qe,ve),-_[1]),w(f(Z,re),O[1]))),-H[2])),A(w(A(w(f(rt,se),F[1]),A(w(f(qe,ve),-H[1]),w(f(J,K),O[1]))),_[2]),w(A(w(f(ie,Q),F[1]),A(w(f(Z,re),-H[1]),w(f(J,K),_[1]))),-O[2]))),-B[3]),w(A(A(w(A(w(f(Fe,te),H[1]),A(w(f(Re,X),-_[1]),w(f(ie,Q),B[1]))),F[2]),w(A(w(f(Fe,te),F[1]),A(w(f(Ae,ae),-_[1]),w(f(Z,re),B[1]))),-H[2])),A(w(A(w(f(Re,X),F[1]),A(w(f(Ae,ae),-H[1]),w(f(J,K),B[1]))),_[2]),w(A(w(f(ie,Q),F[1]),A(w(f(Z,re),-H[1]),w(f(J,K),_[1]))),-B[2]))),O[3]))))),Lt=A(A(A(w(A(A(w(A(w(f(gt,tt),B[1]),A(w(f(pt,Te),-N[1]),w(f(We,Se),O[1]))),_[2]),w(A(w(f(gt,tt),_[1]),A(w(f(ft,de),-N[1]),w(f(_e,fe),O[1]))),-B[2])),A(w(A(w(f(pt,Te),_[1]),A(w(f(ft,de),-B[1]),w(f(Fe,te),O[1]))),N[2]),w(A(w(f(We,Se),_[1]),A(w(f(_e,fe),-B[1]),w(f(Fe,te),N[1]))),-O[2]))),F[3]),A(w(A(A(w(A(w(f(gt,tt),B[1]),A(w(f(pt,Te),-N[1]),w(f(We,Se),O[1]))),F[2]),w(A(w(f(gt,tt),F[1]),A(w(f(qe,ve),-N[1]),w(f(Ne,ue),O[1]))),-B[2])),A(w(A(w(f(pt,Te),F[1]),A(w(f(qe,ve),-B[1]),w(f(Ae,ae),O[1]))),N[2]),w(A(w(f(We,Se),F[1]),A(w(f(Ne,ue),-B[1]),w(f(Ae,ae),N[1]))),-O[2]))),-_[3]),w(A(A(w(A(w(f(gt,tt),_[1]),A(w(f(ft,de),-N[1]),w(f(_e,fe),O[1]))),F[2]),w(A(w(f(gt,tt),F[1]),A(w(f(qe,ve),-N[1]),w(f(Ne,ue),O[1]))),-_[2])),A(w(A(w(f(ft,de),F[1]),A(w(f(qe,ve),-_[1]),w(f(Z,re),O[1]))),N[2]),w(A(w(f(_e,fe),F[1]),A(w(f(Ne,ue),-_[1]),w(f(Z,re),N[1]))),-O[2]))),B[3]))),A(A(w(A(A(w(A(w(f(pt,Te),_[1]),A(w(f(ft,de),-B[1]),w(f(Fe,te),O[1]))),F[2]),w(A(w(f(pt,Te),F[1]),A(w(f(qe,ve),-B[1]),w(f(Ae,ae),O[1]))),-_[2])),A(w(A(w(f(ft,de),F[1]),A(w(f(qe,ve),-_[1]),w(f(Z,re),O[1]))),B[2]),w(A(w(f(Fe,te),F[1]),A(w(f(Ae,ae),-_[1]),w(f(Z,re),B[1]))),-O[2]))),-N[3]),w(A(A(w(A(w(f(We,Se),_[1]),A(w(f(_e,fe),-B[1]),w(f(Fe,te),N[1]))),F[2]),w(A(w(f(We,Se),F[1]),A(w(f(Ne,ue),-B[1]),w(f(Ae,ae),N[1]))),-_[2])),A(w(A(w(f(_e,fe),F[1]),A(w(f(Ne,ue),-_[1]),w(f(Z,re),N[1]))),B[2]),w(A(w(f(Fe,te),F[1]),A(w(f(Ae,ae),-_[1]),w(f(Z,re),B[1]))),-N[2]))),O[3])),A(w(A(A(w(A(w(f(gt,tt),_[1]),A(w(f(ft,de),-N[1]),w(f(_e,fe),O[1]))),H[2]),w(A(w(f(gt,tt),H[1]),A(w(f(rt,se),-N[1]),w(f(He,q),O[1]))),-_[2])),A(w(A(w(f(ft,de),H[1]),A(w(f(rt,se),-_[1]),w(f(ie,Q),O[1]))),N[2]),w(A(w(f(_e,fe),H[1]),A(w(f(He,q),-_[1]),w(f(ie,Q),N[1]))),-O[2]))),F[3]),w(A(A(w(A(w(f(gt,tt),_[1]),A(w(f(ft,de),-N[1]),w(f(_e,fe),O[1]))),F[2]),w(A(w(f(gt,tt),F[1]),A(w(f(qe,ve),-N[1]),w(f(Ne,ue),O[1]))),-_[2])),A(w(A(w(f(ft,de),F[1]),A(w(f(qe,ve),-_[1]),w(f(Z,re),O[1]))),N[2]),w(A(w(f(_e,fe),F[1]),A(w(f(Ne,ue),-_[1]),w(f(Z,re),N[1]))),-O[2]))),-H[3])))),A(A(A(w(A(A(w(A(w(f(gt,tt),H[1]),A(w(f(rt,se),-N[1]),w(f(He,q),O[1]))),F[2]),w(A(w(f(gt,tt),F[1]),A(w(f(qe,ve),-N[1]),w(f(Ne,ue),O[1]))),-H[2])),A(w(A(w(f(rt,se),F[1]),A(w(f(qe,ve),-H[1]),w(f(J,K),O[1]))),N[2]),w(A(w(f(He,q),F[1]),A(w(f(Ne,ue),-H[1]),w(f(J,K),N[1]))),-O[2]))),_[3]),w(A(A(w(A(w(f(ft,de),H[1]),A(w(f(rt,se),-_[1]),w(f(ie,Q),O[1]))),F[2]),w(A(w(f(ft,de),F[1]),A(w(f(qe,ve),-_[1]),w(f(Z,re),O[1]))),-H[2])),A(w(A(w(f(rt,se),F[1]),A(w(f(qe,ve),-H[1]),w(f(J,K),O[1]))),_[2]),w(A(w(f(ie,Q),F[1]),A(w(f(Z,re),-H[1]),w(f(J,K),_[1]))),-O[2]))),-N[3])),A(w(A(A(w(A(w(f(_e,fe),H[1]),A(w(f(He,q),-_[1]),w(f(ie,Q),N[1]))),F[2]),w(A(w(f(_e,fe),F[1]),A(w(f(Ne,ue),-_[1]),w(f(Z,re),N[1]))),-H[2])),A(w(A(w(f(He,q),F[1]),A(w(f(Ne,ue),-H[1]),w(f(J,K),N[1]))),_[2]),w(A(w(f(ie,Q),F[1]),A(w(f(Z,re),-H[1]),w(f(J,K),_[1]))),-N[2]))),O[3]),w(A(A(w(A(w(f(We,Se),_[1]),A(w(f(_e,fe),-B[1]),w(f(Fe,te),N[1]))),H[2]),w(A(w(f(We,Se),H[1]),A(w(f(He,q),-B[1]),w(f(Re,X),N[1]))),-_[2])),A(w(A(w(f(_e,fe),H[1]),A(w(f(He,q),-_[1]),w(f(ie,Q),N[1]))),B[2]),w(A(w(f(Fe,te),H[1]),A(w(f(Re,X),-_[1]),w(f(ie,Q),B[1]))),-N[2]))),F[3]))),A(A(w(A(A(w(A(w(f(We,Se),_[1]),A(w(f(_e,fe),-B[1]),w(f(Fe,te),N[1]))),F[2]),w(A(w(f(We,Se),F[1]),A(w(f(Ne,ue),-B[1]),w(f(Ae,ae),N[1]))),-_[2])),A(w(A(w(f(_e,fe),F[1]),A(w(f(Ne,ue),-_[1]),w(f(Z,re),N[1]))),B[2]),w(A(w(f(Fe,te),F[1]),A(w(f(Ae,ae),-_[1]),w(f(Z,re),B[1]))),-N[2]))),-H[3]),w(A(A(w(A(w(f(We,Se),H[1]),A(w(f(He,q),-B[1]),w(f(Re,X),N[1]))),F[2]),w(A(w(f(We,Se),F[1]),A(w(f(Ne,ue),-B[1]),w(f(Ae,ae),N[1]))),-H[2])),A(w(A(w(f(He,q),F[1]),A(w(f(Ne,ue),-H[1]),w(f(J,K),N[1]))),B[2]),w(A(w(f(Re,X),F[1]),A(w(f(Ae,ae),-H[1]),w(f(J,K),B[1]))),-N[2]))),_[3])),A(w(A(A(w(A(w(f(_e,fe),H[1]),A(w(f(He,q),-_[1]),w(f(ie,Q),N[1]))),F[2]),w(A(w(f(_e,fe),F[1]),A(w(f(Ne,ue),-_[1]),w(f(Z,re),N[1]))),-H[2])),A(w(A(w(f(He,q),F[1]),A(w(f(Ne,ue),-H[1]),w(f(J,K),N[1]))),_[2]),w(A(w(f(ie,Q),F[1]),A(w(f(Z,re),-H[1]),w(f(J,K),_[1]))),-N[2]))),-B[3]),w(A(A(w(A(w(f(Fe,te),H[1]),A(w(f(Re,X),-_[1]),w(f(ie,Q),B[1]))),F[2]),w(A(w(f(Fe,te),F[1]),A(w(f(Ae,ae),-_[1]),w(f(Z,re),B[1]))),-H[2])),A(w(A(w(f(Re,X),F[1]),A(w(f(Ae,ae),-H[1]),w(f(J,K),B[1]))),_[2]),w(A(w(f(ie,Q),F[1]),A(w(f(Z,re),-H[1]),w(f(J,K),_[1]))),-B[2]))),N[3]))))),Wt=f(Mt,Lt);return Wt[Wt.length-1]}return z}var M=[m,c,b];function R(A){var f=M[A.length];return f||(f=M[A.length]=o(A.length)),f.apply(void 0,A)}function T(A,f,P,w,z,F,H,_){function B(N,O,U,K,re,ae){switch(arguments.length){case 0:case 1:return 0;case 2:return w(N,O);case 3:return z(N,O,U);case 4:return F(N,O,U,K);case 5:return H(N,O,U,K,re);case 6:return _(N,O,U,K,re,ae)}for(var ue=new Array(arguments.length),ve=0;ve<arguments.length;++ve)ue[ve]=arguments[ve];return A(ue)}return B}function E(){for(;M.length<=s;)M.push(o(M.length));h.exports=T.apply(void 0,[R].concat(M));for(var A=0;A<=s;++A)h.exports[A]=M[A]}E()},6606:function(h,d,t){var r=t(8167),u=6;function n(M){var R=M===2?o:M===3?m:M===4?c:M===5?b:v;return M<6?R(r[M]):R(r)}function i(){return[[0]]}function s(M,R){return[[R[0]],[M[0][0]]]}function o(M){return function(T,E){return[M([[+E[0],+T[0][1]],[+E[1],+T[1][1]]]),M([[+T[0][0],+E[0]],[+T[1][0],+E[1]]]),M(T)]}}function m(M){return function(T,E){return[M([[+E[0],+T[0][1],+T[0][2]],[+E[1],+T[1][1],+T[1][2]],[+E[2],+T[2][1],+T[2][2]]]),M([[+T[0][0],+E[0],+T[0][2]],[+T[1][0],+E[1],+T[1][2]],[+T[2][0],+E[2],+T[2][2]]]),M([[+T[0][0],+T[0][1],+E[0]],[+T[1][0],+T[1][1],+E[1]],[+T[2][0],+T[2][1],+E[2]]]),M(T)]}}function c(M){return function(T,E){return[M([[+E[0],+T[0][1],+T[0][2],+T[0][3]],[+E[1],+T[1][1],+T[1][2],+T[1][3]],[+E[2],+T[2][1],+T[2][2],+T[2][3]],[+E[3],+T[3][1],+T[3][2],+T[3][3]]]),M([[+T[0][0],+E[0],+T[0][2],+T[0][3]],[+T[1][0],+E[1],+T[1][2],+T[1][3]],[+T[2][0],+E[2],+T[2][2],+T[2][3]],[+T[3][0],+E[3],+T[3][2],+T[3][3]]]),M([[+T[0][0],+T[0][1],+E[0],+T[0][3]],[+T[1][0],+T[1][1],+E[1],+T[1][3]],[+T[2][0],+T[2][1],+E[2],+T[2][3]],[+T[3][0],+T[3][1],+E[3],+T[3][3]]]),M([[+T[0][0],+T[0][1],+T[0][2],+E[0]],[+T[1][0],+T[1][1],+T[1][2],+E[1]],[+T[2][0],+T[2][1],+T[2][2],+E[2]],[+T[3][0],+T[3][1],+T[3][2],+E[3]]]),M(T)]}}function b(M){return function(T,E){return[M([[+E[0],+T[0][1],+T[0][2],+T[0][3],+T[0][4]],[+E[1],+T[1][1],+T[1][2],+T[1][3],+T[1][4]],[+E[2],+T[2][1],+T[2][2],+T[2][3],+T[2][4]],[+E[3],+T[3][1],+T[3][2],+T[3][3],+T[3][4]],[+E[4],+T[4][1],+T[4][2],+T[4][3],+T[4][4]]]),M([[+T[0][0],+E[0],+T[0][2],+T[0][3],+T[0][4]],[+T[1][0],+E[1],+T[1][2],+T[1][3],+T[1][4]],[+T[2][0],+E[2],+T[2][2],+T[2][3],+T[2][4]],[+T[3][0],+E[3],+T[3][2],+T[3][3],+T[3][4]],[+T[4][0],+E[4],+T[4][2],+T[4][3],+T[4][4]]]),M([[+T[0][0],+T[0][1],+E[0],+T[0][3],+T[0][4]],[+T[1][0],+T[1][1],+E[1],+T[1][3],+T[1][4]],[+T[2][0],+T[2][1],+E[2],+T[2][3],+T[2][4]],[+T[3][0],+T[3][1],+E[3],+T[3][3],+T[3][4]],[+T[4][0],+T[4][1],+E[4],+T[4][3],+T[4][4]]]),M([[+T[0][0],+T[0][1],+T[0][2],+E[0],+T[0][4]],[+T[1][0],+T[1][1],+T[1][2],+E[1],+T[1][4]],[+T[2][0],+T[2][1],+T[2][2],+E[2],+T[2][4]],[+T[3][0],+T[3][1],+T[3][2],+E[3],+T[3][4]],[+T[4][0],+T[4][1],+T[4][2],+E[4],+T[4][4]]]),M([[+T[0][0],+T[0][1],+T[0][2],+T[0][3],+E[0]],[+T[1][0],+T[1][1],+T[1][2],+T[1][3],+E[1]],[+T[2][0],+T[2][1],+T[2][2],+T[2][3],+E[2]],[+T[3][0],+T[3][1],+T[3][2],+T[3][3],+E[3]],[+T[4][0],+T[4][1],+T[4][2],+T[4][3],+E[4]]]),M(T)]}}function v(M){return function(T,E){return[M([[+E[0],+T[0][1],+T[0][2],+T[0][3],+T[0][4],+T[0][5]],[+E[1],+T[1][1],+T[1][2],+T[1][3],+T[1][4],+T[1][5]],[+E[2],+T[2][1],+T[2][2],+T[2][3],+T[2][4],+T[2][5]],[+E[3],+T[3][1],+T[3][2],+T[3][3],+T[3][4],+T[3][5]],[+E[4],+T[4][1],+T[4][2],+T[4][3],+T[4][4],+T[4][5]],[+E[5],+T[5][1],+T[5][2],+T[5][3],+T[5][4],+T[5][5]]]),M([[+T[0][0],+E[0],+T[0][2],+T[0][3],+T[0][4],+T[0][5]],[+T[1][0],+E[1],+T[1][2],+T[1][3],+T[1][4],+T[1][5]],[+T[2][0],+E[2],+T[2][2],+T[2][3],+T[2][4],+T[2][5]],[+T[3][0],+E[3],+T[3][2],+T[3][3],+T[3][4],+T[3][5]],[+T[4][0],+E[4],+T[4][2],+T[4][3],+T[4][4],+T[4][5]],[+T[5][0],+E[5],+T[5][2],+T[5][3],+T[5][4],+T[5][5]]]),M([[+T[0][0],+T[0][1],+E[0],+T[0][3],+T[0][4],+T[0][5]],[+T[1][0],+T[1][1],+E[1],+T[1][3],+T[1][4],+T[1][5]],[+T[2][0],+T[2][1],+E[2],+T[2][3],+T[2][4],+T[2][5]],[+T[3][0],+T[3][1],+E[3],+T[3][3],+T[3][4],+T[3][5]],[+T[4][0],+T[4][1],+E[4],+T[4][3],+T[4][4],+T[4][5]],[+T[5][0],+T[5][1],+E[5],+T[5][3],+T[5][4],+T[5][5]]]),M([[+T[0][0],+T[0][1],+T[0][2],+E[0],+T[0][4],+T[0][5]],[+T[1][0],+T[1][1],+T[1][2],+E[1],+T[1][4],+T[1][5]],[+T[2][0],+T[2][1],+T[2][2],+E[2],+T[2][4],+T[2][5]],[+T[3][0],+T[3][1],+T[3][2],+E[3],+T[3][4],+T[3][5]],[+T[4][0],+T[4][1],+T[4][2],+E[4],+T[4][4],+T[4][5]],[+T[5][0],+T[5][1],+T[5][2],+E[5],+T[5][4],+T[5][5]]]),M([[+T[0][0],+T[0][1],+T[0][2],+T[0][3],+E[0],+T[0][5]],[+T[1][0],+T[1][1],+T[1][2],+T[1][3],+E[1],+T[1][5]],[+T[2][0],+T[2][1],+T[2][2],+T[2][3],+E[2],+T[2][5]],[+T[3][0],+T[3][1],+T[3][2],+T[3][3],+E[3],+T[3][5]],[+T[4][0],+T[4][1],+T[4][2],+T[4][3],+E[4],+T[4][5]],[+T[5][0],+T[5][1],+T[5][2],+T[5][3],+E[5],+T[5][5]]]),M([[+T[0][0],+T[0][1],+T[0][2],+T[0][3],+T[0][4],+E[0]],[+T[1][0],+T[1][1],+T[1][2],+T[1][3],+T[1][4],+E[1]],[+T[2][0],+T[2][1],+T[2][2],+T[2][3],+T[2][4],+E[2]],[+T[3][0],+T[3][1],+T[3][2],+T[3][3],+T[3][4],+E[3]],[+T[4][0],+T[4][1],+T[4][2],+T[4][3],+T[4][4],+E[4]],[+T[5][0],+T[5][1],+T[5][2],+T[5][3],+T[5][4],+E[5]]]),M(T)]}}var l=[i,s];function p(M,R,T,E,A,f,P,w){return function(F,H){switch(F.length){case 0:return M(F,H);case 1:return R(F,H);case 2:return T(F,H);case 3:return E(F,H);case 4:return A(F,H);case 5:return f(F,H)}var _=P[F.length];return _||(_=P[F.length]=w(F.length)),_(F,H)}}function S(){for(;l.length<u;)l.push(n(l.length));h.exports=p.apply(void 0,l.concat([l,n]));for(var M=0;M<u;++M)h.exports[M]=l[M]}S()},417:function(h,d,t){var r=t(9660),u=t(9662),n=t(8289),i=t(4078),s=5,o=11102230246251565e-32,m=(3+16*o)*o,c=(7+56*o)*o;function b(f,P,w,z){return function(H,_,B){var N=f(f(P(_[1],B[0]),P(-B[1],_[0])),f(P(H[1],_[0]),P(-_[1],H[0]))),O=f(P(H[1],B[0]),P(-B[1],H[0])),U=z(N,O);return U[U.length-1]}}function v(f,P,w,z){return function(H,_,B,N){var O=f(f(w(f(P(B[1],N[0]),P(-N[1],B[0])),_[2]),f(w(f(P(_[1],N[0]),P(-N[1],_[0])),-B[2]),w(f(P(_[1],B[0]),P(-B[1],_[0])),N[2]))),f(w(f(P(_[1],N[0]),P(-N[1],_[0])),H[2]),f(w(f(P(H[1],N[0]),P(-N[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),N[2])))),U=f(f(w(f(P(B[1],N[0]),P(-N[1],B[0])),H[2]),f(w(f(P(H[1],N[0]),P(-N[1],H[0])),-B[2]),w(f(P(H[1],B[0]),P(-B[1],H[0])),N[2]))),f(w(f(P(_[1],B[0]),P(-B[1],_[0])),H[2]),f(w(f(P(H[1],B[0]),P(-B[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),B[2])))),K=z(O,U);return K[K.length-1]}}function l(f,P,w,z){return function(H,_,B,N,O){var U=f(f(f(w(f(w(f(P(N[1],O[0]),P(-O[1],N[0])),B[2]),f(w(f(P(B[1],O[0]),P(-O[1],B[0])),-N[2]),w(f(P(B[1],N[0]),P(-N[1],B[0])),O[2]))),_[3]),f(w(f(w(f(P(N[1],O[0]),P(-O[1],N[0])),_[2]),f(w(f(P(_[1],O[0]),P(-O[1],_[0])),-N[2]),w(f(P(_[1],N[0]),P(-N[1],_[0])),O[2]))),-B[3]),w(f(w(f(P(B[1],O[0]),P(-O[1],B[0])),_[2]),f(w(f(P(_[1],O[0]),P(-O[1],_[0])),-B[2]),w(f(P(_[1],B[0]),P(-B[1],_[0])),O[2]))),N[3]))),f(w(f(w(f(P(B[1],N[0]),P(-N[1],B[0])),_[2]),f(w(f(P(_[1],N[0]),P(-N[1],_[0])),-B[2]),w(f(P(_[1],B[0]),P(-B[1],_[0])),N[2]))),-O[3]),f(w(f(w(f(P(N[1],O[0]),P(-O[1],N[0])),_[2]),f(w(f(P(_[1],O[0]),P(-O[1],_[0])),-N[2]),w(f(P(_[1],N[0]),P(-N[1],_[0])),O[2]))),H[3]),w(f(w(f(P(N[1],O[0]),P(-O[1],N[0])),H[2]),f(w(f(P(H[1],O[0]),P(-O[1],H[0])),-N[2]),w(f(P(H[1],N[0]),P(-N[1],H[0])),O[2]))),-_[3])))),f(f(w(f(w(f(P(_[1],O[0]),P(-O[1],_[0])),H[2]),f(w(f(P(H[1],O[0]),P(-O[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),O[2]))),N[3]),f(w(f(w(f(P(_[1],N[0]),P(-N[1],_[0])),H[2]),f(w(f(P(H[1],N[0]),P(-N[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),N[2]))),-O[3]),w(f(w(f(P(B[1],N[0]),P(-N[1],B[0])),_[2]),f(w(f(P(_[1],N[0]),P(-N[1],_[0])),-B[2]),w(f(P(_[1],B[0]),P(-B[1],_[0])),N[2]))),H[3]))),f(w(f(w(f(P(B[1],N[0]),P(-N[1],B[0])),H[2]),f(w(f(P(H[1],N[0]),P(-N[1],H[0])),-B[2]),w(f(P(H[1],B[0]),P(-B[1],H[0])),N[2]))),-_[3]),f(w(f(w(f(P(_[1],N[0]),P(-N[1],_[0])),H[2]),f(w(f(P(H[1],N[0]),P(-N[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),N[2]))),B[3]),w(f(w(f(P(_[1],B[0]),P(-B[1],_[0])),H[2]),f(w(f(P(H[1],B[0]),P(-B[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),B[2]))),-N[3]))))),K=f(f(f(w(f(w(f(P(N[1],O[0]),P(-O[1],N[0])),B[2]),f(w(f(P(B[1],O[0]),P(-O[1],B[0])),-N[2]),w(f(P(B[1],N[0]),P(-N[1],B[0])),O[2]))),H[3]),w(f(w(f(P(N[1],O[0]),P(-O[1],N[0])),H[2]),f(w(f(P(H[1],O[0]),P(-O[1],H[0])),-N[2]),w(f(P(H[1],N[0]),P(-N[1],H[0])),O[2]))),-B[3])),f(w(f(w(f(P(B[1],O[0]),P(-O[1],B[0])),H[2]),f(w(f(P(H[1],O[0]),P(-O[1],H[0])),-B[2]),w(f(P(H[1],B[0]),P(-B[1],H[0])),O[2]))),N[3]),w(f(w(f(P(B[1],N[0]),P(-N[1],B[0])),H[2]),f(w(f(P(H[1],N[0]),P(-N[1],H[0])),-B[2]),w(f(P(H[1],B[0]),P(-B[1],H[0])),N[2]))),-O[3]))),f(f(w(f(w(f(P(B[1],O[0]),P(-O[1],B[0])),_[2]),f(w(f(P(_[1],O[0]),P(-O[1],_[0])),-B[2]),w(f(P(_[1],B[0]),P(-B[1],_[0])),O[2]))),H[3]),w(f(w(f(P(B[1],O[0]),P(-O[1],B[0])),H[2]),f(w(f(P(H[1],O[0]),P(-O[1],H[0])),-B[2]),w(f(P(H[1],B[0]),P(-B[1],H[0])),O[2]))),-_[3])),f(w(f(w(f(P(_[1],O[0]),P(-O[1],_[0])),H[2]),f(w(f(P(H[1],O[0]),P(-O[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),O[2]))),B[3]),w(f(w(f(P(_[1],B[0]),P(-B[1],_[0])),H[2]),f(w(f(P(H[1],B[0]),P(-B[1],H[0])),-_[2]),w(f(P(H[1],_[0]),P(-_[1],H[0])),B[2]))),-O[3])))),re=z(U,K);return re[re.length-1]}}function p(f){var P=f===3?b:f===4?v:l;return P(u,r,n,i)}var S=p(3),M=p(4),R=[function(){return 0},function(){return 0},function(P,w){return w[0]-P[0]},function(P,w,z){var F=(P[1]-z[1])*(w[0]-z[0]),H=(P[0]-z[0])*(w[1]-z[1]),_=F-H,B;if(F>0){if(H<=0)return _;B=F+H}else if(F<0){if(H>=0)return _;B=-(F+H)}else return _;var N=m*B;return _>=N||_<=-N?_:S(P,w,z)},function(P,w,z,F){var H=P[0]-F[0],_=w[0]-F[0],B=z[0]-F[0],N=P[1]-F[1],O=w[1]-F[1],U=z[1]-F[1],K=P[2]-F[2],re=w[2]-F[2],ae=z[2]-F[2],ue=_*U,ve=B*O,ee=B*N,J=H*U,Q=H*O,X=_*N,q=K*(ue-ve)+re*(ee-J)+ae*(Q-X),se=(Math.abs(ue)+Math.abs(ve))*Math.abs(K)+(Math.abs(ee)+Math.abs(J))*Math.abs(re)+(Math.abs(Q)+Math.abs(X))*Math.abs(ae),Y=c*se;return q>Y||-q>Y?q:M(P,w,z,F)}];function T(f){var P=R[f.length];return P||(P=R[f.length]=p(f.length)),P.apply(void 0,f)}function E(f,P,w,z,F,H,_){return function(N,O,U,K,re){switch(arguments.length){case 0:case 1:return 0;case 2:return z(N,O);case 3:return F(N,O,U);case 4:return H(N,O,U,K);case 5:return _(N,O,U,K,re)}for(var ae=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ae[ue]=arguments[ue];return f(ae)}}function A(){for(;R.length<=s;)R.push(p(R.length));h.exports=E.apply(void 0,[T].concat(R));for(var f=0;f<=s;++f)h.exports[f]=R[f]}A()},2019:function(h,d,t){var r=t(9662),u=t(8289);h.exports=n;function n(i,s){if(i.length===1)return u(s,i[0]);if(s.length===1)return u(i,s[0]);if(i.length===0||s.length===0)return[0];var o=[0];if(i.length<s.length)for(var m=0;m<i.length;++m)o=r(o,u(s,i[m]));else for(var m=0;m<s.length;++m)o=r(o,u(i,s[m]));return o}},8289:function(h,d,t){var r=t(9660),u=t(87);h.exports=n;function n(i,s){var o=i.length;if(o===1){var m=r(i[0],s);return m[0]?m:[m[1]]}var c=new Array(2*o),b=[.1,.1],v=[.1,.1],l=0;r(i[0],s,b),b[0]&&(c[l++]=b[0]);for(var p=1;p<o;++p){r(i[p],s,v);var S=b[1];u(S,v[0],b),b[0]&&(c[l++]=b[0]);var M=v[1],R=b[1],T=M+R,E=T-M,A=R-E;b[1]=T,A&&(c[l++]=A)}return b[1]&&(c[l++]=b[1]),l===0&&(c[l++]=0),c.length=l,c}},4434:function(h,d,t){h.exports=n;var r=t(417)[3];function u(i,s,o,m){for(var c=0;c<2;++c){var b=i[c],v=s[c],l=Math.min(b,v),p=Math.max(b,v),S=o[c],M=m[c],R=Math.min(S,M),T=Math.max(S,M);if(T<l||p<R)return!1}return!0}function n(i,s,o,m){var c=r(i,o,m),b=r(s,o,m);if(c>0&&b>0||c<0&&b<0)return!1;var v=r(o,i,s),l=r(m,i,s);return v>0&&l>0||v<0&&l<0?!1:c===0&&b===0&&v===0&&l===0?u(i,s,o,m):!0}},4078:function(h){h.exports=t;function d(r,u){var n=r+u,i=n-r,s=n-i,o=u-i,m=r-s,c=m+o;return c?[c,n]:[n]}function t(r,u){var n=r.length|0,i=u.length|0;if(n===1&&i===1)return d(r[0],-u[0]);var s=n+i,o=new Array(s),m=0,c=0,b=0,v=Math.abs,l=r[c],p=v(l),S=-u[b],M=v(S),R,T;p<M?(T=l,c+=1,c<n&&(l=r[c],p=v(l))):(T=S,b+=1,b<i&&(S=-u[b],M=v(S))),c<n&&p<M||b>=i?(R=l,c+=1,c<n&&(l=r[c],p=v(l))):(R=S,b+=1,b<i&&(S=-u[b],M=v(S)));for(var E=R+T,A=E-R,f=T-A,P=f,w=E,z,F,H,_,B;c<n&&b<i;)p<M?(R=l,c+=1,c<n&&(l=r[c],p=v(l))):(R=S,b+=1,b<i&&(S=-u[b],M=v(S))),T=P,E=R+T,A=E-R,f=T-A,f&&(o[m++]=f),z=w+E,F=z-w,H=z-F,_=E-F,B=w-H,P=B+_,w=z;for(;c<n;)R=l,T=P,E=R+T,A=E-R,f=T-A,f&&(o[m++]=f),z=w+E,F=z-w,H=z-F,_=E-F,B=w-H,P=B+_,w=z,c+=1,c<n&&(l=r[c]);for(;b<i;)R=S,T=P,E=R+T,A=E-R,f=T-A,f&&(o[m++]=f),z=w+E,F=z-w,H=z-F,_=E-F,B=w-H,P=B+_,w=z,b+=1,b<i&&(S=-u[b]);return P&&(o[m++]=P),w&&(o[m++]=w),m||(o[m++]=0),o.length=m,o}},9662:function(h){h.exports=t;function d(r,u){var n=r+u,i=n-r,s=n-i,o=u-i,m=r-s,c=m+o;return c?[c,n]:[n]}function t(r,u){var n=r.length|0,i=u.length|0;if(n===1&&i===1)return d(r[0],u[0]);var s=n+i,o=new Array(s),m=0,c=0,b=0,v=Math.abs,l=r[c],p=v(l),S=u[b],M=v(S),R,T;p<M?(T=l,c+=1,c<n&&(l=r[c],p=v(l))):(T=S,b+=1,b<i&&(S=u[b],M=v(S))),c<n&&p<M||b>=i?(R=l,c+=1,c<n&&(l=r[c],p=v(l))):(R=S,b+=1,b<i&&(S=u[b],M=v(S)));for(var E=R+T,A=E-R,f=T-A,P=f,w=E,z,F,H,_,B;c<n&&b<i;)p<M?(R=l,c+=1,c<n&&(l=r[c],p=v(l))):(R=S,b+=1,b<i&&(S=u[b],M=v(S))),T=P,E=R+T,A=E-R,f=T-A,f&&(o[m++]=f),z=w+E,F=z-w,H=z-F,_=E-F,B=w-H,P=B+_,w=z;for(;c<n;)R=l,T=P,E=R+T,A=E-R,f=T-A,f&&(o[m++]=f),z=w+E,F=z-w,H=z-F,_=E-F,B=w-H,P=B+_,w=z,c+=1,c<n&&(l=r[c]);for(;b<i;)R=S,T=P,E=R+T,A=E-R,f=T-A,f&&(o[m++]=f),z=w+E,F=z-w,H=z-F,_=E-F,B=w-H,P=B+_,w=z,b+=1,b<i&&(S=u[b]);return P&&(o[m++]=P),w&&(o[m++]=w),m||(o[m++]=0),o.length=m,o}},8691:function(h,d,t){h.exports=n;var r=t(2692),u=t(7037);function n(i){return u(r(i))}},7212:function(h,d,t){h.exports=l;var r=t(5050),u=t(5306),n=t(8729),i=t(1168);function s(p){for(var S=p.length,M=0,R=0;R<S;++R)M=Math.max(M,p[R].length)|0;return M-1}function o(p,S){for(var M=p.length,R=u.mallocUint8(M),T=0;T<M;++T)R[T]=p[T]<S|0;return R}function m(p,S){for(var M=p.length,R=S*(S+1)/2*M|0,T=u.mallocUint32(R*2),E=0,A=0;A<M;++A)for(var f=p[A],S=f.length,P=0;P<S;++P)for(var w=0;w<P;++w){var z=f[w],F=f[P];T[E++]=Math.min(z,F)|0,T[E++]=Math.max(z,F)|0}var H=E/2|0;n(r(T,[H,2]));for(var _=2,A=2;A<E;A+=2)T[A-2]===T[A]&&T[A-1]===T[A+1]||(T[_++]=T[A],T[_++]=T[A+1]);return r(T,[_/2|0,2])}function c(p,S,M,R){for(var T=p.data,E=p.shape[0],A=u.mallocDouble(E),f=0,P=0;P<E;++P){var w=T[2*P],z=T[2*P+1];if(M[w]!==M[z]){var F=S[w],H=S[z];T[2*f]=w,T[2*f+1]=z,A[f++]=(H-R)/(H-F)}}return p.shape[0]=f,r(A,[f])}function b(p,S){var M=u.mallocInt32(S*2),R=p.shape[0],T=p.data;M[0]=0;for(var E=0,A=0;A<R;++A){var f=T[2*A];if(f!==E){for(M[2*E+1]=A;++E<f;)M[2*E]=A,M[2*E+1]=A;M[2*E]=A}}for(M[2*E+1]=R;++E<S;)M[2*E]=M[2*E+1]=R;return M}function v(p){for(var S=p.shape[0]|0,M=p.data,R=new Array(S),T=0;T<S;++T)R[T]=[M[2*T],M[2*T+1]];return R}function l(p,S,M,R){M=M||0,typeof R>"u"&&(R=s(p));var T=p.length;if(T===0||R<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=o(S,+M),A=m(p,R),f=c(A,S,E,+M),P=b(A,S.length|0),w=i(R)(p,A.data,P,E),z=v(A),F=[].slice.call(f.data,0,f.shape[0]);return u.free(E),u.free(A.data),u.free(f.data),u.free(P),{cells:w,vertexIds:z,vertexWeights:F}}},1168:function(h){h.exports=t;var d=[function(){function u(n,i,s,o){for(var m=n.length,c=[],b=0;b<m;++b){var v=n[b];v.length}return c}return u},function(){function u(i,s,o,m){for(var c=Math.min(o,m)|0,b=Math.max(o,m)|0,v=i[2*c],l=i[2*c+1];v<l;){var p=v+l>>1,S=s[2*p+1];if(S===b)return p;b<S?l=p:v=p+1}return v}function n(i,s,o,m){for(var c=i.length,b=[],v=0;v<c;++v){var l=i[v],p=l.length;if(p===2){var S=(m[l[0]]<<0)+(m[l[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:b.push([u(o,s,l[0],l[1])]);break;case 2:b.push([u(o,s,l[1],l[0])]);break}}}return b}return n},function(){function u(i,s,o,m){for(var c=Math.min(o,m)|0,b=Math.max(o,m)|0,v=i[2*c],l=i[2*c+1];v<l;){var p=v+l>>1,S=s[2*p+1];if(S===b)return p;b<S?l=p:v=p+1}return v}function n(i,s,o,m){for(var c=i.length,b=[],v=0;v<c;++v){var l=i[v],p=l.length;if(p===3){var S=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:b.push([u(o,s,l[0],l[2]),u(o,s,l[0],l[1])]);break;case 2:b.push([u(o,s,l[1],l[0]),u(o,s,l[1],l[2])]);break;case 3:b.push([u(o,s,l[0],l[2]),u(o,s,l[1],l[2])]);break;case 4:b.push([u(o,s,l[2],l[1]),u(o,s,l[2],l[0])]);break;case 5:b.push([u(o,s,l[2],l[1]),u(o,s,l[0],l[1])]);break;case 6:b.push([u(o,s,l[1],l[0]),u(o,s,l[2],l[0])]);break}}else if(p===2){var S=(m[l[0]]<<0)+(m[l[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:b.push([u(o,s,l[0],l[1])]);break;case 2:b.push([u(o,s,l[1],l[0])]);break}}}return b}return n},function(){function u(i,s,o,m){for(var c=Math.min(o,m)|0,b=Math.max(o,m)|0,v=i[2*c],l=i[2*c+1];v<l;){var p=v+l>>1,S=s[2*p+1];if(S===b)return p;b<S?l=p:v=p+1}return v}function n(i,s,o,m){for(var c=i.length,b=[],v=0;v<c;++v){var l=i[v],p=l.length;if(p===4){var S=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2)+(m[l[3]]<<3);if(S===0||S===15)continue;switch(S){case 0:break;case 1:b.push([u(o,s,l[0],l[1]),u(o,s,l[0],l[2]),u(o,s,l[0],l[3])]);break;case 2:b.push([u(o,s,l[1],l[2]),u(o,s,l[1],l[0]),u(o,s,l[1],l[3])]);break;case 3:b.push([u(o,s,l[1],l[2]),u(o,s,l[0],l[2]),u(o,s,l[0],l[3])],[u(o,s,l[1],l[3]),u(o,s,l[1],l[2]),u(o,s,l[0],l[3])]);break;case 4:b.push([u(o,s,l[2],l[0]),u(o,s,l[2],l[1]),u(o,s,l[2],l[3])]);break;case 5:b.push([u(o,s,l[0],l[1]),u(o,s,l[2],l[1]),u(o,s,l[0],l[3])],[u(o,s,l[2],l[1]),u(o,s,l[2],l[3]),u(o,s,l[0],l[3])]);break;case 6:b.push([u(o,s,l[2],l[0]),u(o,s,l[1],l[0]),u(o,s,l[1],l[3])],[u(o,s,l[2],l[3]),u(o,s,l[2],l[0]),u(o,s,l[1],l[3])]);break;case 7:b.push([u(o,s,l[0],l[3]),u(o,s,l[1],l[3]),u(o,s,l[2],l[3])]);break;case 8:b.push([u(o,s,l[3],l[1]),u(o,s,l[3],l[0]),u(o,s,l[3],l[2])]);break;case 9:b.push([u(o,s,l[3],l[1]),u(o,s,l[0],l[1]),u(o,s,l[0],l[2])],[u(o,s,l[3],l[2]),u(o,s,l[3],l[1]),u(o,s,l[0],l[2])]);break;case 10:b.push([u(o,s,l[1],l[0]),u(o,s,l[3],l[0]),u(o,s,l[1],l[2])],[u(o,s,l[3],l[0]),u(o,s,l[3],l[2]),u(o,s,l[1],l[2])]);break;case 11:b.push([u(o,s,l[1],l[2]),u(o,s,l[0],l[2]),u(o,s,l[3],l[2])]);break;case 12:b.push([u(o,s,l[3],l[0]),u(o,s,l[2],l[0]),u(o,s,l[2],l[1])],[u(o,s,l[3],l[1]),u(o,s,l[3],l[0]),u(o,s,l[2],l[1])]);break;case 13:b.push([u(o,s,l[0],l[1]),u(o,s,l[2],l[1]),u(o,s,l[3],l[1])]);break;case 14:b.push([u(o,s,l[2],l[0]),u(o,s,l[1],l[0]),u(o,s,l[3],l[0])]);break}}else if(p===3){var S=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:b.push([u(o,s,l[0],l[2]),u(o,s,l[0],l[1])]);break;case 2:b.push([u(o,s,l[1],l[0]),u(o,s,l[1],l[2])]);break;case 3:b.push([u(o,s,l[0],l[2]),u(o,s,l[1],l[2])]);break;case 4:b.push([u(o,s,l[2],l[1]),u(o,s,l[2],l[0])]);break;case 5:b.push([u(o,s,l[2],l[1]),u(o,s,l[0],l[1])]);break;case 6:b.push([u(o,s,l[1],l[0]),u(o,s,l[2],l[0])]);break}}else if(p===2){var S=(m[l[0]]<<0)+(m[l[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:b.push([u(o,s,l[0],l[1])]);break;case 2:b.push([u(o,s,l[1],l[0])]);break}}}return b}return n}];function t(r){return d[r]()}},8211:function(h,d,t){t(2288),t(1731);function r(u,n){var i=u.length,s=u.length-n.length,o=Math.min;if(s)return s;switch(i){case 0:return 0;case 1:return u[0]-n[0];case 2:var l=u[0]+u[1]-n[0]-n[1];return l||o(u[0],u[1])-o(n[0],n[1]);case 3:var m=u[0]+u[1],c=n[0]+n[1];if(l=m+u[2]-(c+n[2]),l)return l;var b=o(u[0],u[1]),v=o(n[0],n[1]),l=o(b,u[2])-o(v,n[2]);return l||o(b+u[2],m)-o(v+n[2],c);default:var p=u.slice(0);p.sort();var S=n.slice(0);S.sort();for(var M=0;M<i;++M)if(s=p[M]-S[M],s)return s;return 0}}d.H=r},9392:function(h,d){"use restrict";var t=32;d.INT_BITS=t,d.INT_MAX=2147483647,d.INT_MIN=-1<<t-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var i=n>>t-1;return(n^i)-i},d.min=function(n,i){return i^(n^i)&-(n<i)},d.max=function(n,i){return n^(n^i)&-(n<i)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var i,s;return i=(n>65535)<<4,n>>>=i,s=(n>255)<<3,n>>>=s,i|=s,s=(n>15)<<2,n>>>=s,i|=s,s=(n>3)<<1,n>>>=s,i|=s,i|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var i=32;return n&=-n,n&&i--,n&65535&&(i-=16),n&16711935&&(i-=8),n&252645135&&(i-=4),n&858993459&&(i-=2),n&1431655765&&(i-=1),i}d.countTrailingZeros=r,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var u=new Array(256);(function(n){for(var i=0;i<256;++i){var s=i,o=i,m=7;for(s>>>=1;s;s>>>=1)o<<=1,o|=s&1,--m;n[i]=o<<m&255}})(u),d.reverse=function(n){return u[n&255]<<24|u[n>>>8&255]<<16|u[n>>>16&255]<<8|u[n>>>24&255]},d.interleave2=function(n,i){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,n|i<<1},d.deinterleave2=function(n,i){return n=n>>>i&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,i,s){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,n|=i<<1,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|s<<2},d.deinterleave3=function(n,i){return n=n>>>i&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var i=n|n-1;return i+1|(~i&-~i)-1>>>r(n)+1}},6656:function(h,d,t){"use restrict";var r=t(9392),u=t(9521);function n(f){for(var P=0,w=Math.max,z=0,F=f.length;z<F;++z)P=w(P,f[z].length);return P-1}d.dimension=n;function i(f){for(var P=-1,w=Math.max,z=0,F=f.length;z<F;++z)for(var H=f[z],_=0,B=H.length;_<B;++_)P=w(P,H[_]);return P+1}d.countVertices=i;function s(f){for(var P=new Array(f.length),w=0,z=f.length;w<z;++w)P[w]=f[w].slice(0);return P}d.cloneCells=s;function o(f,P){var w=f.length,z=f.length-P.length,F=Math.min;if(z)return z;switch(w){case 0:return 0;case 1:return f[0]-P[0];case 2:var O=f[0]+f[1]-P[0]-P[1];return O||F(f[0],f[1])-F(P[0],P[1]);case 3:var H=f[0]+f[1],_=P[0]+P[1];if(O=H+f[2]-(_+P[2]),O)return O;var B=F(f[0],f[1]),N=F(P[0],P[1]),O=F(B,f[2])-F(N,P[2]);return O||F(B+f[2],H)-F(N+P[2],_);default:var U=f.slice(0);U.sort();var K=P.slice(0);K.sort();for(var re=0;re<w;++re)if(z=U[re]-K[re],z)return z;return 0}}d.compareCells=o;function m(f,P){return o(f[0],P[0])}function c(f,P){if(P){for(var w=f.length,z=new Array(w),F=0;F<w;++F)z[F]=[f[F],P[F]];z.sort(m);for(var F=0;F<w;++F)f[F]=z[F][0],P[F]=z[F][1];return f}else return f.sort(o),f}d.normalize=c;function b(f){if(f.length===0)return[];for(var P=1,w=f.length,z=1;z<w;++z){var F=f[z];if(o(F,f[z-1])){if(z===P){P++;continue}f[P++]=F}}return f.length=P,f}d.unique=b;function v(f,P){for(var w=0,z=f.length-1,F=-1;w<=z;){var H=w+z>>1,_=o(f[H],P);_<=0?(_===0&&(F=H),w=H+1):_>0&&(z=H-1)}return F}d.findCell=v;function l(f,P){for(var w=new Array(f.length),z=0,F=w.length;z<F;++z)w[z]=[];for(var H=[],z=0,_=P.length;z<_;++z)for(var B=P[z],N=B.length,O=1,U=1<<N;O<U;++O){H.length=r.popCount(O);for(var K=0,re=0;re<N;++re)O&1<<re&&(H[K++]=B[re]);var ae=v(f,H);if(!(ae<0))for(;w[ae++].push(z),!(ae>=f.length||o(f[ae],H)!==0););}return w}d.incidence=l;function p(f,P){if(!P)return l(b(M(f,0)),f);for(var w=new Array(P),z=0;z<P;++z)w[z]=[];for(var z=0,F=f.length;z<F;++z)for(var H=f[z],_=0,B=H.length;_<B;++_)w[H[_]].push(z);return w}d.dual=p;function S(f){for(var P=[],w=0,z=f.length;w<z;++w)for(var F=f[w],H=F.length|0,_=1,B=1<<H;_<B;++_){for(var N=[],O=0;O<H;++O)_>>>O&1&&N.push(F[O]);P.push(N)}return c(P)}d.explode=S;function M(f,P){if(P<0)return[];for(var w=[],z=(1<<P+1)-1,F=0;F<f.length;++F)for(var H=f[F],_=z;_<1<<H.length;_=r.nextCombination(_)){for(var B=new Array(P+1),N=0,O=0;O<H.length;++O)_&1<<O&&(B[N++]=H[O]);w.push(B)}return c(w)}d.skeleton=M;function R(f){for(var P=[],w=0,z=f.length;w<z;++w)for(var F=f[w],H=0,_=F.length;H<_;++H){for(var B=new Array(F.length-1),N=0,O=0;N<_;++N)N!==H&&(B[O++]=F[N]);P.push(B)}return c(P)}d.boundary=R;function T(f,P){for(var w=new u(P),z=0;z<f.length;++z)for(var F=f[z],H=0;H<F.length;++H)for(var _=H+1;_<F.length;++_)w.link(F[H],F[_]);for(var B=[],N=w.ranks,z=0;z<N.length;++z)N[z]=-1;for(var z=0;z<f.length;++z){var O=w.find(f[z][0]);N[O]<0?(N[O]=B.length,B.push([f[z].slice(0)])):B[N[O]].push(f[z].slice(0))}return B}function E(f){for(var P=b(c(M(f,0))),w=new u(P.length),z=0;z<f.length;++z)for(var F=f[z],H=0;H<F.length;++H)for(var _=v(P,[F[H]]),B=H+1;B<F.length;++B)w.link(_,v(P,[F[B]]));for(var N=[],O=w.ranks,z=0;z<O.length;++z)O[z]=-1;for(var z=0;z<f.length;++z){var U=w.find(v(P,[f[z][0]]));O[U]<0?(O[U]=N.length,N.push([f[z].slice(0)])):N[O[U]].push(f[z].slice(0))}return N}function A(f,P){return P?T(f,P):E(f)}d.connectedComponents=A},9521:function(h){"use restrict";h.exports=d;function d(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}d.prototype.length=function(){return this.roots.length},d.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},d.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var u=r[t];r[t]=r[u],t=u}return t},d.prototype.link=function(t,r){var u=this.find(t),n=this.find(r);if(u!==n){var i=this.ranks,s=this.roots,o=i[u],m=i[n];o<m?s[u]=n:m<o?s[n]=u:(s[n]=u,++i[u])}}},8243:function(h,d,t){h.exports=i;var r=t(417),u=t(6656);function n(s,o,m){var c=Math.abs(r(s,o,m)),b=Math.sqrt(Math.pow(o[0]-m[0],2)+Math.pow(o[1]-m[1],2));return c/b}function i(s,o,m){for(var c=o.length,b=s.length,v=new Array(c),l=new Array(c),p=new Array(c),S=new Array(c),M=0;M<c;++M)v[M]=l[M]=-1,p[M]=1/0,S[M]=!1;for(var M=0;M<b;++M){var R=s[M];if(R.length!==2)throw new Error("Input must be a graph");var T=R[1],E=R[0];l[E]!==-1?l[E]=-2:l[E]=T,v[T]!==-1?v[T]=-2:v[T]=E}function A(ee){if(S[ee])return 1/0;var J=v[ee],Q=l[ee];return J<0||Q<0?1/0:n(o[ee],o[J],o[Q])}function f(ee,J){var Q=N[ee],X=N[J];N[ee]=X,N[J]=Q,O[Q]=J,O[X]=ee}function P(ee){return p[N[ee]]}function w(ee){return ee&1?ee-1>>1:(ee>>1)-1}function z(ee){for(var J=P(ee);;){var Q=J,X=2*ee+1,q=2*(ee+1),se=ee;if(X<K){var Y=P(X);Y<Q&&(se=X,Q=Y)}if(q<K){var Z=P(q);Z<Q&&(se=q)}if(se===ee)return ee;f(ee,se),ee=se}}function F(ee){for(var J=P(ee);ee>0;){var Q=w(ee);if(Q>=0){var X=P(Q);if(J<X){f(ee,Q),ee=Q;continue}}return ee}}function H(){if(K>0){var ee=N[0];return f(0,K-1),K-=1,z(0),ee}return-1}function _(ee,J){var Q=N[ee];return p[Q]===J?ee:(p[Q]=-1/0,F(ee),H(),p[Q]=J,K+=1,F(K-1))}function B(ee){if(!S[ee]){S[ee]=!0;var J=v[ee],Q=l[ee];v[Q]>=0&&(v[Q]=J),l[J]>=0&&(l[J]=Q),O[J]>=0&&_(O[J],A(J)),O[Q]>=0&&_(O[Q],A(Q))}}for(var N=[],O=new Array(c),M=0;M<c;++M){var U=p[M]=A(M);U<1/0?(O[M]=N.length,N.push(M)):O[M]=-1}for(var K=N.length,M=K>>1;M>=0;--M)z(M);for(;;){var re=H();if(re<0||p[re]>m)break;B(re)}for(var ae=[],M=0;M<c;++M)S[M]||(O[M]=ae.length,ae.push(o[M].slice()));ae.length;function ue(ee,J){if(ee[J]<0)return J;var Q=J,X=J;do{var q=ee[X];if(!S[X]||q<0||q===X||(X=q,q=ee[X],!S[X]||q<0||q===X))break;X=q,Q=ee[Q]}while(Q!==X);for(var se=J;se!==X;se=ee[se])ee[se]=X;return X}var ve=[];return s.forEach(function(ee){var J=ue(v,ee[0]),Q=ue(l,ee[1]);if(J>=0&&Q>=0&&J!==Q){var X=O[J],q=O[Q];X!==q&&ve.push([X,q])}}),u.unique(u.normalize(ve)),{positions:ae,edges:ve}}},6638:function(h,d,t){h.exports=n;var r=t(417);function u(i,s){var o,m;if(s[0][0]<s[1][0])o=s[0],m=s[1];else if(s[0][0]>s[1][0])o=s[1],m=s[0];else{var c=Math.min(i[0][1],i[1][1]),b=Math.max(i[0][1],i[1][1]),v=Math.min(s[0][1],s[1][1]),l=Math.max(s[0][1],s[1][1]);return b<v?b-v:c>l?c-l:b-l}var p,S;i[0][1]<i[1][1]?(p=i[0],S=i[1]):(p=i[1],S=i[0]);var M=r(m,o,p);return M||(M=r(m,o,S),M)?M:S-m}function n(i,s){var o,m;if(s[0][0]<s[1][0])o=s[0],m=s[1];else if(s[0][0]>s[1][0])o=s[1],m=s[0];else return u(s,i);var c,b;if(i[0][0]<i[1][0])c=i[0],b=i[1];else if(i[0][0]>i[1][0])c=i[1],b=i[0];else return-u(i,s);var v=r(o,m,b),l=r(o,m,c);if(v<0){if(l<=0)return v}else if(v>0){if(l>=0)return v}else if(l)return l;if(v=r(b,c,m),l=r(b,c,o),v<0){if(l<=0)return v}else if(v>0){if(l>=0)return v}else if(l)return l;return m[0]-b[0]}},4385:function(h,d,t){h.exports=l;var r=t(5070),u=t(7080),n=t(417),i=t(6638);function s(p,S,M){this.slabs=p,this.coordinates=S,this.horizontal=M}var o=s.prototype;function m(p,S){return p.y-S}function c(p,S){for(var M=null;p;){var R=p.key,T,E;R[0][0]<R[1][0]?(T=R[0],E=R[1]):(T=R[1],E=R[0]);var A=n(T,E,S);if(A<0)p=p.left;else if(A>0)if(S[0]!==R[1][0])M=p,p=p.right;else{var f=c(p.right,S);if(f)return f;p=p.left}else{if(S[0]!==R[1][0])return p;var f=c(p.right,S);if(f)return f;p=p.left}}return M}o.castUp=function(p){var S=r.le(this.coordinates,p[0]);if(S<0)return-1;this.slabs[S];var M=c(this.slabs[S],p),R=-1;if(M&&(R=M.value),this.coordinates[S]===p[0]){var T=null;if(M&&(T=M.key),S>0){var E=c(this.slabs[S-1],p);E&&(T?i(E.key,T)>0&&(T=E.key,R=E.value):(R=E.value,T=E.key))}var A=this.horizontal[S];if(A.length>0){var f=r.ge(A,p[1],m);if(f<A.length){var P=A[f];if(p[1]===P.y){if(P.closed)return P.index;for(;f<A.length-1&&A[f+1].y===p[1];)if(f=f+1,P=A[f],P.closed)return P.index;if(P.y===p[1]&&!P.start){if(f=f+1,f>=A.length)return R;P=A[f]}}if(P.start)if(T){var w=n(T[0],T[1],[p[0],P.y]);T[0][0]>T[1][0]&&(w=-w),w>0&&(R=P.index)}else R=P.index;else P.y!==p[1]&&(R=P.index)}}}return R};function b(p,S,M,R){this.y=p,this.index=S,this.start=M,this.closed=R}function v(p,S,M,R){this.x=p,this.segment=S,this.create=M,this.index=R}function l(p){for(var S=p.length,M=2*S,R=new Array(M),T=0;T<S;++T){var E=p[T],A=E[0][0]<E[1][0];R[2*T]=new v(E[0][0],E,A,T),R[2*T+1]=new v(E[1][0],E,!A,T)}R.sort(function(B,N){var O=B.x-N.x;return O||(O=B.create-N.create,O)?O:Math.min(B.segment[0][1],B.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});for(var f=u(i),P=[],w=[],z=[],T=0;T<M;){for(var F=R[T].x,H=[];T<M;){var _=R[T];if(_.x!==F)break;T+=1,_.segment[0][0]===_.x&&_.segment[1][0]===_.x?_.create&&(_.segment[0][1]<_.segment[1][1]?(H.push(new b(_.segment[0][1],_.index,!0,!0)),H.push(new b(_.segment[1][1],_.index,!1,!1))):(H.push(new b(_.segment[1][1],_.index,!0,!1)),H.push(new b(_.segment[0][1],_.index,!1,!0)))):_.create?f=f.insert(_.segment,_.index):f=f.remove(_.segment)}P.push(f.root),w.push(F),z.push(H)}return new s(P,w,z)}},4670:function(h,d,t){var r=t(9130),u=t(9662);h.exports=s,h.exports.positive=o,h.exports.negative=m;function n(c,b){var v=u(r(c,b),[b[b.length-1]]);return v[v.length-1]}function i(c,b,v,l){var p=l-b,S=-b/p;S<0?S=0:S>1&&(S=1);for(var M=1-S,R=c.length,T=new Array(R),E=0;E<R;++E)T[E]=S*c[E]+M*v[E];return T}function s(c,b){for(var v=[],l=[],p=n(c[c.length-1],b),S=c[c.length-1],M=c[0],R=0;R<c.length;++R,S=M){M=c[R];var T=n(M,b);if(p<0&&T>0||p>0&&T<0){var E=i(S,T,M,p);v.push(E),l.push(E.slice())}T<0?l.push(M.slice()):T>0?v.push(M.slice()):(v.push(M.slice()),l.push(M.slice())),p=T}return{positive:v,negative:l}}function o(c,b){for(var v=[],l=n(c[c.length-1],b),p=c[c.length-1],S=c[0],M=0;M<c.length;++M,p=S){S=c[M];var R=n(S,b);(l<0&&R>0||l>0&&R<0)&&v.push(i(p,R,S,l)),R>=0&&v.push(S.slice()),l=R}return v}function m(c,b){for(var v=[],l=n(c[c.length-1],b),p=c[c.length-1],S=c[0],M=0;M<c.length;++M,p=S){S=c[M];var R=n(S,b);(l<0&&R>0||l>0&&R<0)&&v.push(i(p,R,S,l)),R<=0&&v.push(S.slice()),l=R}return v}},8974:function(h,d,t){var r;(function(){var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return s(m(c),arguments)}function i(c,b){return n.apply(null,[c].concat(b||[]))}function s(c,b){var v=1,l=c.length,p,S="",M,R,T,E,A,f,P,w;for(M=0;M<l;M++)if(typeof c[M]=="string")S+=c[M];else if(typeof c[M]=="object"){if(T=c[M],T.keys)for(p=b[v],R=0;R<T.keys.length;R++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',T.keys[R],T.keys[R-1]));p=p[T.keys[R]]}else T.param_no?p=b[T.param_no]:p=b[v++];if(u.not_type.test(T.type)&&u.not_primitive.test(T.type)&&p instanceof Function&&(p=p()),u.numeric_arg.test(T.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(u.number.test(T.type)&&(P=p>=0),T.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,T.width?parseInt(T.width):0);break;case"e":p=T.precision?parseFloat(p).toExponential(T.precision):parseFloat(p).toExponential();break;case"f":p=T.precision?parseFloat(p).toFixed(T.precision):parseFloat(p);break;case"g":p=T.precision?String(Number(p.toPrecision(T.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=T.precision?p.substring(0,T.precision):p;break;case"t":p=String(!!p),p=T.precision?p.substring(0,T.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=T.precision?p.substring(0,T.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=T.precision?p.substring(0,T.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}u.json.test(T.type)?S+=p:(u.number.test(T.type)&&(!P||T.sign)?(w=P?"+":"-",p=p.toString().replace(u.sign,"")):w="",A=T.pad_char?T.pad_char==="0"?"0":T.pad_char.charAt(1):" ",f=T.width-(w+p).length,E=T.width&&f>0?A.repeat(f):"",S+=T.align?w+p+E:A==="0"?w+E+p:E+w+p)}return S}var o=Object.create(null);function m(c){if(o[c])return o[c];for(var b=c,v,l=[],p=0;b;){if((v=u.text.exec(b))!==null)l.push(v[0]);else if((v=u.modulo.exec(b))!==null)l.push("%");else if((v=u.placeholder.exec(b))!==null){if(v[2]){p|=1;var S=[],M=v[2],R=[];if((R=u.key.exec(M))!==null)for(S.push(R[1]);(M=M.substring(R[0].length))!=="";)if((R=u.key_access.exec(M))!==null)S.push(R[1]);else if((R=u.index_access.exec(M))!==null)S.push(R[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");v[2]=S}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");l.push({placeholder:v[0],param_no:v[1],keys:v[2],sign:v[3],pad_char:v[4],align:v[5],width:v[6],precision:v[7],type:v[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");b=b.substring(v[0].length)}return o[c]=l}d.sprintf=n,d.vsprintf=i,typeof window<"u"&&(window.sprintf=n,window.vsprintf=i,r=(function(){return{sprintf:n,vsprintf:i}}).call(d,t,d,h),r!==void 0&&(h.exports=r))})()},4162:function(h,d,t){h.exports=m;var r=t(9284),u=t(9584),n={"2d":function(c,b,v){var l=c({order:b,scalarArguments:3,getters:v==="generic"?[0]:void 0,phase:function(S,M,R,T){return S>T|0},vertex:function(S,M,R,T,E,A,f,P,w,z,F,H,_){var B=(f<<0)+(P<<1)+(w<<2)+(z<<3)|0;if(!(B===0||B===15))switch(B){case 0:F.push([S-.5,M-.5]);break;case 1:F.push([S-.25-.25*(T+R-2*_)/(R-T),M-.25-.25*(E+R-2*_)/(R-E)]);break;case 2:F.push([S-.75-.25*(-T-R+2*_)/(T-R),M-.25-.25*(A+T-2*_)/(T-A)]);break;case 3:F.push([S-.5,M-.5-.5*(E+R+A+T-4*_)/(R-E+T-A)]);break;case 4:F.push([S-.25-.25*(A+E-2*_)/(E-A),M-.75-.25*(-E-R+2*_)/(E-R)]);break;case 5:F.push([S-.5-.5*(T+R+A+E-4*_)/(R-T+E-A),M-.5]);break;case 6:F.push([S-.5-.25*(-T-R+A+E)/(T-R+E-A),M-.5-.25*(-E-R+A+T)/(E-R+T-A)]);break;case 7:F.push([S-.75-.25*(A+E-2*_)/(E-A),M-.75-.25*(A+T-2*_)/(T-A)]);break;case 8:F.push([S-.75-.25*(-A-E+2*_)/(A-E),M-.75-.25*(-A-T+2*_)/(A-T)]);break;case 9:F.push([S-.5-.25*(T+R+-A-E)/(R-T+A-E),M-.5-.25*(E+R+-A-T)/(R-E+A-T)]);break;case 10:F.push([S-.5-.5*(-T-R+-A-E+4*_)/(T-R+A-E),M-.5]);break;case 11:F.push([S-.25-.25*(-A-E+2*_)/(A-E),M-.75-.25*(E+R-2*_)/(R-E)]);break;case 12:F.push([S-.5,M-.5-.5*(-E-R+-A-T+4*_)/(E-R+A-T)]);break;case 13:F.push([S-.75-.25*(T+R-2*_)/(R-T),M-.25-.25*(-A-T+2*_)/(A-T)]);break;case 14:F.push([S-.25-.25*(-T-R+2*_)/(T-R),M-.25-.25*(-E-R+2*_)/(E-R)]);break;case 15:F.push([S-.5,M-.5]);break}},cell:function(S,M,R,T,E,A,f,P,w){E?P.push([S,M]):P.push([M,S])}});return function(p,S){var M=[],R=[];return l(p,M,R,S),{positions:M,cells:R}}}};function i(c,b){var v=c.length+"d",l=n[v];if(l)return l(r,c,b)}function s(c,b){for(var v=u(c,b),l=v.length,p=new Array(l),S=new Array(l),M=0;M<l;++M)p[M]=[v[M]],S[M]=[M];return{positions:p,cells:S}}var o={};function m(c,p){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return s(c,p);var v=c.order.join()+"-"+c.dtype,l=o[v],p=+p||0;return l||(l=o[v]=i(c.order,c.dtype)),l(c,p)}},6946:function(h,d,t){h.exports=s;var r=t(875),u=window||y.global||{},n=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};function i(o){for(var m=o.cells,c=o.positions,b=new Float32Array(m.length*6),v=0,l=0,p=0;p<m.length;++p)for(var S=m[p],M=0;M<3;++M){var R=c[S[M]];b[v++]=R[0],b[v++]=R[1]+1.4,l=Math.max(R[0],l)}return{data:b,shape:l}}function s(o,m,b){var b=b||{},v=n[o];v||(v=n[o]={" ":{data:new Float32Array(0),shape:.2}});var l=v[m];if(!l)if(m.length<=1||!/\d/.test(m))l=v[m]=i(r(m,{triangles:!0,font:o,textAlign:b.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var p=m.split(/(\d|\s)/),S=new Array(p.length),M=0,R=0,T=0;T<p.length;++T)S[T]=s(o,p[T]),M+=S[T].data.length,R+=S[T].shape,T>0&&(R+=.02);for(var E=new Float32Array(M),A=0,f=-.5*R,T=0;T<S.length;++T){for(var P=S[T].data,w=0;w<P.length;w+=2)E[A++]=P[w]+f,E[A++]=P[w+1];f+=S[T].shape+.02}l=v[m]={data:E,shape:R}}return l}},14:function(h,d,t){var r=t(4405);h.exports=s;var u=96;function n(o,m){var c=r(getComputedStyle(o).getPropertyValue(m));return c[0]*s(c[1],o)}function i(o,m){var c=document.createElement("div");c.style["font-size"]="128"+o,m.appendChild(c);var b=n(c,"font-size")/128;return m.removeChild(c),b}function s(o,m){switch(m=m||document.body,o=(o||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),o){case"%":return m.clientHeight/100;case"ch":case"ex":return i(o,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return u;case"cm":return u/2.54;case"mm":return u/25.4;case"pt":return u/72;case"pc":return u/6}return 1}},3440:function(h,d,t){h.exports=S;var r=t(8444),u=t(7437),n=t(4422),i=t(903),s=t(899),o=t(9305);function m(M,R,T){return Math.sqrt(Math.pow(M,2)+Math.pow(R,2)+Math.pow(T,2))}function c(M){return Math.min(1,Math.max(-1,M))}function b(M){var R=Math.abs(M[0]),T=Math.abs(M[1]),E=Math.abs(M[2]),A=[0,0,0];R>Math.max(T,E)?A[2]=1:T>Math.max(R,E)?A[0]=1:A[1]=1;for(var f=0,P=0,w=0;w<3;++w)f+=M[w]*M[w],P+=A[w]*M[w];for(var w=0;w<3;++w)A[w]-=P/f*M[w];return s(A,A),A}function v(M,R,T,E,A,f,P,w){this.center=r(T),this.up=r(E),this.right=r(A),this.radius=r([f]),this.angle=r([P,w]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(M,R),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var z=0;z<16;++z)this.computedMatrix[z]=.5;this.recalcMatrix(0)}var l=v.prototype;l.setDistanceLimits=function(M,R){M>0?M=Math.log(M):M=-1/0,R>0?R=Math.log(R):R=1/0,R=Math.max(R,M),this.radius.bounds[0][0]=M,this.radius.bounds[1][0]=R},l.getDistanceLimits=function(M){var R=this.radius.bounds[0];return M?(M[0]=Math.exp(R[0][0]),M[1]=Math.exp(R[1][0]),M):[Math.exp(R[0][0]),Math.exp(R[1][0])]},l.recalcMatrix=function(M){this.center.curve(M),this.up.curve(M),this.right.curve(M),this.radius.curve(M),this.angle.curve(M);for(var R=this.computedUp,T=this.computedRight,E=0,A=0,f=0;f<3;++f)A+=R[f]*T[f],E+=R[f]*R[f];for(var P=Math.sqrt(E),w=0,f=0;f<3;++f)T[f]-=R[f]*A/E,w+=T[f]*T[f],R[f]/=P;for(var z=Math.sqrt(w),f=0;f<3;++f)T[f]/=z;var F=this.computedToward;i(F,R,T),s(F,F);for(var H=Math.exp(this.computedRadius[0]),_=this.computedAngle[0],B=this.computedAngle[1],N=Math.cos(_),O=Math.sin(_),U=Math.cos(B),K=Math.sin(B),re=this.computedCenter,ae=N*U,ue=O*U,ve=K,ee=-N*K,J=-O*K,Q=U,X=this.computedEye,q=this.computedMatrix,f=0;f<3;++f){var se=ae*T[f]+ue*F[f]+ve*R[f];q[4*f+1]=ee*T[f]+J*F[f]+Q*R[f],q[4*f+2]=se,q[4*f+3]=0}var Y=q[1],Z=q[5],ie=q[9],te=q[2],fe=q[6],de=q[10],we=Z*de-ie*fe,Ae=ie*te-Y*de,Re=Y*fe-Z*te,Fe=m(we,Ae,Re);we/=Fe,Ae/=Fe,Re/=Fe,q[0]=we,q[4]=Ae,q[8]=Re;for(var f=0;f<3;++f)X[f]=re[f]+q[2+4*f]*H;for(var f=0;f<3;++f){for(var w=0,Se=0;Se<3;++Se)w+=q[f+4*Se]*X[Se];q[12+f]=-w}q[15]=1},l.getMatrix=function(M,R){this.recalcMatrix(M);var T=this.computedMatrix;if(R){for(var E=0;E<16;++E)R[E]=T[E];return R}return T};var p=[0,0,0];l.rotate=function(M,R,T,E){if(this.angle.move(M,R,T),E){this.recalcMatrix(M);var A=this.computedMatrix;p[0]=A[2],p[1]=A[6],p[2]=A[10];for(var f=this.computedUp,P=this.computedRight,w=this.computedToward,z=0;z<3;++z)A[4*z]=f[z],A[4*z+1]=P[z],A[4*z+2]=w[z];n(A,A,E,p);for(var z=0;z<3;++z)f[z]=A[4*z],P[z]=A[4*z+1];this.up.set(M,f[0],f[1],f[2]),this.right.set(M,P[0],P[1],P[2])}},l.pan=function(M,R,T,E){R=R||0,T=T||0,E=E||0,this.recalcMatrix(M);var A=this.computedMatrix;Math.exp(this.computedRadius[0]);var f=A[1],P=A[5],w=A[9],z=m(f,P,w);f/=z,P/=z,w/=z;var F=A[0],H=A[4],_=A[8],B=F*f+H*P+_*w;F-=f*B,H-=P*B,_-=w*B;var N=m(F,H,_);F/=N,H/=N,_/=N;var O=F*R+f*T,U=H*R+P*T,K=_*R+w*T;this.center.move(M,O,U,K);var re=Math.exp(this.computedRadius[0]);re=Math.max(1e-4,re+E),this.radius.set(M,Math.log(re))},l.translate=function(M,R,T,E){this.center.move(M,R||0,T||0,E||0)},l.setMatrix=function(M,R,T,E){var A=1;typeof T=="number"&&(A=T|0),(A<0||A>3)&&(A=1);var f=(A+2)%3;R||(this.recalcMatrix(M),R=this.computedMatrix);var P=R[A],w=R[A+4],z=R[A+8];if(E){var H=Math.abs(P),_=Math.abs(w),B=Math.abs(z),N=Math.max(H,_,B);H===N?(P=P<0?-1:1,w=z=0):B===N?(z=z<0?-1:1,P=w=0):(w=w<0?-1:1,P=z=0)}else{var F=m(P,w,z);P/=F,w/=F,z/=F}var O=R[f],U=R[f+4],K=R[f+8],re=O*P+U*w+K*z;O-=P*re,U-=w*re,K-=z*re;var ae=m(O,U,K);O/=ae,U/=ae,K/=ae;var ue=w*K-z*U,ve=z*O-P*K,ee=P*U-w*O,J=m(ue,ve,ee);ue/=J,ve/=J,ee/=J,this.center.jump(M,He,_e,We),this.radius.idle(M),this.up.jump(M,P,w,z),this.right.jump(M,O,U,K);var Q,X;if(A===2){var q=R[1],se=R[5],Y=R[9],Z=q*O+se*U+Y*K,ie=q*ue+se*ve+Y*ee;we<0?Q=-Math.PI/2:Q=Math.PI/2,X=Math.atan2(ie,Z)}else{var te=R[2],fe=R[6],de=R[10],we=te*P+fe*w+de*z,Ae=te*O+fe*U+de*K,Re=te*ue+fe*ve+de*ee;Q=Math.asin(c(we)),X=Math.atan2(Re,Ae)}this.angle.jump(M,X,Q),this.recalcMatrix(M);var Fe=R[2],Se=R[6],Te=R[10],Ee=this.computedMatrix;u(Ee,R);var Ne=Ee[15],He=Ee[12]/Ne,_e=Ee[13]/Ne,We=Ee[14]/Ne,tt=Math.exp(this.computedRadius[0]);this.center.jump(M,He-Fe*tt,_e-Se*tt,We-Te*tt)},l.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},l.idle=function(M){this.center.idle(M),this.up.idle(M),this.right.idle(M),this.radius.idle(M),this.angle.idle(M)},l.flush=function(M){this.center.flush(M),this.up.flush(M),this.right.flush(M),this.radius.flush(M),this.angle.flush(M)},l.setDistance=function(M,R){R>0&&this.radius.set(M,Math.log(R))},l.lookAt=function(M,R,T,E){this.recalcMatrix(M),R=R||this.computedEye,T=T||this.computedCenter,E=E||this.computedUp;var A=E[0],f=E[1],P=E[2],w=m(A,f,P);if(!(w<1e-6)){A/=w,f/=w,P/=w;var z=R[0]-T[0],F=R[1]-T[1],H=R[2]-T[2],_=m(z,F,H);if(!(_<1e-6)){z/=_,F/=_,H/=_;var B=this.computedRight,N=B[0],O=B[1],U=B[2],K=A*N+f*O+P*U;N-=K*A,O-=K*f,U-=K*P;var re=m(N,O,U);if(!(re<.01&&(N=f*H-P*F,O=P*z-A*H,U=A*F-f*z,re=m(N,O,U),re<1e-6))){N/=re,O/=re,U/=re,this.up.set(M,A,f,P),this.right.set(M,N,O,U),this.center.set(M,T[0],T[1],T[2]),this.radius.set(M,Math.log(_));var ae=f*U-P*O,ue=P*N-A*U,ve=A*O-f*N,ee=m(ae,ue,ve);ae/=ee,ue/=ee,ve/=ee;var J=A*z+f*F+P*H,Q=N*z+O*F+U*H,X=ae*z+ue*F+ve*H,q=Math.asin(c(J)),se=Math.atan2(X,Q),Y=this.angle._state,Z=Y[Y.length-1],ie=Y[Y.length-2];Z=Z%(2*Math.PI);var te=Math.abs(Z+2*Math.PI-se),fe=Math.abs(Z-se),de=Math.abs(Z-2*Math.PI-se);te<fe&&(Z+=2*Math.PI),de<fe&&(Z-=2*Math.PI),this.angle.jump(this.angle.lastT(),Z,ie),this.angle.set(M,se,q)}}}};function S(M){M=M||{};var R=M.center||[0,0,0],T=M.up||[0,1,0],E=M.right||b(T),A=M.radius||1,f=M.theta||0,P=M.phi||0;if(R=[].slice.call(R,0,3),T=[].slice.call(T,0,3),s(T,T),E=[].slice.call(E,0,3),s(E,E),"eye"in M){var w=M.eye,z=[w[0]-R[0],w[1]-R[1],w[2]-R[2]];i(E,z,T),m(E[0],E[1],E[2])<1e-6?E=b(T):s(E,E),A=m(z[0],z[1],z[2]);var F=o(T,z)/A,H=o(E,z)/A;P=Math.acos(F),f=Math.acos(H)}return A=Math.log(A),new v(M.zoomMin,M.zoomMax,R,T,E,A,f,P)}},9660:function(h){h.exports=t;var d=+(Math.pow(2,27)+1);function t(r,u,n){var i=r*u,s=d*r,o=s-r,m=s-o,c=r-m,b=d*u,v=b-u,l=b-v,p=u-l,S=i-m*l,M=S-c*l,R=M-m*p,T=c*p-R;return n?(n[0]=T,n[1]=i,n):[T,i]}},87:function(h){h.exports=d;function d(t,r,u){var n=t+r,i=n-t,s=n-i,o=r-i,m=t-s;return u?(u[0]=m+o,u[1]=n,u):[m+o,n]}},5306:function(h,d,t){var r=t(2288),u=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:u([32,0]),UINT16:u([32,0]),UINT32:u([32,0]),BIGUINT64:u([32,0]),INT8:u([32,0]),INT16:u([32,0]),INT32:u([32,0]),BIGINT64:u([32,0]),FLOAT:u([32,0]),DOUBLE:u([32,0]),DATA:u([32,0]),UINT8C:u([32,0]),BUFFER:u([32,0])});var i=typeof Uint8ClampedArray<"u",s=typeof BigUint64Array<"u",o=typeof BigInt64Array<"u",m=t.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=u([32,0])),m.BIGUINT64||(m.BIGUINT64=u([32,0])),m.BIGINT64||(m.BIGINT64=u([32,0])),m.BUFFER||(m.BUFFER=u([32,0]));var c=m.DATA,b=m.BUFFER;d.free=function(N){if(n.isBuffer(N))b[r.log2(N.length)].push(N);else{if(Object.prototype.toString.call(N)!=="[object ArrayBuffer]"&&(N=N.buffer),!N)return;var O=N.length||N.byteLength,U=r.log2(O)|0;c[U].push(N)}};function v(B){if(B){var N=B.length||B.byteLength,O=r.log2(N);c[O].push(B)}}function l(B){v(B.buffer)}d.freeUint8=d.freeUint16=d.freeUint32=d.freeBigUint64=d.freeInt8=d.freeInt16=d.freeInt32=d.freeBigInt64=d.freeFloat32=d.freeFloat=d.freeFloat64=d.freeDouble=d.freeUint8Clamped=d.freeDataView=l,d.freeArrayBuffer=v,d.freeBuffer=function(N){b[r.log2(N.length)].push(N)},d.malloc=function(N,O){if(O===void 0||O==="arraybuffer")return p(N);switch(O){case"uint8":return S(N);case"uint16":return M(N);case"uint32":return R(N);case"int8":return T(N);case"int16":return E(N);case"int32":return A(N);case"float":case"float32":return f(N);case"double":case"float64":return P(N);case"uint8_clamped":return w(N);case"bigint64":return F(N);case"biguint64":return z(N);case"buffer":return _(N);case"data":case"dataview":return H(N);default:return null}return null};function p(N){var N=r.nextPow2(N),O=r.log2(N),U=c[O];return U.length>0?U.pop():new ArrayBuffer(N)}d.mallocArrayBuffer=p;function S(B){return new Uint8Array(p(B),0,B)}d.mallocUint8=S;function M(B){return new Uint16Array(p(2*B),0,B)}d.mallocUint16=M;function R(B){return new Uint32Array(p(4*B),0,B)}d.mallocUint32=R;function T(B){return new Int8Array(p(B),0,B)}d.mallocInt8=T;function E(B){return new Int16Array(p(2*B),0,B)}d.mallocInt16=E;function A(B){return new Int32Array(p(4*B),0,B)}d.mallocInt32=A;function f(B){return new Float32Array(p(4*B),0,B)}d.mallocFloat32=d.mallocFloat=f;function P(B){return new Float64Array(p(8*B),0,B)}d.mallocFloat64=d.mallocDouble=P;function w(B){return i?new Uint8ClampedArray(p(B),0,B):S(B)}d.mallocUint8Clamped=w;function z(B){return s?new BigUint64Array(p(8*B),0,B):null}d.mallocBigUint64=z;function F(B){return o?new BigInt64Array(p(8*B),0,B):null}d.mallocBigInt64=F;function H(B){return new DataView(p(B),0,B)}d.mallocDataView=H;function _(B){B=r.nextPow2(B);var N=r.log2(B),O=b[N];return O.length>0?O.pop():new n(B)}d.mallocBuffer=_,d.clearCache=function(){for(var N=0;N<32;++N)m.UINT8[N].length=0,m.UINT16[N].length=0,m.UINT32[N].length=0,m.INT8[N].length=0,m.INT16[N].length=0,m.INT32[N].length=0,m.FLOAT[N].length=0,m.DOUBLE[N].length=0,m.BIGUINT64[N].length=0,m.BIGINT64[N].length=0,m.UINT8C[N].length=0,c[N].length=0,b[N].length=0}},1731:function(h){"use restrict";h.exports=d;function d(r){this.roots=new Array(r),this.ranks=new Array(r);for(var u=0;u<r;++u)this.roots[u]=u,this.ranks[u]=0}var t=d.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var u=r,n=this.roots;n[r]!==r;)r=n[r];for(;n[u]!==r;){var i=n[u];n[u]=r,u=i}return r},t.link=function(r,u){var n=this.find(r),i=this.find(u);if(n!==i){var s=this.ranks,o=this.roots,m=s[n],c=s[i];m<c?o[n]=i:c<m?o[i]=n:(o[i]=n,++s[n])}}},1215:function(h){function d(u,n){for(var i=1,s=u.length,o=u[0],m=u[0],c=1;c<s;++c)if(m=o,o=u[c],n(o,m)){if(c===i){i++;continue}u[i++]=o}return u.length=i,u}function t(u){for(var n=1,i=u.length,s=u[0],o=u[0],m=1;m<i;++m,o=s)if(o=s,s=u[m],s!==o){if(m===n){n++;continue}u[n++]=s}return u.length=n,u}function r(u,n,i){return u.length===0?u:n?(i||u.sort(n),d(u,n)):(i||u.sort(),t(u))}h.exports=r},875:function(h,d,t){h.exports=i;var r=t(712),u=null,n=null;typeof document<"u"&&(u=document.createElement("canvas"),u.width=8192,u.height=1024,n=u.getContext("2d"));function i(s,o){return(typeof o!="object"||o===null)&&(o={}),r(s,o.canvas||u,o.context||n,o)}},712:function(h,d,t){h.exports=F,h.exports.processPixels=z;var r=t(4162),u=t(5050),n=t(8243),i=t(197),s=t(7761),o=t(8040),m="b",c="b|",b="i",v="i|",l="sup",p="+",S="+1",M="sub",R="-",T="-1";function E(H,_,B,N){for(var O="<"+H+">",U="</"+H+">",K=O.length,re=U.length,ae=_[0]===p||_[0]===R,ue=0,ve=-re;ue>-1&&(ue=B.indexOf(O,ue),!(ue===-1||(ve=B.indexOf(U,ue+K),ve===-1)||ve<=ue));){for(var ee=ue;ee<ve+re;++ee)if(ee<ue+K||ee>=ve)N[ee]=null,B=B.substr(0,ee)+" "+B.substr(ee+1);else if(N[ee]!==null){var J=N[ee].indexOf(_[0]);J===-1?N[ee]+=_:ae&&(N[ee]=N[ee].substr(0,J+1)+(1+parseInt(N[ee][J+1]))+N[ee].substr(J+2))}var Q=ue+K,X=B.substr(Q,ve-Q),q=X.indexOf(O);q!==-1?ue=q:ue=ve+re}return N}function A(H,_,B){for(var N=_.textAlign||"start",O=_.textBaseline||"alphabetic",U=[1<<30,1<<30],K=[0,0],re=H.length,ae=0;ae<re;++ae)for(var ue=H[ae],ve=0;ve<2;++ve)U[ve]=Math.min(U[ve],ue[ve])|0,K[ve]=Math.max(K[ve],ue[ve])|0;var ee=0;switch(N){case"center":ee=-.5*(U[0]+K[0]);break;case"right":case"end":ee=-K[0];break;case"left":case"start":ee=-U[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+N+"'")}var J=0;switch(O){case"hanging":case"top":J=-U[1];break;case"middle":J=-.5*(U[1]+K[1]);break;case"alphabetic":case"ideographic":J=-3*B;break;case"bottom":J=-K[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var Q=1/B;return"lineHeight"in _?Q*=+_.lineHeight:"width"in _?Q=_.width/(K[0]-U[0]):"height"in _&&(Q=_.height/(K[1]-U[1])),H.map(function(X){return[Q*(X[0]+ee),Q*(X[1]+J)]})}function f(H,_,B,N,O,U){B=B.replace(/\n/g,""),U.breaklines===!0?B=B.replace(/\<br\>/g,`
`):B=B.replace(/\<br\>/g," ");var K="",re=[];for(Z=0;Z<B.length;++Z)re[Z]=K;U.bolds===!0&&(re=E(m,c,B,re)),U.italics===!0&&(re=E(b,v,B,re)),U.superscripts===!0&&(re=E(l,S,B,re)),U.subscripts===!0&&(re=E(M,T,B,re));var ae=[],ue="";for(Z=0;Z<B.length;++Z)re[Z]!==null&&(ue+=B[Z],ae.push(re[Z]));var ve=ue.split(`
`),ee=ve.length,J=Math.round(O*N),Q=N,X=N*2,q=0,se=ee*J+X;H.height<se&&(H.height=se),_.fillStyle="#000",_.fillRect(0,0,H.width,H.height),_.fillStyle="#fff";var Y,Z,ie,te,fe,de=0,we="";function Ae(){if(we!==""){var We=_.measureText(we).width;_.fillText(we,Q+ie,X+te),ie+=We}}function Re(){return""+Math.round(fe)+"px "}function Fe(We,tt){var Ke=""+_.font;if(U.subscripts===!0){var qe=We.indexOf(R),rt=tt.indexOf(R),ft=qe>-1?parseInt(We[1+qe]):0,pt=rt>-1?parseInt(tt[1+rt]):0;ft!==pt&&(Ke=Ke.replace(Re(),"?px "),fe*=Math.pow(.75,pt-ft),Ke=Ke.replace("?px ",Re())),te+=.25*J*(pt-ft)}if(U.superscripts===!0){var gt=We.indexOf(p),Mt=tt.indexOf(p),Lt=gt>-1?parseInt(We[1+gt]):0,Wt=Mt>-1?parseInt(tt[1+Mt]):0;Lt!==Wt&&(Ke=Ke.replace(Re(),"?px "),fe*=Math.pow(.75,Wt-Lt),Ke=Ke.replace("?px ",Re())),te-=.25*J*(Wt-Lt)}if(U.bolds===!0){var Je=We.indexOf(c)>-1,ze=tt.indexOf(c)>-1;!Je&&ze&&(Oe?Ke=Ke.replace("italic ","italic bold "):Ke="bold "+Ke),Je&&!ze&&(Ke=Ke.replace("bold ",""))}if(U.italics===!0){var Oe=We.indexOf(v)>-1,Ue=tt.indexOf(v)>-1;!Oe&&Ue&&(Ke="italic "+Ke),Oe&&!Ue&&(Ke=Ke.replace("italic ",""))}_.font=Ke}for(Y=0;Y<ee;++Y){var Se=ve[Y]+`
`;for(ie=0,te=Y*J,fe=N,we="",Z=0;Z<Se.length;++Z){var Te=Z+de<ae.length?ae[Z+de]:ae[ae.length-1];K===Te?we+=Se[Z]:(Ae(),we=Se[Z],Te!==void 0&&(Fe(K,Te),K=Te))}Ae(),de+=Se.length;var Ee=Math.round(ie+2*Q)|0;q<Ee&&(q=Ee)}var Ne=q,He=X+J*ee,_e=u(_.getImageData(0,0,Ne,He).data,[He,Ne,4]);return _e.pick(-1,-1,0).transpose(1,0)}function P(H,_){var B=r(H,128);return _?n(B.cells,B.positions,.25):{edges:B.cells,positions:B.positions}}function w(H,_,B,N){var O=P(H,N),U=A(O.positions,_,B),K=O.edges,re=_.orientation==="ccw";if(i(U,K),_.polygons||_.polygon||_.polyline){for(var ae=o(K,U),ue=new Array(ae.length),ve=0;ve<ae.length;++ve){for(var ee=ae[ve],J=new Array(ee.length),Q=0;Q<ee.length;++Q){for(var X=ee[Q],q=new Array(X.length),se=0;se<X.length;++se)q[se]=U[X[se]].slice();re&&q.reverse(),J[Q]=q}ue[ve]=J}return ue}else return _.triangles||_.triangulate||_.triangle?{cells:s(U,K,{delaunay:!1,exterior:!1,interior:!0}),positions:U}:{edges:K,positions:U}}function z(H,_,B){try{return w(H,_,B,!0)}catch{}try{return w(H,_,B,!1)}catch{}return _.polygons||_.polyline||_.polygon?[]:_.triangles||_.triangulate||_.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function F(H,_,B,N){var O=64,U=1.25,K={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};N&&(N.size&&N.size>0&&(O=N.size),N.lineSpacing&&N.lineSpacing>0&&(U=N.lineSpacing),N.styletags&&N.styletags.breaklines&&(K.breaklines=!!N.styletags.breaklines),N.styletags&&N.styletags.bolds&&(K.bolds=!!N.styletags.bolds),N.styletags&&N.styletags.italics&&(K.italics=!!N.styletags.italics),N.styletags&&N.styletags.subscripts&&(K.subscripts=!!N.styletags.subscripts),N.styletags&&N.styletags.superscripts&&(K.superscripts=!!N.styletags.superscripts)),B.font=[N.fontStyle,N.fontVariant,N.fontWeight,O+"px",N.font].filter(function(ae){return ae}).join(" "),B.textAlign="start",B.textBaseline="alphabetic",B.direction="ltr";var re=f(_,B,H,O,U,K);return z(re,N,O)}},5346:function(h){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(P){P.permitHostObjects___&&P.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new u,i=Object.freeze({});if(n.set(i,1),n.get(i)!==1)r=!0;else{h.exports=WeakMap;return}}}var s=Object.getOwnPropertyNames,o=Object.defineProperty,m=Object.isExtensible,c="weakmap:",b=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var v=new ArrayBuffer(25),l=new Uint8Array(v);crypto.getRandomValues(l),b=c+"rand:"+Array.prototype.map.call(l,function(P){return(P%36).toString(36)}).join("")+"___"}function p(P){return!(P.substr(0,c.length)==c&&P.substr(P.length-3)==="___")}if(o(Object,"getOwnPropertyNames",{value:function(w){return s(w).filter(p)}}),"getPropertyNames"in Object){var S=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(w){return S(w).filter(p)}})}function M(P){if(P!==Object(P))throw new TypeError("Not an object: "+P);var w=P[b];if(w&&w.key===P)return w;if(m(P)){w={key:P};try{return o(P,b,{value:w,writable:!1,enumerable:!1,configurable:!1}),w}catch{return}}}(function(){var P=Object.freeze;o(Object,"freeze",{value:function(H){return M(H),P(H)}});var w=Object.seal;o(Object,"seal",{value:function(H){return M(H),w(H)}});var z=Object.preventExtensions;o(Object,"preventExtensions",{value:function(H){return M(H),z(H)}})})();function R(P){return P.prototype=null,Object.freeze(P)}var T=!1;function E(){!T&&typeof console<"u"&&(T=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var A=0,f=function(){this instanceof f||E();var P=[],w=[],z=A++;function F(N,O){var U,K=M(N);return K?z in K?K[z]:O:(U=P.indexOf(N),U>=0?w[U]:O)}function H(N){var O=M(N);return O?z in O:P.indexOf(N)>=0}function _(N,O){var U,K=M(N);return K?K[z]=O:(U=P.indexOf(N),U>=0?w[U]=O:(U=P.length,w[U]=O,P[U]=N)),this}function B(N){var O=M(N),U,K;return O?z in O&&delete O[z]:(U=P.indexOf(N),U<0?!1:(K=P.length-1,P[U]=void 0,w[U]=w[K],P[U]=P[K],P.length=K,w.length=K,!0))}return Object.create(f.prototype,{get___:{value:R(F)},has___:{value:R(H)},set___:{value:R(_)},delete___:{value:R(B)}})};f.prototype=Object.create(Object.prototype,{get:{value:function(w,z){return this.get___(w,z)},writable:!0,configurable:!0},has:{value:function(w){return this.has___(w)},writable:!0,configurable:!0},set:{value:function(w,z){return this.set___(w,z)},writable:!0,configurable:!0},delete:{value:function(w){return this.delete___(w)},writable:!0,configurable:!0}}),typeof u=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function P(){this instanceof f||E();var w=new u,z=void 0,F=!1;function H(O,U){return z?w.has(O)?w.get(O):z.get___(O,U):w.get(O,U)}function _(O){return w.has(O)||(z?z.has___(O):!1)}var B;r?B=function(O,U){return w.set(O,U),w.has(O)||(z||(z=new f),z.set(O,U)),this}:B=function(O,U){if(F)try{w.set(O,U)}catch{z||(z=new f),z.set___(O,U)}else w.set(O,U);return this};function N(O){var U=!!w.delete(O);return z&&z.delete___(O)||U}return Object.create(f.prototype,{get___:{value:R(H)},has___:{value:R(_)},set___:{value:R(B)},delete___:{value:R(N)},permitHostObjects___:{value:R(function(O){if(O===t)F=!0;else throw new Error("bogus call to permitHostObjects___")})}})}P.prototype=f.prototype,h.exports=P,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),h.exports=f)})()},9222:function(h,d,t){var r=t(7178);h.exports=u;function u(){var n={};return function(i){if((typeof i!="object"||i===null)&&typeof i!="function")throw new Error("Weakmap-shim: Key must be object");var s=i.valueOf(n);return s&&s.identity===n?s:r(i,n)}}},7178:function(h){h.exports=d;function d(t,r){var u={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(i){return i!==r?n.apply(this,arguments):u},writable:!0}),u}},4037:function(h,d,t){var r=t(9222);h.exports=u;function u(){var n=r();return{get:function(i,s){var o=n(i);return o.hasOwnProperty("value")?o.value:s},set:function(i,s){return n(i).value=s,this},has:function(i){return"value"in n(i)},delete:function(i){return delete n(i).value}}}},6183:function(h){function d(){return function(s,o,m,c,b,v){var l=s[0],p=m[0],S=[0],M=p;c|=0;var R=0,T=p;for(R=0;R<l;++R){{var E=o[c]-v,A=o[c+M]-v;E>=0!=A>=0&&b.push(S[0]+.5+.5*(E+A)/(E-A))}c+=T,++S[0]}}}function t(){return d()}var r=t;function u(s){var o={};return function(c,b,v){var l=c.dtype,p=c.order,S=[l,p.join()].join(),M=o[S];return M||(o[S]=M=s([l,p])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,b,v)}}function n(s){return u(r.bind(void 0,s))}function i(s){return n({funcName:s.funcName})}h.exports=i({funcName:"zeroCrossings"})},9584:function(h,d,t){h.exports=u;var r=t(6183);function u(n,i){var s=[];return i=+i||0,r(n.hi(n.shape[0]-1),s,i),s}},6601:function(){}},a={};function L(h){var d=a[h];if(d!==void 0)return d.exports;var t=a[h]={id:h,loaded:!1,exports:{}};return C[h].call(t.exports,t,t.exports,L),t.loaded=!0,t.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(h){return h.paths=[],h.children||(h.children=[]),h}}();var x=L(7386);return x}()})},12856:function(W,V,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function y(Je,ze){if(!(Je instanceof ze))throw new TypeError("Cannot call a class as a function")}function C(Je,ze){for(var Oe=0;Oe<ze.length;Oe++){var Ue=ze[Oe];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Je,L(Ue.key),Ue)}}function a(Je,ze,Oe){return ze&&C(Je.prototype,ze),Oe&&C(Je,Oe),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function L(Je){var ze=x(Je,"string");return s(ze)==="symbol"?ze:String(ze)}function x(Je,ze){if(s(Je)!=="object"||Je===null)return Je;var Oe=Je[Symbol.toPrimitive];if(Oe!==void 0){var Ue=Oe.call(Je,ze||"default");if(s(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ze==="string"?String:Number)(Je)}function h(Je,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),ze&&d(Je,ze)}function d(Je,ze){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,ke){return Ue.__proto__=ke,Ue},d(Je,ze)}function t(Je){var ze=n();return function(){var Ue=i(Je),ke;if(ze){var Me=i(this).constructor;ke=Reflect.construct(Ue,arguments,Me)}else ke=Ue.apply(this,arguments);return r(this,ke)}}function r(Je,ze){if(ze&&(s(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(Je)}function u(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(Je){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Oe){return Oe.__proto__||Object.getPrototypeOf(Oe)},i(Je)}function s(Je){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ze){return typeof ze}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},s(Je)}var o=e(95341),m=e(95280),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=p,V.SlowBuffer=F,V.INSPECT_MAX_BYTES=50;var b=2147483647;V.kMaxLength=b,p.TYPED_ARRAY_SUPPORT=v(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{var Je=new Uint8Array(1),ze={foo:function(){return 42}};return Object.setPrototypeOf(ze,Uint8Array.prototype),Object.setPrototypeOf(Je,ze),Je.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function l(Je){if(Je>b)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var ze=new Uint8Array(Je);return Object.setPrototypeOf(ze,p.prototype),ze}function p(Je,ze,Oe){if(typeof Je=="number"){if(typeof ze=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(Je)}return S(Je,ze,Oe)}p.poolSize=8192;function S(Je,ze,Oe){if(typeof Je=="string")return E(Je,ze);if(ArrayBuffer.isView(Je))return f(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(Je));if(pt(Je,ArrayBuffer)||Je&&pt(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pt(Je,SharedArrayBuffer)||Je&&pt(Je.buffer,SharedArrayBuffer)))return P(Je,ze,Oe);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ue=Je.valueOf&&Je.valueOf();if(Ue!=null&&Ue!==Je)return p.from(Ue,ze,Oe);var ke=w(Je);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return p.from(Je[Symbol.toPrimitive]("string"),ze,Oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(Je))}p.from=function(Je,ze,Oe){return S(Je,ze,Oe)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function M(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function R(Je,ze,Oe){return M(Je),Je<=0?l(Je):ze!==void 0?typeof Oe=="string"?l(Je).fill(ze,Oe):l(Je).fill(ze):l(Je)}p.alloc=function(Je,ze,Oe){return R(Je,ze,Oe)};function T(Je){return M(Je),l(Je<0?0:z(Je)|0)}p.allocUnsafe=function(Je){return T(Je)},p.allocUnsafeSlow=function(Je){return T(Je)};function E(Je,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!p.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);var Oe=H(Je,ze)|0,Ue=l(Oe),ke=Ue.write(Je,ze);return ke!==Oe&&(Ue=Ue.slice(0,ke)),Ue}function A(Je){for(var ze=Je.length<0?0:z(Je.length)|0,Oe=l(ze),Ue=0;Ue<ze;Ue+=1)Oe[Ue]=Je[Ue]&255;return Oe}function f(Je){if(pt(Je,Uint8Array)){var ze=new Uint8Array(Je);return P(ze.buffer,ze.byteOffset,ze.byteLength)}return A(Je)}function P(Je,ze,Oe){if(ze<0||Je.byteLength<ze)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<ze+(Oe||0))throw new RangeError('"length" is outside of buffer bounds');var Ue;return ze===void 0&&Oe===void 0?Ue=new Uint8Array(Je):Oe===void 0?Ue=new Uint8Array(Je,ze):Ue=new Uint8Array(Je,ze,Oe),Object.setPrototypeOf(Ue,p.prototype),Ue}function w(Je){if(p.isBuffer(Je)){var ze=z(Je.length)|0,Oe=l(ze);return Oe.length===0||Je.copy(Oe,0,0,ze),Oe}if(Je.length!==void 0)return typeof Je.length!="number"||gt(Je.length)?l(0):A(Je);if(Je.type==="Buffer"&&Array.isArray(Je.data))return A(Je.data)}function z(Je){if(Je>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return Je|0}function F(Je){return+Je!=Je&&(Je=0),p.alloc(+Je)}p.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0&&ze!==p.prototype},p.compare=function(ze,Oe){if(pt(ze,Uint8Array)&&(ze=p.from(ze,ze.offset,ze.byteLength)),pt(Oe,Uint8Array)&&(Oe=p.from(Oe,Oe.offset,Oe.byteLength)),!p.isBuffer(ze)||!p.isBuffer(Oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ze===Oe)return 0;for(var Ue=ze.length,ke=Oe.length,Me=0,ce=Math.min(Ue,ke);Me<ce;++Me)if(ze[Me]!==Oe[Me]){Ue=ze[Me],ke=Oe[Me];break}return Ue<ke?-1:ke<Ue?1:0},p.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ze,Oe){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return p.alloc(0);var Ue;if(Oe===void 0)for(Oe=0,Ue=0;Ue<ze.length;++Ue)Oe+=ze[Ue].length;var ke=p.allocUnsafe(Oe),Me=0;for(Ue=0;Ue<ze.length;++Ue){var ce=ze[Ue];if(pt(ce,Uint8Array))Me+ce.length>ke.length?(p.isBuffer(ce)||(ce=p.from(ce)),ce.copy(ke,Me)):Uint8Array.prototype.set.call(ke,ce,Me);else if(p.isBuffer(ce))ce.copy(ke,Me);else throw new TypeError('"list" argument must be an Array of Buffers');Me+=ce.length}return ke};function H(Je,ze){if(p.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||pt(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(Je));var Oe=Je.length,Ue=arguments.length>2&&arguments[2]===!0;if(!Ue&&Oe===0)return 0;for(var ke=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return Oe;case"utf8":case"utf-8":return tt(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oe*2;case"hex":return Oe>>>1;case"base64":return rt(Je).length;default:if(ke)return Ue?-1:tt(Je).length;ze=(""+ze).toLowerCase(),ke=!0}}p.byteLength=H;function _(Je,ze,Oe){var Ue=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((Oe===void 0||Oe>this.length)&&(Oe=this.length),Oe<=0)||(Oe>>>=0,ze>>>=0,Oe<=ze))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return se(this,ze,Oe);case"utf8":case"utf-8":return ee(this,ze,Oe);case"ascii":return X(this,ze,Oe);case"latin1":case"binary":return q(this,ze,Oe);case"base64":return ve(this,ze,Oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,ze,Oe);default:if(Ue)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),Ue=!0}}p.prototype._isBuffer=!0;function B(Je,ze,Oe){var Ue=Je[ze];Je[ze]=Je[Oe],Je[Oe]=Ue}p.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Oe=0;Oe<ze;Oe+=2)B(this,Oe,Oe+1);return this},p.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Oe=0;Oe<ze;Oe+=4)B(this,Oe,Oe+3),B(this,Oe+1,Oe+2);return this},p.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Oe=0;Oe<ze;Oe+=8)B(this,Oe,Oe+7),B(this,Oe+1,Oe+6),B(this,Oe+2,Oe+5),B(this,Oe+3,Oe+4);return this},p.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?ee(this,0,ze):_.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(ze){if(!p.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:p.compare(this,ze)===0},p.prototype.inspect=function(){var ze="",Oe=V.INSPECT_MAX_BYTES;return ze=this.toString("hex",0,Oe).replace(/(.{2})/g,"$1 ").trim(),this.length>Oe&&(ze+=" ... "),"<Buffer "+ze+">"},c&&(p.prototype[c]=p.prototype.inspect),p.prototype.compare=function(ze,Oe,Ue,ke,Me){if(pt(ze,Uint8Array)&&(ze=p.from(ze,ze.offset,ze.byteLength)),!p.isBuffer(ze))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(ze));if(Oe===void 0&&(Oe=0),Ue===void 0&&(Ue=ze?ze.length:0),ke===void 0&&(ke=0),Me===void 0&&(Me=this.length),Oe<0||Ue>ze.length||ke<0||Me>this.length)throw new RangeError("out of range index");if(ke>=Me&&Oe>=Ue)return 0;if(ke>=Me)return-1;if(Oe>=Ue)return 1;if(Oe>>>=0,Ue>>>=0,ke>>>=0,Me>>>=0,this===ze)return 0;for(var ce=Me-ke,be=Ue-Oe,De=Math.min(ce,be),Ve=this.slice(ke,Me),it=ze.slice(Oe,Ue),ot=0;ot<De;++ot)if(Ve[ot]!==it[ot]){ce=Ve[ot],be=it[ot];break}return ce<be?-1:be<ce?1:0};function N(Je,ze,Oe,Ue,ke){if(Je.length===0)return-1;if(typeof Oe=="string"?(Ue=Oe,Oe=0):Oe>2147483647?Oe=2147483647:Oe<-2147483648&&(Oe=-2147483648),Oe=+Oe,gt(Oe)&&(Oe=ke?0:Je.length-1),Oe<0&&(Oe=Je.length+Oe),Oe>=Je.length){if(ke)return-1;Oe=Je.length-1}else if(Oe<0)if(ke)Oe=0;else return-1;if(typeof ze=="string"&&(ze=p.from(ze,Ue)),p.isBuffer(ze))return ze.length===0?-1:O(Je,ze,Oe,Ue,ke);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?ke?Uint8Array.prototype.indexOf.call(Je,ze,Oe):Uint8Array.prototype.lastIndexOf.call(Je,ze,Oe):O(Je,[ze],Oe,Ue,ke);throw new TypeError("val must be string, number or Buffer")}function O(Je,ze,Oe,Ue,ke){var Me=1,ce=Je.length,be=ze.length;if(Ue!==void 0&&(Ue=String(Ue).toLowerCase(),Ue==="ucs2"||Ue==="ucs-2"||Ue==="utf16le"||Ue==="utf-16le")){if(Je.length<2||ze.length<2)return-1;Me=2,ce/=2,be/=2,Oe/=2}function De(It,Ht){return Me===1?It[Ht]:It.readUInt16BE(Ht*Me)}var Ve;if(ke){var it=-1;for(Ve=Oe;Ve<ce;Ve++)if(De(Je,Ve)===De(ze,it===-1?0:Ve-it)){if(it===-1&&(it=Ve),Ve-it+1===be)return it*Me}else it!==-1&&(Ve-=Ve-it),it=-1}else for(Oe+be>ce&&(Oe=ce-be),Ve=Oe;Ve>=0;Ve--){for(var ot=!0,Tt=0;Tt<be;Tt++)if(De(Je,Ve+Tt)!==De(ze,Tt)){ot=!1;break}if(ot)return Ve}return-1}p.prototype.includes=function(ze,Oe,Ue){return this.indexOf(ze,Oe,Ue)!==-1},p.prototype.indexOf=function(ze,Oe,Ue){return N(this,ze,Oe,Ue,!0)},p.prototype.lastIndexOf=function(ze,Oe,Ue){return N(this,ze,Oe,Ue,!1)};function U(Je,ze,Oe,Ue){Oe=Number(Oe)||0;var ke=Je.length-Oe;Ue?(Ue=Number(Ue),Ue>ke&&(Ue=ke)):Ue=ke;var Me=ze.length;Ue>Me/2&&(Ue=Me/2);var ce;for(ce=0;ce<Ue;++ce){var be=parseInt(ze.substr(ce*2,2),16);if(gt(be))return ce;Je[Oe+ce]=be}return ce}function K(Je,ze,Oe,Ue){return ft(tt(ze,Je.length-Oe),Je,Oe,Ue)}function re(Je,ze,Oe,Ue){return ft(Ke(ze),Je,Oe,Ue)}function ae(Je,ze,Oe,Ue){return ft(rt(ze),Je,Oe,Ue)}function ue(Je,ze,Oe,Ue){return ft(qe(ze,Je.length-Oe),Je,Oe,Ue)}p.prototype.write=function(ze,Oe,Ue,ke){if(Oe===void 0)ke="utf8",Ue=this.length,Oe=0;else if(Ue===void 0&&typeof Oe=="string")ke=Oe,Ue=this.length,Oe=0;else if(isFinite(Oe))Oe=Oe>>>0,isFinite(Ue)?(Ue=Ue>>>0,ke===void 0&&(ke="utf8")):(ke=Ue,Ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Me=this.length-Oe;if((Ue===void 0||Ue>Me)&&(Ue=Me),ze.length>0&&(Ue<0||Oe<0)||Oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var ce=!1;;)switch(ke){case"hex":return U(this,ze,Oe,Ue);case"utf8":case"utf-8":return K(this,ze,Oe,Ue);case"ascii":case"latin1":case"binary":return re(this,ze,Oe,Ue);case"base64":return ae(this,ze,Oe,Ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,ze,Oe,Ue);default:if(ce)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),ce=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ve(Je,ze,Oe){return ze===0&&Oe===Je.length?o.fromByteArray(Je):o.fromByteArray(Je.slice(ze,Oe))}function ee(Je,ze,Oe){Oe=Math.min(Je.length,Oe);for(var Ue=[],ke=ze;ke<Oe;){var Me=Je[ke],ce=null,be=Me>239?4:Me>223?3:Me>191?2:1;if(ke+be<=Oe){var De=void 0,Ve=void 0,it=void 0,ot=void 0;switch(be){case 1:Me<128&&(ce=Me);break;case 2:De=Je[ke+1],(De&192)===128&&(ot=(Me&31)<<6|De&63,ot>127&&(ce=ot));break;case 3:De=Je[ke+1],Ve=Je[ke+2],(De&192)===128&&(Ve&192)===128&&(ot=(Me&15)<<12|(De&63)<<6|Ve&63,ot>2047&&(ot<55296||ot>57343)&&(ce=ot));break;case 4:De=Je[ke+1],Ve=Je[ke+2],it=Je[ke+3],(De&192)===128&&(Ve&192)===128&&(it&192)===128&&(ot=(Me&15)<<18|(De&63)<<12|(Ve&63)<<6|it&63,ot>65535&&ot<1114112&&(ce=ot))}}ce===null?(ce=65533,be=1):ce>65535&&(ce-=65536,Ue.push(ce>>>10&1023|55296),ce=56320|ce&1023),Ue.push(ce),ke+=be}return Q(Ue)}var J=4096;function Q(Je){var ze=Je.length;if(ze<=J)return String.fromCharCode.apply(String,Je);for(var Oe="",Ue=0;Ue<ze;)Oe+=String.fromCharCode.apply(String,Je.slice(Ue,Ue+=J));return Oe}function X(Je,ze,Oe){var Ue="";Oe=Math.min(Je.length,Oe);for(var ke=ze;ke<Oe;++ke)Ue+=String.fromCharCode(Je[ke]&127);return Ue}function q(Je,ze,Oe){var Ue="";Oe=Math.min(Je.length,Oe);for(var ke=ze;ke<Oe;++ke)Ue+=String.fromCharCode(Je[ke]);return Ue}function se(Je,ze,Oe){var Ue=Je.length;(!ze||ze<0)&&(ze=0),(!Oe||Oe<0||Oe>Ue)&&(Oe=Ue);for(var ke="",Me=ze;Me<Oe;++Me)ke+=Mt[Je[Me]];return ke}function Y(Je,ze,Oe){for(var Ue=Je.slice(ze,Oe),ke="",Me=0;Me<Ue.length-1;Me+=2)ke+=String.fromCharCode(Ue[Me]+Ue[Me+1]*256);return ke}p.prototype.slice=function(ze,Oe){var Ue=this.length;ze=~~ze,Oe=Oe===void 0?Ue:~~Oe,ze<0?(ze+=Ue,ze<0&&(ze=0)):ze>Ue&&(ze=Ue),Oe<0?(Oe+=Ue,Oe<0&&(Oe=0)):Oe>Ue&&(Oe=Ue),Oe<ze&&(Oe=ze);var ke=this.subarray(ze,Oe);return Object.setPrototypeOf(ke,p.prototype),ke};function Z(Je,ze,Oe){if(Je%1!==0||Je<0)throw new RangeError("offset is not uint");if(Je+ze>Oe)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(ze,Oe,Ue){ze=ze>>>0,Oe=Oe>>>0,Ue||Z(ze,Oe,this.length);for(var ke=this[ze],Me=1,ce=0;++ce<Oe&&(Me*=256);)ke+=this[ze+ce]*Me;return ke},p.prototype.readUintBE=p.prototype.readUIntBE=function(ze,Oe,Ue){ze=ze>>>0,Oe=Oe>>>0,Ue||Z(ze,Oe,this.length);for(var ke=this[ze+--Oe],Me=1;Oe>0&&(Me*=256);)ke+=this[ze+--Oe]*Me;return ke},p.prototype.readUint8=p.prototype.readUInt8=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,1,this.length),this[ze]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,2,this.length),this[ze]|this[ze+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,2,this.length),this[ze]<<8|this[ze+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},p.prototype.readBigUInt64LE=Lt(function(ze){ze=ze>>>0,Ne(ze,"offset");var Oe=this[ze],Ue=this[ze+7];(Oe===void 0||Ue===void 0)&&He(ze,this.length-8);var ke=Oe+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24),Me=this[++ze]+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+Ue*Math.pow(2,24);return BigInt(ke)+(BigInt(Me)<<BigInt(32))}),p.prototype.readBigUInt64BE=Lt(function(ze){ze=ze>>>0,Ne(ze,"offset");var Oe=this[ze],Ue=this[ze+7];(Oe===void 0||Ue===void 0)&&He(ze,this.length-8);var ke=Oe*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze],Me=this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Ue;return(BigInt(ke)<<BigInt(32))+BigInt(Me)}),p.prototype.readIntLE=function(ze,Oe,Ue){ze=ze>>>0,Oe=Oe>>>0,Ue||Z(ze,Oe,this.length);for(var ke=this[ze],Me=1,ce=0;++ce<Oe&&(Me*=256);)ke+=this[ze+ce]*Me;return Me*=128,ke>=Me&&(ke-=Math.pow(2,8*Oe)),ke},p.prototype.readIntBE=function(ze,Oe,Ue){ze=ze>>>0,Oe=Oe>>>0,Ue||Z(ze,Oe,this.length);for(var ke=Oe,Me=1,ce=this[ze+--ke];ke>0&&(Me*=256);)ce+=this[ze+--ke]*Me;return Me*=128,ce>=Me&&(ce-=Math.pow(2,8*Oe)),ce},p.prototype.readInt8=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},p.prototype.readInt16LE=function(ze,Oe){ze=ze>>>0,Oe||Z(ze,2,this.length);var Ue=this[ze]|this[ze+1]<<8;return Ue&32768?Ue|4294901760:Ue},p.prototype.readInt16BE=function(ze,Oe){ze=ze>>>0,Oe||Z(ze,2,this.length);var Ue=this[ze+1]|this[ze]<<8;return Ue&32768?Ue|4294901760:Ue},p.prototype.readInt32LE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},p.prototype.readInt32BE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},p.prototype.readBigInt64LE=Lt(function(ze){ze=ze>>>0,Ne(ze,"offset");var Oe=this[ze],Ue=this[ze+7];(Oe===void 0||Ue===void 0)&&He(ze,this.length-8);var ke=this[ze+4]+this[ze+5]*Math.pow(2,8)+this[ze+6]*Math.pow(2,16)+(Ue<<24);return(BigInt(ke)<<BigInt(32))+BigInt(Oe+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24))}),p.prototype.readBigInt64BE=Lt(function(ze){ze=ze>>>0,Ne(ze,"offset");var Oe=this[ze],Ue=this[ze+7];(Oe===void 0||Ue===void 0)&&He(ze,this.length-8);var ke=(Oe<<24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze];return(BigInt(ke)<<BigInt(32))+BigInt(this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Ue)}),p.prototype.readFloatLE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,4,this.length),m.read(this,ze,!0,23,4)},p.prototype.readFloatBE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,4,this.length),m.read(this,ze,!1,23,4)},p.prototype.readDoubleLE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,8,this.length),m.read(this,ze,!0,52,8)},p.prototype.readDoubleBE=function(ze,Oe){return ze=ze>>>0,Oe||Z(ze,8,this.length),m.read(this,ze,!1,52,8)};function ie(Je,ze,Oe,Ue,ke,Me){if(!p.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>ke||ze<Me)throw new RangeError('"value" argument is out of bounds');if(Oe+Ue>Je.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(ze,Oe,Ue,ke){if(ze=+ze,Oe=Oe>>>0,Ue=Ue>>>0,!ke){var Me=Math.pow(2,8*Ue)-1;ie(this,ze,Oe,Ue,Me,0)}var ce=1,be=0;for(this[Oe]=ze&255;++be<Ue&&(ce*=256);)this[Oe+be]=ze/ce&255;return Oe+Ue},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(ze,Oe,Ue,ke){if(ze=+ze,Oe=Oe>>>0,Ue=Ue>>>0,!ke){var Me=Math.pow(2,8*Ue)-1;ie(this,ze,Oe,Ue,Me,0)}var ce=Ue-1,be=1;for(this[Oe+ce]=ze&255;--ce>=0&&(be*=256);)this[Oe+ce]=ze/be&255;return Oe+Ue},p.prototype.writeUint8=p.prototype.writeUInt8=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,1,255,0),this[Oe]=ze&255,Oe+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,2,65535,0),this[Oe]=ze&255,this[Oe+1]=ze>>>8,Oe+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,2,65535,0),this[Oe]=ze>>>8,this[Oe+1]=ze&255,Oe+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,4,4294967295,0),this[Oe+3]=ze>>>24,this[Oe+2]=ze>>>16,this[Oe+1]=ze>>>8,this[Oe]=ze&255,Oe+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,4,4294967295,0),this[Oe]=ze>>>24,this[Oe+1]=ze>>>16,this[Oe+2]=ze>>>8,this[Oe+3]=ze&255,Oe+4};function te(Je,ze,Oe,Ue,ke){Ee(ze,Ue,ke,Je,Oe,7);var Me=Number(ze&BigInt(4294967295));Je[Oe++]=Me,Me=Me>>8,Je[Oe++]=Me,Me=Me>>8,Je[Oe++]=Me,Me=Me>>8,Je[Oe++]=Me;var ce=Number(ze>>BigInt(32)&BigInt(4294967295));return Je[Oe++]=ce,ce=ce>>8,Je[Oe++]=ce,ce=ce>>8,Je[Oe++]=ce,ce=ce>>8,Je[Oe++]=ce,Oe}function fe(Je,ze,Oe,Ue,ke){Ee(ze,Ue,ke,Je,Oe,7);var Me=Number(ze&BigInt(4294967295));Je[Oe+7]=Me,Me=Me>>8,Je[Oe+6]=Me,Me=Me>>8,Je[Oe+5]=Me,Me=Me>>8,Je[Oe+4]=Me;var ce=Number(ze>>BigInt(32)&BigInt(4294967295));return Je[Oe+3]=ce,ce=ce>>8,Je[Oe+2]=ce,ce=ce>>8,Je[Oe+1]=ce,ce=ce>>8,Je[Oe]=ce,Oe+8}p.prototype.writeBigUInt64LE=Lt(function(ze){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,ze,Oe,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Lt(function(ze){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fe(this,ze,Oe,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(ze,Oe,Ue,ke){if(ze=+ze,Oe=Oe>>>0,!ke){var Me=Math.pow(2,8*Ue-1);ie(this,ze,Oe,Ue,Me-1,-Me)}var ce=0,be=1,De=0;for(this[Oe]=ze&255;++ce<Ue&&(be*=256);)ze<0&&De===0&&this[Oe+ce-1]!==0&&(De=1),this[Oe+ce]=(ze/be>>0)-De&255;return Oe+Ue},p.prototype.writeIntBE=function(ze,Oe,Ue,ke){if(ze=+ze,Oe=Oe>>>0,!ke){var Me=Math.pow(2,8*Ue-1);ie(this,ze,Oe,Ue,Me-1,-Me)}var ce=Ue-1,be=1,De=0;for(this[Oe+ce]=ze&255;--ce>=0&&(be*=256);)ze<0&&De===0&&this[Oe+ce+1]!==0&&(De=1),this[Oe+ce]=(ze/be>>0)-De&255;return Oe+Ue},p.prototype.writeInt8=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,1,127,-128),ze<0&&(ze=255+ze+1),this[Oe]=ze&255,Oe+1},p.prototype.writeInt16LE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,2,32767,-32768),this[Oe]=ze&255,this[Oe+1]=ze>>>8,Oe+2},p.prototype.writeInt16BE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,2,32767,-32768),this[Oe]=ze>>>8,this[Oe+1]=ze&255,Oe+2},p.prototype.writeInt32LE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,4,2147483647,-2147483648),this[Oe]=ze&255,this[Oe+1]=ze>>>8,this[Oe+2]=ze>>>16,this[Oe+3]=ze>>>24,Oe+4},p.prototype.writeInt32BE=function(ze,Oe,Ue){return ze=+ze,Oe=Oe>>>0,Ue||ie(this,ze,Oe,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[Oe]=ze>>>24,this[Oe+1]=ze>>>16,this[Oe+2]=ze>>>8,this[Oe+3]=ze&255,Oe+4},p.prototype.writeBigInt64LE=Lt(function(ze){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,ze,Oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Lt(function(ze){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fe(this,ze,Oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(Je,ze,Oe,Ue,ke,Me){if(Oe+Ue>Je.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("Index out of range")}function we(Je,ze,Oe,Ue,ke){return ze=+ze,Oe=Oe>>>0,ke||de(Je,ze,Oe,4),m.write(Je,ze,Oe,Ue,23,4),Oe+4}p.prototype.writeFloatLE=function(ze,Oe,Ue){return we(this,ze,Oe,!0,Ue)},p.prototype.writeFloatBE=function(ze,Oe,Ue){return we(this,ze,Oe,!1,Ue)};function Ae(Je,ze,Oe,Ue,ke){return ze=+ze,Oe=Oe>>>0,ke||de(Je,ze,Oe,8),m.write(Je,ze,Oe,Ue,52,8),Oe+8}p.prototype.writeDoubleLE=function(ze,Oe,Ue){return Ae(this,ze,Oe,!0,Ue)},p.prototype.writeDoubleBE=function(ze,Oe,Ue){return Ae(this,ze,Oe,!1,Ue)},p.prototype.copy=function(ze,Oe,Ue,ke){if(!p.isBuffer(ze))throw new TypeError("argument should be a Buffer");if(Ue||(Ue=0),!ke&&ke!==0&&(ke=this.length),Oe>=ze.length&&(Oe=ze.length),Oe||(Oe=0),ke>0&&ke<Ue&&(ke=Ue),ke===Ue||ze.length===0||this.length===0)return 0;if(Oe<0)throw new RangeError("targetStart out of bounds");if(Ue<0||Ue>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),ze.length-Oe<ke-Ue&&(ke=ze.length-Oe+Ue);var Me=ke-Ue;return this===ze&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Oe,Ue,ke):Uint8Array.prototype.set.call(ze,this.subarray(Ue,ke),Oe),Me},p.prototype.fill=function(ze,Oe,Ue,ke){if(typeof ze=="string"){if(typeof Oe=="string"?(ke=Oe,Oe=0,Ue=this.length):typeof Ue=="string"&&(ke=Ue,Ue=this.length),ke!==void 0&&typeof ke!="string")throw new TypeError("encoding must be a string");if(typeof ke=="string"&&!p.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(ze.length===1){var Me=ze.charCodeAt(0);(ke==="utf8"&&Me<128||ke==="latin1")&&(ze=Me)}}else typeof ze=="number"?ze=ze&255:typeof ze=="boolean"&&(ze=Number(ze));if(Oe<0||this.length<Oe||this.length<Ue)throw new RangeError("Out of range index");if(Ue<=Oe)return this;Oe=Oe>>>0,Ue=Ue===void 0?this.length:Ue>>>0,ze||(ze=0);var ce;if(typeof ze=="number")for(ce=Oe;ce<Ue;++ce)this[ce]=ze;else{var be=p.isBuffer(ze)?ze:p.from(ze,ke),De=be.length;if(De===0)throw new TypeError('The value "'+ze+'" is invalid for argument "value"');for(ce=0;ce<Ue-Oe;++ce)this[ce+Oe]=be[ce%De]}return this};var Re={};function Fe(Je,ze,Oe){Re[Je]=function(Ue){h(Me,Ue);var ke=t(Me);function Me(){var ce;return y(this,Me),ce=ke.call(this),Object.defineProperty(u(ce),"message",{value:ze.apply(u(ce),arguments),writable:!0,configurable:!0}),ce.name="".concat(ce.name," [").concat(Je,"]"),ce.stack,delete ce.name,ce}return a(Me,[{key:"code",get:function(){return Je},set:function(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),Me}(Oe)}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(Je,ze){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(s(ze))},TypeError),Fe("ERR_OUT_OF_RANGE",function(Je,ze,Oe){var Ue='The value of "'.concat(Je,'" is out of range.'),ke=Oe;return Number.isInteger(Oe)&&Math.abs(Oe)>Math.pow(2,32)?ke=Se(String(Oe)):typeof Oe=="bigint"&&(ke=String(Oe),(Oe>Math.pow(BigInt(2),BigInt(32))||Oe<-Math.pow(BigInt(2),BigInt(32)))&&(ke=Se(ke)),ke+="n"),Ue+=" It must be ".concat(ze,". Received ").concat(ke),Ue},RangeError);function Se(Je){for(var ze="",Oe=Je.length,Ue=Je[0]==="-"?1:0;Oe>=Ue+4;Oe-=3)ze="_".concat(Je.slice(Oe-3,Oe)).concat(ze);return"".concat(Je.slice(0,Oe)).concat(ze)}function Te(Je,ze,Oe){Ne(ze,"offset"),(Je[ze]===void 0||Je[ze+Oe]===void 0)&&He(ze,Je.length-(Oe+1))}function Ee(Je,ze,Oe,Ue,ke,Me){if(Je>Oe||Je<ze){var ce=typeof ze=="bigint"?"n":"",be;throw Me>3?ze===0||ze===BigInt(0)?be=">= 0".concat(ce," and < 2").concat(ce," ** ").concat((Me+1)*8).concat(ce):be=">= -(2".concat(ce," ** ").concat((Me+1)*8-1).concat(ce,") and < 2 ** ")+"".concat((Me+1)*8-1).concat(ce):be=">= ".concat(ze).concat(ce," and <= ").concat(Oe).concat(ce),new Re.ERR_OUT_OF_RANGE("value",be,Je)}Te(Ue,ke,Me)}function Ne(Je,ze){if(typeof Je!="number")throw new Re.ERR_INVALID_ARG_TYPE(ze,"number",Je)}function He(Je,ze,Oe){throw Math.floor(Je)!==Je?(Ne(Je,Oe),new Re.ERR_OUT_OF_RANGE(Oe||"offset","an integer",Je)):ze<0?new Re.ERR_BUFFER_OUT_OF_BOUNDS:new Re.ERR_OUT_OF_RANGE(Oe||"offset",">= ".concat(Oe?1:0," and <= ").concat(ze),Je)}var _e=/[^+/0-9A-Za-z-_]/g;function We(Je){if(Je=Je.split("=")[0],Je=Je.trim().replace(_e,""),Je.length<2)return"";for(;Je.length%4!==0;)Je=Je+"=";return Je}function tt(Je,ze){ze=ze||1/0;for(var Oe,Ue=Je.length,ke=null,Me=[],ce=0;ce<Ue;++ce){if(Oe=Je.charCodeAt(ce),Oe>55295&&Oe<57344){if(!ke){if(Oe>56319){(ze-=3)>-1&&Me.push(239,191,189);continue}else if(ce+1===Ue){(ze-=3)>-1&&Me.push(239,191,189);continue}ke=Oe;continue}if(Oe<56320){(ze-=3)>-1&&Me.push(239,191,189),ke=Oe;continue}Oe=(ke-55296<<10|Oe-56320)+65536}else ke&&(ze-=3)>-1&&Me.push(239,191,189);if(ke=null,Oe<128){if((ze-=1)<0)break;Me.push(Oe)}else if(Oe<2048){if((ze-=2)<0)break;Me.push(Oe>>6|192,Oe&63|128)}else if(Oe<65536){if((ze-=3)<0)break;Me.push(Oe>>12|224,Oe>>6&63|128,Oe&63|128)}else if(Oe<1114112){if((ze-=4)<0)break;Me.push(Oe>>18|240,Oe>>12&63|128,Oe>>6&63|128,Oe&63|128)}else throw new Error("Invalid code point")}return Me}function Ke(Je){for(var ze=[],Oe=0;Oe<Je.length;++Oe)ze.push(Je.charCodeAt(Oe)&255);return ze}function qe(Je,ze){for(var Oe,Ue,ke,Me=[],ce=0;ce<Je.length&&!((ze-=2)<0);++ce)Oe=Je.charCodeAt(ce),Ue=Oe>>8,ke=Oe%256,Me.push(ke),Me.push(Ue);return Me}function rt(Je){return o.toByteArray(We(Je))}function ft(Je,ze,Oe,Ue){var ke;for(ke=0;ke<Ue&&!(ke+Oe>=ze.length||ke>=Je.length);++ke)ze[ke+Oe]=Je[ke];return ke}function pt(Je,ze){return Je instanceof ze||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===ze.name}function gt(Je){return Je!==Je}var Mt=function(){for(var Je="0123456789abcdef",ze=new Array(256),Oe=0;Oe<16;++Oe)for(var Ue=Oe*16,ke=0;ke<16;++ke)ze[Ue+ke]=Je[Oe]+Je[ke];return ze}();function Lt(Je){return typeof BigInt>"u"?Wt:Je}function Wt(){throw new Error("BigInt not supported")}},35791:function(W){W.exports=C,W.exports.isMobile=C,W.exports.default=C;var V=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,y=/android|ipad|playbook|silk/i;function C(a){a||(a={});var L=a.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var x=V.test(L)&&!e.test(L)||!!a.tablet&&y.test(L);return!x&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(x=!0),x}},86781:function(W,V,e){e.r(V),e.d(V,{sankeyCenter:function(){return u},sankeyCircular:function(){return P},sankeyJustify:function(){return r},sankeyLeft:function(){return d},sankeyRight:function(){return t}});var y=e(33064),C=e(15140),a=e(45879),L=e(2502),x=e.n(L);function h(Ae){return Ae.target.depth}function d(Ae){return Ae.depth}function t(Ae,Re){return Re-1-Ae.height}function r(Ae,Re){return Ae.sourceLinks.length?Ae.depth:Re-1}function u(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,y.VV)(Ae.sourceLinks,h)-1:0}function n(Ae){return function(){return Ae}}var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function s(Ae,Re){return m(Ae.source,Re.source)||Ae.index-Re.index}function o(Ae,Re){return m(Ae.target,Re.target)||Ae.index-Re.index}function m(Ae,Re){return Ae.partOfCycle===Re.partOfCycle?Ae.y0-Re.y0:Ae.circularLinkType==="top"||Re.circularLinkType==="bottom"?-1:1}function c(Ae){return Ae.value}function b(Ae){return(Ae.y0+Ae.y1)/2}function v(Ae){return b(Ae.source)}function l(Ae){return b(Ae.target)}function p(Ae){return Ae.index}function S(Ae){return Ae.nodes}function M(Ae){return Ae.links}function R(Ae,Re){var Fe=Ae.get(Re);if(!Fe)throw new Error("missing: "+Re);return Fe}function T(Ae,Re){return Re(Ae)}var E=25,A=10,f=.3;function P(){var Ae=0,Re=0,Fe=1,Se=1,Te=24,Ee,Ne=p,He=r,_e=S,We=M,tt=32,Ke=2,qe,rt=null;function ft(){var Oe={nodes:_e.apply(null,arguments),links:We.apply(null,arguments)};pt(Oe),w(Oe,Ne,rt),gt(Oe),Wt(Oe),z(Oe,Ne),Je(Oe,tt,Ne),ze(Oe);for(var Ue=4,ke=0;ke<Ue;ke++)Z(Oe,Se,Ne),ie(Oe,Se,Ne),q(Oe,Re,Se,Ne),Z(Oe,Se,Ne),ie(Oe,Se,Ne);return we(Oe,Re,Se),O(Oe,Ke,Se,Ne),Oe}ft.nodeId=function(Oe){return arguments.length?(Ne=typeof Oe=="function"?Oe:n(Oe),ft):Ne},ft.nodeAlign=function(Oe){return arguments.length?(He=typeof Oe=="function"?Oe:n(Oe),ft):He},ft.nodeWidth=function(Oe){return arguments.length?(Te=+Oe,ft):Te},ft.nodePadding=function(Oe){return arguments.length?(Ee=+Oe,ft):Ee},ft.nodes=function(Oe){return arguments.length?(_e=typeof Oe=="function"?Oe:n(Oe),ft):_e},ft.links=function(Oe){return arguments.length?(We=typeof Oe=="function"?Oe:n(Oe),ft):We},ft.size=function(Oe){return arguments.length?(Ae=Re=0,Fe=+Oe[0],Se=+Oe[1],ft):[Fe-Ae,Se-Re]},ft.extent=function(Oe){return arguments.length?(Ae=+Oe[0][0],Fe=+Oe[1][0],Re=+Oe[0][1],Se=+Oe[1][1],ft):[[Ae,Re],[Fe,Se]]},ft.iterations=function(Oe){return arguments.length?(tt=+Oe,ft):tt},ft.circularLinkGap=function(Oe){return arguments.length?(Ke=+Oe,ft):Ke},ft.nodePaddingRatio=function(Oe){return arguments.length?(qe=+Oe,ft):qe},ft.sortNodes=function(Oe){return arguments.length?(rt=Oe,ft):rt},ft.update=function(Oe){return z(Oe,Ne),ze(Oe),Oe.links.forEach(function(Ue){Ue.circular&&(Ue.circularLinkType=Ue.y0+Ue.y1<Se?"top":"bottom",Ue.source.circularLinkType=Ue.circularLinkType,Ue.target.circularLinkType=Ue.circularLinkType)}),Z(Oe,Se,Ne,!1),ie(Oe,Se,Ne),O(Oe,Ke,Se,Ne),Oe};function pt(Oe){Oe.nodes.forEach(function(ke,Me){ke.index=Me,ke.sourceLinks=[],ke.targetLinks=[]});var Ue=(0,C.UI)(Oe.nodes,Ne);return Oe.links.forEach(function(ke,Me){ke.index=Me;var ce=ke.source,be=ke.target;(typeof ce>"u"?"undefined":i(ce))!=="object"&&(ce=ke.source=R(Ue,ce)),(typeof be>"u"?"undefined":i(be))!=="object"&&(be=ke.target=R(Ue,be)),ce.sourceLinks.push(ke),be.targetLinks.push(ke)}),Oe}function gt(Oe){Oe.nodes.forEach(function(Ue){Ue.partOfCycle=!1,Ue.value=Math.max((0,y.Sm)(Ue.sourceLinks,c),(0,y.Sm)(Ue.targetLinks,c)),Ue.sourceLinks.forEach(function(ke){ke.circular&&(Ue.partOfCycle=!0,Ue.circularLinkType=ke.circularLinkType)}),Ue.targetLinks.forEach(function(ke){ke.circular&&(Ue.partOfCycle=!0,Ue.circularLinkType=ke.circularLinkType)})})}function Mt(Oe){var Ue=0,ke=0,Me=0,ce=0,be=(0,y.Fp)(Oe.nodes,function(De){return De.column});return Oe.links.forEach(function(De){De.circular&&(De.circularLinkType=="top"?Ue=Ue+De.width:ke=ke+De.width,De.target.column==0&&(ce=ce+De.width),De.source.column==be&&(Me=Me+De.width))}),Ue=Ue>0?Ue+E+A:Ue,ke=ke>0?ke+E+A:ke,Me=Me>0?Me+E+A:Me,ce=ce>0?ce+E+A:ce,{top:Ue,bottom:ke,left:ce,right:Me}}function Lt(Oe,Ue){var ke=(0,y.Fp)(Oe.nodes,function(ot){return ot.column}),Me=Fe-Ae,ce=Se-Re,be=Me+Ue.right+Ue.left,De=ce+Ue.top+Ue.bottom,Ve=Me/be,it=ce/De;return Ae=Ae*Ve+Ue.left,Fe=Ue.right==0?Fe:Fe*Ve,Re=Re*it+Ue.top,Se=Se*it,Oe.nodes.forEach(function(ot){ot.x0=Ae+ot.column*((Fe-Ae-Te)/ke),ot.x1=ot.x0+Te}),it}function Wt(Oe){var Ue,ke,Me;for(Ue=Oe.nodes,ke=[],Me=0;Ue.length;++Me,Ue=ke,ke=[])Ue.forEach(function(ce){ce.depth=Me,ce.sourceLinks.forEach(function(be){ke.indexOf(be.target)<0&&!be.circular&&ke.push(be.target)})});for(Ue=Oe.nodes,ke=[],Me=0;Ue.length;++Me,Ue=ke,ke=[])Ue.forEach(function(ce){ce.height=Me,ce.targetLinks.forEach(function(be){ke.indexOf(be.source)<0&&!be.circular&&ke.push(be.source)})});Oe.nodes.forEach(function(ce){ce.column=Math.floor(He.call(null,ce,Me))})}function Je(Oe,Ue,ke){var Me=(0,C.b1)().key(function(ot){return ot.column}).sortKeys(y.j2).entries(Oe.nodes).map(function(ot){return ot.values});De(ke),it();for(var ce=1,be=Ue;be>0;--be)Ve(ce*=.99,ke),it();function De(ot){if(qe){var Tt=1/0;Me.forEach(function(Pt){var Jt=Se*qe/(Pt.length+1);Tt=Jt<Tt?Jt:Tt}),Ee=Tt}var It=(0,y.VV)(Me,function(Pt){return(Se-Re-(Pt.length-1)*Ee)/(0,y.Sm)(Pt,c)});It=It*f,Oe.links.forEach(function(Pt){Pt.width=Pt.value*It});var Ht=Mt(Oe),Gt=Lt(Oe,Ht);It=It*Gt,Oe.links.forEach(function(Pt){Pt.width=Pt.value*It}),Me.forEach(function(Pt){var Jt=Pt.length;Pt.forEach(function(or,zr){or.depth==Me.length-1&&Jt==1||or.depth==0&&Jt==1?(or.y0=Se/2-or.value*It,or.y1=or.y0+or.value*It):or.partOfCycle?_(or,ot)==0?(or.y0=Se/2+zr,or.y1=or.y0+or.value*It):or.circularLinkType=="top"?(or.y0=Re+zr,or.y1=or.y0+or.value*It):(or.y0=Se-or.value*It-zr,or.y1=or.y0+or.value*It):Ht.top==0||Ht.bottom==0?(or.y0=(Se-Re)/Jt*zr,or.y1=or.y0+or.value*It):(or.y0=(Se-Re)/2-Jt/2+zr,or.y1=or.y0+or.value*It)})})}function Ve(ot,Tt){var It=Me.length;Me.forEach(function(Ht){var Gt=Ht.length,Pt=Ht[0].depth;Ht.forEach(function(Jt){var or;if((Jt.sourceLinks.length||Jt.targetLinks.length)&&!(Jt.partOfCycle&&_(Jt,Tt)>0))if(Pt==0&&Gt==1)or=Jt.y1-Jt.y0,Jt.y0=Se/2-or/2,Jt.y1=Se/2+or/2;else if(Pt==It-1&&Gt==1)or=Jt.y1-Jt.y0,Jt.y0=Se/2-or/2,Jt.y1=Se/2+or/2;else{var zr=0,mt=(0,y.J6)(Jt.sourceLinks,l),Kt=(0,y.J6)(Jt.targetLinks,v);mt&&Kt?zr=(mt+Kt)/2:zr=mt||Kt;var jt=(zr-b(Jt))*ot;Jt.y0+=jt,Jt.y1+=jt}})})}function it(){Me.forEach(function(ot){var Tt,It,Ht=Re,Gt=ot.length,Pt;for(ot.sort(m),Pt=0;Pt<Gt;++Pt)Tt=ot[Pt],It=Ht-Tt.y0,It>0&&(Tt.y0+=It,Tt.y1+=It),Ht=Tt.y1+Ee;if(It=Ht-Ee-Se,It>0)for(Ht=Tt.y0-=It,Tt.y1-=It,Pt=Gt-2;Pt>=0;--Pt)Tt=ot[Pt],It=Tt.y1+Ee-Ht,It>0&&(Tt.y0-=It,Tt.y1-=It),Ht=Tt.y0})}}function ze(Oe){Oe.nodes.forEach(function(Ue){Ue.sourceLinks.sort(o),Ue.targetLinks.sort(s)}),Oe.nodes.forEach(function(Ue){var ke=Ue.y0,Me=ke,ce=Ue.y1,be=ce;Ue.sourceLinks.forEach(function(De){De.circular?(De.y0=ce-De.width/2,ce=ce-De.width):(De.y0=ke+De.width/2,ke+=De.width)}),Ue.targetLinks.forEach(function(De){De.circular?(De.y1=be-De.width/2,be=be-De.width):(De.y1=Me+De.width/2,Me+=De.width)})})}return ft}function w(Ae,Re,Fe){var Se=0;if(Fe===null){for(var Te=[],Ee=0;Ee<Ae.links.length;Ee++){var Ne=Ae.links[Ee],He=Ne.source.index,_e=Ne.target.index;Te[He]||(Te[He]=[]),Te[_e]||(Te[_e]=[]),Te[He].indexOf(_e)===-1&&Te[He].push(_e)}var We=x()(Te);We.sort(function(rt,ft){return rt.length-ft.length});var tt={};for(Ee=0;Ee<We.length;Ee++){var Ke=We[Ee],qe=Ke.slice(-2);tt[qe[0]]||(tt[qe[0]]={}),tt[qe[0]][qe[1]]=!0}Ae.links.forEach(function(rt){var ft=rt.target.index,pt=rt.source.index;ft===pt||tt[pt]&&tt[pt][ft]?(rt.circular=!0,rt.circularLinkID=Se,Se=Se+1):rt.circular=!1})}else Ae.links.forEach(function(rt){rt.source[Fe]<rt.target[Fe]?rt.circular=!1:(rt.circular=!0,rt.circularLinkID=Se,Se=Se+1)})}function z(Ae,Re){var Fe=0,Se=0;Ae.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType||Te.target.circularLinkType?Te.circularLinkType=Te.source.circularLinkType?Te.source.circularLinkType:Te.target.circularLinkType:Te.circularLinkType=Fe<Se?"top":"bottom",Te.circularLinkType=="top"?Fe=Fe+1:Se=Se+1,Ae.nodes.forEach(function(Ee){(T(Ee,Re)==T(Te.source,Re)||T(Ee,Re)==T(Te.target,Re))&&(Ee.circularLinkType=Te.circularLinkType)}))}),Ae.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType==Te.target.circularLinkType&&(Te.circularLinkType=Te.source.circularLinkType),de(Te,Re)&&(Te.circularLinkType=Te.source.circularLinkType))})}function F(Ae){var Re=Math.abs(Ae.y1-Ae.y0),Fe=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(Fe/Re)}function H(Ae,Re){return Ae.source.column<Re.target.column?!1:!(Ae.target.column>Re.source.column)}function _(Ae,Re){var Fe=0;Ae.sourceLinks.forEach(function(Te){Fe=Te.circular&&!de(Te,Re)?Fe+1:Fe});var Se=0;return Ae.targetLinks.forEach(function(Te){Se=Te.circular&&!de(Te,Re)?Se+1:Se}),Fe+Se}function B(Ae){var Re=Ae.source.sourceLinks,Fe=0;Re.forEach(function(Ee){Fe=Ee.circular?Fe+1:Fe});var Se=Ae.target.targetLinks,Te=0;return Se.forEach(function(Ee){Te=Ee.circular?Te+1:Te}),!(Fe>1||Te>1)}function N(Ae,Re,Fe){return Ae.sort(K),Ae.forEach(function(Se,Te){var Ee=0;if(de(Se,Fe)&&B(Se))Se.circularPathData.verticalBuffer=Ee+Se.width/2;else{var Ne=0;for(Ne;Ne<Te;Ne++)if(H(Ae[Te],Ae[Ne])){var He=Ae[Ne].circularPathData.verticalBuffer+Ae[Ne].width/2+Re;Ee=He>Ee?He:Ee}Se.circularPathData.verticalBuffer=Ee+Se.width/2}}),Ae}function O(Ae,Re,Fe,Se){var Te=5,Ee=(0,y.VV)(Ae.links,function(_e){return _e.source.y0});Ae.links.forEach(function(_e){_e.circular&&(_e.circularPathData={})});var Ne=Ae.links.filter(function(_e){return _e.circularLinkType=="top"});N(Ne,Re,Se);var He=Ae.links.filter(function(_e){return _e.circularLinkType=="bottom"});N(He,Re,Se),Ae.links.forEach(function(_e){if(_e.circular){if(_e.circularPathData.arcRadius=_e.width+A,_e.circularPathData.leftNodeBuffer=Te,_e.circularPathData.rightNodeBuffer=Te,_e.circularPathData.sourceWidth=_e.source.x1-_e.source.x0,_e.circularPathData.sourceX=_e.source.x0+_e.circularPathData.sourceWidth,_e.circularPathData.targetX=_e.target.x0,_e.circularPathData.sourceY=_e.y0,_e.circularPathData.targetY=_e.y1,de(_e,Se)&&B(_e))_e.circularPathData.leftSmallArcRadius=A+_e.width/2,_e.circularPathData.leftLargeArcRadius=A+_e.width/2,_e.circularPathData.rightSmallArcRadius=A+_e.width/2,_e.circularPathData.rightLargeArcRadius=A+_e.width/2,_e.circularLinkType=="bottom"?(_e.circularPathData.verticalFullExtent=_e.source.y1+E+_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.rightLargeArcRadius):(_e.circularPathData.verticalFullExtent=_e.source.y0-E-_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.rightLargeArcRadius);else{var We=_e.source.column,tt=_e.circularLinkType,Ke=Ae.links.filter(function(ft){return ft.source.column==We&&ft.circularLinkType==tt});_e.circularLinkType=="bottom"?Ke.sort(ae):Ke.sort(re);var qe=0;Ke.forEach(function(ft,pt){ft.circularLinkID==_e.circularLinkID&&(_e.circularPathData.leftSmallArcRadius=A+_e.width/2+qe,_e.circularPathData.leftLargeArcRadius=A+_e.width/2+pt*Re+qe),qe=qe+ft.width}),We=_e.target.column,Ke=Ae.links.filter(function(ft){return ft.target.column==We&&ft.circularLinkType==tt}),_e.circularLinkType=="bottom"?Ke.sort(ve):Ke.sort(ue),qe=0,Ke.forEach(function(ft,pt){ft.circularLinkID==_e.circularLinkID&&(_e.circularPathData.rightSmallArcRadius=A+_e.width/2+qe,_e.circularPathData.rightLargeArcRadius=A+_e.width/2+pt*Re+qe),qe=qe+ft.width}),_e.circularLinkType=="bottom"?(_e.circularPathData.verticalFullExtent=Math.max(Fe,_e.source.y1,_e.target.y1)+E+_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.rightLargeArcRadius):(_e.circularPathData.verticalFullExtent=Ee-E-_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.rightLargeArcRadius)}_e.circularPathData.leftInnerExtent=_e.circularPathData.sourceX+_e.circularPathData.leftNodeBuffer,_e.circularPathData.rightInnerExtent=_e.circularPathData.targetX-_e.circularPathData.rightNodeBuffer,_e.circularPathData.leftFullExtent=_e.circularPathData.sourceX+_e.circularPathData.leftLargeArcRadius+_e.circularPathData.leftNodeBuffer,_e.circularPathData.rightFullExtent=_e.circularPathData.targetX-_e.circularPathData.rightLargeArcRadius-_e.circularPathData.rightNodeBuffer}if(_e.circular)_e.path=U(_e);else{var rt=(0,a.h5)().source(function(ft){var pt=ft.source.x0+(ft.source.x1-ft.source.x0),gt=ft.y0;return[pt,gt]}).target(function(ft){var pt=ft.target.x0,gt=ft.y1;return[pt,gt]});_e.path=rt(_e)}})}function U(Ae){var Re="";return Ae.circularLinkType=="top"?Re="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:Re="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,Re}function K(Ae,Re){return ee(Ae)==ee(Re)?Ae.circularLinkType=="bottom"?ae(Ae,Re):re(Ae,Re):ee(Re)-ee(Ae)}function re(Ae,Re){return Ae.y0-Re.y0}function ae(Ae,Re){return Re.y0-Ae.y0}function ue(Ae,Re){return Ae.y1-Re.y1}function ve(Ae,Re){return Re.y1-Ae.y1}function ee(Ae){return Ae.target.column-Ae.source.column}function J(Ae){return Ae.target.x0-Ae.source.x1}function Q(Ae,Re){var Fe=F(Ae),Se=J(Re)/Math.tan(Fe),Te=fe(Ae)=="up"?Ae.y1+Se:Ae.y1-Se;return Te}function X(Ae,Re){var Fe=F(Ae),Se=J(Re)/Math.tan(Fe),Te=fe(Ae)=="up"?Ae.y1-Se:Ae.y1+Se;return Te}function q(Ae,Re,Fe,Se){Ae.links.forEach(function(Te){if(!Te.circular&&Te.target.column-Te.source.column>1){var Ee=Te.source.column+1,Ne=Te.target.column-1,He=1,_e=Ne-Ee+1;for(He=1;Ee<=Ne;Ee++,He++)Ae.nodes.forEach(function(We){if(We.column==Ee){var tt=He/(_e+1),Ke=Math.pow(1-tt,3),qe=3*tt*Math.pow(1-tt,2),rt=3*Math.pow(tt,2)*(1-tt),ft=Math.pow(tt,3),pt=Ke*Te.y0+qe*Te.y0+rt*Te.y1+ft*Te.y1,gt=pt-Te.width/2,Mt=pt+Te.width/2,Lt;gt>We.y0&&gt<We.y1?(Lt=We.y1-gt+10,Lt=We.circularLinkType=="bottom"?Lt:-Lt,We=Y(We,Lt,Re,Fe),Ae.nodes.forEach(function(Wt){T(Wt,Se)==T(We,Se)||Wt.column!=We.column||se(We,Wt)&&Y(Wt,Lt,Re,Fe)})):Mt>We.y0&&Mt<We.y1?(Lt=Mt-We.y0+10,We=Y(We,Lt,Re,Fe),Ae.nodes.forEach(function(Wt){T(Wt,Se)==T(We,Se)||Wt.column!=We.column||Wt.y0<We.y1&&Wt.y1>We.y1&&Y(Wt,Lt,Re,Fe)})):gt<We.y0&&Mt>We.y1&&(Lt=Mt-We.y0+10,We=Y(We,Lt,Re,Fe),Ae.nodes.forEach(function(Wt){T(Wt,Se)==T(We,Se)||Wt.column!=We.column||Wt.y0<We.y1&&Wt.y1>We.y1&&Y(Wt,Lt,Re,Fe)}))}})}})}function se(Ae,Re){return Ae.y0>Re.y0&&Ae.y0<Re.y1||Ae.y1>Re.y0&&Ae.y1<Re.y1?!0:Ae.y0<Re.y0&&Ae.y1>Re.y1}function Y(Ae,Re,Fe,Se){return Ae.y0+Re>=Fe&&Ae.y1+Re<=Se&&(Ae.y0=Ae.y0+Re,Ae.y1=Ae.y1+Re,Ae.targetLinks.forEach(function(Te){Te.y1=Te.y1+Re}),Ae.sourceLinks.forEach(function(Te){Te.y0=Te.y0+Re})),Ae}function Z(Ae,Re,Fe,Se){Ae.nodes.forEach(function(Te){Se&&Te.y+(Te.y1-Te.y0)>Re&&(Te.y=Te.y-(Te.y+(Te.y1-Te.y0)-Re));var Ee=Ae.links.filter(function(_e){return T(_e.source,Fe)==T(Te,Fe)}),Ne=Ee.length;Ne>1&&Ee.sort(function(_e,We){if(!_e.circular&&!We.circular){if(_e.target.column==We.target.column)return _e.y1-We.y1;if(te(_e,We)){if(_e.target.column>We.target.column){var tt=X(We,_e);return _e.y1-tt}if(We.target.column>_e.target.column){var Ke=X(_e,We);return Ke-We.y1}}else return _e.y1-We.y1}if(_e.circular&&!We.circular)return _e.circularLinkType=="top"?-1:1;if(We.circular&&!_e.circular)return We.circularLinkType=="top"?1:-1;if(_e.circular&&We.circular)return _e.circularLinkType===We.circularLinkType&&_e.circularLinkType=="top"?_e.target.column===We.target.column?_e.target.y1-We.target.y1:We.target.column-_e.target.column:_e.circularLinkType===We.circularLinkType&&_e.circularLinkType=="bottom"?_e.target.column===We.target.column?We.target.y1-_e.target.y1:_e.target.column-We.target.column:_e.circularLinkType=="top"?-1:1});var He=Te.y0;Ee.forEach(function(_e){_e.y0=He+_e.width/2,He=He+_e.width}),Ee.forEach(function(_e,We){if(_e.circularLinkType=="bottom"){var tt=We+1,Ke=0;for(tt;tt<Ne;tt++)Ke=Ke+Ee[tt].width;_e.y0=Te.y1-Ke-_e.width/2}})})}function ie(Ae,Re,Fe){Ae.nodes.forEach(function(Se){var Te=Ae.links.filter(function(He){return T(He.target,Fe)==T(Se,Fe)}),Ee=Te.length;Ee>1&&Te.sort(function(He,_e){if(!He.circular&&!_e.circular){if(He.source.column==_e.source.column)return He.y0-_e.y0;if(te(He,_e)){if(_e.source.column<He.source.column){var We=Q(_e,He);return He.y0-We}if(He.source.column<_e.source.column){var tt=Q(He,_e);return tt-_e.y0}}else return He.y0-_e.y0}if(He.circular&&!_e.circular)return He.circularLinkType=="top"?-1:1;if(_e.circular&&!He.circular)return _e.circularLinkType=="top"?1:-1;if(He.circular&&_e.circular)return He.circularLinkType===_e.circularLinkType&&He.circularLinkType=="top"?He.source.column===_e.source.column?He.source.y1-_e.source.y1:He.source.column-_e.source.column:He.circularLinkType===_e.circularLinkType&&He.circularLinkType=="bottom"?He.source.column===_e.source.column?He.source.y1-_e.source.y1:_e.source.column-He.source.column:He.circularLinkType=="top"?-1:1});var Ne=Se.y0;Te.forEach(function(He){He.y1=Ne+He.width/2,Ne=Ne+He.width}),Te.forEach(function(He,_e){if(He.circularLinkType=="bottom"){var We=_e+1,tt=0;for(We;We<Ee;We++)tt=tt+Te[We].width;He.y1=Se.y1-tt-He.width/2}})})}function te(Ae,Re){return fe(Ae)==fe(Re)}function fe(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function de(Ae,Re){return T(Ae.source,Re)==T(Ae.target,Re)}function we(Ae,Re,Fe){var Se=Ae.nodes,Te=Ae.links,Ee=!1,Ne=!1;if(Te.forEach(function(qe){qe.circularLinkType=="top"?Ee=!0:qe.circularLinkType=="bottom"&&(Ne=!0)}),Ee==!1||Ne==!1){var He=(0,y.VV)(Se,function(qe){return qe.y0}),_e=(0,y.Fp)(Se,function(qe){return qe.y1}),We=_e-He,tt=Fe-Re,Ke=tt/We;Se.forEach(function(qe){var rt=(qe.y1-qe.y0)*Ke;qe.y0=(qe.y0-He)*Ke,qe.y1=qe.y0+rt}),Te.forEach(function(qe){qe.y0=(qe.y0-He)*Ke,qe.y1=(qe.y1-He)*Ke,qe.width=qe.width*Ke})}}},30838:function(W,V,e){e.r(V),e.d(V,{sankey:function(){return p},sankeyCenter:function(){return d},sankeyJustify:function(){return h},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return T},sankeyRight:function(){return x}});var y=e(33064),C=e(15140);function a(E){return E.target.depth}function L(E){return E.depth}function x(E,A){return A-1-E.height}function h(E,A){return E.sourceLinks.length?E.depth:A-1}function d(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,y.VV)(E.sourceLinks,a)-1:0}function t(E){return function(){return E}}function r(E,A){return n(E.source,A.source)||E.index-A.index}function u(E,A){return n(E.target,A.target)||E.index-A.index}function n(E,A){return E.y0-A.y0}function i(E){return E.value}function s(E){return(E.y0+E.y1)/2}function o(E){return s(E.source)*E.value}function m(E){return s(E.target)*E.value}function c(E){return E.index}function b(E){return E.nodes}function v(E){return E.links}function l(E,A){var f=E.get(A);if(!f)throw new Error("missing: "+A);return f}function p(){var E=0,A=0,f=1,P=1,w=24,z=8,F=c,H=h,_=b,B=v,N=32,O=2/3;function U(){var ee={nodes:_.apply(null,arguments),links:B.apply(null,arguments)};return K(ee),re(ee),ae(ee),ue(ee),ve(ee),ee}U.update=function(ee){return ve(ee),ee},U.nodeId=function(ee){return arguments.length?(F=typeof ee=="function"?ee:t(ee),U):F},U.nodeAlign=function(ee){return arguments.length?(H=typeof ee=="function"?ee:t(ee),U):H},U.nodeWidth=function(ee){return arguments.length?(w=+ee,U):w},U.nodePadding=function(ee){return arguments.length?(z=+ee,U):z},U.nodes=function(ee){return arguments.length?(_=typeof ee=="function"?ee:t(ee),U):_},U.links=function(ee){return arguments.length?(B=typeof ee=="function"?ee:t(ee),U):B},U.size=function(ee){return arguments.length?(E=A=0,f=+ee[0],P=+ee[1],U):[f-E,P-A]},U.extent=function(ee){return arguments.length?(E=+ee[0][0],f=+ee[1][0],A=+ee[0][1],P=+ee[1][1],U):[[E,A],[f,P]]},U.iterations=function(ee){return arguments.length?(N=+ee,U):N};function K(ee){ee.nodes.forEach(function(Q,X){Q.index=X,Q.sourceLinks=[],Q.targetLinks=[]});var J=(0,C.UI)(ee.nodes,F);ee.links.forEach(function(Q,X){Q.index=X;var q=Q.source,se=Q.target;typeof q!="object"&&(q=Q.source=l(J,q)),typeof se!="object"&&(se=Q.target=l(J,se)),q.sourceLinks.push(Q),se.targetLinks.push(Q)})}function re(ee){ee.nodes.forEach(function(J){J.value=Math.max((0,y.Sm)(J.sourceLinks,i),(0,y.Sm)(J.targetLinks,i))})}function ae(ee){var J,Q,X;for(J=ee.nodes,Q=[],X=0;J.length;++X,J=Q,Q=[])J.forEach(function(se){se.depth=X,se.sourceLinks.forEach(function(Y){Q.indexOf(Y.target)<0&&Q.push(Y.target)})});for(J=ee.nodes,Q=[],X=0;J.length;++X,J=Q,Q=[])J.forEach(function(se){se.height=X,se.targetLinks.forEach(function(Y){Q.indexOf(Y.source)<0&&Q.push(Y.source)})});var q=(f-E-w)/(X-1);ee.nodes.forEach(function(se){se.x1=(se.x0=E+Math.max(0,Math.min(X-1,Math.floor(H.call(null,se,X))))*q)+w})}function ue(ee){var J=(0,C.b1)().key(function(ie){return ie.x0}).sortKeys(y.j2).entries(ee.nodes).map(function(ie){return ie.values});q(),Z();for(var Q=1,X=N;X>0;--X)Y(Q*=.99),Z(),se(Q),Z();function q(){var ie=(0,y.Fp)(J,function(de){return de.length}),te=O*(P-A)/(ie-1);z>te&&(z=te);var fe=(0,y.VV)(J,function(de){return(P-A-(de.length-1)*z)/(0,y.Sm)(de,i)});J.forEach(function(de){de.forEach(function(we,Ae){we.y1=(we.y0=Ae)+we.value*fe})}),ee.links.forEach(function(de){de.width=de.value*fe})}function se(ie){J.forEach(function(te){te.forEach(function(fe){if(fe.targetLinks.length){var de=((0,y.Sm)(fe.targetLinks,o)/(0,y.Sm)(fe.targetLinks,i)-s(fe))*ie;fe.y0+=de,fe.y1+=de}})})}function Y(ie){J.slice().reverse().forEach(function(te){te.forEach(function(fe){if(fe.sourceLinks.length){var de=((0,y.Sm)(fe.sourceLinks,m)/(0,y.Sm)(fe.sourceLinks,i)-s(fe))*ie;fe.y0+=de,fe.y1+=de}})})}function Z(){J.forEach(function(ie){var te,fe,de=A,we=ie.length,Ae;for(ie.sort(n),Ae=0;Ae<we;++Ae)te=ie[Ae],fe=de-te.y0,fe>0&&(te.y0+=fe,te.y1+=fe),de=te.y1+z;if(fe=de-z-P,fe>0)for(de=te.y0-=fe,te.y1-=fe,Ae=we-2;Ae>=0;--Ae)te=ie[Ae],fe=te.y1+z-de,fe>0&&(te.y0-=fe,te.y1-=fe),de=te.y0})}}function ve(ee){ee.nodes.forEach(function(J){J.sourceLinks.sort(u),J.targetLinks.sort(r)}),ee.nodes.forEach(function(J){var Q=J.y0,X=Q;J.sourceLinks.forEach(function(q){q.y0=Q+q.width/2,Q+=q.width}),J.targetLinks.forEach(function(q){q.y1=X+q.width/2,X+=q.width})})}return U}var S=e(45879);function M(E){return[E.source.x1,E.y0]}function R(E){return[E.target.x0,E.y1]}function T(){return(0,S.h5)().source(M).target(R)}},39898:function(W,V,e){var y,C;(function(){var a={version:"3.8.0"},L=[].slice,x=function(he){return L.call(he)},h=self.document;function d(he){return he&&(he.ownerDocument||he.document||he).documentElement}function t(he){return he&&(he.ownerDocument&&he.ownerDocument.defaultView||he.document&&he||he.defaultView)}if(h)try{x(h.documentElement.childNodes)[0].nodeType}catch{x=function(Pe){for(var Ge=Pe.length,et=new Array(Ge);Ge--;)et[Ge]=Pe[Ge];return et}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,u=r.setAttribute,n=r.setAttributeNS,i=this.CSSStyleDeclaration.prototype,s=i.setProperty;r.setAttribute=function(Pe,Ge){u.call(this,Pe,Ge+"")},r.setAttributeNS=function(Pe,Ge,et){n.call(this,Pe,Ge,et+"")},i.setProperty=function(Pe,Ge,et){s.call(this,Pe,Ge+"",et)}}a.ascending=o;function o(he,Pe){return he<Pe?-1:he>Pe?1:he>=Pe?0:NaN}a.descending=function(he,Pe){return Pe<he?-1:Pe>he?1:Pe>=he?0:NaN},a.min=function(he,Pe){var Ge=-1,et=he.length,nt,st;if(arguments.length===1){for(;++Ge<et;)if((st=he[Ge])!=null&&st>=st){nt=st;break}for(;++Ge<et;)(st=he[Ge])!=null&&nt>st&&(nt=st)}else{for(;++Ge<et;)if((st=Pe.call(he,he[Ge],Ge))!=null&&st>=st){nt=st;break}for(;++Ge<et;)(st=Pe.call(he,he[Ge],Ge))!=null&&nt>st&&(nt=st)}return nt},a.max=function(he,Pe){var Ge=-1,et=he.length,nt,st;if(arguments.length===1){for(;++Ge<et;)if((st=he[Ge])!=null&&st>=st){nt=st;break}for(;++Ge<et;)(st=he[Ge])!=null&&st>nt&&(nt=st)}else{for(;++Ge<et;)if((st=Pe.call(he,he[Ge],Ge))!=null&&st>=st){nt=st;break}for(;++Ge<et;)(st=Pe.call(he,he[Ge],Ge))!=null&&st>nt&&(nt=st)}return nt},a.extent=function(he,Pe){var Ge=-1,et=he.length,nt,st,Dt;if(arguments.length===1){for(;++Ge<et;)if((st=he[Ge])!=null&&st>=st){nt=Dt=st;break}for(;++Ge<et;)(st=he[Ge])!=null&&(nt>st&&(nt=st),Dt<st&&(Dt=st))}else{for(;++Ge<et;)if((st=Pe.call(he,he[Ge],Ge))!=null&&st>=st){nt=Dt=st;break}for(;++Ge<et;)(st=Pe.call(he,he[Ge],Ge))!=null&&(nt>st&&(nt=st),Dt<st&&(Dt=st))}return[nt,Dt]};function m(he){return he===null?NaN:+he}function c(he){return!isNaN(he)}a.sum=function(he,Pe){var Ge=0,et=he.length,nt,st=-1;if(arguments.length===1)for(;++st<et;)c(nt=+he[st])&&(Ge+=nt);else for(;++st<et;)c(nt=+Pe.call(he,he[st],st))&&(Ge+=nt);return Ge},a.mean=function(he,Pe){var Ge=0,et=he.length,nt,st=-1,Dt=et;if(arguments.length===1)for(;++st<et;)c(nt=m(he[st]))?Ge+=nt:--Dt;else for(;++st<et;)c(nt=m(Pe.call(he,he[st],st)))?Ge+=nt:--Dt;if(Dt)return Ge/Dt},a.quantile=function(he,Pe){var Ge=(he.length-1)*Pe+1,et=Math.floor(Ge),nt=+he[et-1],st=Ge-et;return st?nt+st*(he[et]-nt):nt},a.median=function(he,Pe){var Ge=[],et=he.length,nt,st=-1;if(arguments.length===1)for(;++st<et;)c(nt=m(he[st]))&&Ge.push(nt);else for(;++st<et;)c(nt=m(Pe.call(he,he[st],st)))&&Ge.push(nt);if(Ge.length)return a.quantile(Ge.sort(o),.5)},a.variance=function(he,Pe){var Ge=he.length,et=0,nt,st,Dt=0,vt=-1,Ut=0;if(arguments.length===1)for(;++vt<Ge;)c(nt=m(he[vt]))&&(st=nt-et,et+=st/++Ut,Dt+=st*(nt-et));else for(;++vt<Ge;)c(nt=m(Pe.call(he,he[vt],vt)))&&(st=nt-et,et+=st/++Ut,Dt+=st*(nt-et));if(Ut>1)return Dt/(Ut-1)},a.deviation=function(){var he=a.variance.apply(this,arguments);return he&&Math.sqrt(he)};function b(he){return{left:function(Pe,Ge,et,nt){for(arguments.length<3&&(et=0),arguments.length<4&&(nt=Pe.length);et<nt;){var st=et+nt>>>1;he(Pe[st],Ge)<0?et=st+1:nt=st}return et},right:function(Pe,Ge,et,nt){for(arguments.length<3&&(et=0),arguments.length<4&&(nt=Pe.length);et<nt;){var st=et+nt>>>1;he(Pe[st],Ge)>0?nt=st:et=st+1}return et}}}var v=b(o);a.bisectLeft=v.left,a.bisect=a.bisectRight=v.right,a.bisector=function(he){return b(he.length===1?function(Pe,Ge){return o(he(Pe),Ge)}:he)},a.shuffle=function(he,Pe,Ge){(et=arguments.length)<3&&(Ge=he.length,et<2&&(Pe=0));for(var et=Ge-Pe,nt,st;et;)st=Math.random()*et--|0,nt=he[et+Pe],he[et+Pe]=he[st+Pe],he[st+Pe]=nt;return he},a.permute=function(he,Pe){for(var Ge=Pe.length,et=new Array(Ge);Ge--;)et[Ge]=he[Pe[Ge]];return et},a.pairs=function(he){for(var Pe=0,Ge=he.length-1,et=he[0],nt=new Array(Ge<0?0:Ge);Pe<Ge;)nt[Pe]=[et,et=he[++Pe]];return nt},a.transpose=function(he){if(!(st=he.length))return[];for(var Pe=-1,Ge=a.min(he,l),et=new Array(Ge);++Pe<Ge;)for(var nt=-1,st,Dt=et[Pe]=new Array(st);++nt<st;)Dt[nt]=he[nt][Pe];return et};function l(he){return he.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(he){var Pe=[];for(var Ge in he)Pe.push(Ge);return Pe},a.values=function(he){var Pe=[];for(var Ge in he)Pe.push(he[Ge]);return Pe},a.entries=function(he){var Pe=[];for(var Ge in he)Pe.push({key:Ge,value:he[Ge]});return Pe},a.merge=function(he){for(var Pe=he.length,Ge,et=-1,nt=0,st,Dt;++et<Pe;)nt+=he[et].length;for(st=new Array(nt);--Pe>=0;)for(Dt=he[Pe],Ge=Dt.length;--Ge>=0;)st[--nt]=Dt[Ge];return st};var p=Math.abs;a.range=function(he,Pe,Ge){if(arguments.length<3&&(Ge=1,arguments.length<2&&(Pe=he,he=0)),(Pe-he)/Ge===1/0)throw new Error("infinite range");var et=[],nt=S(p(Ge)),st=-1,Dt;if(he*=nt,Pe*=nt,Ge*=nt,Ge<0)for(;(Dt=he+Ge*++st)>Pe;)et.push(Dt/nt);else for(;(Dt=he+Ge*++st)<Pe;)et.push(Dt/nt);return et};function S(he){for(var Pe=1;he*Pe%1;)Pe*=10;return Pe}function M(he,Pe){for(var Ge in Pe)Object.defineProperty(he.prototype,Ge,{value:Pe[Ge],enumerable:!1})}a.map=function(he,Pe){var Ge=new R;if(he instanceof R)he.forEach(function(vt,Ut){Ge.set(vt,Ut)});else if(Array.isArray(he)){var et=-1,nt=he.length,st;if(arguments.length===1)for(;++et<nt;)Ge.set(et,he[et]);else for(;++et<nt;)Ge.set(Pe.call(he,st=he[et],et),st)}else for(var Dt in he)Ge.set(Dt,he[Dt]);return Ge};function R(){this._=Object.create(null)}var T="__proto__",E="\0";M(R,{has:P,get:function(he){return this._[A(he)]},set:function(he,Pe){return this._[A(he)]=Pe},remove:w,keys:z,values:function(){var he=[];for(var Pe in this._)he.push(this._[Pe]);return he},entries:function(){var he=[];for(var Pe in this._)he.push({key:f(Pe),value:this._[Pe]});return he},size:F,empty:H,forEach:function(he){for(var Pe in this._)he.call(this,f(Pe),this._[Pe])}});function A(he){return(he+="")===T||he[0]===E?E+he:he}function f(he){return(he+="")[0]===E?he.slice(1):he}function P(he){return A(he)in this._}function w(he){return(he=A(he))in this._&&delete this._[he]}function z(){var he=[];for(var Pe in this._)he.push(f(Pe));return he}function F(){var he=0;for(var Pe in this._)++he;return he}function H(){for(var he in this._)return!1;return!0}a.nest=function(){var he={},Pe=[],Ge=[],et,nt;function st(vt,Ut,tr){if(tr>=Pe.length)return nt?nt.call(he,Ut):et?Ut.sort(et):Ut;for(var rr=-1,Pr=Ut.length,Er=Pe[tr++],Jr,tn,Ir,Hr=new R,Zr;++rr<Pr;)(Zr=Hr.get(Jr=Er(tn=Ut[rr])))?Zr.push(tn):Hr.set(Jr,[tn]);return vt?(tn=vt(),Ir=function(rn,un){tn.set(rn,st(vt,un,tr))}):(tn={},Ir=function(rn,un){tn[rn]=st(vt,un,tr)}),Hr.forEach(Ir),tn}function Dt(vt,Ut){if(Ut>=Pe.length)return vt;var tr=[],rr=Ge[Ut++];return vt.forEach(function(Pr,Er){tr.push({key:Pr,values:Dt(Er,Ut)})}),rr?tr.sort(function(Pr,Er){return rr(Pr.key,Er.key)}):tr}return he.map=function(vt,Ut){return st(Ut,vt,0)},he.entries=function(vt){return Dt(st(a.map,vt,0),0)},he.key=function(vt){return Pe.push(vt),he},he.sortKeys=function(vt){return Ge[Pe.length-1]=vt,he},he.sortValues=function(vt){return et=vt,he},he.rollup=function(vt){return nt=vt,he},he},a.set=function(he){var Pe=new _;if(he)for(var Ge=0,et=he.length;Ge<et;++Ge)Pe.add(he[Ge]);return Pe};function _(){this._=Object.create(null)}M(_,{has:P,add:function(he){return this._[A(he+="")]=!0,he},remove:w,values:z,size:F,empty:H,forEach:function(he){for(var Pe in this._)he.call(this,f(Pe))}}),a.behavior={};function B(he){return he}a.rebind=function(he,Pe){for(var Ge=1,et=arguments.length,nt;++Ge<et;)he[nt=arguments[Ge]]=N(he,Pe,Pe[nt]);return he};function N(he,Pe,Ge){return function(){var et=Ge.apply(Pe,arguments);return et===Pe?he:et}}function O(he,Pe){if(Pe in he)return Pe;Pe=Pe.charAt(0).toUpperCase()+Pe.slice(1);for(var Ge=0,et=U.length;Ge<et;++Ge){var nt=U[Ge]+Pe;if(nt in he)return nt}}var U=["webkit","ms","moz","Moz","o","O"];function K(){}a.dispatch=function(){for(var he=new re,Pe=-1,Ge=arguments.length;++Pe<Ge;)he[arguments[Pe]]=ae(he);return he};function re(){}re.prototype.on=function(he,Pe){var Ge=he.indexOf("."),et="";if(Ge>=0&&(et=he.slice(Ge+1),he=he.slice(0,Ge)),he)return arguments.length<2?this[he].on(et):this[he].on(et,Pe);if(arguments.length===2){if(Pe==null)for(he in this)this.hasOwnProperty(he)&&this[he].on(et,null);return this}};function ae(he){var Pe=[],Ge=new R;function et(){for(var nt=Pe,st=-1,Dt=nt.length,vt;++st<Dt;)(vt=nt[st].on)&&vt.apply(this,arguments);return he}return et.on=function(nt,st){var Dt=Ge.get(nt),vt;return arguments.length<2?Dt&&Dt.on:(Dt&&(Dt.on=null,Pe=Pe.slice(0,vt=Pe.indexOf(Dt)).concat(Pe.slice(vt+1)),Ge.remove(nt)),st&&Pe.push(Ge.set(nt,{on:st})),he)},et}a.event=null;function ue(){a.event.preventDefault()}function ve(){for(var he=a.event,Pe;Pe=he.sourceEvent;)he=Pe;return he}function ee(he){for(var Pe=new re,Ge=0,et=arguments.length;++Ge<et;)Pe[arguments[Ge]]=ae(Pe);return Pe.of=function(nt,st){return function(Dt){try{var vt=Dt.sourceEvent=a.event;Dt.target=he,a.event=Dt,Pe[Dt.type].apply(nt,st)}finally{a.event=vt}}},Pe}a.requote=function(he){return he.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Q={}.__proto__?function(he,Pe){he.__proto__=Pe}:function(he,Pe){for(var Ge in Pe)he[Ge]=Pe[Ge]};function X(he){return Q(he,Z),he}var q=function(he,Pe){return Pe.querySelector(he)},se=function(he,Pe){return Pe.querySelectorAll(he)},Y=function(he,Pe){var Ge=he.matches||he[O(he,"matchesSelector")];return Y=function(et,nt){return Ge.call(et,nt)},Y(he,Pe)};typeof Sizzle=="function"&&(q=function(he,Pe){return Sizzle(he,Pe)[0]||null},se=Sizzle,Y=Sizzle.matchesSelector),a.selection=function(){return a.select(h.documentElement)};var Z=a.selection.prototype=[];Z.select=function(he){var Pe=[],Ge,et,nt,st;he=ie(he);for(var Dt=-1,vt=this.length;++Dt<vt;){Pe.push(Ge=[]),Ge.parentNode=(nt=this[Dt]).parentNode;for(var Ut=-1,tr=nt.length;++Ut<tr;)(st=nt[Ut])?(Ge.push(et=he.call(st,st.__data__,Ut,Dt)),et&&"__data__"in st&&(et.__data__=st.__data__)):Ge.push(null)}return X(Pe)};function ie(he){return typeof he=="function"?he:function(){return q(he,this)}}Z.selectAll=function(he){var Pe=[],Ge,et;he=te(he);for(var nt=-1,st=this.length;++nt<st;)for(var Dt=this[nt],vt=-1,Ut=Dt.length;++vt<Ut;)(et=Dt[vt])&&(Pe.push(Ge=x(he.call(et,et.__data__,vt,nt))),Ge.parentNode=et);return X(Pe)};function te(he){return typeof he=="function"?he:function(){return se(he,this)}}var fe="http://www.w3.org/1999/xhtml",de={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:de,qualify:function(he){var Pe=he.indexOf(":"),Ge=he;return Pe>=0&&(Ge=he.slice(0,Pe))!=="xmlns"&&(he=he.slice(Pe+1)),de.hasOwnProperty(Ge)?{space:de[Ge],local:he}:he}},Z.attr=function(he,Pe){if(arguments.length<2){if(typeof he=="string"){var Ge=this.node();return he=a.ns.qualify(he),he.local?Ge.getAttributeNS(he.space,he.local):Ge.getAttribute(he)}for(Pe in he)this.each(we(Pe,he[Pe]));return this}return this.each(we(he,Pe))};function we(he,Pe){he=a.ns.qualify(he);function Ge(){this.removeAttribute(he)}function et(){this.removeAttributeNS(he.space,he.local)}function nt(){this.setAttribute(he,Pe)}function st(){this.setAttributeNS(he.space,he.local,Pe)}function Dt(){var Ut=Pe.apply(this,arguments);Ut==null?this.removeAttribute(he):this.setAttribute(he,Ut)}function vt(){var Ut=Pe.apply(this,arguments);Ut==null?this.removeAttributeNS(he.space,he.local):this.setAttributeNS(he.space,he.local,Ut)}return Pe==null?he.local?et:Ge:typeof Pe=="function"?he.local?vt:Dt:he.local?st:nt}function Ae(he){return he.trim().replace(/\s+/g," ")}Z.classed=function(he,Pe){if(arguments.length<2){if(typeof he=="string"){var Ge=this.node(),et=(he=Fe(he)).length,nt=-1;if(Pe=Ge.classList){for(;++nt<et;)if(!Pe.contains(he[nt]))return!1}else for(Pe=Ge.getAttribute("class");++nt<et;)if(!Re(he[nt]).test(Pe))return!1;return!0}for(Pe in he)this.each(Se(Pe,he[Pe]));return this}return this.each(Se(he,Pe))};function Re(he){return new RegExp("(?:^|\\s+)"+a.requote(he)+"(?:\\s+|$)","g")}function Fe(he){return(he+"").trim().split(/^|\s+/)}function Se(he,Pe){he=Fe(he).map(Te);var Ge=he.length;function et(){for(var st=-1;++st<Ge;)he[st](this,Pe)}function nt(){for(var st=-1,Dt=Pe.apply(this,arguments);++st<Ge;)he[st](this,Dt)}return typeof Pe=="function"?nt:et}function Te(he){var Pe=Re(he);return function(Ge,et){if(nt=Ge.classList)return et?nt.add(he):nt.remove(he);var nt=Ge.getAttribute("class")||"";et?(Pe.lastIndex=0,Pe.test(nt)||Ge.setAttribute("class",Ae(nt+" "+he))):Ge.setAttribute("class",Ae(nt.replace(Pe," ")))}}Z.style=function(he,Pe,Ge){var et=arguments.length;if(et<3){if(typeof he!="string"){et<2&&(Pe="");for(Ge in he)this.each(Ee(Ge,he[Ge],Pe));return this}if(et<2){var nt=this.node();return t(nt).getComputedStyle(nt,null).getPropertyValue(he)}Ge=""}return this.each(Ee(he,Pe,Ge))};function Ee(he,Pe,Ge){function et(){this.style.removeProperty(he)}function nt(){this.style.setProperty(he,Pe,Ge)}function st(){var Dt=Pe.apply(this,arguments);Dt==null?this.style.removeProperty(he):this.style.setProperty(he,Dt,Ge)}return Pe==null?et:typeof Pe=="function"?st:nt}Z.property=function(he,Pe){if(arguments.length<2){if(typeof he=="string")return this.node()[he];for(Pe in he)this.each(Ne(Pe,he[Pe]));return this}return this.each(Ne(he,Pe))};function Ne(he,Pe){function Ge(){delete this[he]}function et(){this[he]=Pe}function nt(){var st=Pe.apply(this,arguments);st==null?delete this[he]:this[he]=st}return Pe==null?Ge:typeof Pe=="function"?nt:et}Z.text=function(he){return arguments.length?this.each(typeof he=="function"?function(){var Pe=he.apply(this,arguments);this.textContent=Pe??""}:he==null?function(){this.textContent=""}:function(){this.textContent=he}):this.node().textContent},Z.html=function(he){return arguments.length?this.each(typeof he=="function"?function(){var Pe=he.apply(this,arguments);this.innerHTML=Pe??""}:he==null?function(){this.innerHTML=""}:function(){this.innerHTML=he}):this.node().innerHTML},Z.append=function(he){return he=He(he),this.select(function(){return this.appendChild(he.apply(this,arguments))})};function He(he){function Pe(){var et=this.ownerDocument,nt=this.namespaceURI;return nt===fe&&et.documentElement.namespaceURI===fe?et.createElement(he):et.createElementNS(nt,he)}function Ge(){return this.ownerDocument.createElementNS(he.space,he.local)}return typeof he=="function"?he:(he=a.ns.qualify(he)).local?Ge:Pe}Z.insert=function(he,Pe){return he=He(he),Pe=ie(Pe),this.select(function(){return this.insertBefore(he.apply(this,arguments),Pe.apply(this,arguments)||null)})},Z.remove=function(){return this.each(_e)};function _e(){var he=this.parentNode;he&&he.removeChild(this)}Z.data=function(he,Pe){var Ge=-1,et=this.length,nt,st;if(!arguments.length){for(he=new Array(et=(nt=this[0]).length);++Ge<et;)(st=nt[Ge])&&(he[Ge]=st.__data__);return he}function Dt(rr,Pr){var Er,Jr=rr.length,tn=Pr.length,Ir=Math.min(Jr,tn),Hr=new Array(tn),Zr=new Array(tn),rn=new Array(Jr),un,Xr;if(Pe){var Nn=new R,Wn=new Array(Jr),Qn;for(Er=-1;++Er<Jr;)(un=rr[Er])&&(Nn.has(Qn=Pe.call(un,un.__data__,Er))?rn[Er]=un:Nn.set(Qn,un),Wn[Er]=Qn);for(Er=-1;++Er<tn;)(un=Nn.get(Qn=Pe.call(Pr,Xr=Pr[Er],Er)))?un!==!0&&(Hr[Er]=un,un.__data__=Xr):Zr[Er]=We(Xr),Nn.set(Qn,!0);for(Er=-1;++Er<Jr;)Er in Wn&&Nn.get(Wn[Er])!==!0&&(rn[Er]=rr[Er])}else{for(Er=-1;++Er<Ir;)un=rr[Er],Xr=Pr[Er],un?(un.__data__=Xr,Hr[Er]=un):Zr[Er]=We(Xr);for(;Er<tn;++Er)Zr[Er]=We(Pr[Er]);for(;Er<Jr;++Er)rn[Er]=rr[Er]}Zr.update=Hr,Zr.parentNode=Hr.parentNode=rn.parentNode=rr.parentNode,vt.push(Zr),Ut.push(Hr),tr.push(rn)}var vt=rt([]),Ut=X([]),tr=X([]);if(typeof he=="function")for(;++Ge<et;)Dt(nt=this[Ge],he.call(nt,nt.parentNode.__data__,Ge));else for(;++Ge<et;)Dt(nt=this[Ge],he);return Ut.enter=function(){return vt},Ut.exit=function(){return tr},Ut};function We(he){return{__data__:he}}Z.datum=function(he){return arguments.length?this.property("__data__",he):this.property("__data__")},Z.filter=function(he){var Pe=[],Ge,et,nt;typeof he!="function"&&(he=tt(he));for(var st=0,Dt=this.length;st<Dt;st++){Pe.push(Ge=[]),Ge.parentNode=(et=this[st]).parentNode;for(var vt=0,Ut=et.length;vt<Ut;vt++)(nt=et[vt])&&he.call(nt,nt.__data__,vt,st)&&Ge.push(nt)}return X(Pe)};function tt(he){return function(){return Y(this,he)}}Z.order=function(){for(var he=-1,Pe=this.length;++he<Pe;)for(var Ge=this[he],et=Ge.length-1,nt=Ge[et],st;--et>=0;)(st=Ge[et])&&(nt&&nt!==st.nextSibling&&nt.parentNode.insertBefore(st,nt),nt=st);return this},Z.sort=function(he){he=Ke.apply(this,arguments);for(var Pe=-1,Ge=this.length;++Pe<Ge;)this[Pe].sort(he);return this.order()};function Ke(he){return arguments.length||(he=o),function(Pe,Ge){return Pe&&Ge?he(Pe.__data__,Ge.__data__):!Pe-!Ge}}Z.each=function(he){return qe(this,function(Pe,Ge,et){he.call(Pe,Pe.__data__,Ge,et)})};function qe(he,Pe){for(var Ge=0,et=he.length;Ge<et;Ge++)for(var nt=he[Ge],st=0,Dt=nt.length,vt;st<Dt;st++)(vt=nt[st])&&Pe(vt,st,Ge);return he}Z.call=function(he){var Pe=x(arguments);return he.apply(Pe[0]=this,Pe),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var he=0,Pe=this.length;he<Pe;he++)for(var Ge=this[he],et=0,nt=Ge.length;et<nt;et++){var st=Ge[et];if(st)return st}return null},Z.size=function(){var he=0;return qe(this,function(){++he}),he};function rt(he){return Q(he,ft),he}var ft=[];a.selection.enter=rt,a.selection.enter.prototype=ft,ft.append=Z.append,ft.empty=Z.empty,ft.node=Z.node,ft.call=Z.call,ft.size=Z.size,ft.select=function(he){for(var Pe=[],Ge,et,nt,st,Dt,vt=-1,Ut=this.length;++vt<Ut;){nt=(st=this[vt]).update,Pe.push(Ge=[]),Ge.parentNode=st.parentNode;for(var tr=-1,rr=st.length;++tr<rr;)(Dt=st[tr])?(Ge.push(nt[tr]=et=he.call(st.parentNode,Dt.__data__,tr,vt)),et.__data__=Dt.__data__):Ge.push(null)}return X(Pe)},ft.insert=function(he,Pe){return arguments.length<2&&(Pe=pt(this)),Z.insert.call(this,he,Pe)};function pt(he){var Pe,Ge;return function(et,nt,st){var Dt=he[st].update,vt=Dt.length,Ut;for(st!=Ge&&(Ge=st,Pe=0),nt>=Pe&&(Pe=nt+1);!(Ut=Dt[Pe])&&++Pe<vt;);return Ut}}a.select=function(he){var Pe;return typeof he=="string"?(Pe=[q(he,h)],Pe.parentNode=h.documentElement):(Pe=[he],Pe.parentNode=d(he)),X([Pe])},a.selectAll=function(he){var Pe;return typeof he=="string"?(Pe=x(se(he,h)),Pe.parentNode=h.documentElement):(Pe=x(he),Pe.parentNode=null),X([Pe])},Z.on=function(he,Pe,Ge){var et=arguments.length;if(et<3){if(typeof he!="string"){et<2&&(Pe=!1);for(Ge in he)this.each(gt(Ge,he[Ge],Pe));return this}if(et<2)return(et=this.node()["__on"+he])&&et._;Ge=!1}return this.each(gt(he,Pe,Ge))};function gt(he,Pe,Ge){var et="__on"+he,nt=he.indexOf("."),st=Lt;nt>0&&(he=he.slice(0,nt));var Dt=Mt.get(he);Dt&&(he=Dt,st=Wt);function vt(){var rr=this[et];rr&&(this.removeEventListener(he,rr,rr.$),delete this[et])}function Ut(){var rr=st(Pe,x(arguments));vt.call(this),this.addEventListener(he,this[et]=rr,rr.$=Ge),rr._=Pe}function tr(){var rr=new RegExp("^__on([^.]+)"+a.requote(he)+"$"),Pr;for(var Er in this)if(Pr=Er.match(rr)){var Jr=this[Er];this.removeEventListener(Pr[1],Jr,Jr.$),delete this[Er]}}return nt?Pe?Ut:vt:Pe?K:tr}var Mt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});h&&Mt.forEach(function(he){"on"+he in h&&Mt.remove(he)});function Lt(he,Pe){return function(Ge){var et=a.event;a.event=Ge,Pe[0]=this.__data__;try{he.apply(this,Pe)}finally{a.event=et}}}function Wt(he,Pe){var Ge=Lt(he,Pe);return function(et){var nt=this,st=et.relatedTarget;(!st||st!==nt&&!(st.compareDocumentPosition(nt)&8))&&Ge.call(nt,et)}}var Je,ze=0;function Oe(he){var Pe=".dragsuppress-"+ ++ze,Ge="click"+Pe,et=a.select(t(he)).on("touchmove"+Pe,ue).on("dragstart"+Pe,ue).on("selectstart"+Pe,ue);if(Je==null&&(Je="onselectstart"in he?!1:O(he.style,"userSelect")),Je){var nt=d(he).style,st=nt[Je];nt[Je]="none"}return function(Dt){if(et.on(Pe,null),Je&&(nt[Je]=st),Dt){var vt=function(){et.on(Ge,null)};et.on(Ge,function(){ue(),vt()},!0),setTimeout(vt,0)}}}a.mouse=function(he){return ke(he,ve())};var Ue=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ke(he,Pe){Pe.changedTouches&&(Pe=Pe.changedTouches[0]);var Ge=he.ownerSVGElement||he;if(Ge.createSVGPoint){var et=Ge.createSVGPoint();if(Ue<0){var nt=t(he);if(nt.scrollX||nt.scrollY){Ge=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var st=Ge[0][0].getScreenCTM();Ue=!(st.f||st.e),Ge.remove()}}return Ue?(et.x=Pe.pageX,et.y=Pe.pageY):(et.x=Pe.clientX,et.y=Pe.clientY),et=et.matrixTransform(he.getScreenCTM().inverse()),[et.x,et.y]}var Dt=he.getBoundingClientRect();return[Pe.clientX-Dt.left-he.clientLeft,Pe.clientY-Dt.top-he.clientTop]}a.touch=function(he,Pe,Ge){if(arguments.length<3&&(Ge=Pe,Pe=ve().changedTouches),Pe){for(var et=0,nt=Pe.length,st;et<nt;++et)if((st=Pe[et]).identifier===Ge)return ke(he,st)}},a.behavior.drag=function(){var he=ee(nt,"drag","dragstart","dragend"),Pe=null,Ge=st(K,a.mouse,t,"mousemove","mouseup"),et=st(Me,a.touch,B,"touchmove","touchend");function nt(){this.on("mousedown.drag",Ge).on("touchstart.drag",et)}function st(Dt,vt,Ut,tr,rr){return function(){var Pr=this,Er=a.event.target.correspondingElement||a.event.target,Jr=Pr.parentNode,tn=he.of(Pr,arguments),Ir=0,Hr=Dt(),Zr=".drag"+(Hr==null?"":"-"+Hr),rn,un=a.select(Ut(Er)).on(tr+Zr,Wn).on(rr+Zr,Qn),Xr=Oe(Er),Nn=vt(Jr,Hr);Pe?(rn=Pe.apply(Pr,arguments),rn=[rn.x-Nn[0],rn.y-Nn[1]]):rn=[0,0],tn({type:"dragstart"});function Wn(){var ia=vt(Jr,Hr),Ta,wa;ia&&(Ta=ia[0]-Nn[0],wa=ia[1]-Nn[1],Ir|=Ta|wa,Nn=ia,tn({type:"drag",x:ia[0]+rn[0],y:ia[1]+rn[1],dx:Ta,dy:wa}))}function Qn(){vt(Jr,Hr)&&(un.on(tr+Zr,null).on(rr+Zr,null),Xr(Ir),tn({type:"dragend"}))}}}return nt.origin=function(Dt){return arguments.length?(Pe=Dt,nt):Pe},a.rebind(nt,he,"on")};function Me(){return a.event.changedTouches[0].identifier}a.touches=function(he,Pe){return arguments.length<2&&(Pe=ve().touches),Pe?x(Pe).map(function(Ge){var et=ke(he,Ge);return et.identifier=Ge.identifier,et}):[]};var ce=1e-6,be=ce*ce,De=Math.PI,Ve=2*De,it=Ve-ce,ot=De/2,Tt=De/180,It=180/De;function Ht(he,Pe,Ge){return(Pe[0]-he[0])*(Ge[1]-he[1])-(Pe[1]-he[1])*(Ge[0]-he[0])}function Gt(he){return he>1?ot:he<-1?-ot:Math.asin(he)}function Pt(he){return((he=Math.exp(he))-1/he)/2}function Jt(he){return((he=Math.exp(he))+1/he)/2}function or(he){return((he=Math.exp(2*he))-1)/(he+1)}var zr=Math.SQRT2,mt=2,Kt=4;a.interpolateZoom=function(he,Pe){var Ge=he[0],et=he[1],nt=he[2],st=Pe[0],Dt=Pe[1],vt=Pe[2],Ut=st-Ge,tr=Dt-et,rr=Ut*Ut+tr*tr,Pr,Er;if(rr<be)Er=Math.log(vt/nt)/zr,Pr=function(rn){return[Ge+rn*Ut,et+rn*tr,nt*Math.exp(zr*rn*Er)]};else{var Jr=Math.sqrt(rr),tn=(vt*vt-nt*nt+Kt*rr)/(2*nt*mt*Jr),Ir=(vt*vt-nt*nt-Kt*rr)/(2*vt*mt*Jr),Hr=Math.log(Math.sqrt(tn*tn+1)-tn),Zr=Math.log(Math.sqrt(Ir*Ir+1)-Ir);Er=(Zr-Hr)/zr,Pr=function(rn){var un=rn*Er,Xr=Jt(Hr),Nn=nt/(mt*Jr)*(Xr*or(zr*un+Hr)-Pt(Hr));return[Ge+Nn*Ut,et+Nn*tr,nt*Xr/Jt(zr*un+Hr)]}}return Pr.duration=Er*1e3,Pr},a.behavior.zoom=function(){var he={x:0,y:0,k:1},Pe,Ge,et,nt=[960,500],st=jt,Dt=250,vt=0,Ut="mousedown.zoom",tr="mousemove.zoom",rr="mouseup.zoom",Pr,Er="touchstart.zoom",Jr,tn=ee(un,"zoomstart","zoom","zoomend"),Ir,Hr,Zr,rn;vr||(vr="onwheel"in h?(wr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(wr=function(){return a.event.wheelDelta},"mousewheel"):(wr=function(){return-a.event.detail},"MozMousePixelScroll"));function un(Un){Un.on(Ut,Na).on(vr+".zoom",ri).on("dblclick.zoom",fi).on(Er,$a)}un.event=function(Un){Un.each(function(){var Ua=tn.of(this,arguments),Oa=he;Rr?a.select(this).transition().each("start.zoom",function(){he=this.__chart__||{x:0,y:0,k:1},wa(Ua)}).tween("zoom:zoom",function(){var Za=nt[0],Ei=nt[1],Oi=Ge?Ge[0]:Za/2,Vi=Ge?Ge[1]:Ei/2,bi=a.interpolateZoom([(Oi-he.x)/he.k,(Vi-he.y)/he.k,Za/he.k],[(Oi-Oa.x)/Oa.k,(Vi-Oa.y)/Oa.k,Za/Oa.k]);return function(hi){var xa=bi(hi),Ea=Za/xa[2];this.__chart__=he={x:Oi-xa[0]*Ea,y:Vi-xa[1]*Ea,k:Ea},Va(Ua)}}).each("interrupt.zoom",function(){La(Ua)}).each("end.zoom",function(){La(Ua)}):(this.__chart__=he,wa(Ua),Va(Ua),La(Ua))})},un.translate=function(Un){return arguments.length?(he={x:+Un[0],y:+Un[1],k:he.k},Ta(),un):[he.x,he.y]},un.scale=function(Un){return arguments.length?(he={x:he.x,y:he.y,k:null},Wn(+Un),Ta(),un):he.k},un.scaleExtent=function(Un){return arguments.length?(st=Un==null?jt:[+Un[0],+Un[1]],un):st},un.center=function(Un){return arguments.length?(et=Un&&[+Un[0],+Un[1]],un):et},un.size=function(Un){return arguments.length?(nt=Un&&[+Un[0],+Un[1]],un):nt},un.duration=function(Un){return arguments.length?(Dt=+Un,un):Dt},un.x=function(Un){return arguments.length?(Hr=Un,Ir=Un.copy(),he={x:0,y:0,k:1},un):Hr},un.y=function(Un){return arguments.length?(rn=Un,Zr=Un.copy(),he={x:0,y:0,k:1},un):rn};function Xr(Un){return[(Un[0]-he.x)/he.k,(Un[1]-he.y)/he.k]}function Nn(Un){return[Un[0]*he.k+he.x,Un[1]*he.k+he.y]}function Wn(Un){he.k=Math.max(st[0],Math.min(st[1],Un))}function Qn(Un,Ua){Ua=Nn(Ua),he.x+=Un[0]-Ua[0],he.y+=Un[1]-Ua[1]}function ia(Un,Ua,Oa,Za){Un.__chart__={x:he.x,y:he.y,k:he.k},Wn(Math.pow(2,Za)),Qn(Ge=Ua,Oa),Un=a.select(Un),Dt>0&&(Un=Un.transition().duration(Dt)),Un.call(un.event)}function Ta(){Hr&&Hr.domain(Ir.range().map(function(Un){return(Un-he.x)/he.k}).map(Ir.invert)),rn&&rn.domain(Zr.range().map(function(Un){return(Un-he.y)/he.k}).map(Zr.invert))}function wa(Un){vt++||Un({type:"zoomstart"})}function Va(Un){Ta(),Un({type:"zoom",scale:he.k,translate:[he.x,he.y]})}function La(Un){--vt||(Un({type:"zoomend"}),Ge=null)}function Na(){var Un=this,Ua=tn.of(Un,arguments),Oa=0,Za=a.select(t(Un)).on(tr,Vi).on(rr,bi),Ei=Xr(a.mouse(Un)),Oi=Oe(Un);Bt.call(Un),wa(Ua);function Vi(){Oa=1,Qn(a.mouse(Un),Ei),Va(Ua)}function bi(){Za.on(tr,null).on(rr,null),Oi(Oa),La(Ua)}}function $a(){var Un=this,Ua=tn.of(Un,arguments),Oa={},Za=0,Ei,Oi=".zoom-"+a.event.changedTouches[0].identifier,Vi="touchmove"+Oi,bi="touchend"+Oi,hi=[],xa=a.select(Un),Ea=Oe(Un);Hi(),wa(Ua),xa.on(Ut,null).on(Er,Hi);function wi(){var wo=a.touches(Un);return Ei=he.k,wo.forEach(function(Li){Li.identifier in Oa&&(Oa[Li.identifier]=Xr(Li))}),wo}function Hi(){var wo=a.event.target;a.select(wo).on(Vi,Bo).on(bi,eo),hi.push(wo);for(var Li=a.event.changedTouches,Yo=0,yi=Li.length;Yo<yi;++Yo)Oa[Li[Yo].identifier]=null;var xs=wi(),jo=Date.now();if(xs.length===1){if(jo-Jr<500){var Ka=xs[0];ia(Un,Ka,Oa[Ka.identifier],Math.floor(Math.log(he.k)/Math.LN2)+1),ue()}Jr=jo}else if(xs.length>1){var Ka=xs[0],Ti=xs[1],xc=Ka[0]-Ti[0],zf=Ka[1]-Ti[1];Za=xc*xc+zf*zf}}function Bo(){var wo=a.touches(Un),Li,Yo,yi,xs;Bt.call(Un);for(var jo=0,Ka=wo.length;jo<Ka;++jo,xs=null)if(yi=wo[jo],xs=Oa[yi.identifier]){if(Yo)break;Li=yi,Yo=xs}if(xs){var Ti=(Ti=yi[0]-Li[0])*Ti+(Ti=yi[1]-Li[1])*Ti,xc=Za&&Math.sqrt(Ti/Za);Li=[(Li[0]+yi[0])/2,(Li[1]+yi[1])/2],Yo=[(Yo[0]+xs[0])/2,(Yo[1]+xs[1])/2],Wn(xc*Ei)}Jr=null,Qn(Li,Yo),Va(Ua)}function eo(){if(a.event.touches.length){for(var wo=a.event.changedTouches,Li=0,Yo=wo.length;Li<Yo;++Li)delete Oa[wo[Li].identifier];for(var yi in Oa)return void wi()}a.selectAll(hi).on(Oi,null),xa.on(Ut,Na).on(Er,$a),Ea(),La(Ua)}}function ri(){var Un=tn.of(this,arguments);Pr?clearTimeout(Pr):(Bt.call(this),Pe=Xr(Ge=et||a.mouse(this)),wa(Un)),Pr=setTimeout(function(){Pr=null,La(Un)},50),ue(),Wn(Math.pow(2,wr()*.002)*he.k),Qn(Ge,Pe),Va(Un)}function fi(){var Un=a.mouse(this),Ua=Math.log(he.k)/Math.LN2;ia(this,Un,Xr(Un),a.event.shiftKey?Math.ceil(Ua)-1:Math.floor(Ua)+1)}return a.rebind(un,tn,"on")};var jt=[0,1/0],wr,vr;a.color=ct;function ct(){}ct.prototype.toString=function(){return this.rgb()+""},a.hsl=ut;function ut(he,Pe,Ge){return this instanceof ut?(this.h=+he,this.s=+Pe,void(this.l=+Ge)):arguments.length<2?he instanceof ut?new ut(he.h,he.s,he.l):gr(""+he,dr,ut):new ut(he,Pe,Ge)}var bt=ut.prototype=new ct;bt.brighter=function(he){return he=Math.pow(.7,arguments.length?he:1),new ut(this.h,this.s,this.l/he)},bt.darker=function(he){return he=Math.pow(.7,arguments.length?he:1),new ut(this.h,this.s,he*this.l)},bt.rgb=function(){return At(this.h,this.s,this.l)};function At(he,Pe,Ge){var et,nt;he=isNaN(he)?0:(he%=360)<0?he+360:he,Pe=isNaN(Pe)||Pe<0?0:Pe>1?1:Pe,Ge=Ge<0?0:Ge>1?1:Ge,nt=Ge<=.5?Ge*(1+Pe):Ge+Pe-Ge*Pe,et=2*Ge-nt;function st(vt){return vt>360?vt-=360:vt<0&&(vt+=360),vt<60?et+(nt-et)*vt/60:vt<180?nt:vt<240?et+(nt-et)*(240-vt)/60:et}function Dt(vt){return Math.round(st(vt)*255)}return new ur(Dt(he+120),Dt(he),Dt(he-120))}a.hcl=Ct;function Ct(he,Pe,Ge){return this instanceof Ct?(this.h=+he,this.c=+Pe,void(this.l=+Ge)):arguments.length<2?he instanceof Ct?new Ct(he.h,he.c,he.l):he instanceof Vt?kt(he.l,he.a,he.b):kt((he=Gr((he=a.rgb(he)).r,he.g,he.b)).l,he.a,he.b):new Ct(he,Pe,Ge)}var St=Ct.prototype=new ct;St.brighter=function(he){return new Ct(this.h,this.c,Math.min(100,this.l+qt*(arguments.length?he:1)))},St.darker=function(he){return new Ct(this.h,this.c,Math.max(0,this.l-qt*(arguments.length?he:1)))},St.rgb=function(){return zt(this.h,this.c,this.l).rgb()};function zt(he,Pe,Ge){return isNaN(he)&&(he=0),isNaN(Pe)&&(Pe=0),new Vt(Ge,Math.cos(he*=Tt)*Pe,Math.sin(he)*Pe)}a.lab=Vt;function Vt(he,Pe,Ge){return this instanceof Vt?(this.l=+he,this.a=+Pe,void(this.b=+Ge)):arguments.length<2?he instanceof Vt?new Vt(he.l,he.a,he.b):he instanceof Ct?zt(he.h,he.c,he.l):Gr((he=ur(he)).r,he.g,he.b):new Vt(he,Pe,Ge)}var qt=18,$t=.95047,sr=1,Cr=1.08883,Ze=Vt.prototype=new ct;Ze.brighter=function(he){return new Vt(Math.min(100,this.l+qt*(arguments.length?he:1)),this.a,this.b)},Ze.darker=function(he){return new Vt(Math.max(0,this.l-qt*(arguments.length?he:1)),this.a,this.b)},Ze.rgb=function(){return je(this.l,this.a,this.b)};function je(he,Pe,Ge){var et=(he+16)/116,nt=et+Pe/500,st=et-Ge/200;return nt=_t(nt)*$t,et=_t(et)*sr,st=_t(st)*Cr,new ur(ar(3.2404542*nt-1.5371385*et-.4985314*st),ar(-.969266*nt+1.8760108*et+.041556*st),ar(.0556434*nt-.2040259*et+1.0572252*st))}function kt(he,Pe,Ge){return he>0?new Ct(Math.atan2(Ge,Pe)*It,Math.sqrt(Pe*Pe+Ge*Ge),he):new Ct(NaN,NaN,he)}function _t(he){return he>.206893034?he*he*he:(he-.13793103448275862)/7.787037}function Zt(he){return he>.008856?Math.pow(he,.3333333333333333):7.787037*he+.13793103448275862}function ar(he){return Math.round(255*(he<=.00304?12.92*he:1.055*Math.pow(he,.4166666666666667)-.055))}a.rgb=ur;function ur(he,Pe,Ge){return this instanceof ur?(this.r=~~he,this.g=~~Pe,void(this.b=~~Ge)):arguments.length<2?he instanceof ur?new ur(he.r,he.g,he.b):gr(""+he,ur,At):new ur(he,Pe,Ge)}function nr(he){return new ur(he>>16,he>>8&255,he&255)}function Ot(he){return nr(he)+""}var cr=ur.prototype=new ct;cr.brighter=function(he){he=Math.pow(.7,arguments.length?he:1);var Pe=this.r,Ge=this.g,et=this.b,nt=30;return!Pe&&!Ge&&!et?new ur(nt,nt,nt):(Pe&&Pe<nt&&(Pe=nt),Ge&&Ge<nt&&(Ge=nt),et&&et<nt&&(et=nt),new ur(Math.min(255,Pe/he),Math.min(255,Ge/he),Math.min(255,et/he)))},cr.darker=function(he){return he=Math.pow(.7,arguments.length?he:1),new ur(he*this.r,he*this.g,he*this.b)},cr.hsl=function(){return dr(this.r,this.g,this.b)},cr.toString=function(){return"#"+pr(this.r)+pr(this.g)+pr(this.b)};function pr(he){return he<16?"0"+Math.max(0,he).toString(16):Math.min(255,he).toString(16)}function gr(he,Pe,Ge){var et=0,nt=0,st=0,Dt,vt,Ut;if(Dt=/([a-z]+)\((.*)\)/.exec(he=he.toLowerCase()),Dt)switch(vt=Dt[2].split(","),Dt[1]){case"hsl":return Ge(parseFloat(vt[0]),parseFloat(vt[1])/100,parseFloat(vt[2])/100);case"rgb":return Pe(Fr(vt[0]),Fr(vt[1]),Fr(vt[2]))}return(Ut=gn.get(he))?Pe(Ut.r,Ut.g,Ut.b):(he!=null&&he.charAt(0)==="#"&&!isNaN(Ut=parseInt(he.slice(1),16))&&(he.length===4?(et=(Ut&3840)>>4,et=et>>4|et,nt=Ut&240,nt=nt>>4|nt,st=Ut&15,st=st<<4|st):he.length===7&&(et=(Ut&16711680)>>16,nt=(Ut&65280)>>8,st=Ut&255)),Pe(et,nt,st))}function dr(he,Pe,Ge){var et=Math.min(he/=255,Pe/=255,Ge/=255),nt=Math.max(he,Pe,Ge),st=nt-et,Dt,vt,Ut=(nt+et)/2;return st?(vt=Ut<.5?st/(nt+et):st/(2-nt-et),he==nt?Dt=(Pe-Ge)/st+(Pe<Ge?6:0):Pe==nt?Dt=(Ge-he)/st+2:Dt=(he-Pe)/st+4,Dt*=60):(Dt=NaN,vt=Ut>0&&Ut<1?0:Dt),new ut(Dt,vt,Ut)}function Gr(he,Pe,Ge){he=kr(he),Pe=kr(Pe),Ge=kr(Ge);var et=Zt((.4124564*he+.3575761*Pe+.1804375*Ge)/$t),nt=Zt((.2126729*he+.7151522*Pe+.072175*Ge)/sr),st=Zt((.0193339*he+.119192*Pe+.9503041*Ge)/Cr);return Vt(116*nt-16,500*(et-nt),200*(nt-st))}function kr(he){return(he/=255)<=.04045?he/12.92:Math.pow((he+.055)/1.055,2.4)}function Fr(he){var Pe=parseFloat(he);return he.charAt(he.length-1)==="%"?Math.round(Pe*2.55):Pe}var gn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});gn.forEach(function(he,Pe){gn.set(he,nr(Pe))});function Kr(he){return typeof he=="function"?he:function(){return he}}a.functor=Kr,a.xhr=kn(B);function kn(he){return function(Pe,Ge,et){return arguments.length===2&&typeof Ge=="function"&&(et=Ge,Ge=null),In(Pe,Ge,he,et)}}function In(he,Pe,Ge,et){var nt={},st=a.dispatch("beforesend","progress","load","error"),Dt={},vt=new XMLHttpRequest,Ut=null;self.XDomainRequest&&!("withCredentials"in vt)&&/^(http(s)?:)?\/\//.test(he)&&(vt=new XDomainRequest),"onload"in vt?vt.onload=vt.onerror=tr:vt.onreadystatechange=function(){vt.readyState>3&&tr()};function tr(){var rr=vt.status,Pr;if(!rr&&Mr(vt)||rr>=200&&rr<300||rr===304){try{Pr=Ge.call(nt,vt)}catch(Er){st.error.call(nt,Er);return}st.load.call(nt,Pr)}else st.error.call(nt,vt)}return vt.onprogress=function(rr){var Pr=a.event;a.event=rr;try{st.progress.call(nt,vt)}finally{a.event=Pr}},nt.header=function(rr,Pr){return rr=(rr+"").toLowerCase(),arguments.length<2?Dt[rr]:(Pr==null?delete Dt[rr]:Dt[rr]=Pr+"",nt)},nt.mimeType=function(rr){return arguments.length?(Pe=rr==null?null:rr+"",nt):Pe},nt.responseType=function(rr){return arguments.length?(Ut=rr,nt):Ut},nt.response=function(rr){return Ge=rr,nt},["get","post"].forEach(function(rr){nt[rr]=function(){return nt.send.apply(nt,[rr].concat(x(arguments)))}}),nt.send=function(rr,Pr,Er){if(arguments.length===2&&typeof Pr=="function"&&(Er=Pr,Pr=null),vt.open(rr,he,!0),Pe!=null&&!("accept"in Dt)&&(Dt.accept=Pe+",*/*"),vt.setRequestHeader)for(var Jr in Dt)vt.setRequestHeader(Jr,Dt[Jr]);return Pe!=null&&vt.overrideMimeType&&vt.overrideMimeType(Pe),Ut!=null&&(vt.responseType=Ut),Er!=null&&nt.on("error",Er).on("load",function(tn){Er(null,tn)}),st.beforesend.call(nt,vt),vt.send(Pr??null),nt},nt.abort=function(){return vt.abort(),nt},a.rebind(nt,st,"on"),et==null?nt:nt.get(br(et))}function br(he){return he.length===1?function(Pe,Ge){he(Pe==null?Ge:null)}:he}function Mr(he){var Pe=he.responseType;return Pe&&Pe!=="text"?he.response:he.responseText}a.dsv=function(he,Pe){var Ge=new RegExp('["'+he+`
]`),et=he.charCodeAt(0);function nt(tr,rr,Pr){arguments.length<3&&(Pr=rr,rr=null);var Er=In(tr,Pe,rr==null?st:Dt(rr),Pr);return Er.row=function(Jr){return arguments.length?Er.response((rr=Jr)==null?st:Dt(Jr)):rr},Er}function st(tr){return nt.parse(tr.responseText)}function Dt(tr){return function(rr){return nt.parse(rr.responseText,tr)}}nt.parse=function(tr,rr){var Pr;return nt.parseRows(tr,function(Er,Jr){if(Pr)return Pr(Er,Jr-1);var tn=function(Ir){for(var Hr={},Zr=Er.length,rn=0;rn<Zr;++rn)Hr[Er[rn]]=Ir[rn];return Hr};Pr=rr?function(Ir,Hr){return rr(tn(Ir),Hr)}:tn})},nt.parseRows=function(tr,rr){var Pr={},Er={},Jr=[],tn=tr.length,Ir=0,Hr=0,Zr,rn;function un(){if(Ir>=tn)return Er;if(rn)return rn=!1,Pr;var Nn=Ir;if(tr.charCodeAt(Nn)===34){for(var Wn=Nn;Wn++<tn;)if(tr.charCodeAt(Wn)===34){if(tr.charCodeAt(Wn+1)!==34)break;++Wn}Ir=Wn+2;var Qn=tr.charCodeAt(Wn+1);return Qn===13?(rn=!0,tr.charCodeAt(Wn+2)===10&&++Ir):Qn===10&&(rn=!0),tr.slice(Nn+1,Wn).replace(/""/g,'"')}for(;Ir<tn;){var Qn=tr.charCodeAt(Ir++),ia=1;if(Qn===10)rn=!0;else if(Qn===13)rn=!0,tr.charCodeAt(Ir)===10&&(++Ir,++ia);else if(Qn!==et)continue;return tr.slice(Nn,Ir-ia)}return tr.slice(Nn)}for(;(Zr=un())!==Er;){for(var Xr=[];Zr!==Pr&&Zr!==Er;)Xr.push(Zr),Zr=un();rr&&(Xr=rr(Xr,Hr++))==null||Jr.push(Xr)}return Jr},nt.format=function(tr){if(Array.isArray(tr[0]))return nt.formatRows(tr);var rr=new _,Pr=[];return tr.forEach(function(Er){for(var Jr in Er)rr.has(Jr)||Pr.push(rr.add(Jr))}),[Pr.map(Ut).join(he)].concat(tr.map(function(Er){return Pr.map(function(Jr){return Ut(Er[Jr])}).join(he)})).join(`
`)},nt.formatRows=function(tr){return tr.map(vt).join(`
`)};function vt(tr){return tr.map(Ut).join(he)}function Ut(tr){return Ge.test(tr)?'"'+tr.replace(/\"/g,'""')+'"':tr}return nt},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Br,Nr,en,dn,cn=this[O(this,"requestAnimationFrame")]||function(he){setTimeout(he,17)};a.timer=function(){An.apply(this,arguments)};function An(he,Pe,Ge){var et=arguments.length;et<2&&(Pe=0),et<3&&(Ge=Date.now());var nt=Ge+Pe,st={c:he,t:nt,n:null};return Nr?Nr.n=st:Br=st,Nr=st,en||(dn=clearTimeout(dn),en=1,cn(Rn)),st}function Rn(){var he=Jn(),Pe=ta()-he;Pe>24?(isFinite(Pe)&&(clearTimeout(dn),dn=setTimeout(Rn,Pe)),en=0):(en=1,cn(Rn))}a.timer.flush=function(){Jn(),ta()};function Jn(){for(var he=Date.now(),Pe=Br;Pe;)he>=Pe.t&&Pe.c(he-Pe.t)&&(Pe.c=null),Pe=Pe.n;return he}function ta(){for(var he,Pe=Br,Ge=1/0;Pe;)Pe.c?(Pe.t<Ge&&(Ge=Pe.t),Pe=(he=Pe).n):Pe=he?he.n=Pe.n:Br=Pe.n;return Nr=he,Ge}a.round=function(he,Pe){return Pe?Math.round(he*(Pe=Math.pow(10,Pe)))/Pe:Math.round(he)},a.geom={};function fa(he){return he[0]}function na(he){return he[1]}a.geom.hull=function(he){var Pe=fa,Ge=na;if(arguments.length)return et(he);function et(nt){if(nt.length<3)return[];var st=Kr(Pe),Dt=Kr(Ge),vt,Ut=nt.length,tr=[],rr=[];for(vt=0;vt<Ut;vt++)tr.push([+st.call(this,nt[vt],vt),+Dt.call(this,nt[vt],vt),vt]);for(tr.sort(Sr),vt=0;vt<Ut;vt++)rr.push([tr[vt][0],-tr[vt][1]]);var Pr=ra(tr),Er=ra(rr),Jr=Er[0]===Pr[0],tn=Er[Er.length-1]===Pr[Pr.length-1],Ir=[];for(vt=Pr.length-1;vt>=0;--vt)Ir.push(nt[tr[Pr[vt]][2]]);for(vt=+Jr;vt<Er.length-tn;++vt)Ir.push(nt[tr[Er[vt]][2]]);return Ir}return et.x=function(nt){return arguments.length?(Pe=nt,et):Pe},et.y=function(nt){return arguments.length?(Ge=nt,et):Ge},et};function ra(he){for(var Pe=he.length,Ge=[0,1],et=2,nt=2;nt<Pe;nt++){for(;et>1&&Ht(he[Ge[et-2]],he[Ge[et-1]],he[nt])<=0;)--et;Ge[et++]=nt}return Ge.slice(0,et)}function Sr(he,Pe){return he[0]-Pe[0]||he[1]-Pe[1]}a.geom.polygon=function(he){return Q(he,sn),he};var sn=a.geom.polygon.prototype=[];sn.area=function(){for(var he=-1,Pe=this.length,Ge,et=this[Pe-1],nt=0;++he<Pe;)Ge=et,et=this[he],nt+=Ge[1]*et[0]-Ge[0]*et[1];return nt*.5},sn.centroid=function(he){var Pe=-1,Ge=this.length,et=0,nt=0,st,Dt=this[Ge-1],vt;for(arguments.length||(he=-1/(6*this.area()));++Pe<Ge;)st=Dt,Dt=this[Pe],vt=st[0]*Dt[1]-Dt[0]*st[1],et+=(st[0]+Dt[0])*vt,nt+=(st[1]+Dt[1])*vt;return[et*he,nt*he]},sn.clip=function(he){for(var Pe,Ge=Hn(he),et=-1,nt=this.length-Hn(this),st,Dt,vt=this[nt-1],Ut,tr,rr;++et<nt;){for(Pe=he.slice(),he.length=0,Ut=this[et],tr=Pe[(Dt=Pe.length-Ge)-1],st=-1;++st<Dt;)rr=Pe[st],an(rr,vt,Ut)?(an(tr,vt,Ut)||he.push(yn(tr,rr,vt,Ut)),he.push(rr)):an(tr,vt,Ut)&&he.push(yn(tr,rr,vt,Ut)),tr=rr;Ge&&he.push(he[0]),vt=Ut}return he};function an(he,Pe,Ge){return(Ge[0]-Pe[0])*(he[1]-Pe[1])<(Ge[1]-Pe[1])*(he[0]-Pe[0])}function yn(he,Pe,Ge,et){var nt=he[0],st=Ge[0],Dt=Pe[0]-nt,vt=et[0]-st,Ut=he[1],tr=Ge[1],rr=Pe[1]-Ut,Pr=et[1]-tr,Er=(vt*(Ut-tr)-Pr*(nt-st))/(Pr*Dt-vt*rr);return[nt+Er*Dt,Ut+Er*rr]}function Hn(he){var Pe=he[0],Ge=he[he.length-1];return!(Pe[0]-Ge[0]||Pe[1]-Ge[1])}var Cn,Ln,Gn,oa=[],Da,Xa,Xt=[];function Tr(){xo(this),this.edge=this.site=this.circle=null}function on(he){var Pe=oa.pop()||new Tr;return Pe.site=he,Pe}function hn(he){Yn(he),Gn.remove(he),oa.push(he),xo(he)}function vn(he){var Pe=he.circle,Ge=Pe.x,et=Pe.cy,nt={x:Ge,y:et},st=he.P,Dt=he.N,vt=[he];hn(he);for(var Ut=st;Ut.circle&&p(Ge-Ut.circle.x)<ce&&p(et-Ut.circle.cy)<ce;)st=Ut.P,vt.unshift(Ut),hn(Ut),Ut=st;vt.unshift(Ut),Yn(Ut);for(var tr=Dt;tr.circle&&p(Ge-tr.circle.x)<ce&&p(et-tr.circle.cy)<ce;)Dt=tr.N,vt.push(tr),hn(tr),tr=Dt;vt.push(tr),Yn(tr);var rr=vt.length,Pr;for(Pr=1;Pr<rr;++Pr)tr=vt[Pr],Ut=vt[Pr-1],ya(tr.edge,Ut.site,tr.site,nt);Ut=vt[0],tr=vt[rr-1],tr.edge=sa(Ut.site,tr.site,null,nt),_n(Ut),_n(tr)}function Pn(he){for(var Pe=he.x,Ge=he.y,et,nt,st,Dt,vt=Gn._;vt;)if(st=Tn(vt,Ge)-Pe,st>ce)vt=vt.L;else if(Dt=Pe-fn(vt,Ge),Dt>ce){if(!vt.R){et=vt;break}vt=vt.R}else{st>-ce?(et=vt.P,nt=vt):Dt>-ce?(et=vt,nt=vt.N):et=nt=vt;break}var Ut=on(he);if(Gn.insert(et,Ut),!(!et&&!nt)){if(et===nt){Yn(et),nt=on(et.site),Gn.insert(Ut,nt),Ut.edge=nt.edge=sa(et.site,Ut.site),_n(et),_n(nt);return}if(!nt){Ut.edge=sa(et.site,Ut.site);return}Yn(et),Yn(nt);var tr=et.site,rr=tr.x,Pr=tr.y,Er=he.x-rr,Jr=he.y-Pr,tn=nt.site,Ir=tn.x-rr,Hr=tn.y-Pr,Zr=2*(Er*Hr-Jr*Ir),rn=Er*Er+Jr*Jr,un=Ir*Ir+Hr*Hr,Xr={x:(Hr*rn-Jr*un)/Zr+rr,y:(Er*un-Ir*rn)/Zr+Pr};ya(nt.edge,tr,tn,Xr),Ut.edge=sa(tr,he,null,Xr),nt.edge=sa(he,tn,null,Xr),_n(et),_n(nt)}}function Tn(he,Pe){var Ge=he.site,et=Ge.x,nt=Ge.y,st=nt-Pe;if(!st)return et;var Dt=he.P;if(!Dt)return-1/0;Ge=Dt.site;var vt=Ge.x,Ut=Ge.y,tr=Ut-Pe;if(!tr)return vt;var rr=vt-et,Pr=1/st-1/tr,Er=rr/tr;return Pr?(-Er+Math.sqrt(Er*Er-2*Pr*(rr*rr/(-2*tr)-Ut+tr/2+nt-st/2)))/Pr+et:(et+vt)/2}function fn(he,Pe){var Ge=he.N;if(Ge)return Tn(Ge,Pe);var et=he.site;return et.y===Pe?et.x:1/0}function Dr(he){this.site=he,this.edges=[]}Dr.prototype.prepare=function(){for(var he=this.edges,Pe=he.length,Ge;Pe--;)Ge=he[Pe].edge,(!Ge.b||!Ge.a)&&he.splice(Pe,1);return he.sort(Or),he.length};function Lr(he){for(var Pe=he[0][0],Ge=he[1][0],et=he[0][1],nt=he[1][1],st,Dt,vt,Ut,tr=Ln,rr=tr.length,Pr,Er,Jr,tn,Ir,Hr;rr--;)if(Pr=tr[rr],!(!Pr||!Pr.prepare()))for(Jr=Pr.edges,tn=Jr.length,Er=0;Er<tn;)Hr=Jr[Er].end(),vt=Hr.x,Ut=Hr.y,Ir=Jr[++Er%tn].start(),st=Ir.x,Dt=Ir.y,(p(vt-st)>ce||p(Ut-Dt)>ce)&&(Jr.splice(Er,0,new Qi(la(Pr.site,Hr,p(vt-Pe)<ce&&nt-Ut>ce?{x:Pe,y:p(st-Pe)<ce?Dt:nt}:p(Ut-nt)<ce&&Ge-vt>ce?{x:p(Dt-nt)<ce?st:Ge,y:nt}:p(vt-Ge)<ce&&Ut-et>ce?{x:Ge,y:p(st-Ge)<ce?Dt:et}:p(Ut-et)<ce&&vt-Pe>ce?{x:p(Dt-et)<ce?st:Pe,y:et}:null),Pr.site,null)),++tn)}function Or(he,Pe){return Pe.angle-he.angle}function pn(){xo(this),this.x=this.y=this.arc=this.site=this.cy=null}function _n(he){var Pe=he.P,Ge=he.N;if(!(!Pe||!Ge)){var et=Pe.site,nt=he.site,st=Ge.site;if(et!==st){var Dt=nt.x,vt=nt.y,Ut=et.x-Dt,tr=et.y-vt,rr=st.x-Dt,Hr=st.y-vt,Pr=2*(Ut*Hr-tr*rr);if(!(Pr>=-be)){var Er=Ut*Ut+tr*tr,Jr=rr*rr+Hr*Hr,tn=(Hr*Er-tr*Jr)/Pr,Ir=(Ut*Jr-rr*Er)/Pr,Hr=Ir+vt,Zr=Xt.pop()||new pn;Zr.arc=he,Zr.site=nt,Zr.x=tn+Dt,Zr.y=Hr+Math.sqrt(tn*tn+Ir*Ir),Zr.cy=Hr,he.circle=Zr;for(var rn=null,un=Xa._;un;)if(Zr.y<un.y||Zr.y===un.y&&Zr.x<=un.x)if(un.L)un=un.L;else{rn=un.P;break}else if(un.R)un=un.R;else{rn=un;break}Xa.insert(rn,Zr),rn||(Da=Zr)}}}}function Yn(he){var Pe=he.circle;Pe&&(Pe.P||(Da=Pe.N),Xa.remove(Pe),Xt.push(Pe),xo(Pe),he.circle=null)}function mn(he,Pe,Ge,et){return function(nt){var st=nt.a,Dt=nt.b,vt=st.x,Ut=st.y,tr=Dt.x,rr=Dt.y,Pr=0,Er=1,Jr=tr-vt,tn=rr-Ut,Ir;if(Ir=he-vt,!(!Jr&&Ir>0)){if(Ir/=Jr,Jr<0){if(Ir<Pr)return;Ir<Er&&(Er=Ir)}else if(Jr>0){if(Ir>Er)return;Ir>Pr&&(Pr=Ir)}if(Ir=Ge-vt,!(!Jr&&Ir<0)){if(Ir/=Jr,Jr<0){if(Ir>Er)return;Ir>Pr&&(Pr=Ir)}else if(Jr>0){if(Ir<Pr)return;Ir<Er&&(Er=Ir)}if(Ir=Pe-Ut,!(!tn&&Ir>0)){if(Ir/=tn,tn<0){if(Ir<Pr)return;Ir<Er&&(Er=Ir)}else if(tn>0){if(Ir>Er)return;Ir>Pr&&(Pr=Ir)}if(Ir=et-Ut,!(!tn&&Ir<0)){if(Ir/=tn,tn<0){if(Ir>Er)return;Ir>Pr&&(Pr=Ir)}else if(tn>0){if(Ir<Pr)return;Ir<Er&&(Er=Ir)}return Pr>0&&(nt.a={x:vt+Pr*Jr,y:Ut+Pr*tn}),Er<1&&(nt.b={x:vt+Er*Jr,y:Ut+Er*tn}),nt}}}}}}function On(he){for(var Pe=Cn,Ge=mn(he[0][0],he[0][1],he[1][0],he[1][1]),et=Pe.length,nt;et--;)nt=Pe[et],(!ea(nt,he)||!Ge(nt)||p(nt.a.x-nt.b.x)<ce&&p(nt.a.y-nt.b.y)<ce)&&(nt.a=nt.b=null,Pe.splice(et,1))}function ea(he,Pe){var Ge=he.b;if(Ge)return!0;var et=he.a,nt=Pe[0][0],st=Pe[1][0],Dt=Pe[0][1],vt=Pe[1][1],Ut=he.l,tr=he.r,rr=Ut.x,Pr=Ut.y,Er=tr.x,Jr=tr.y,tn=(rr+Er)/2,Ir=(Pr+Jr)/2,Hr,Zr;if(Jr===Pr){if(tn<nt||tn>=st)return;if(rr>Er){if(!et)et={x:tn,y:Dt};else if(et.y>=vt)return;Ge={x:tn,y:vt}}else{if(!et)et={x:tn,y:vt};else if(et.y<Dt)return;Ge={x:tn,y:Dt}}}else if(Hr=(rr-Er)/(Jr-Pr),Zr=Ir-Hr*tn,Hr<-1||Hr>1)if(rr>Er){if(!et)et={x:(Dt-Zr)/Hr,y:Dt};else if(et.y>=vt)return;Ge={x:(vt-Zr)/Hr,y:vt}}else{if(!et)et={x:(vt-Zr)/Hr,y:vt};else if(et.y<Dt)return;Ge={x:(Dt-Zr)/Hr,y:Dt}}else if(Pr<Jr){if(!et)et={x:nt,y:Hr*nt+Zr};else if(et.x>=st)return;Ge={x:st,y:Hr*st+Zr}}else{if(!et)et={x:st,y:Hr*st+Zr};else if(et.x<nt)return;Ge={x:nt,y:Hr*nt+Zr}}return he.a=et,he.b=Ge,!0}function ca(he,Pe){this.l=he,this.r=Pe,this.a=this.b=null}function sa(he,Pe,Ge,et){var nt=new ca(he,Pe);return Cn.push(nt),Ge&&ya(nt,he,Pe,Ge),et&&ya(nt,Pe,he,et),Ln[he.i].edges.push(new Qi(nt,he,Pe)),Ln[Pe.i].edges.push(new Qi(nt,Pe,he)),nt}function la(he,Pe,Ge){var et=new ca(he,null);return et.a=Pe,et.b=Ge,Cn.push(et),et}function ya(he,Pe,Ge,et){!he.a&&!he.b?(he.a=et,he.l=Pe,he.r=Ge):he.l===Ge?he.b=et:he.a=et}function Qi(he,Pe,Ge){var et=he.a,nt=he.b;this.edge=he,this.site=Pe,this.angle=Ge?Math.atan2(Ge.y-Pe.y,Ge.x-Pe.x):he.l===Pe?Math.atan2(nt.x-et.x,et.y-nt.y):Math.atan2(et.x-nt.x,nt.y-et.y)}Qi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function vo(){this._=null}function xo(he){he.U=he.C=he.L=he.R=he.P=he.N=null}vo.prototype={insert:function(he,Pe){var Ge,et,nt;if(he){if(Pe.P=he,Pe.N=he.N,he.N&&(he.N.P=Pe),he.N=Pe,he.R){for(he=he.R;he.L;)he=he.L;he.L=Pe}else he.R=Pe;Ge=he}else this._?(he=hf(this._),Pe.P=null,Pe.N=he,he.P=he.L=Pe,Ge=he):(Pe.P=Pe.N=null,this._=Pe,Ge=null);for(Pe.L=Pe.R=null,Pe.U=Ge,Pe.C=!0,he=Pe;Ge&&Ge.C;)et=Ge.U,Ge===et.L?(nt=et.R,nt&&nt.C?(Ge.C=nt.C=!1,et.C=!0,he=et):(he===Ge.R&&(Eo(this,Ge),he=Ge,Ge=he.U),Ge.C=!1,et.C=!0,bo(this,et))):(nt=et.L,nt&&nt.C?(Ge.C=nt.C=!1,et.C=!0,he=et):(he===Ge.L&&(bo(this,Ge),he=Ge,Ge=he.U),Ge.C=!1,et.C=!0,Eo(this,et))),Ge=he.U;this._.C=!1},remove:function(he){he.N&&(he.N.P=he.P),he.P&&(he.P.N=he.N),he.N=he.P=null;var Pe=he.U,Ge,et=he.L,nt=he.R,st,Dt;if(et?nt?st=hf(nt):st=et:st=nt,Pe?Pe.L===he?Pe.L=st:Pe.R=st:this._=st,et&&nt?(Dt=st.C,st.C=he.C,st.L=et,et.U=st,st!==nt?(Pe=st.U,st.U=he.U,he=st.R,Pe.L=he,st.R=nt,nt.U=st):(st.U=Pe,Pe=st,he=st.R)):(Dt=he.C,he=st),he&&(he.U=Pe),!Dt){if(he&&he.C){he.C=!1;return}do{if(he===this._)break;if(he===Pe.L){if(Ge=Pe.R,Ge.C&&(Ge.C=!1,Pe.C=!0,Eo(this,Pe),Ge=Pe.R),Ge.L&&Ge.L.C||Ge.R&&Ge.R.C){(!Ge.R||!Ge.R.C)&&(Ge.L.C=!1,Ge.C=!0,bo(this,Ge),Ge=Pe.R),Ge.C=Pe.C,Pe.C=Ge.R.C=!1,Eo(this,Pe),he=this._;break}}else if(Ge=Pe.L,Ge.C&&(Ge.C=!1,Pe.C=!0,bo(this,Pe),Ge=Pe.L),Ge.L&&Ge.L.C||Ge.R&&Ge.R.C){(!Ge.L||!Ge.L.C)&&(Ge.R.C=!1,Ge.C=!0,Eo(this,Ge),Ge=Pe.L),Ge.C=Pe.C,Pe.C=Ge.L.C=!1,bo(this,Pe),he=this._;break}Ge.C=!0,he=Pe,Pe=Pe.U}while(!he.C);he&&(he.C=!1)}}};function Eo(he,Pe){var Ge=Pe,et=Pe.R,nt=Ge.U;nt?nt.L===Ge?nt.L=et:nt.R=et:he._=et,et.U=nt,Ge.U=et,Ge.R=et.L,Ge.R&&(Ge.R.U=Ge),et.L=Ge}function bo(he,Pe){var Ge=Pe,et=Pe.L,nt=Ge.U;nt?nt.L===Ge?nt.L=et:nt.R=et:he._=et,et.U=nt,Ge.U=et,Ge.L=et.R,Ge.L&&(Ge.L.U=Ge),et.R=Ge}function hf(he){for(;he.L;)he=he.L;return he}function ti(he,Pe){var Ge=he.sort(nu).pop(),et,nt,st;for(Cn=[],Ln=new Array(he.length),Gn=new vo,Xa=new vo;;)if(st=Da,Ge&&(!st||Ge.y<st.y||Ge.y===st.y&&Ge.x<st.x))(Ge.x!==et||Ge.y!==nt)&&(Ln[Ge.i]=new Dr(Ge),Pn(Ge),et=Ge.x,nt=Ge.y),Ge=he.pop();else if(st)vn(st.arc);else break;Pe&&(On(Pe),Lr(Pe));var Dt={cells:Ln,edges:Cn};return Gn=Xa=Cn=Ln=null,Dt}function nu(he,Pe){return Pe.y-he.y||Pe.x-he.x}a.geom.voronoi=function(he){var Pe=fa,Ge=na,et=Pe,nt=Ge,st=Il;if(he)return Dt(he);function Dt(Ut){var tr=new Array(Ut.length),rr=st[0][0],Pr=st[0][1],Er=st[1][0],Jr=st[1][1];return ti(vt(Ut),st).cells.forEach(function(tn,Ir){var Hr=tn.edges,Zr=tn.site,rn=tr[Ir]=Hr.length?Hr.map(function(un){var Xr=un.start();return[Xr.x,Xr.y]}):Zr.x>=rr&&Zr.x<=Er&&Zr.y>=Pr&&Zr.y<=Jr?[[rr,Jr],[Er,Jr],[Er,Pr],[rr,Pr]]:[];rn.point=Ut[Ir]}),tr}function vt(Ut){return Ut.map(function(tr,rr){return{x:Math.round(et(tr,rr)/ce)*ce,y:Math.round(nt(tr,rr)/ce)*ce,i:rr}})}return Dt.links=function(Ut){return ti(vt(Ut)).edges.filter(function(tr){return tr.l&&tr.r}).map(function(tr){return{source:Ut[tr.l.i],target:Ut[tr.r.i]}})},Dt.triangles=function(Ut){var tr=[];return ti(vt(Ut)).cells.forEach(function(rr,Pr){for(var Er=rr.site,Jr=rr.edges.sort(Or),tn=-1,Ir=Jr.length,Hr,Zr=Jr[Ir-1].edge,rn=Zr.l===Er?Zr.r:Zr.l;++tn<Ir;)Hr=rn,Zr=Jr[tn].edge,rn=Zr.l===Er?Zr.r:Zr.l,Pr<Hr.i&&Pr<rn.i&&$i(Er,Hr,rn)<0&&tr.push([Ut[Pr],Ut[Hr.i],Ut[rn.i]])}),tr},Dt.x=function(Ut){return arguments.length?(et=Kr(Pe=Ut),Dt):Pe},Dt.y=function(Ut){return arguments.length?(nt=Kr(Ge=Ut),Dt):Ge},Dt.clipExtent=function(Ut){return arguments.length?(st=Ut??Il,Dt):st===Il?null:st},Dt.size=function(Ut){return arguments.length?Dt.clipExtent(Ut&&[[0,0],Ut]):st===Il?null:st&&st[1]},Dt};var Il=[[-1e6,-1e6],[1e6,1e6]];function $i(he,Pe,Ge){return(he.x-Ge.x)*(Pe.y-he.y)-(he.x-Pe.x)*(Ge.y-he.y)}a.geom.delaunay=function(he){return a.geom.voronoi().triangles(he)},a.geom.quadtree=function(he,Pe,Ge,et,nt){var st=fa,Dt=na,vt;if(vt=arguments.length)return st=Co,Dt=tc,vt===3&&(nt=Ge,et=Pe,Ge=Pe=0),Ut(he);function Ut(tr){var rr,Pr=Kr(st),Er=Kr(Dt),Jr,tn,Ir,Hr,Zr,rn,un,Xr;if(Pe!=null)Zr=Pe,rn=Ge,un=et,Xr=nt;else if(un=Xr=-(Zr=rn=1/0),Jr=[],tn=[],Hr=tr.length,vt)for(Ir=0;Ir<Hr;++Ir)rr=tr[Ir],rr.x<Zr&&(Zr=rr.x),rr.y<rn&&(rn=rr.y),rr.x>un&&(un=rr.x),rr.y>Xr&&(Xr=rr.y),Jr.push(rr.x),tn.push(rr.y);else for(Ir=0;Ir<Hr;++Ir){var Nn=+Pr(rr=tr[Ir],Ir),Wn=+Er(rr,Ir);Nn<Zr&&(Zr=Nn),Wn<rn&&(rn=Wn),Nn>un&&(un=Nn),Wn>Xr&&(Xr=Wn),Jr.push(Nn),tn.push(Wn)}var Qn=un-Zr,ia=Xr-rn;Qn>ia?Xr=rn+Qn:un=Zr+ia;function Ta(La,Na,$a,ri,fi,Un,Ua,Oa){if(!(isNaN($a)||isNaN(ri)))if(La.leaf){var Za=La.x,Ei=La.y;if(Za!=null)if(p(Za-$a)+p(Ei-ri)<.01)wa(La,Na,$a,ri,fi,Un,Ua,Oa);else{var Oi=La.point;La.x=La.y=La.point=null,wa(La,Oi,Za,Ei,fi,Un,Ua,Oa),wa(La,Na,$a,ri,fi,Un,Ua,Oa)}else La.x=$a,La.y=ri,La.point=Na}else wa(La,Na,$a,ri,fi,Un,Ua,Oa)}function wa(La,Na,$a,ri,fi,Un,Ua,Oa){var Za=(fi+Ua)*.5,Ei=(Un+Oa)*.5,Oi=$a>=Za,Vi=ri>=Ei,bi=Vi<<1|Oi;La.leaf=!1,La=La.nodes[bi]||(La.nodes[bi]=au()),Oi?fi=Za:Ua=Za,Vi?Un=Ei:Oa=Ei,Ta(La,Na,$a,ri,fi,Un,Ua,Oa)}var Va=au();if(Va.add=function(La){Ta(Va,La,+Pr(La,++Ir),+Er(La,Ir),Zr,rn,un,Xr)},Va.visit=function(La){Di(La,Va,Zr,rn,un,Xr)},Va.find=function(La){return iu(Va,La[0],La[1],Zr,rn,un,Xr)},Ir=-1,Pe==null){for(;++Ir<Hr;)Ta(Va,tr[Ir],Jr[Ir],tn[Ir],Zr,rn,un,Xr);--Ir}else tr.forEach(Va.add);return Jr=tn=tr=rr=null,Va}return Ut.x=function(tr){return arguments.length?(st=tr,Ut):st},Ut.y=function(tr){return arguments.length?(Dt=tr,Ut):Dt},Ut.extent=function(tr){return arguments.length?(tr==null?Pe=Ge=et=nt=null:(Pe=+tr[0][0],Ge=+tr[0][1],et=+tr[1][0],nt=+tr[1][1]),Ut):Pe==null?null:[[Pe,Ge],[et,nt]]},Ut.size=function(tr){return arguments.length?(tr==null?Pe=Ge=et=nt=null:(Pe=Ge=0,et=+tr[0],nt=+tr[1]),Ut):Pe==null?null:[et-Pe,nt-Ge]},Ut};function Co(he){return he.x}function tc(he){return he.y}function au(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Di(he,Pe,Ge,et,nt,st){if(!he(Pe,Ge,et,nt,st)){var Dt=(Ge+nt)*.5,vt=(et+st)*.5,Ut=Pe.nodes;Ut[0]&&Di(he,Ut[0],Ge,et,Dt,vt),Ut[1]&&Di(he,Ut[1],Dt,et,nt,vt),Ut[2]&&Di(he,Ut[2],Ge,vt,Dt,st),Ut[3]&&Di(he,Ut[3],Dt,vt,nt,st)}}function iu(he,Pe,Ge,et,nt,st,Dt){var vt=1/0,Ut;return function tr(rr,Pr,Er,Jr,tn){if(!(Pr>st||Er>Dt||Jr<et||tn<nt)){if(Ir=rr.point){var Ir,Hr=Pe-rr.x,Zr=Ge-rr.y,rn=Hr*Hr+Zr*Zr;if(rn<vt){var un=Math.sqrt(vt=rn);et=Pe-un,nt=Ge-un,st=Pe+un,Dt=Ge+un,Ut=Ir}}for(var Xr=rr.nodes,Nn=(Pr+Jr)*.5,Wn=(Er+tn)*.5,Qn=Pe>=Nn,ia=Ge>=Wn,Ta=ia<<1|Qn,wa=Ta+4;Ta<wa;++Ta)if(rr=Xr[Ta&3])switch(Ta&3){case 0:tr(rr,Pr,Er,Nn,Wn);break;case 1:tr(rr,Nn,Er,Jr,Wn);break;case 2:tr(rr,Pr,Wn,Nn,tn);break;case 3:tr(rr,Nn,Wn,Jr,tn);break}}}(he,et,nt,st,Dt),Ut}a.interpolateRgb=_o;function _o(he,Pe){he=a.rgb(he),Pe=a.rgb(Pe);var Ge=he.r,et=he.g,nt=he.b,st=Pe.r-Ge,Dt=Pe.g-et,vt=Pe.b-nt;return function(Ut){return"#"+pr(Math.round(Ge+st*Ut))+pr(Math.round(et+Dt*Ut))+pr(Math.round(nt+vt*Ut))}}a.interpolateObject=ji;function ji(he,Pe){var Ge={},et={},nt;for(nt in he)nt in Pe?Ge[nt]=Ps(he[nt],Pe[nt]):et[nt]=he[nt];for(nt in Pe)nt in he||(et[nt]=Pe[nt]);return function(st){for(nt in Ge)et[nt]=Ge[nt](st);return et}}a.interpolateNumber=zo;function zo(he,Pe){return he=+he,Pe=+Pe,function(Ge){return he*(1-Ge)+Pe*Ge}}a.interpolateString=po;function po(he,Pe){var Ge=Go.lastIndex=hs.lastIndex=0,et,nt,st,Dt=-1,vt=[],Ut=[];for(he=he+"",Pe=Pe+"";(et=Go.exec(he))&&(nt=hs.exec(Pe));)(st=nt.index)>Ge&&(st=Pe.slice(Ge,st),vt[Dt]?vt[Dt]+=st:vt[++Dt]=st),(et=et[0])===(nt=nt[0])?vt[Dt]?vt[Dt]+=nt:vt[++Dt]=nt:(vt[++Dt]=null,Ut.push({i:Dt,x:zo(et,nt)})),Ge=hs.lastIndex;return Ge<Pe.length&&(st=Pe.slice(Ge),vt[Dt]?vt[Dt]+=st:vt[++Dt]=st),vt.length<2?Ut[0]?(Pe=Ut[0].x,function(tr){return Pe(tr)+""}):function(){return Pe}:(Pe=Ut.length,function(tr){for(var rr=0,Pr;rr<Pe;++rr)vt[(Pr=Ut[rr]).i]=Pr.x(tr);return vt.join("")})}var Go=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hs=new RegExp(Go.source,"g");a.interpolate=Ps;function Ps(he,Pe){for(var Ge=a.interpolators.length,et;--Ge>=0&&!(et=a.interpolators[Ge](he,Pe)););return et}a.interpolators=[function(he,Pe){var Ge=typeof Pe;return(Ge==="string"?gn.has(Pe.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Pe)?_o:po:Pe instanceof ct?_o:Array.isArray(Pe)?ro:Ge==="object"&&isNaN(Pe)?ji:zo)(he,Pe)}],a.interpolateArray=ro;function ro(he,Pe){var Ge=[],et=[],nt=he.length,st=Pe.length,Dt=Math.min(he.length,Pe.length),vt;for(vt=0;vt<Dt;++vt)Ge.push(Ps(he[vt],Pe[vt]));for(;vt<nt;++vt)et[vt]=he[vt];for(;vt<st;++vt)et[vt]=Pe[vt];return function(Ut){for(vt=0;vt<Dt;++vt)et[vt]=Ge[vt](Ut);return et}}var rc=function(){return B},vs=a.map({linear:rc,poly:ou,quad:function(){return df},cubic:function(){return pf},sin:function(){return ah},exp:function(){return ih},circle:function(){return oh},elastic:gf,back:sh,bounce:function(){return lh}}),no=a.map({in:B,out:Rs,"in-out":ds,"out-in":function(he){return ds(Rs(he))}});a.ease=function(he){var Pe=he.indexOf("-"),Ge=Pe>=0?he.slice(0,Pe):he,et=Pe>=0?he.slice(Pe+1):"in";return Ge=vs.get(Ge)||rc,et=no.get(et)||B,vf(et(Ge.apply(null,L.call(arguments,1))))};function vf(he){return function(Pe){return Pe<=0?0:Pe>=1?1:he(Pe)}}function Rs(he){return function(Pe){return 1-he(1-Pe)}}function ds(he){return function(Pe){return .5*(Pe<.5?he(2*Pe):2-he(2-2*Pe))}}function df(he){return he*he}function pf(he){return he*he*he}function nh(he){if(he<=0)return 0;if(he>=1)return 1;var Pe=he*he,Ge=Pe*he;return 4*(he<.5?Ge:3*(he-Pe)+Ge-.75)}function ou(he){return function(Pe){return Math.pow(Pe,he)}}function ah(he){return 1-Math.cos(he*ot)}function ih(he){return Math.pow(2,10*(he-1))}function oh(he){return 1-Math.sqrt(1-he*he)}function gf(he,Pe){var Ge;return arguments.length<2&&(Pe=.45),arguments.length?Ge=Pe/Ve*Math.asin(1/he):(he=1,Ge=Pe/4),function(et){return 1+he*Math.pow(2,-10*et)*Math.sin((et-Ge)*Ve/Pe)}}function sh(he){return he||(he=1.70158),function(Pe){return Pe*Pe*((he+1)*Pe-he)}}function lh(he){return he<.36363636363636365?7.5625*he*he:he<.7272727272727273?7.5625*(he-=.5454545454545454)*he+.75:he<.9090909090909091?7.5625*(he-=.8181818181818182)*he+.9375:7.5625*(he-=.9545454545454546)*he+.984375}a.interpolateHcl=nc;function nc(he,Pe){he=a.hcl(he),Pe=a.hcl(Pe);var Ge=he.h,et=he.c,nt=he.l,st=Pe.h-Ge,Dt=Pe.c-et,vt=Pe.l-nt;return isNaN(Dt)&&(Dt=0,et=isNaN(et)?Pe.c:et),isNaN(st)?(st=0,Ge=isNaN(Ge)?Pe.h:Ge):st>180?st-=360:st<-180&&(st+=360),function(Ut){return zt(Ge+st*Ut,et+Dt*Ut,nt+vt*Ut)+""}}a.interpolateHsl=uh;function uh(he,Pe){he=a.hsl(he),Pe=a.hsl(Pe);var Ge=he.h,et=he.s,nt=he.l,st=Pe.h-Ge,Dt=Pe.s-et,vt=Pe.l-nt;return isNaN(Dt)&&(Dt=0,et=isNaN(et)?Pe.s:et),isNaN(st)?(st=0,Ge=isNaN(Ge)?Pe.h:Ge):st>180?st-=360:st<-180&&(st+=360),function(Ut){return At(Ge+st*Ut,et+Dt*Ut,nt+vt*Ut)+""}}a.interpolateLab=fh;function fh(he,Pe){he=a.lab(he),Pe=a.lab(Pe);var Ge=he.l,et=he.a,nt=he.b,st=Pe.l-Ge,Dt=Pe.a-et,vt=Pe.b-nt;return function(Ut){return je(Ge+st*Ut,et+Dt*Ut,nt+vt*Ut)+""}}a.interpolateRound=yf;function yf(he,Pe){return Pe-=he,function(Ge){return Math.round(he+Pe*Ge)}}a.transform=function(he){var Pe=h.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ge){if(Ge!=null){Pe.setAttribute("transform",Ge);var et=Pe.transform.baseVal.consolidate()}return new fl(et?et.matrix:ch)})(he)};function fl(he){var Pe=[he.a,he.b],Ge=[he.c,he.d],et=kl(Pe),nt=cl(Pe,Ge),st=kl(Fu(Ge,Pe,-nt))||0;Pe[0]*Ge[1]<Ge[0]*Pe[1]&&(Pe[0]*=-1,Pe[1]*=-1,et*=-1,nt*=-1),this.rotate=(et?Math.atan2(Pe[1],Pe[0]):Math.atan2(-Ge[0],Ge[1]))*It,this.translate=[he.e,he.f],this.scale=[et,st],this.skew=st?Math.atan2(nt,st)*It:0}fl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function cl(he,Pe){return he[0]*Pe[0]+he[1]*Pe[1]}function kl(he){var Pe=Math.sqrt(cl(he,he));return Pe&&(he[0]/=Pe,he[1]/=Pe),Pe}function Fu(he,Pe,Ge){return he[0]+=Ge*Pe[0],he[1]+=Ge*Pe[1],he}var ch={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=hl;function Ds(he){return he.length?he.pop()+",":""}function ac(he,Pe,Ge,et){if(he[0]!==Pe[0]||he[1]!==Pe[1]){var nt=Ge.push("translate(",null,",",null,")");et.push({i:nt-4,x:zo(he[0],Pe[0])},{i:nt-2,x:zo(he[1],Pe[1])})}else(Pe[0]||Pe[1])&&Ge.push("translate("+Pe+")")}function mf(he,Pe,Ge,et){he!==Pe?(he-Pe>180?Pe+=360:Pe-he>180&&(he+=360),et.push({i:Ge.push(Ds(Ge)+"rotate(",null,")")-2,x:zo(he,Pe)})):Pe&&Ge.push(Ds(Ge)+"rotate("+Pe+")")}function hh(he,Pe,Ge,et){he!==Pe?et.push({i:Ge.push(Ds(Ge)+"skewX(",null,")")-2,x:zo(he,Pe)}):Pe&&Ge.push(Ds(Ge)+"skewX("+Pe+")")}function Wo(he,Pe,Ge,et){if(he[0]!==Pe[0]||he[1]!==Pe[1]){var nt=Ge.push(Ds(Ge)+"scale(",null,",",null,")");et.push({i:nt-4,x:zo(he[0],Pe[0])},{i:nt-2,x:zo(he[1],Pe[1])})}else(Pe[0]!==1||Pe[1]!==1)&&Ge.push(Ds(Ge)+"scale("+Pe+")")}function hl(he,Pe){var Ge=[],et=[];return he=a.transform(he),Pe=a.transform(Pe),ac(he.translate,Pe.translate,Ge,et),mf(he.rotate,Pe.rotate,Ge,et),hh(he.skew,Pe.skew,Ge,et),Wo(he.scale,Pe.scale,Ge,et),he=Pe=null,function(nt){for(var st=-1,Dt=et.length,vt;++st<Dt;)Ge[(vt=et[st]).i]=vt.x(nt);return Ge.join("")}}function su(he,Pe){return Pe=(Pe-=he=+he)||1/Pe,function(Ge){return(Ge-he)/Pe}}function Fl(he,Pe){return Pe=(Pe-=he=+he)||1/Pe,function(Ge){return Math.max(0,Math.min(1,(Ge-he)/Pe))}}a.layout={},a.layout.bundle=function(){return function(he){for(var Pe=[],Ge=-1,et=he.length;++Ge<et;)Pe.push(ps(he[Ge]));return Pe}};function ps(he){for(var Pe=he.source,Ge=he.target,et=xf(Pe,Ge),nt=[Pe];Pe!==et;)Pe=Pe.parent,nt.push(Pe);for(var st=nt.length;Ge!==et;)nt.splice(st,0,Ge),Ge=Ge.parent;return nt}function Is(he){for(var Pe=[],Ge=he.parent;Ge!=null;)Pe.push(he),he=Ge,Ge=Ge.parent;return Pe.push(he),Pe}function xf(he,Pe){if(he===Pe)return he;for(var Ge=Is(he),et=Is(Pe),nt=Ge.pop(),st=et.pop(),Dt=null;nt===st;)Dt=nt,nt=Ge.pop(),st=et.pop();return Dt}a.layout.chord=function(){var he={},Pe,Ge,et,nt,st=0,Dt,vt,Ut;function tr(){var Pr={},Er=[],Jr=a.range(nt),tn=[],Ir,Hr,Zr,rn,un;for(Pe=[],Ge=[],Ir=0,rn=-1;++rn<nt;){for(Hr=0,un=-1;++un<nt;)Hr+=et[rn][un];Er.push(Hr),tn.push(a.range(nt)),Ir+=Hr}for(Dt&&Jr.sort(function(Va,La){return Dt(Er[Va],Er[La])}),vt&&tn.forEach(function(Va,La){Va.sort(function(Na,$a){return vt(et[La][Na],et[La][$a])})}),Ir=(Ve-st*nt)/Ir,Hr=0,rn=-1;++rn<nt;){for(Zr=Hr,un=-1;++un<nt;){var Xr=Jr[rn],Nn=tn[Xr][un],Wn=et[Xr][Nn],Qn=Hr,ia=Hr+=Wn*Ir;Pr[Xr+"-"+Nn]={index:Xr,subindex:Nn,startAngle:Qn,endAngle:ia,value:Wn}}Ge[Xr]={index:Xr,startAngle:Zr,endAngle:Hr,value:Er[Xr]},Hr+=st}for(rn=-1;++rn<nt;)for(un=rn-1;++un<nt;){var Ta=Pr[rn+"-"+un],wa=Pr[un+"-"+rn];(Ta.value||wa.value)&&Pe.push(Ta.value<wa.value?{source:wa,target:Ta}:{source:Ta,target:wa})}Ut&&rr()}function rr(){Pe.sort(function(Pr,Er){return Ut((Pr.source.value+Pr.target.value)/2,(Er.source.value+Er.target.value)/2)})}return he.matrix=function(Pr){return arguments.length?(nt=(et=Pr)&&et.length,Pe=Ge=null,he):et},he.padding=function(Pr){return arguments.length?(st=Pr,Pe=Ge=null,he):st},he.sortGroups=function(Pr){return arguments.length?(Dt=Pr,Pe=Ge=null,he):Dt},he.sortSubgroups=function(Pr){return arguments.length?(vt=Pr,Pe=null,he):vt},he.sortChords=function(Pr){return arguments.length?(Ut=Pr,Pe&&rr(),he):Ut},he.chords=function(){return Pe||tr(),Pe},he.groups=function(){return Ge||tr(),Ge},he},a.layout.force=function(){var he={},Pe=a.dispatch("start","tick","end"),Ge,et=[1,1],nt,st,Dt=.9,vt=zl,Ut=ic,tr=-30,rr=oc,Pr=.1,Er=.64,Jr=[],tn=[],Ir,Hr,Zr;function rn(Xr){return function(Nn,Wn,Qn,ia){if(Nn.point!==Xr){var Ta=Nn.cx-Xr.x,wa=Nn.cy-Xr.y,Va=ia-Wn,La=Ta*Ta+wa*wa;if(Va*Va/Er<La){if(La<rr){var Na=Nn.charge/La;Xr.px-=Ta*Na,Xr.py-=wa*Na}return!0}if(Nn.point&&La&&La<rr){var Na=Nn.pointCharge/La;Xr.px-=Ta*Na,Xr.py-=wa*Na}}return!Nn.charge}}he.tick=function(){if((st*=.99)<.005)return Ge=null,Pe.end({type:"end",alpha:st=0}),!0;var Xr=Jr.length,Nn=tn.length,Wn,Qn,ia,Ta,wa,Va,La,Na,$a;for(Qn=0;Qn<Nn;++Qn)ia=tn[Qn],Ta=ia.source,wa=ia.target,Na=wa.x-Ta.x,$a=wa.y-Ta.y,(Va=Na*Na+$a*$a)&&(Va=st*Hr[Qn]*((Va=Math.sqrt(Va))-Ir[Qn])/Va,Na*=Va,$a*=Va,wa.x-=Na*(La=Ta.weight+wa.weight?Ta.weight/(Ta.weight+wa.weight):.5),wa.y-=$a*La,Ta.x+=Na*(La=1-La),Ta.y+=$a*La);if((La=st*Pr)&&(Na=et[0]/2,$a=et[1]/2,Qn=-1,La))for(;++Qn<Xr;)ia=Jr[Qn],ia.x+=(Na-ia.x)*La,ia.y+=($a-ia.y)*La;if(tr)for(_u(Wn=a.geom.quadtree(Jr),st,Zr),Qn=-1;++Qn<Xr;)(ia=Jr[Qn]).fixed||Wn.visit(rn(ia));for(Qn=-1;++Qn<Xr;)ia=Jr[Qn],ia.fixed?(ia.x=ia.px,ia.y=ia.py):(ia.x-=(ia.px-(ia.px=ia.x))*Dt,ia.y-=(ia.py-(ia.py=ia.y))*Dt);Pe.tick({type:"tick",alpha:st})},he.nodes=function(Xr){return arguments.length?(Jr=Xr,he):Jr},he.links=function(Xr){return arguments.length?(tn=Xr,he):tn},he.size=function(Xr){return arguments.length?(et=Xr,he):et},he.linkDistance=function(Xr){return arguments.length?(vt=typeof Xr=="function"?Xr:+Xr,he):vt},he.distance=he.linkDistance,he.linkStrength=function(Xr){return arguments.length?(Ut=typeof Xr=="function"?Xr:+Xr,he):Ut},he.friction=function(Xr){return arguments.length?(Dt=+Xr,he):Dt},he.charge=function(Xr){return arguments.length?(tr=typeof Xr=="function"?Xr:+Xr,he):tr},he.chargeDistance=function(Xr){return arguments.length?(rr=Xr*Xr,he):Math.sqrt(rr)},he.gravity=function(Xr){return arguments.length?(Pr=+Xr,he):Pr},he.theta=function(Xr){return arguments.length?(Er=Xr*Xr,he):Math.sqrt(Er)},he.alpha=function(Xr){return arguments.length?(Xr=+Xr,st?Xr>0?st=Xr:(Ge.c=null,Ge.t=NaN,Ge=null,Pe.end({type:"end",alpha:st=0})):Xr>0&&(Pe.start({type:"start",alpha:st=Xr}),Ge=An(he.tick)),he):st},he.start=function(){var Xr,Nn=Jr.length,Wn=tn.length,Qn=et[0],ia=et[1],Ta,wa;for(Xr=0;Xr<Nn;++Xr)(wa=Jr[Xr]).index=Xr,wa.weight=0;for(Xr=0;Xr<Wn;++Xr)wa=tn[Xr],typeof wa.source=="number"&&(wa.source=Jr[wa.source]),typeof wa.target=="number"&&(wa.target=Jr[wa.target]),++wa.source.weight,++wa.target.weight;for(Xr=0;Xr<Nn;++Xr)wa=Jr[Xr],isNaN(wa.x)&&(wa.x=Va("x",Qn)),isNaN(wa.y)&&(wa.y=Va("y",ia)),isNaN(wa.px)&&(wa.px=wa.x),isNaN(wa.py)&&(wa.py=wa.y);if(Ir=[],typeof vt=="function")for(Xr=0;Xr<Wn;++Xr)Ir[Xr]=+vt.call(this,tn[Xr],Xr);else for(Xr=0;Xr<Wn;++Xr)Ir[Xr]=vt;if(Hr=[],typeof Ut=="function")for(Xr=0;Xr<Wn;++Xr)Hr[Xr]=+Ut.call(this,tn[Xr],Xr);else for(Xr=0;Xr<Wn;++Xr)Hr[Xr]=Ut;if(Zr=[],typeof tr=="function")for(Xr=0;Xr<Nn;++Xr)Zr[Xr]=+tr.call(this,Jr[Xr],Xr);else for(Xr=0;Xr<Nn;++Xr)Zr[Xr]=tr;function Va(La,Na){if(!Ta){for(Ta=new Array(Nn),fi=0;fi<Nn;++fi)Ta[fi]=[];for(fi=0;fi<Wn;++fi){var $a=tn[fi];Ta[$a.source.index].push($a.target),Ta[$a.target.index].push($a.source)}}for(var ri=Ta[Xr],fi=-1,Un=ri.length,Ua;++fi<Un;)if(!isNaN(Ua=ri[fi][La]))return Ua;return Math.random()*Na}return he.resume()},he.resume=function(){return he.alpha(.1)},he.stop=function(){return he.alpha(0)},he.drag=function(){if(nt||(nt=a.behavior.drag().origin(B).on("dragstart.force",_l).on("drag.force",un).on("dragend.force",js)),!arguments.length)return nt;this.on("mouseover.force",zi).on("mouseout.force",bf).call(nt)};function un(Xr){Xr.px=a.event.x,Xr.py=a.event.y,he.resume()}return a.rebind(he,Pe,"on")};function _l(he){he.fixed|=2}function js(he){he.fixed&=-7}function zi(he){he.fixed|=4,he.px=he.x,he.py=he.y}function bf(he){he.fixed&=-5}function _u(he,Pe,Ge){var et=0,nt=0;if(he.charge=0,!he.leaf)for(var st=he.nodes,Dt=st.length,vt=-1,Ut;++vt<Dt;)Ut=st[vt],Ut!=null&&(_u(Ut,Pe,Ge),he.charge+=Ut.charge,et+=Ut.charge*Ut.cx,nt+=Ut.charge*Ut.cy);if(he.point){he.leaf||(he.point.x+=Math.random()-.5,he.point.y+=Math.random()-.5);var tr=Pe*Ge[he.point.index];he.charge+=he.pointCharge=tr,et+=tr*he.point.x,nt+=tr*he.point.y}he.cx=et/he.charge,he.cy=nt/he.charge}var zl=20,ic=1,oc=1/0;a.layout.hierarchy=function(){var he=wf,Pe=zu,Ge=vh;function et(nt){var st=[nt],Dt=[],vt;for(nt.depth=0;(vt=st.pop())!=null;)if(Dt.push(vt),(tr=Pe.call(et,vt,vt.depth))&&(Ut=tr.length)){for(var Ut,tr,rr;--Ut>=0;)st.push(rr=tr[Ut]),rr.parent=vt,rr.depth=vt.depth+1;Ge&&(vt.value=0),vt.children=tr}else Ge&&(vt.value=+Ge.call(et,vt,vt.depth)||0),delete vt.children;return qi(nt,function(Pr){var Er,Jr;he&&(Er=Pr.children)&&Er.sort(he),Ge&&(Jr=Pr.parent)&&(Jr.value+=Pr.value)}),Dt}return et.sort=function(nt){return arguments.length?(he=nt,et):he},et.children=function(nt){return arguments.length?(Pe=nt,et):Pe},et.value=function(nt){return arguments.length?(Ge=nt,et):Ge},et.revalue=function(nt){return Ge&&(Bl(nt,function(st){st.children&&(st.value=0)}),qi(nt,function(st){var Dt;st.children||(st.value=+Ge.call(et,st,st.depth)||0),(Dt=st.parent)&&(Dt.value+=st.value)})),nt},et};function Ol(he,Pe){return a.rebind(he,Pe,"sort","children","value"),he.nodes=he,he.links=dh,he}function Bl(he,Pe){for(var Ge=[he];(he=Ge.pop())!=null;)if(Pe(he),(nt=he.children)&&(et=nt.length))for(var et,nt;--et>=0;)Ge.push(nt[et])}function qi(he,Pe){for(var Ge=[he],et=[];(he=Ge.pop())!=null;)if(et.push(he),(Dt=he.children)&&(st=Dt.length))for(var nt=-1,st,Dt;++nt<st;)Ge.push(Dt[nt]);for(;(he=et.pop())!=null;)Pe(he)}function zu(he){return he.children}function vh(he){return he.value}function wf(he,Pe){return Pe.value-he.value}function dh(he){return a.merge(he.map(function(Pe){return(Pe.children||[]).map(function(Ge){return{source:Pe,target:Ge}})}))}a.layout.partition=function(){var he=a.layout.hierarchy(),Pe=[1,1];function Ge(st,Dt,vt,Ut){var tr=st.children;if(st.x=Dt,st.y=st.depth*Ut,st.dx=vt,st.dy=Ut,tr&&(Pr=tr.length)){var rr=-1,Pr,Er,Jr;for(vt=st.value?vt/st.value:0;++rr<Pr;)Ge(Er=tr[rr],Dt,Jr=Er.value*vt,Ut),Dt+=Jr}}function et(st){var Dt=st.children,vt=0;if(Dt&&(tr=Dt.length))for(var Ut=-1,tr;++Ut<tr;)vt=Math.max(vt,et(Dt[Ut]));return 1+vt}function nt(st,Dt){var vt=he.call(this,st,Dt);return Ge(vt[0],0,Pe[0],Pe[1]/et(vt[0])),vt}return nt.size=function(st){return arguments.length?(Pe=st,nt):Pe},Ol(nt,he)},a.layout.pie=function(){var he=Number,Pe=Ou,Ge=0,et=Ve,nt=0;function st(Dt){var vt=Dt.length,Ut=Dt.map(function(rn,un){return+he.call(st,rn,un)}),tr=+(typeof Ge=="function"?Ge.apply(this,arguments):Ge),rr=(typeof et=="function"?et.apply(this,arguments):et)-tr,Pr=Math.min(Math.abs(rr)/vt,+(typeof nt=="function"?nt.apply(this,arguments):nt)),Er=Pr*(rr<0?-1:1),Jr=a.sum(Ut),tn=Jr?(rr-vt*Er)/Jr:0,Ir=a.range(vt),Hr=[],Zr;return Pe!=null&&Ir.sort(Pe===Ou?function(rn,un){return Ut[un]-Ut[rn]}:function(rn,un){return Pe(Dt[rn],Dt[un])}),Ir.forEach(function(rn){Hr[rn]={data:Dt[rn],value:Zr=Ut[rn],startAngle:tr,endAngle:tr+=Zr*tn+Er,padAngle:Pr}}),Hr}return st.value=function(Dt){return arguments.length?(he=Dt,st):he},st.sort=function(Dt){return arguments.length?(Pe=Dt,st):Pe},st.startAngle=function(Dt){return arguments.length?(Ge=Dt,st):Ge},st.endAngle=function(Dt){return arguments.length?(et=Dt,st):et},st.padAngle=function(Dt){return arguments.length?(nt=Dt,st):nt},st};var Ou={};a.layout.stack=function(){var he=B,Pe=Bu,Ge=Sf,et=Af,nt=lu,st=Tf;function Dt(vt,Ut){if(!(tn=vt.length))return vt;var tr=vt.map(function(rn,un){return he.call(Dt,rn,un)}),rr=tr.map(function(rn){return rn.map(function(un,Xr){return[nt.call(Dt,un,Xr),st.call(Dt,un,Xr)]})}),Pr=Pe.call(Dt,rr,Ut);tr=a.permute(tr,Pr),rr=a.permute(rr,Pr);var Er=Ge.call(Dt,rr,Ut),Jr=tr[0].length,tn,Ir,Hr,Zr;for(Hr=0;Hr<Jr;++Hr)for(et.call(Dt,tr[0][Hr],Zr=Er[Hr],rr[0][Hr][1]),Ir=1;Ir<tn;++Ir)et.call(Dt,tr[Ir][Hr],Zr+=rr[Ir-1][Hr][1],rr[Ir][Hr][1]);return vt}return Dt.values=function(vt){return arguments.length?(he=vt,Dt):he},Dt.order=function(vt){return arguments.length?(Pe=typeof vt=="function"?vt:uu.get(vt)||Bu,Dt):Pe},Dt.offset=function(vt){return arguments.length?(Ge=typeof vt=="function"?vt:Mf.get(vt)||Sf,Dt):Ge},Dt.x=function(vt){return arguments.length?(nt=vt,Dt):nt},Dt.y=function(vt){return arguments.length?(st=vt,Dt):st},Dt.out=function(vt){return arguments.length?(et=vt,Dt):et},Dt};function lu(he){return he.x}function Tf(he){return he.y}function Af(he,Pe,Ge){he.y0=Pe,he.y=Ge}var uu=a.map({"inside-out":function(he){var Pe=he.length,Ge,et,nt=he.map(pi),st=he.map(sc),Dt=a.range(Pe).sort(function(Pr,Er){return nt[Pr]-nt[Er]}),vt=0,Ut=0,tr=[],rr=[];for(Ge=0;Ge<Pe;++Ge)et=Dt[Ge],vt<Ut?(vt+=st[et],tr.push(et)):(Ut+=st[et],rr.push(et));return rr.reverse().concat(tr)},reverse:function(he){return a.range(he.length).reverse()},default:Bu}),Mf=a.map({silhouette:function(he){var Pe=he.length,Ge=he[0].length,et=[],nt=0,st,Dt,vt,Ut=[];for(Dt=0;Dt<Ge;++Dt){for(st=0,vt=0;st<Pe;st++)vt+=he[st][Dt][1];vt>nt&&(nt=vt),et.push(vt)}for(Dt=0;Dt<Ge;++Dt)Ut[Dt]=(nt-et[Dt])/2;return Ut},wiggle:function(he){var Pe=he.length,Ge=he[0],et=Ge.length,nt,st,Dt,vt,Ut,tr,rr,Pr,Er,Jr=[];for(Jr[0]=Pr=Er=0,st=1;st<et;++st){for(nt=0,vt=0;nt<Pe;++nt)vt+=he[nt][st][1];for(nt=0,Ut=0,rr=Ge[st][0]-Ge[st-1][0];nt<Pe;++nt){for(Dt=0,tr=(he[nt][st][1]-he[nt][st-1][1])/(2*rr);Dt<nt;++Dt)tr+=(he[Dt][st][1]-he[Dt][st-1][1])/rr;Ut+=tr*he[nt][st][1]}Jr[st]=Pr-=vt?Ut/vt*rr:0,Pr<Er&&(Er=Pr)}for(st=0;st<et;++st)Jr[st]-=Er;return Jr},expand:function(he){var Pe=he.length,Ge=he[0].length,et=1/Pe,nt,st,Dt,vt=[];for(st=0;st<Ge;++st){for(nt=0,Dt=0;nt<Pe;nt++)Dt+=he[nt][st][1];if(Dt)for(nt=0;nt<Pe;nt++)he[nt][st][1]/=Dt;else for(nt=0;nt<Pe;nt++)he[nt][st][1]=et}for(st=0;st<Ge;++st)vt[st]=0;return vt},zero:Sf});function Bu(he){return a.range(he.length)}function Sf(he){for(var Pe=-1,Ge=he[0].length,et=[];++Pe<Ge;)et[Pe]=0;return et}function pi(he){for(var Pe=1,Ge=0,et=he[0][1],nt,st=he.length;Pe<st;++Pe)(nt=he[Pe][1])>et&&(Ge=Pe,et=nt);return Ge}function sc(he){return he.reduce(es,0)}function es(he,Pe){return he+Pe[1]}a.layout.histogram=function(){var he=!0,Pe=Number,Ge=Ef,et=Nl;function nt(st,Er){for(var vt=[],Ut=st.map(Pe,this),tr=Ge.call(this,Ut,Er),rr=et.call(this,tr,Ut,Er),Pr,Er=-1,Jr=Ut.length,tn=rr.length-1,Ir=he?1:1/Jr,Hr;++Er<tn;)Pr=vt[Er]=[],Pr.dx=rr[Er+1]-(Pr.x=rr[Er]),Pr.y=0;if(tn>0)for(Er=-1;++Er<Jr;)Hr=Ut[Er],Hr>=tr[0]&&Hr<=tr[1]&&(Pr=vt[a.bisect(rr,Hr,1,tn)-1],Pr.y+=Ir,Pr.push(st[Er]));return vt}return nt.value=function(st){return arguments.length?(Pe=st,nt):Pe},nt.range=function(st){return arguments.length?(Ge=Kr(st),nt):Ge},nt.bins=function(st){return arguments.length?(et=typeof st=="number"?function(Dt){return vl(Dt,st)}:Kr(st),nt):et},nt.frequency=function(st){return arguments.length?(he=!!st,nt):he},nt};function Nl(he,Pe){return vl(he,Math.ceil(Math.log(Pe.length)/Math.LN2+1))}function vl(he,Pe){for(var Ge=-1,et=+he[0],nt=(he[1]-et)/Pe,st=[];++Ge<=Pe;)st[Ge]=nt*Ge+et;return st}function Ef(he){return[a.min(he),a.max(he)]}a.layout.pack=function(){var he=a.layout.hierarchy().sort(Ni),Pe=0,Ge=[1,1],et;function nt(st,Dt){var vt=he.call(this,st,Dt),Ut=vt[0],tr=Ge[0],rr=Ge[1],Pr=et==null?Math.sqrt:typeof et=="function"?et:function(){return et};if(Ut.x=Ut.y=0,qi(Ut,function(Jr){Jr.r=+Pr(Jr.value)}),qi(Ut,Fs),Pe){var Er=Pe*(et?1:Math.max(2*Ut.r/tr,2*Ut.r/rr))/2;qi(Ut,function(Jr){Jr.r+=Er}),qi(Ut,Fs),qi(Ut,function(Jr){Jr.r-=Er})}return Ks(Ut,tr/2,rr/2,et?1:1/Math.max(2*Ut.r/tr,2*Ut.r/rr)),vt}return nt.size=function(st){return arguments.length?(Ge=st,nt):Ge},nt.radius=function(st){return arguments.length?(et=st==null||typeof st=="function"?st:+st,nt):et},nt.padding=function(st){return arguments.length?(Pe=+st,nt):Pe},Ol(nt,he)};function Ni(he,Pe){return he.value-Pe.value}function fu(he,Pe){var Ge=he._pack_next;he._pack_next=Pe,Pe._pack_prev=he,Pe._pack_next=Ge,Ge._pack_prev=Pe}function Lo(he,Pe){he._pack_next=Pe,Pe._pack_prev=he}function ks(he,Pe){var Ge=Pe.x-he.x,et=Pe.y-he.y,nt=he.r+Pe.r;return .999*nt*nt>Ge*Ge+et*et}function Fs(he){if(!(Pe=he.children)||!(Er=Pe.length))return;var Pe,Ge=1/0,et=-1/0,nt=1/0,st=-1/0,Dt,vt,Ut,tr,rr,Pr,Er;function Jr(Xr){Ge=Math.min(Xr.x-Xr.r,Ge),et=Math.max(Xr.x+Xr.r,et),nt=Math.min(Xr.y-Xr.r,nt),st=Math.max(Xr.y+Xr.r,st)}if(Pe.forEach(Zs),Dt=Pe[0],Dt.x=-Dt.r,Dt.y=0,Jr(Dt),Er>1&&(vt=Pe[1],vt.x=vt.r,vt.y=0,Jr(vt),Er>2))for(Ut=Pe[2],ts(Dt,vt,Ut),Jr(Ut),fu(Dt,Ut),Dt._pack_prev=Ut,fu(Ut,vt),vt=Dt._pack_next,tr=3;tr<Er;tr++){ts(Dt,vt,Ut=Pe[tr]);var tn=0,Ir=1,Hr=1;for(rr=vt._pack_next;rr!==vt;rr=rr._pack_next,Ir++)if(ks(rr,Ut)){tn=1;break}if(tn==1)for(Pr=Dt._pack_prev;Pr!==rr._pack_prev&&!ks(Pr,Ut);Pr=Pr._pack_prev,Hr++);tn?(Ir<Hr||Ir==Hr&&vt.r<Dt.r?Lo(Dt,vt=rr):Lo(Dt=Pr,vt),tr--):(fu(Dt,Ut),vt=Ut,Jr(Ut))}var Zr=(Ge+et)/2,rn=(nt+st)/2,un=0;for(tr=0;tr<Er;tr++)Ut=Pe[tr],Ut.x-=Zr,Ut.y-=rn,un=Math.max(un,Ut.r+Math.sqrt(Ut.x*Ut.x+Ut.y*Ut.y));he.r=un,Pe.forEach(Xs)}function Zs(he){he._pack_next=he._pack_prev=he}function Xs(he){delete he._pack_next,delete he._pack_prev}function Ks(he,Pe,Ge,et){var nt=he.children;if(he.x=Pe+=et*he.x,he.y=Ge+=et*he.y,he.r*=et,nt)for(var st=-1,Dt=nt.length;++st<Dt;)Ks(nt[st],Pe,Ge,et)}function ts(he,Pe,Ge){var et=he.r+Ge.r,nt=Pe.x-he.x,st=Pe.y-he.y;if(et&&(nt||st)){var Dt=Pe.r+Ge.r,vt=nt*nt+st*st;Dt*=Dt,et*=et;var Ut=.5+(et-Dt)/(2*vt),tr=Math.sqrt(Math.max(0,2*Dt*(et+vt)-(et-=vt)*et-Dt*Dt))/(2*vt);Ge.x=he.x+Ut*nt+tr*st,Ge.y=he.y+Ut*st-tr*nt}else Ge.x=he.x+et,Ge.y=he.y}a.layout.tree=function(){var he=a.layout.hierarchy().sort(null).value(null),Pe=gs,Ge=[1,1],et=null;function nt(rr,Pr){var Er=he.call(this,rr,Pr),Jr=Er[0],tn=st(Jr);if(qi(tn,Dt),tn.parent.m=-tn.z,Bl(tn,vt),et)Bl(Jr,tr);else{var Ir=Jr,Hr=Jr,Zr=Jr;Bl(Jr,function(Nn){Nn.x<Ir.x&&(Ir=Nn),Nn.x>Hr.x&&(Hr=Nn),Nn.depth>Zr.depth&&(Zr=Nn)});var rn=Pe(Ir,Hr)/2-Ir.x,un=Ge[0]/(Hr.x+Pe(Hr,Ir)/2+rn),Xr=Ge[1]/(Zr.depth||1);Bl(Jr,function(Nn){Nn.x=(Nn.x+rn)*un,Nn.y=Nn.depth*Xr})}return Er}function st(rr){for(var Pr={A:null,children:[rr]},Er=[Pr],Jr;(Jr=Er.pop())!=null;)for(var tn=Jr.children,Ir,Hr=0,Zr=tn.length;Hr<Zr;++Hr)Er.push((tn[Hr]=Ir={_:tn[Hr],parent:Jr,children:(Ir=tn[Hr].children)&&Ir.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Hr}).a=Ir);return Pr.children[0]}function Dt(rr){var Pr=rr.children,Er=rr.parent.children,Jr=rr.i?Er[rr.i-1]:null;if(Pr.length){ph(rr);var tn=(Pr[0].z+Pr[Pr.length-1].z)/2;Jr?(rr.z=Jr.z+Pe(rr._,Jr._),rr.m=rr.z-tn):rr.z=tn}else Jr&&(rr.z=Jr.z+Pe(rr._,Jr._));rr.parent.A=Ut(rr,Jr,rr.parent.A||Er[0])}function vt(rr){rr._.x=rr.z+rr.parent.m,rr.m+=rr.parent.m}function Ut(rr,Pr,Er){if(Pr){for(var Jr=rr,tn=rr,Ir=Pr,Hr=Jr.parent.children[0],Zr=Jr.m,rn=tn.m,un=Ir.m,Xr=Hr.m,Nn;Ir=hu(Ir),Jr=cu(Jr),Ir&&Jr;)Hr=cu(Hr),tn=hu(tn),tn.a=rr,Nn=Ir.z+un-Jr.z-Zr+Pe(Ir._,Jr._),Nn>0&&(Nu(gh(Ir,rr,Er),rr,Nn),Zr+=Nn,rn+=Nn),un+=Ir.m,Zr+=Jr.m,Xr+=Hr.m,rn+=tn.m;Ir&&!hu(tn)&&(tn.t=Ir,tn.m+=un-rn),Jr&&!cu(Hr)&&(Hr.t=Jr,Hr.m+=Zr-Xr,Er=rr)}return Er}function tr(rr){rr.x*=Ge[0],rr.y=rr.depth*Ge[1]}return nt.separation=function(rr){return arguments.length?(Pe=rr,nt):Pe},nt.size=function(rr){return arguments.length?(et=(Ge=rr)==null?tr:null,nt):et?null:Ge},nt.nodeSize=function(rr){return arguments.length?(et=(Ge=rr)==null?null:tr,nt):et?Ge:null},Ol(nt,he)};function gs(he,Pe){return he.parent==Pe.parent?1:2}function cu(he){var Pe=he.children;return Pe.length?Pe[0]:he.t}function hu(he){var Pe=he.children,Ge;return(Ge=Pe.length)?Pe[Ge-1]:he.t}function Nu(he,Pe,Ge){var et=Ge/(Pe.i-he.i);Pe.c-=et,Pe.s+=Ge,he.c+=et,Pe.z+=Ge,Pe.m+=Ge}function ph(he){for(var Pe=0,Ge=0,et=he.children,nt=et.length,st;--nt>=0;)st=et[nt],st.z+=Pe,st.m+=Pe,Pe+=st.s+(Ge+=st.c)}function gh(he,Pe,Ge){return he.a.parent===Pe.parent?he.a:Ge}a.layout.cluster=function(){var he=a.layout.hierarchy().sort(null).value(null),Pe=gs,Ge=[1,1],et=!1;function nt(st,Dt){var vt=he.call(this,st,Dt),Ut=vt[0],tr,rr=0;qi(Ut,function(Ir){var Hr=Ir.children;Hr&&Hr.length?(Ir.x=mh(Hr),Ir.y=yh(Hr)):(Ir.x=tr?rr+=Pe(Ir,tr):0,Ir.y=0,tr=Ir)});var Pr=Uu(Ut),Er=lc(Ut),Jr=Pr.x-Pe(Pr,Er)/2,tn=Er.x+Pe(Er,Pr)/2;return qi(Ut,et?function(Ir){Ir.x=(Ir.x-Ut.x)*Ge[0],Ir.y=(Ut.y-Ir.y)*Ge[1]}:function(Ir){Ir.x=(Ir.x-Jr)/(tn-Jr)*Ge[0],Ir.y=(1-(Ut.y?Ir.y/Ut.y:1))*Ge[1]}),vt}return nt.separation=function(st){return arguments.length?(Pe=st,nt):Pe},nt.size=function(st){return arguments.length?(et=(Ge=st)==null,nt):et?null:Ge},nt.nodeSize=function(st){return arguments.length?(et=(Ge=st)!=null,nt):et?Ge:null},Ol(nt,he)};function yh(he){return 1+a.max(he,function(Pe){return Pe.y})}function mh(he){return he.reduce(function(Pe,Ge){return Pe+Ge.x},0)/he.length}function Uu(he){var Pe=he.children;return Pe&&Pe.length?Uu(Pe[0]):he}function lc(he){var Pe=he.children,Ge;return Pe&&(Ge=Pe.length)?lc(Pe[Ge-1]):he}a.layout.treemap=function(){var he=a.layout.hierarchy(),Pe=Math.round,Ge=[1,1],et=null,nt=Ul,st=!1,Dt,vt="squarify",Ut=.5*(1+Math.sqrt(5));function tr(Ir,Hr){for(var Zr=-1,rn=Ir.length,un,Xr;++Zr<rn;)Xr=(un=Ir[Zr]).value*(Hr<0?0:Hr),un.area=isNaN(Xr)||Xr<=0?0:Xr}function rr(Ir){var Hr=Ir.children;if(Hr&&Hr.length){var Zr=nt(Ir),rn=[],un=Hr.slice(),Xr,Nn=1/0,Wn,Qn=vt==="slice"?Zr.dx:vt==="dice"?Zr.dy:vt==="slice-dice"?Ir.depth&1?Zr.dy:Zr.dx:Math.min(Zr.dx,Zr.dy),ia;for(tr(un,Zr.dx*Zr.dy/Ir.value),rn.area=0;(ia=un.length)>0;)rn.push(Xr=un[ia-1]),rn.area+=Xr.area,vt!=="squarify"||(Wn=Er(rn,Qn))<=Nn?(un.pop(),Nn=Wn):(rn.area-=rn.pop().area,Jr(rn,Qn,Zr,!1),Qn=Math.min(Zr.dx,Zr.dy),rn.length=rn.area=0,Nn=1/0);rn.length&&(Jr(rn,Qn,Zr,!0),rn.length=rn.area=0),Hr.forEach(rr)}}function Pr(Ir){var Hr=Ir.children;if(Hr&&Hr.length){var Zr=nt(Ir),rn=Hr.slice(),un,Xr=[];for(tr(rn,Zr.dx*Zr.dy/Ir.value),Xr.area=0;un=rn.pop();)Xr.push(un),Xr.area+=un.area,un.z!=null&&(Jr(Xr,un.z?Zr.dx:Zr.dy,Zr,!rn.length),Xr.length=Xr.area=0);Hr.forEach(Pr)}}function Er(Ir,Hr){for(var Zr=Ir.area,rn,un=0,Xr=1/0,Nn=-1,Wn=Ir.length;++Nn<Wn;)(rn=Ir[Nn].area)&&(rn<Xr&&(Xr=rn),rn>un&&(un=rn));return Zr*=Zr,Hr*=Hr,Zr?Math.max(Hr*un*Ut/Zr,Zr/(Hr*Xr*Ut)):1/0}function Jr(Ir,Hr,Zr,rn){var un=-1,Xr=Ir.length,Nn=Zr.x,Wn=Zr.y,Qn=Hr?Pe(Ir.area/Hr):0,ia;if(Hr==Zr.dx){for((rn||Qn>Zr.dy)&&(Qn=Zr.dy);++un<Xr;)ia=Ir[un],ia.x=Nn,ia.y=Wn,ia.dy=Qn,Nn+=ia.dx=Math.min(Zr.x+Zr.dx-Nn,Qn?Pe(ia.area/Qn):0);ia.z=!0,ia.dx+=Zr.x+Zr.dx-Nn,Zr.y+=Qn,Zr.dy-=Qn}else{for((rn||Qn>Zr.dx)&&(Qn=Zr.dx);++un<Xr;)ia=Ir[un],ia.x=Nn,ia.y=Wn,ia.dx=Qn,Wn+=ia.dy=Math.min(Zr.y+Zr.dy-Wn,Qn?Pe(ia.area/Qn):0);ia.z=!1,ia.dy+=Zr.y+Zr.dy-Wn,Zr.x+=Qn,Zr.dx-=Qn}}function tn(Ir){var Hr=Dt||he(Ir),Zr=Hr[0];return Zr.x=Zr.y=0,Zr.value?(Zr.dx=Ge[0],Zr.dy=Ge[1]):Zr.dx=Zr.dy=0,Dt&&he.revalue(Zr),tr([Zr],Zr.dx*Zr.dy/Zr.value),(Dt?Pr:rr)(Zr),st&&(Dt=Hr),Hr}return tn.size=function(Ir){return arguments.length?(Ge=Ir,tn):Ge},tn.padding=function(Ir){if(!arguments.length)return et;function Hr(un){var Xr=Ir.call(tn,un,un.depth);return Xr==null?Ul(un):ao(un,typeof Xr=="number"?[Xr,Xr,Xr,Xr]:Xr)}function Zr(un){return ao(un,Ir)}var rn;return nt=(et=Ir)==null?Ul:(rn=typeof Ir)=="function"?Hr:(rn==="number"&&(Ir=[Ir,Ir,Ir,Ir]),Zr),tn},tn.round=function(Ir){return arguments.length?(Pe=Ir?Math.round:Number,tn):Pe!=Number},tn.sticky=function(Ir){return arguments.length?(st=Ir,Dt=null,tn):st},tn.ratio=function(Ir){return arguments.length?(Ut=Ir,tn):Ut},tn.mode=function(Ir){return arguments.length?(vt=Ir+"",tn):vt},Ol(tn,he)};function Ul(he){return{x:he.x,y:he.y,dx:he.dx,dy:he.dy}}function ao(he,Pe){var Ge=he.x+Pe[3],et=he.y+Pe[0],nt=he.dx-Pe[1]-Pe[3],st=he.dy-Pe[0]-Pe[2];return nt<0&&(Ge+=nt/2,nt=0),st<0&&(et+=st/2,st=0),{x:Ge,y:et,dx:nt,dy:st}}a.random={normal:function(he,Pe){var Ge=arguments.length;return Ge<2&&(Pe=1),Ge<1&&(he=0),function(){var et,nt,st;do et=Math.random()*2-1,nt=Math.random()*2-1,st=et*et+nt*nt;while(!st||st>1);return he+Pe*et*Math.sqrt(-2*Math.log(st)/st)}},logNormal:function(){var he=a.random.normal.apply(a,arguments);return function(){return Math.exp(he())}},bates:function(he){var Pe=a.random.irwinHall(he);return function(){return Pe()/he}},irwinHall:function(he){return function(){for(var Pe=0,Ge=0;Ge<he;Ge++)Pe+=Math.random();return Pe}}},a.scale={};function Po(he){var Pe=he[0],Ge=he[he.length-1];return Pe<Ge?[Pe,Ge]:[Ge,Pe]}function vu(he){return he.rangeExtent?he.rangeExtent():Po(he.range())}function dl(he,Pe,Ge,et){var nt=Ge(he[0],he[1]),st=et(Pe[0],Pe[1]);return function(Dt){return st(nt(Dt))}}function du(he,Pe){var Ge=0,et=he.length-1,nt=he[Ge],st=he[et],Dt;return st<nt&&(Dt=Ge,Ge=et,et=Dt,Dt=nt,nt=st,st=Dt),he[Ge]=Pe.floor(nt),he[et]=Pe.ceil(st),he}function Hu(he){return he?{floor:function(Pe){return Math.floor(Pe/he)*he},ceil:function(Pe){return Math.ceil(Pe/he)*he}}:xh}var xh={floor:B,ceil:B};function uc(he,Pe,Ge,et){var nt=[],st=[],Dt=0,vt=Math.min(he.length,Pe.length)-1;for(he[vt]<he[0]&&(he=he.slice().reverse(),Pe=Pe.slice().reverse());++Dt<=vt;)nt.push(Ge(he[Dt-1],he[Dt])),st.push(et(Pe[Dt-1],Pe[Dt]));return function(Ut){var tr=a.bisect(he,Ut,1,vt)-1;return st[tr](nt[tr](Ut))}}a.scale.linear=function(){return fc([0,1],[0,1],Ps,!1)};function fc(he,Pe,Ge,et){var nt,st;function Dt(){var Ut=Math.min(he.length,Pe.length)>2?uc:dl,tr=et?Fl:su;return nt=Ut(he,Pe,tr,Ge),st=Ut(Pe,he,tr,Ps),vt}function vt(Ut){return nt(Ut)}return vt.invert=function(Ut){return st(Ut)},vt.domain=function(Ut){return arguments.length?(he=Ut.map(Number),Dt()):he},vt.range=function(Ut){return arguments.length?(Pe=Ut,Dt()):Pe},vt.rangeRound=function(Ut){return vt.range(Ut).interpolate(yf)},vt.clamp=function(Ut){return arguments.length?(et=Ut,Dt()):et},vt.interpolate=function(Ut){return arguments.length?(Ge=Ut,Dt()):Ge},vt.ticks=function(Ut){return ys(he,Ut)},vt.tickFormat=function(Ut,tr){return d3_scale_linearTickFormat(he,Ut,tr)},vt.nice=function(Ut){return Js(he,Ut),Dt()},vt.copy=function(){return fc(he,Pe,Ge,et)},Dt()}function Cf(he,Pe){return a.rebind(he,Pe,"range","rangeRound","interpolate","clamp")}function Js(he,Pe){return du(he,Hu(Ui(he,Pe)[2])),du(he,Hu(Ui(he,Pe)[2])),he}function Ui(he,Pe){Pe==null&&(Pe=10);var Ge=Po(he),et=Ge[1]-Ge[0],nt=Math.pow(10,Math.floor(Math.log(et/Pe)/Math.LN10)),st=Pe/et*nt;return st<=.15?nt*=10:st<=.35?nt*=5:st<=.75&&(nt*=2),Ge[0]=Math.ceil(Ge[0]/nt)*nt,Ge[1]=Math.floor(Ge[1]/nt)*nt+nt*.5,Ge[2]=nt,Ge}function ys(he,Pe){return a.range.apply(a,Ui(he,Pe))}a.scale.log=function(){return Lf(a.scale.linear().domain([0,1]),10,!0,[1,10])};function Lf(he,Pe,Ge,et){function nt(vt){return(Ge?Math.log(vt<0?0:vt):-Math.log(vt>0?0:-vt))/Math.log(Pe)}function st(vt){return Ge?Math.pow(Pe,vt):-Math.pow(Pe,-vt)}function Dt(vt){return he(nt(vt))}return Dt.invert=function(vt){return st(he.invert(vt))},Dt.domain=function(vt){return arguments.length?(Ge=vt[0]>=0,he.domain((et=vt.map(Number)).map(nt)),Dt):et},Dt.base=function(vt){return arguments.length?(Pe=+vt,he.domain(et.map(nt)),Dt):Pe},Dt.nice=function(){var vt=du(et.map(nt),Ge?Math:cc);return he.domain(vt),et=vt.map(st),Dt},Dt.ticks=function(){var vt=Po(et),Ut=[],tr=vt[0],rr=vt[1],Pr=Math.floor(nt(tr)),Er=Math.ceil(nt(rr)),Jr=Pe%1?2:Pe;if(isFinite(Er-Pr)){if(Ge){for(;Pr<Er;Pr++)for(var tn=1;tn<Jr;tn++)Ut.push(st(Pr)*tn);Ut.push(st(Pr))}else for(Ut.push(st(Pr));Pr++<Er;)for(var tn=Jr-1;tn>0;tn--)Ut.push(st(Pr)*tn);for(Pr=0;Ut[Pr]<tr;Pr++);for(Er=Ut.length;Ut[Er-1]>rr;Er--);Ut=Ut.slice(Pr,Er)}return Ut},Dt.copy=function(){return Lf(he.copy(),Pe,Ge,et)},Cf(Dt,he)}var cc={floor:function(he){return-Math.ceil(-he)},ceil:function(he){return-Math.floor(-he)}};a.scale.pow=function(){return pl(a.scale.linear(),1,[0,1])};function pl(he,Pe,Ge){var et=Vu(Pe),nt=Vu(1/Pe);function st(Dt){return he(et(Dt))}return st.invert=function(Dt){return nt(he.invert(Dt))},st.domain=function(Dt){return arguments.length?(he.domain((Ge=Dt.map(Number)).map(et)),st):Ge},st.ticks=function(Dt){return ys(Ge,Dt)},st.tickFormat=function(Dt,vt){return d3_scale_linearTickFormat(Ge,Dt,vt)},st.nice=function(Dt){return st.domain(Js(Ge,Dt))},st.exponent=function(Dt){return arguments.length?(et=Vu(Pe=Dt),nt=Vu(1/Pe),he.domain(Ge.map(et)),st):Pe},st.copy=function(){return pl(he.copy(),Pe,Ge)},Cf(st,he)}function Vu(he){return function(Pe){return Pe<0?-Math.pow(-Pe,he):Math.pow(Pe,he)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return rs([],{t:"range",a:[[]]})};function rs(he,Pe){var Ge,et,nt;function st(vt){return et[((Ge.get(vt)||(Pe.t==="range"?Ge.set(vt,he.push(vt)):NaN))-1)%et.length]}function Dt(vt,Ut){return a.range(he.length).map(function(tr){return vt+Ut*tr})}return st.domain=function(vt){if(!arguments.length)return he;he=[],Ge=new R;for(var Ut=-1,tr=vt.length,rr;++Ut<tr;)Ge.has(rr=vt[Ut])||Ge.set(rr,he.push(rr));return st[Pe.t].apply(st,Pe.a)},st.range=function(vt){return arguments.length?(et=vt,nt=0,Pe={t:"range",a:arguments},st):et},st.rangePoints=function(vt,Ut){arguments.length<2&&(Ut=0);var tr=vt[0],rr=vt[1],Pr=he.length<2?(tr=(tr+rr)/2,0):(rr-tr)/(he.length-1+Ut);return et=Dt(tr+Pr*Ut/2,Pr),nt=0,Pe={t:"rangePoints",a:arguments},st},st.rangeRoundPoints=function(vt,Ut){arguments.length<2&&(Ut=0);var tr=vt[0],rr=vt[1],Pr=he.length<2?(tr=rr=Math.round((tr+rr)/2),0):(rr-tr)/(he.length-1+Ut)|0;return et=Dt(tr+Math.round(Pr*Ut/2+(rr-tr-(he.length-1+Ut)*Pr)/2),Pr),nt=0,Pe={t:"rangeRoundPoints",a:arguments},st},st.rangeBands=function(vt,Ut,tr){arguments.length<2&&(Ut=0),arguments.length<3&&(tr=Ut);var rr=vt[1]<vt[0],Pr=vt[rr-0],Er=vt[1-rr],Jr=(Er-Pr)/(he.length-Ut+2*tr);return et=Dt(Pr+Jr*tr,Jr),rr&&et.reverse(),nt=Jr*(1-Ut),Pe={t:"rangeBands",a:arguments},st},st.rangeRoundBands=function(vt,Ut,tr){arguments.length<2&&(Ut=0),arguments.length<3&&(tr=Ut);var rr=vt[1]<vt[0],Pr=vt[rr-0],Er=vt[1-rr],Jr=Math.floor((Er-Pr)/(he.length-Ut+2*tr));return et=Dt(Pr+Math.round((Er-Pr-(he.length-Ut)*Jr)/2),Jr),rr&&et.reverse(),nt=Math.round(Jr*(1-Ut)),Pe={t:"rangeRoundBands",a:arguments},st},st.rangeBand=function(){return nt},st.rangeExtent=function(){return Po(Pe.a[0])},st.copy=function(){return rs(he,Pe)},st.domain(he)}a.scale.category10=function(){return a.scale.ordinal().range(Gu)},a.scale.category20=function(){return a.scale.ordinal().range(_s)},a.scale.category20b=function(){return a.scale.ordinal().range(zs)},a.scale.category20c=function(){return a.scale.ordinal().range(Pf)};var Gu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ot),_s=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ot),zs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ot),Pf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ot);a.scale.quantile=function(){return Hl([],[])};function Hl(he,Pe){var Ge;function et(){var st=0,Dt=Pe.length;for(Ge=[];++st<Dt;)Ge[st-1]=a.quantile(he,st/Dt);return nt}function nt(st){if(!isNaN(st=+st))return Pe[a.bisect(Ge,st)]}return nt.domain=function(st){return arguments.length?(he=st.map(m).filter(c).sort(o),et()):he},nt.range=function(st){return arguments.length?(Pe=st,et()):Pe},nt.quantiles=function(){return Ge},nt.invertExtent=function(st){return st=Pe.indexOf(st),st<0?[NaN,NaN]:[st>0?Ge[st-1]:he[0],st<Ge.length?Ge[st]:he[he.length-1]]},nt.copy=function(){return Hl(he,Pe)},et()}a.scale.quantize=function(){return ui(0,1,[0,1])};function ui(he,Pe,Ge){var et,nt;function st(vt){return Ge[Math.max(0,Math.min(nt,Math.floor(et*(vt-he))))]}function Dt(){return et=Ge.length/(Pe-he),nt=Ge.length-1,st}return st.domain=function(vt){return arguments.length?(he=+vt[0],Pe=+vt[vt.length-1],Dt()):[he,Pe]},st.range=function(vt){return arguments.length?(Ge=vt,Dt()):Ge},st.invertExtent=function(vt){return vt=Ge.indexOf(vt),vt=vt<0?NaN:vt/et+he,[vt,vt+1/et]},st.copy=function(){return ui(he,Pe,Ge)},Dt()}a.scale.threshold=function(){return yl([.5],[0,1])};function yl(he,Pe){function Ge(et){if(et<=et)return Pe[a.bisect(he,et)]}return Ge.domain=function(et){return arguments.length?(he=et,Ge):he},Ge.range=function(et){return arguments.length?(Pe=et,Ge):Pe},Ge.invertExtent=function(et){return et=Pe.indexOf(et),[he[et-1],he[et]]},Ge.copy=function(){return yl(he,Pe)},Ge}a.scale.identity=function(){return Wu([0,1])};function Wu(he){function Pe(Ge){return+Ge}return Pe.invert=Pe,Pe.domain=Pe.range=function(Ge){return arguments.length?(he=Ge.map(Pe),Pe):he},Pe.ticks=function(Ge){return ys(he,Ge)},Pe.tickFormat=function(Ge,et){return d3_scale_linearTickFormat(he,Ge,et)},Pe.copy=function(){return Wu(he)},Pe}a.svg={};function Yu(){return 0}a.svg.arc=function(){var he=bh,Pe=Rf,Ge=Yu,et=Qs,nt=Vl,st=Df,Dt=hc;function vt(){var tr=Math.max(0,+he.apply(this,arguments)),rr=Math.max(0,+Pe.apply(this,arguments)),Pr=nt.apply(this,arguments)-ot,Er=st.apply(this,arguments)-ot,Jr=Math.abs(Er-Pr),tn=Pr>Er?0:1;if(rr<tr&&(Ir=rr,rr=tr,tr=Ir),Jr>=it)return Ut(rr,tn)+(tr?Ut(tr,1-tn):"")+"Z";var Ir,Hr,Zr,rn,un=0,Xr=0,Nn,Wn,Qn,ia,Ta,wa,Va,La,Na=[];if((rn=(+Dt.apply(this,arguments)||0)/2)&&(Zr=et===Qs?Math.sqrt(tr*tr+rr*rr):+et.apply(this,arguments),tn||(Xr*=-1),rr&&(Xr=Gt(Zr/rr*Math.sin(rn))),tr&&(un=Gt(Zr/tr*Math.sin(rn)))),rr){Nn=rr*Math.cos(Pr+Xr),Wn=rr*Math.sin(Pr+Xr),Qn=rr*Math.cos(Er-Xr),ia=rr*Math.sin(Er-Xr);var $a=Math.abs(Er-Pr-2*Xr)<=De?0:1;if(Xr&&Os(Nn,Wn,Qn,ia)===tn^$a){var ri=(Pr+Er)/2;Nn=rr*Math.cos(ri),Wn=rr*Math.sin(ri),Qn=ia=null}}else Nn=Wn=0;if(tr){Ta=tr*Math.cos(Er-un),wa=tr*Math.sin(Er-un),Va=tr*Math.cos(Pr+un),La=tr*Math.sin(Pr+un);var fi=Math.abs(Pr-Er+2*un)<=De?0:1;if(un&&Os(Ta,wa,Va,La)===1-tn^fi){var Un=(Pr+Er)/2;Ta=tr*Math.cos(Un),wa=tr*Math.sin(Un),Va=La=null}}else Ta=wa=0;if(Jr>ce&&(Ir=Math.min(Math.abs(rr-tr)/2,+Ge.apply(this,arguments)))>.001){Hr=tr<rr^tn?0:1;var Ua=Ir,Oa=Ir;if(Jr<De){var Za=Va==null?[Ta,wa]:Qn==null?[Nn,Wn]:yn([Nn,Wn],[Va,La],[Qn,ia],[Ta,wa]),Ei=Nn-Za[0],Oi=Wn-Za[1],Vi=Qn-Za[0],bi=ia-Za[1],hi=1/Math.sin(Math.acos((Ei*Vi+Oi*bi)/(Math.sqrt(Ei*Ei+Oi*Oi)*Math.sqrt(Vi*Vi+bi*bi)))/2),xa=Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1]);Oa=Math.min(Ir,(tr-xa)/(hi-1)),Ua=Math.min(Ir,(rr-xa)/(hi+1))}if(Qn!=null){var Ea=$s(Va==null?[Ta,wa]:[Va,La],[Nn,Wn],rr,Ua,tn),wi=$s([Qn,ia],[Ta,wa],rr,Ua,tn);Ir===Ua?Na.push("M",Ea[0],"A",Ua,",",Ua," 0 0,",Hr," ",Ea[1],"A",rr,",",rr," 0 ",1-tn^Os(Ea[1][0],Ea[1][1],wi[1][0],wi[1][1]),",",tn," ",wi[1],"A",Ua,",",Ua," 0 0,",Hr," ",wi[0]):Na.push("M",Ea[0],"A",Ua,",",Ua," 0 1,",Hr," ",wi[0])}else Na.push("M",Nn,",",Wn);if(Va!=null){var Hi=$s([Nn,Wn],[Va,La],tr,-Oa,tn),Bo=$s([Ta,wa],Qn==null?[Nn,Wn]:[Qn,ia],tr,-Oa,tn);Ir===Oa?Na.push("L",Bo[0],"A",Oa,",",Oa," 0 0,",Hr," ",Bo[1],"A",tr,",",tr," 0 ",tn^Os(Bo[1][0],Bo[1][1],Hi[1][0],Hi[1][1]),",",1-tn," ",Hi[1],"A",Oa,",",Oa," 0 0,",Hr," ",Hi[0]):Na.push("L",Bo[0],"A",Oa,",",Oa," 0 0,",Hr," ",Hi[0])}else Na.push("L",Ta,",",wa)}else Na.push("M",Nn,",",Wn),Qn!=null&&Na.push("A",rr,",",rr," 0 ",$a,",",tn," ",Qn,",",ia),Na.push("L",Ta,",",wa),Va!=null&&Na.push("A",tr,",",tr," 0 ",fi,",",1-tn," ",Va,",",La);return Na.push("Z"),Na.join("")}function Ut(tr,rr){return"M0,"+tr+"A"+tr+","+tr+" 0 1,"+rr+" 0,"+-tr+"A"+tr+","+tr+" 0 1,"+rr+" 0,"+tr}return vt.innerRadius=function(tr){return arguments.length?(he=Kr(tr),vt):he},vt.outerRadius=function(tr){return arguments.length?(Pe=Kr(tr),vt):Pe},vt.cornerRadius=function(tr){return arguments.length?(Ge=Kr(tr),vt):Ge},vt.padRadius=function(tr){return arguments.length?(et=tr==Qs?Qs:Kr(tr),vt):et},vt.startAngle=function(tr){return arguments.length?(nt=Kr(tr),vt):nt},vt.endAngle=function(tr){return arguments.length?(st=Kr(tr),vt):st},vt.padAngle=function(tr){return arguments.length?(Dt=Kr(tr),vt):Dt},vt.centroid=function(){var tr=(+he.apply(this,arguments)+ +Pe.apply(this,arguments))/2,rr=(+nt.apply(this,arguments)+ +st.apply(this,arguments))/2-ot;return[Math.cos(rr)*tr,Math.sin(rr)*tr]},vt};var Qs="auto";function bh(he){return he.innerRadius}function Rf(he){return he.outerRadius}function Vl(he){return he.startAngle}function Df(he){return he.endAngle}function hc(he){return he&&he.padAngle}function Os(he,Pe,Ge,et){return(he-Ge)*Pe-(Pe-et)*he>0?0:1}function $s(he,Pe,Ge,et,nt){var st=he[0]-Pe[0],Dt=he[1]-Pe[1],vt=(nt?et:-et)/Math.sqrt(st*st+Dt*Dt),Ut=vt*Dt,tr=-vt*st,rr=he[0]+Ut,Pr=he[1]+tr,Er=Pe[0]+Ut,Jr=Pe[1]+tr,tn=(rr+Er)/2,Ir=(Pr+Jr)/2,Hr=Er-rr,Zr=Jr-Pr,rn=Hr*Hr+Zr*Zr,un=Ge-et,Xr=rr*Jr-Er*Pr,Nn=(Zr<0?-1:1)*Math.sqrt(Math.max(0,un*un*rn-Xr*Xr)),Wn=(Xr*Zr-Hr*Nn)/rn,Qn=(-Xr*Hr-Zr*Nn)/rn,ia=(Xr*Zr+Hr*Nn)/rn,Ta=(-Xr*Hr+Zr*Nn)/rn,wa=Wn-tn,Va=Qn-Ir,La=ia-tn,Na=Ta-Ir;return wa*wa+Va*Va>La*La+Na*Na&&(Wn=ia,Qn=Ta),[[Wn-Ut,Qn-tr],[Wn*Ge/un,Qn*Ge/un]]}function ml(){return!0}function xl(he){var Pe=fa,Ge=na,et=ml,nt=Oo,st=nt.key,Dt=.7;function vt(Ut){var tr=[],rr=[],Pr=-1,Er=Ut.length,Jr,tn=Kr(Pe),Ir=Kr(Ge);function Hr(){tr.push("M",nt(he(rr),Dt))}for(;++Pr<Er;)et.call(this,Jr=Ut[Pr],Pr)?rr.push([+tn.call(this,Jr,Pr),+Ir.call(this,Jr,Pr)]):rr.length&&(Hr(),rr=[]);return rr.length&&Hr(),tr.length?tr.join(""):null}return vt.x=function(Ut){return arguments.length?(Pe=Ut,vt):Pe},vt.y=function(Ut){return arguments.length?(Ge=Ut,vt):Ge},vt.defined=function(Ut){return arguments.length?(et=Ut,vt):et},vt.interpolate=function(Ut){return arguments.length?(typeof Ut=="function"?st=nt=Ut:st=(nt=Ro.get(Ut)||Oo).key,vt):st},vt.tension=function(Ut){return arguments.length?(Dt=Ut,vt):Dt},vt}a.svg.line=function(){return xl(B)};var Ro=a.map({linear:Oo,"linear-closed":bl,step:vc,"step-before":Gl,"step-after":ju,basis:Bs,"basis-open":wh,"basis-closed":kf,bundle:Zu,cardinal:If,"cardinal-open":dc,"cardinal-closed":ns,monotone:Ff});Ro.forEach(function(he,Pe){Pe.key=he,Pe.closed=/-closed$/.test(he)});function Oo(he){return he.length>1?he.join("L"):he+"Z"}function bl(he){return he.join("L")+"Z"}function vc(he){for(var Pe=0,Ge=he.length,et=he[0],nt=[et[0],",",et[1]];++Pe<Ge;)nt.push("H",(et[0]+(et=he[Pe])[0])/2,"V",et[1]);return Ge>1&&nt.push("H",et[0]),nt.join("")}function Gl(he){for(var Pe=0,Ge=he.length,et=he[0],nt=[et[0],",",et[1]];++Pe<Ge;)nt.push("V",(et=he[Pe])[1],"H",et[0]);return nt.join("")}function ju(he){for(var Pe=0,Ge=he.length,et=he[0],nt=[et[0],",",et[1]];++Pe<Ge;)nt.push("H",(et=he[Pe])[0],"V",et[1]);return nt.join("")}function dc(he,Pe){return he.length<4?Oo(he):he[1]+qs(he.slice(1,-1),pu(he,Pe))}function ns(he,Pe){return he.length<3?bl(he):he[0]+qs((he.push(he[0]),he),pu([he[he.length-2]].concat(he,[he[1]]),Pe))}function If(he,Pe){return he.length<3?Oo(he):he[0]+qs(he,pu(he,Pe))}function qs(he,Pe){if(Pe.length<1||he.length!=Pe.length&&he.length!=Pe.length+2)return Oo(he);var Ge=he.length!=Pe.length,et="",nt=he[0],st=he[1],Dt=Pe[0],vt=Dt,Ut=1;if(Ge&&(et+="Q"+(st[0]-Dt[0]*2/3)+","+(st[1]-Dt[1]*2/3)+","+st[0]+","+st[1],nt=he[1],Ut=2),Pe.length>1){vt=Pe[1],st=he[Ut],Ut++,et+="C"+(nt[0]+Dt[0])+","+(nt[1]+Dt[1])+","+(st[0]-vt[0])+","+(st[1]-vt[1])+","+st[0]+","+st[1];for(var tr=2;tr<Pe.length;tr++,Ut++)st=he[Ut],vt=Pe[tr],et+="S"+(st[0]-vt[0])+","+(st[1]-vt[1])+","+st[0]+","+st[1]}if(Ge){var rr=he[Ut];et+="Q"+(st[0]+vt[0]*2/3)+","+(st[1]+vt[1]*2/3)+","+rr[0]+","+rr[1]}return et}function pu(he,Pe){for(var Ge=[],et=(1-Pe)/2,nt,st=he[0],Dt=he[1],vt=1,Ut=he.length;++vt<Ut;)nt=st,st=Dt,Dt=he[vt],Ge.push([et*(Dt[0]-nt[0]),et*(Dt[1]-nt[1])]);return Ge}function Bs(he){if(he.length<3)return Oo(he);var Pe=1,Ge=he.length,et=he[0],nt=et[0],st=et[1],Dt=[nt,nt,nt,(et=he[1])[0]],vt=[st,st,st,et[1]],Ut=[nt,",",st,"L",go(ms,Dt),",",go(ms,vt)];for(he.push(he[Ge-1]);++Pe<=Ge;)et=he[Pe],Dt.shift(),Dt.push(et[0]),vt.shift(),vt.push(et[1]),yu(Ut,Dt,vt);return he.pop(),Ut.push("L",et),Ut.join("")}function wh(he){if(he.length<4)return Oo(he);for(var Pe=[],Ge=-1,et=he.length,nt,st=[0],Dt=[0];++Ge<3;)nt=he[Ge],st.push(nt[0]),Dt.push(nt[1]);for(Pe.push(go(ms,st)+","+go(ms,Dt)),--Ge;++Ge<et;)nt=he[Ge],st.shift(),st.push(nt[0]),Dt.shift(),Dt.push(nt[1]),yu(Pe,st,Dt);return Pe.join("")}function kf(he){for(var Pe,Ge=-1,et=he.length,nt=et+4,st,Dt=[],vt=[];++Ge<4;)st=he[Ge%et],Dt.push(st[0]),vt.push(st[1]);for(Pe=[go(ms,Dt),",",go(ms,vt)],--Ge;++Ge<nt;)st=he[Ge%et],Dt.shift(),Dt.push(st[0]),vt.shift(),vt.push(st[1]),yu(Pe,Dt,vt);return Pe.join("")}function Zu(he,Pe){var Ge=he.length-1;if(Ge)for(var et=he[0][0],nt=he[0][1],st=he[Ge][0]-et,Dt=he[Ge][1]-nt,vt=-1,Ut,tr;++vt<=Ge;)Ut=he[vt],tr=vt/Ge,Ut[0]=Pe*Ut[0]+(1-Pe)*(et+tr*st),Ut[1]=Pe*Ut[1]+(1-Pe)*(nt+tr*Dt);return Bs(he)}function go(he,Pe){return he[0]*Pe[0]+he[1]*Pe[1]+he[2]*Pe[2]+he[3]*Pe[3]}var pc=[0,2/3,1/3,0],gu=[0,1/3,2/3,0],ms=[0,1/6,2/3,1/6];function yu(he,Pe,Ge){he.push("C",go(pc,Pe),",",go(pc,Ge),",",go(gu,Pe),",",go(gu,Ge),",",go(ms,Pe),",",go(ms,Ge))}function el(he,Pe){return(Pe[1]-he[1])/(Pe[0]-he[0])}function Xu(he){for(var Pe=0,Ge=he.length-1,et=[],nt=he[0],st=he[1],Dt=et[0]=el(nt,st);++Pe<Ge;)et[Pe]=(Dt+(Dt=el(nt=st,st=he[Pe+1])))/2;return et[Pe]=Dt,et}function gc(he){for(var Pe=[],Ge,et,nt,st,Dt=Xu(he),vt=-1,Ut=he.length-1;++vt<Ut;)Ge=el(he[vt],he[vt+1]),p(Ge)<ce?Dt[vt]=Dt[vt+1]=0:(et=Dt[vt]/Ge,nt=Dt[vt+1]/Ge,st=et*et+nt*nt,st>9&&(st=Ge*3/Math.sqrt(st),Dt[vt]=st*et,Dt[vt+1]=st*nt));for(vt=-1;++vt<=Ut;)st=(he[Math.min(Ut,vt+1)][0]-he[Math.max(0,vt-1)][0])/(6*(1+Dt[vt]*Dt[vt])),Pe.push([st||0,Dt[vt]*st||0]);return Pe}function Ff(he){return he.length<3?Oo(he):he[0]+qs(he,gc(he))}a.svg.line.radial=function(){var he=xl(_f);return he.radius=he.x,delete he.x,he.angle=he.y,delete he.y,he};function _f(he){for(var Pe,Ge=-1,et=he.length,nt,st;++Ge<et;)Pe=he[Ge],nt=Pe[0],st=Pe[1]-ot,Pe[0]=nt*Math.cos(st),Pe[1]=nt*Math.sin(st);return he}function wl(he){var Pe=fa,Ge=fa,et=0,nt=na,st=ml,Dt=Oo,vt=Dt.key,Ut=Dt,tr="L",rr=.7;function Pr(Er){var Jr=[],tn=[],Ir=[],Hr=-1,Zr=Er.length,rn,un=Kr(Pe),Xr=Kr(et),Nn=Pe===Ge?function(){return Qn}:Kr(Ge),Wn=et===nt?function(){return ia}:Kr(nt),Qn,ia;function Ta(){Jr.push("M",Dt(he(Ir),rr),tr,Ut(he(tn.reverse()),rr),"Z")}for(;++Hr<Zr;)st.call(this,rn=Er[Hr],Hr)?(tn.push([Qn=+un.call(this,rn,Hr),ia=+Xr.call(this,rn,Hr)]),Ir.push([+Nn.call(this,rn,Hr),+Wn.call(this,rn,Hr)])):tn.length&&(Ta(),tn=[],Ir=[]);return tn.length&&Ta(),Jr.length?Jr.join(""):null}return Pr.x=function(Er){return arguments.length?(Pe=Ge=Er,Pr):Ge},Pr.x0=function(Er){return arguments.length?(Pe=Er,Pr):Pe},Pr.x1=function(Er){return arguments.length?(Ge=Er,Pr):Ge},Pr.y=function(Er){return arguments.length?(et=nt=Er,Pr):nt},Pr.y0=function(Er){return arguments.length?(et=Er,Pr):et},Pr.y1=function(Er){return arguments.length?(nt=Er,Pr):nt},Pr.defined=function(Er){return arguments.length?(st=Er,Pr):st},Pr.interpolate=function(Er){return arguments.length?(typeof Er=="function"?vt=Dt=Er:vt=(Dt=Ro.get(Er)||Oo).key,Ut=Dt.reverse||Dt,tr=Dt.closed?"M":"L",Pr):vt},Pr.tension=function(Er){return arguments.length?(rr=Er,Pr):rr},Pr}Gl.reverse=ju,ju.reverse=Gl,a.svg.area=function(){return wl(B)},a.svg.area.radial=function(){var he=wl(_f);return he.radius=he.x,delete he.x,he.innerRadius=he.x0,delete he.x0,he.outerRadius=he.x1,delete he.x1,he.angle=he.y,delete he.y,he.startAngle=he.y0,delete he.y0,he.endAngle=he.y1,delete he.y1,he};function Ku(he){return he.source}function mu(he){return he.target}a.svg.chord=function(){var he=Ku,Pe=mu,Ge=yc,et=Vl,nt=Df;function st(rr,Pr){var Er=Dt(this,he,rr,Pr),Jr=Dt(this,Pe,rr,Pr);return"M"+Er.p0+Ut(Er.r,Er.p1,Er.a1-Er.a0)+(vt(Er,Jr)?tr(Er.r,Er.p1,Er.r,Er.p0):tr(Er.r,Er.p1,Jr.r,Jr.p0)+Ut(Jr.r,Jr.p1,Jr.a1-Jr.a0)+tr(Jr.r,Jr.p1,Er.r,Er.p0))+"Z"}function Dt(rr,Pr,Er,Jr){var tn=Pr.call(rr,Er,Jr),Ir=Ge.call(rr,tn,Jr),Hr=et.call(rr,tn,Jr)-ot,Zr=nt.call(rr,tn,Jr)-ot;return{r:Ir,a0:Hr,a1:Zr,p0:[Ir*Math.cos(Hr),Ir*Math.sin(Hr)],p1:[Ir*Math.cos(Zr),Ir*Math.sin(Zr)]}}function vt(rr,Pr){return rr.a0==Pr.a0&&rr.a1==Pr.a1}function Ut(rr,Pr,Er){return"A"+rr+","+rr+" 0 "+ +(Er>De)+",1 "+Pr}function tr(rr,Pr,Er,Jr){return"Q 0,0 "+Jr}return st.radius=function(rr){return arguments.length?(Ge=Kr(rr),st):Ge},st.source=function(rr){return arguments.length?(he=Kr(rr),st):he},st.target=function(rr){return arguments.length?(Pe=Kr(rr),st):Pe},st.startAngle=function(rr){return arguments.length?(et=Kr(rr),st):et},st.endAngle=function(rr){return arguments.length?(nt=Kr(rr),st):nt},st};function yc(he){return he.radius}a.svg.diagonal=function(){var he=Ku,Pe=mu,Ge=xu;function et(nt,st){var Dt=he.call(this,nt,st),vt=Pe.call(this,nt,st),Ut=(Dt.y+vt.y)/2,tr=[Dt,{x:Dt.x,y:Ut},{x:vt.x,y:Ut},vt];return tr=tr.map(Ge),"M"+tr[0]+"C"+tr[1]+" "+tr[2]+" "+tr[3]}return et.source=function(nt){return arguments.length?(he=Kr(nt),et):he},et.target=function(nt){return arguments.length?(Pe=Kr(nt),et):Pe},et.projection=function(nt){return arguments.length?(Ge=nt,et):Ge},et};function xu(he){return[he.x,he.y]}a.svg.diagonal.radial=function(){var he=a.svg.diagonal(),Pe=xu,Ge=he.projection;return he.projection=function(et){return arguments.length?Ge(mc(Pe=et)):Pe},he};function mc(he){return function(){var Pe=he.apply(this,arguments),Ge=Pe[0],et=Pe[1]-ot;return[Ge*Math.cos(et),Ge*Math.sin(et)]}}a.svg.symbol=function(){var he=at,Pe=Qe;function Ge(et,nt){return(yt.get(he.call(this,et,nt))||dt)(Pe.call(this,et,nt))}return Ge.type=function(et){return arguments.length?(he=Kr(et),Ge):he},Ge.size=function(et){return arguments.length?(Pe=Kr(et),Ge):Pe},Ge};function Qe(){return 64}function at(){return"circle"}function dt(he){var Pe=Math.sqrt(he/De);return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+Pe+"Z"}var yt=a.map({circle:dt,cross:function(he){var Pe=Math.sqrt(he/5)/2;return"M"+-3*Pe+","+-Pe+"H"+-Pe+"V"+-3*Pe+"H"+Pe+"V"+-Pe+"H"+3*Pe+"V"+Pe+"H"+Pe+"V"+3*Pe+"H"+-Pe+"V"+Pe+"H"+-3*Pe+"Z"},diamond:function(he){var Pe=Math.sqrt(he/(2*Rt)),Ge=Pe*Rt;return"M0,"+-Pe+"L"+Ge+",0 0,"+Pe+" "+-Ge+",0Z"},square:function(he){var Pe=Math.sqrt(he)/2;return"M"+-Pe+","+-Pe+"L"+Pe+","+-Pe+" "+Pe+","+Pe+" "+-Pe+","+Pe+"Z"},"triangle-down":function(he){var Pe=Math.sqrt(he/Ft),Ge=Pe*Ft/2;return"M0,"+Ge+"L"+Pe+","+-Ge+" "+-Pe+","+-Ge+"Z"},"triangle-up":function(he){var Pe=Math.sqrt(he/Ft),Ge=Pe*Ft/2;return"M0,"+-Ge+"L"+Pe+","+Ge+" "+-Pe+","+Ge+"Z"}});a.svg.symbolTypes=yt.keys();var Ft=Math.sqrt(3),Rt=Math.tan(30*Tt);Z.transition=function(he){for(var Pe=Rr||++Ar,Ge=wn(he),et=[],nt,st,Dt=jr||{time:Date.now(),ease:nh,delay:0,duration:250},vt=-1,Ut=this.length;++vt<Ut;){et.push(nt=[]);for(var tr=this[vt],rr=-1,Pr=tr.length;++rr<Pr;)(st=tr[rr])&&Dn(st,rr,Ge,Pe,Dt),nt.push(st)}return yr(et,Ge,Pe)},Z.interrupt=function(he){return this.each(he==null?Bt:hr(wn(he)))};var Bt=hr(wn());function hr(he){return function(){var Pe,Ge,et;(Pe=this[he])&&(et=Pe[Ge=Pe.active])&&(et.timer.c=null,et.timer.t=NaN,--Pe.count?delete Pe[Ge]:delete this[he],Pe.active+=.5,et.event&&et.event.interrupt.call(this,this.__data__,et.index))}}function yr(he,Pe,Ge){return Q(he,ir),he.namespace=Pe,he.id=Ge,he}var ir=[],Ar=0,Rr,jr;ir.call=Z.call,ir.empty=Z.empty,ir.node=Z.node,ir.size=Z.size,a.transition=function(he,Pe){return he&&he.transition?Rr?he.transition(Pe):he:a.selection().transition(he)},a.transition.prototype=ir,ir.select=function(he){var Pe=this.id,Ge=this.namespace,et=[],nt,st,Dt;he=ie(he);for(var vt=-1,Ut=this.length;++vt<Ut;){et.push(nt=[]);for(var tr=this[vt],rr=-1,Pr=tr.length;++rr<Pr;)(Dt=tr[rr])&&(st=he.call(Dt,Dt.__data__,rr,vt))?("__data__"in Dt&&(st.__data__=Dt.__data__),Dn(st,rr,Ge,Pe,Dt[Ge][Pe]),nt.push(st)):nt.push(null)}return yr(et,Ge,Pe)},ir.selectAll=function(he){var Pe=this.id,Ge=this.namespace,et=[],nt,st,Dt,vt,Ut;he=te(he);for(var tr=-1,rr=this.length;++tr<rr;)for(var Pr=this[tr],Er=-1,Jr=Pr.length;++Er<Jr;)if(Dt=Pr[Er]){Ut=Dt[Ge][Pe],st=he.call(Dt,Dt.__data__,Er,tr),et.push(nt=[]);for(var tn=-1,Ir=st.length;++tn<Ir;)(vt=st[tn])&&Dn(vt,tn,Ge,Pe,Ut),nt.push(vt)}return yr(et,Ge,Pe)},ir.filter=function(he){var Pe=[],Ge,et,nt;typeof he!="function"&&(he=tt(he));for(var st=0,Dt=this.length;st<Dt;st++){Pe.push(Ge=[]);for(var et=this[st],vt=0,Ut=et.length;vt<Ut;vt++)(nt=et[vt])&&he.call(nt,nt.__data__,vt,st)&&Ge.push(nt)}return yr(Pe,this.namespace,this.id)},ir.tween=function(he,Pe){var Ge=this.id,et=this.namespace;return arguments.length<2?this.node()[et][Ge].tween.get(he):qe(this,Pe==null?function(nt){nt[et][Ge].tween.remove(he)}:function(nt){nt[et][Ge].tween.set(he,Pe)})};function Qr(he,Pe,Ge,et){var nt=he.id,st=he.namespace;return qe(he,typeof Ge=="function"?function(Dt,vt,Ut){Dt[st][nt].tween.set(Pe,et(Ge.call(Dt,Dt.__data__,vt,Ut)))}:(Ge=et(Ge),function(Dt){Dt[st][nt].tween.set(Pe,Ge)}))}ir.attr=function(he,Pe){if(arguments.length<2){for(Pe in he)this.attr(Pe,he[Pe]);return this}var Ge=he=="transform"?hl:Ps,et=a.ns.qualify(he);function nt(){this.removeAttribute(et)}function st(){this.removeAttributeNS(et.space,et.local)}function Dt(Ut){return Ut==null?nt:(Ut+="",function(){var tr=this.getAttribute(et),rr;return tr!==Ut&&(rr=Ge(tr,Ut),function(Pr){this.setAttribute(et,rr(Pr))})})}function vt(Ut){return Ut==null?st:(Ut+="",function(){var tr=this.getAttributeNS(et.space,et.local),rr;return tr!==Ut&&(rr=Ge(tr,Ut),function(Pr){this.setAttributeNS(et.space,et.local,rr(Pr))})})}return Qr(this,"attr."+he,Pe,et.local?vt:Dt)},ir.attrTween=function(he,Pe){var Ge=a.ns.qualify(he);function et(st,Dt){var vt=Pe.call(this,st,Dt,this.getAttribute(Ge));return vt&&function(Ut){this.setAttribute(Ge,vt(Ut))}}function nt(st,Dt){var vt=Pe.call(this,st,Dt,this.getAttributeNS(Ge.space,Ge.local));return vt&&function(Ut){this.setAttributeNS(Ge.space,Ge.local,vt(Ut))}}return this.tween("attr."+he,Ge.local?nt:et)},ir.style=function(he,Pe,Ge){var et=arguments.length;if(et<3){if(typeof he!="string"){et<2&&(Pe="");for(Ge in he)this.style(Ge,he[Ge],Pe);return this}Ge=""}function nt(){this.style.removeProperty(he)}function st(Dt){return Dt==null?nt:(Dt+="",function(){var vt=t(this).getComputedStyle(this,null).getPropertyValue(he),Ut;return vt!==Dt&&(Ut=Ps(vt,Dt),function(tr){this.style.setProperty(he,Ut(tr),Ge)})})}return Qr(this,"style."+he,Pe,st)},ir.styleTween=function(he,Pe,Ge){arguments.length<3&&(Ge="");function et(nt,st){var Dt=Pe.call(this,nt,st,t(this).getComputedStyle(this,null).getPropertyValue(he));return Dt&&function(vt){this.style.setProperty(he,Dt(vt),Ge)}}return this.tween("style."+he,et)},ir.text=function(he){return Qr(this,"text",he,xn)};function xn(he){return he==null&&(he=""),function(){this.textContent=he}}ir.remove=function(){var he=this.namespace;return this.each("end.transition",function(){var Pe;this[he].count<2&&(Pe=this.parentNode)&&Pe.removeChild(this)})},ir.ease=function(he){var Pe=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Pe].ease:(typeof he!="function"&&(he=a.ease.apply(a,arguments)),qe(this,function(et){et[Ge][Pe].ease=he}))},ir.delay=function(he){var Pe=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Pe].delay:qe(this,typeof he=="function"?function(et,nt,st){et[Ge][Pe].delay=+he.call(et,et.__data__,nt,st)}:(he=+he,function(et){et[Ge][Pe].delay=he}))},ir.duration=function(he){var Pe=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Pe].duration:qe(this,typeof he=="function"?function(et,nt,st){et[Ge][Pe].duration=Math.max(1,he.call(et,et.__data__,nt,st))}:(he=Math.max(1,he),function(et){et[Ge][Pe].duration=he}))},ir.each=function(he,Pe){var Ge=this.id,et=this.namespace;if(arguments.length<2){var nt=jr,st=Rr;try{Rr=Ge,qe(this,function(Dt,vt,Ut){jr=Dt[et][Ge],he.call(Dt,Dt.__data__,vt,Ut)})}finally{jr=nt,Rr=st}}else qe(this,function(Dt){var vt=Dt[et][Ge];(vt.event||(vt.event=a.dispatch("start","end","interrupt"))).on(he,Pe)});return this},ir.transition=function(){for(var he=this.id,Pe=++Ar,Ge=this.namespace,et=[],nt,st,Dt,vt,Ut=0,tr=this.length;Ut<tr;Ut++){et.push(nt=[]);for(var st=this[Ut],rr=0,Pr=st.length;rr<Pr;rr++)(Dt=st[rr])&&(vt=Dt[Ge][he],Dn(Dt,rr,Ge,Pe,{time:vt.time,ease:vt.ease,delay:vt.delay+vt.duration,duration:vt.duration})),nt.push(Dt)}return yr(et,Ge,Pe)};function wn(he){return he==null?"__transition__":"__transition_"+he+"__"}function Dn(he,Pe,Ge,et,nt){var st=he[Ge]||(he[Ge]={active:0,count:0}),Dt=st[et],vt,Ut,tr,rr,Pr;function Er(Ir){var Hr=Dt.delay;if(Ut.t=Hr+vt,Hr<=Ir)return Jr(Ir-Hr);Ut.c=Jr}function Jr(Ir){var Hr=st.active,Zr=st[Hr];Zr&&(Zr.timer.c=null,Zr.timer.t=NaN,--st.count,delete st[Hr],Zr.event&&Zr.event.interrupt.call(he,he.__data__,Zr.index));for(var rn in st)if(+rn<et){var un=st[rn];un.timer.c=null,un.timer.t=NaN,--st.count,delete st[rn]}Ut.c=tn,An(function(){return Ut.c&&tn(Ir||1)&&(Ut.c=null,Ut.t=NaN),1},0,vt),st.active=et,Dt.event&&Dt.event.start.call(he,he.__data__,Pe),Pr=[],Dt.tween.forEach(function(Xr,Nn){(Nn=Nn.call(he,he.__data__,Pe))&&Pr.push(Nn)}),rr=Dt.ease,tr=Dt.duration}function tn(Ir){for(var Hr=Ir/tr,Zr=rr(Hr),rn=Pr.length;rn>0;)Pr[--rn].call(he,Zr);if(Hr>=1)return Dt.event&&Dt.event.end.call(he,he.__data__,Pe),--st.count?delete st[et]:delete he[Ge],1}Dt||(vt=nt.time,Ut=An(Er,0,vt),Dt=st[et]={tween:new R,time:vt,timer:Ut,delay:nt.delay,duration:nt.duration,ease:nt.ease,index:Pe},nt=null,++st.count)}a.svg.axis=function(){var he=a.scale.linear(),Pe=pa,Ge=6,et=6,nt=3,st=[10],Dt=null,vt;function Ut(tr){tr.each(function(){var rr=a.select(this),Pr=this.__chart__||he,Er=this.__chart__=he.copy(),Jr=Dt??(Er.ticks?Er.ticks.apply(Er,st):Er.domain()),tn=vt??(Er.tickFormat?Er.tickFormat.apply(Er,st):B),Ir=rr.selectAll(".tick").data(Jr,Er),Hr=Ir.enter().insert("g",".domain").attr("class","tick").style("opacity",ce),Zr=a.transition(Ir.exit()).style("opacity",ce).remove(),rn=a.transition(Ir.order()).style("opacity",1),un=Math.max(Ge,0)+nt,Xr,Nn=vu(Er),Wn=rr.selectAll(".domain").data([0]),Qn=(Wn.enter().append("path").attr("class","domain"),a.transition(Wn));Hr.append("line"),Hr.append("text");var ia=Hr.select("line"),Ta=rn.select("line"),wa=Ir.select("text").text(tn),Va=Hr.select("text"),La=rn.select("text"),Na=Pe==="top"||Pe==="left"?-1:1,$a,ri,fi,Un;if(Pe==="bottom"||Pe==="top"?(Xr=Ia,$a="x",fi="y",ri="x2",Un="y2",wa.attr("dy",Na<0?"0em":".71em").style("text-anchor","middle"),Qn.attr("d","M"+Nn[0]+","+Na*et+"V0H"+Nn[1]+"V"+Na*et)):(Xr=ka,$a="y",fi="x",ri="y2",Un="x2",wa.attr("dy",".32em").style("text-anchor",Na<0?"end":"start"),Qn.attr("d","M"+Na*et+","+Nn[0]+"H0V"+Nn[1]+"H"+Na*et)),ia.attr(Un,Na*Ge),Va.attr(fi,Na*un),Ta.attr(ri,0).attr(Un,Na*Ge),La.attr($a,0).attr(fi,Na*un),Er.rangeBand){var Ua=Er,Oa=Ua.rangeBand()/2;Pr=Er=function(Za){return Ua(Za)+Oa}}else Pr.rangeBand?Pr=Er:Zr.call(Xr,Er,Pr);Hr.call(Xr,Pr,Er),rn.call(Xr,Er,Er)})}return Ut.scale=function(tr){return arguments.length?(he=tr,Ut):he},Ut.orient=function(tr){return arguments.length?(Pe=tr in Pa?tr+"":pa,Ut):Pe},Ut.ticks=function(){return arguments.length?(st=x(arguments),Ut):st},Ut.tickValues=function(tr){return arguments.length?(Dt=tr,Ut):Dt},Ut.tickFormat=function(tr){return arguments.length?(vt=tr,Ut):vt},Ut.tickSize=function(tr){var rr=arguments.length;return rr?(Ge=+tr,et=+arguments[rr-1],Ut):Ge},Ut.innerTickSize=function(tr){return arguments.length?(Ge=+tr,Ut):Ge},Ut.outerTickSize=function(tr){return arguments.length?(et=+tr,Ut):et},Ut.tickPadding=function(tr){return arguments.length?(nt=+tr,Ut):nt},Ut.tickSubdivide=function(){return arguments.length&&Ut},Ut};var pa="bottom",Pa={top:1,right:1,bottom:1,left:1};function Ia(he,Pe,Ge){he.attr("transform",function(et){var nt=Pe(et);return"translate("+(isFinite(nt)?nt:Ge(et))+",0)"})}function ka(he,Pe,Ge){he.attr("transform",function(et){var nt=Pe(et);return"translate(0,"+(isFinite(nt)?nt:Ge(et))+")"})}a.svg.brush=function(){var he=ee(rr,"brushstart","brush","brushend"),Pe=null,Ge=null,et=[0,0],nt=[0,0],st,Dt,vt=!0,Ut=!0,tr=oi[0];function rr(Ir){Ir.each(function(){var Hr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",tn).on("touchstart.brush",tn),Zr=Hr.selectAll(".background").data([0]);Zr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Hr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var rn=Hr.selectAll(".resize").data(tr,B);rn.exit().remove(),rn.enter().append("g").attr("class",function(Wn){return"resize "+Wn}).style("cursor",function(Wn){return _a[Wn]}).append("rect").attr("x",function(Wn){return/[ew]$/.test(Wn)?-3:null}).attr("y",function(Wn){return/^[ns]/.test(Wn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),rn.style("display",rr.empty()?"none":null);var un=a.transition(Hr),Xr=a.transition(Zr),Nn;Pe&&(Nn=vu(Pe),Xr.attr("x",Nn[0]).attr("width",Nn[1]-Nn[0]),Er(un)),Ge&&(Nn=vu(Ge),Xr.attr("y",Nn[0]).attr("height",Nn[1]-Nn[0]),Jr(un)),Pr(un)})}rr.event=function(Ir){Ir.each(function(){var Hr=he.of(this,arguments),Zr={x:et,y:nt,i:st,j:Dt},rn=this.__chart__||Zr;this.__chart__=Zr,Rr?a.select(this).transition().each("start.brush",function(){st=rn.i,Dt=rn.j,et=rn.x,nt=rn.y,Hr({type:"brushstart"})}).tween("brush:brush",function(){var un=ro(et,Zr.x),Xr=ro(nt,Zr.y);return st=Dt=null,function(Nn){et=Zr.x=un(Nn),nt=Zr.y=Xr(Nn),Hr({type:"brush",mode:"resize"})}}).each("end.brush",function(){st=Zr.i,Dt=Zr.j,Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"})}):(Hr({type:"brushstart"}),Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"}))})};function Pr(Ir){Ir.selectAll(".resize").attr("transform",function(Hr){return"translate("+et[+/e$/.test(Hr)]+","+nt[+/^s/.test(Hr)]+")"})}function Er(Ir){Ir.select(".extent").attr("x",et[0]),Ir.selectAll(".extent,.n>rect,.s>rect").attr("width",et[1]-et[0])}function Jr(Ir){Ir.select(".extent").attr("y",nt[0]),Ir.selectAll(".extent,.e>rect,.w>rect").attr("height",nt[1]-nt[0])}function tn(){var Ir=this,Hr=a.select(a.event.target),Zr=he.of(Ir,arguments),rn=a.select(Ir),un=Hr.datum(),Xr=!/^(n|s)$/.test(un)&&Pe,Nn=!/^(e|w)$/.test(un)&&Ge,Wn=Hr.classed("extent"),Qn=Oe(Ir),ia,Ta=a.mouse(Ir),wa,Va=a.select(t(Ir)).on("keydown.brush",$a).on("keyup.brush",ri);if(a.event.changedTouches?Va.on("touchmove.brush",fi).on("touchend.brush",Ua):Va.on("mousemove.brush",fi).on("mouseup.brush",Ua),rn.interrupt().selectAll("*").interrupt(),Wn)Ta[0]=et[0]-Ta[0],Ta[1]=nt[0]-Ta[1];else if(un){var La=+/w$/.test(un),Na=+/^n/.test(un);wa=[et[1-La]-Ta[0],nt[1-Na]-Ta[1]],Ta[0]=et[La],Ta[1]=nt[Na]}else a.event.altKey&&(ia=Ta.slice());rn.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Hr.style("cursor")),Zr({type:"brushstart"}),fi();function $a(){a.event.keyCode==32&&(Wn||(ia=null,Ta[0]-=et[1],Ta[1]-=nt[1],Wn=2),ue())}function ri(){a.event.keyCode==32&&Wn==2&&(Ta[0]+=et[1],Ta[1]+=nt[1],Wn=0,ue())}function fi(){var Oa=a.mouse(Ir),Za=!1;wa&&(Oa[0]+=wa[0],Oa[1]+=wa[1]),Wn||(a.event.altKey?(ia||(ia=[(et[0]+et[1])/2,(nt[0]+nt[1])/2]),Ta[0]=et[+(Oa[0]<ia[0])],Ta[1]=nt[+(Oa[1]<ia[1])]):ia=null),Xr&&Un(Oa,Pe,0)&&(Er(rn),Za=!0),Nn&&Un(Oa,Ge,1)&&(Jr(rn),Za=!0),Za&&(Pr(rn),Zr({type:"brush",mode:Wn?"move":"resize"}))}function Un(Oa,Za,Ei){var Oi=vu(Za),Vi=Oi[0],bi=Oi[1],hi=Ta[Ei],xa=Ei?nt:et,Ea=xa[1]-xa[0],wi,Hi;if(Wn&&(Vi-=hi,bi-=Ea+hi),wi=(Ei?Ut:vt)?Math.max(Vi,Math.min(bi,Oa[Ei])):Oa[Ei],Wn?Hi=(wi+=hi)+Ea:(ia&&(hi=Math.max(Vi,Math.min(bi,2*ia[Ei]-wi))),hi<wi?(Hi=wi,wi=hi):Hi=hi),xa[0]!=wi||xa[1]!=Hi)return Ei?Dt=null:st=null,xa[0]=wi,xa[1]=Hi,!0}function Ua(){fi(),rn.style("pointer-events","all").selectAll(".resize").style("display",rr.empty()?"none":null),a.select("body").style("cursor",null),Va.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Qn(),Zr({type:"brushend"})}}return rr.x=function(Ir){return arguments.length?(Pe=Ir,tr=oi[!Pe<<1|!Ge],rr):Pe},rr.y=function(Ir){return arguments.length?(Ge=Ir,tr=oi[!Pe<<1|!Ge],rr):Ge},rr.clamp=function(Ir){return arguments.length?(Pe&&Ge?(vt=!!Ir[0],Ut=!!Ir[1]):Pe?vt=!!Ir:Ge&&(Ut=!!Ir),rr):Pe&&Ge?[vt,Ut]:Pe?vt:Ge?Ut:null},rr.extent=function(Ir){var Hr,Zr,rn,un,Xr;return arguments.length?(Pe&&(Hr=Ir[0],Zr=Ir[1],Ge&&(Hr=Hr[0],Zr=Zr[0]),st=[Hr,Zr],Pe.invert&&(Hr=Pe(Hr),Zr=Pe(Zr)),Zr<Hr&&(Xr=Hr,Hr=Zr,Zr=Xr),(Hr!=et[0]||Zr!=et[1])&&(et=[Hr,Zr])),Ge&&(rn=Ir[0],un=Ir[1],Pe&&(rn=rn[1],un=un[1]),Dt=[rn,un],Ge.invert&&(rn=Ge(rn),un=Ge(un)),un<rn&&(Xr=rn,rn=un,un=Xr),(rn!=nt[0]||un!=nt[1])&&(nt=[rn,un])),rr):(Pe&&(st?(Hr=st[0],Zr=st[1]):(Hr=et[0],Zr=et[1],Pe.invert&&(Hr=Pe.invert(Hr),Zr=Pe.invert(Zr)),Zr<Hr&&(Xr=Hr,Hr=Zr,Zr=Xr))),Ge&&(Dt?(rn=Dt[0],un=Dt[1]):(rn=nt[0],un=nt[1],Ge.invert&&(rn=Ge.invert(rn),un=Ge.invert(un)),un<rn&&(Xr=rn,rn=un,un=Xr))),Pe&&Ge?[[Hr,rn],[Zr,un]]:Pe?[Hr,Zr]:Ge&&[rn,un])},rr.clear=function(){return rr.empty()||(et=[0,0],nt=[0,0],st=Dt=null),rr},rr.empty=function(){return!!Pe&&et[0]==et[1]||!!Ge&&nt[0]==nt[1]},a.rebind(rr,he,"on")};var _a={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},oi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=kn(function(he){return he.responseText}),a.json=function(he,Pe){return In(he,"application/json",Ii,Pe)};function Ii(he){return JSON.parse(he.responseText)}a.html=function(he,Pe){return In(he,"text/html",gi,Pe)};function gi(he){var Pe=h.createRange();return Pe.selectNode(h.body),Pe.createContextualFragment(he.responseText)}a.xml=kn(function(he){return he.responseXML}),y=a,C=typeof y=="function"?y.call(V,e,V,W):y,C!==void 0&&(W.exports=C)}).apply(self)},88294:function(W,V,e){W.exports=e(62849)},62849:function(W,V,e){var y=e(91358),C=e(53435),a=e(18863),L=e(21527),x=e(71299),h=e(46775),d=e(30120),t=e(64941),r=e(90660),u=e(27084),n=1073741824;W.exports=function(o,m){m||(m={}),o=d(o,"float64"),m=x(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=h(m.maxDepth,255),b=h(m.bounds,L(o,2));b[0]===b[2]&&b[2]++,b[1]===b[3]&&b[3]++;var v=i(o,b),l=o.length>>>1,p;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?p=new(r(m.dtype))(l):m.dtype&&(p=m.dtype,Array.isArray(p)&&(p.length=l));for(var S=0;S<l;++S)p[S]=S;var M=[],R=[],T=[],E=[];H(0,0,1,p,0,1);for(var A=0,f=0;f<M.length;f++){var P=M[f];if(p.set)p.set(P,A);else for(var w=0,z=P.length;w<z;w++)p[w+A]=P[w];var F=A+M[f].length;E[f]=[A,F],A=F}return p.range=_,p;function H(O,U,K,re,ae,ue){if(!re.length)return null;var ve=M[ae]||(M[ae]=[]),ee=T[ae]||(T[ae]=[]),J=R[ae]||(R[ae]=[]),Q=ve.length;if(ae++,ae>c||ue>n){for(var X=0;X<re.length;X++)ve.push(re[X]),ee.push(ue),J.push(null,null,null,null);return Q}if(ve.push(re[0]),ee.push(ue),re.length<=1)return J.push(null,null,null,null),Q;for(var q=K*.5,se=O+q,Y=U+q,Z=[],ie=[],te=[],fe=[],de=1,we=re.length;de<we;de++){var Ae=re[de],Re=v[Ae*2],Fe=v[Ae*2+1];Re<se?Fe<Y?Z.push(Ae):ie.push(Ae):Fe<Y?te.push(Ae):fe.push(Ae)}return ue<<=2,J.push(H(O,U,q,Z,ae,ue),H(O,Y,q,ie,ae,ue+1),H(se,U,q,te,ae,ue+2),H(se,Y,q,fe,ae,ue+3)),Q}function _(){for(var O=[],U=arguments.length;U--;)O[U]=arguments[U];var K;if(t(O[O.length-1])){var re=O.pop();!O.length&&(re.x!=null||re.l!=null||re.left!=null)&&(O=[re],K={}),K=x(re,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else K={};O.length||(O=b);var ae=a.apply(void 0,O),ue=[Math.min(ae.x,ae.x+ae.width),Math.min(ae.y,ae.y+ae.height),Math.max(ae.x,ae.x+ae.width),Math.max(ae.y,ae.y+ae.height)],ve=ue[0],ee=ue[1],J=ue[2],Q=ue[3],X=i([ve,ee,J,Q],b),q=X[0],se=X[1],Y=X[2],Z=X[3],ie=h(K.level,M.length);if(K.d!=null){var te;typeof K.d=="number"?te=[K.d,K.d]:K.d.length&&(te=K.d),ie=Math.min(Math.max(Math.ceil(-u(Math.abs(te[0])/(b[2]-b[0]))),Math.ceil(-u(Math.abs(te[1])/(b[3]-b[1])))),ie)}if(ie=Math.min(ie,M.length),K.lod)return B(q,se,Y,Z,ie);var fe=[];de(0,0,1,0,0,1);function de(Ae,Re,Fe,Se,Te,Ee){if(!(Te===null||Ee===null)){var Ne=Ae+Fe,He=Re+Fe;if(!(q>Ne||se>He||Y<Ae||Z<Re)&&!(Se>=ie)&&Te!==Ee){var _e=M[Se];Ee===void 0&&(Ee=_e.length);for(var We=Te;We<Ee;We++){var tt=_e[We],Ke=o[tt*2],qe=o[tt*2+1];Ke>=ve&&Ke<=J&&qe>=ee&&qe<=Q&&fe.push(tt)}var rt=R[Se],ft=rt[Te*4+0],pt=rt[Te*4+1],gt=rt[Te*4+2],Mt=rt[Te*4+3],Lt=we(rt,Te+1),Wt=Fe*.5,Je=Se+1;de(Ae,Re,Wt,Je,ft,pt||gt||Mt||Lt),de(Ae,Re+Wt,Wt,Je,pt,gt||Mt||Lt),de(Ae+Wt,Re,Wt,Je,gt,Mt||Lt),de(Ae+Wt,Re+Wt,Wt,Je,Mt,Lt)}}}function we(Ae,Re){for(var Fe=null,Se=0;Fe===null;)if(Fe=Ae[Re*4+Se],Se++,Se>Ae.length)return null;return Fe}return fe}function B(O,U,K,re,ae){for(var ue=[],ve=0;ve<ae;ve++){var ee=T[ve],J=E[ve][0],Q=N(O,U,ve),X=N(K,re,ve),q=y.ge(ee,Q),se=y.gt(ee,X,q,ee.length-1);ue[ve]=[q+J,se+J]}return ue}function N(O,U,K){for(var re=1,ae=.5,ue=.5,ve=.5,ee=0;ee<K;ee++)re<<=2,re+=O<ae?U<ue?0:1:U<ue?2:3,ve*=.5,ae+=O<ae?-ve:ve,ue+=U<ue?-ve:ve;return re}};function i(s,o){for(var m=o[0],c=o[1],b=o[2],v=o[3],l=1/(b-m),p=1/(v-c),S=new Array(s.length),M=0,R=s.length/2;M<R;M++)S[2*M]=C((s[2*M]-m)*l,0,1),S[2*M+1]=C((s[2*M+1]-c)*p,0,1);return S}},30774:function(W,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(60302),C=6378137;function a(t){return y.geomReduce(t,function(r,u){return r+L(u)},0)}V.default=a;function L(t){var r=0,u;switch(t.type){case"Polygon":return x(t.coordinates);case"MultiPolygon":for(u=0;u<t.coordinates.length;u++)r+=x(t.coordinates[u]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function x(t){var r=0;if(t&&t.length>0){r+=Math.abs(h(t[0]));for(var u=1;u<t.length;u++)r-=Math.abs(h(t[u]))}return r}function h(t){var r,u,n,i,s,o,m,c=0,b=t.length;if(b>2){for(m=0;m<b;m++)m===b-2?(i=b-2,s=b-1,o=0):m===b-1?(i=b-1,s=0,o=1):(i=m,s=m+1,o=m+2),r=t[i],u=t[s],n=t[o],c+=(d(n[0])-d(r[0]))*Math.sin(d(u[1]));c=c*C*C/2}return c}function d(t){return t*Math.PI/180}},23132:function(W,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,f,P){P===void 0&&(P={});var w={type:"Feature"};return(P.id===0||P.id)&&(w.id=P.id),P.bbox&&(w.bbox=P.bbox),w.properties=f||{},w.geometry=A,w}V.feature=e;function y(A,f,P){switch(A){case"Point":return C(f).geometry;case"LineString":return h(f).geometry;case"Polygon":return L(f).geometry;case"MultiPoint":return u(f).geometry;case"MultiLineString":return r(f).geometry;case"MultiPolygon":return n(f).geometry;default:throw new Error(A+" is invalid")}}V.geometry=y;function C(A,f,P){if(P===void 0&&(P={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(A[0])||!M(A[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:A};return e(w,f,P)}V.point=C;function a(A,f,P){return P===void 0&&(P={}),t(A.map(function(w){return C(w,f)}),P)}V.points=a;function L(A,f,P){P===void 0&&(P={});for(var w=0,z=A;w<z.length;w++){var F=z[w];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<F[F.length-1].length;H++)if(F[F.length-1][H]!==F[0][H])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:A};return e(_,f,P)}V.polygon=L;function x(A,f,P){return P===void 0&&(P={}),t(A.map(function(w){return L(w,f)}),P)}V.polygons=x;function h(A,f,P){if(P===void 0&&(P={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:A};return e(w,f,P)}V.lineString=h;function d(A,f,P){return P===void 0&&(P={}),t(A.map(function(w){return h(w,f)}),P)}V.lineStrings=d;function t(A,f){f===void 0&&(f={});var P={type:"FeatureCollection"};return f.id&&(P.id=f.id),f.bbox&&(P.bbox=f.bbox),P.features=A,P}V.featureCollection=t;function r(A,f,P){P===void 0&&(P={});var w={type:"MultiLineString",coordinates:A};return e(w,f,P)}V.multiLineString=r;function u(A,f,P){P===void 0&&(P={});var w={type:"MultiPoint",coordinates:A};return e(w,f,P)}V.multiPoint=u;function n(A,f,P){P===void 0&&(P={});var w={type:"MultiPolygon",coordinates:A};return e(w,f,P)}V.multiPolygon=n;function i(A,f,P){P===void 0&&(P={});var w={type:"GeometryCollection",geometries:A};return e(w,f,P)}V.geometryCollection=i;function s(A,f){if(f===void 0&&(f=0),f&&!(f>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,f||0);return Math.round(A*P)/P}V.round=s;function o(A,f){f===void 0&&(f="kilometers");var P=V.factors[f];if(!P)throw new Error(f+" units is invalid");return A*P}V.radiansToLength=o;function m(A,f){f===void 0&&(f="kilometers");var P=V.factors[f];if(!P)throw new Error(f+" units is invalid");return A/P}V.lengthToRadians=m;function c(A,f){return v(m(A,f))}V.lengthToDegrees=c;function b(A){var f=A%360;return f<0&&(f+=360),f}V.bearingToAzimuth=b;function v(A){var f=A%(2*Math.PI);return f*180/Math.PI}V.radiansToDegrees=v;function l(A){var f=A%360;return f*Math.PI/180}V.degreesToRadians=l;function p(A,f,P){if(f===void 0&&(f="kilometers"),P===void 0&&(P="kilometers"),!(A>=0))throw new Error("length must be a positive number");return o(m(A,f),P)}V.convertLength=p;function S(A,f,P){if(f===void 0&&(f="meters"),P===void 0&&(P="kilometers"),!(A>=0))throw new Error("area must be a positive number");var w=V.areaFactors[f];if(!w)throw new Error("invalid original units");var z=V.areaFactors[P];if(!z)throw new Error("invalid final units");return A/w*z}V.convertArea=S;function M(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}V.isNumber=M;function R(A){return!!A&&A.constructor===Object}V.isObject=R;function T(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(f){if(!M(f))throw new Error("bbox must only contain numbers")})}V.validateBBox=T;function E(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}V.validateId=E},60302:function(W,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(23132);function C(l,p,S){if(l!==null)for(var M,R,T,E,A,f,P,w=0,z=0,F,H=l.type,_=H==="FeatureCollection",B=H==="Feature",N=_?l.features.length:1,O=0;O<N;O++){P=_?l.features[O].geometry:B?l.geometry:l,F=P?P.type==="GeometryCollection":!1,A=F?P.geometries.length:1;for(var U=0;U<A;U++){var K=0,re=0;if(E=F?P.geometries[U]:P,E!==null){f=E.coordinates;var ae=E.type;switch(w=S&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(p(f,z,O,K,re)===!1)return!1;z++,K++;break;case"LineString":case"MultiPoint":for(M=0;M<f.length;M++){if(p(f[M],z,O,K,re)===!1)return!1;z++,ae==="MultiPoint"&&K++}ae==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(M=0;M<f.length;M++){for(R=0;R<f[M].length-w;R++){if(p(f[M][R],z,O,K,re)===!1)return!1;z++}ae==="MultiLineString"&&K++,ae==="Polygon"&&re++}ae==="Polygon"&&K++;break;case"MultiPolygon":for(M=0;M<f.length;M++){for(re=0,R=0;R<f[M].length;R++){for(T=0;T<f[M][R].length-w;T++){if(p(f[M][R][T],z,O,K,re)===!1)return!1;z++}re++}K++}break;case"GeometryCollection":for(M=0;M<E.geometries.length;M++)if(C(E.geometries[M],p,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,p,S,M){var R=S;return C(l,function(T,E,A,f,P){E===0&&S===void 0?R=T:R=p(R,T,E,A,f,P)},M),R}function L(l,p){var S;switch(l.type){case"FeatureCollection":for(S=0;S<l.features.length&&p(l.features[S].properties,S)!==!1;S++);break;case"Feature":p(l.properties,0);break}}function x(l,p,S){var M=S;return L(l,function(R,T){T===0&&S===void 0?M=R:M=p(M,R,T)}),M}function h(l,p){if(l.type==="Feature")p(l,0);else if(l.type==="FeatureCollection")for(var S=0;S<l.features.length&&p(l.features[S],S)!==!1;S++);}function d(l,p,S){var M=S;return h(l,function(R,T){T===0&&S===void 0?M=R:M=p(M,R,T)}),M}function t(l){var p=[];return C(l,function(S){p.push(S)}),p}function r(l,p){var S,M,R,T,E,A,f,P,w,z,F=0,H=l.type==="FeatureCollection",_=l.type==="Feature",B=H?l.features.length:1;for(S=0;S<B;S++){for(A=H?l.features[S].geometry:_?l.geometry:l,P=H?l.features[S].properties:_?l.properties:{},w=H?l.features[S].bbox:_?l.bbox:void 0,z=H?l.features[S].id:_?l.id:void 0,f=A?A.type==="GeometryCollection":!1,E=f?A.geometries.length:1,R=0;R<E;R++){if(T=f?A.geometries[R]:A,T===null){if(p(null,F,P,w,z)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(T,F,P,w,z)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<T.geometries.length;M++)if(p(T.geometries[M],F,P,w,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}function u(l,p,S){var M=S;return r(l,function(R,T,E,A,f){T===0&&S===void 0?M=R:M=p(M,R,T,E,A,f)}),M}function n(l,p){r(l,function(S,M,R,T,E){var A=S===null?null:S.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return p(y.feature(S,R,{bbox:T,id:E}),M,0)===!1?!1:void 0}var f;switch(A){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon";break}for(var P=0;P<S.coordinates.length;P++){var w=S.coordinates[P],z={type:f,coordinates:w};if(p(y.feature(z,R),M,P)===!1)return!1}})}function i(l,p,S){var M=S;return n(l,function(R,T,E){T===0&&E===0&&S===void 0?M=R:M=p(M,R,T,E)}),M}function s(l,p){n(l,function(S,M,R){var T=0;if(S.geometry){var E=S.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,f=0,P=0,w=0;if(C(S,function(z,F,H,_,B){if(A===void 0||M>f||_>P||B>w){A=z,f=M,P=_,w=B,T=0;return}var N=y.lineString([A,z],S.properties);if(p(N,M,R,B,T)===!1)return!1;T++,A=z})===!1)return!1}}})}function o(l,p,S){var M=S,R=!1;return s(l,function(T,E,A,f,P){R===!1&&S===void 0?M=T:M=p(M,T,E,A,f,P),R=!0}),M}function m(l,p){if(!l)throw new Error("geojson is required");n(l,function(S,M,R){if(S.geometry!==null){var T=S.geometry.type,E=S.geometry.coordinates;switch(T){case"LineString":if(p(S,M,R,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(p(y.lineString(E[A],S.properties),M,R,A)===!1)return!1;break}}})}function c(l,p,S){var M=S;return m(l,function(R,T,E,A){T===0&&S===void 0?M=R:M=p(M,R,T,E,A)}),M}function b(l,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,M=p.multiFeatureIndex||0,R=p.geometryIndex||0,T=p.segmentIndex||0,E=p.properties,A;switch(l.type){case"FeatureCollection":S<0&&(S=l.features.length+S),E=E||l.features[S].properties,A=l.features[S].geometry;break;case"Feature":E=E||l.properties,A=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=l;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var f=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=f.length+T-1),y.lineString([f[T],f[T+1]],E,p);case"Polygon":return R<0&&(R=f.length+R),T<0&&(T=f[R].length+T-1),y.lineString([f[R][T],f[R][T+1]],E,p);case"MultiLineString":return M<0&&(M=f.length+M),T<0&&(T=f[M].length+T-1),y.lineString([f[M][T],f[M][T+1]],E,p);case"MultiPolygon":return M<0&&(M=f.length+M),R<0&&(R=f[M].length+R),T<0&&(T=f[M][R].length-T-1),y.lineString([f[M][R][T],f[M][R][T+1]],E,p)}throw new Error("geojson is invalid")}function v(l,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,M=p.multiFeatureIndex||0,R=p.geometryIndex||0,T=p.coordIndex||0,E=p.properties,A;switch(l.type){case"FeatureCollection":S<0&&(S=l.features.length+S),E=E||l.features[S].properties,A=l.features[S].geometry;break;case"Feature":E=E||l.properties,A=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=l;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var f=A.coordinates;switch(A.type){case"Point":return y.point(f,E,p);case"MultiPoint":return M<0&&(M=f.length+M),y.point(f[M],E,p);case"LineString":return T<0&&(T=f.length+T),y.point(f[T],E,p);case"Polygon":return R<0&&(R=f.length+R),T<0&&(T=f[R].length+T),y.point(f[R][T],E,p);case"MultiLineString":return M<0&&(M=f.length+M),T<0&&(T=f[M].length+T),y.point(f[M][T],E,p);case"MultiPolygon":return M<0&&(M=f.length+M),R<0&&(R=f[M].length+R),T<0&&(T=f[M][R].length-T),y.point(f[M][R][T],E,p)}throw new Error("geojson is invalid")}V.coordEach=C,V.coordReduce=a,V.propEach=L,V.propReduce=x,V.featureEach=h,V.featureReduce=d,V.coordAll=t,V.geomEach=r,V.geomReduce=u,V.flattenEach=n,V.flattenReduce=i,V.segmentEach=s,V.segmentReduce=o,V.lineEach=m,V.lineReduce=c,V.findSegment=b,V.findPoint=v},85268:function(W,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(27138);function C(a){var L=[1/0,1/0,-1/0,-1/0];return y.coordEach(a,function(x){L[0]>x[0]&&(L[0]=x[0]),L[1]>x[1]&&(L[1]=x[1]),L[2]<x[0]&&(L[2]=x[0]),L[3]<x[1]&&(L[3]=x[1])}),L}C.default=C,V.default=C},94228:function(W,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,f,P){P===void 0&&(P={});var w={type:"Feature"};return(P.id===0||P.id)&&(w.id=P.id),P.bbox&&(w.bbox=P.bbox),w.properties=f||{},w.geometry=A,w}V.feature=e;function y(A,f,P){switch(A){case"Point":return C(f).geometry;case"LineString":return h(f).geometry;case"Polygon":return L(f).geometry;case"MultiPoint":return u(f).geometry;case"MultiLineString":return r(f).geometry;case"MultiPolygon":return n(f).geometry;default:throw new Error(A+" is invalid")}}V.geometry=y;function C(A,f,P){if(P===void 0&&(P={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(A[0])||!M(A[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:A};return e(w,f,P)}V.point=C;function a(A,f,P){return P===void 0&&(P={}),t(A.map(function(w){return C(w,f)}),P)}V.points=a;function L(A,f,P){P===void 0&&(P={});for(var w=0,z=A;w<z.length;w++){var F=z[w];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<F[F.length-1].length;H++)if(F[F.length-1][H]!==F[0][H])throw new Error("First and last Position are not equivalent.")}var _={type:"Polygon",coordinates:A};return e(_,f,P)}V.polygon=L;function x(A,f,P){return P===void 0&&(P={}),t(A.map(function(w){return L(w,f)}),P)}V.polygons=x;function h(A,f,P){if(P===void 0&&(P={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:A};return e(w,f,P)}V.lineString=h;function d(A,f,P){return P===void 0&&(P={}),t(A.map(function(w){return h(w,f)}),P)}V.lineStrings=d;function t(A,f){f===void 0&&(f={});var P={type:"FeatureCollection"};return f.id&&(P.id=f.id),f.bbox&&(P.bbox=f.bbox),P.features=A,P}V.featureCollection=t;function r(A,f,P){P===void 0&&(P={});var w={type:"MultiLineString",coordinates:A};return e(w,f,P)}V.multiLineString=r;function u(A,f,P){P===void 0&&(P={});var w={type:"MultiPoint",coordinates:A};return e(w,f,P)}V.multiPoint=u;function n(A,f,P){P===void 0&&(P={});var w={type:"MultiPolygon",coordinates:A};return e(w,f,P)}V.multiPolygon=n;function i(A,f,P){P===void 0&&(P={});var w={type:"GeometryCollection",geometries:A};return e(w,f,P)}V.geometryCollection=i;function s(A,f){if(f===void 0&&(f=0),f&&!(f>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,f||0);return Math.round(A*P)/P}V.round=s;function o(A,f){f===void 0&&(f="kilometers");var P=V.factors[f];if(!P)throw new Error(f+" units is invalid");return A*P}V.radiansToLength=o;function m(A,f){f===void 0&&(f="kilometers");var P=V.factors[f];if(!P)throw new Error(f+" units is invalid");return A/P}V.lengthToRadians=m;function c(A,f){return v(m(A,f))}V.lengthToDegrees=c;function b(A){var f=A%360;return f<0&&(f+=360),f}V.bearingToAzimuth=b;function v(A){var f=A%(2*Math.PI);return f*180/Math.PI}V.radiansToDegrees=v;function l(A){var f=A%360;return f*Math.PI/180}V.degreesToRadians=l;function p(A,f,P){if(f===void 0&&(f="kilometers"),P===void 0&&(P="kilometers"),!(A>=0))throw new Error("length must be a positive number");return o(m(A,f),P)}V.convertLength=p;function S(A,f,P){if(f===void 0&&(f="meters"),P===void 0&&(P="kilometers"),!(A>=0))throw new Error("area must be a positive number");var w=V.areaFactors[f];if(!w)throw new Error("invalid original units");var z=V.areaFactors[P];if(!z)throw new Error("invalid final units");return A/w*z}V.convertArea=S;function M(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}V.isNumber=M;function R(A){return!!A&&A.constructor===Object}V.isObject=R;function T(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(f){if(!M(f))throw new Error("bbox must only contain numbers")})}V.validateBBox=T;function E(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}V.validateId=E},27138:function(W,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(94228);function C(l,p,S){if(l!==null)for(var M,R,T,E,A,f,P,w=0,z=0,F,H=l.type,_=H==="FeatureCollection",B=H==="Feature",N=_?l.features.length:1,O=0;O<N;O++){P=_?l.features[O].geometry:B?l.geometry:l,F=P?P.type==="GeometryCollection":!1,A=F?P.geometries.length:1;for(var U=0;U<A;U++){var K=0,re=0;if(E=F?P.geometries[U]:P,E!==null){f=E.coordinates;var ae=E.type;switch(w=S&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(p(f,z,O,K,re)===!1)return!1;z++,K++;break;case"LineString":case"MultiPoint":for(M=0;M<f.length;M++){if(p(f[M],z,O,K,re)===!1)return!1;z++,ae==="MultiPoint"&&K++}ae==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(M=0;M<f.length;M++){for(R=0;R<f[M].length-w;R++){if(p(f[M][R],z,O,K,re)===!1)return!1;z++}ae==="MultiLineString"&&K++,ae==="Polygon"&&re++}ae==="Polygon"&&K++;break;case"MultiPolygon":for(M=0;M<f.length;M++){for(re=0,R=0;R<f[M].length;R++){for(T=0;T<f[M][R].length-w;T++){if(p(f[M][R][T],z,O,K,re)===!1)return!1;z++}re++}K++}break;case"GeometryCollection":for(M=0;M<E.geometries.length;M++)if(C(E.geometries[M],p,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,p,S,M){var R=S;return C(l,function(T,E,A,f,P){E===0&&S===void 0?R=T:R=p(R,T,E,A,f,P)},M),R}function L(l,p){var S;switch(l.type){case"FeatureCollection":for(S=0;S<l.features.length&&p(l.features[S].properties,S)!==!1;S++);break;case"Feature":p(l.properties,0);break}}function x(l,p,S){var M=S;return L(l,function(R,T){T===0&&S===void 0?M=R:M=p(M,R,T)}),M}function h(l,p){if(l.type==="Feature")p(l,0);else if(l.type==="FeatureCollection")for(var S=0;S<l.features.length&&p(l.features[S],S)!==!1;S++);}function d(l,p,S){var M=S;return h(l,function(R,T){T===0&&S===void 0?M=R:M=p(M,R,T)}),M}function t(l){var p=[];return C(l,function(S){p.push(S)}),p}function r(l,p){var S,M,R,T,E,A,f,P,w,z,F=0,H=l.type==="FeatureCollection",_=l.type==="Feature",B=H?l.features.length:1;for(S=0;S<B;S++){for(A=H?l.features[S].geometry:_?l.geometry:l,P=H?l.features[S].properties:_?l.properties:{},w=H?l.features[S].bbox:_?l.bbox:void 0,z=H?l.features[S].id:_?l.id:void 0,f=A?A.type==="GeometryCollection":!1,E=f?A.geometries.length:1,R=0;R<E;R++){if(T=f?A.geometries[R]:A,T===null){if(p(null,F,P,w,z)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(T,F,P,w,z)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<T.geometries.length;M++)if(p(T.geometries[M],F,P,w,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}function u(l,p,S){var M=S;return r(l,function(R,T,E,A,f){T===0&&S===void 0?M=R:M=p(M,R,T,E,A,f)}),M}function n(l,p){r(l,function(S,M,R,T,E){var A=S===null?null:S.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return p(y.feature(S,R,{bbox:T,id:E}),M,0)===!1?!1:void 0}var f;switch(A){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon";break}for(var P=0;P<S.coordinates.length;P++){var w=S.coordinates[P],z={type:f,coordinates:w};if(p(y.feature(z,R),M,P)===!1)return!1}})}function i(l,p,S){var M=S;return n(l,function(R,T,E){T===0&&E===0&&S===void 0?M=R:M=p(M,R,T,E)}),M}function s(l,p){n(l,function(S,M,R){var T=0;if(S.geometry){var E=S.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,f=0,P=0,w=0;if(C(S,function(z,F,H,_,B){if(A===void 0||M>f||_>P||B>w){A=z,f=M,P=_,w=B,T=0;return}var N=y.lineString([A,z],S.properties);if(p(N,M,R,B,T)===!1)return!1;T++,A=z})===!1)return!1}}})}function o(l,p,S){var M=S,R=!1;return s(l,function(T,E,A,f,P){R===!1&&S===void 0?M=T:M=p(M,T,E,A,f,P),R=!0}),M}function m(l,p){if(!l)throw new Error("geojson is required");n(l,function(S,M,R){if(S.geometry!==null){var T=S.geometry.type,E=S.geometry.coordinates;switch(T){case"LineString":if(p(S,M,R,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(p(y.lineString(E[A],S.properties),M,R,A)===!1)return!1;break}}})}function c(l,p,S){var M=S;return m(l,function(R,T,E,A){T===0&&S===void 0?M=R:M=p(M,R,T,E,A)}),M}function b(l,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,M=p.multiFeatureIndex||0,R=p.geometryIndex||0,T=p.segmentIndex||0,E=p.properties,A;switch(l.type){case"FeatureCollection":S<0&&(S=l.features.length+S),E=E||l.features[S].properties,A=l.features[S].geometry;break;case"Feature":E=E||l.properties,A=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=l;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var f=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=f.length+T-1),y.lineString([f[T],f[T+1]],E,p);case"Polygon":return R<0&&(R=f.length+R),T<0&&(T=f[R].length+T-1),y.lineString([f[R][T],f[R][T+1]],E,p);case"MultiLineString":return M<0&&(M=f.length+M),T<0&&(T=f[M].length+T-1),y.lineString([f[M][T],f[M][T+1]],E,p);case"MultiPolygon":return M<0&&(M=f.length+M),R<0&&(R=f[M].length+R),T<0&&(T=f[M][R].length-T-1),y.lineString([f[M][R][T],f[M][R][T+1]],E,p)}throw new Error("geojson is invalid")}function v(l,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,M=p.multiFeatureIndex||0,R=p.geometryIndex||0,T=p.coordIndex||0,E=p.properties,A;switch(l.type){case"FeatureCollection":S<0&&(S=l.features.length+S),E=E||l.features[S].properties,A=l.features[S].geometry;break;case"Feature":E=E||l.properties,A=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=l;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var f=A.coordinates;switch(A.type){case"Point":return y.point(f,E,p);case"MultiPoint":return M<0&&(M=f.length+M),y.point(f[M],E,p);case"LineString":return T<0&&(T=f.length+T),y.point(f[T],E,p);case"Polygon":return R<0&&(R=f.length+R),T<0&&(T=f[R].length+T),y.point(f[R][T],E,p);case"MultiLineString":return M<0&&(M=f.length+M),T<0&&(T=f[M].length+T),y.point(f[M][T],E,p);case"MultiPolygon":return M<0&&(M=f.length+M),R<0&&(R=f[M].length+R),T<0&&(T=f[M][R].length-T),y.point(f[M][R][T],E,p)}throw new Error("geojson is invalid")}V.coordEach=C,V.coordReduce=a,V.propEach=L,V.propReduce=x,V.featureEach=h,V.featureReduce=d,V.coordAll=t,V.geomEach=r,V.geomReduce=u,V.flattenEach=n,V.flattenReduce=i,V.segmentEach=s,V.segmentReduce=o,V.lineEach=m,V.lineReduce=c,V.findSegment=b,V.findPoint=v},29261:function(W,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(88553),C=e(64182);function a(L,x){x===void 0&&(x={});var h=0,d=0,t=0;return y.coordEach(L,function(r){h+=r[0],d+=r[1],t++}),C.point([h/t,d/t],x.properties)}V.default=a},64182:function(W,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius/1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:.91441111923921},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(_,B,N){N===void 0&&(N={});var O={type:"Feature"};return(N.id===0||N.id)&&(O.id=N.id),N.bbox&&(O.bbox=N.bbox),O.properties=B||{},O.geometry=_,O}V.feature=e;function y(_,B,N){switch(_){case"Point":return C(B).geometry;case"LineString":return h(B).geometry;case"Polygon":return L(B).geometry;case"MultiPoint":return u(B).geometry;case"MultiLineString":return r(B).geometry;case"MultiPolygon":return n(B).geometry;default:throw new Error(_+" is invalid")}}V.geometry=y;function C(_,B,N){N===void 0&&(N={});var O={type:"Point",coordinates:_};return e(O,B,N)}V.point=C;function a(_,B,N){return N===void 0&&(N={}),t(_.map(function(O){return C(O,B)}),N)}V.points=a;function L(_,B,N){N===void 0&&(N={});for(var O=0,U=_;O<U.length;O++){var K=U[O];if(K.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var re=0;re<K[K.length-1].length;re++)if(K[K.length-1][re]!==K[0][re])throw new Error("First and last Position are not equivalent.")}var ae={type:"Polygon",coordinates:_};return e(ae,B,N)}V.polygon=L;function x(_,B,N){return N===void 0&&(N={}),t(_.map(function(O){return L(O,B)}),N)}V.polygons=x;function h(_,B,N){if(N===void 0&&(N={}),_.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:_};return e(O,B,N)}V.lineString=h;function d(_,B,N){return N===void 0&&(N={}),t(_.map(function(O){return h(O,B)}),N)}V.lineStrings=d;function t(_,B){B===void 0&&(B={});var N={type:"FeatureCollection"};return B.id&&(N.id=B.id),B.bbox&&(N.bbox=B.bbox),N.features=_,N}V.featureCollection=t;function r(_,B,N){N===void 0&&(N={});var O={type:"MultiLineString",coordinates:_};return e(O,B,N)}V.multiLineString=r;function u(_,B,N){N===void 0&&(N={});var O={type:"MultiPoint",coordinates:_};return e(O,B,N)}V.multiPoint=u;function n(_,B,N){N===void 0&&(N={});var O={type:"MultiPolygon",coordinates:_};return e(O,B,N)}V.multiPolygon=n;function i(_,B,N){N===void 0&&(N={});var O={type:"GeometryCollection",geometries:_};return e(O,B,N)}V.geometryCollection=i;function s(_,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var N=Math.pow(10,B||0);return Math.round(_*N)/N}V.round=s;function o(_,B){B===void 0&&(B="kilometers");var N=V.factors[B];if(!N)throw new Error(B+" units is invalid");return _*N}V.radiansToLength=o;function m(_,B){B===void 0&&(B="kilometers");var N=V.factors[B];if(!N)throw new Error(B+" units is invalid");return _/N}V.lengthToRadians=m;function c(_,B){return v(m(_,B))}V.lengthToDegrees=c;function b(_){var B=_%360;return B<0&&(B+=360),B}V.bearingToAzimuth=b;function v(_){var B=_%(2*Math.PI);return B*180/Math.PI}V.radiansToDegrees=v;function l(_){var B=_%360;return B*Math.PI/180}V.degreesToRadians=l;function p(_,B,N){if(B===void 0&&(B="kilometers"),N===void 0&&(N="kilometers"),!(_>=0))throw new Error("length must be a positive number");return o(m(_,B),N)}V.convertLength=p;function S(_,B,N){if(B===void 0&&(B="meters"),N===void 0&&(N="kilometers"),!(_>=0))throw new Error("area must be a positive number");var O=V.areaFactors[B];if(!O)throw new Error("invalid original units");var U=V.areaFactors[N];if(!U)throw new Error("invalid final units");return _/O*U}V.convertArea=S;function M(_){return!isNaN(_)&&_!==null&&!Array.isArray(_)&&!/^\s*$/.test(_)}V.isNumber=M;function R(_){return!!_&&_.constructor===Object}V.isObject=R;function T(_){if(!_)throw new Error("bbox is required");if(!Array.isArray(_))throw new Error("bbox must be an Array");if(_.length!==4&&_.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");_.forEach(function(B){if(!M(B))throw new Error("bbox must only contain numbers")})}V.validateBBox=T;function E(_){if(!_)throw new Error("id is required");if(["string","number"].indexOf(typeof _)===-1)throw new Error("id must be a number or a string")}V.validateId=E;function A(){throw new Error("method has been renamed to `radiansToDegrees`")}V.radians2degrees=A;function f(){throw new Error("method has been renamed to `degreesToRadians`")}V.degrees2radians=f;function P(){throw new Error("method has been renamed to `lengthToDegrees`")}V.distanceToDegrees=P;function w(){throw new Error("method has been renamed to `lengthToRadians`")}V.distanceToRadians=w;function z(){throw new Error("method has been renamed to `radiansToLength`")}V.radiansToDistance=z;function F(){throw new Error("method has been renamed to `bearingToAzimuth`")}V.bearingToAngle=F;function H(){throw new Error("method has been renamed to `convertLength`")}V.convertDistance=H},88553:function(W,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(64182);function C(l,p,S){if(l!==null)for(var M,R,T,E,A,f,P,w=0,z=0,F,H=l.type,_=H==="FeatureCollection",B=H==="Feature",N=_?l.features.length:1,O=0;O<N;O++){P=_?l.features[O].geometry:B?l.geometry:l,F=P?P.type==="GeometryCollection":!1,A=F?P.geometries.length:1;for(var U=0;U<A;U++){var K=0,re=0;if(E=F?P.geometries[U]:P,E!==null){f=E.coordinates;var ae=E.type;switch(w=S&&(ae==="Polygon"||ae==="MultiPolygon")?1:0,ae){case null:break;case"Point":if(p(f,z,O,K,re)===!1)return!1;z++,K++;break;case"LineString":case"MultiPoint":for(M=0;M<f.length;M++){if(p(f[M],z,O,K,re)===!1)return!1;z++,ae==="MultiPoint"&&K++}ae==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(M=0;M<f.length;M++){for(R=0;R<f[M].length-w;R++){if(p(f[M][R],z,O,K,re)===!1)return!1;z++}ae==="MultiLineString"&&K++,ae==="Polygon"&&re++}ae==="Polygon"&&K++;break;case"MultiPolygon":for(M=0;M<f.length;M++){for(re=0,R=0;R<f[M].length;R++){for(T=0;T<f[M][R].length-w;T++){if(p(f[M][R][T],z,O,K,re)===!1)return!1;z++}re++}K++}break;case"GeometryCollection":for(M=0;M<E.geometries.length;M++)if(C(E.geometries[M],p,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,p,S,M){var R=S;return C(l,function(T,E,A,f,P){E===0&&S===void 0?R=T:R=p(R,T,E,A,f,P)},M),R}function L(l,p){var S;switch(l.type){case"FeatureCollection":for(S=0;S<l.features.length&&p(l.features[S].properties,S)!==!1;S++);break;case"Feature":p(l.properties,0);break}}function x(l,p,S){var M=S;return L(l,function(R,T){T===0&&S===void 0?M=R:M=p(M,R,T)}),M}function h(l,p){if(l.type==="Feature")p(l,0);else if(l.type==="FeatureCollection")for(var S=0;S<l.features.length&&p(l.features[S],S)!==!1;S++);}function d(l,p,S){var M=S;return h(l,function(R,T){T===0&&S===void 0?M=R:M=p(M,R,T)}),M}function t(l){var p=[];return C(l,function(S){p.push(S)}),p}function r(l,p){var S,M,R,T,E,A,f,P,w,z,F=0,H=l.type==="FeatureCollection",_=l.type==="Feature",B=H?l.features.length:1;for(S=0;S<B;S++){for(A=H?l.features[S].geometry:_?l.geometry:l,P=H?l.features[S].properties:_?l.properties:{},w=H?l.features[S].bbox:_?l.bbox:void 0,z=H?l.features[S].id:_?l.id:void 0,f=A?A.type==="GeometryCollection":!1,E=f?A.geometries.length:1,R=0;R<E;R++){if(T=f?A.geometries[R]:A,T===null){if(p(null,F,P,w,z)===!1)return!1;continue}switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(T,F,P,w,z)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<T.geometries.length;M++)if(p(T.geometries[M],F,P,w,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}function u(l,p,S){var M=S;return r(l,function(R,T,E,A,f){T===0&&S===void 0?M=R:M=p(M,R,T,E,A,f)}),M}function n(l,p){r(l,function(S,M,R,T,E){var A=S===null?null:S.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return p(y.feature(S,R,{bbox:T,id:E}),M,0)===!1?!1:void 0}var f;switch(A){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon";break}for(var P=0;P<S.coordinates.length;P++){var w=S.coordinates[P],z={type:f,coordinates:w};if(p(y.feature(z,R),M,P)===!1)return!1}})}function i(l,p,S){var M=S;return n(l,function(R,T,E){T===0&&E===0&&S===void 0?M=R:M=p(M,R,T,E)}),M}function s(l,p){n(l,function(S,M,R){var T=0;if(S.geometry){var E=S.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,f=0,P=0,w=0;if(C(S,function(z,F,H,_,B){if(A===void 0||M>f||_>P||B>w){A=z,f=M,P=_,w=B,T=0;return}var N=y.lineString([A,z],S.properties);if(p(N,M,R,B,T)===!1)return!1;T++,A=z})===!1)return!1}}})}function o(l,p,S){var M=S,R=!1;return s(l,function(T,E,A,f,P){R===!1&&S===void 0?M=T:M=p(M,T,E,A,f,P),R=!0}),M}function m(l,p){if(!l)throw new Error("geojson is required");n(l,function(S,M,R){if(S.geometry!==null){var T=S.geometry.type,E=S.geometry.coordinates;switch(T){case"LineString":if(p(S,M,R,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(p(y.lineString(E[A],S.properties),M,R,A)===!1)return!1;break}}})}function c(l,p,S){var M=S;return m(l,function(R,T,E,A){T===0&&S===void 0?M=R:M=p(M,R,T,E,A)}),M}function b(l,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,M=p.multiFeatureIndex||0,R=p.geometryIndex||0,T=p.segmentIndex||0,E=p.properties,A;switch(l.type){case"FeatureCollection":S<0&&(S=l.features.length+S),E=E||l.features[S].properties,A=l.features[S].geometry;break;case"Feature":E=E||l.properties,A=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=l;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var f=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=f.length+T-1),y.lineString([f[T],f[T+1]],E,p);case"Polygon":return R<0&&(R=f.length+R),T<0&&(T=f[R].length+T-1),y.lineString([f[R][T],f[R][T+1]],E,p);case"MultiLineString":return M<0&&(M=f.length+M),T<0&&(T=f[M].length+T-1),y.lineString([f[M][T],f[M][T+1]],E,p);case"MultiPolygon":return M<0&&(M=f.length+M),R<0&&(R=f[M].length+R),T<0&&(T=f[M][R].length-T-1),y.lineString([f[M][R][T],f[M][R][T+1]],E,p)}throw new Error("geojson is invalid")}function v(l,p){if(p=p||{},!y.isObject(p))throw new Error("options is invalid");var S=p.featureIndex||0,M=p.multiFeatureIndex||0,R=p.geometryIndex||0,T=p.coordIndex||0,E=p.properties,A;switch(l.type){case"FeatureCollection":S<0&&(S=l.features.length+S),E=E||l.features[S].properties,A=l.features[S].geometry;break;case"Feature":E=E||l.properties,A=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=l;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var f=A.coordinates;switch(A.type){case"Point":return y.point(f,E,p);case"MultiPoint":return M<0&&(M=f.length+M),y.point(f[M],E,p);case"LineString":return T<0&&(T=f.length+T),y.point(f[T],E,p);case"Polygon":return R<0&&(R=f.length+R),T<0&&(T=f[R].length+T),y.point(f[R][T],E,p);case"MultiLineString":return M<0&&(M=f.length+M),T<0&&(T=f[M].length+T),y.point(f[M][T],E,p);case"MultiPolygon":return M<0&&(M=f.length+M),R<0&&(R=f[M].length+R),T<0&&(T=f[M][R].length-T),y.point(f[M][R][T],E,p)}throw new Error("geojson is invalid")}V.coordEach=C,V.coordReduce=a,V.propEach=L,V.propReduce=x,V.featureEach=h,V.featureReduce=d,V.coordAll=t,V.geomEach=r,V.geomReduce=u,V.flattenEach=n,V.flattenReduce=i,V.segmentEach=s,V.segmentReduce=o,V.lineEach=m,V.lineReduce=c,V.findSegment=b,V.findPoint=v},65185:function(W){W.exports=V;function V(e){var y=0,C=0,a=0,L=0;return e.map(function(x){x=x.slice();var h=x[0],d=h.toUpperCase();if(h!=d)switch(x[0]=d,h){case"a":x[6]+=a,x[7]+=L;break;case"v":x[1]+=L;break;case"h":x[1]+=a;break;default:for(var t=1;t<x.length;)x[t++]+=a,x[t++]+=L}switch(d){case"Z":a=y,L=C;break;case"H":a=x[1];break;case"V":L=x[1];break;case"M":a=y=x[1],L=C=x[2];break;default:a=x[x.length-2],L=x[x.length-1]}return x})}},21527:function(W){W.exports=V;function V(e,y){if(!e||e.length==null)throw Error("Argument should be an array");y==null?y=1:y=Math.floor(y);for(var C=Array(y*2),a=0;a<y;a++){for(var L=-1/0,x=1/0,h=a,d=e.length;h<d;h+=y)e[h]>L&&(L=e[h]),e[h]<x&&(x=e[h]);C[a]=x,C[y+a]=L}return C}},6851:function(W){W.exports=function(V,e,y){if(typeof Array.prototype.findIndex=="function")return V.findIndex(e,y);if(typeof e!="function")throw new TypeError("predicate must be a function");var C=Object(V),a=C.length;if(a===0)return-1;for(var L=0;L<a;L++)if(e.call(y,C[L],L,C))return L;return-1}},54:function(W,V,e){var y=e(21527);W.exports=C;function C(a,L,x){if(!a||a.length==null)throw Error("Argument should be an array");L==null&&(L=1),x==null&&(x=y(a,L));for(var h=0;h<L;h++){var d=x[L+h],t=x[h],r=h,u=a.length;if(d===1/0&&t===-1/0)for(r=h;r<u;r+=L)a[r]=a[r]===d?1:a[r]===t?0:.5;else if(d===1/0)for(r=h;r<u;r+=L)a[r]=a[r]===d?1:0;else if(t===-1/0)for(r=h;r<u;r+=L)a[r]=a[r]===t?0:1;else{var n=d-t;for(r=h;r<u;r+=L)isNaN(a[r])||(a[r]=n===0?.5:(a[r]-t)/n)}}return a}},57471:function(W){W.exports=function(e,y){var C=typeof e=="number",a=typeof y=="number";C&&!a?(y=e,e=0):!C&&!a&&(e=0,y=0),e=e|0,y=y|0;var L=y-e;if(L<0)throw new Error("array length must be positive");for(var x=new Array(L),h=0,d=e;h<L;h++,d++)x[h]=d;return x}},32791:function(W,V,e){var y=e(90386);function C(re){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(ue){return typeof ue}:C=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},C(re)}function a(re,ae){if(!(re instanceof ae))throw new TypeError("Cannot call a class as a function")}var L=e(79616),x=L.codes,h=x.ERR_AMBIGUOUS_ARGUMENT,d=x.ERR_INVALID_ARG_TYPE,t=x.ERR_INVALID_ARG_VALUE,r=x.ERR_INVALID_RETURN_VALUE,u=x.ERR_MISSING_ARGS,n=e(73894),i=e(43827),s=i.inspect,o=e(43827).types,m=o.isPromise,c=o.isRegExp,b=Object.assign?Object.assign:e(73523).assign,v=Object.is?Object.is:e(64003),l,p;function S(){var re=e(74061);l=re.isDeepEqual,p=re.isDeepStrictEqual}var M=!1,R=W.exports=P,T={};function E(re){throw re.message instanceof Error?re.message:new n(re)}function A(re,ae,ue,ve,ee){var J=arguments.length,Q;if(J===0)Q="Failed";else if(J===1)ue=re,re=void 0;else{if(M===!1){M=!0;var X=y.emitWarning?y.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}J===2&&(ve="!=")}if(ue instanceof Error)throw ue;var q={actual:re,expected:ae,operator:ve===void 0?"fail":ve,stackStartFn:ee||A};ue!==void 0&&(q.message=ue);var se=new n(q);throw Q&&(se.message=Q,se.generatedMessage=!0),se}R.fail=A,R.AssertionError=n;function f(re,ae,ue,ve){if(!ue){var ee=!1;if(ae===0)ee=!0,ve="No value argument passed to `assert.ok()`";else if(ve instanceof Error)throw ve;var J=new n({actual:ue,expected:!0,message:ve,operator:"==",stackStartFn:re});throw J.generatedMessage=ee,J}}function P(){for(var re=arguments.length,ae=new Array(re),ue=0;ue<re;ue++)ae[ue]=arguments[ue];f.apply(void 0,[P,ae.length].concat(ae))}R.ok=P,R.equal=function re(ae,ue,ve){if(arguments.length<2)throw new u("actual","expected");ae!=ue&&E({actual:ae,expected:ue,message:ve,operator:"==",stackStartFn:re})},R.notEqual=function re(ae,ue,ve){if(arguments.length<2)throw new u("actual","expected");ae==ue&&E({actual:ae,expected:ue,message:ve,operator:"!=",stackStartFn:re})},R.deepEqual=function re(ae,ue,ve){if(arguments.length<2)throw new u("actual","expected");l===void 0&&S(),l(ae,ue)||E({actual:ae,expected:ue,message:ve,operator:"deepEqual",stackStartFn:re})},R.notDeepEqual=function re(ae,ue,ve){if(arguments.length<2)throw new u("actual","expected");l===void 0&&S(),l(ae,ue)&&E({actual:ae,expected:ue,message:ve,operator:"notDeepEqual",stackStartFn:re})},R.deepStrictEqual=function re(ae,ue,ve){if(arguments.length<2)throw new u("actual","expected");l===void 0&&S(),p(ae,ue)||E({actual:ae,expected:ue,message:ve,operator:"deepStrictEqual",stackStartFn:re})},R.notDeepStrictEqual=w;function w(re,ae,ue){if(arguments.length<2)throw new u("actual","expected");l===void 0&&S(),p(re,ae)&&E({actual:re,expected:ae,message:ue,operator:"notDeepStrictEqual",stackStartFn:w})}R.strictEqual=function re(ae,ue,ve){if(arguments.length<2)throw new u("actual","expected");v(ae,ue)||E({actual:ae,expected:ue,message:ve,operator:"strictEqual",stackStartFn:re})},R.notStrictEqual=function re(ae,ue,ve){if(arguments.length<2)throw new u("actual","expected");v(ae,ue)&&E({actual:ae,expected:ue,message:ve,operator:"notStrictEqual",stackStartFn:re})};var z=function re(ae,ue,ve){var ee=this;a(this,re),ue.forEach(function(J){J in ae&&(ve!==void 0&&typeof ve[J]=="string"&&c(ae[J])&&ae[J].test(ve[J])?ee[J]=ve[J]:ee[J]=ae[J])})};function F(re,ae,ue,ve,ee,J){if(!(ue in re)||!p(re[ue],ae[ue])){if(!ve){var Q=new z(re,ee),X=new z(ae,ee,re),q=new n({actual:Q,expected:X,operator:"deepStrictEqual",stackStartFn:J});throw q.actual=re,q.expected=ae,q.operator=J.name,q}E({actual:re,expected:ae,message:ve,operator:J.name,stackStartFn:J})}}function H(re,ae,ue,ve){if(typeof ae!="function"){if(c(ae))return ae.test(re);if(arguments.length===2)throw new d("expected",["Function","RegExp"],ae);if(C(re)!=="object"||re===null){var ee=new n({actual:re,expected:ae,message:ue,operator:"deepStrictEqual",stackStartFn:ve});throw ee.operator=ve.name,ee}var J=Object.keys(ae);if(ae instanceof Error)J.push("name","message");else if(J.length===0)throw new t("error",ae,"may not be an empty object");return l===void 0&&S(),J.forEach(function(Q){typeof re[Q]=="string"&&c(ae[Q])&&ae[Q].test(re[Q])||F(re,ae,Q,ue,J,ve)}),!0}return ae.prototype!==void 0&&re instanceof ae?!0:Error.isPrototypeOf(ae)?!1:ae.call({},re)===!0}function _(re){if(typeof re!="function")throw new d("fn","Function",re);try{re()}catch(ae){return ae}return T}function B(re){return m(re)||re!==null&&C(re)==="object"&&typeof re.then=="function"&&typeof re.catch=="function"}function N(re){return Promise.resolve().then(function(){var ae;if(typeof re=="function"){if(ae=re(),!B(ae))throw new r("instance of Promise","promiseFn",ae)}else if(B(re))ae=re;else throw new d("promiseFn",["Function","Promise"],re);return Promise.resolve().then(function(){return ae}).then(function(){return T}).catch(function(ue){return ue})})}function O(re,ae,ue,ve){if(typeof ue=="string"){if(arguments.length===4)throw new d("error",["Object","Error","Function","RegExp"],ue);if(C(ae)==="object"&&ae!==null){if(ae.message===ue)throw new h("error/message",'The error message "'.concat(ae.message,'" is identical to the message.'))}else if(ae===ue)throw new h("error/message",'The error "'.concat(ae,'" is identical to the message.'));ve=ue,ue=void 0}else if(ue!=null&&C(ue)!=="object"&&typeof ue!="function")throw new d("error",["Object","Error","Function","RegExp"],ue);if(ae===T){var ee="";ue&&ue.name&&(ee+=" (".concat(ue.name,")")),ee+=ve?": ".concat(ve):".";var J=re.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:ue,operator:re.name,message:"Missing expected ".concat(J).concat(ee),stackStartFn:re})}if(ue&&!H(ae,ue,ve,re))throw ae}function U(re,ae,ue,ve){if(ae!==T){if(typeof ue=="string"&&(ve=ue,ue=void 0),!ue||H(ae,ue)){var ee=ve?": ".concat(ve):".",J=re.name==="doesNotReject"?"rejection":"exception";E({actual:ae,expected:ue,operator:re.name,message:"Got unwanted ".concat(J).concat(ee,`
`)+'Actual message: "'.concat(ae&&ae.message,'"'),stackStartFn:re})}throw ae}}R.throws=function re(ae){for(var ue=arguments.length,ve=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)ve[ee-1]=arguments[ee];O.apply(void 0,[re,_(ae)].concat(ve))},R.rejects=function re(ae){for(var ue=arguments.length,ve=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)ve[ee-1]=arguments[ee];return N(ae).then(function(J){return O.apply(void 0,[re,J].concat(ve))})},R.doesNotThrow=function re(ae){for(var ue=arguments.length,ve=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)ve[ee-1]=arguments[ee];U.apply(void 0,[re,_(ae)].concat(ve))},R.doesNotReject=function re(ae){for(var ue=arguments.length,ve=new Array(ue>1?ue-1:0),ee=1;ee<ue;ee++)ve[ee-1]=arguments[ee];return N(ae).then(function(J){return U.apply(void 0,[re,J].concat(ve))})},R.ifError=function re(ae){if(ae!=null){var ue="ifError got unwanted exception: ";C(ae)==="object"&&typeof ae.message=="string"?ae.message.length===0&&ae.constructor?ue+=ae.constructor.name:ue+=ae.message:ue+=s(ae);var ve=new n({actual:ae,expected:null,operator:"ifError",message:ue,stackStartFn:re}),ee=ae.stack;if(typeof ee=="string"){var J=ee.split(`
`);J.shift();for(var Q=ve.stack.split(`
`),X=0;X<J.length;X++){var q=Q.indexOf(J[X]);if(q!==-1){Q=Q.slice(0,q);break}}ve.stack="".concat(Q.join(`
`),`
`).concat(J.join(`
`))}throw ve}};function K(){for(var re=arguments.length,ae=new Array(re),ue=0;ue<re;ue++)ae[ue]=arguments[ue];f.apply(void 0,[K,ae.length].concat(ae))}R.strict=b(K,R,{equal:R.strictEqual,deepEqual:R.deepStrictEqual,notEqual:R.notStrictEqual,notDeepEqual:R.notDeepStrictEqual}),R.strict.strict=R.strict},73894:function(W,V,e){var y=e(90386);function C(_){for(var B=1;B<arguments.length;B++){var N=arguments[B]!=null?arguments[B]:{},O=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(N).filter(function(U){return Object.getOwnPropertyDescriptor(N,U).enumerable}))),O.forEach(function(U){a(_,U,N[U])})}return _}function a(_,B,N){return B in _?Object.defineProperty(_,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):_[B]=N,_}function L(_,B){if(!(_ instanceof B))throw new TypeError("Cannot call a class as a function")}function x(_,B){for(var N=0;N<B.length;N++){var O=B[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}function h(_,B,N){return B&&x(_.prototype,B),N&&x(_,N),_}function d(_,B){return B&&(c(B)==="object"||typeof B=="function")?B:t(_)}function t(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function r(_,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(B&&B.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),B&&o(_,B)}function u(_){var B=typeof Map=="function"?new Map:void 0;return u=function(O){if(O===null||!s(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof B<"u"){if(B.has(O))return B.get(O);B.set(O,U)}function U(){return i(O,arguments,m(this).constructor)}return U.prototype=Object.create(O.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),o(U,O)},u(_)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function i(_,B,N){return n()?i=Reflect.construct:i=function(U,K,re){var ae=[null];ae.push.apply(ae,K);var ue=Function.bind.apply(U,ae),ve=new ue;return re&&o(ve,re.prototype),ve},i.apply(null,arguments)}function s(_){return Function.toString.call(_).indexOf("[native code]")!==-1}function o(_,B){return o=Object.setPrototypeOf||function(O,U){return O.__proto__=U,O},o(_,B)}function m(_){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},m(_)}function c(_){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(N){return typeof N}:c=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},c(_)}var b=e(43827),v=b.inspect,l=e(79616),p=l.codes.ERR_INVALID_ARG_TYPE;function S(_,B,N){return(N===void 0||N>_.length)&&(N=_.length),_.substring(N-B.length,N)===B}function M(_,B){if(B=Math.floor(B),_.length==0||B==0)return"";var N=_.length*B;for(B=Math.floor(Math.log(B)/Math.log(2));B;)_+=_,B--;return _+=_.substring(0,N-_.length),_}var R="",T="",E="",A="",f={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},P=10;function w(_){var B=Object.keys(_),N=Object.create(Object.getPrototypeOf(_));return B.forEach(function(O){N[O]=_[O]}),Object.defineProperty(N,"message",{value:_.message}),N}function z(_){return v(_,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function F(_,B,N){var O="",U="",K=0,re="",ae=!1,ue=z(_),ve=ue.split(`
`),ee=z(B).split(`
`),J=0,Q="";if(N==="strictEqual"&&c(_)==="object"&&c(B)==="object"&&_!==null&&B!==null&&(N="strictEqualObject"),ve.length===1&&ee.length===1&&ve[0]!==ee[0]){var X=ve[0].length+ee[0].length;if(X<=P){if((c(_)!=="object"||_===null)&&(c(B)!=="object"||B===null)&&(_!==0||B!==0))return"".concat(f[N],`

`)+"".concat(ve[0]," !== ").concat(ee[0],`
`)}else if(N!=="strictEqualObject"){var q=y.stderr&&y.stderr.isTTY?y.stderr.columns:80;if(X<q){for(;ve[0][J]===ee[0][J];)J++;J>2&&(Q=`
  `.concat(M(" ",J),"^"),J=0)}}}for(var se=ve[ve.length-1],Y=ee[ee.length-1];se===Y&&(J++<2?re=`
  `.concat(se).concat(re):O=se,ve.pop(),ee.pop(),!(ve.length===0||ee.length===0));)se=ve[ve.length-1],Y=ee[ee.length-1];var Z=Math.max(ve.length,ee.length);if(Z===0){var ie=ue.split(`
`);if(ie.length>30)for(ie[26]="".concat(R,"...").concat(A);ie.length>27;)ie.pop();return"".concat(f.notIdentical,`

`).concat(ie.join(`
`),`
`)}J>3&&(re=`
`.concat(R,"...").concat(A).concat(re),ae=!0),O!==""&&(re=`
  `.concat(O).concat(re),O="");var te=0,fe=f[N]+`
`.concat(T,"+ actual").concat(A," ").concat(E,"- expected").concat(A),de=" ".concat(R,"...").concat(A," Lines skipped");for(J=0;J<Z;J++){var we=J-K;if(ve.length<J+1)we>1&&J>2&&(we>4?(U+=`
`.concat(R,"...").concat(A),ae=!0):we>3&&(U+=`
  `.concat(ee[J-2]),te++),U+=`
  `.concat(ee[J-1]),te++),K=J,O+=`
`.concat(E,"-").concat(A," ").concat(ee[J]),te++;else if(ee.length<J+1)we>1&&J>2&&(we>4?(U+=`
`.concat(R,"...").concat(A),ae=!0):we>3&&(U+=`
  `.concat(ve[J-2]),te++),U+=`
  `.concat(ve[J-1]),te++),K=J,U+=`
`.concat(T,"+").concat(A," ").concat(ve[J]),te++;else{var Ae=ee[J],Re=ve[J],Fe=Re!==Ae&&(!S(Re,",")||Re.slice(0,-1)!==Ae);Fe&&S(Ae,",")&&Ae.slice(0,-1)===Re&&(Fe=!1,Re+=","),Fe?(we>1&&J>2&&(we>4?(U+=`
`.concat(R,"...").concat(A),ae=!0):we>3&&(U+=`
  `.concat(ve[J-2]),te++),U+=`
  `.concat(ve[J-1]),te++),K=J,U+=`
`.concat(T,"+").concat(A," ").concat(Re),O+=`
`.concat(E,"-").concat(A," ").concat(Ae),te+=2):(U+=O,O="",(we===1||J===0)&&(U+=`
  `.concat(Re),te++))}if(te>20&&J<Z-2)return"".concat(fe).concat(de,`
`).concat(U,`
`).concat(R,"...").concat(A).concat(O,`
`)+"".concat(R,"...").concat(A)}return"".concat(fe).concat(ae?de:"",`
`).concat(U).concat(O).concat(re).concat(Q)}var H=function(_){r(B,_);function B(N){var O;if(L(this,B),c(N)!=="object"||N===null)throw new p("options","Object",N);var U=N.message,K=N.operator,re=N.stackStartFn,ae=N.actual,ue=N.expected,ve=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)O=d(this,m(B).call(this,String(U)));else if(y.stderr&&y.stderr.isTTY&&(y.stderr&&y.stderr.getColorDepth&&y.stderr.getColorDepth()!==1?(R="\x1B[34m",T="\x1B[32m",A="\x1B[39m",E="\x1B[31m"):(R="",T="",A="",E="")),c(ae)==="object"&&ae!==null&&c(ue)==="object"&&ue!==null&&"stack"in ae&&ae instanceof Error&&"stack"in ue&&ue instanceof Error&&(ae=w(ae),ue=w(ue)),K==="deepStrictEqual"||K==="strictEqual")O=d(this,m(B).call(this,F(ae,ue,K)));else if(K==="notDeepStrictEqual"||K==="notStrictEqual"){var ee=f[K],J=z(ae).split(`
`);if(K==="notStrictEqual"&&c(ae)==="object"&&ae!==null&&(ee=f.notStrictEqualObject),J.length>30)for(J[26]="".concat(R,"...").concat(A);J.length>27;)J.pop();J.length===1?O=d(this,m(B).call(this,"".concat(ee," ").concat(J[0]))):O=d(this,m(B).call(this,"".concat(ee,`

`).concat(J.join(`
`),`
`)))}else{var Q=z(ae),X="",q=f[K];K==="notDeepEqual"||K==="notEqual"?(Q="".concat(f[K],`

`).concat(Q),Q.length>1024&&(Q="".concat(Q.slice(0,1021),"..."))):(X="".concat(z(ue)),Q.length>512&&(Q="".concat(Q.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),K==="deepEqual"||K==="equal"?Q="".concat(q,`

`).concat(Q,`

should equal

`):X=" ".concat(K," ").concat(X)),O=d(this,m(B).call(this,"".concat(Q).concat(X)))}return Error.stackTraceLimit=ve,O.generatedMessage=!U,Object.defineProperty(t(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=ae,O.expected=ue,O.operator=K,Error.captureStackTrace&&Error.captureStackTrace(t(O),re),O.stack,O.name="AssertionError",d(O)}return h(B,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:v.custom,value:function(O,U){return v(this,C({},U,{customInspect:!1,depth:0}))}}]),B}(u(Error));W.exports=H},79616:function(W,V,e){function y(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(v){return typeof v}:y=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},y(c)}function C(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function")}function a(c,b){return b&&(y(b)==="object"||typeof b=="function")?b:L(c)}function L(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function x(c){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},x(c)}function h(c,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),b&&d(c,b)}function d(c,b){return d=Object.setPrototypeOf||function(l,p){return l.__proto__=p,l},d(c,b)}var t={},r,u;function n(c,b,v){v||(v=Error);function l(S,M,R){return typeof b=="string"?b:b(S,M,R)}var p=function(S){h(M,S);function M(R,T,E){var A;return C(this,M),A=a(this,x(M).call(this,l(R,T,E))),A.code=c,A}return M}(v);t[c]=p}function i(c,b){if(Array.isArray(c)){var v=c.length;return c=c.map(function(l){return String(l)}),v>2?"one of ".concat(b," ").concat(c.slice(0,v-1).join(", "),", or ")+c[v-1]:v===2?"one of ".concat(b," ").concat(c[0]," or ").concat(c[1]):"of ".concat(b," ").concat(c[0])}else return"of ".concat(b," ").concat(String(c))}function s(c,b,v){return c.substr(!v||v<0?0:+v,b.length)===b}function o(c,b,v){return(v===void 0||v>c.length)&&(v=c.length),c.substring(v-b.length,v)===b}function m(c,b,v){return typeof v!="number"&&(v=0),v+b.length>c.length?!1:c.indexOf(b,v)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(c,b,v){r===void 0&&(r=e(32791)),r(typeof c=="string","'name' must be a string");var l;typeof b=="string"&&s(b,"not ")?(l="must not be",b=b.replace(/^not /,"")):l="must be";var p;if(o(c," argument"))p="The ".concat(c," ").concat(l," ").concat(i(b,"type"));else{var S=m(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(S," ").concat(l," ").concat(i(b,"type"))}return p+=". Received type ".concat(y(v)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(c,b){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";u===void 0&&(u=e(43827));var l=u.inspect(b);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(v,". Received ").concat(l)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(c,b,v){var l;return v&&v.constructor&&v.constructor.name?l="instance of ".concat(v.constructor.name):l="type ".concat(y(v)),"Expected ".concat(c,' to be returned from the "').concat(b,'"')+" function but got ".concat(l,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var c=arguments.length,b=new Array(c),v=0;v<c;v++)b[v]=arguments[v];r===void 0&&(r=e(32791)),r(b.length>0,"At least one arg needs to be specified");var l="The ",p=b.length;switch(b=b.map(function(S){return'"'.concat(S,'"')}),p){case 1:l+="".concat(b[0]," argument");break;case 2:l+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:l+=b.slice(0,p-1).join(", "),l+=", and ".concat(b[p-1]," arguments");break}return"".concat(l," must be specified")},TypeError),W.exports.codes=t},74061:function(W,V,e){function y(Se,Te){return L(Se)||a(Se,Te)||C()}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Se,Te){var Ee=[],Ne=!0,He=!1,_e=void 0;try{for(var We=Se[Symbol.iterator](),tt;!(Ne=(tt=We.next()).done)&&(Ee.push(tt.value),!(Te&&Ee.length===Te));Ne=!0);}catch(Ke){He=!0,_e=Ke}finally{try{!Ne&&We.return!=null&&We.return()}finally{if(He)throw _e}}return Ee}function L(Se){if(Array.isArray(Se))return Se}function x(Se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(Ee){return typeof Ee}:x=function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},x(Se)}var h=/a/g.flags!==void 0,d=function(Te){var Ee=[];return Te.forEach(function(Ne){return Ee.push(Ne)}),Ee},t=function(Te){var Ee=[];return Te.forEach(function(Ne,He){return Ee.push([He,Ne])}),Ee},r=Object.is?Object.is:e(64003),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function i(Se){return Se.call.bind(Se)}var s=i(Object.prototype.hasOwnProperty),o=i(Object.prototype.propertyIsEnumerable),m=i(Object.prototype.toString),c=e(43827).types,b=c.isAnyArrayBuffer,v=c.isArrayBufferView,l=c.isDate,p=c.isMap,S=c.isRegExp,M=c.isSet,R=c.isNativeError,T=c.isBoxedPrimitive,E=c.isNumberObject,A=c.isStringObject,f=c.isBooleanObject,P=c.isBigIntObject,w=c.isSymbolObject,z=c.isFloat32Array,F=c.isFloat64Array;function H(Se){if(Se.length===0||Se.length>10)return!0;for(var Te=0;Te<Se.length;Te++){var Ee=Se.charCodeAt(Te);if(Ee<48||Ee>57)return!0}return Se.length===10&&Se>=Math.pow(2,32)}function _(Se){return Object.keys(Se).filter(H).concat(u(Se).filter(Object.prototype.propertyIsEnumerable.bind(Se)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function B(Se,Te){if(Se===Te)return 0;for(var Ee=Se.length,Ne=Te.length,He=0,_e=Math.min(Ee,Ne);He<_e;++He)if(Se[He]!==Te[He]){Ee=Se[He],Ne=Te[He];break}return Ee<Ne?-1:Ne<Ee?1:0}var N=!0,O=!1,U=0,K=1,re=2,ae=3;function ue(Se,Te){return h?Se.source===Te.source&&Se.flags===Te.flags:RegExp.prototype.toString.call(Se)===RegExp.prototype.toString.call(Te)}function ve(Se,Te){if(Se.byteLength!==Te.byteLength)return!1;for(var Ee=0;Ee<Se.byteLength;Ee++)if(Se[Ee]!==Te[Ee])return!1;return!0}function ee(Se,Te){return Se.byteLength!==Te.byteLength?!1:B(new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength),new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength))===0}function J(Se,Te){return Se.byteLength===Te.byteLength&&B(new Uint8Array(Se),new Uint8Array(Te))===0}function Q(Se,Te){return E(Se)?E(Te)&&r(Number.prototype.valueOf.call(Se),Number.prototype.valueOf.call(Te)):A(Se)?A(Te)&&String.prototype.valueOf.call(Se)===String.prototype.valueOf.call(Te):f(Se)?f(Te)&&Boolean.prototype.valueOf.call(Se)===Boolean.prototype.valueOf.call(Te):P(Se)?P(Te)&&BigInt.prototype.valueOf.call(Se)===BigInt.prototype.valueOf.call(Te):w(Te)&&Symbol.prototype.valueOf.call(Se)===Symbol.prototype.valueOf.call(Te)}function X(Se,Te,Ee,Ne){if(Se===Te)return Se!==0?!0:Ee?r(Se,Te):!0;if(Ee){if(x(Se)!=="object")return typeof Se=="number"&&n(Se)&&n(Te);if(x(Te)!=="object"||Se===null||Te===null||Object.getPrototypeOf(Se)!==Object.getPrototypeOf(Te))return!1}else{if(Se===null||x(Se)!=="object")return Te===null||x(Te)!=="object"?Se==Te:!1;if(Te===null||x(Te)!=="object")return!1}var He=m(Se),_e=m(Te);if(He!==_e)return!1;if(Array.isArray(Se)){if(Se.length!==Te.length)return!1;var We=_(Se),tt=_(Te);return We.length!==tt.length?!1:se(Se,Te,Ee,Ne,K,We)}if(He==="[object Object]"&&(!p(Se)&&p(Te)||!M(Se)&&M(Te)))return!1;if(l(Se)){if(!l(Te)||Date.prototype.getTime.call(Se)!==Date.prototype.getTime.call(Te))return!1}else if(S(Se)){if(!S(Te)||!ue(Se,Te))return!1}else if(R(Se)||Se instanceof Error){if(Se.message!==Te.message||Se.name!==Te.name)return!1}else if(v(Se)){if(!Ee&&(z(Se)||F(Se))){if(!ve(Se,Te))return!1}else if(!ee(Se,Te))return!1;var Ke=_(Se),qe=_(Te);return Ke.length!==qe.length?!1:se(Se,Te,Ee,Ne,U,Ke)}else{if(M(Se))return!M(Te)||Se.size!==Te.size?!1:se(Se,Te,Ee,Ne,re);if(p(Se))return!p(Te)||Se.size!==Te.size?!1:se(Se,Te,Ee,Ne,ae);if(b(Se)){if(!J(Se,Te))return!1}else if(T(Se)&&!Q(Se,Te))return!1}return se(Se,Te,Ee,Ne,U)}function q(Se,Te){return Te.filter(function(Ee){return o(Se,Ee)})}function se(Se,Te,Ee,Ne,He,_e){if(arguments.length===5){_e=Object.keys(Se);var We=Object.keys(Te);if(_e.length!==We.length)return!1}for(var tt=0;tt<_e.length;tt++)if(!s(Te,_e[tt]))return!1;if(Ee&&arguments.length===5){var Ke=u(Se);if(Ke.length!==0){var qe=0;for(tt=0;tt<Ke.length;tt++){var rt=Ke[tt];if(o(Se,rt)){if(!o(Te,rt))return!1;_e.push(rt),qe++}else if(o(Te,rt))return!1}var ft=u(Te);if(Ke.length!==ft.length&&q(Te,ft).length!==qe)return!1}else{var pt=u(Te);if(pt.length!==0&&q(Te,pt).length!==0)return!1}}if(_e.length===0&&(He===U||He===K&&Se.length===0||Se.size===0))return!0;if(Ne===void 0)Ne={val1:new Map,val2:new Map,position:0};else{var gt=Ne.val1.get(Se);if(gt!==void 0){var Mt=Ne.val2.get(Te);if(Mt!==void 0)return gt===Mt}Ne.position++}Ne.val1.set(Se,Ne.position),Ne.val2.set(Te,Ne.position);var Lt=Ae(Se,Te,Ee,_e,Ne,He);return Ne.val1.delete(Se),Ne.val2.delete(Te),Lt}function Y(Se,Te,Ee,Ne){for(var He=d(Se),_e=0;_e<He.length;_e++){var We=He[_e];if(X(Te,We,Ee,Ne))return Se.delete(We),!0}return!1}function Z(Se){switch(x(Se)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Se=+Se;case"number":if(n(Se))return!1}return!0}function ie(Se,Te,Ee){var Ne=Z(Ee);return Ne??(Te.has(Ne)&&!Se.has(Ne))}function te(Se,Te,Ee,Ne,He){var _e=Z(Ee);if(_e!=null)return _e;var We=Te.get(_e);return We===void 0&&!Te.has(_e)||!X(Ne,We,!1,He)?!1:!Se.has(_e)&&X(Ne,We,!1,He)}function fe(Se,Te,Ee,Ne){for(var He=null,_e=d(Se),We=0;We<_e.length;We++){var tt=_e[We];if(x(tt)==="object"&&tt!==null)He===null&&(He=new Set),He.add(tt);else if(!Te.has(tt)){if(Ee||!ie(Se,Te,tt))return!1;He===null&&(He=new Set),He.add(tt)}}if(He!==null){for(var Ke=d(Te),qe=0;qe<Ke.length;qe++){var rt=Ke[qe];if(x(rt)==="object"&&rt!==null){if(!Y(He,rt,Ee,Ne))return!1}else if(!Ee&&!Se.has(rt)&&!Y(He,rt,Ee,Ne))return!1}return He.size===0}return!0}function de(Se,Te,Ee,Ne,He,_e){for(var We=d(Se),tt=0;tt<We.length;tt++){var Ke=We[tt];if(X(Ee,Ke,He,_e)&&X(Ne,Te.get(Ke),He,_e))return Se.delete(Ke),!0}return!1}function we(Se,Te,Ee,Ne){for(var He=null,_e=t(Se),We=0;We<_e.length;We++){var tt=y(_e[We],2),Ke=tt[0],qe=tt[1];if(x(Ke)==="object"&&Ke!==null)He===null&&(He=new Set),He.add(Ke);else{var rt=Te.get(Ke);if(rt===void 0&&!Te.has(Ke)||!X(qe,rt,Ee,Ne)){if(Ee||!te(Se,Te,Ke,qe,Ne))return!1;He===null&&(He=new Set),He.add(Ke)}}}if(He!==null){for(var ft=t(Te),pt=0;pt<ft.length;pt++){var gt=y(ft[pt],2),Ke=gt[0],Mt=gt[1];if(x(Ke)==="object"&&Ke!==null){if(!de(He,Se,Ke,Mt,Ee,Ne))return!1}else if(!Ee&&(!Se.has(Ke)||!X(Se.get(Ke),Mt,!1,Ne))&&!de(He,Se,Ke,Mt,!1,Ne))return!1}return He.size===0}return!0}function Ae(Se,Te,Ee,Ne,He,_e){var We=0;if(_e===re){if(!fe(Se,Te,Ee,He))return!1}else if(_e===ae){if(!we(Se,Te,Ee,He))return!1}else if(_e===K)for(;We<Se.length;We++)if(s(Se,We)){if(!s(Te,We)||!X(Se[We],Te[We],Ee,He))return!1}else{if(s(Te,We))return!1;for(var tt=Object.keys(Se);We<tt.length;We++){var Ke=tt[We];if(!s(Te,Ke)||!X(Se[Ke],Te[Ke],Ee,He))return!1}return tt.length===Object.keys(Te).length}for(We=0;We<Ne.length;We++){var qe=Ne[We];if(!X(Se[qe],Te[qe],Ee,He))return!1}return!0}function Re(Se,Te){return X(Se,Te,O)}function Fe(Se,Te){return X(Se,Te,N)}W.exports={isDeepEqual:Re,isDeepStrictEqual:Fe}},95341:function(W,V){V.byteLength=d,V.toByteArray=r,V.fromByteArray=i;for(var e=[],y=[],C=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,x=a.length;L<x;++L)e[L]=a[L],y[a.charCodeAt(L)]=L;y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63;function h(s){var o=s.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=s.indexOf("=");m===-1&&(m=o);var c=m===o?0:4-m%4;return[m,c]}function d(s){var o=h(s),m=o[0],c=o[1];return(m+c)*3/4-c}function t(s,o,m){return(o+m)*3/4-m}function r(s){var o,m=h(s),c=m[0],b=m[1],v=new C(t(s,c,b)),l=0,p=b>0?c-4:c,S;for(S=0;S<p;S+=4)o=y[s.charCodeAt(S)]<<18|y[s.charCodeAt(S+1)]<<12|y[s.charCodeAt(S+2)]<<6|y[s.charCodeAt(S+3)],v[l++]=o>>16&255,v[l++]=o>>8&255,v[l++]=o&255;return b===2&&(o=y[s.charCodeAt(S)]<<2|y[s.charCodeAt(S+1)]>>4,v[l++]=o&255),b===1&&(o=y[s.charCodeAt(S)]<<10|y[s.charCodeAt(S+1)]<<4|y[s.charCodeAt(S+2)]>>2,v[l++]=o>>8&255,v[l++]=o&255),v}function u(s){return e[s>>18&63]+e[s>>12&63]+e[s>>6&63]+e[s&63]}function n(s,o,m){for(var c,b=[],v=o;v<m;v+=3)c=(s[v]<<16&16711680)+(s[v+1]<<8&65280)+(s[v+2]&255),b.push(u(c));return b.join("")}function i(s){for(var o,m=s.length,c=m%3,b=[],v=16383,l=0,p=m-c;l<p;l+=v)b.push(n(s,l,l+v>p?p:l+v));return c===1?(o=s[m-1],b.push(e[o>>2]+e[o<<4&63]+"==")):c===2&&(o=(s[m-2]<<8)+s[m-1],b.push(e[o>>10]+e[o>>4&63]+e[o<<2&63]+"=")),b.join("")}},91358:function(W){function V(x,h,d,t,r){for(var u=r+1;t<=r;){var n=t+r>>>1,i=x[n],s=d!==void 0?d(i,h):i-h;s>=0?(u=n,r=n-1):t=n+1}return u}function e(x,h,d,t,r){for(var u=r+1;t<=r;){var n=t+r>>>1,i=x[n],s=d!==void 0?d(i,h):i-h;s>0?(u=n,r=n-1):t=n+1}return u}function y(x,h,d,t,r){for(var u=t-1;t<=r;){var n=t+r>>>1,i=x[n],s=d!==void 0?d(i,h):i-h;s<0?(u=n,t=n+1):r=n-1}return u}function C(x,h,d,t,r){for(var u=t-1;t<=r;){var n=t+r>>>1,i=x[n],s=d!==void 0?d(i,h):i-h;s<=0?(u=n,t=n+1):r=n-1}return u}function a(x,h,d,t,r){for(;t<=r;){var u=t+r>>>1,n=x[u],i=d!==void 0?d(n,h):n-h;if(i===0)return u;i<=0?t=u+1:r=u-1}return-1}function L(x,h,d,t,r,u){return typeof d=="function"?u(x,h,d,t===void 0?0:t|0,r===void 0?x.length-1:r|0):u(x,h,void 0,d===void 0?0:d|0,t===void 0?x.length-1:t|0)}W.exports={ge:function(x,h,d,t,r){return L(x,h,d,t,r,V)},gt:function(x,h,d,t,r){return L(x,h,d,t,r,e)},lt:function(x,h,d,t,r){return L(x,h,d,t,r,y)},le:function(x,h,d,t,r){return L(x,h,d,t,r,C)},eq:function(x,h,d,t,r){return L(x,h,d,t,r,a)}}},13547:function(W,V){"use restrict";var e=32;V.INT_BITS=e,V.INT_MAX=2147483647,V.INT_MIN=-1<<e-1,V.sign=function(a){return(a>0)-(a<0)},V.abs=function(a){var L=a>>e-1;return(a^L)-L},V.min=function(a,L){return L^(a^L)&-(a<L)},V.max=function(a,L){return a^(a^L)&-(a<L)},V.isPow2=function(a){return!(a&a-1)&&!!a},V.log2=function(a){var L,x;return L=(a>65535)<<4,a>>>=L,x=(a>255)<<3,a>>>=x,L|=x,x=(a>15)<<2,a>>>=x,L|=x,x=(a>3)<<1,a>>>=x,L|=x,L|a>>1},V.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},V.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function y(a){var L=32;return a&=-a,a&&L--,a&65535&&(L-=16),a&16711935&&(L-=8),a&252645135&&(L-=4),a&858993459&&(L-=2),a&1431655765&&(L-=1),L}V.countTrailingZeros=y,V.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},V.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},V.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var C=new Array(256);(function(a){for(var L=0;L<256;++L){var x=L,h=L,d=7;for(x>>>=1;x;x>>>=1)h<<=1,h|=x&1,--d;a[L]=h<<d&255}})(C),V.reverse=function(a){return C[a&255]<<24|C[a>>>8&255]<<16|C[a>>>16&255]<<8|C[a>>>24&255]},V.interleave2=function(a,L){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,a|L<<1},V.deinterleave2=function(a,L){return a=a>>>L&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},V.interleave3=function(a,L,x){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,a|=L<<1,x&=1023,x=(x|x<<16)&4278190335,x=(x|x<<8)&251719695,x=(x|x<<4)&3272356035,x=(x|x<<2)&1227133513,a|x<<2},V.deinterleave3=function(a,L){return a=a>>>L&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},V.nextCombination=function(a){var L=a|a-1;return L+1|(~L&-~L)-1>>>y(a)+1}},44781:function(W,V,e){var y=e(53435);W.exports=a;var C=1e20;function a(h,d){d||(d={});var t=d.cutoff==null?.25:d.cutoff,r=d.radius==null?8:d.radius,u=d.channel||0,n,i,s,o,m,c,b,v,l,p,S;if(ArrayBuffer.isView(h)||Array.isArray(h)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");n=d.width,i=d.height,o=h,d.stride?c=d.stride:c=Math.floor(h.length/n/i)}else window.HTMLCanvasElement&&h instanceof window.HTMLCanvasElement?(v=h,b=v.getContext("2d"),n=v.width,i=v.height,l=b.getImageData(0,0,n,i),o=l.data,c=4):window.CanvasRenderingContext2D&&h instanceof window.CanvasRenderingContext2D?(v=h.canvas,b=h,n=v.width,i=v.height,l=b.getImageData(0,0,n,i),o=l.data,c=4):window.ImageData&&h instanceof window.ImageData&&(l=h,n=h.width,i=h.height,o=l.data,c=4);if(s=Math.max(n,i),window.Uint8ClampedArray&&o instanceof window.Uint8ClampedArray||window.Uint8Array&&o instanceof window.Uint8Array)for(m=o,o=Array(n*i),p=0,S=m.length;p<S;p++)o[p]=m[p*c+u]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var M=Array(n*i),R=Array(n*i),T=Array(s),E=Array(s),A=Array(s+1),f=Array(s);for(p=0,S=n*i;p<S;p++){var P=o[p];M[p]=P===1?0:P===0?C:Math.pow(Math.max(0,.5-P),2),R[p]=P===1?C:P===0?0:Math.pow(Math.max(0,P-.5),2)}L(M,n,i,T,E,f,A),L(R,n,i,T,E,f,A);var w=window.Float32Array?new Float32Array(n*i):new Array(n*i);for(p=0,S=n*i;p<S;p++)w[p]=y(1-((M[p]-R[p])/r+t),0,1);return w}function L(h,d,t,r,u,n,i){for(var s=0;s<d;s++){for(var o=0;o<t;o++)r[o]=h[o*d+s];for(x(r,u,n,i,t),o=0;o<t;o++)h[o*d+s]=u[o]}for(o=0;o<t;o++){for(s=0;s<d;s++)r[s]=h[o*d+s];for(x(r,u,n,i,d),s=0;s<d;s++)h[o*d+s]=Math.sqrt(u[s])}}function x(h,d,t,r,u){t[0]=0,r[0]=-C,r[1]=+C;for(var n=1,i=0;n<u;n++){for(var s=(h[n]+n*n-(h[t[i]]+t[i]*t[i]))/(2*n-2*t[i]);s<=r[i];)i--,s=(h[n]+n*n-(h[t[i]]+t[i]*t[i]))/(2*n-2*t[i]);i++,t[i]=n,r[i]=s,r[i+1]=+C}for(n=0,i=0;n<u;n++){for(;r[i+1]<n;)i++;d[n]=(n-t[i])*(n-t[i])+h[t[i]]}}},6614:function(W,V,e){var y=e(68318),C=e(68222),a=C(y("String.prototype.indexOf"));W.exports=function(x,h){var d=y(x,!!h);return typeof d=="function"&&a(x,".prototype.")>-1?C(d):d}},68222:function(W,V,e){var y=e(77575),C=e(68318),a=C("%Function.prototype.apply%"),L=C("%Function.prototype.call%"),x=C("%Reflect.apply%",!0)||y.call(L,a),h=C("%Object.getOwnPropertyDescriptor%",!0),d=C("%Object.defineProperty%",!0),t=C("%Math.max%");if(d)try{d({},"a",{value:1})}catch{d=null}W.exports=function(n){var i=x(y,L,arguments);if(h&&d){var s=h(i,"length");s.configurable&&d(i,"length",{value:1+t(0,n.length-(arguments.length-1))})}return i};var r=function(){return x(y,a,arguments)};d?d(W.exports,"apply",{value:r}):W.exports.apply=r},53435:function(W){W.exports=V;function V(e,y,C){return y<C?e<y?y:e>C?C:e:e<C?C:e>y?y:e}},6475:function(W,V,e){var y=e(53435);W.exports=C,W.exports.to=C,W.exports.from=a;function C(L,x){x==null&&(x=!0);var h=L[0],d=L[1],t=L[2],r=L[3];r==null&&(r=x?1:255),x&&(h*=255,d*=255,t*=255,r*=255),h=y(h,0,255)&255,d=y(d,0,255)&255,t=y(t,0,255)&255,r=y(r,0,255)&255;var u=h*16777216+(d<<16)+(t<<8)+r;return u}function a(L,x){L=+L;var h=L>>>24,d=(L&16711680)>>>16,t=(L&65280)>>>8,r=L&255;return x===!1?[h,d,t,r]:[h/255,d/255,t/255,r/255]}},76857:function(W){W.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(W,V,e){var y=e(36652),C=e(53435),a=e(90660);W.exports=function(h,d){(d==="float"||!d)&&(d="array"),d==="uint"&&(d="uint8"),d==="uint_clamped"&&(d="uint8_clamped");var t=a(d),r=new t(4),u=d!=="uint8"&&d!=="uint8_clamped";return(!h.length||typeof h=="string")&&(h=y(h),h[0]/=255,h[1]/=255,h[2]/=255),L(h)?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3]!=null?h[3]:255,u&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(u?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3]!=null?h[3]:1):(r[0]=C(Math.floor(h[0]*255),0,255),r[1]=C(Math.floor(h[1]*255),0,255),r[2]=C(Math.floor(h[2]*255),0,255),r[3]=h[3]==null?255:C(Math.floor(h[3]*255),0,255)),r)};function L(x){return!!(x instanceof Uint8Array||x instanceof Uint8ClampedArray||Array.isArray(x)&&(x[0]>1||x[0]===0)&&(x[1]>1||x[1]===0)&&(x[2]>1||x[2]===0)&&(!x[3]||x[3]>1))}},90736:function(W,V,e){var y=e(76857),C=e(10973),a=e(46775);W.exports=x;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function x(h){var d,t=[],r=1,u;if(typeof h=="string")if(y[h])t=y[h].slice(),u="rgb";else if(h==="transparent")r=0,u="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(h)){var n=h.slice(1),i=n.length,s=i<=4;r=1,s?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],i===4&&(r=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],i===8&&(r=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),u="rgb"}else if(d=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(h)){var o=d[1],m=o==="rgb",n=o.replace(/a$/,"");u=n;var i=n==="cmyk"?4:n==="gray"?1:3;t=d[2].trim().split(/\s*,\s*/).map(function(l,p){if(/%$/.test(l))return p===i?parseFloat(l)/100:n==="rgb"?parseFloat(l)*255/100:parseFloat(l);if(n[p]==="h"){if(/deg$/.test(l))return parseFloat(l);if(L[l]!==void 0)return L[l]}return parseFloat(l)}),o===n&&t.push(1),r=m||t[i]===void 0?1:t[i],t=t.slice(0,i)}else h.length>10&&/[0-9](?:\s|\/)/.test(h)&&(t=h.match(/([0-9]+)/g).map(function(b){return parseFloat(b)}),u=h.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(h))u="rgb",t=[h>>>16,(h&65280)>>>8,h&255];else if(C(h)){var c=a(h.r,h.red,h.R,null);c!==null?(u="rgb",t=[c,a(h.g,h.green,h.G),a(h.b,h.blue,h.B)]):(u="hsl",t=[a(h.h,h.hue,h.H),a(h.s,h.saturation,h.S),a(h.l,h.lightness,h.L,h.b,h.brightness)]),r=a(h.a,h.alpha,h.opacity,1),h.opacity!=null&&(r/=100)}else(Array.isArray(h)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(h))&&(t=[h[0],h[1],h[2]],u="rgb",r=h.length===4?h[3]:1);return{space:u,values:t,alpha:r}}},36652:function(W,V,e){var y=e(90736),C=e(80009),a=e(53435);W.exports=function(x){var h,d=y(x);return d.space?(h=Array(3),h[0]=a(d.values[0],0,255),h[1]=a(d.values[1],0,255),h[2]=a(d.values[2],0,255),d.space[0]==="h"&&(h=C.rgb(h)),h.push(a(d.alpha,0,1)),h):[]}},80009:function(W,V,e){var y=e(6866);W.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(C){var a=C[0]/360,L=C[1]/100,x=C[2]/100,h,d,t,r,u;if(L===0)return u=x*255,[u,u,u];x<.5?d=x*(1+L):d=x+L-x*L,h=2*x-d,r=[0,0,0];for(var n=0;n<3;n++)t=a+.3333333333333333*-(n-1),t<0?t++:t>1&&t--,6*t<1?u=h+(d-h)*6*t:2*t<1?u=d:3*t<2?u=h+(d-h)*(.6666666666666666-t)*6:u=h,r[n]=u*255;return r}},y.hsl=function(C){var a=C[0]/255,L=C[1]/255,x=C[2]/255,h=Math.min(a,L,x),d=Math.max(a,L,x),t=d-h,r,u,n;return d===h?r=0:a===d?r=(L-x)/t:L===d?r=2+(x-a)/t:x===d&&(r=4+(a-L)/t),r=Math.min(r*60,360),r<0&&(r+=360),n=(h+d)/2,d===h?u=0:n<=.5?u=t/(d+h):u=t/(2-d-h),[r,u*100,n*100]}},6866:function(W){W.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(W){W.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(W,V,e){W.exports={parse:e(41004),stringify:e(53313)}},63625:function(W,V,e){var y=e(40402);W.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||y.indexOf(a)!==-1}}},41004:function(W,V,e){var y=e(90448),C=e(38732),a=e(41901),L=e(15659),x=e(96209),h=e(83794),d=e(99011),t=e(63625).isSize;W.exports=u;var r=u.cache={};function u(i){if(typeof i!="string")throw new Error("Font argument must be a string.");if(r[i])return r[i];if(i==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(i)!==-1)return r[i]={system:i};for(var s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},o=d(i,/\s+/),m;m=o.shift();){if(C.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(b){s[b]=m}),r[i]=s;if(x.indexOf(m)!==-1){s.style=m;continue}if(m==="normal"||m==="small-caps"){s.variant=m;continue}if(h.indexOf(m)!==-1){s.stretch=m;continue}if(L.indexOf(m)!==-1){s.weight=m;continue}if(t(m)){var c=d(m,"/");if(s.size=c[0],c[1]!=null?s.lineHeight=n(c[1]):o[0]==="/"&&(o.shift(),s.lineHeight=n(o.shift())),!o.length)throw new Error("Missing required font-family.");return s.family=d(o.join(" "),/\s*,\s*/).map(y),r[i]=s}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(i){var s=parseFloat(i);return s.toString()===i?s:i}},53313:function(W,V,e){var y=e(71299),C=e(63625).isSize,a=i(e(38732)),L=i(e(41901)),x=i(e(15659)),h=i(e(96209)),d=i(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};W.exports=function(o){if(o=y(o,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),o.system)return o.system&&n(o.system,L),o.system;if(n(o.style,h),n(o.variant,t),n(o.weight,x),n(o.stretch,d),o.size==null&&(o.size=u.size),typeof o.size=="number"&&(o.size+="px"),!C)throw Error("Bad size value `"+o.size+"`");o.family||(o.family=u.family),Array.isArray(o.family)&&(o.family.length||(o.family=[u.family]),o.family=o.family.map(function(c){return r[c]?c:'"'+c+'"'}).join(", "));var m=[];return m.push(o.style),o.variant!==o.style&&m.push(o.variant),o.weight!==o.variant&&o.weight!==o.style&&m.push(o.weight),o.stretch!==o.weight&&o.stretch!==o.variant&&o.stretch!==o.style&&m.push(o.stretch),m.push(o.size+(o.lineHeight==null||o.lineHeight==="normal"||o.lineHeight+""=="1"?"":"/"+o.lineHeight)),m.push(o.family),m.filter(Boolean).join(" ")};function n(s,o){if(s&&!o[s]&&!a[s])throw Error("Unknown keyword `"+s+"`");return s}function i(s){for(var o={},m=0;m<s.length;m++)o[s[m]]=1;return o}},55174:function(W,V,e){var y=e(24582),C=e(10424),a=e(82527),L=e(19012),x=e(21780),h=e(16906),d=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,u;u=function(n,i,s){var o=C(i)&&a(i.value),m;return m=L(i),delete m.writable,delete m.value,m.get=function(){return!s.overwriteDefinition&&r.call(this,n)?o:(i.value=d.call(o,s.resolveContext?s.resolveContext(this):this),t(this,n,i),this[n])},m},W.exports=function(n){var i=x(arguments[1]);return y(i.resolveContext)&&a(i.resolveContext),h(n,function(s,o){return u(o,s,i)})}},62072:function(W,V,e){var y=e(24582),C=e(84985),a=e(95879),L=e(21780),x=e(66741),h=W.exports=function(d,t){var r,u,n,i,s;return arguments.length<2||typeof d!="string"?(i=t,t=d,d=null):i=arguments[2],y(d)?(r=x.call(d,"c"),u=x.call(d,"e"),n=x.call(d,"w")):(r=n=!0,u=!1),s={value:t,configurable:r,enumerable:u,writable:n},i?a(L(i),s):s};h.gs=function(d,t,r){var u,n,i,s;return typeof d!="string"?(i=r,r=t,t=d,d=null):i=arguments[3],y(t)?C(t)?y(r)?C(r)||(i=r,r=void 0):r=void 0:(i=t,t=r=void 0):t=void 0,y(d)?(u=x.call(d,"c"),n=x.call(d,"e")):(u=!0,n=!1),s={get:t,set:r,configurable:u,enumerable:n},i?a(L(i),s):s}},33064:function(W,V,e){e.d(V,{j2:function(){return y},Fp:function(){return L},J6:function(){return h},TS:function(){return d},VV:function(){return t},w6:function(){return r},Sm:function(){return u}});function y(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function C(n){return n.length===1&&(n=a(n)),{left:function(i,s,o,m){for(o==null&&(o=0),m==null&&(m=i.length);o<m;){var c=o+m>>>1;n(i[c],s)<0?o=c+1:m=c}return o},right:function(i,s,o,m){for(o==null&&(o=0),m==null&&(m=i.length);o<m;){var c=o+m>>>1;n(i[c],s)>0?m=c:o=c+1}return o}}}function a(n){return function(i,s){return y(n(i),s)}}C(y);function L(n,i){var s=n.length,o=-1,m,c;if(i==null){for(;++o<s;)if((m=n[o])!=null&&m>=m)for(c=m;++o<s;)(m=n[o])!=null&&m>c&&(c=m)}else for(;++o<s;)if((m=i(n[o],o,n))!=null&&m>=m)for(c=m;++o<s;)(m=i(n[o],o,n))!=null&&m>c&&(c=m);return c}function x(n){return n===null?NaN:+n}function h(n,i){var s=n.length,o=s,m=-1,c,b=0;if(i==null)for(;++m<s;)isNaN(c=x(n[m]))?--o:b+=c;else for(;++m<s;)isNaN(c=x(i(n[m],m,n)))?--o:b+=c;if(o)return b/o}function d(n){for(var i=n.length,s,o=-1,m=0,c,b;++o<i;)m+=n[o].length;for(c=new Array(m);--i>=0;)for(b=n[i],s=b.length;--s>=0;)c[--m]=b[s];return c}function t(n,i){var s=n.length,o=-1,m,c;if(i==null){for(;++o<s;)if((m=n[o])!=null&&m>=m)for(c=m;++o<s;)(m=n[o])!=null&&c>m&&(c=m)}else for(;++o<s;)if((m=i(n[o],o,n))!=null&&m>=m)for(c=m;++o<s;)(m=i(n[o],o,n))!=null&&c>m&&(c=m);return c}function r(n,i,s){n=+n,i=+i,s=(m=arguments.length)<2?(i=n,n=0,1):m<3?1:+s;for(var o=-1,m=Math.max(0,Math.ceil((i-n)/s))|0,c=new Array(m);++o<m;)c[o]=n+o*s;return c}function u(n,i){var s=n.length,o=-1,m,c=0;if(i==null)for(;++o<s;)(m=+n[o])&&(c+=m);else for(;++o<s;)(m=+i(n[o],o,n))&&(c+=m);return c}},15140:function(W,V,e){e.d(V,{UI:function(){return L},b1:function(){return x}});var y="$";function C(){}C.prototype=a.prototype={constructor:C,has:function(i){return y+i in this},get:function(i){return this[y+i]},set:function(i,s){return this[y+i]=s,this},remove:function(i){var s=y+i;return s in this&&delete this[s]},clear:function(){for(var i in this)i[0]===y&&delete this[i]},keys:function(){var i=[];for(var s in this)s[0]===y&&i.push(s.slice(1));return i},values:function(){var i=[];for(var s in this)s[0]===y&&i.push(this[s]);return i},entries:function(){var i=[];for(var s in this)s[0]===y&&i.push({key:s.slice(1),value:this[s]});return i},size:function(){var i=0;for(var s in this)s[0]===y&&++i;return i},empty:function(){for(var i in this)if(i[0]===y)return!1;return!0},each:function(i){for(var s in this)s[0]===y&&i(this[s],s.slice(1),this)}};function a(i,s){var o=new C;if(i instanceof C)i.each(function(l,p){o.set(p,l)});else if(Array.isArray(i)){var m=-1,c=i.length,b;if(s==null)for(;++m<c;)o.set(m,i[m]);else for(;++m<c;)o.set(s(b=i[m],m,i),b)}else if(i)for(var v in i)o.set(v,i[v]);return o}var L=a;function x(){var i=[],s=[],o,m,c;function b(l,p,S,M){if(p>=i.length)return o!=null&&l.sort(o),m!=null?m(l):l;for(var R=-1,T=l.length,E=i[p++],A,f,P=L(),w,z=S();++R<T;)(w=P.get(A=E(f=l[R])+""))?w.push(f):P.set(A,[f]);return P.each(function(F,H){M(z,H,b(F,p,S,M))}),z}function v(l,p){if(++p>i.length)return l;var S,M=s[p-1];return m!=null&&p>=i.length?S=l.entries():(S=[],l.each(function(R,T){S.push({key:T,values:v(R,p)})})),M!=null?S.sort(function(R,T){return M(R.key,T.key)}):S}return c={object:function(l){return b(l,0,h,d)},map:function(l){return b(l,0,t,r)},entries:function(l){return v(b(l,0,t,r),0)},key:function(l){return i.push(l),c},sortKeys:function(l){return s[i.length-1]=l,c},sortValues:function(l){return o=l,c},rollup:function(l){return m=l,c}}}function h(){return{}}function d(i,s,o){i[s]=o}function t(){return L()}function r(i,s,o){i.set(s,o)}function u(){}var n=L.prototype;u.prototype={constructor:u,has:n.has,add:function(i){return i+="",this[y+i]=i,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(W,V,e){e.r(V),e.d(V,{forceCenter:function(){return y},forceCollide:function(){return P},forceLink:function(){return H},forceManyBody:function(){return We},forceRadial:function(){return tt},forceSimulation:function(){return _e},forceX:function(){return Ke},forceY:function(){return qe}});function y(rt,ft){var pt;rt==null&&(rt=0),ft==null&&(ft=0);function gt(){var Mt,Lt=pt.length,Wt,Je=0,ze=0;for(Mt=0;Mt<Lt;++Mt)Wt=pt[Mt],Je+=Wt.x,ze+=Wt.y;for(Je=Je/Lt-rt,ze=ze/Lt-ft,Mt=0;Mt<Lt;++Mt)Wt=pt[Mt],Wt.x-=Je,Wt.y-=ze}return gt.initialize=function(Mt){pt=Mt},gt.x=function(Mt){return arguments.length?(rt=+Mt,gt):rt},gt.y=function(Mt){return arguments.length?(ft=+Mt,gt):ft},gt}function C(rt){return function(){return rt}}function a(){return(Math.random()-.5)*1e-6}function L(rt){var ft=+this._x.call(null,rt),pt=+this._y.call(null,rt);return x(this.cover(ft,pt),ft,pt,rt)}function x(rt,ft,pt,gt){if(isNaN(ft)||isNaN(pt))return rt;var Mt,Lt=rt._root,Wt={data:gt},Je=rt._x0,ze=rt._y0,Oe=rt._x1,Ue=rt._y1,ke,Me,ce,be,De,Ve,it,ot;if(!Lt)return rt._root=Wt,rt;for(;Lt.length;)if((De=ft>=(ke=(Je+Oe)/2))?Je=ke:Oe=ke,(Ve=pt>=(Me=(ze+Ue)/2))?ze=Me:Ue=Me,Mt=Lt,!(Lt=Lt[it=Ve<<1|De]))return Mt[it]=Wt,rt;if(ce=+rt._x.call(null,Lt.data),be=+rt._y.call(null,Lt.data),ft===ce&&pt===be)return Wt.next=Lt,Mt?Mt[it]=Wt:rt._root=Wt,rt;do Mt=Mt?Mt[it]=new Array(4):rt._root=new Array(4),(De=ft>=(ke=(Je+Oe)/2))?Je=ke:Oe=ke,(Ve=pt>=(Me=(ze+Ue)/2))?ze=Me:Ue=Me;while((it=Ve<<1|De)===(ot=(be>=Me)<<1|ce>=ke));return Mt[ot]=Lt,Mt[it]=Wt,rt}function h(rt){var ft,pt,gt=rt.length,Mt,Lt,Wt=new Array(gt),Je=new Array(gt),ze=1/0,Oe=1/0,Ue=-1/0,ke=-1/0;for(pt=0;pt<gt;++pt)isNaN(Mt=+this._x.call(null,ft=rt[pt]))||isNaN(Lt=+this._y.call(null,ft))||(Wt[pt]=Mt,Je[pt]=Lt,Mt<ze&&(ze=Mt),Mt>Ue&&(Ue=Mt),Lt<Oe&&(Oe=Lt),Lt>ke&&(ke=Lt));if(ze>Ue||Oe>ke)return this;for(this.cover(ze,Oe).cover(Ue,ke),pt=0;pt<gt;++pt)x(this,Wt[pt],Je[pt],rt[pt]);return this}function d(rt,ft){if(isNaN(rt=+rt)||isNaN(ft=+ft))return this;var pt=this._x0,gt=this._y0,Mt=this._x1,Lt=this._y1;if(isNaN(pt))Mt=(pt=Math.floor(rt))+1,Lt=(gt=Math.floor(ft))+1;else{for(var Wt=Mt-pt,Je=this._root,ze,Oe;pt>rt||rt>=Mt||gt>ft||ft>=Lt;)switch(Oe=(ft<gt)<<1|rt<pt,ze=new Array(4),ze[Oe]=Je,Je=ze,Wt*=2,Oe){case 0:Mt=pt+Wt,Lt=gt+Wt;break;case 1:pt=Mt-Wt,Lt=gt+Wt;break;case 2:Mt=pt+Wt,gt=Lt-Wt;break;case 3:pt=Mt-Wt,gt=Lt-Wt;break}this._root&&this._root.length&&(this._root=Je)}return this._x0=pt,this._y0=gt,this._x1=Mt,this._y1=Lt,this}function t(){var rt=[];return this.visit(function(ft){if(!ft.length)do rt.push(ft.data);while(ft=ft.next)}),rt}function r(rt){return arguments.length?this.cover(+rt[0][0],+rt[0][1]).cover(+rt[1][0],+rt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function u(rt,ft,pt,gt,Mt){this.node=rt,this.x0=ft,this.y0=pt,this.x1=gt,this.y1=Mt}function n(rt,ft,pt){var gt,Mt=this._x0,Lt=this._y0,Wt,Je,ze,Oe,Ue=this._x1,ke=this._y1,Me=[],ce=this._root,be,De;for(ce&&Me.push(new u(ce,Mt,Lt,Ue,ke)),pt==null?pt=1/0:(Mt=rt-pt,Lt=ft-pt,Ue=rt+pt,ke=ft+pt,pt*=pt);be=Me.pop();)if(!(!(ce=be.node)||(Wt=be.x0)>Ue||(Je=be.y0)>ke||(ze=be.x1)<Mt||(Oe=be.y1)<Lt))if(ce.length){var Ve=(Wt+ze)/2,it=(Je+Oe)/2;Me.push(new u(ce[3],Ve,it,ze,Oe),new u(ce[2],Wt,it,Ve,Oe),new u(ce[1],Ve,Je,ze,it),new u(ce[0],Wt,Je,Ve,it)),(De=(ft>=it)<<1|rt>=Ve)&&(be=Me[Me.length-1],Me[Me.length-1]=Me[Me.length-1-De],Me[Me.length-1-De]=be)}else{var ot=rt-+this._x.call(null,ce.data),Tt=ft-+this._y.call(null,ce.data),It=ot*ot+Tt*Tt;if(It<pt){var Ht=Math.sqrt(pt=It);Mt=rt-Ht,Lt=ft-Ht,Ue=rt+Ht,ke=ft+Ht,gt=ce.data}}return gt}function i(rt){if(isNaN(Ue=+this._x.call(null,rt))||isNaN(ke=+this._y.call(null,rt)))return this;var ft,pt=this._root,gt,Mt,Lt,Wt=this._x0,Je=this._y0,ze=this._x1,Oe=this._y1,Ue,ke,Me,ce,be,De,Ve,it;if(!pt)return this;if(pt.length)for(;;){if((be=Ue>=(Me=(Wt+ze)/2))?Wt=Me:ze=Me,(De=ke>=(ce=(Je+Oe)/2))?Je=ce:Oe=ce,ft=pt,!(pt=pt[Ve=De<<1|be]))return this;if(!pt.length)break;(ft[Ve+1&3]||ft[Ve+2&3]||ft[Ve+3&3])&&(gt=ft,it=Ve)}for(;pt.data!==rt;)if(Mt=pt,!(pt=pt.next))return this;return(Lt=pt.next)&&delete pt.next,Mt?(Lt?Mt.next=Lt:delete Mt.next,this):ft?(Lt?ft[Ve]=Lt:delete ft[Ve],(pt=ft[0]||ft[1]||ft[2]||ft[3])&&pt===(ft[3]||ft[2]||ft[1]||ft[0])&&!pt.length&&(gt?gt[it]=pt:this._root=pt),this):(this._root=Lt,this)}function s(rt){for(var ft=0,pt=rt.length;ft<pt;++ft)this.remove(rt[ft]);return this}function o(){return this._root}function m(){var rt=0;return this.visit(function(ft){if(!ft.length)do++rt;while(ft=ft.next)}),rt}function c(rt){var ft=[],pt,gt=this._root,Mt,Lt,Wt,Je,ze;for(gt&&ft.push(new u(gt,this._x0,this._y0,this._x1,this._y1));pt=ft.pop();)if(!rt(gt=pt.node,Lt=pt.x0,Wt=pt.y0,Je=pt.x1,ze=pt.y1)&&gt.length){var Oe=(Lt+Je)/2,Ue=(Wt+ze)/2;(Mt=gt[3])&&ft.push(new u(Mt,Oe,Ue,Je,ze)),(Mt=gt[2])&&ft.push(new u(Mt,Lt,Ue,Oe,ze)),(Mt=gt[1])&&ft.push(new u(Mt,Oe,Wt,Je,Ue)),(Mt=gt[0])&&ft.push(new u(Mt,Lt,Wt,Oe,Ue))}return this}function b(rt){var ft=[],pt=[],gt;for(this._root&&ft.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));gt=ft.pop();){var Mt=gt.node;if(Mt.length){var Lt,Wt=gt.x0,Je=gt.y0,ze=gt.x1,Oe=gt.y1,Ue=(Wt+ze)/2,ke=(Je+Oe)/2;(Lt=Mt[0])&&ft.push(new u(Lt,Wt,Je,Ue,ke)),(Lt=Mt[1])&&ft.push(new u(Lt,Ue,Je,ze,ke)),(Lt=Mt[2])&&ft.push(new u(Lt,Wt,ke,Ue,Oe)),(Lt=Mt[3])&&ft.push(new u(Lt,Ue,ke,ze,Oe))}pt.push(gt)}for(;gt=pt.pop();)rt(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function v(rt){return rt[0]}function l(rt){return arguments.length?(this._x=rt,this):this._x}function p(rt){return rt[1]}function S(rt){return arguments.length?(this._y=rt,this):this._y}function M(rt,ft,pt){var gt=new R(ft??v,pt??p,NaN,NaN,NaN,NaN);return rt==null?gt:gt.addAll(rt)}function R(rt,ft,pt,gt,Mt,Lt){this._x=rt,this._y=ft,this._x0=pt,this._y0=gt,this._x1=Mt,this._y1=Lt,this._root=void 0}function T(rt){for(var ft={data:rt.data},pt=ft;rt=rt.next;)pt=pt.next={data:rt.data};return ft}var E=M.prototype=R.prototype;E.copy=function(){var rt=new R(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ft=this._root,pt,gt;if(!ft)return rt;if(!ft.length)return rt._root=T(ft),rt;for(pt=[{source:ft,target:rt._root=new Array(4)}];ft=pt.pop();)for(var Mt=0;Mt<4;++Mt)(gt=ft.source[Mt])&&(gt.length?pt.push({source:gt,target:ft.target[Mt]=new Array(4)}):ft.target[Mt]=T(gt));return rt},E.add=L,E.addAll=h,E.cover=d,E.data=t,E.extent=r,E.find=n,E.remove=i,E.removeAll=s,E.root=o,E.size=m,E.visit=c,E.visitAfter=b,E.x=l,E.y=S;function A(rt){return rt.x+rt.vx}function f(rt){return rt.y+rt.vy}function P(rt){var ft,pt,gt=1,Mt=1;typeof rt!="function"&&(rt=C(rt==null?1:+rt));function Lt(){for(var ze,Oe=ft.length,Ue,ke,Me,ce,be,De,Ve=0;Ve<Mt;++Ve)for(Ue=M(ft,A,f).visitAfter(Wt),ze=0;ze<Oe;++ze)ke=ft[ze],be=pt[ke.index],De=be*be,Me=ke.x+ke.vx,ce=ke.y+ke.vy,Ue.visit(it);function it(ot,Tt,It,Ht,Gt){var Pt=ot.data,Jt=ot.r,or=be+Jt;if(Pt){if(Pt.index>ke.index){var zr=Me-Pt.x-Pt.vx,mt=ce-Pt.y-Pt.vy,Kt=zr*zr+mt*mt;Kt<or*or&&(zr===0&&(zr=a(),Kt+=zr*zr),mt===0&&(mt=a(),Kt+=mt*mt),Kt=(or-(Kt=Math.sqrt(Kt)))/Kt*gt,ke.vx+=(zr*=Kt)*(or=(Jt*=Jt)/(De+Jt)),ke.vy+=(mt*=Kt)*or,Pt.vx-=zr*(or=1-or),Pt.vy-=mt*or)}return}return Tt>Me+or||Ht<Me-or||It>ce+or||Gt<ce-or}}function Wt(ze){if(ze.data)return ze.r=pt[ze.data.index];for(var Oe=ze.r=0;Oe<4;++Oe)ze[Oe]&&ze[Oe].r>ze.r&&(ze.r=ze[Oe].r)}function Je(){if(ft){var ze,Oe=ft.length,Ue;for(pt=new Array(Oe),ze=0;ze<Oe;++ze)Ue=ft[ze],pt[Ue.index]=+rt(Ue,ze,ft)}}return Lt.initialize=function(ze){ft=ze,Je()},Lt.iterations=function(ze){return arguments.length?(Mt=+ze,Lt):Mt},Lt.strength=function(ze){return arguments.length?(gt=+ze,Lt):gt},Lt.radius=function(ze){return arguments.length?(rt=typeof ze=="function"?ze:C(+ze),Je(),Lt):rt},Lt}var w=e(15140);function z(rt){return rt.index}function F(rt,ft){var pt=rt.get(ft);if(!pt)throw new Error("missing: "+ft);return pt}function H(rt){var ft=z,pt=Ue,gt,Mt=C(30),Lt,Wt,Je,ze,Oe=1;rt==null&&(rt=[]);function Ue(De){return 1/Math.min(Je[De.source.index],Je[De.target.index])}function ke(De){for(var Ve=0,it=rt.length;Ve<Oe;++Ve)for(var ot=0,Tt,It,Ht,Gt,Pt,Jt,or;ot<it;++ot)Tt=rt[ot],It=Tt.source,Ht=Tt.target,Gt=Ht.x+Ht.vx-It.x-It.vx||a(),Pt=Ht.y+Ht.vy-It.y-It.vy||a(),Jt=Math.sqrt(Gt*Gt+Pt*Pt),Jt=(Jt-Lt[ot])/Jt*De*gt[ot],Gt*=Jt,Pt*=Jt,Ht.vx-=Gt*(or=ze[ot]),Ht.vy-=Pt*or,It.vx+=Gt*(or=1-or),It.vy+=Pt*or}function Me(){if(Wt){var De,Ve=Wt.length,it=rt.length,ot=(0,w.UI)(Wt,ft),Tt;for(De=0,Je=new Array(Ve);De<it;++De)Tt=rt[De],Tt.index=De,typeof Tt.source!="object"&&(Tt.source=F(ot,Tt.source)),typeof Tt.target!="object"&&(Tt.target=F(ot,Tt.target)),Je[Tt.source.index]=(Je[Tt.source.index]||0)+1,Je[Tt.target.index]=(Je[Tt.target.index]||0)+1;for(De=0,ze=new Array(it);De<it;++De)Tt=rt[De],ze[De]=Je[Tt.source.index]/(Je[Tt.source.index]+Je[Tt.target.index]);gt=new Array(it),ce(),Lt=new Array(it),be()}}function ce(){if(Wt)for(var De=0,Ve=rt.length;De<Ve;++De)gt[De]=+pt(rt[De],De,rt)}function be(){if(Wt)for(var De=0,Ve=rt.length;De<Ve;++De)Lt[De]=+Mt(rt[De],De,rt)}return ke.initialize=function(De){Wt=De,Me()},ke.links=function(De){return arguments.length?(rt=De,Me(),ke):rt},ke.id=function(De){return arguments.length?(ft=De,ke):ft},ke.iterations=function(De){return arguments.length?(Oe=+De,ke):Oe},ke.strength=function(De){return arguments.length?(pt=typeof De=="function"?De:C(+De),ce(),ke):pt},ke.distance=function(De){return arguments.length?(Mt=typeof De=="function"?De:C(+De),be(),ke):Mt},ke}var _={value:function(){}};function B(){for(var rt=0,ft=arguments.length,pt={},gt;rt<ft;++rt){if(!(gt=arguments[rt]+"")||gt in pt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);pt[gt]=[]}return new N(pt)}function N(rt){this._=rt}function O(rt,ft){return rt.trim().split(/^|\s+/).map(function(pt){var gt="",Mt=pt.indexOf(".");if(Mt>=0&&(gt=pt.slice(Mt+1),pt=pt.slice(0,Mt)),pt&&!ft.hasOwnProperty(pt))throw new Error("unknown type: "+pt);return{type:pt,name:gt}})}N.prototype=B.prototype={constructor:N,on:function(rt,ft){var pt=this._,gt=O(rt+"",pt),Mt,Lt=-1,Wt=gt.length;if(arguments.length<2){for(;++Lt<Wt;)if((Mt=(rt=gt[Lt]).type)&&(Mt=U(pt[Mt],rt.name)))return Mt;return}if(ft!=null&&typeof ft!="function")throw new Error("invalid callback: "+ft);for(;++Lt<Wt;)if(Mt=(rt=gt[Lt]).type)pt[Mt]=K(pt[Mt],rt.name,ft);else if(ft==null)for(Mt in pt)pt[Mt]=K(pt[Mt],rt.name,null);return this},copy:function(){var rt={},ft=this._;for(var pt in ft)rt[pt]=ft[pt].slice();return new N(rt)},call:function(rt,ft){if((Mt=arguments.length-2)>0)for(var pt=new Array(Mt),gt=0,Mt,Lt;gt<Mt;++gt)pt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(rt))throw new Error("unknown type: "+rt);for(Lt=this._[rt],gt=0,Mt=Lt.length;gt<Mt;++gt)Lt[gt].value.apply(ft,pt)},apply:function(rt,ft,pt){if(!this._.hasOwnProperty(rt))throw new Error("unknown type: "+rt);for(var gt=this._[rt],Mt=0,Lt=gt.length;Mt<Lt;++Mt)gt[Mt].value.apply(ft,pt)}};function U(rt,ft){for(var pt=0,gt=rt.length,Mt;pt<gt;++pt)if((Mt=rt[pt]).name===ft)return Mt.value}function K(rt,ft,pt){for(var gt=0,Mt=rt.length;gt<Mt;++gt)if(rt[gt].name===ft){rt[gt]=_,rt=rt.slice(0,gt).concat(rt.slice(gt+1));break}return pt!=null&&rt.push({name:ft,value:pt}),rt}var re=B,ae=0,ue=0,ve=0,ee=1e3,J,Q,X=0,q=0,se=0,Y=typeof performance=="object"&&performance.now?performance:Date,Z=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(rt){setTimeout(rt,17)};function ie(){return q||(Z(te),q=Y.now()+se)}function te(){q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=de.prototype={constructor:fe,restart:function(rt,ft,pt){if(typeof rt!="function")throw new TypeError("callback is not a function");pt=(pt==null?ie():+pt)+(ft==null?0:+ft),!this._next&&Q!==this&&(Q?Q._next=this:J=this,Q=this),this._call=rt,this._time=pt,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};function de(rt,ft,pt){var gt=new fe;return gt.restart(rt,ft,pt),gt}function we(){ie(),++ae;for(var rt=J,ft;rt;)(ft=q-rt._time)>=0&&rt._call.call(null,ft),rt=rt._next;--ae}function Ae(){q=(X=Y.now())+se,ae=ue=0;try{we()}finally{ae=0,Fe(),q=0}}function Re(){var rt=Y.now(),ft=rt-X;ft>ee&&(se-=ft,X=rt)}function Fe(){for(var rt,ft=J,pt,gt=1/0;ft;)ft._call?(gt>ft._time&&(gt=ft._time),rt=ft,ft=ft._next):(pt=ft._next,ft._next=null,ft=rt?rt._next=pt:J=pt);Q=rt,Se(gt)}function Se(rt){if(!ae){ue&&(ue=clearTimeout(ue));var ft=rt-q;ft>24?(rt<1/0&&(ue=setTimeout(Ae,rt-Y.now()-se)),ve&&(ve=clearInterval(ve))):(ve||(X=Y.now(),ve=setInterval(Re,ee)),ae=1,Z(Ae))}}function Te(rt){return rt.x}function Ee(rt){return rt.y}var Ne=10,He=Math.PI*(3-Math.sqrt(5));function _e(rt){var ft,pt=1,gt=.001,Mt=1-Math.pow(gt,1/300),Lt=0,Wt=.6,Je=(0,w.UI)(),ze=de(Ue),Oe=re("tick","end");rt==null&&(rt=[]);function Ue(){ke(),Oe.call("tick",ft),pt<gt&&(ze.stop(),Oe.call("end",ft))}function ke(be){var De,Ve=rt.length,it;be===void 0&&(be=1);for(var ot=0;ot<be;++ot)for(pt+=(Lt-pt)*Mt,Je.each(function(Tt){Tt(pt)}),De=0;De<Ve;++De)it=rt[De],it.fx==null?it.x+=it.vx*=Wt:(it.x=it.fx,it.vx=0),it.fy==null?it.y+=it.vy*=Wt:(it.y=it.fy,it.vy=0);return ft}function Me(){for(var be=0,De=rt.length,Ve;be<De;++be){if(Ve=rt[be],Ve.index=be,Ve.fx!=null&&(Ve.x=Ve.fx),Ve.fy!=null&&(Ve.y=Ve.fy),isNaN(Ve.x)||isNaN(Ve.y)){var it=Ne*Math.sqrt(be),ot=be*He;Ve.x=it*Math.cos(ot),Ve.y=it*Math.sin(ot)}(isNaN(Ve.vx)||isNaN(Ve.vy))&&(Ve.vx=Ve.vy=0)}}function ce(be){return be.initialize&&be.initialize(rt),be}return Me(),ft={tick:ke,restart:function(){return ze.restart(Ue),ft},stop:function(){return ze.stop(),ft},nodes:function(be){return arguments.length?(rt=be,Me(),Je.each(ce),ft):rt},alpha:function(be){return arguments.length?(pt=+be,ft):pt},alphaMin:function(be){return arguments.length?(gt=+be,ft):gt},alphaDecay:function(be){return arguments.length?(Mt=+be,ft):+Mt},alphaTarget:function(be){return arguments.length?(Lt=+be,ft):Lt},velocityDecay:function(be){return arguments.length?(Wt=1-be,ft):1-Wt},force:function(be,De){return arguments.length>1?(De==null?Je.remove(be):Je.set(be,ce(De)),ft):Je.get(be)},find:function(be,De,Ve){var it=0,ot=rt.length,Tt,It,Ht,Gt,Pt;for(Ve==null?Ve=1/0:Ve*=Ve,it=0;it<ot;++it)Gt=rt[it],Tt=be-Gt.x,It=De-Gt.y,Ht=Tt*Tt+It*It,Ht<Ve&&(Pt=Gt,Ve=Ht);return Pt},on:function(be,De){return arguments.length>1?(Oe.on(be,De),ft):Oe.on(be)}}}function We(){var rt,ft,pt,gt=C(-30),Mt,Lt=1,Wt=1/0,Je=.81;function ze(Me){var ce,be=rt.length,De=M(rt,Te,Ee).visitAfter(Ue);for(pt=Me,ce=0;ce<be;++ce)ft=rt[ce],De.visit(ke)}function Oe(){if(rt){var Me,ce=rt.length,be;for(Mt=new Array(ce),Me=0;Me<ce;++Me)be=rt[Me],Mt[be.index]=+gt(be,Me,rt)}}function Ue(Me){var ce=0,be,De,Ve=0,it,ot,Tt;if(Me.length){for(it=ot=Tt=0;Tt<4;++Tt)(be=Me[Tt])&&(De=Math.abs(be.value))&&(ce+=be.value,Ve+=De,it+=De*be.x,ot+=De*be.y);Me.x=it/Ve,Me.y=ot/Ve}else{be=Me,be.x=be.data.x,be.y=be.data.y;do ce+=Mt[be.data.index];while(be=be.next)}Me.value=ce}function ke(Me,ce,be,De){if(!Me.value)return!0;var Ve=Me.x-ft.x,it=Me.y-ft.y,ot=De-ce,Tt=Ve*Ve+it*it;if(ot*ot/Je<Tt)return Tt<Wt&&(Ve===0&&(Ve=a(),Tt+=Ve*Ve),it===0&&(it=a(),Tt+=it*it),Tt<Lt&&(Tt=Math.sqrt(Lt*Tt)),ft.vx+=Ve*Me.value*pt/Tt,ft.vy+=it*Me.value*pt/Tt),!0;if(Me.length||Tt>=Wt)return;(Me.data!==ft||Me.next)&&(Ve===0&&(Ve=a(),Tt+=Ve*Ve),it===0&&(it=a(),Tt+=it*it),Tt<Lt&&(Tt=Math.sqrt(Lt*Tt)));do Me.data!==ft&&(ot=Mt[Me.data.index]*pt/Tt,ft.vx+=Ve*ot,ft.vy+=it*ot);while(Me=Me.next)}return ze.initialize=function(Me){rt=Me,Oe()},ze.strength=function(Me){return arguments.length?(gt=typeof Me=="function"?Me:C(+Me),Oe(),ze):gt},ze.distanceMin=function(Me){return arguments.length?(Lt=Me*Me,ze):Math.sqrt(Lt)},ze.distanceMax=function(Me){return arguments.length?(Wt=Me*Me,ze):Math.sqrt(Wt)},ze.theta=function(Me){return arguments.length?(Je=Me*Me,ze):Math.sqrt(Je)},ze}function tt(rt,ft,pt){var gt,Mt=C(.1),Lt,Wt;typeof rt!="function"&&(rt=C(+rt)),ft==null&&(ft=0),pt==null&&(pt=0);function Je(Oe){for(var Ue=0,ke=gt.length;Ue<ke;++Ue){var Me=gt[Ue],ce=Me.x-ft||1e-6,be=Me.y-pt||1e-6,De=Math.sqrt(ce*ce+be*be),Ve=(Wt[Ue]-De)*Lt[Ue]*Oe/De;Me.vx+=ce*Ve,Me.vy+=be*Ve}}function ze(){if(gt){var Oe,Ue=gt.length;for(Lt=new Array(Ue),Wt=new Array(Ue),Oe=0;Oe<Ue;++Oe)Wt[Oe]=+rt(gt[Oe],Oe,gt),Lt[Oe]=isNaN(Wt[Oe])?0:+Mt(gt[Oe],Oe,gt)}}return Je.initialize=function(Oe){gt=Oe,ze()},Je.strength=function(Oe){return arguments.length?(Mt=typeof Oe=="function"?Oe:C(+Oe),ze(),Je):Mt},Je.radius=function(Oe){return arguments.length?(rt=typeof Oe=="function"?Oe:C(+Oe),ze(),Je):rt},Je.x=function(Oe){return arguments.length?(ft=+Oe,Je):ft},Je.y=function(Oe){return arguments.length?(pt=+Oe,Je):pt},Je}function Ke(rt){var ft=C(.1),pt,gt,Mt;typeof rt!="function"&&(rt=C(rt==null?0:+rt));function Lt(Je){for(var ze=0,Oe=pt.length,Ue;ze<Oe;++ze)Ue=pt[ze],Ue.vx+=(Mt[ze]-Ue.x)*gt[ze]*Je}function Wt(){if(pt){var Je,ze=pt.length;for(gt=new Array(ze),Mt=new Array(ze),Je=0;Je<ze;++Je)gt[Je]=isNaN(Mt[Je]=+rt(pt[Je],Je,pt))?0:+ft(pt[Je],Je,pt)}}return Lt.initialize=function(Je){pt=Je,Wt()},Lt.strength=function(Je){return arguments.length?(ft=typeof Je=="function"?Je:C(+Je),Wt(),Lt):ft},Lt.x=function(Je){return arguments.length?(rt=typeof Je=="function"?Je:C(+Je),Wt(),Lt):rt},Lt}function qe(rt){var ft=C(.1),pt,gt,Mt;typeof rt!="function"&&(rt=C(rt==null?0:+rt));function Lt(Je){for(var ze=0,Oe=pt.length,Ue;ze<Oe;++ze)Ue=pt[ze],Ue.vy+=(Mt[ze]-Ue.y)*gt[ze]*Je}function Wt(){if(pt){var Je,ze=pt.length;for(gt=new Array(ze),Mt=new Array(ze),Je=0;Je<ze;++Je)gt[Je]=isNaN(Mt[Je]=+rt(pt[Je],Je,pt))?0:+ft(pt[Je],Je,pt)}}return Lt.initialize=function(Je){pt=Je,Wt()},Lt.strength=function(Je){return arguments.length?(ft=typeof Je=="function"?Je:C(+Je),Wt(),Lt):ft},Lt.y=function(Je){return arguments.length?(rt=typeof Je=="function"?Je:C(+Je),Wt(),Lt):rt},Lt}},60721:function(W,V,e){e.d(V,{WU:function(){return l},FF:function(){return b}});function y(S){return Math.abs(S=Math.round(S))>=1e21?S.toLocaleString("en").replace(/,/g,""):S.toString(10)}function C(S,M){if((R=(S=M?S.toExponential(M-1):S.toExponential()).indexOf("e"))<0)return null;var R,T=S.slice(0,R);return[T.length>1?T[0]+T.slice(2):T,+S.slice(R+1)]}function a(S){return S=C(Math.abs(S)),S?S[1]:NaN}function L(S,M){return function(R,T){for(var E=R.length,A=[],f=0,P=S[0],w=0;E>0&&P>0&&(w+P+1>T&&(P=Math.max(1,T-w)),A.push(R.substring(E-=P,E+P)),!((w+=P+1)>T));)P=S[f=(f+1)%S.length];return A.reverse().join(M)}}function x(S){return function(M){return M.replace(/[0-9]/g,function(R){return S[+R]})}}var h=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d(S){if(!(M=h.exec(S)))throw new Error("invalid format: "+S);var M;return new t({fill:M[1],align:M[2],sign:M[3],symbol:M[4],zero:M[5],width:M[6],comma:M[7],precision:M[8]&&M[8].slice(1),trim:M[9],type:M[10]})}d.prototype=t.prototype;function t(S){this.fill=S.fill===void 0?" ":S.fill+"",this.align=S.align===void 0?">":S.align+"",this.sign=S.sign===void 0?"-":S.sign+"",this.symbol=S.symbol===void 0?"":S.symbol+"",this.zero=!!S.zero,this.width=S.width===void 0?void 0:+S.width,this.comma=!!S.comma,this.precision=S.precision===void 0?void 0:+S.precision,this.trim=!!S.trim,this.type=S.type===void 0?"":S.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(S){e:for(var M=S.length,R=1,T=-1,E;R<M;++R)switch(S[R]){case".":T=E=R;break;case"0":T===0&&(T=R),E=R;break;default:if(!+S[R])break e;T>0&&(T=0);break}return T>0?S.slice(0,T)+S.slice(E+1):S}var u;function n(S,M){var R=C(S,M);if(!R)return S+"";var T=R[0],E=R[1],A=E-(u=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,f=T.length;return A===f?T:A>f?T+new Array(A-f+1).join("0"):A>0?T.slice(0,A)+"."+T.slice(A):"0."+new Array(1-A).join("0")+C(S,Math.max(0,M+A-1))[0]}function i(S,M){var R=C(S,M);if(!R)return S+"";var T=R[0],E=R[1];return E<0?"0."+new Array(-E).join("0")+T:T.length>E+1?T.slice(0,E+1)+"."+T.slice(E+1):T+new Array(E-T.length+2).join("0")}var s={"%":function(S,M){return(S*100).toFixed(M)},b:function(S){return Math.round(S).toString(2)},c:function(S){return S+""},d:y,e:function(S,M){return S.toExponential(M)},f:function(S,M){return S.toFixed(M)},g:function(S,M){return S.toPrecision(M)},o:function(S){return Math.round(S).toString(8)},p:function(S,M){return i(S*100,M)},r:i,s:n,X:function(S){return Math.round(S).toString(16).toUpperCase()},x:function(S){return Math.round(S).toString(16)}};function o(S){return S}var m=Array.prototype.map,c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function b(S){var M=S.grouping===void 0||S.thousands===void 0?o:L(m.call(S.grouping,Number),S.thousands+""),R=S.currency===void 0?"":S.currency[0]+"",T=S.currency===void 0?"":S.currency[1]+"",E=S.decimal===void 0?".":S.decimal+"",A=S.numerals===void 0?o:x(m.call(S.numerals,String)),f=S.percent===void 0?"%":S.percent+"",P=S.minus===void 0?"-":S.minus+"",w=S.nan===void 0?"NaN":S.nan+"";function z(H){H=d(H);var _=H.fill,B=H.align,N=H.sign,O=H.symbol,U=H.zero,K=H.width,re=H.comma,ae=H.precision,ue=H.trim,ve=H.type;ve==="n"?(re=!0,ve="g"):s[ve]||(ae===void 0&&(ae=12),ue=!0,ve="g"),(U||_==="0"&&B==="=")&&(U=!0,_="0",B="=");var ee=O==="$"?R:O==="#"&&/[boxX]/.test(ve)?"0"+ve.toLowerCase():"",J=O==="$"?T:/[%p]/.test(ve)?f:"",Q=s[ve],X=/[defgprs%]/.test(ve);ae=ae===void 0?6:/[gprs]/.test(ve)?Math.max(1,Math.min(21,ae)):Math.max(0,Math.min(20,ae));function q(se){var Y=ee,Z=J,ie,te,fe;if(ve==="c")Z=Q(se)+Z,se="";else{se=+se;var de=se<0||1/se<0;if(se=isNaN(se)?w:Q(Math.abs(se),ae),ue&&(se=r(se)),de&&+se==0&&N!=="+"&&(de=!1),Y=(de?N==="("?N:P:N==="-"||N==="("?"":N)+Y,Z=(ve==="s"?c[8+u/3]:"")+Z+(de&&N==="("?")":""),X){for(ie=-1,te=se.length;++ie<te;)if(fe=se.charCodeAt(ie),48>fe||fe>57){Z=(fe===46?E+se.slice(ie+1):se.slice(ie))+Z,se=se.slice(0,ie);break}}}re&&!U&&(se=M(se,1/0));var we=Y.length+se.length+Z.length,Ae=we<K?new Array(K-we+1).join(_):"";switch(re&&U&&(se=M(Ae+se,Ae.length?K-Z.length:1/0),Ae=""),B){case"<":se=Y+se+Z+Ae;break;case"=":se=Y+Ae+se+Z;break;case"^":se=Ae.slice(0,we=Ae.length>>1)+Y+se+Z+Ae.slice(we);break;default:se=Ae+Y+se+Z;break}return A(se)}return q.toString=function(){return H+""},q}function F(H,_){var B=z((H=d(H),H.type="f",H)),N=Math.max(-8,Math.min(8,Math.floor(a(_)/3)))*3,O=Math.pow(10,-N),U=c[8+N/3];return function(K){return B(O*K)+U}}return{format:z,formatPrefix:F}}var v,l;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(S){return v=b(S),l=v.format,v.formatPrefix,v}},65704:function(W,V,e){e.r(V),e.d(V,{geoAiry:function(){return U},geoAiryRaw:function(){return O},geoAitoff:function(){return re},geoAitoffRaw:function(){return K},geoArmadillo:function(){return ue},geoArmadilloRaw:function(){return ae},geoAugust:function(){return ee},geoAugustRaw:function(){return ve},geoBaker:function(){return q},geoBakerRaw:function(){return X},geoBerghaus:function(){return Z},geoBerghausRaw:function(){return Y},geoBertin1953:function(){return Fe},geoBertin1953Raw:function(){return Re},geoBoggs:function(){return tt},geoBoggsRaw:function(){return We},geoBonne:function(){return pt},geoBonneRaw:function(){return ft},geoBottomley:function(){return Mt},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Wt},geoBromleyRaw:function(){return Lt},geoChamberlin:function(){return De},geoChamberlinAfrica:function(){return be},geoChamberlinRaw:function(){return Me},geoCollignon:function(){return it},geoCollignonRaw:function(){return Ve},geoCraig:function(){return Tt},geoCraigRaw:function(){return ot},geoCraster:function(){return Gt},geoCrasterRaw:function(){return Ht},geoCylindricalEqualArea:function(){return Jt},geoCylindricalEqualAreaRaw:function(){return Pt},geoCylindricalStereographic:function(){return zr},geoCylindricalStereographicRaw:function(){return or},geoEckert1:function(){return Kt},geoEckert1Raw:function(){return mt},geoEckert2:function(){return wr},geoEckert2Raw:function(){return jt},geoEckert3:function(){return ct},geoEckert3Raw:function(){return vr},geoEckert4:function(){return bt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return Ct},geoEckert5Raw:function(){return At},geoEckert6:function(){return zt},geoEckert6Raw:function(){return St},geoEisenlohr:function(){return $t},geoEisenlohrRaw:function(){return qt},geoFahey:function(){return Ze},geoFaheyRaw:function(){return Cr},geoFoucaut:function(){return kt},geoFoucautRaw:function(){return je},geoFoucautSinusoidal:function(){return Zt},geoFoucautSinusoidalRaw:function(){return _t},geoGilbert:function(){return cr},geoGingery:function(){return Gr},geoGingeryRaw:function(){return pr},geoGinzburg4:function(){return gn},geoGinzburg4Raw:function(){return Fr},geoGinzburg5:function(){return kn},geoGinzburg5Raw:function(){return Kr},geoGinzburg6:function(){return br},geoGinzburg6Raw:function(){return In},geoGinzburg8:function(){return Br},geoGinzburg8Raw:function(){return Mr},geoGinzburg9:function(){return en},geoGinzburg9Raw:function(){return Nr},geoGringorten:function(){return Jn},geoGringortenQuincuncial:function(){return xh},geoGringortenRaw:function(){return cn},geoGuyou:function(){return yn},geoGuyouRaw:function(){return Sr},geoHammer:function(){return de},geoHammerRaw:function(){return te},geoHammerRetroazimuthal:function(){return Gn},geoHammerRetroazimuthalRaw:function(){return Cn},geoHealpix:function(){return fn},geoHealpixRaw:function(){return on},geoHill:function(){return Lr},geoHillRaw:function(){return Dr},geoHomolosine:function(){return On},geoHomolosineRaw:function(){return mn},geoHufnagel:function(){return ca},geoHufnagelRaw:function(){return ea},geoHyperelliptical:function(){return Qi},geoHyperellipticalRaw:function(){return ya},geoInterrupt:function(){return bo},geoInterruptedBoggs:function(){return ti},geoInterruptedHomolosine:function(){return Il},geoInterruptedMollweide:function(){return Co},geoInterruptedMollweideHemispheres:function(){return au},geoInterruptedQuarticAuthalic:function(){return xf},geoInterruptedSinuMollweide:function(){return iu},geoInterruptedSinusoidal:function(){return ji},geoKavrayskiy7:function(){return po},geoKavrayskiy7Raw:function(){return zo},geoLagrange:function(){return hs},geoLagrangeRaw:function(){return Go},geoLarrivee:function(){return rc},geoLarriveeRaw:function(){return ro},geoLaskowski:function(){return no},geoLaskowskiRaw:function(){return vs},geoLittrow:function(){return Rs},geoLittrowRaw:function(){return vf},geoLoximuthal:function(){return df},geoLoximuthalRaw:function(){return ds},geoMiller:function(){return nh},geoMillerRaw:function(){return pf},geoModifiedStereographic:function(){return fl},geoModifiedStereographicAlaska:function(){return lh},geoModifiedStereographicGs48:function(){return nc},geoModifiedStereographicGs50:function(){return uh},geoModifiedStereographicLee:function(){return yf},geoModifiedStereographicMiller:function(){return fh},geoModifiedStereographicRaw:function(){return ou},geoMollweide:function(){return Ne},geoMollweideRaw:function(){return Ee},geoMtFlatPolarParabolic:function(){return ch},geoMtFlatPolarParabolicRaw:function(){return Fu},geoMtFlatPolarQuartic:function(){return ac},geoMtFlatPolarQuarticRaw:function(){return Ds},geoMtFlatPolarSinusoidal:function(){return hh},geoMtFlatPolarSinusoidalRaw:function(){return mf},geoNaturalEarth:function(){return Wo.Z},geoNaturalEarth2:function(){return su},geoNaturalEarth2Raw:function(){return hl},geoNaturalEarthRaw:function(){return Wo.K},geoNellHammer:function(){return ps},geoNellHammerRaw:function(){return Fl},geoNicolosi:function(){return js},geoNicolosiRaw:function(){return _l},geoPatterson:function(){return vh},geoPattersonRaw:function(){return zu},geoPeirceQuincuncial:function(){return uc},geoPierceQuincuncial:function(){return uc},geoPolyconic:function(){return dh},geoPolyconicRaw:function(){return wf},geoPolyhedral:function(){return pi},geoPolyhedralButterfly:function(){return ks},geoPolyhedralCollignon:function(){return Xs},geoPolyhedralWaterman:function(){return Ks},geoProject:function(){return yh},geoQuantize:function(){return fc},geoQuincuncial:function(){return Hu},geoRectangularPolyconic:function(){return Js},geoRectangularPolyconicRaw:function(){return Cf},geoRobinson:function(){return Lf},geoRobinsonRaw:function(){return ys},geoSatellite:function(){return Vu},geoSatelliteRaw:function(){return pl},geoSinuMollweide:function(){return Yn},geoSinuMollweideRaw:function(){return _n},geoSinusoidal:function(){return rt},geoSinusoidalRaw:function(){return qe},geoStitch:function(){return xl},geoTimes:function(){return Oo},geoTimesRaw:function(){return Ro},geoTwoPointAzimuthal:function(){return ju},geoTwoPointAzimuthalRaw:function(){return vc},geoTwoPointAzimuthalUsa:function(){return Gl},geoTwoPointEquidistant:function(){return If},geoTwoPointEquidistantRaw:function(){return dc},geoTwoPointEquidistantUsa:function(){return ns},geoVanDerGrinten:function(){return pu},geoVanDerGrinten2:function(){return wh},geoVanDerGrinten2Raw:function(){return Bs},geoVanDerGrinten3:function(){return Zu},geoVanDerGrinten3Raw:function(){return kf},geoVanDerGrinten4:function(){return pc},geoVanDerGrinten4Raw:function(){return go},geoVanDerGrintenRaw:function(){return qs},geoWagner:function(){return yu},geoWagner4:function(){return _f},geoWagner4Raw:function(){return Ff},geoWagner6:function(){return Ku},geoWagner6Raw:function(){return wl},geoWagner7:function(){return el},geoWagnerRaw:function(){return ms},geoWiechel:function(){return yc},geoWiechelRaw:function(){return mu},geoWinkel3:function(){return mc},geoWinkel3Raw:function(){return xu}});var y=e(15002),C=Math.abs,a=Math.atan,L=Math.atan2,x=Math.cos,h=Math.exp,d=Math.floor,t=Math.log,r=Math.max,u=Math.min,n=Math.pow,i=Math.round,s=Math.sign||function(Qe){return Qe>0?1:Qe<0?-1:0},o=Math.sin,m=Math.tan,c=1e-6,b=1e-12,v=Math.PI,l=v/2,p=v/4,S=Math.SQRT1_2,M=z(2),R=z(v),T=v*2,E=180/v,A=v/180;function f(Qe){return Qe?Qe/Math.sin(Qe):1}function P(Qe){return Qe>1?l:Qe<-1?-l:Math.asin(Qe)}function w(Qe){return Qe>1?0:Qe<-1?v:Math.acos(Qe)}function z(Qe){return Qe>0?Math.sqrt(Qe):0}function F(Qe){return Qe=h(2*Qe),(Qe-1)/(Qe+1)}function H(Qe){return(h(Qe)-h(-Qe))/2}function _(Qe){return(h(Qe)+h(-Qe))/2}function B(Qe){return t(Qe+z(Qe*Qe+1))}function N(Qe){return t(Qe+z(Qe*Qe-1))}function O(Qe){var at=m(Qe/2),dt=2*t(x(Qe/2))/(at*at);function yt(Ft,Rt){var Bt=x(Ft),hr=x(Rt),yr=o(Rt),ir=hr*Bt,Ar=-((1-ir?t((1+ir)/2)/(1-ir):-.5)+dt/(1+ir));return[Ar*hr*o(Ft),Ar*yr]}return yt.invert=function(Ft,Rt){var Bt=z(Ft*Ft+Rt*Rt),hr=-Qe/2,yr=50,ir;if(!Bt)return[0,0];do{var Ar=hr/2,Rr=x(Ar),jr=o(Ar),Qr=jr/Rr,xn=-t(C(Rr));hr-=ir=(2/Qr*xn-dt*Qr-Bt)/(-xn/(jr*jr)+1-dt/(2*Rr*Rr))*(Rr<0?.7:1)}while(C(ir)>c&&--yr>0);var wn=o(hr);return[L(Ft*wn,Bt*x(hr)),P(Rt*wn/Bt)]},yt}function U(){var Qe=l,at=(0,y.r)(O),dt=at(Qe);return dt.radius=function(yt){return arguments.length?at(Qe=yt*A):Qe*E},dt.scale(179.976).clipAngle(147)}function K(Qe,at){var dt=x(at),yt=f(w(dt*x(Qe/=2)));return[2*dt*o(Qe)*yt,o(at)*yt]}K.invert=function(Qe,at){if(!(Qe*Qe+4*at*at>v*v+c)){var dt=Qe,yt=at,Ft=25;do{var Rt=o(dt),Bt=o(dt/2),hr=x(dt/2),yr=o(yt),ir=x(yt),Ar=o(2*yt),Rr=yr*yr,jr=ir*ir,Qr=Bt*Bt,xn=1-jr*hr*hr,wn=xn?w(ir*hr)*z(Dn=1/xn):Dn=0,Dn,pa=2*wn*ir*Bt-Qe,Pa=wn*yr-at,Ia=Dn*(jr*Qr+wn*ir*hr*Rr),ka=Dn*(.5*Rt*Ar-wn*2*yr*Bt),_a=Dn*.25*(Ar*Bt-wn*yr*jr*Rt),oi=Dn*(Rr*hr+wn*Qr*ir),Ii=ka*_a-oi*Ia;if(!Ii)break;var gi=(Pa*ka-pa*oi)/Ii,he=(pa*_a-Pa*Ia)/Ii;dt-=gi,yt-=he}while((C(gi)>c||C(he)>c)&&--Ft>0);return[dt,yt]}};function re(){return(0,y.Z)(K).scale(152.63)}function ae(Qe){var at=o(Qe),dt=x(Qe),yt=Qe>=0?1:-1,Ft=m(yt*Qe),Rt=(1+at-dt)/2;function Bt(hr,yr){var ir=x(yr),Ar=x(hr/=2);return[(1+ir)*o(hr),(yt*yr>-L(Ar,Ft)-.001?0:-yt*10)+Rt+o(yr)*dt-(1+ir)*at*Ar]}return Bt.invert=function(hr,yr){var ir=0,Ar=0,Rr=50;do{var jr=x(ir),Qr=o(ir),xn=x(Ar),wn=o(Ar),Dn=1+xn,pa=Dn*Qr-hr,Pa=Rt+wn*dt-Dn*at*jr-yr,Ia=Dn*jr/2,ka=-Qr*wn,_a=at*Dn*Qr/2,oi=dt*xn+at*jr*wn,Ii=ka*_a-oi*Ia,gi=(Pa*ka-pa*oi)/Ii/2,he=(pa*_a-Pa*Ia)/Ii;C(he)>2&&(he/=2),ir-=gi,Ar-=he}while((C(gi)>c||C(he)>c)&&--Rr>0);return yt*Ar>-L(x(ir),Ft)-.001?[ir*2,Ar]:null},Bt}function ue(){var Qe=20*A,at=Qe>=0?1:-1,dt=m(at*Qe),yt=(0,y.r)(ae),Ft=yt(Qe),Rt=Ft.stream;return Ft.parallel=function(Bt){return arguments.length?(dt=m((at=(Qe=Bt*A)>=0?1:-1)*Qe),yt(Qe)):Qe*E},Ft.stream=function(Bt){var hr=Ft.rotate(),yr=Rt(Bt),ir=(Ft.rotate([0,0]),Rt(Bt)),Ar=Ft.precision();return Ft.rotate(hr),yr.sphere=function(){ir.polygonStart(),ir.lineStart();for(var Rr=at*-180;at*Rr<180;Rr+=at*90)ir.point(Rr,at*90);if(Qe)for(;at*(Rr-=3*at*Ar)>=-180;)ir.point(Rr,at*-L(x(Rr*A/2),dt)*E);ir.lineEnd(),ir.polygonEnd()},yr},Ft.scale(218.695).center([0,28.0974])}function ve(Qe,at){var dt=m(at/2),yt=z(1-dt*dt),Ft=1+yt*x(Qe/=2),Rt=o(Qe)*yt/Ft,Bt=dt/Ft,hr=Rt*Rt,yr=Bt*Bt;return[1.3333333333333333*Rt*(3+hr-3*yr),1.3333333333333333*Bt*(3+3*hr-yr)]}ve.invert=function(Qe,at){if(Qe*=.375,at*=.375,!Qe&&C(at)>1)return null;var dt=Qe*Qe,yt=at*at,Ft=1+dt+yt,Rt=z((Ft-z(Ft*Ft-4*at*at))/2),Bt=P(Rt)/3,hr=Rt?N(C(at/Rt))/3:B(C(Qe))/3,yr=x(Bt),ir=_(hr),Ar=ir*ir-yr*yr;return[s(Qe)*2*L(H(hr)*yr,.25-Ar),s(at)*2*L(ir*o(Bt),.25+Ar)]};function ee(){return(0,y.Z)(ve).scale(66.1603)}var J=z(8),Q=t(1+M);function X(Qe,at){var dt=C(at);return dt<p?[Qe,t(m(p+at/2))]:[Qe*x(dt)*(2*M-1/o(dt)),s(at)*(2*M*(dt-p)-t(m(dt/2)))]}X.invert=function(Qe,at){if((Rt=C(at))<Q)return[Qe,2*a(h(at))-l];var dt=p,yt=25,Ft,Rt;do{var Bt=x(dt/2),hr=m(dt/2);dt-=Ft=(J*(dt-p)-t(hr)-Rt)/(J-Bt*Bt/(2*hr))}while(C(Ft)>b&&--yt>0);return[Qe/(x(dt)*(J-1/o(dt))),s(at)*dt]};function q(){return(0,y.Z)(X).scale(112.314)}var se=e(17889);function Y(Qe){var at=2*v/Qe;function dt(yt,Ft){var Rt=(0,se.N)(yt,Ft);if(C(yt)>l){var Bt=L(Rt[1],Rt[0]),hr=z(Rt[0]*Rt[0]+Rt[1]*Rt[1]),yr=at*i((Bt-l)/at)+l,ir=L(o(Bt-=yr),2-x(Bt));Bt=yr+P(v/hr*o(ir))-ir,Rt[0]=hr*x(Bt),Rt[1]=hr*o(Bt)}return Rt}return dt.invert=function(yt,Ft){var Rt=z(yt*yt+Ft*Ft);if(Rt>l){var Bt=L(Ft,yt),hr=at*i((Bt-l)/at)+l,yr=Bt>hr?-1:1,ir=Rt*x(hr-Bt),Ar=1/m(yr*w((ir-v)/z(v*(v-2*ir)+Rt*Rt)));Bt=hr+2*a((Ar+yr*z(Ar*Ar-3))/3),yt=Rt*x(Bt),Ft=Rt*o(Bt)}return se.N.invert(yt,Ft)},dt}function Z(){var Qe=5,at=(0,y.r)(Y),dt=at(Qe),yt=dt.stream,Ft=.01,Rt=-x(Ft*A),Bt=o(Ft*A);return dt.lobes=function(hr){return arguments.length?at(Qe=+hr):Qe},dt.stream=function(hr){var yr=dt.rotate(),ir=yt(hr),Ar=(dt.rotate([0,0]),yt(hr));return dt.rotate(yr),ir.sphere=function(){Ar.polygonStart(),Ar.lineStart();for(var Rr=0,jr=360/Qe,Qr=2*v/Qe,xn=90-180/Qe,wn=l;Rr<Qe;++Rr,xn-=jr,wn-=Qr)Ar.point(L(Bt*x(wn),Rt)*E,P(Bt*o(wn))*E),xn<-90?(Ar.point(-90,-180-xn-Ft),Ar.point(-90,-180-xn+Ft)):(Ar.point(90,xn+Ft),Ar.point(90,xn-Ft));Ar.lineEnd(),Ar.polygonEnd()},ir},dt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ie=e(12956);function te(Qe,at){if(arguments.length<2&&(at=Qe),at===1)return ie.l;if(at===1/0)return fe;function dt(yt,Ft){var Rt=(0,ie.l)(yt/at,Ft);return Rt[0]*=Qe,Rt}return dt.invert=function(yt,Ft){var Rt=ie.l.invert(yt/Qe,Ft);return Rt[0]*=at,Rt},dt}function fe(Qe,at){return[Qe*x(at)/x(at/=2),2*o(at)]}fe.invert=function(Qe,at){var dt=2*P(at/2);return[Qe*x(dt/2)/x(dt),dt]};function de(){var Qe=2,at=(0,y.r)(te),dt=at(Qe);return dt.coefficient=function(yt){return arguments.length?at(Qe=+yt):Qe},dt.scale(169.529)}function we(Qe,at,dt){var yt=100,Ft,Rt,Bt;dt=dt===void 0?0:+dt,at=+at;do Rt=Qe(dt),Bt=Qe(dt+c),Rt===Bt&&(Bt=Rt+c),dt-=Ft=-1*c*(Rt-at)/(Rt-Bt);while(yt-- >0&&C(Ft)>c);return yt<0?NaN:dt}function Ae(Qe,at,dt){return at===void 0&&(at=40),dt===void 0&&(dt=b),function(yt,Ft,Rt,Bt){var hr,yr,ir;Rt=Rt===void 0?0:+Rt,Bt=Bt===void 0?0:+Bt;for(var Ar=0;Ar<at;Ar++){var Rr=Qe(Rt,Bt),jr=Rr[0]-yt,Qr=Rr[1]-Ft;if(C(jr)<dt&&C(Qr)<dt)break;var xn=jr*jr+Qr*Qr;if(xn>hr){Rt-=yr/=2,Bt-=ir/=2;continue}hr=xn;var wn=(Rt>0?-1:1)*dt,Dn=(Bt>0?-1:1)*dt,pa=Qe(Rt+wn,Bt),Pa=Qe(Rt,Bt+Dn),Ia=(pa[0]-Rr[0])/wn,ka=(pa[1]-Rr[1])/wn,_a=(Pa[0]-Rr[0])/Dn,oi=(Pa[1]-Rr[1])/Dn,Ii=oi*Ia-ka*_a,gi=(C(Ii)<.5?.5:1)/Ii;if(yr=(Qr*_a-jr*oi)*gi,ir=(jr*ka-Qr*Ia)*gi,Rt+=yr,Bt+=ir,C(yr)<dt&&C(ir)<dt)break}return[Rt,Bt]}}function Re(){var Qe=te(1.68,2),at=1.4,dt=12;function yt(Ft,Rt){if(Ft+Rt<-at){var Bt=(Ft-Rt+1.6)*(Ft+Rt+at)/8;Ft+=Bt,Rt-=.8*Bt*o(Rt+v/2)}var hr=Qe(Ft,Rt),yr=(1-x(Ft*Rt))/dt;return hr[1]<0&&(hr[0]*=1+yr),hr[1]>0&&(hr[1]*=1+yr/1.5*hr[0]*hr[0]),hr}return yt.invert=Ae(yt),yt}function Fe(){return(0,y.Z)(Re()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Se(Qe,at){var dt=Qe*o(at),yt=30,Ft;do at-=Ft=(at+o(at)-dt)/(1+x(at));while(C(Ft)>c&&--yt>0);return at/2}function Te(Qe,at,dt){function yt(Ft,Rt){return[Qe*Ft*x(Rt=Se(dt,Rt)),at*o(Rt)]}return yt.invert=function(Ft,Rt){return Rt=P(Rt/at),[Ft/(Qe*x(Rt)),P((2*Rt+o(2*Rt))/dt)]},yt}var Ee=Te(M/l,M,v);function Ne(){return(0,y.Z)(Ee).scale(169.529)}var He=2.00276,_e=1.11072;function We(Qe,at){var dt=Se(v,at);return[He*Qe/(1/x(at)+_e/x(dt)),(at+M*o(dt))/He]}We.invert=function(Qe,at){var dt=He*at,yt=at<0?-p:p,Ft=25,Rt,Bt;do Bt=dt-M*o(yt),yt-=Rt=(o(2*yt)+2*yt-v*o(Bt))/(2*x(2*yt)+2+v*x(Bt)*M*x(yt));while(C(Rt)>c&&--Ft>0);return Bt=dt-M*o(yt),[Qe*(1/x(Bt)+_e/x(yt))/He,Bt]};function tt(){return(0,y.Z)(We).scale(160.857)}function Ke(Qe){var at=0,dt=(0,y.r)(Qe),yt=dt(at);return yt.parallel=function(Ft){return arguments.length?dt(at=Ft*A):at*E},yt}function qe(Qe,at){return[Qe*x(at),at]}qe.invert=function(Qe,at){return[Qe/x(at),at]};function rt(){return(0,y.Z)(qe).scale(152.63)}function ft(Qe){if(!Qe)return qe;var at=1/m(Qe);function dt(yt,Ft){var Rt=at+Qe-Ft,Bt=Rt&&yt*x(Ft)/Rt;return[Rt*o(Bt),at-Rt*x(Bt)]}return dt.invert=function(yt,Ft){var Rt=z(yt*yt+(Ft=at-Ft)*Ft),Bt=at+Qe-Rt;return[Rt/x(Bt)*L(yt,Ft),Bt]},dt}function pt(){return Ke(ft).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Qe){function at(dt,yt){var Ft=l-yt,Rt=Ft&&dt*Qe*o(Ft)/Ft;return[Ft*o(Rt)/Qe,l-Ft*x(Rt)]}return at.invert=function(dt,yt){var Ft=dt*Qe,Rt=l-yt,Bt=z(Ft*Ft+Rt*Rt),hr=L(Ft,Rt);return[(Bt?Bt/o(Bt):1)*hr/Qe,l-Bt]},at}function Mt(){var Qe=.5,at=(0,y.r)(gt),dt=at(Qe);return dt.fraction=function(yt){return arguments.length?at(Qe=+yt):Qe},dt.scale(158.837)}var Lt=Te(1,4/v,v);function Wt(){return(0,y.Z)(Lt).scale(152.63)}var Je=e(66624),ze=e(49386);function Oe(Qe,at,dt,yt,Ft,Rt){var Bt=x(Rt),hr;if(C(Qe)>1||C(Rt)>1)hr=w(dt*Ft+at*yt*Bt);else{var yr=o(Qe/2),ir=o(Rt/2);hr=2*P(z(yr*yr+at*yt*ir*ir))}return C(hr)>c?[hr,L(yt*o(Rt),at*Ft-dt*yt*Bt)]:[0,0]}function Ue(Qe,at,dt){return w((Qe*Qe+at*at-dt*dt)/(2*Qe*at))}function ke(Qe){return Qe-2*v*d((Qe+v)/(2*v))}function Me(Qe,at,dt){for(var yt=[[Qe[0],Qe[1],o(Qe[1]),x(Qe[1])],[at[0],at[1],o(at[1]),x(at[1])],[dt[0],dt[1],o(dt[1]),x(dt[1])]],Ft=yt[2],Rt,Bt=0;Bt<3;++Bt,Ft=Rt)Rt=yt[Bt],Ft.v=Oe(Rt[1]-Ft[1],Ft[3],Ft[2],Rt[3],Rt[2],Rt[0]-Ft[0]),Ft.point=[0,0];var hr=Ue(yt[0].v[0],yt[2].v[0],yt[1].v[0]),yr=Ue(yt[0].v[0],yt[1].v[0],yt[2].v[0]),ir=v-hr;yt[2].point[1]=0,yt[0].point[0]=-(yt[1].point[0]=yt[0].v[0]/2);var Ar=[yt[2].point[0]=yt[0].point[0]+yt[2].v[0]*x(hr),2*(yt[0].point[1]=yt[1].point[1]=yt[2].v[0]*o(hr))];function Rr(jr,Qr){var xn=o(Qr),wn=x(Qr),Dn=new Array(3),pa;for(pa=0;pa<3;++pa){var Pa=yt[pa];if(Dn[pa]=Oe(Qr-Pa[1],Pa[3],Pa[2],wn,xn,jr-Pa[0]),!Dn[pa][0])return Pa.point;Dn[pa][1]=ke(Dn[pa][1]-Pa.v[1])}var Ia=Ar.slice();for(pa=0;pa<3;++pa){var ka=pa==2?0:pa+1,_a=Ue(yt[pa].v[0],Dn[pa][0],Dn[ka][0]);Dn[pa][1]<0&&(_a=-_a),pa?pa==1?(_a=yr-_a,Ia[0]-=Dn[pa][0]*x(_a),Ia[1]-=Dn[pa][0]*o(_a)):(_a=ir-_a,Ia[0]+=Dn[pa][0]*x(_a),Ia[1]+=Dn[pa][0]*o(_a)):(Ia[0]+=Dn[pa][0]*x(_a),Ia[1]-=Dn[pa][0]*o(_a))}return Ia[0]/=3,Ia[1]/=3,Ia}return Rr}function ce(Qe){return Qe[0]*=A,Qe[1]*=A,Qe}function be(){return De([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function De(Qe,at,dt){var yt=(0,Je.Z)({type:"MultiPoint",coordinates:[Qe,at,dt]}),Ft=[-yt[0],-yt[1]],Rt=(0,ze.Z)(Ft),Bt=Me(ce(Rt(Qe)),ce(Rt(at)),ce(Rt(dt)));Bt.invert=Ae(Bt);var hr=(0,y.Z)(Bt).rotate(Ft),yr=hr.center;return delete hr.rotate,hr.center=function(ir){return arguments.length?yr(Rt(ir)):Rt.invert(yr())},hr.clipAngle(90)}function Ve(Qe,at){var dt=z(1-o(at));return[2/R*Qe*dt,R*(1-dt)]}Ve.invert=function(Qe,at){var dt=(dt=at/R-1)*dt;return[dt>0?Qe*z(v/dt)/2:0,P(1-dt)]};function it(){return(0,y.Z)(Ve).scale(95.6464).center([0,30])}function ot(Qe){var at=m(Qe);function dt(yt,Ft){return[yt,(yt?yt/o(yt):1)*(o(Ft)*x(yt)-at*x(Ft))]}return dt.invert=at?function(yt,Ft){yt&&(Ft*=o(yt)/yt);var Rt=x(yt);return[yt,2*L(z(Rt*Rt+at*at-Ft*Ft)-Rt,at-Ft)]}:function(yt,Ft){return[yt,P(yt?Ft*m(yt)/yt:Ft)]},dt}function Tt(){return Ke(ot).scale(249.828).clipAngle(90)}var It=z(3);function Ht(Qe,at){return[It*Qe*(2*x(2*at/3)-1)/R,It*R*o(at/3)]}Ht.invert=function(Qe,at){var dt=3*P(at/(It*R));return[R*Qe/(It*(2*x(2*dt/3)-1)),dt]};function Gt(){return(0,y.Z)(Ht).scale(156.19)}function Pt(Qe){var at=x(Qe);function dt(yt,Ft){return[yt*at,o(Ft)/at]}return dt.invert=function(yt,Ft){return[yt/at,P(Ft*at)]},dt}function Jt(){return Ke(Pt).parallel(38.58).scale(195.044)}function or(Qe){var at=x(Qe);function dt(yt,Ft){return[yt*at,(1+at)*m(Ft/2)]}return dt.invert=function(yt,Ft){return[yt/at,a(Ft/(1+at))*2]},dt}function zr(){return Ke(or).scale(124.75)}function mt(Qe,at){var dt=z(8/(3*v));return[dt*Qe*(1-C(at)/v),dt*at]}mt.invert=function(Qe,at){var dt=z(8/(3*v)),yt=at/dt;return[Qe/(dt*(1-C(yt)/v)),yt]};function Kt(){return(0,y.Z)(mt).scale(165.664)}function jt(Qe,at){var dt=z(4-3*o(C(at)));return[2/z(6*v)*Qe*dt,s(at)*z(2*v/3)*(2-dt)]}jt.invert=function(Qe,at){var dt=2-C(at)/z(2*v/3);return[Qe*z(6*v)/(2*dt),s(at)*P((4-dt*dt)/3)]};function wr(){return(0,y.Z)(jt).scale(165.664)}function vr(Qe,at){var dt=z(v*(4+v));return[2/dt*Qe*(1+z(1-4*at*at/(v*v))),4/dt*at]}vr.invert=function(Qe,at){var dt=z(v*(4+v))/2;return[Qe*dt/(1+z(1-at*at*(4+v)/(4*v))),at*dt/2]};function ct(){return(0,y.Z)(vr).scale(180.739)}function ut(Qe,at){var dt=(2+l)*o(at);at/=2;for(var yt=0,Ft=1/0;yt<10&&C(Ft)>c;yt++){var Rt=x(at);at-=Ft=(at+o(at)*(Rt+2)-dt)/(2*Rt*(1+Rt))}return[2/z(v*(4+v))*Qe*(1+x(at)),2*z(v/(4+v))*o(at)]}ut.invert=function(Qe,at){var dt=at*z((4+v)/v)/2,yt=P(dt),Ft=x(yt);return[Qe/(2/z(v*(4+v))*(1+Ft)),P((yt+dt*(Ft+2))/(2+l))]};function bt(){return(0,y.Z)(ut).scale(180.739)}function At(Qe,at){return[Qe*(1+x(at))/z(2+v),2*at/z(2+v)]}At.invert=function(Qe,at){var dt=z(2+v),yt=at*dt/2;return[dt*Qe/(1+x(yt)),yt]};function Ct(){return(0,y.Z)(At).scale(173.044)}function St(Qe,at){for(var dt=(1+l)*o(at),yt=0,Ft=1/0;yt<10&&C(Ft)>c;yt++)at-=Ft=(at+o(at)-dt)/(1+x(at));return dt=z(2+v),[Qe*(1+x(at))/dt,2*at/dt]}St.invert=function(Qe,at){var dt=1+l,yt=z(dt/2);return[Qe*2*yt/(1+x(at*=yt)),P((at+o(at))/dt)]};function zt(){return(0,y.Z)(St).scale(173.044)}var Vt=3+2*M;function qt(Qe,at){var dt=o(Qe/=2),yt=x(Qe),Ft=z(x(at)),Rt=x(at/=2),Bt=o(at)/(Rt+M*yt*Ft),hr=z(2/(1+Bt*Bt)),yr=z((M*Rt+(yt+dt)*Ft)/(M*Rt+(yt-dt)*Ft));return[Vt*(hr*(yr-1/yr)-2*t(yr)),Vt*(hr*Bt*(yr+1/yr)-2*a(Bt))]}qt.invert=function(Qe,at){if(!(Rt=ve.invert(Qe/1.2,at*1.065)))return null;var dt=Rt[0],yt=Rt[1],Ft=20,Rt;Qe/=Vt,at/=Vt;do{var Bt=dt/2,hr=yt/2,yr=o(Bt),ir=x(Bt),Ar=o(hr),Rr=x(hr),jr=x(yt),Qr=z(jr),xn=Ar/(Rr+M*ir*Qr),wn=xn*xn,Dn=z(2/(1+wn)),pa=M*Rr+(ir+yr)*Qr,Pa=M*Rr+(ir-yr)*Qr,Ia=pa/Pa,ka=z(Ia),_a=ka-1/ka,oi=ka+1/ka,Ii=Dn*_a-2*t(ka)-Qe,gi=Dn*xn*oi-2*a(xn)-at,he=Ar&&S*Qr*yr*wn/Ar,Pe=(M*ir*Rr+Qr)/(2*(Rr+M*ir*Qr)*(Rr+M*ir*Qr)*Qr),Ge=-.5*xn*Dn*Dn*Dn,et=Ge*he,nt=Ge*Pe,st=(st=2*Rr+M*Qr*(ir-yr))*st*ka,Dt=(M*ir*Rr*Qr+jr)/st,vt=-(M*yr*Ar)/(Qr*st),Ut=_a*et-2*Dt/ka+Dn*(Dt+Dt/Ia),tr=_a*nt-2*vt/ka+Dn*(vt+vt/Ia),rr=xn*oi*et-2*he/(1+wn)+Dn*oi*he+Dn*xn*(Dt-Dt/Ia),Pr=xn*oi*nt-2*Pe/(1+wn)+Dn*oi*Pe+Dn*xn*(vt-vt/Ia),Er=tr*rr-Pr*Ut;if(!Er)break;var Jr=(gi*tr-Ii*Pr)/Er,tn=(Ii*rr-gi*Ut)/Er;dt-=Jr,yt=r(-l,u(l,yt-tn))}while((C(Jr)>c||C(tn)>c)&&--Ft>0);return C(C(yt)-l)<c?[0,yt]:Ft&&[dt,yt]};function $t(){return(0,y.Z)(qt).scale(62.5271)}var sr=x(35*A);function Cr(Qe,at){var dt=m(at/2);return[Qe*sr*z(1-dt*dt),(1+sr)*dt]}Cr.invert=function(Qe,at){var dt=at/(1+sr);return[Qe&&Qe/(sr*z(1-dt*dt)),2*a(dt)]};function Ze(){return(0,y.Z)(Cr).scale(137.152)}function je(Qe,at){var dt=at/2,yt=x(dt);return[2*Qe/R*x(at)*yt*yt,R*m(dt)]}je.invert=function(Qe,at){var dt=a(at/R),yt=x(dt),Ft=2*dt;return[Qe*R/2/(x(Ft)*yt*yt),Ft]};function kt(){return(0,y.Z)(je).scale(135.264)}function _t(Qe){var at=1-Qe,dt=Rt(v,0)[0]-Rt(-v,0)[0],yt=Rt(0,l)[1]-Rt(0,-l)[1],Ft=z(2*yt/dt);function Rt(yr,ir){var Ar=x(ir),Rr=o(ir);return[Ar/(at+Qe*Ar)*yr,at*ir+Qe*Rr]}function Bt(yr,ir){var Ar=Rt(yr,ir);return[Ar[0]*Ft,Ar[1]/Ft]}function hr(yr){return Bt(0,yr)[1]}return Bt.invert=function(yr,ir){var Ar=we(hr,ir),Rr=yr/Ft*(Qe+at/x(Ar));return[Rr,Ar]},Bt}function Zt(){var Qe=.5,at=(0,y.r)(_t),dt=at(Qe);return dt.alpha=function(yt){return arguments.length?at(Qe=+yt):Qe},dt.scale(168.725)}var ar=e(57962),ur=e(97492);function nr(Qe){return[Qe[0]/2,P(m(Qe[1]/2*A))*E]}function Ot(Qe){return[Qe[0]*2,2*a(o(Qe[1]*A))*E]}function cr(Qe){Qe==null&&(Qe=ar.Z);var at=Qe(),dt=(0,ur.Z)().scale(E).precision(0).clipAngle(null).translate([0,0]);function yt(Rt){return at(nr(Rt))}at.invert&&(yt.invert=function(Rt){return Ot(at.invert(Rt))}),yt.stream=function(Rt){var Bt=at.stream(Rt),hr=dt.stream({point:function(yr,ir){Bt.point(yr/2,P(m(-ir/2*A))*E)},lineStart:function(){Bt.lineStart()},lineEnd:function(){Bt.lineEnd()},polygonStart:function(){Bt.polygonStart()},polygonEnd:function(){Bt.polygonEnd()}});return hr.sphere=Bt.sphere,hr};function Ft(Rt){yt[Rt]=function(){return arguments.length?(at[Rt].apply(at,arguments),yt):at[Rt]()}}return yt.rotate=function(Rt){return arguments.length?(dt.rotate(Rt),yt):dt.rotate()},yt.center=function(Rt){return arguments.length?(at.center(nr(Rt)),yt):Ot(at.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),yt.scale(249.5)}function pr(Qe,at){var dt=2*v/at,yt=Qe*Qe;function Ft(Rt,Bt){var hr=(0,se.N)(Rt,Bt),yr=hr[0],ir=hr[1],Ar=yr*yr+ir*ir;if(Ar>yt){var Rr=z(Ar),jr=L(ir,yr),Qr=dt*i(jr/dt),xn=jr-Qr,wn=Qe*x(xn),Dn=(Qe*o(xn)-xn*o(wn))/(l-wn),pa=gr(xn,Dn),Pa=(v-Qe)/dr(pa,wn,v);yr=Rr;var Ia=50,ka;do yr-=ka=(Qe+dr(pa,wn,yr)*Pa-Rr)/(pa(yr)*Pa);while(C(ka)>c&&--Ia>0);ir=xn*o(yr),yr<l&&(ir-=Dn*(yr-l));var _a=o(Qr),oi=x(Qr);hr[0]=yr*oi-ir*_a,hr[1]=yr*_a+ir*oi}return hr}return Ft.invert=function(Rt,Bt){var hr=Rt*Rt+Bt*Bt;if(hr>yt){var yr=z(hr),ir=L(Bt,Rt),Ar=dt*i(ir/dt),Rr=ir-Ar;Rt=yr*x(Rr),Bt=yr*o(Rr);for(var jr=Rt-l,Qr=o(Rt),xn=Bt/Qr,wn=Rt<l?1/0:0,Dn=10;;){var pa=Qe*o(xn),Pa=Qe*x(xn),Ia=o(Pa),ka=l-Pa,_a=(pa-xn*Ia)/ka,oi=gr(xn,_a);if(C(wn)<b||!--Dn)break;xn-=wn=(xn*Qr-_a*jr-Bt)/(Qr-jr*2*(ka*(Pa+xn*pa*x(Pa)-Ia)-pa*(pa-xn*Ia))/(ka*ka))}yr=Qe+dr(oi,Pa,Rt)*(v-Qe)/dr(oi,Pa,v),ir=Ar+xn,Rt=yr*x(ir),Bt=yr*o(ir)}return se.N.invert(Rt,Bt)},Ft}function gr(Qe,at){return function(dt){var yt=Qe*x(dt);return dt<l&&(yt-=at),z(1+yt*yt)}}function dr(Qe,at,dt){for(var yt=50,Ft=(dt-at)/yt,Rt=Qe(at)+Qe(dt),Bt=1,hr=at;Bt<yt;++Bt)Rt+=2*Qe(hr+=Ft);return Rt*.5*Ft}function Gr(){var Qe=6,at=30*A,dt=x(at),yt=o(at),Ft=(0,y.r)(pr),Rt=Ft(at,Qe),Bt=Rt.stream,hr=.01,yr=-x(hr*A),ir=o(hr*A);return Rt.radius=function(Ar){return arguments.length?(dt=x(at=Ar*A),yt=o(at),Ft(at,Qe)):at*E},Rt.lobes=function(Ar){return arguments.length?Ft(at,Qe=+Ar):Qe},Rt.stream=function(Ar){var Rr=Rt.rotate(),jr=Bt(Ar),Qr=(Rt.rotate([0,0]),Bt(Ar));return Rt.rotate(Rr),jr.sphere=function(){Qr.polygonStart(),Qr.lineStart();for(var xn=0,wn=2*v/Qe,Dn=0;xn<Qe;++xn,Dn-=wn)Qr.point(L(ir*x(Dn),yr)*E,P(ir*o(Dn))*E),Qr.point(L(yt*x(Dn-wn/2),dt)*E,P(yt*o(Dn-wn/2))*E);Qr.lineEnd(),Qr.polygonEnd()},jr},Rt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function kr(Qe,at,dt,yt,Ft,Rt,Bt,hr){arguments.length<8&&(hr=0);function yr(ir,Ar){if(!Ar)return[Qe*ir/v,0];var Rr=Ar*Ar,jr=Qe+Rr*(at+Rr*(dt+Rr*yt)),Qr=Ar*(Ft-1+Rr*(Rt-hr+Rr*Bt)),xn=(jr*jr+Qr*Qr)/(2*Qr),wn=ir*P(jr/xn)/v;return[xn*o(wn),Ar*(1+Rr*hr)+xn*(1-x(wn))]}return yr.invert=function(ir,Ar){var Rr=v*ir/Qe,jr=Ar,Qr,xn,wn=50;do{var Dn=jr*jr,pa=Qe+Dn*(at+Dn*(dt+Dn*yt)),Pa=jr*(Ft-1+Dn*(Rt-hr+Dn*Bt)),Ia=pa*pa+Pa*Pa,ka=2*Pa,_a=Ia/ka,oi=_a*_a,Ii=P(pa/_a)/v,gi=Rr*Ii,he=pa*pa,Pe=(2*at+Dn*(4*dt+Dn*6*yt))*jr,Ge=Ft+Dn*(3*Rt+Dn*5*Bt),et=2*(pa*Pe+Pa*(Ge-1)),nt=2*(Ge-1),st=(et*ka-Ia*nt)/(ka*ka),Dt=x(gi),vt=o(gi),Ut=_a*Dt,tr=_a*vt,rr=Rr/v*(1/z(1-he/oi))*(Pe*_a-pa*st)/oi,Pr=tr-ir,Er=jr*(1+Dn*hr)+_a-Ut-Ar,Jr=st*vt+Ut*rr,tn=Ut*Ii,Ir=1+st-(st*Dt-tr*rr),Hr=tr*Ii,Zr=Jr*Hr-Ir*tn;if(!Zr)break;Rr-=Qr=(Er*Jr-Pr*Ir)/Zr,jr-=xn=(Pr*Hr-Er*tn)/Zr}while((C(Qr)>c||C(xn)>c)&&--wn>0);return[Rr,jr]},yr}var Fr=kr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function gn(){return(0,y.Z)(Fr).scale(149.995)}var Kr=kr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function kn(){return(0,y.Z)(Kr).scale(153.93)}var In=kr(5/6*v,-.62636,-.0344,0,1.3493,-.05524,0,.045);function br(){return(0,y.Z)(In).scale(130.945)}function Mr(Qe,at){var dt=Qe*Qe,yt=at*at;return[Qe*(1-.162388*yt)*(.87-952426e-9*dt*dt),at*(1+yt/12)]}Mr.invert=function(Qe,at){var dt=Qe,yt=at,Ft=50,Rt;do{var Bt=yt*yt;yt-=Rt=(yt*(1+Bt/12)-at)/(1+Bt/4)}while(C(Rt)>c&&--Ft>0);Ft=50,Qe/=1-.162388*Bt;do{var hr=(hr=dt*dt)*hr;dt-=Rt=(dt*(.87-952426e-9*hr)-Qe)/(.87-.00476213*hr)}while(C(Rt)>c&&--Ft>0);return[dt,yt]};function Br(){return(0,y.Z)(Mr).scale(131.747)}var Nr=kr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function en(){return(0,y.Z)(Nr).scale(131.087)}function dn(Qe){var at=Qe(l,0)[0]-Qe(-l,0)[0];function dt(yt,Ft){var Rt=yt>0?-.5:.5,Bt=Qe(yt+Rt*v,Ft);return Bt[0]-=Rt*at,Bt}return Qe.invert&&(dt.invert=function(yt,Ft){var Rt=yt>0?-.5:.5,Bt=Qe.invert(yt+Rt*at,Ft),hr=Bt[0]-Rt*v;return hr<-v?hr+=2*v:hr>v&&(hr-=2*v),Bt[0]=hr,Bt}),dt}function cn(Qe,at){var dt=s(Qe),yt=s(at),Ft=x(at),Rt=x(Qe)*Ft,Bt=o(Qe)*Ft,hr=o(yt*at);Qe=C(L(Bt,hr)),at=P(Rt),C(Qe-l)>c&&(Qe%=l);var yr=An(Qe>v/4?l-Qe:Qe,at);return Qe>v/4&&(hr=yr[0],yr[0]=-yr[1],yr[1]=-hr),yr[0]*=dt,yr[1]*=-yt,yr}cn.invert=function(Qe,at){C(Qe)>1&&(Qe=s(Qe)*2-Qe),C(at)>1&&(at=s(at)*2-at);var dt=s(Qe),yt=s(at),Ft=-dt*Qe,Rt=-yt*at,Bt=Rt/Ft<1,hr=Rn(Bt?Rt:Ft,Bt?Ft:Rt),yr=hr[0],ir=hr[1],Ar=x(ir);return Bt&&(yr=-l-yr),[dt*(L(o(yr)*Ar,-o(ir))+v),yt*P(x(yr)*Ar)]};function An(Qe,at){if(at===l)return[0,0];var dt=o(at),yt=dt*dt,Ft=yt*yt,Rt=1+Ft,Bt=1+3*Ft,hr=1-Ft,yr=P(1/z(Rt)),ir=hr+yt*Rt*yr,Ar=(1-dt)/ir,Rr=z(Ar),jr=Ar*Rt,Qr=z(jr),xn=Rr*hr,wn,Dn;if(Qe===0)return[0,-(xn+yt*Qr)];var pa=x(at),Pa=1/pa,Ia=2*dt*pa,ka=(-3*yt+yr*Bt)*Ia,_a=(-ir*pa-(1-dt)*ka)/(ir*ir),oi=.5*_a/Rr,Ii=hr*oi-2*yt*Rr*Ia,gi=yt*Rt*_a+Ar*Bt*Ia,he=-Pa*Ia,Pe=-Pa*gi,Ge=-2*Pa*Ii,et=4*Qe/v,nt;if(Qe>.222*v||at<v/4&&Qe>.175*v){if(wn=(xn+yt*z(jr*(1+Ft)-xn*xn))/(1+Ft),Qe>v/4)return[wn,wn];var st=wn,Dt=.5*wn;wn=.5*(Dt+st),Dn=50;do{var vt=z(jr-wn*wn),Ut=wn*(Ge+he*vt)+Pe*P(wn/Qr)-et;if(!Ut)break;Ut<0?Dt=wn:st=wn,wn=.5*(Dt+st)}while(C(st-Dt)>c&&--Dn>0)}else{wn=c,Dn=25;do{var tr=wn*wn,rr=z(jr-tr),Pr=Ge+he*rr,Er=wn*Pr+Pe*P(wn/Qr)-et,Jr=Pr+(Pe-he*tr)/rr;wn-=nt=rr?Er/Jr:0}while(C(nt)>c&&--Dn>0)}return[wn,-xn-yt*z(jr-wn*wn)]}function Rn(Qe,at){for(var dt=0,yt=1,Ft=.5,Rt=50;;){var Bt=Ft*Ft,hr=z(Ft),yr=P(1/z(1+Bt)),ir=1-Bt+Ft*(1+Bt)*yr,Ar=(1-hr)/ir,Rr=z(Ar),jr=Ar*(1+Bt),Qr=Rr*(1-Bt),xn=jr-Qe*Qe,wn=z(xn),Dn=at+Qr+Ft*wn;if(C(yt-dt)<b||--Rt===0||Dn===0)break;Dn>0?dt=Ft:yt=Ft,Ft=.5*(dt+yt)}if(!Rt)return null;var pa=P(hr),Pa=x(pa),Ia=1/Pa,ka=2*hr*Pa,_a=(-3*Ft+yr*(1+3*Bt))*ka,oi=(-ir*Pa-(1-hr)*_a)/(ir*ir),Ii=.5*oi/Rr,gi=(1-Bt)*Ii-2*Ft*Rr*ka,he=-2*Ia*gi,Pe=-Ia*ka,Ge=-Ia*(Ft*(1+Bt)*oi+Ar*(1+3*Bt)*ka);return[v/4*(Qe*(he+Pe*wn)+Ge*P(Qe/z(jr))),pa]}function Jn(){return(0,y.Z)(dn(cn)).scale(239.75)}function ta(Qe,at,dt){var yt,Ft,Rt;return Qe?(yt=fa(Qe,dt),at?(Ft=fa(at,1-dt),Rt=Ft[1]*Ft[1]+dt*yt[0]*yt[0]*Ft[0]*Ft[0],[[yt[0]*Ft[2]/Rt,yt[1]*yt[2]*Ft[0]*Ft[1]/Rt],[yt[1]*Ft[1]/Rt,-yt[0]*yt[2]*Ft[0]*Ft[2]/Rt],[yt[2]*Ft[1]*Ft[2]/Rt,-dt*yt[0]*yt[1]*Ft[0]/Rt]]):[[yt[0],0],[yt[1],0],[yt[2],0]]):(Ft=fa(at,1-dt),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function fa(Qe,at){var dt,yt,Ft,Rt,Bt;if(at<c)return Rt=o(Qe),yt=x(Qe),dt=at*(Qe-Rt*yt)/4,[Rt-dt*yt,yt+dt*Rt,1-at*Rt*Rt/2,Qe-dt];if(at>=1-c)return dt=(1-at)/4,yt=_(Qe),Rt=F(Qe),Ft=1/yt,Bt=yt*H(Qe),[Rt+dt*(Bt-Qe)/(yt*yt),Ft-dt*Rt*Ft*(Bt-Qe),Ft+dt*Rt*Ft*(Bt+Qe),2*a(h(Qe))-l+dt*(Bt-Qe)/yt];var hr=[1,0,0,0,0,0,0,0,0],yr=[z(at),0,0,0,0,0,0,0,0],ir=0;for(yt=z(1-at),Bt=1;C(yr[ir]/hr[ir])>c&&ir<8;)dt=hr[ir++],yr[ir]=(dt-yt)/2,hr[ir]=(dt+yt)/2,yt=z(dt*yt),Bt*=2;Ft=Bt*hr[ir]*Qe;do Rt=yr[ir]*o(yt=Ft)/hr[ir],Ft=(P(Rt)+Ft)/2;while(--ir);return[o(Ft),Rt=x(Ft),Rt/x(Ft-yt),Ft]}function na(Qe,at,dt){var yt=C(Qe),Ft=C(at),Rt=H(Ft);if(yt){var Bt=1/o(yt),hr=1/(m(yt)*m(yt)),yr=-(hr+dt*(Rt*Rt*Bt*Bt)-1+dt),ir=(dt-1)*hr,Ar=(-yr+z(yr*yr-4*ir))/2;return[ra(a(1/z(Ar)),dt)*s(Qe),ra(a(z((Ar/hr-1)/dt)),1-dt)*s(at)]}return[0,ra(a(Rt),1-dt)*s(at)]}function ra(Qe,at){if(!at)return Qe;if(at===1)return t(m(Qe/2+p));for(var dt=1,yt=z(1-at),Ft=z(at),Rt=0;C(Ft)>c;Rt++){if(Qe%v){var Bt=a(yt*m(Qe)/dt);Bt<0&&(Bt+=v),Qe+=Bt+~~(Qe/v)*v}else Qe+=Qe;Ft=(dt+yt)/2,yt=z(dt*yt),Ft=((dt=Ft)-yt)/2}return Qe/(n(2,Rt)*dt)}function Sr(Qe,at){var dt=(M-1)/(M+1),yt=z(1-dt*dt),Ft=ra(l,yt*yt),Rt=-1,Bt=t(m(v/4+C(at)/2)),hr=h(Rt*Bt)/z(dt),yr=sn(hr*x(Rt*Qe),hr*o(Rt*Qe)),ir=na(yr[0],yr[1],yt*yt);return[-ir[1],(at>=0?1:-1)*(.5*Ft-ir[0])]}function sn(Qe,at){var dt=Qe*Qe,yt=at+1,Ft=1-dt-at*at;return[.5*((Qe>=0?l:-l)-L(Ft,2*Qe)),-.25*t(Ft*Ft+4*dt)+.5*t(yt*yt+dt)]}function an(Qe,at){var dt=at[0]*at[0]+at[1]*at[1];return[(Qe[0]*at[0]+Qe[1]*at[1])/dt,(Qe[1]*at[0]-Qe[0]*at[1])/dt]}Sr.invert=function(Qe,at){var dt=(M-1)/(M+1),yt=z(1-dt*dt),Ft=ra(l,yt*yt),Rt=-1,Bt=ta(.5*Ft-at,-Qe,yt*yt),hr=an(Bt[0],Bt[1]),yr=L(hr[1],hr[0])/Rt;return[yr,2*a(h(.5/Rt*t(dt*hr[0]*hr[0]+dt*hr[1]*hr[1])))-l]};function yn(){return(0,y.Z)(dn(Sr)).scale(151.496)}var Hn=e(7613);function Cn(Qe){var at=o(Qe),dt=x(Qe),yt=Ln(Qe);yt.invert=Ln(-Qe);function Ft(Rt,Bt){var hr=yt(Rt,Bt);Rt=hr[0],Bt=hr[1];var yr=o(Bt),ir=x(Bt),Ar=x(Rt),Rr=w(at*yr+dt*ir*Ar),jr=o(Rr),Qr=C(jr)>c?Rr/jr:1;return[Qr*dt*o(Rt),(C(Rt)>l?Qr:-Qr)*(at*ir-dt*yr*Ar)]}return Ft.invert=function(Rt,Bt){var hr=z(Rt*Rt+Bt*Bt),yr=-o(hr),ir=x(hr),Ar=hr*ir,Rr=-Bt*yr,jr=hr*at,Qr=z(Ar*Ar+Rr*Rr-jr*jr),xn=L(Ar*jr+Rr*Qr,Rr*jr-Ar*Qr),wn=(hr>l?-1:1)*L(Rt*yr,hr*x(xn)*ir+Bt*o(xn)*yr);return yt.invert(wn,xn)},Ft}function Ln(Qe){var at=o(Qe),dt=x(Qe);return function(yt,Ft){var Rt=x(Ft),Bt=x(yt)*Rt,hr=o(yt)*Rt,yr=o(Ft);return[L(hr,Bt*dt-yr*at),P(yr*dt+Bt*at)]}}function Gn(){var Qe=0,at=(0,y.r)(Cn),dt=at(Qe),yt=dt.rotate,Ft=dt.stream,Rt=(0,Hn.Z)();return dt.parallel=function(Bt){if(!arguments.length)return Qe*E;var hr=dt.rotate();return at(Qe=Bt*A).rotate(hr)},dt.rotate=function(Bt){return arguments.length?(yt.call(dt,[Bt[0],Bt[1]-Qe*E]),Rt.center([-Bt[0],-Bt[1]]),dt):(Bt=yt.call(dt),Bt[1]+=Qe*E,Bt)},dt.stream=function(Bt){return Bt=Ft(Bt),Bt.sphere=function(){Bt.polygonStart();var hr=.01,yr=Rt.radius(90-hr)().coordinates[0],ir=yr.length-1,Ar=-1,Rr;for(Bt.lineStart();++Ar<ir;)Bt.point((Rr=yr[Ar])[0],Rr[1]);for(Bt.lineEnd(),yr=Rt.radius(90+hr)().coordinates[0],ir=yr.length-1,Bt.lineStart();--Ar>=0;)Bt.point((Rr=yr[Ar])[0],Rr[1]);Bt.lineEnd(),Bt.polygonEnd()},Bt},dt.scale(79.4187).parallel(45).clipAngle(179.999)}var oa=e(33064),Da=e(72736),Xa=3,Xt=P(1-1/Xa)*E,Tr=Pt(0);function on(Qe){var at=Xt*A,dt=Ve(v,at)[0]-Ve(-v,at)[0],yt=Tr(0,at)[1],Ft=Ve(0,at)[1],Rt=R-Ft,Bt=T/Qe,hr=4/T,yr=yt+Rt*Rt*4/T;function ir(Ar,Rr){var jr,Qr=C(Rr);if(Qr>at){var xn=u(Qe-1,r(0,d((Ar+v)/Bt)));Ar+=v*(Qe-1)/Qe-xn*Bt,jr=Ve(Ar,Qr),jr[0]=jr[0]*T/dt-T*(Qe-1)/(2*Qe)+xn*T/Qe,jr[1]=yt+(jr[1]-Ft)*4*Rt/T,Rr<0&&(jr[1]=-jr[1])}else jr=Tr(Ar,Rr);return jr[0]*=hr,jr[1]/=yr,jr}return ir.invert=function(Ar,Rr){Ar/=hr,Rr*=yr;var jr=C(Rr);if(jr>yt){var Qr=u(Qe-1,r(0,d((Ar+v)/Bt)));Ar=(Ar+v*(Qe-1)/Qe-Qr*Bt)*dt/T;var xn=Ve.invert(Ar,.25*(jr-yt)*T/Rt+Ft);return xn[0]-=v*(Qe-1)/Qe-Qr*Bt,Rr<0&&(xn[1]=-xn[1]),xn}return Tr.invert(Ar,Rr)},ir}function hn(Qe,at){return[Qe,at&1?90-c:Xt]}function vn(Qe,at){return[Qe,at&1?-90+c:-Xt]}function Pn(Qe){return[Qe[0]*(1-c),Qe[1]]}function Tn(Qe){var at=[].concat((0,oa.w6)(-180,180+Qe/2,Qe).map(hn),(0,oa.w6)(180,-180-Qe/2,-Qe).map(vn));return{type:"Polygon",coordinates:[Qe===180?at.map(Pn):at]}}function fn(){var Qe=4,at=(0,y.r)(on),dt=at(Qe),yt=dt.stream;return dt.lobes=function(Ft){return arguments.length?at(Qe=+Ft):Qe},dt.stream=function(Ft){var Rt=dt.rotate(),Bt=yt(Ft),hr=(dt.rotate([0,0]),yt(Ft));return dt.rotate(Rt),Bt.sphere=function(){(0,Da.Z)(Tn(180/Qe),hr)},Bt},dt.scale(239.75)}function Dr(Qe){var at=1+Qe,dt=o(1/at),yt=P(dt),Ft=2*z(v/(Rt=v+4*yt*at)),Rt,Bt=.5*Ft*(at+z(Qe*(2+Qe))),hr=Qe*Qe,yr=at*at;function ir(Ar,Rr){var jr=1-o(Rr),Qr,xn;if(jr&&jr<2){var wn=l-Rr,Dn=25,pa;do{var Pa=o(wn),Ia=x(wn),ka=yt+L(Pa,at-Ia),_a=1+yr-2*at*Ia;wn-=pa=(wn-hr*yt-at*Pa+_a*ka-.5*jr*Rt)/(2*at*Pa*ka)}while(C(pa)>b&&--Dn>0);Qr=Ft*z(_a),xn=Ar*ka/v}else Qr=Ft*(Qe+jr),xn=Ar*yt/v;return[Qr*o(xn),Bt-Qr*x(xn)]}return ir.invert=function(Ar,Rr){var jr=Ar*Ar+(Rr-=Bt)*Rr,Qr=(1+yr-jr/(Ft*Ft))/(2*at),xn=w(Qr),wn=o(xn),Dn=yt+L(wn,at-Qr);return[P(Ar/z(jr))*v/Dn,P(1-2*(xn-hr*yt-at*wn+(1+yr-2*at*Qr)*Dn)/Rt)]},ir}function Lr(){var Qe=1,at=(0,y.r)(Dr),dt=at(Qe);return dt.ratio=function(yt){return arguments.length?at(Qe=+yt):Qe},dt.scale(167.774).center([0,18.67])}var Or=.7109889596207567,pn=.0528035274542;function _n(Qe,at){return at>-Or?(Qe=Ee(Qe,at),Qe[1]+=pn,Qe):qe(Qe,at)}_n.invert=function(Qe,at){return at>-Or?Ee.invert(Qe,at-pn):qe.invert(Qe,at)};function Yn(){return(0,y.Z)(_n).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function mn(Qe,at){return C(at)>Or?(Qe=Ee(Qe,at),Qe[1]-=at>0?pn:-pn,Qe):qe(Qe,at)}mn.invert=function(Qe,at){return C(at)>Or?Ee.invert(Qe,at+(at>0?pn:-pn)):qe.invert(Qe,at)};function On(){return(0,y.Z)(mn).scale(152.63)}function ea(Qe,at,dt,yt){var Ft=z(4*v/(2*dt+(1+Qe-at/2)*o(2*dt)+(Qe+at)/2*o(4*dt)+at/2*o(6*dt))),Rt=z(yt*o(dt)*z((1+Qe*x(2*dt)+at*x(4*dt))/(1+Qe+at))),Bt=dt*yr(1);function hr(Rr){return z(1+Qe*x(2*Rr)+at*x(4*Rr))}function yr(Rr){var jr=Rr*dt;return(2*jr+(1+Qe-at/2)*o(2*jr)+(Qe+at)/2*o(4*jr)+at/2*o(6*jr))/dt}function ir(Rr){return hr(Rr)*o(Rr)}var Ar=function(Rr,jr){var Qr=dt*we(yr,Bt*o(jr)/dt,jr/v);isNaN(Qr)&&(Qr=dt*s(jr));var xn=Ft*hr(Qr);return[xn*Rt*Rr/v*x(Qr),xn/Rt*o(Qr)]};return Ar.invert=function(Rr,jr){var Qr=we(ir,jr*Rt/Ft);return[Rr*v/(x(Qr)*Ft*Rt*hr(Qr)),P(dt*yr(Qr/dt)/Bt)]},dt===0&&(Ft=z(yt/v),Ar=function(Rr,jr){return[Rr*Ft,o(jr)/Ft]},Ar.invert=function(Rr,jr){return[Rr/Ft,P(jr*Ft)]}),Ar}function ca(){var Qe=1,at=0,dt=45*A,yt=2,Ft=(0,y.r)(ea),Rt=Ft(Qe,at,dt,yt);return Rt.a=function(Bt){return arguments.length?Ft(Qe=+Bt,at,dt,yt):Qe},Rt.b=function(Bt){return arguments.length?Ft(Qe,at=+Bt,dt,yt):at},Rt.psiMax=function(Bt){return arguments.length?Ft(Qe,at,dt=+Bt*A,yt):dt*E},Rt.ratio=function(Bt){return arguments.length?Ft(Qe,at,dt,yt=+Bt):yt},Rt.scale(180.739)}function sa(Qe,at,dt,yt,Ft,Rt,Bt,hr,yr,ir,Ar){if(Ar.nanEncountered)return NaN;var Rr,jr,Qr,xn,wn,Dn,pa,Pa,Ia,ka;if(Rr=dt-at,jr=Qe(at+Rr*.25),Qr=Qe(dt-Rr*.25),isNaN(jr)){Ar.nanEncountered=!0;return}if(isNaN(Qr)){Ar.nanEncountered=!0;return}return xn=Rr*(yt+4*jr+Ft)/12,wn=Rr*(Ft+4*Qr+Rt)/12,Dn=xn+wn,ka=(Dn-Bt)/15,ir>yr?(Ar.maxDepthCount++,Dn+ka):Math.abs(ka)<hr?Dn+ka:(pa=at+Rr*.5,Pa=sa(Qe,at,pa,yt,jr,Ft,xn,hr*.5,yr,ir+1,Ar),isNaN(Pa)?(Ar.nanEncountered=!0,NaN):(Ia=sa(Qe,pa,dt,Ft,Qr,Rt,wn,hr*.5,yr,ir+1,Ar),isNaN(Ia)?(Ar.nanEncountered=!0,NaN):Pa+Ia))}function la(Qe,at,dt,yt,Ft){var Rt={maxDepthCount:0,nanEncountered:!1};yt===void 0&&(yt=1e-8),Ft===void 0&&(Ft=20);var Bt=Qe(at),hr=Qe(.5*(at+dt)),yr=Qe(dt),ir=(Bt+4*hr+yr)*(dt-at)/6,Ar=sa(Qe,at,dt,Bt,hr,yr,ir,yt,Ft,1,Rt);return Ar}function ya(Qe,at,dt){function yt(Qr){return Qe+(1-Qe)*n(1-n(Qr,at),1/at)}function Ft(Qr){return la(yt,0,Qr,1e-4)}for(var Rt=1/Ft(1),Bt=1e3,hr=(1+1e-8)*Rt,yr=[],ir=0;ir<=Bt;ir++)yr.push(Ft(ir/Bt)*hr);function Ar(Qr){var xn=0,wn=Bt,Dn=Bt>>1;do yr[Dn]>Qr?wn=Dn:xn=Dn,Dn=xn+wn>>1;while(Dn>xn);var pa=yr[Dn+1]-yr[Dn];return pa&&(pa=(Qr-yr[Dn+1])/pa),(Dn+1+pa)/Bt}var Rr=2*Ar(1)/v*Rt/dt,jr=function(Qr,xn){var wn=Ar(C(o(xn))),Dn=yt(wn)*Qr;return wn/=Rr,[Dn,xn>=0?wn:-wn]};return jr.invert=function(Qr,xn){var wn;return xn*=Rr,C(xn)<1&&(wn=s(xn)*P(Ft(C(xn))*Rt)),[Qr/yt(C(xn)),wn]},jr}function Qi(){var Qe=0,at=2.5,dt=1.183136,yt=(0,y.r)(ya),Ft=yt(Qe,at,dt);return Ft.alpha=function(Rt){return arguments.length?yt(Qe=+Rt,at,dt):Qe},Ft.k=function(Rt){return arguments.length?yt(Qe,at=+Rt,dt):at},Ft.gamma=function(Rt){return arguments.length?yt(Qe,at,dt=+Rt):dt},Ft.scale(152.63)}function vo(Qe,at){return C(Qe[0]-at[0])<c&&C(Qe[1]-at[1])<c}function xo(Qe,at){for(var dt=-1,yt=Qe.length,Ft=Qe[0],Rt,Bt,hr,yr=[];++dt<yt;){Rt=Qe[dt],Bt=(Rt[0]-Ft[0])/at,hr=(Rt[1]-Ft[1])/at;for(var ir=0;ir<at;++ir)yr.push([Ft[0]+ir*Bt,Ft[1]+ir*hr]);Ft=Rt}return yr.push(Rt),yr}function Eo(Qe){var at=[],dt,yt,Ft,Rt,Bt,hr,yr,ir=Qe[0].length;for(yr=0;yr<ir;++yr)dt=Qe[0][yr],yt=dt[0][0],Ft=dt[0][1],Rt=dt[1][1],Bt=dt[2][0],hr=dt[2][1],at.push(xo([[yt+c,Ft+c],[yt+c,Rt-c],[Bt-c,Rt-c],[Bt-c,hr+c]],30));for(yr=Qe[1].length-1;yr>=0;--yr)dt=Qe[1][yr],yt=dt[0][0],Ft=dt[0][1],Rt=dt[1][1],Bt=dt[2][0],hr=dt[2][1],at.push(xo([[Bt-c,hr-c],[Bt-c,Rt+c],[yt+c,Rt+c],[yt+c,Ft-c]],30));return{type:"Polygon",coordinates:[(0,oa.TS)(at)]}}function bo(Qe,at,dt){var yt,Ft;function Rt(yr,ir){for(var Ar=ir<0?-1:1,Rr=at[+(ir<0)],jr=0,Qr=Rr.length-1;jr<Qr&&yr>Rr[jr][2][0];++jr);var xn=Qe(yr-Rr[jr][1][0],ir);return xn[0]+=Qe(Rr[jr][1][0],Ar*ir>Ar*Rr[jr][0][1]?Rr[jr][0][1]:ir)[0],xn}dt?Rt.invert=dt(Rt):Qe.invert&&(Rt.invert=function(yr,ir){for(var Ar=Ft[+(ir<0)],Rr=at[+(ir<0)],jr=0,Qr=Ar.length;jr<Qr;++jr){var xn=Ar[jr];if(xn[0][0]<=yr&&yr<xn[1][0]&&xn[0][1]<=ir&&ir<xn[1][1]){var wn=Qe.invert(yr-Qe(Rr[jr][1][0],0)[0],ir);return wn[0]+=Rr[jr][1][0],vo(Rt(wn[0],wn[1]),[yr,ir])?wn:null}}});var Bt=(0,y.Z)(Rt),hr=Bt.stream;return Bt.stream=function(yr){var ir=Bt.rotate(),Ar=hr(yr),Rr=(Bt.rotate([0,0]),hr(yr));return Bt.rotate(ir),Ar.sphere=function(){(0,Da.Z)(yt,Rr)},Ar},Bt.lobes=function(yr){return arguments.length?(yt=Eo(yr),at=yr.map(function(ir){return ir.map(function(Ar){return[[Ar[0][0]*A,Ar[0][1]*A],[Ar[1][0]*A,Ar[1][1]*A],[Ar[2][0]*A,Ar[2][1]*A]]})}),Ft=at.map(function(ir){return ir.map(function(Ar){var Rr=Qe(Ar[0][0],Ar[0][1])[0],jr=Qe(Ar[2][0],Ar[2][1])[0],Qr=Qe(Ar[1][0],Ar[0][1])[1],xn=Qe(Ar[1][0],Ar[1][1])[1],wn;return Qr>xn&&(wn=Qr,Qr=xn,xn=wn),[[Rr,Qr],[jr,xn]]})}),Bt):at.map(function(ir){return ir.map(function(Ar){return[[Ar[0][0]*E,Ar[0][1]*E],[Ar[1][0]*E,Ar[1][1]*E],[Ar[2][0]*E,Ar[2][1]*E]]})})},at!=null&&Bt.lobes(at),Bt}var hf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ti(){return bo(We,hf).scale(160.857)}var nu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Il(){return bo(mn,nu).scale(152.63)}var $i=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Co(){return bo(Ee,$i).scale(169.529)}var tc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function au(){return bo(Ee,tc).scale(169.529).rotate([20,0])}var Di=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function iu(){return bo(_n,Di,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var _o=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function ji(){return bo(qe,_o).scale(152.63).rotate([-20,0])}function zo(Qe,at){return[3/T*Qe*z(v*v/3-at*at),at]}zo.invert=function(Qe,at){return[T/3*Qe/z(v*v/3-at*at),at]};function po(){return(0,y.Z)(zo).scale(158.837)}function Go(Qe){function at(dt,yt){if(C(C(yt)-l)<c)return[0,yt<0?-2:2];var Ft=o(yt),Rt=n((1+Ft)/(1-Ft),Qe/2),Bt=.5*(Rt+1/Rt)+x(dt*=Qe);return[2*o(dt)/Bt,(Rt-1/Rt)/Bt]}return at.invert=function(dt,yt){var Ft=C(yt);if(C(Ft-2)<c)return dt?null:[0,s(yt)*l];if(Ft>2)return null;dt/=2,yt/=2;var Rt=dt*dt,Bt=yt*yt,hr=2*yt/(1+Rt+Bt);return hr=n((1+hr)/(1-hr),1/Qe),[L(2*dt,1-Rt-Bt)/Qe,P((hr-1)/(hr+1))]},at}function hs(){var Qe=.5,at=(0,y.r)(Go),dt=at(Qe);return dt.spacing=function(yt){return arguments.length?at(Qe=+yt):Qe},dt.scale(124.75)}var Ps=v/M;function ro(Qe,at){return[Qe*(1+z(x(at)))/2,at/(x(at/2)*x(Qe/6))]}ro.invert=function(Qe,at){var dt=C(Qe),yt=C(at),Ft=c,Rt=l;yt<Ps?Rt*=yt/Ps:Ft+=6*w(Ps/yt);for(var Bt=0;Bt<25;Bt++){var hr=o(Rt),yr=z(x(Rt)),ir=o(Rt/2),Ar=x(Rt/2),Rr=o(Ft/6),jr=x(Ft/6),Qr=.5*Ft*(1+yr)-dt,xn=Rt/(Ar*jr)-yt,wn=yr?-.25*Ft*hr/yr:0,Dn=.5*(1+yr),pa=(1+.5*Rt*ir/Ar)/(Ar*jr),Pa=Rt/Ar*(Rr/6)/(jr*jr),Ia=wn*Pa-pa*Dn,ka=(Qr*Pa-xn*Dn)/Ia,_a=(xn*wn-Qr*pa)/Ia;if(Rt-=ka,Ft-=_a,C(ka)<c&&C(_a)<c)break}return[Qe<0?-Ft:Ft,at<0?-Rt:Rt]};function rc(){return(0,y.Z)(ro).scale(97.2672)}function vs(Qe,at){var dt=Qe*Qe,yt=at*at;return[Qe*(.975534+yt*(-.119161+dt*-.0143059+yt*-.0547009)),at*(1.00384+dt*(.0802894+yt*-.02855+dt*199025e-9)+yt*(.0998909+yt*-.0491032))]}vs.invert=function(Qe,at){var dt=s(Qe)*v,yt=at/2,Ft=50;do{var Rt=dt*dt,Bt=yt*yt,hr=dt*yt,yr=dt*(.975534+Bt*(-.119161+Rt*-.0143059+Bt*-.0547009))-Qe,ir=yt*(1.00384+Rt*(.0802894+Bt*-.02855+Rt*199025e-9)+Bt*(.0998909+Bt*-.0491032))-at,Ar=.975534-Bt*(.119161+3*Rt*.0143059+Bt*.0547009),Rr=-hr*(2*.119161+4*.0547009*Bt+2*.0143059*Rt),jr=hr*(2*.0802894+4*199025e-9*Rt+2*-.02855*Bt),Qr=1.00384+Rt*(.0802894+199025e-9*Rt)+Bt*(3*(.0998909-.02855*Rt)-5*.0491032*Bt),xn=Rr*jr-Qr*Ar,wn=(ir*Rr-yr*Qr)/xn,Dn=(yr*jr-ir*Ar)/xn;dt-=wn,yt-=Dn}while((C(wn)>c||C(Dn)>c)&&--Ft>0);return Ft&&[dt,yt]};function no(){return(0,y.Z)(vs).scale(139.98)}function vf(Qe,at){return[o(Qe)/x(at),m(at)*x(Qe)]}vf.invert=function(Qe,at){var dt=Qe*Qe,yt=at*at,Ft=yt+1,Rt=dt+Ft,Bt=Qe?S*z((Rt-z(Rt*Rt-4*dt))/dt):1/z(Ft);return[P(Qe*Bt),s(at)*w(Bt)]};function Rs(){return(0,y.Z)(vf).scale(144.049).clipAngle(89.999)}function ds(Qe){var at=x(Qe),dt=m(p+Qe/2);function yt(Ft,Rt){var Bt=Rt-Qe,hr=C(Bt)<c?Ft*at:C(hr=p+Rt/2)<c||C(C(hr)-l)<c?0:Ft*Bt/t(m(hr)/dt);return[hr,Bt]}return yt.invert=function(Ft,Rt){var Bt,hr=Rt+Qe;return[C(Rt)<c?Ft/at:C(Bt=p+hr/2)<c||C(C(Bt)-l)<c?0:Ft*t(m(Bt)/dt)/Rt,hr]},yt}function df(){return Ke(ds).parallel(40).scale(158.837)}function pf(Qe,at){return[Qe,1.25*t(m(p+.4*at))]}pf.invert=function(Qe,at){return[Qe,2.5*a(h(.8*at))-.625*v]};function nh(){return(0,y.Z)(pf).scale(108.318)}function ou(Qe){var at=Qe.length-1;function dt(yt,Ft){for(var Rt=x(Ft),Bt=2/(1+Rt*x(yt)),hr=Bt*Rt*o(yt),yr=Bt*o(Ft),ir=at,Ar=Qe[ir],Rr=Ar[0],jr=Ar[1],Qr;--ir>=0;)Ar=Qe[ir],Rr=Ar[0]+hr*(Qr=Rr)-yr*jr,jr=Ar[1]+hr*jr+yr*Qr;return Rr=hr*(Qr=Rr)-yr*jr,jr=hr*jr+yr*Qr,[Rr,jr]}return dt.invert=function(yt,Ft){var Rt=20,Bt=yt,hr=Ft;do{for(var yr=at,ir=Qe[yr],Ar=ir[0],Rr=ir[1],jr=0,Qr=0,xn;--yr>=0;)ir=Qe[yr],jr=Ar+Bt*(xn=jr)-hr*Qr,Qr=Rr+Bt*Qr+hr*xn,Ar=ir[0]+Bt*(xn=Ar)-hr*Rr,Rr=ir[1]+Bt*Rr+hr*xn;jr=Ar+Bt*(xn=jr)-hr*Qr,Qr=Rr+Bt*Qr+hr*xn,Ar=Bt*(xn=Ar)-hr*Rr-yt,Rr=Bt*Rr+hr*xn-Ft;var wn=jr*jr+Qr*Qr,Dn,pa;Bt-=Dn=(Ar*jr+Rr*Qr)/wn,hr-=pa=(Rr*jr-Ar*Qr)/wn}while(C(Dn)+C(pa)>c*c&&--Rt>0);if(Rt){var Pa=z(Bt*Bt+hr*hr),Ia=2*a(Pa*.5),ka=o(Ia);return[L(Bt*ka,Pa*x(Ia)),Pa?P(hr*ka/Pa):0]}},dt}var ah=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ih=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],oh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],gf=[[.9245,0],[0,0],[.01943,0]],sh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function lh(){return fl(ah,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function nc(){return fl(ih,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function uh(){return fl(oh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function fh(){return fl(gf,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function yf(){return fl(sh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function fl(Qe,at){var dt=(0,y.Z)(ou(Qe)).rotate(at).clipAngle(90),yt=(0,ze.Z)(at),Ft=dt.center;return delete dt.rotate,dt.center=function(Rt){return arguments.length?Ft(yt(Rt)):yt.invert(Ft())},dt}var cl=z(6),kl=z(7);function Fu(Qe,at){var dt=P(7*o(at)/(3*cl));return[cl*Qe*(2*x(2*dt/3)-1)/kl,9*o(dt/3)/kl]}Fu.invert=function(Qe,at){var dt=3*P(at*kl/9);return[Qe*kl/(cl*(2*x(2*dt/3)-1)),P(o(dt)*3*cl/7)]};function ch(){return(0,y.Z)(Fu).scale(164.859)}function Ds(Qe,at){for(var dt=(1+S)*o(at),yt=at,Ft=0,Rt;Ft<25&&(yt-=Rt=(o(yt/2)+o(yt)-dt)/(.5*x(yt/2)+x(yt)),!(C(Rt)<c));Ft++);return[Qe*(1+2*x(yt)/x(yt/2))/(3*M),2*z(3)*o(yt/2)/z(2+M)]}Ds.invert=function(Qe,at){var dt=at*z(2+M)/(2*z(3)),yt=2*P(dt);return[3*M*Qe/(1+2*x(yt)/x(yt/2)),P((dt+o(yt))/(1+S))]};function ac(){return(0,y.Z)(Ds).scale(188.209)}function mf(Qe,at){for(var dt=z(6/(4+v)),yt=(1+v/4)*o(at),Ft=at/2,Rt=0,Bt;Rt<25&&(Ft-=Bt=(Ft/2+o(Ft)-yt)/(.5+x(Ft)),!(C(Bt)<c));Rt++);return[dt*(.5+x(Ft))*Qe/1.5,dt*Ft]}mf.invert=function(Qe,at){var dt=z(6/(4+v)),yt=at/dt;return C(C(yt)-l)<c&&(yt=yt<0?-l:l),[1.5*Qe/(dt*(.5+x(yt))),P((yt/2+o(yt))/(1+v/4))]};function hh(){return(0,y.Z)(mf).scale(166.518)}var Wo=e(26867);function hl(Qe,at){var dt=at*at,yt=dt*dt,Ft=dt*yt;return[Qe*(.84719-.13063*dt+Ft*Ft*(-.04515+.05494*dt-.02326*yt+.00331*Ft)),at*(1.01183+yt*yt*(-.02625+.01926*dt-.00396*yt))]}hl.invert=function(Qe,at){var dt=at,yt=25,Ft,Rt,Bt,hr;do Rt=dt*dt,Bt=Rt*Rt,dt-=Ft=(dt*(1.01183+Bt*Bt*(-.02625+.01926*Rt-.00396*Bt))-at)/(1.01183+Bt*Bt*(-.23625+.21186*Rt+-.05148*Bt));while(C(Ft)>b&&--yt>0);return Rt=dt*dt,Bt=Rt*Rt,hr=Rt*Bt,[Qe/(.84719-.13063*Rt+hr*hr*(-.04515+.05494*Rt-.02326*Bt+.00331*hr)),dt]};function su(){return(0,y.Z)(hl).scale(175.295)}function Fl(Qe,at){return[Qe*(1+x(at))/2,2*(at-m(at/2))]}Fl.invert=function(Qe,at){for(var dt=at/2,yt=0,Ft=1/0;yt<10&&C(Ft)>c;++yt){var Rt=x(at/2);at-=Ft=(at-m(at/2)-dt)/(1-.5/(Rt*Rt))}return[2*Qe/(1+x(at)),at]};function ps(){return(0,y.Z)(Fl).scale(152.63)}var Is=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function xf(){return bo(te(1/0),Is).rotate([20,0]).scale(152.63)}function _l(Qe,at){var dt=o(at),yt=x(at),Ft=s(Qe);if(Qe===0||C(at)===l)return[0,at];if(at===0)return[Qe,0];if(C(Qe)===l)return[Qe*yt,l*dt];var Rt=v/(2*Qe)-2*Qe/v,Bt=2*at/v,hr=(1-Bt*Bt)/(dt-Bt),yr=Rt*Rt,ir=hr*hr,Ar=1+yr/ir,Rr=1+ir/yr,jr=(Rt*dt/hr-Rt/2)/Ar,Qr=(ir*dt/yr+hr/2)/Rr,xn=jr*jr+yt*yt/Ar,wn=Qr*Qr-(ir*dt*dt/yr+hr*dt-1)/Rr;return[l*(jr+z(xn)*Ft),l*(Qr+z(wn<0?0:wn)*s(-at*Rt)*Ft)]}_l.invert=function(Qe,at){Qe/=l,at/=l;var dt=Qe*Qe,yt=at*at,Ft=dt+yt,Rt=v*v;return[Qe?(Ft-1+z((1-Ft)*(1-Ft)+4*dt))/(2*Qe)*l:0,we(function(Bt){return Ft*(v*o(Bt)-2*Bt)*v+4*Bt*Bt*(at-o(Bt))+2*v*Bt-Rt*at},0)]};function js(){return(0,y.Z)(_l).scale(127.267)}var zi=1.0148,bf=.23185,_u=-.14499,zl=.02406,ic=zi,oc=5*bf,Ol=7*_u,Bl=9*zl,qi=1.790857183;function zu(Qe,at){var dt=at*at;return[Qe,at*(zi+dt*dt*(bf+dt*(_u+zl*dt)))]}zu.invert=function(Qe,at){at>qi?at=qi:at<-qi&&(at=-qi);var dt=at,yt;do{var Ft=dt*dt;dt-=yt=(dt*(zi+Ft*Ft*(bf+Ft*(_u+zl*Ft)))-at)/(ic+Ft*Ft*(oc+Ft*(Ol+Bl*Ft)))}while(C(yt)>c);return[Qe,dt]};function vh(){return(0,y.Z)(zu).scale(139.319)}function wf(Qe,at){if(C(at)<c)return[Qe,0];var dt=m(at),yt=Qe*o(at);return[o(yt)/dt,at+(1-x(yt))/dt]}wf.invert=function(Qe,at){if(C(at)<c)return[Qe,0];var dt=Qe*Qe+at*at,yt=at*.5,Ft=10,Rt;do{var Bt=m(yt),hr=1/x(yt),yr=dt-2*at*yt+yt*yt;yt-=Rt=(Bt*yr+2*(yt-at))/(2+yr*hr*hr+2*(yt-at)*Bt)}while(C(Rt)>c&&--Ft>0);return Bt=m(yt),[(C(at)<C(yt+1/Bt)?P(Qe*Bt):s(at)*s(Qe)*(w(C(Qe*Bt))+l))/o(yt),yt]};function dh(){return(0,y.Z)(wf).scale(103.74)}var Ou=e(77338),lu=e(83074);function Tf(Qe,at){var dt=Mf(Qe[1],Qe[0]),yt=Mf(at[1],at[0]),Ft=Sf(dt,yt),Rt=Bu(dt)/Bu(yt);return uu([1,0,Qe[0][0],0,1,Qe[0][1]],uu([Rt,0,0,0,Rt,0],uu([x(Ft),o(Ft),0,-o(Ft),x(Ft),0],[1,0,-at[0][0],0,1,-at[0][1]])))}function Af(Qe){var at=1/(Qe[0]*Qe[4]-Qe[1]*Qe[3]);return[at*Qe[4],-at*Qe[1],at*(Qe[1]*Qe[5]-Qe[2]*Qe[4]),-at*Qe[3],at*Qe[0],at*(Qe[2]*Qe[3]-Qe[0]*Qe[5])]}function uu(Qe,at){return[Qe[0]*at[0]+Qe[1]*at[3],Qe[0]*at[1]+Qe[1]*at[4],Qe[0]*at[2]+Qe[1]*at[5]+Qe[2],Qe[3]*at[0]+Qe[4]*at[3],Qe[3]*at[1]+Qe[4]*at[4],Qe[3]*at[2]+Qe[4]*at[5]+Qe[5]]}function Mf(Qe,at){return[Qe[0]-at[0],Qe[1]-at[1]]}function Bu(Qe){return z(Qe[0]*Qe[0]+Qe[1]*Qe[1])}function Sf(Qe,at){return L(Qe[0]*at[1]-Qe[1]*at[0],Qe[0]*at[0]+Qe[1]*at[1])}function pi(Qe,at,dt){yt(Qe,{transform:null});function yt(ir,Ar){if(ir.edges=vl(ir.face),Ar.face){var Rr=ir.shared=Nl(ir.face,Ar.face),jr=Tf(Rr.map(Ar.project),Rr.map(ir.project));ir.transform=Ar.transform?uu(Ar.transform,jr):jr;for(var Qr=Ar.edges,xn=0,wn=Qr.length;xn<wn;++xn)es(Rr[0],Qr[xn][1])&&es(Rr[1],Qr[xn][0])&&(Qr[xn]=ir),es(Rr[0],Qr[xn][0])&&es(Rr[1],Qr[xn][1])&&(Qr[xn]=ir);for(Qr=ir.edges,xn=0,wn=Qr.length;xn<wn;++xn)es(Rr[0],Qr[xn][0])&&es(Rr[1],Qr[xn][1])&&(Qr[xn]=Ar),es(Rr[0],Qr[xn][1])&&es(Rr[1],Qr[xn][0])&&(Qr[xn]=Ar)}else ir.transform=Ar.transform;return ir.children&&ir.children.forEach(function(Dn){yt(Dn,ir)}),ir}function Ft(ir,Ar){var Rr=at(ir,Ar),jr=Rr.project([ir*E,Ar*E]),Qr;return(Qr=Rr.transform)?[Qr[0]*jr[0]+Qr[1]*jr[1]+Qr[2],-(Qr[3]*jr[0]+Qr[4]*jr[1]+Qr[5])]:(jr[1]=-jr[1],jr)}Ef(Qe)&&(Ft.invert=function(ir,Ar){var Rr=Rt(Qe,[ir,-Ar]);return Rr&&(Rr[0]*=A,Rr[1]*=A,Rr)});function Rt(ir,Ar){var Rr=ir.project.invert,jr=ir.transform,Qr=Ar;if(jr&&(jr=Af(jr),Qr=[jr[0]*Qr[0]+jr[1]*Qr[1]+jr[2],jr[3]*Qr[0]+jr[4]*Qr[1]+jr[5]]),Rr&&ir===Bt(xn=Rr(Qr)))return xn;for(var xn,wn=ir.children,Dn=0,pa=wn&&wn.length;Dn<pa;++Dn)if(xn=Rt(wn[Dn],Ar))return xn}function Bt(ir){return at(ir[0]*A,ir[1]*A)}var hr=(0,y.Z)(Ft),yr=hr.stream;return hr.stream=function(ir){var Ar=hr.rotate(),Rr=yr(ir),jr=(hr.rotate([0,0]),yr(ir));return hr.rotate(Ar),Rr.sphere=function(){jr.polygonStart(),jr.lineStart(),sc(jr,Qe),jr.lineEnd(),jr.polygonEnd()},Rr},hr.angle(dt==null?-30:dt*E)}function sc(Qe,at,dt){var yt,Ft=at.edges,Rt=Ft.length,Bt,hr={type:"MultiPoint",coordinates:at.face},yr=at.face.filter(function(wn){return C(wn[1])!==90}),ir=(0,Ou.Z)({type:"MultiPoint",coordinates:yr}),Ar=!1,Rr=-1,jr=ir[1][0]-ir[0][0],Qr=jr===180||jr===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,Je.Z)(hr);if(dt)for(;++Rr<Rt&&Ft[Rr]!==dt;);++Rr;for(var xn=0;xn<Rt;++xn)Bt=Ft[(xn+Rr)%Rt],Array.isArray(Bt)?(Ar||(Qe.point((yt=(0,lu.Z)(Bt[0],Qr)(c))[0],yt[1]),Ar=!0),Qe.point((yt=(0,lu.Z)(Bt[1],Qr)(c))[0],yt[1])):(Ar=!1,Bt!==dt&&sc(Qe,Bt,at))}function es(Qe,at){return Qe&&at&&Qe[0]===at[0]&&Qe[1]===at[1]}function Nl(Qe,at){for(var dt,yt,Ft=Qe.length,Rt=null,Bt=0;Bt<Ft;++Bt){dt=Qe[Bt];for(var hr=at.length;--hr>=0;)if(yt=at[hr],dt[0]===yt[0]&&dt[1]===yt[1]){if(Rt)return[Rt,dt];Rt=dt}}}function vl(Qe){for(var at=Qe.length,dt=[],yt=Qe[at-1],Ft=0;Ft<at;++Ft)dt.push([yt,yt=Qe[Ft]]);return dt}function Ef(Qe){return Qe.project.invert||Qe.children&&Qe.children.some(Ef)}var Ni=e(98936),fu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Lo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Qe){return Qe.map(function(at){return fu[at]})});function ks(Qe){Qe=Qe||function(dt){var yt=(0,Je.Z)({type:"MultiPoint",coordinates:dt});return(0,Ni.Z)().scale(1).translate([0,0]).rotate([-yt[0],-yt[1]])};var at=Lo.map(function(dt){return{face:dt,project:Qe(dt)}});return[-1,0,0,1,0,1,4,5].forEach(function(dt,yt){var Ft=at[dt];Ft&&(Ft.children||(Ft.children=[])).push(at[yt])}),pi(at[0],function(dt,yt){return at[dt<-v/2?yt<0?6:4:dt<0?yt<0?2:0:dt<v/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Fs=2/z(3);function Zs(Qe,at){var dt=Ve(Qe,at);return[dt[0]*Fs,dt[1]]}Zs.invert=function(Qe,at){return Ve.invert(Qe/Fs,at)};function Xs(Qe){Qe=Qe||function(dt){var yt=(0,Je.Z)({type:"MultiPoint",coordinates:dt});return(0,y.Z)(Zs).translate([0,0]).scale(1).rotate(yt[1]>0?[-yt[0],0]:[180-yt[0],180])};var at=Lo.map(function(dt){return{face:dt,project:Qe(dt)}});return[-1,0,0,1,0,1,4,5].forEach(function(dt,yt){var Ft=at[dt];Ft&&(Ft.children||(Ft.children=[])).push(at[yt])}),pi(at[0],function(dt,yt){return at[dt<-v/2?yt<0?6:4:dt<0?yt<0?2:0:dt<v/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Ks(Qe){Qe=Qe||function(Bt){var hr=Bt.length===6?(0,Je.Z)({type:"MultiPoint",coordinates:Bt}):Bt[0];return(0,Ni.Z)().scale(1).translate([0,0]).rotate([-hr[0],-hr[1]])};var at=Lo.map(function(Bt){for(var hr=Bt.map(hu),yr=hr.length,ir=hr[yr-1],Ar,Rr=[],jr=0;jr<yr;++jr)Ar=hr[jr],Rr.push(cu([ir[0]*.9486832980505138+Ar[0]*.31622776601683794,ir[1]*.9486832980505138+Ar[1]*.31622776601683794,ir[2]*.9486832980505138+Ar[2]*.31622776601683794]),cu([Ar[0]*.9486832980505138+ir[0]*.31622776601683794,Ar[1]*.9486832980505138+ir[1]*.31622776601683794,Ar[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Ar;return Rr}),dt=[],yt=[-1,0,0,1,0,1,4,5];at.forEach(function(Bt,hr){for(var yr=Lo[hr],ir=yr.length,Ar=dt[hr]=[],Rr=0;Rr<ir;++Rr)at.push([yr[Rr],Bt[(Rr*2+2)%(2*ir)],Bt[(Rr*2+1)%(2*ir)]]),yt.push(hr),Ar.push(gs(hu(Bt[(Rr*2+2)%(2*ir)]),hu(Bt[(Rr*2+1)%(2*ir)])))});var Ft=at.map(function(Bt){return{project:Qe(Bt),face:Bt}});yt.forEach(function(Bt,hr){var yr=Ft[Bt];yr&&(yr.children||(yr.children=[])).push(Ft[hr])});function Rt(Bt,hr){var yr=x(hr),ir=[yr*x(Bt),yr*o(Bt),o(hr)],Ar=Bt<-v/2?hr<0?6:4:Bt<0?hr<0?2:0:Bt<v/2?hr<0?3:1:hr<0?7:5,Rr=dt[Ar];return Ft[ts(Rr[0],ir)<0?8+3*Ar:ts(Rr[1],ir)<0?8+3*Ar+1:ts(Rr[2],ir)<0?8+3*Ar+2:Ar]}return pi(Ft[0],Rt).angle(-30).scale(110.625).center([0,45])}function ts(Qe,at){for(var dt=0,yt=Qe.length,Ft=0;dt<yt;++dt)Ft+=Qe[dt]*at[dt];return Ft}function gs(Qe,at){return[Qe[1]*at[2]-Qe[2]*at[1],Qe[2]*at[0]-Qe[0]*at[2],Qe[0]*at[1]-Qe[1]*at[0]]}function cu(Qe){return[L(Qe[1],Qe[0])*E,P(r(-1,u(1,Qe[2])))*E]}function hu(Qe){var at=Qe[0]*A,dt=Qe[1]*A,yt=x(dt);return[yt*x(at),yt*o(at),o(dt)]}function Nu(){}function ph(Qe){if((dt=Qe.length)<4)return!1;for(var at=0,dt,yt=Qe[dt-1][1]*Qe[0][0]-Qe[dt-1][0]*Qe[0][1];++at<dt;)yt+=Qe[at-1][1]*Qe[at][0]-Qe[at-1][0]*Qe[at][1];return yt<=0}function gh(Qe,at){for(var dt=at[0],yt=at[1],Ft=!1,Rt=0,Bt=Qe.length,hr=Bt-1;Rt<Bt;hr=Rt++){var yr=Qe[Rt],ir=yr[0],Ar=yr[1],Rr=Qe[hr],jr=Rr[0],Qr=Rr[1];Ar>yt^Qr>yt&&dt<(jr-ir)*(yt-Ar)/(Qr-Ar)+ir&&(Ft=!Ft)}return Ft}function yh(Qe,at){var dt=at.stream,yt;if(!dt)throw new Error("invalid projection");switch(Qe&&Qe.type){case"Feature":yt=Uu;break;case"FeatureCollection":yt=mh;break;default:yt=Ul;break}return yt(Qe,dt)}function mh(Qe,at){return{type:"FeatureCollection",features:Qe.features.map(function(dt){return Uu(dt,at)})}}function Uu(Qe,at){return{type:"Feature",id:Qe.id,properties:Qe.properties,geometry:Ul(Qe.geometry,at)}}function lc(Qe,at){return{type:"GeometryCollection",geometries:Qe.geometries.map(function(dt){return Ul(dt,at)})}}function Ul(Qe,at){if(!Qe)return null;if(Qe.type==="GeometryCollection")return lc(Qe,at);var dt;switch(Qe.type){case"Point":dt=vu;break;case"MultiPoint":dt=vu;break;case"LineString":dt=dl;break;case"MultiLineString":dt=dl;break;case"Polygon":dt=du;break;case"MultiPolygon":dt=du;break;case"Sphere":dt=du;break;default:return null}return(0,Da.Z)(Qe,at(dt)),dt.result()}var ao=[],Po=[],vu={point:function(Qe,at){ao.push([Qe,at])},result:function(){var Qe=ao.length?ao.length<2?{type:"Point",coordinates:ao[0]}:{type:"MultiPoint",coordinates:ao}:null;return ao=[],Qe}},dl={lineStart:Nu,point:function(Qe,at){ao.push([Qe,at])},lineEnd:function(){ao.length&&(Po.push(ao),ao=[])},result:function(){var Qe=Po.length?Po.length<2?{type:"LineString",coordinates:Po[0]}:{type:"MultiLineString",coordinates:Po}:null;return Po=[],Qe}},du={polygonStart:Nu,lineStart:Nu,point:function(Qe,at){ao.push([Qe,at])},lineEnd:function(){var Qe=ao.length;if(Qe){do ao.push(ao[0].slice());while(++Qe<4);Po.push(ao),ao=[]}},polygonEnd:Nu,result:function(){if(!Po.length)return null;var Qe=[],at=[];return Po.forEach(function(dt){ph(dt)?Qe.push([dt]):at.push(dt)}),at.forEach(function(dt){var yt=dt[0];Qe.some(function(Ft){if(gh(Ft[0],yt))return Ft.push(dt),!0})||Qe.push([dt])}),Po=[],Qe.length?Qe.length>1?{type:"MultiPolygon",coordinates:Qe}:{type:"Polygon",coordinates:Qe[0]}:null}};function Hu(Qe){var at=Qe(l,0)[0]-Qe(-l,0)[0];function dt(yt,Ft){var Rt=C(yt)<l,Bt=Qe(Rt?yt:yt>0?yt-v:yt+v,Ft),hr=(Bt[0]-Bt[1])*S,yr=(Bt[0]+Bt[1])*S;if(Rt)return[hr,yr];var ir=at*S,Ar=hr>0^yr>0?-1:1;return[Ar*hr-s(yr)*ir,Ar*yr-s(hr)*ir]}return Qe.invert&&(dt.invert=function(yt,Ft){var Rt=(yt+Ft)*S,Bt=(Ft-yt)*S,hr=C(Rt)<.5*at&&C(Bt)<.5*at;if(!hr){var yr=at*S,ir=Rt>0^Bt>0?-1:1,Ar=-ir*yt+(Bt>0?1:-1)*yr,Rr=-ir*Ft+(Rt>0?1:-1)*yr;Rt=(-Ar-Rr)*S,Bt=(Ar-Rr)*S}var jr=Qe.invert(Rt,Bt);return hr||(jr[0]+=Rt>0?v:-v),jr}),(0,y.Z)(dt).rotate([-90,-90,45]).clipAngle(179.999)}function xh(){return Hu(cn).scale(176.423)}function uc(){return Hu(Sr).scale(111.48)}function fc(Qe,at){if(!(0<=(at=+at)&&at<=20))throw new Error("invalid digits");function dt(ir){var Ar=ir.length,Rr=2,jr=new Array(Ar);for(jr[0]=+ir[0].toFixed(at),jr[1]=+ir[1].toFixed(at);Rr<Ar;)jr[Rr]=ir[Rr],++Rr;return jr}function yt(ir){return ir.map(dt)}function Ft(ir){for(var Ar=dt(ir[0]),Rr=[Ar],jr=1;jr<ir.length;jr++){var Qr=dt(ir[jr]);(Qr.length>2||Qr[0]!=Ar[0]||Qr[1]!=Ar[1])&&(Rr.push(Qr),Ar=Qr)}return Rr.length===1&&ir.length>1&&Rr.push(dt(ir[ir.length-1])),Rr}function Rt(ir){return ir.map(Ft)}function Bt(ir){if(ir==null)return ir;var Ar;switch(ir.type){case"GeometryCollection":Ar={type:"GeometryCollection",geometries:ir.geometries.map(Bt)};break;case"Point":Ar={type:"Point",coordinates:dt(ir.coordinates)};break;case"MultiPoint":Ar={type:ir.type,coordinates:yt(ir.coordinates)};break;case"LineString":Ar={type:ir.type,coordinates:Ft(ir.coordinates)};break;case"MultiLineString":case"Polygon":Ar={type:ir.type,coordinates:Rt(ir.coordinates)};break;case"MultiPolygon":Ar={type:"MultiPolygon",coordinates:ir.coordinates.map(Rt)};break;default:return ir}return ir.bbox!=null&&(Ar.bbox=ir.bbox),Ar}function hr(ir){var Ar={type:"Feature",properties:ir.properties,geometry:Bt(ir.geometry)};return ir.id!=null&&(Ar.id=ir.id),ir.bbox!=null&&(Ar.bbox=ir.bbox),Ar}if(Qe!=null)switch(Qe.type){case"Feature":return hr(Qe);case"FeatureCollection":{var yr={type:"FeatureCollection",features:Qe.features.map(hr)};return Qe.bbox!=null&&(yr.bbox=Qe.bbox),yr}default:return Bt(Qe)}return Qe}function Cf(Qe){var at=o(Qe);function dt(yt,Ft){var Rt=at?m(yt*at/2)/at:yt/2;if(!Ft)return[2*Rt,-Qe];var Bt=2*a(Rt*o(Ft)),hr=1/m(Ft);return[o(Bt)*hr,Ft+(1-x(Bt))*hr-Qe]}return dt.invert=function(yt,Ft){if(C(Ft+=Qe)<c)return[at?2*a(at*yt/2)/at:yt,0];var Rt=yt*yt+Ft*Ft,Bt=0,hr=10,yr;do{var ir=m(Bt),Ar=1/x(Bt),Rr=Rt-2*Ft*Bt+Bt*Bt;Bt-=yr=(ir*Rr+2*(Bt-Ft))/(2+Rr*Ar*Ar+2*(Bt-Ft)*ir)}while(C(yr)>c&&--hr>0);var jr=yt*(ir=m(Bt)),Qr=m(C(Ft)<C(Bt+1/ir)?P(jr)*.5:w(jr)*.5+v/4)/o(Bt);return[at?2*a(at*Qr)/at:2*Qr,Bt]},dt}function Js(){return Ke(Cf).scale(131.215)}var Ui=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ui.forEach(function(Qe){Qe[1]*=1.0144});function ys(Qe,at){var dt=u(18,C(at)*36/v),yt=d(dt),Ft=dt-yt,Rt=(Rr=Ui[yt])[0],Bt=Rr[1],hr=(Rr=Ui[++yt])[0],yr=Rr[1],ir=(Rr=Ui[u(19,++yt)])[0],Ar=Rr[1],Rr;return[Qe*(hr+Ft*(ir-Rt)/2+Ft*Ft*(ir-2*hr+Rt)/2),(at>0?l:-l)*(yr+Ft*(Ar-Bt)/2+Ft*Ft*(Ar-2*yr+Bt)/2)]}ys.invert=function(Qe,at){var dt=at/l,yt=dt*90,Ft=u(18,C(yt/5)),Rt=r(0,d(Ft));do{var Bt=Ui[Rt][1],hr=Ui[Rt+1][1],yr=Ui[u(19,Rt+2)][1],ir=yr-Bt,Ar=yr-2*hr+Bt,Rr=2*(C(dt)-hr)/ir,jr=Ar/ir,Qr=Rr*(1-jr*Rr*(1-2*jr*Rr));if(Qr>=0||Rt===1){yt=(at>=0?5:-5)*(Qr+Ft);var xn=50,wn;do Ft=u(18,C(yt)/5),Rt=d(Ft),Qr=Ft-Rt,Bt=Ui[Rt][1],hr=Ui[Rt+1][1],yr=Ui[u(19,Rt+2)][1],yt-=(wn=(at>=0?l:-l)*(hr+Qr*(yr-Bt)/2+Qr*Qr*(yr-2*hr+Bt)/2)-at)*E;while(C(wn)>b&&--xn>0);break}}while(--Rt>=0);var Dn=Ui[Rt][0],pa=Ui[Rt+1][0],Pa=Ui[u(19,Rt+2)][0];return[Qe/(pa+Qr*(Pa-Dn)/2+Qr*Qr*(Pa-2*pa+Dn)/2),yt*A]};function Lf(){return(0,y.Z)(ys).scale(152.63)}function cc(Qe){function at(dt,yt){var Ft=x(yt),Rt=(Qe-1)/(Qe-Ft*x(dt));return[Rt*Ft*o(dt),Rt*o(yt)]}return at.invert=function(dt,yt){var Ft=dt*dt+yt*yt,Rt=z(Ft),Bt=(Qe-z(1-Ft*(Qe+1)/(Qe-1)))/((Qe-1)/Rt+Rt/(Qe-1));return[L(dt*Bt,Rt*z(1-Bt*Bt)),Rt?P(yt*Bt/Rt):0]},at}function pl(Qe,at){var dt=cc(Qe);if(!at)return dt;var yt=x(at),Ft=o(at);function Rt(Bt,hr){var yr=dt(Bt,hr),ir=yr[1],Ar=ir*Ft/(Qe-1)+yt;return[yr[0]*yt/Ar,ir/Ar]}return Rt.invert=function(Bt,hr){var yr=(Qe-1)/(Qe-1-hr*Ft);return dt.invert(yr*Bt,yr*hr*yt)},Rt}function Vu(){var Qe=2,at=0,dt=(0,y.r)(pl),yt=dt(Qe,at);return yt.distance=function(Ft){return arguments.length?dt(Qe=+Ft,at):Qe},yt.tilt=function(Ft){return arguments.length?dt(Qe,at=Ft*A):at*E},yt.scale(432.147).clipAngle(w(1/Qe)*E-1e-6)}var rs=1e-4,Gu=1e4,_s=-180,zs=_s+rs,Pf=180,Hl=Pf-rs,ui=-90,yl=ui+rs,Wu=90,Yu=Wu-rs;function Qs(Qe){return Qe.length>0}function bh(Qe){return Math.floor(Qe*Gu)/Gu}function Rf(Qe){return Qe===ui||Qe===Wu?[0,Qe]:[_s,bh(Qe)]}function Vl(Qe){var at=Qe[0],dt=Qe[1],yt=!1;return at<=zs?(at=_s,yt=!0):at>=Hl&&(at=Pf,yt=!0),dt<=yl?(dt=ui,yt=!0):dt>=Yu&&(dt=Wu,yt=!0),yt?[at,dt]:Qe}function Df(Qe){return Qe.map(Vl)}function hc(Qe,at,dt){for(var yt=0,Ft=Qe.length;yt<Ft;++yt){var Rt=Qe[yt].slice();dt.push({index:-1,polygon:at,ring:Rt});for(var Bt=0,hr=Rt.length;Bt<hr;++Bt){var yr=Rt[Bt],ir=yr[0],Ar=yr[1];if(ir<=zs||ir>=Hl||Ar<=yl||Ar>=Yu){Rt[Bt]=Vl(yr);for(var Rr=Bt+1;Rr<hr;++Rr){var jr=Rt[Rr],Qr=jr[0],xn=jr[1];if(Qr>zs&&Qr<Hl&&xn>yl&&xn<Yu)break}if(Rr===Bt+1)continue;if(Bt){var wn={index:-1,polygon:at,ring:Rt.slice(0,Bt+1)};wn.ring[wn.ring.length-1]=Rf(Ar),dt[dt.length-1]=wn}else dt.pop();if(Rr>=hr)break;dt.push({index:-1,polygon:at,ring:Rt=Rt.slice(Rr-1)}),Rt[0]=Rf(Rt[0][1]),Bt=-1,hr=Rt.length}}}}function Os(Qe){var at,dt=Qe.length,yt={},Ft={},Rt,Bt,hr,yr,ir;for(at=0;at<dt;++at){if(Rt=Qe[at],Bt=Rt.ring[0],yr=Rt.ring[Rt.ring.length-1],Bt[0]===yr[0]&&Bt[1]===yr[1]){Rt.polygon.push(Rt.ring),Qe[at]=null;continue}Rt.index=at,yt[Bt]=Ft[yr]=Rt}for(at=0;at<dt;++at)if(Rt=Qe[at],Rt){if(Bt=Rt.ring[0],yr=Rt.ring[Rt.ring.length-1],hr=Ft[Bt],ir=yt[yr],delete yt[Bt],delete Ft[yr],Bt[0]===yr[0]&&Bt[1]===yr[1]){Rt.polygon.push(Rt.ring);continue}hr?(delete Ft[Bt],delete yt[hr.ring[0]],hr.ring.pop(),Qe[hr.index]=null,Rt={index:-1,polygon:hr.polygon,ring:hr.ring.concat(Rt.ring)},hr===ir?Rt.polygon.push(Rt.ring):(Rt.index=dt++,Qe.push(yt[Rt.ring[0]]=Ft[Rt.ring[Rt.ring.length-1]]=Rt))):ir?(delete yt[yr],delete Ft[ir.ring[ir.ring.length-1]],Rt.ring.pop(),Rt={index:dt++,polygon:ir.polygon,ring:Rt.ring.concat(ir.ring)},Qe[ir.index]=null,Qe.push(yt[Rt.ring[0]]=Ft[Rt.ring[Rt.ring.length-1]]=Rt)):(Rt.ring.push(Rt.ring[0]),Rt.polygon.push(Rt.ring))}}function $s(Qe){var at={type:"Feature",geometry:ml(Qe.geometry)};return Qe.id!=null&&(at.id=Qe.id),Qe.bbox!=null&&(at.bbox=Qe.bbox),Qe.properties!=null&&(at.properties=Qe.properties),at}function ml(Qe){if(Qe==null)return Qe;var at,dt,yt,Ft;switch(Qe.type){case"GeometryCollection":at={type:"GeometryCollection",geometries:Qe.geometries.map(ml)};break;case"Point":at={type:"Point",coordinates:Vl(Qe.coordinates)};break;case"MultiPoint":case"LineString":at={type:Qe.type,coordinates:Df(Qe.coordinates)};break;case"MultiLineString":at={type:"MultiLineString",coordinates:Qe.coordinates.map(Df)};break;case"Polygon":{var Rt=[];hc(Qe.coordinates,Rt,dt=[]),Os(dt),at={type:"Polygon",coordinates:Rt};break}case"MultiPolygon":{dt=[],yt=-1,Ft=Qe.coordinates.length;for(var Bt=new Array(Ft);++yt<Ft;)hc(Qe.coordinates[yt],Bt[yt]=[],dt);Os(dt),at={type:"MultiPolygon",coordinates:Bt.filter(Qs)};break}default:return Qe}return Qe.bbox!=null&&(at.bbox=Qe.bbox),at}function xl(Qe){if(Qe==null)return Qe;switch(Qe.type){case"Feature":return $s(Qe);case"FeatureCollection":{var at={type:"FeatureCollection",features:Qe.features.map($s)};return Qe.bbox!=null&&(at.bbox=Qe.bbox),at}default:return ml(Qe)}}function Ro(Qe,at){var dt=m(at/2),yt=o(p*dt);return[Qe*(.74482-.34588*yt*yt),1.70711*dt]}Ro.invert=function(Qe,at){var dt=at/1.70711,yt=o(p*dt);return[Qe/(.74482-.34588*yt*yt),2*a(dt)]};function Oo(){return(0,y.Z)(Ro).scale(146.153)}function bl(Qe,at,dt){var yt=(0,lu.Z)(at,dt),Ft=yt(.5),Rt=(0,ze.Z)([-Ft[0],-Ft[1]])(at),Bt=yt.distance/2,hr=-P(o(Rt[1]*A)/o(Bt)),yr=[-Ft[0],-Ft[1],-(Rt[0]>0?v-hr:hr)*E],ir=(0,y.Z)(Qe(Bt)).rotate(yr),Ar=(0,ze.Z)(yr),Rr=ir.center;return delete ir.rotate,ir.center=function(jr){return arguments.length?Rr(Ar(jr)):Ar.invert(Rr())},ir.clipAngle(90)}function vc(Qe){var at=x(Qe);function dt(yt,Ft){var Rt=(0,Ni.M)(yt,Ft);return Rt[0]*=at,Rt}return dt.invert=function(yt,Ft){return Ni.M.invert(yt/at,Ft)},dt}function Gl(){return ju([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ju(Qe,at){return bl(vc,Qe,at)}function dc(Qe){if(!(Qe*=2))return se.N;var at=-Qe/2,dt=-at,yt=Qe*Qe,Ft=m(dt),Rt=.5/o(dt);function Bt(hr,yr){var ir=w(x(yr)*x(hr-at)),Ar=w(x(yr)*x(hr-dt)),Rr=yr<0?-1:1;return ir*=ir,Ar*=Ar,[(ir-Ar)/(2*Qe),Rr*z(4*yt*Ar-(yt-ir+Ar)*(yt-ir+Ar))/(2*Qe)]}return Bt.invert=function(hr,yr){var ir=yr*yr,Ar=x(z(ir+(jr=hr+at)*jr)),Rr=x(z(ir+(jr=hr+dt)*jr)),jr,Qr;return[L(Qr=Ar-Rr,jr=(Ar+Rr)*Ft),(yr<0?-1:1)*w(z(jr*jr+Qr*Qr)*Rt)]},Bt}function ns(){return If([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function If(Qe,at){return bl(dc,Qe,at)}function qs(Qe,at){if(C(at)<c)return[Qe,0];var dt=C(at/l),yt=P(dt);if(C(Qe)<c||C(C(at)-l)<c)return[0,s(at)*v*m(yt/2)];var Ft=x(yt),Rt=C(v/Qe-Qe/v)/2,Bt=Rt*Rt,hr=Ft/(dt+Ft-1),yr=hr*(2/dt-1),ir=yr*yr,Ar=ir+Bt,Rr=hr-ir,jr=Bt+hr;return[s(Qe)*v*(Rt*Rr+z(Bt*Rr*Rr-Ar*(hr*hr-ir)))/Ar,s(at)*v*(yr*jr-Rt*z((Bt+1)*Ar-jr*jr))/Ar]}qs.invert=function(Qe,at){if(C(at)<c)return[Qe,0];if(C(Qe)<c)return[0,l*o(2*a(at/v))];var dt=(Qe/=v)*Qe,yt=(at/=v)*at,Ft=dt+yt,Rt=Ft*Ft,Bt=-C(at)*(1+Ft),hr=Bt-2*yt+dt,yr=-2*Bt+1+2*yt+Rt,ir=yt/yr+(2*hr*hr*hr/(yr*yr*yr)-9*Bt*hr/(yr*yr))/27,Ar=(Bt-hr*hr/(3*yr))/yr,Rr=2*z(-Ar/3),jr=w(3*ir/(Ar*Rr))/3;return[v*(Ft-1+z(1+2*(dt-yt)+Rt))/(2*Qe),s(at)*v*(-Rr*x(jr+v/3)-hr/(3*yr))]};function pu(){return(0,y.Z)(qs).scale(79.4183)}function Bs(Qe,at){if(C(at)<c)return[Qe,0];var dt=C(at/l),yt=P(dt);if(C(Qe)<c||C(C(at)-l)<c)return[0,s(at)*v*m(yt/2)];var Ft=x(yt),Rt=C(v/Qe-Qe/v)/2,Bt=Rt*Rt,hr=Ft*(z(1+Bt)-Rt*Ft)/(1+Bt*dt*dt);return[s(Qe)*v*hr,s(at)*v*z(1-hr*(2*Rt+hr))]}Bs.invert=function(Qe,at){if(!Qe)return[0,l*o(2*a(at/v))];var dt=C(Qe/v),yt=(1-dt*dt-(at/=v)*at)/(2*dt),Ft=yt*yt,Rt=z(Ft+1);return[s(Qe)*v*(Rt-yt),s(at)*l*o(2*L(z((1-2*yt*dt)*(yt+Rt)-dt),z(Rt+yt+dt)))]};function wh(){return(0,y.Z)(Bs).scale(79.4183)}function kf(Qe,at){if(C(at)<c)return[Qe,0];var dt=at/l,yt=P(dt);if(C(Qe)<c||C(C(at)-l)<c)return[0,v*m(yt/2)];var Ft=(v/Qe-Qe/v)/2,Rt=dt/(1+x(yt));return[v*(s(Qe)*z(Ft*Ft+1-Rt*Rt)-Ft),v*Rt]}kf.invert=function(Qe,at){if(!at)return[Qe,0];var dt=at/v,yt=(v*v*(1-dt*dt)-Qe*Qe)/(2*v*Qe);return[Qe?v*(s(Qe)*z(yt*yt+1)-yt):0,l*o(2*a(dt))]};function Zu(){return(0,y.Z)(kf).scale(79.4183)}function go(Qe,at){if(!at)return[Qe,0];var dt=C(at);if(!Qe||dt===l)return[0,at];var yt=dt/l,Ft=yt*yt,Rt=(8*yt-Ft*(Ft+2)-5)/(2*Ft*(yt-1)),Bt=Rt*Rt,hr=yt*Rt,yr=Ft+Bt+2*hr,ir=yt+3*Rt,Ar=Qe/l,Rr=Ar+1/Ar,jr=s(C(Qe)-l)*z(Rr*Rr-4),Qr=jr*jr,xn=yr*(Ft+Bt*Qr-1)+(1-Ft)*(Ft*(ir*ir+4*Bt)+12*hr*Bt+4*Bt*Bt),wn=(jr*(yr+Bt-1)+2*z(xn))/(4*yr+Qr);return[s(Qe)*l*wn,s(at)*l*z(1+jr*C(wn)-wn*wn)]}go.invert=function(Qe,at){var dt;if(!Qe||!at)return[Qe,at];at/=v;var yt=s(Qe)*Qe/l,Ft=(yt*yt-1+4*at*at)/C(yt),Rt=Ft*Ft,Bt=2*at,hr=50;do{var yr=Bt*Bt,ir=(8*Bt-yr*(yr+2)-5)/(2*yr*(Bt-1)),Ar=(3*Bt-yr*Bt-10)/(2*yr*Bt),Rr=ir*ir,jr=Bt*ir,Qr=Bt+ir,xn=Qr*Qr,wn=Bt+3*ir,Dn=xn*(yr+Rr*Rt-1)+(1-yr)*(yr*(wn*wn+4*Rr)+Rr*(12*jr+4*Rr)),pa=-2*Qr*(4*jr*Rr+(1-4*yr+3*yr*yr)*(1+Ar)+Rr*(-6+14*yr-Rt+(-8+8*yr-2*Rt)*Ar)+jr*(-8+12*yr+(-10+10*yr-Rt)*Ar)),Pa=z(Dn),Ia=Ft*(xn+Rr-1)+2*Pa-yt*(4*xn+Rt),ka=Ft*(2*ir*Ar+2*Qr*(1+Ar))+pa/Pa-8*Qr*(Ft*(-1+Rr+xn)+2*Pa)*(1+Ar)/(Rt+4*xn);Bt-=dt=Ia/ka}while(dt>c&&--hr>0);return[s(Qe)*(z(Ft*Ft+4)+Ft)*v/4,l*Bt]};function pc(){return(0,y.Z)(go).scale(127.16)}function gu(Qe,at,dt,yt,Ft){function Rt(Bt,hr){var yr=dt*o(yt*hr),ir=z(1-yr*yr),Ar=z(2/(1+ir*x(Bt*=Ft)));return[Qe*ir*Ar*o(Bt),at*yr*Ar]}return Rt.invert=function(Bt,hr){var yr=Bt/Qe,ir=hr/at,Ar=z(yr*yr+ir*ir),Rr=2*P(Ar/2);return[L(Bt*m(Rr),Qe*Ar)/Ft,Ar&&P(hr*o(Rr)/(at*dt*Ar))/yt]},Rt}function ms(Qe,at,dt,yt){var Ft=v/3;Qe=r(Qe,c),at=r(at,c),Qe=u(Qe,l),at=u(at,v-c),dt=r(dt,0),dt=u(dt,100-c),yt=r(yt,c);var Rt=dt/100+1,Bt=yt/100,hr=w(Rt*x(Ft))/Ft,yr=o(Qe)/o(hr*l),ir=at/v,Ar=z(Bt*o(Qe/2)/o(at/2)),Rr=Ar/z(ir*yr*hr),jr=1/(Ar*z(ir*yr*hr));return gu(Rr,jr,yr,hr,ir)}function yu(){var Qe=65*A,at=60*A,dt=20,yt=200,Ft=(0,y.r)(ms),Rt=Ft(Qe,at,dt,yt);return Rt.poleline=function(Bt){return arguments.length?Ft(Qe=+Bt*A,at,dt,yt):Qe*E},Rt.parallels=function(Bt){return arguments.length?Ft(Qe,at=+Bt*A,dt,yt):at*E},Rt.inflation=function(Bt){return arguments.length?Ft(Qe,at,dt=+Bt,yt):dt},Rt.ratio=function(Bt){return arguments.length?Ft(Qe,at,dt,yt=+Bt):yt},Rt.scale(163.775)}function el(){return yu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Xu=4*v+3*z(3),gc=2*z(2*v*z(3)/Xu),Ff=Te(gc*z(3)/v,gc,Xu/6);function _f(){return(0,y.Z)(Ff).scale(176.84)}function wl(Qe,at){return[Qe*z(1-3*at*at/(v*v)),at]}wl.invert=function(Qe,at){return[Qe/z(1-3*at*at/(v*v)),at]};function Ku(){return(0,y.Z)(wl).scale(152.63)}function mu(Qe,at){var dt=x(at),yt=x(Qe)*dt,Ft=1-yt,Rt=x(Qe=L(o(Qe)*dt,-o(at))),Bt=o(Qe);return dt=z(1-yt*yt),[Bt*dt-Rt*Ft,-Rt*dt-Bt*Ft]}mu.invert=function(Qe,at){var dt=(Qe*Qe+at*at)/-2,yt=z(-dt*(2+dt)),Ft=at*dt+Qe*yt,Rt=Qe*dt-at*yt,Bt=z(Rt*Rt+Ft*Ft);return[L(yt*Ft,Bt*(1+dt)),Bt?-P(yt*Rt/Bt):0]};function yc(){return(0,y.Z)(mu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function xu(Qe,at){var dt=K(Qe,at);return[(dt[0]+Qe/l)/2,(dt[1]+at)/2]}xu.invert=function(Qe,at){var dt=Qe,yt=at,Ft=25;do{var Rt=x(yt),Bt=o(yt),hr=o(2*yt),yr=Bt*Bt,ir=Rt*Rt,Ar=o(dt),Rr=x(dt/2),jr=o(dt/2),Qr=jr*jr,xn=1-ir*Rr*Rr,wn=xn?w(Rt*Rr)*z(Dn=1/xn):Dn=0,Dn,pa=.5*(2*wn*Rt*jr+dt/l)-Qe,Pa=.5*(wn*Bt+yt)-at,Ia=.5*Dn*(ir*Qr+wn*Rt*Rr*yr)+.5/l,ka=Dn*(Ar*hr/4-wn*Bt*jr),_a=.125*Dn*(hr*jr-wn*Bt*ir*Ar),oi=.5*Dn*(yr*Rr+wn*Qr*Rt)+.5,Ii=ka*_a-oi*Ia,gi=(Pa*ka-pa*oi)/Ii,he=(pa*_a-Pa*Ia)/Ii;dt-=gi,yt-=he}while((C(gi)>c||C(he)>c)&&--Ft>0);return[dt,yt]};function mc(){return(0,y.Z)(xu).scale(158.837)}},33940:function(W,V,e){e.d(V,{Z:function(){return y}});function y(){return new C}function C(){this.reset()}C.prototype={constructor:C,reset:function(){this.s=this.t=0},add:function(x){L(a,x,this.t),L(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new C;function L(x,h,d){var t=x.s=h+d,r=t-h,u=t-r;x.t=h-u+(d-r)}},97860:function(W,V,e){e.d(V,{L9:function(){return x},ZP:function(){return b},gL:function(){return i}});var y=e(33940),C=e(39695),a=e(73182),L=e(72736),x=(0,y.Z)(),h=(0,y.Z)(),d,t,r,u,n,i={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){x.reset(),i.lineStart=s,i.lineEnd=o},polygonEnd:function(){var v=+x;h.add(v<0?C.BZ+v:v),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){h.add(C.BZ)}};function s(){i.point=m}function o(){c(d,t)}function m(v,l){i.point=c,d=v,t=l,v*=C.uR,l*=C.uR,r=v,u=(0,C.mC)(l=l/2+C.pu),n=(0,C.O$)(l)}function c(v,l){v*=C.uR,l*=C.uR,l=l/2+C.pu;var p=v-r,S=p>=0?1:-1,M=S*p,R=(0,C.mC)(l),T=(0,C.O$)(l),E=n*T,A=u*R+E*(0,C.mC)(M),f=E*S*(0,C.O$)(M);x.add((0,C.fv)(f,A)),r=v,u=R,n=T}function b(v){return h.reset(),(0,L.Z)(v,i),h*2}},77338:function(W,V,e){e.d(V,{Z:function(){return P}});var y=e(33940),C=e(97860),a=e(7620),L=e(39695),x=e(72736),h,d,t,r,u,n,i,s,o=(0,y.Z)(),m,c,b={point:v,lineStart:p,lineEnd:S,polygonStart:function(){b.point=M,b.lineStart=R,b.lineEnd=T,o.reset(),C.gL.polygonStart()},polygonEnd:function(){C.gL.polygonEnd(),b.point=v,b.lineStart=p,b.lineEnd=S,C.L9<0?(h=-(t=180),d=-(r=90)):o>L.Ho?r=90:o<-L.Ho&&(d=-90),c[0]=h,c[1]=t},sphere:function(){h=-(t=180),d=-(r=90)}};function v(w,z){m.push(c=[h=w,t=w]),z<d&&(d=z),z>r&&(r=z)}function l(w,z){var F=(0,a.Og)([w*L.uR,z*L.uR]);if(s){var H=(0,a.T5)(s,F),_=[H[1],-H[0],0],B=(0,a.T5)(_,H);(0,a.iJ)(B),B=(0,a.Y1)(B);var N=w-u,O=N>0?1:-1,U=B[0]*L.RW*O,K,re=(0,L.Wn)(N)>180;re^(O*u<U&&U<O*w)?(K=B[1]*L.RW,K>r&&(r=K)):(U=(U+360)%360-180,re^(O*u<U&&U<O*w)?(K=-B[1]*L.RW,K<d&&(d=K)):(z<d&&(d=z),z>r&&(r=z))),re?w<u?E(h,w)>E(h,t)&&(t=w):E(w,t)>E(h,t)&&(h=w):t>=h?(w<h&&(h=w),w>t&&(t=w)):w>u?E(h,w)>E(h,t)&&(t=w):E(w,t)>E(h,t)&&(h=w)}else m.push(c=[h=w,t=w]);z<d&&(d=z),z>r&&(r=z),s=F,u=w}function p(){b.point=l}function S(){c[0]=h,c[1]=t,b.point=v,s=null}function M(w,z){if(s){var F=w-u;o.add((0,L.Wn)(F)>180?F+(F>0?360:-360):F)}else n=w,i=z;C.gL.point(w,z),l(w,z)}function R(){C.gL.lineStart()}function T(){M(n,i),C.gL.lineEnd(),(0,L.Wn)(o)>L.Ho&&(h=-(t=180)),c[0]=h,c[1]=t,s=null}function E(w,z){return(z-=w)<0?z+360:z}function A(w,z){return w[0]-z[0]}function f(w,z){return w[0]<=w[1]?w[0]<=z&&z<=w[1]:z<w[0]||w[1]<z}function P(w){var z,F,H,_,B,N,O;if(r=t=-(h=d=1/0),m=[],(0,x.Z)(w,b),F=m.length){for(m.sort(A),z=1,H=m[0],B=[H];z<F;++z)_=m[z],f(H,_[0])||f(H,_[1])?(E(H[0],_[1])>E(H[0],H[1])&&(H[1]=_[1]),E(_[0],H[1])>E(H[0],H[1])&&(H[0]=_[0])):B.push(H=_);for(N=-1/0,F=B.length-1,z=0,H=B[F];z<=F;H=_,++z)_=B[z],(O=E(H[1],_[0]))>N&&(N=O,h=_[0],t=H[1])}return m=c=null,h===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,d],[t,r]]}},7620:function(W,V,e){e.d(V,{Og:function(){return a},T:function(){return d},T5:function(){return x},Y1:function(){return C},iJ:function(){return t},j9:function(){return L},s0:function(){return h}});var y=e(39695);function C(r){return[(0,y.fv)(r[1],r[0]),(0,y.ZR)(r[2])]}function a(r){var u=r[0],n=r[1],i=(0,y.mC)(n);return[i*(0,y.mC)(u),i*(0,y.O$)(u),(0,y.O$)(n)]}function L(r,u){return r[0]*u[0]+r[1]*u[1]+r[2]*u[2]}function x(r,u){return[r[1]*u[2]-r[2]*u[1],r[2]*u[0]-r[0]*u[2],r[0]*u[1]-r[1]*u[0]]}function h(r,u){r[0]+=u[0],r[1]+=u[1],r[2]+=u[2]}function d(r,u){return[r[0]*u,r[1]*u,r[2]*u]}function t(r){var u=(0,y._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=u,r[1]/=u,r[2]/=u}},66624:function(W,V,e){e.d(V,{Z:function(){return F}});var y=e(39695),C=e(73182),a=e(72736),L,x,h,d,t,r,u,n,i,s,o,m,c,b,v,l,p={sphere:C.Z,point:S,lineStart:R,lineEnd:A,polygonStart:function(){p.lineStart=f,p.lineEnd=P},polygonEnd:function(){p.lineStart=R,p.lineEnd=A}};function S(H,_){H*=y.uR,_*=y.uR;var B=(0,y.mC)(_);M(B*(0,y.mC)(H),B*(0,y.O$)(H),(0,y.O$)(_))}function M(H,_,B){++L,h+=(H-h)/L,d+=(_-d)/L,t+=(B-t)/L}function R(){p.point=T}function T(H,_){H*=y.uR,_*=y.uR;var B=(0,y.mC)(_);b=B*(0,y.mC)(H),v=B*(0,y.O$)(H),l=(0,y.O$)(_),p.point=E,M(b,v,l)}function E(H,_){H*=y.uR,_*=y.uR;var B=(0,y.mC)(_),N=B*(0,y.mC)(H),O=B*(0,y.O$)(H),U=(0,y.O$)(_),K=(0,y.fv)((0,y._b)((K=v*U-l*O)*K+(K=l*N-b*U)*K+(K=b*O-v*N)*K),b*N+v*O+l*U);x+=K,r+=K*(b+(b=N)),u+=K*(v+(v=O)),n+=K*(l+(l=U)),M(b,v,l)}function A(){p.point=S}function f(){p.point=w}function P(){z(m,c),p.point=S}function w(H,_){m=H,c=_,H*=y.uR,_*=y.uR,p.point=z;var B=(0,y.mC)(_);b=B*(0,y.mC)(H),v=B*(0,y.O$)(H),l=(0,y.O$)(_),M(b,v,l)}function z(H,_){H*=y.uR,_*=y.uR;var B=(0,y.mC)(_),N=B*(0,y.mC)(H),O=B*(0,y.O$)(H),U=(0,y.O$)(_),K=v*U-l*O,re=l*N-b*U,ae=b*O-v*N,ue=(0,y._b)(K*K+re*re+ae*ae),ve=(0,y.ZR)(ue),ee=ue&&-ve/ue;i+=ee*K,s+=ee*re,o+=ee*ae,x+=ve,r+=ve*(b+(b=N)),u+=ve*(v+(v=O)),n+=ve*(l+(l=U)),M(b,v,l)}function F(H){L=x=h=d=t=r=u=n=i=s=o=0,(0,a.Z)(H,p);var _=i,B=s,N=o,O=_*_+B*B+N*N;return O<y.aW&&(_=r,B=u,N=n,x<y.Ho&&(_=h,B=d,N=t),O=_*_+B*B+N*N,O<y.aW)?[NaN,NaN]:[(0,y.fv)(B,_)*y.RW,(0,y.ZR)(N/(0,y._b)(O))*y.RW]}},7613:function(W,V,e){e.d(V,{m:function(){return x},Z:function(){return d}});var y=e(7620);function C(t){return function(){return t}}var a=e(39695),L=e(49386);function x(t,r,u,n,i,s){if(u){var o=(0,a.mC)(r),m=(0,a.O$)(r),c=n*u;i==null?(i=r+n*a.BZ,s=r-c/2):(i=h(o,i),s=h(o,s),(n>0?i<s:i>s)&&(i+=n*a.BZ));for(var b,v=i;n>0?v>s:v<s;v-=c)b=(0,y.Y1)([o,-m*(0,a.mC)(v),-m*(0,a.O$)(v)]),t.point(b[0],b[1])}}function h(t,r){r=(0,y.Og)(r),r[0]-=t,(0,y.iJ)(r);var u=(0,a.Kh)(-r[1]);return((-r[2]<0?-u:u)+a.BZ-a.Ho)%a.BZ}function d(){var t=C([0,0]),r=C(90),u=C(6),n,i,s={point:o};function o(c,b){n.push(c=i(c,b)),c[0]*=a.RW,c[1]*=a.RW}function m(){var c=t.apply(this,arguments),b=r.apply(this,arguments)*a.uR,v=u.apply(this,arguments)*a.uR;return n=[],i=(0,L.I)(-c[0]*a.uR,-c[1]*a.uR,0).invert,x(s,b,v,1),c={type:"Polygon",coordinates:[n]},n=i=null,c}return m.center=function(c){return arguments.length?(t=typeof c=="function"?c:C([+c[0],+c[1]]),m):t},m.radius=function(c){return arguments.length?(r=typeof c=="function"?c:C(+c),m):r},m.precision=function(c){return arguments.length?(u=typeof c=="function"?c:C(+c),m):u},m}},87070:function(W,V,e){var y=e(97023),C=e(39695);V.Z=(0,y.Z)(function(){return!0},a,x,[-C.pi,-C.ou]);function a(h){var d=NaN,t=NaN,r=NaN,u;return{lineStart:function(){h.lineStart(),u=1},point:function(n,i){var s=n>0?C.pi:-C.pi,o=(0,C.Wn)(n-d);(0,C.Wn)(o-C.pi)<C.Ho?(h.point(d,t=(t+i)/2>0?C.ou:-C.ou),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(s,t),h.point(n,t),u=0):r!==s&&o>=C.pi&&((0,C.Wn)(d-r)<C.Ho&&(d-=r*C.Ho),(0,C.Wn)(n-s)<C.Ho&&(n-=s*C.Ho),t=L(d,t,n,i),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(s,t),u=0),h.point(d=n,t=i),r=s},lineEnd:function(){h.lineEnd(),d=t=NaN},clean:function(){return 2-u}}}function L(h,d,t,r){var u,n,i=(0,C.O$)(h-t);return(0,C.Wn)(i)>C.Ho?(0,C.z4)(((0,C.O$)(d)*(n=(0,C.mC)(r))*(0,C.O$)(t)-(0,C.O$)(r)*(u=(0,C.mC)(d))*(0,C.O$)(h))/(u*n*i)):(d+r)/2}function x(h,d,t,r){var u;if(h==null)u=t*C.ou,r.point(-C.pi,u),r.point(0,u),r.point(C.pi,u),r.point(C.pi,0),r.point(C.pi,-u),r.point(0,-u),r.point(-C.pi,-u),r.point(-C.pi,0),r.point(-C.pi,u);else if((0,C.Wn)(h[0]-d[0])>C.Ho){var n=h[0]<d[0]?C.pi:-C.pi;u=t*n/2,r.point(-n,u),r.point(0,u),r.point(n,u)}else r.point(d[0],d[1])}},85272:function(W,V,e){e.d(V,{Z:function(){return C}});var y=e(73182);function C(){var a=[],L;return{point:function(x,h,d){L.push([x,h,d])},lineStart:function(){a.push(L=[])},lineEnd:y.Z,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var x=a;return a=[],L=null,x}}}},1457:function(W,V,e){e.d(V,{Z:function(){return h}});var y=e(7620),C=e(7613),a=e(39695),L=e(67108),x=e(97023);function h(d){var t=(0,a.mC)(d),r=6*a.uR,u=t>0,n=(0,a.Wn)(t)>a.Ho;function i(b,v,l,p){(0,C.m)(p,d,r,l,b,v)}function s(b,v){return(0,a.mC)(b)*(0,a.mC)(v)>t}function o(b){var v,l,p,S,M;return{lineStart:function(){S=p=!1,M=1},point:function(R,T){var E=[R,T],A,f=s(R,T),P=u?f?0:c(R,T):f?c(R+(R<0?a.pi:-a.pi),T):0;if(!v&&(S=p=f)&&b.lineStart(),f!==p&&(A=m(v,E),(!A||(0,L.Z)(v,A)||(0,L.Z)(E,A))&&(E[2]=1)),f!==p)M=0,f?(b.lineStart(),A=m(E,v),b.point(A[0],A[1])):(A=m(v,E),b.point(A[0],A[1],2),b.lineEnd()),v=A;else if(n&&v&&u^f){var w;!(P&l)&&(w=m(E,v,!0))&&(M=0,u?(b.lineStart(),b.point(w[0][0],w[0][1]),b.point(w[1][0],w[1][1]),b.lineEnd()):(b.point(w[1][0],w[1][1]),b.lineEnd(),b.lineStart(),b.point(w[0][0],w[0][1],3)))}f&&(!v||!(0,L.Z)(v,E))&&b.point(E[0],E[1]),v=E,p=f,l=P},lineEnd:function(){p&&b.lineEnd(),v=null},clean:function(){return M|(S&&p)<<1}}}function m(b,v,l){var p=(0,y.Og)(b),S=(0,y.Og)(v),M=[1,0,0],R=(0,y.T5)(p,S),T=(0,y.j9)(R,R),E=R[0],A=T-E*E;if(!A)return!l&&b;var f=t*T/A,P=-t*E/A,w=(0,y.T5)(M,R),z=(0,y.T)(M,f),F=(0,y.T)(R,P);(0,y.s0)(z,F);var H=w,_=(0,y.j9)(z,H),B=(0,y.j9)(H,H),N=_*_-B*((0,y.j9)(z,z)-1);if(!(N<0)){var O=(0,a._b)(N),U=(0,y.T)(H,(-_-O)/B);if((0,y.s0)(U,z),U=(0,y.Y1)(U),!l)return U;var K=b[0],re=v[0],ae=b[1],ue=v[1],ve;re<K&&(ve=K,K=re,re=ve);var ee=re-K,J=(0,a.Wn)(ee-a.pi)<a.Ho,Q=J||ee<a.Ho;if(!J&&ue<ae&&(ve=ae,ae=ue,ue=ve),Q?J?ae+ue>0^U[1]<((0,a.Wn)(U[0]-K)<a.Ho?ae:ue):ae<=U[1]&&U[1]<=ue:ee>a.pi^(K<=U[0]&&U[0]<=re)){var X=(0,y.T)(H,(-_+O)/B);return(0,y.s0)(X,z),[U,(0,y.Y1)(X)]}}}function c(b,v){var l=u?d:a.pi-d,p=0;return b<-l?p|=1:b>l&&(p|=2),v<-l?p|=4:v>l&&(p|=8),p}return(0,x.Z)(s,o,i,u?[0,-d]:[-a.pi,d-a.pi])}},97023:function(W,V,e){e.d(V,{Z:function(){return h}});var y=e(85272),C=e(46225),a=e(39695),L=e(23071),x=e(33064);function h(r,u,n,i){return function(s){var o=u(s),m=(0,y.Z)(),c=u(m),b=!1,v,l,p,S={point:M,lineStart:T,lineEnd:E,polygonStart:function(){S.point=A,S.lineStart=f,S.lineEnd=P,l=[],v=[]},polygonEnd:function(){S.point=M,S.lineStart=T,S.lineEnd=E,l=(0,x.TS)(l);var w=(0,L.Z)(v,i);l.length?(b||(s.polygonStart(),b=!0),(0,C.Z)(l,t,w,n,s)):w&&(b||(s.polygonStart(),b=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),b&&(s.polygonEnd(),b=!1),l=v=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function M(w,z){r(w,z)&&s.point(w,z)}function R(w,z){o.point(w,z)}function T(){S.point=R,o.lineStart()}function E(){S.point=M,o.lineEnd()}function A(w,z){p.push([w,z]),c.point(w,z)}function f(){c.lineStart(),p=[]}function P(){A(p[0][0],p[0][1]),c.lineEnd();var w=c.clean(),z=m.result(),F,H=z.length,_,B,N;if(p.pop(),v.push(p),p=null,!!H){if(w&1){if(B=z[0],(_=B.length-1)>0){for(b||(s.polygonStart(),b=!0),s.lineStart(),F=0;F<_;++F)s.point((N=B[F])[0],N[1]);s.lineEnd()}return}H>1&&w&2&&z.push(z.pop().concat(z.shift())),l.push(z.filter(d))}}return S}}function d(r){return r.length>1}function t(r,u){return((r=r.x)[0]<0?r[1]-a.ou-a.Ho:a.ou-r[1])-((u=u.x)[0]<0?u[1]-a.ou-a.Ho:a.ou-u[1])}},87605:function(W,V,e){e.d(V,{Z:function(){return t}});var y=e(39695),C=e(85272);function a(r,u,n,i,s,o){var m=r[0],c=r[1],b=u[0],v=u[1],l=0,p=1,S=b-m,M=v-c,R;if(R=n-m,!(!S&&R>0)){if(R/=S,S<0){if(R<l)return;R<p&&(p=R)}else if(S>0){if(R>p)return;R>l&&(l=R)}if(R=s-m,!(!S&&R<0)){if(R/=S,S<0){if(R>p)return;R>l&&(l=R)}else if(S>0){if(R<l)return;R<p&&(p=R)}if(R=i-c,!(!M&&R>0)){if(R/=M,M<0){if(R<l)return;R<p&&(p=R)}else if(M>0){if(R>p)return;R>l&&(l=R)}if(R=o-c,!(!M&&R<0)){if(R/=M,M<0){if(R>p)return;R>l&&(l=R)}else if(M>0){if(R<l)return;R<p&&(p=R)}return l>0&&(r[0]=m+l*S,r[1]=c+l*M),p<1&&(u[0]=m+p*S,u[1]=c+p*M),!0}}}}}var L=e(46225),x=e(33064),h=1e9,d=-h;function t(r,u,n,i){function s(v,l){return r<=v&&v<=n&&u<=l&&l<=i}function o(v,l,p,S){var M=0,R=0;if(v==null||(M=m(v,p))!==(R=m(l,p))||b(v,l)<0^p>0)do S.point(M===0||M===3?r:n,M>1?i:u);while((M=(M+p+4)%4)!==R);else S.point(l[0],l[1])}function m(v,l){return(0,y.Wn)(v[0]-r)<y.Ho?l>0?0:3:(0,y.Wn)(v[0]-n)<y.Ho?l>0?2:1:(0,y.Wn)(v[1]-u)<y.Ho?l>0?1:0:l>0?3:2}function c(v,l){return b(v.x,l.x)}function b(v,l){var p=m(v,1),S=m(l,1);return p!==S?p-S:p===0?l[1]-v[1]:p===1?v[0]-l[0]:p===2?v[1]-l[1]:l[0]-v[0]}return function(v){var l=v,p=(0,C.Z)(),S,M,R,T,E,A,f,P,w,z,F,H={point:_,lineStart:U,lineEnd:K,polygonStart:N,polygonEnd:O};function _(ae,ue){s(ae,ue)&&l.point(ae,ue)}function B(){for(var ae=0,ue=0,ve=M.length;ue<ve;++ue)for(var ee=M[ue],J=1,Q=ee.length,X=ee[0],q,se,Y=X[0],Z=X[1];J<Q;++J)q=Y,se=Z,X=ee[J],Y=X[0],Z=X[1],se<=i?Z>i&&(Y-q)*(i-se)>(Z-se)*(r-q)&&++ae:Z<=i&&(Y-q)*(i-se)<(Z-se)*(r-q)&&--ae;return ae}function N(){l=p,S=[],M=[],F=!0}function O(){var ae=B(),ue=F&&ae,ve=(S=(0,x.TS)(S)).length;(ue||ve)&&(v.polygonStart(),ue&&(v.lineStart(),o(null,null,1,v),v.lineEnd()),ve&&(0,L.Z)(S,c,ae,o,v),v.polygonEnd()),l=v,S=M=R=null}function U(){H.point=re,M&&M.push(R=[]),z=!0,w=!1,f=P=NaN}function K(){S&&(re(T,E),A&&w&&p.rejoin(),S.push(p.result())),H.point=_,w&&l.lineEnd()}function re(ae,ue){var ve=s(ae,ue);if(M&&R.push([ae,ue]),z)T=ae,E=ue,A=ve,z=!1,ve&&(l.lineStart(),l.point(ae,ue));else if(ve&&w)l.point(ae,ue);else{var ee=[f=Math.max(d,Math.min(h,f)),P=Math.max(d,Math.min(h,P))],J=[ae=Math.max(d,Math.min(h,ae)),ue=Math.max(d,Math.min(h,ue))];a(ee,J,r,u,n,i)?(w||(l.lineStart(),l.point(ee[0],ee[1])),l.point(J[0],J[1]),ve||l.lineEnd(),F=!1):ve&&(l.lineStart(),l.point(ae,ue),F=!1)}f=ae,P=ue,w=ve}return H}}},46225:function(W,V,e){e.d(V,{Z:function(){return L}});var y=e(67108),C=e(39695);function a(h,d,t,r){this.x=h,this.z=d,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function L(h,d,t,r,u){var n=[],i=[],s,o;if(h.forEach(function(p){if(!((S=p.length-1)<=0)){var S,M=p[0],R=p[S],T;if((0,y.Z)(M,R)){if(!M[2]&&!R[2]){for(u.lineStart(),s=0;s<S;++s)u.point((M=p[s])[0],M[1]);u.lineEnd();return}R[0]+=2*C.Ho}n.push(T=new a(M,p,null,!0)),i.push(T.o=new a(M,null,T,!1)),n.push(T=new a(R,p,null,!1)),i.push(T.o=new a(R,null,T,!0))}}),!!n.length){for(i.sort(d),x(n),x(i),s=0,o=i.length;s<o;++s)i[s].e=t=!t;for(var m=n[0],c,b;;){for(var v=m,l=!0;v.v;)if((v=v.n)===m)return;c=v.z,u.lineStart();do{if(v.v=v.o.v=!0,v.e){if(l)for(s=0,o=c.length;s<o;++s)u.point((b=c[s])[0],b[1]);else r(v.x,v.n.x,1,u);v=v.n}else{if(l)for(c=v.p.z,s=c.length-1;s>=0;--s)u.point((b=c[s])[0],b[1]);else r(v.x,v.p.x,-1,u);v=v.p}v=v.o,c=v.z,l=!l}while(!v.v);u.lineEnd()}}}function x(h){if(d=h.length){for(var d,t=0,r=h[0],u;++t<d;)r.n=u=h[t],u.p=r,r=u;r.n=u=h[0],u.p=r}}},96059:function(W,V,e){e.d(V,{Z:function(){return y}});function y(C,a){function L(x,h){return x=C(x,h),a(x[0],x[1])}return C.invert&&a.invert&&(L.invert=function(x,h){return x=a.invert(x,h),x&&C.invert(x[0],x[1])}),L}},8593:function(W,V,e){e.d(V,{Z:function(){return y}});function y(C){return C}},27362:function(W,V,e){e.r(V),e.d(V,{geoAlbers:function(){return wr},geoAlbersUsa:function(){return ut},geoArea:function(){return y.ZP},geoAzimuthalEqualArea:function(){return bt.Z},geoAzimuthalEqualAreaRaw:function(){return bt.l},geoAzimuthalEquidistant:function(){return At.Z},geoAzimuthalEquidistantRaw:function(){return At.N},geoBounds:function(){return C.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return L.Z},geoClipAntimeridian:function(){return x.Z},geoClipCircle:function(){return h.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return d.Z},geoConicConformal:function(){return sr},geoConicConformalRaw:function(){return $t},geoConicEqualArea:function(){return jt},geoConicEqualAreaRaw:function(){return Kt},geoConicEquidistant:function(){return je},geoConicEquidistantRaw:function(){return Ze},geoContains:function(){return N},geoDistance:function(){return A},geoEqualEarth:function(){return cr},geoEqualEarthRaw:function(){return Ot},geoEquirectangular:function(){return Cr.Z},geoEquirectangularRaw:function(){return Cr.k},geoGnomonic:function(){return pr.Z},geoGnomonicRaw:function(){return pr.M},geoGraticule:function(){return re},geoGraticule10:function(){return ae},geoIdentity:function(){return dr},geoInterpolate:function(){return ue.Z},geoLength:function(){return R},geoMercator:function(){return zt},geoMercatorRaw:function(){return St},geoNaturalEarth1:function(){return Gr.Z},geoNaturalEarth1Raw:function(){return Gr.K},geoOrthographic:function(){return kr.Z},geoOrthographicRaw:function(){return kr.I},geoPath:function(){return Jt},geoProjection:function(){return or.Z},geoProjectionMutator:function(){return or.r},geoRotation:function(){return Ct.Z},geoStereographic:function(){return Kr},geoStereographicRaw:function(){return gn},geoStream:function(){return s.Z},geoTransform:function(){return gr.Z},geoTransverseMercator:function(){return In},geoTransverseMercatorRaw:function(){return kn}});var y=e(97860),C=e(77338),a=e(66624),L=e(7613),x=e(87070),h=e(1457),d=e(87605);function t(){var br=0,Mr=0,Br=960,Nr=500,en,dn,cn;return cn={stream:function(An){return en&&dn===An?en:en=(0,d.Z)(br,Mr,Br,Nr)(dn=An)},extent:function(An){return arguments.length?(br=+An[0][0],Mr=+An[0][1],Br=+An[1][0],Nr=+An[1][1],en=dn=null,cn):[[br,Mr],[Br,Nr]]}}}var r=e(23071),u=e(33940),n=e(39695),i=e(73182),s=e(72736),o=(0,u.Z)(),m,c,b,v={sphere:i.Z,point:i.Z,lineStart:l,lineEnd:i.Z,polygonStart:i.Z,polygonEnd:i.Z};function l(){v.point=S,v.lineEnd=p}function p(){v.point=v.lineEnd=i.Z}function S(br,Mr){br*=n.uR,Mr*=n.uR,m=br,c=(0,n.O$)(Mr),b=(0,n.mC)(Mr),v.point=M}function M(br,Mr){br*=n.uR,Mr*=n.uR;var Br=(0,n.O$)(Mr),Nr=(0,n.mC)(Mr),en=(0,n.Wn)(br-m),dn=(0,n.mC)(en),cn=(0,n.O$)(en),An=Nr*cn,Rn=b*Br-c*Nr*dn,Jn=c*Br+b*Nr*dn;o.add((0,n.fv)((0,n._b)(An*An+Rn*Rn),Jn)),m=br,c=Br,b=Nr}function R(br){return o.reset(),(0,s.Z)(br,v),+o}var T=[null,null],E={type:"LineString",coordinates:T};function A(br,Mr){return T[0]=br,T[1]=Mr,R(E)}var f={Feature:function(br,Mr){return w(br.geometry,Mr)},FeatureCollection:function(br,Mr){for(var Br=br.features,Nr=-1,en=Br.length;++Nr<en;)if(w(Br[Nr].geometry,Mr))return!0;return!1}},P={Sphere:function(){return!0},Point:function(br,Mr){return z(br.coordinates,Mr)},MultiPoint:function(br,Mr){for(var Br=br.coordinates,Nr=-1,en=Br.length;++Nr<en;)if(z(Br[Nr],Mr))return!0;return!1},LineString:function(br,Mr){return F(br.coordinates,Mr)},MultiLineString:function(br,Mr){for(var Br=br.coordinates,Nr=-1,en=Br.length;++Nr<en;)if(F(Br[Nr],Mr))return!0;return!1},Polygon:function(br,Mr){return H(br.coordinates,Mr)},MultiPolygon:function(br,Mr){for(var Br=br.coordinates,Nr=-1,en=Br.length;++Nr<en;)if(H(Br[Nr],Mr))return!0;return!1},GeometryCollection:function(br,Mr){for(var Br=br.geometries,Nr=-1,en=Br.length;++Nr<en;)if(w(Br[Nr],Mr))return!0;return!1}};function w(br,Mr){return br&&P.hasOwnProperty(br.type)?P[br.type](br,Mr):!1}function z(br,Mr){return A(br,Mr)===0}function F(br,Mr){for(var Br,Nr,en,dn=0,cn=br.length;dn<cn;dn++){if(Nr=A(br[dn],Mr),Nr===0||dn>0&&(en=A(br[dn],br[dn-1]),en>0&&Br<=en&&Nr<=en&&(Br+Nr-en)*(1-Math.pow((Br-Nr)/en,2))<n.aW*en))return!0;Br=Nr}return!1}function H(br,Mr){return!!(0,r.Z)(br.map(_),B(Mr))}function _(br){return br=br.map(B),br.pop(),br}function B(br){return[br[0]*n.uR,br[1]*n.uR]}function N(br,Mr){return(br&&f.hasOwnProperty(br.type)?f[br.type]:w)(br,Mr)}var O=e(33064);function U(br,Mr,Br){var Nr=(0,O.w6)(br,Mr-n.Ho,Br).concat(Mr);return function(en){return Nr.map(function(dn){return[en,dn]})}}function K(br,Mr,Br){var Nr=(0,O.w6)(br,Mr-n.Ho,Br).concat(Mr);return function(en){return Nr.map(function(dn){return[dn,en]})}}function re(){var br,Mr,Br,Nr,en,dn,cn,An,Rn=10,Jn=Rn,ta=90,fa=360,na,ra,Sr,sn,an=2.5;function yn(){return{type:"MultiLineString",coordinates:Hn()}}function Hn(){return(0,O.w6)((0,n.mD)(Nr/ta)*ta,Br,ta).map(Sr).concat((0,O.w6)((0,n.mD)(An/fa)*fa,cn,fa).map(sn)).concat((0,O.w6)((0,n.mD)(Mr/Rn)*Rn,br,Rn).filter(function(Cn){return(0,n.Wn)(Cn%ta)>n.Ho}).map(na)).concat((0,O.w6)((0,n.mD)(dn/Jn)*Jn,en,Jn).filter(function(Cn){return(0,n.Wn)(Cn%fa)>n.Ho}).map(ra))}return yn.lines=function(){return Hn().map(function(Cn){return{type:"LineString",coordinates:Cn}})},yn.outline=function(){return{type:"Polygon",coordinates:[Sr(Nr).concat(sn(cn).slice(1),Sr(Br).reverse().slice(1),sn(An).reverse().slice(1))]}},yn.extent=function(Cn){return arguments.length?yn.extentMajor(Cn).extentMinor(Cn):yn.extentMinor()},yn.extentMajor=function(Cn){return arguments.length?(Nr=+Cn[0][0],Br=+Cn[1][0],An=+Cn[0][1],cn=+Cn[1][1],Nr>Br&&(Cn=Nr,Nr=Br,Br=Cn),An>cn&&(Cn=An,An=cn,cn=Cn),yn.precision(an)):[[Nr,An],[Br,cn]]},yn.extentMinor=function(Cn){return arguments.length?(Mr=+Cn[0][0],br=+Cn[1][0],dn=+Cn[0][1],en=+Cn[1][1],Mr>br&&(Cn=Mr,Mr=br,br=Cn),dn>en&&(Cn=dn,dn=en,en=Cn),yn.precision(an)):[[Mr,dn],[br,en]]},yn.step=function(Cn){return arguments.length?yn.stepMajor(Cn).stepMinor(Cn):yn.stepMinor()},yn.stepMajor=function(Cn){return arguments.length?(ta=+Cn[0],fa=+Cn[1],yn):[ta,fa]},yn.stepMinor=function(Cn){return arguments.length?(Rn=+Cn[0],Jn=+Cn[1],yn):[Rn,Jn]},yn.precision=function(Cn){return arguments.length?(an=+Cn,na=U(dn,en,90),ra=K(Mr,br,an),Sr=U(An,cn,90),sn=K(Nr,Br,an),yn):an},yn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function ae(){return re()()}var ue=e(83074),ve=e(8593),ee=(0,u.Z)(),J=(0,u.Z)(),Q,X,q,se,Y={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){Y.lineStart=Z,Y.lineEnd=fe},polygonEnd:function(){Y.lineStart=Y.lineEnd=Y.point=i.Z,ee.add((0,n.Wn)(J)),J.reset()},result:function(){var br=ee/2;return ee.reset(),br}};function Z(){Y.point=ie}function ie(br,Mr){Y.point=te,Q=q=br,X=se=Mr}function te(br,Mr){J.add(se*br-q*Mr),q=br,se=Mr}function fe(){te(Q,X)}var de=Y,we=e(3559),Ae=0,Re=0,Fe=0,Se=0,Te=0,Ee=0,Ne=0,He=0,_e=0,We,tt,Ke,qe,rt={point:ft,lineStart:pt,lineEnd:Lt,polygonStart:function(){rt.lineStart=Wt,rt.lineEnd=Je},polygonEnd:function(){rt.point=ft,rt.lineStart=pt,rt.lineEnd=Lt},result:function(){var br=_e?[Ne/_e,He/_e]:Ee?[Se/Ee,Te/Ee]:Fe?[Ae/Fe,Re/Fe]:[NaN,NaN];return Ae=Re=Fe=Se=Te=Ee=Ne=He=_e=0,br}};function ft(br,Mr){Ae+=br,Re+=Mr,++Fe}function pt(){rt.point=gt}function gt(br,Mr){rt.point=Mt,ft(Ke=br,qe=Mr)}function Mt(br,Mr){var Br=br-Ke,Nr=Mr-qe,en=(0,n._b)(Br*Br+Nr*Nr);Se+=en*(Ke+br)/2,Te+=en*(qe+Mr)/2,Ee+=en,ft(Ke=br,qe=Mr)}function Lt(){rt.point=ft}function Wt(){rt.point=ze}function Je(){Oe(We,tt)}function ze(br,Mr){rt.point=Oe,ft(We=Ke=br,tt=qe=Mr)}function Oe(br,Mr){var Br=br-Ke,Nr=Mr-qe,en=(0,n._b)(Br*Br+Nr*Nr);Se+=en*(Ke+br)/2,Te+=en*(qe+Mr)/2,Ee+=en,en=qe*br-Ke*Mr,Ne+=en*(Ke+br),He+=en*(qe+Mr),_e+=en*3,ft(Ke=br,qe=Mr)}var Ue=rt;function ke(br){this._context=br}ke.prototype={_radius:4.5,pointRadius:function(br){return this._radius=br,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(br,Mr){switch(this._point){case 0:{this._context.moveTo(br,Mr),this._point=1;break}case 1:{this._context.lineTo(br,Mr);break}default:{this._context.moveTo(br+this._radius,Mr),this._context.arc(br,Mr,this._radius,0,n.BZ);break}}},result:i.Z};var Me=(0,u.Z)(),ce,be,De,Ve,it,ot={point:i.Z,lineStart:function(){ot.point=Tt},lineEnd:function(){ce&&It(be,De),ot.point=i.Z},polygonStart:function(){ce=!0},polygonEnd:function(){ce=null},result:function(){var br=+Me;return Me.reset(),br}};function Tt(br,Mr){ot.point=It,be=Ve=br,De=it=Mr}function It(br,Mr){Ve-=br,it-=Mr,Me.add((0,n._b)(Ve*Ve+it*it)),Ve=br,it=Mr}var Ht=ot;function Gt(){this._string=[]}Gt.prototype={_radius:4.5,_circle:Pt(4.5),pointRadius:function(br){return(br=+br)!==this._radius&&(this._radius=br,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(br,Mr){switch(this._point){case 0:{this._string.push("M",br,",",Mr),this._point=1;break}case 1:{this._string.push("L",br,",",Mr);break}default:{this._circle==null&&(this._circle=Pt(this._radius)),this._string.push("M",br,",",Mr,this._circle);break}}},result:function(){if(this._string.length){var br=this._string.join("");return this._string=[],br}else return null}};function Pt(br){return"m0,"+br+"a"+br+","+br+" 0 1,1 0,"+-2*br+"a"+br+","+br+" 0 1,1 0,"+2*br+"z"}function Jt(br,Mr){var Br=4.5,Nr,en;function dn(cn){return cn&&(typeof Br=="function"&&en.pointRadius(+Br.apply(this,arguments)),(0,s.Z)(cn,Nr(en))),en.result()}return dn.area=function(cn){return(0,s.Z)(cn,Nr(de)),de.result()},dn.measure=function(cn){return(0,s.Z)(cn,Nr(Ht)),Ht.result()},dn.bounds=function(cn){return(0,s.Z)(cn,Nr(we.Z)),we.Z.result()},dn.centroid=function(cn){return(0,s.Z)(cn,Nr(Ue)),Ue.result()},dn.projection=function(cn){return arguments.length?(Nr=cn==null?(br=null,ve.Z):(br=cn).stream,dn):br},dn.context=function(cn){return arguments.length?(en=cn==null?(Mr=null,new Gt):new ke(Mr=cn),typeof Br!="function"&&en.pointRadius(Br),dn):Mr},dn.pointRadius=function(cn){return arguments.length?(Br=typeof cn=="function"?cn:(en.pointRadius(+cn),+cn),dn):Br},dn.projection(br).context(Mr)}var or=e(15002);function zr(br){var Mr=0,Br=n.pi/3,Nr=(0,or.r)(br),en=Nr(Mr,Br);return en.parallels=function(dn){return arguments.length?Nr(Mr=dn[0]*n.uR,Br=dn[1]*n.uR):[Mr*n.RW,Br*n.RW]},en}function mt(br){var Mr=(0,n.mC)(br);function Br(Nr,en){return[Nr*Mr,(0,n.O$)(en)/Mr]}return Br.invert=function(Nr,en){return[Nr/Mr,(0,n.ZR)(en*Mr)]},Br}function Kt(br,Mr){var Br=(0,n.O$)(br),Nr=(Br+(0,n.O$)(Mr))/2;if((0,n.Wn)(Nr)<n.Ho)return mt(br);var en=1+Br*(2*Nr-Br),dn=(0,n._b)(en)/Nr;function cn(An,Rn){var Jn=(0,n._b)(en-2*Nr*(0,n.O$)(Rn))/Nr;return[Jn*(0,n.O$)(An*=Nr),dn-Jn*(0,n.mC)(An)]}return cn.invert=function(An,Rn){var Jn=dn-Rn,ta=(0,n.fv)(An,(0,n.Wn)(Jn))*(0,n.Xx)(Jn);return Jn*Nr<0&&(ta-=n.pi*(0,n.Xx)(An)*(0,n.Xx)(Jn)),[ta/Nr,(0,n.ZR)((en-(An*An+Jn*Jn)*Nr*Nr)/(2*Nr))]},cn}function jt(){return zr(Kt).scale(155.424).center([0,33.6442])}function wr(){return jt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var vr=e(47589);function ct(br){var Mr=br.length;return{point:function(Br,Nr){for(var en=-1;++en<Mr;)br[en].point(Br,Nr)},sphere:function(){for(var Br=-1;++Br<Mr;)br[Br].sphere()},lineStart:function(){for(var Br=-1;++Br<Mr;)br[Br].lineStart()},lineEnd:function(){for(var Br=-1;++Br<Mr;)br[Br].lineEnd()},polygonStart:function(){for(var Br=-1;++Br<Mr;)br[Br].polygonStart()},polygonEnd:function(){for(var Br=-1;++Br<Mr;)br[Br].polygonEnd()}}}function ut(){var br,Mr,Br=wr(),Nr,en=jt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),dn,cn=jt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),An,Rn,Jn={point:function(na,ra){Rn=[na,ra]}};function ta(na){var ra=na[0],Sr=na[1];return Rn=null,Nr.point(ra,Sr),Rn||(dn.point(ra,Sr),Rn)||(An.point(ra,Sr),Rn)}ta.invert=function(na){var ra=Br.scale(),Sr=Br.translate(),sn=(na[0]-Sr[0])/ra,an=(na[1]-Sr[1])/ra;return(an>=.12&&an<.234&&sn>=-.425&&sn<-.214?en:an>=.166&&an<.234&&sn>=-.214&&sn<-.115?cn:Br).invert(na)},ta.stream=function(na){return br&&Mr===na?br:br=ct([Br.stream(Mr=na),en.stream(na),cn.stream(na)])},ta.precision=function(na){return arguments.length?(Br.precision(na),en.precision(na),cn.precision(na),fa()):Br.precision()},ta.scale=function(na){return arguments.length?(Br.scale(na),en.scale(na*.35),cn.scale(na),ta.translate(Br.translate())):Br.scale()},ta.translate=function(na){if(!arguments.length)return Br.translate();var ra=Br.scale(),Sr=+na[0],sn=+na[1];return Nr=Br.translate(na).clipExtent([[Sr-.455*ra,sn-.238*ra],[Sr+.455*ra,sn+.238*ra]]).stream(Jn),dn=en.translate([Sr-.307*ra,sn+.201*ra]).clipExtent([[Sr-.425*ra+n.Ho,sn+.12*ra+n.Ho],[Sr-.214*ra-n.Ho,sn+.234*ra-n.Ho]]).stream(Jn),An=cn.translate([Sr-.205*ra,sn+.212*ra]).clipExtent([[Sr-.214*ra+n.Ho,sn+.166*ra+n.Ho],[Sr-.115*ra-n.Ho,sn+.234*ra-n.Ho]]).stream(Jn),fa()},ta.fitExtent=function(na,ra){return(0,vr.qg)(ta,na,ra)},ta.fitSize=function(na,ra){return(0,vr.mF)(ta,na,ra)},ta.fitWidth=function(na,ra){return(0,vr.V6)(ta,na,ra)},ta.fitHeight=function(na,ra){return(0,vr.rf)(ta,na,ra)};function fa(){return br=Mr=null,ta}return ta.scale(1070)}var bt=e(12956),At=e(17889),Ct=e(49386);function St(br,Mr){return[br,(0,n.cM)((0,n.OR)((n.ou+Mr)/2))]}St.invert=function(br,Mr){return[br,2*(0,n.z4)((0,n.Qq)(Mr))-n.ou]};function zt(){return Vt(St).scale(961/n.BZ)}function Vt(br){var Mr=(0,or.Z)(br),Br=Mr.center,Nr=Mr.scale,en=Mr.translate,dn=Mr.clipExtent,cn=null,An,Rn,Jn;Mr.scale=function(fa){return arguments.length?(Nr(fa),ta()):Nr()},Mr.translate=function(fa){return arguments.length?(en(fa),ta()):en()},Mr.center=function(fa){return arguments.length?(Br(fa),ta()):Br()},Mr.clipExtent=function(fa){return arguments.length?(fa==null?cn=An=Rn=Jn=null:(cn=+fa[0][0],An=+fa[0][1],Rn=+fa[1][0],Jn=+fa[1][1]),ta()):cn==null?null:[[cn,An],[Rn,Jn]]};function ta(){var fa=n.pi*Nr(),na=Mr((0,Ct.Z)(Mr.rotate()).invert([0,0]));return dn(cn==null?[[na[0]-fa,na[1]-fa],[na[0]+fa,na[1]+fa]]:br===St?[[Math.max(na[0]-fa,cn),An],[Math.min(na[0]+fa,Rn),Jn]]:[[cn,Math.max(na[1]-fa,An)],[Rn,Math.min(na[1]+fa,Jn)]])}return ta()}function qt(br){return(0,n.OR)((n.ou+br)/2)}function $t(br,Mr){var Br=(0,n.mC)(br),Nr=br===Mr?(0,n.O$)(br):(0,n.cM)(Br/(0,n.mC)(Mr))/(0,n.cM)(qt(Mr)/qt(br)),en=Br*(0,n.sQ)(qt(br),Nr)/Nr;if(!Nr)return St;function dn(cn,An){en>0?An<-n.ou+n.Ho&&(An=-n.ou+n.Ho):An>n.ou-n.Ho&&(An=n.ou-n.Ho);var Rn=en/(0,n.sQ)(qt(An),Nr);return[Rn*(0,n.O$)(Nr*cn),en-Rn*(0,n.mC)(Nr*cn)]}return dn.invert=function(cn,An){var Rn=en-An,Jn=(0,n.Xx)(Nr)*(0,n._b)(cn*cn+Rn*Rn),ta=(0,n.fv)(cn,(0,n.Wn)(Rn))*(0,n.Xx)(Rn);return Rn*Nr<0&&(ta-=n.pi*(0,n.Xx)(cn)*(0,n.Xx)(Rn)),[ta/Nr,2*(0,n.z4)((0,n.sQ)(en/Jn,1/Nr))-n.ou]},dn}function sr(){return zr($t).scale(109.5).parallels([30,30])}var Cr=e(97492);function Ze(br,Mr){var Br=(0,n.mC)(br),Nr=br===Mr?(0,n.O$)(br):(Br-(0,n.mC)(Mr))/(Mr-br),en=Br/Nr+br;if((0,n.Wn)(Nr)<n.Ho)return Cr.k;function dn(cn,An){var Rn=en-An,Jn=Nr*cn;return[Rn*(0,n.O$)(Jn),en-Rn*(0,n.mC)(Jn)]}return dn.invert=function(cn,An){var Rn=en-An,Jn=(0,n.fv)(cn,(0,n.Wn)(Rn))*(0,n.Xx)(Rn);return Rn*Nr<0&&(Jn-=n.pi*(0,n.Xx)(cn)*(0,n.Xx)(Rn)),[Jn/Nr,en-(0,n.Xx)(Nr)*(0,n._b)(cn*cn+Rn*Rn)]},dn}function je(){return zr(Ze).scale(131.154).center([0,13.9389])}var kt=1.340264,_t=-.081106,Zt=893e-6,ar=.003796,ur=(0,n._b)(3)/2,nr=12;function Ot(br,Mr){var Br=(0,n.ZR)(ur*(0,n.O$)(Mr)),Nr=Br*Br,en=Nr*Nr*Nr;return[br*(0,n.mC)(Br)/(ur*(kt+3*_t*Nr+en*(7*Zt+9*ar*Nr))),Br*(kt+_t*Nr+en*(Zt+ar*Nr))]}Ot.invert=function(br,Mr){for(var Br=Mr,Nr=Br*Br,en=Nr*Nr*Nr,dn=0,cn,An,Rn;dn<nr&&(An=Br*(kt+_t*Nr+en*(Zt+ar*Nr))-Mr,Rn=kt+3*_t*Nr+en*(7*Zt+9*ar*Nr),Br-=cn=An/Rn,Nr=Br*Br,en=Nr*Nr*Nr,!((0,n.Wn)(cn)<n.aW));++dn);return[ur*br*(kt+3*_t*Nr+en*(7*Zt+9*ar*Nr))/(0,n.mC)(Br),(0,n.ZR)((0,n.O$)(Br)/ur)]};function cr(){return(0,or.Z)(Ot).scale(177.158)}var pr=e(98936),gr=e(64684);function dr(){var br=1,Mr=0,Br=0,Nr=1,en=1,dn=0,cn,An,Rn=null,Jn,ta,fa,na=1,ra=1,Sr=(0,gr.l)({point:function(Ln,Gn){var oa=Cn([Ln,Gn]);this.stream.point(oa[0],oa[1])}}),sn=ve.Z,an,yn;function Hn(){return na=br*Nr,ra=br*en,an=yn=null,Cn}function Cn(Ln){var Gn=Ln[0]*na,oa=Ln[1]*ra;if(dn){var Da=oa*cn-Gn*An;Gn=Gn*cn+oa*An,oa=Da}return[Gn+Mr,oa+Br]}return Cn.invert=function(Ln){var Gn=Ln[0]-Mr,oa=Ln[1]-Br;if(dn){var Da=oa*cn+Gn*An;Gn=Gn*cn-oa*An,oa=Da}return[Gn/na,oa/ra]},Cn.stream=function(Ln){return an&&yn===Ln?an:an=Sr(sn(yn=Ln))},Cn.postclip=function(Ln){return arguments.length?(sn=Ln,Rn=Jn=ta=fa=null,Hn()):sn},Cn.clipExtent=function(Ln){return arguments.length?(sn=Ln==null?(Rn=Jn=ta=fa=null,ve.Z):(0,d.Z)(Rn=+Ln[0][0],Jn=+Ln[0][1],ta=+Ln[1][0],fa=+Ln[1][1]),Hn()):Rn==null?null:[[Rn,Jn],[ta,fa]]},Cn.scale=function(Ln){return arguments.length?(br=+Ln,Hn()):br},Cn.translate=function(Ln){return arguments.length?(Mr=+Ln[0],Br=+Ln[1],Hn()):[Mr,Br]},Cn.angle=function(Ln){return arguments.length?(dn=Ln%360*n.uR,An=(0,n.O$)(dn),cn=(0,n.mC)(dn),Hn()):dn*n.RW},Cn.reflectX=function(Ln){return arguments.length?(Nr=Ln?-1:1,Hn()):Nr<0},Cn.reflectY=function(Ln){return arguments.length?(en=Ln?-1:1,Hn()):en<0},Cn.fitExtent=function(Ln,Gn){return(0,vr.qg)(Cn,Ln,Gn)},Cn.fitSize=function(Ln,Gn){return(0,vr.mF)(Cn,Ln,Gn)},Cn.fitWidth=function(Ln,Gn){return(0,vr.V6)(Cn,Ln,Gn)},Cn.fitHeight=function(Ln,Gn){return(0,vr.rf)(Cn,Ln,Gn)},Cn}var Gr=e(26867),kr=e(57962),Fr=e(25382);function gn(br,Mr){var Br=(0,n.mC)(Mr),Nr=1+(0,n.mC)(br)*Br;return[Br*(0,n.O$)(br)/Nr,(0,n.O$)(Mr)/Nr]}gn.invert=(0,Fr.O)(function(br){return 2*(0,n.z4)(br)});function Kr(){return(0,or.Z)(gn).scale(250).clipAngle(142)}function kn(br,Mr){return[(0,n.cM)((0,n.OR)((n.ou+Mr)/2)),-br]}kn.invert=function(br,Mr){return[-Mr,2*(0,n.z4)((0,n.Qq)(br))-n.ou]};function In(){var br=Vt(kn),Mr=br.center,Br=br.rotate;return br.center=function(Nr){return arguments.length?Mr([-Nr[1],Nr[0]]):(Nr=Mr(),[Nr[1],-Nr[0]])},br.rotate=function(Nr){return arguments.length?Br([Nr[0],Nr[1],Nr.length>2?Nr[2]+90:90]):(Nr=Br(),[Nr[0],Nr[1],Nr[2]-90])},Br([0,0,90]).scale(159.155)}},83074:function(W,V,e){e.d(V,{Z:function(){return C}});var y=e(39695);function C(a,L){var x=a[0]*y.uR,h=a[1]*y.uR,d=L[0]*y.uR,t=L[1]*y.uR,r=(0,y.mC)(h),u=(0,y.O$)(h),n=(0,y.mC)(t),i=(0,y.O$)(t),s=r*(0,y.mC)(x),o=r*(0,y.O$)(x),m=n*(0,y.mC)(d),c=n*(0,y.O$)(d),b=2*(0,y.ZR)((0,y._b)((0,y.Jy)(t-h)+r*n*(0,y.Jy)(d-x))),v=(0,y.O$)(b),l=b?function(p){var S=(0,y.O$)(p*=b)/v,M=(0,y.O$)(b-p)/v,R=M*s+S*m,T=M*o+S*c,E=M*u+S*i;return[(0,y.fv)(T,R)*y.RW,(0,y.fv)(E,(0,y._b)(R*R+T*T))*y.RW]}:function(){return[x*y.RW,h*y.RW]};return l.distance=b,l}},39695:function(W,V,e){e.d(V,{BZ:function(){return h},Ho:function(){return y},Jy:function(){return R},Kh:function(){return S},O$:function(){return b},OR:function(){return p},Qq:function(){return o},RW:function(){return d},Wn:function(){return r},Xx:function(){return v},ZR:function(){return M},_b:function(){return l},aW:function(){return C},cM:function(){return m},fv:function(){return n},mC:function(){return i},mD:function(){return s},ou:function(){return L},pi:function(){return a},pu:function(){return x},sQ:function(){return c},uR:function(){return t},z4:function(){return u}});var y=1e-6,C=1e-12,a=Math.PI,L=a/2,x=a/4,h=a*2,d=180/a,t=a/180,r=Math.abs,u=Math.atan,n=Math.atan2,i=Math.cos,s=Math.ceil,o=Math.exp,m=Math.log,c=Math.pow,b=Math.sin,v=Math.sign||function(T){return T>0?1:T<0?-1:0},l=Math.sqrt,p=Math.tan;function S(T){return T>1?0:T<-1?a:Math.acos(T)}function M(T){return T>1?L:T<-1?-L:Math.asin(T)}function R(T){return(T=b(T/2))*T}},73182:function(W,V,e){e.d(V,{Z:function(){return y}});function y(){}},3559:function(W,V,e){var y=e(73182),C=1/0,a=C,L=-C,x=L,h={point:d,lineStart:y.Z,lineEnd:y.Z,polygonStart:y.Z,polygonEnd:y.Z,result:function(){var t=[[C,a],[L,x]];return L=x=-(a=C=1/0),t}};function d(t,r){t<C&&(C=t),t>L&&(L=t),r<a&&(a=r),r>x&&(x=r)}V.Z=h},67108:function(W,V,e){e.d(V,{Z:function(){return C}});var y=e(39695);function C(a,L){return(0,y.Wn)(a[0]-L[0])<y.Ho&&(0,y.Wn)(a[1]-L[1])<y.Ho}},23071:function(W,V,e){e.d(V,{Z:function(){return h}});var y=e(33940),C=e(7620),a=e(39695),L=(0,y.Z)();function x(d){return(0,a.Wn)(d[0])<=a.pi?d[0]:(0,a.Xx)(d[0])*(((0,a.Wn)(d[0])+a.pi)%a.BZ-a.pi)}function h(d,t){var r=x(t),u=t[1],n=(0,a.O$)(u),i=[(0,a.O$)(r),-(0,a.mC)(r),0],s=0,o=0;L.reset(),n===1?u=a.ou+a.Ho:n===-1&&(u=-a.ou-a.Ho);for(var m=0,c=d.length;m<c;++m)if(v=(b=d[m]).length)for(var b,v,l=b[v-1],p=x(l),S=l[1]/2+a.pu,M=(0,a.O$)(S),R=(0,a.mC)(S),T=0;T<v;++T,p=A,M=P,R=w,l=E){var E=b[T],A=x(E),f=E[1]/2+a.pu,P=(0,a.O$)(f),w=(0,a.mC)(f),z=A-p,F=z>=0?1:-1,H=F*z,_=H>a.pi,B=M*P;if(L.add((0,a.fv)(B*F*(0,a.O$)(H),R*w+B*(0,a.mC)(H))),s+=_?z+F*a.BZ:z,_^p>=r^A>=r){var N=(0,C.T5)((0,C.Og)(l),(0,C.Og)(E));(0,C.iJ)(N);var O=(0,C.T5)(i,N);(0,C.iJ)(O);var U=(_^z>=0?-1:1)*(0,a.ZR)(O[2]);(u>U||u===U&&(N[0]||N[1]))&&(o+=_^z>=0?1:-1)}}return(s<-a.Ho||s<a.Ho&&L<-a.Ho)^o&1}},25382:function(W,V,e){e.d(V,{O:function(){return a},W:function(){return C}});var y=e(39695);function C(L){return function(x,h){var d=(0,y.mC)(x),t=(0,y.mC)(h),r=L(d*t);return[r*t*(0,y.O$)(x),r*(0,y.O$)(h)]}}function a(L){return function(x,h){var d=(0,y._b)(x*x+h*h),t=L(d),r=(0,y.O$)(t),u=(0,y.mC)(t);return[(0,y.fv)(x*r,d*u),(0,y.ZR)(d&&h*r/d)]}}},12956:function(W,V,e){e.d(V,{Z:function(){return x},l:function(){return L}});var y=e(39695),C=e(25382),a=e(15002),L=(0,C.W)(function(h){return(0,y._b)(2/(1+h))});L.invert=(0,C.O)(function(h){return 2*(0,y.ZR)(h/2)});function x(){return(0,a.Z)(L).scale(124.75).clipAngle(179.999)}},17889:function(W,V,e){e.d(V,{N:function(){return L},Z:function(){return x}});var y=e(39695),C=e(25382),a=e(15002),L=(0,C.W)(function(h){return(h=(0,y.Kh)(h))&&h/(0,y.O$)(h)});L.invert=(0,C.O)(function(h){return h});function x(){return(0,a.Z)(L).scale(79.4188).clipAngle(179.999)}},97492:function(W,V,e){e.d(V,{Z:function(){return a},k:function(){return C}});var y=e(15002);function C(L,x){return[L,x]}C.invert=C;function a(){return(0,y.Z)(C).scale(152.63)}},47589:function(W,V,e){e.d(V,{V6:function(){return h},mF:function(){return x},qg:function(){return L},rf:function(){return d}});var y=e(72736),C=e(3559);function a(t,r,u){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,y.Z)(u,t.stream(C.Z)),r(C.Z.result()),n!=null&&t.clipExtent(n),t}function L(t,r,u){return a(t,function(n){var i=r[1][0]-r[0][0],s=r[1][1]-r[0][1],o=Math.min(i/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),m=+r[0][0]+(i-o*(n[1][0]+n[0][0]))/2,c=+r[0][1]+(s-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([m,c])},u)}function x(t,r,u){return L(t,[[0,0],r],u)}function h(t,r,u){return a(t,function(n){var i=+r,s=i/(n[1][0]-n[0][0]),o=(i-s*(n[1][0]+n[0][0]))/2,m=-s*n[0][1];t.scale(150*s).translate([o,m])},u)}function d(t,r,u){return a(t,function(n){var i=+r,s=i/(n[1][1]-n[0][1]),o=-s*n[0][0],m=(i-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([o,m])},u)}},98936:function(W,V,e){e.d(V,{M:function(){return L},Z:function(){return x}});var y=e(39695),C=e(25382),a=e(15002);function L(h,d){var t=(0,y.mC)(d),r=(0,y.mC)(h)*t;return[t*(0,y.O$)(h)/r,(0,y.O$)(d)/r]}L.invert=(0,C.O)(y.z4);function x(){return(0,a.Z)(L).scale(144.049).clipAngle(60)}},15002:function(W,V,e){e.d(V,{Z:function(){return p},r:function(){return S}});var y=e(87070),C=e(1457),a=e(87605),L=e(96059),x=e(8593),h=e(39695),d=e(49386),t=e(64684),r=e(47589),u=e(7620),n=16,i=(0,h.mC)(30*h.uR);function s(M,R){return+R?m(M,R):o(M)}function o(M){return(0,t.l)({point:function(R,T){R=M(R,T),this.stream.point(R[0],R[1])}})}function m(M,R){function T(E,A,f,P,w,z,F,H,_,B,N,O,U,K){var re=F-E,ae=H-A,ue=re*re+ae*ae;if(ue>4*R&&U--){var ve=P+B,ee=w+N,J=z+O,Q=(0,h._b)(ve*ve+ee*ee+J*J),X=(0,h.ZR)(J/=Q),q=(0,h.Wn)((0,h.Wn)(J)-1)<h.Ho||(0,h.Wn)(f-_)<h.Ho?(f+_)/2:(0,h.fv)(ee,ve),se=M(q,X),Y=se[0],Z=se[1],ie=Y-E,te=Z-A,fe=ae*ie-re*te;(fe*fe/ue>R||(0,h.Wn)((re*ie+ae*te)/ue-.5)>.3||P*B+w*N+z*O<i)&&(T(E,A,f,P,w,z,Y,Z,q,ve/=Q,ee/=Q,J,U,K),K.point(Y,Z),T(Y,Z,q,ve,ee,J,F,H,_,B,N,O,U,K))}}return function(E){var A,f,P,w,z,F,H,_,B,N,O,U,K={point:re,lineStart:ae,lineEnd:ve,polygonStart:function(){E.polygonStart(),K.lineStart=ee},polygonEnd:function(){E.polygonEnd(),K.lineStart=ae}};function re(X,q){X=M(X,q),E.point(X[0],X[1])}function ae(){_=NaN,K.point=ue,E.lineStart()}function ue(X,q){var se=(0,u.Og)([X,q]),Y=M(X,q);T(_,B,H,N,O,U,_=Y[0],B=Y[1],H=X,N=se[0],O=se[1],U=se[2],n,E),E.point(_,B)}function ve(){K.point=re,E.lineEnd()}function ee(){ae(),K.point=J,K.lineEnd=Q}function J(X,q){ue(A=X,q),f=_,P=B,w=N,z=O,F=U,K.point=ue}function Q(){T(_,B,H,N,O,U,f,P,A,w,z,F,n,E),K.lineEnd=ve,ve()}return K}}var c=(0,t.l)({point:function(M,R){this.stream.point(M*h.uR,R*h.uR)}});function b(M){return(0,t.l)({point:function(R,T){var E=M(R,T);return this.stream.point(E[0],E[1])}})}function v(M,R,T,E,A){function f(P,w){return P*=E,w*=A,[R+M*P,T-M*w]}return f.invert=function(P,w){return[(P-R)/M*E,(T-w)/M*A]},f}function l(M,R,T,E,A,f){var P=(0,h.mC)(f),w=(0,h.O$)(f),z=P*M,F=w*M,H=P/M,_=w/M,B=(w*T-P*R)/M,N=(w*R+P*T)/M;function O(U,K){return U*=E,K*=A,[z*U-F*K+R,T-F*U-z*K]}return O.invert=function(U,K){return[E*(H*U-_*K+B),A*(N-_*U-H*K)]},O}function p(M){return S(function(){return M})()}function S(M){var R,T=150,E=480,A=250,f=0,P=0,w=0,z=0,F=0,H,_=0,B=1,N=1,O=null,U=y.Z,K=null,re,ae,ue,ve=x.Z,ee=.5,J,Q,X,q,se;function Y(fe){return X(fe[0]*h.uR,fe[1]*h.uR)}function Z(fe){return fe=X.invert(fe[0],fe[1]),fe&&[fe[0]*h.RW,fe[1]*h.RW]}Y.stream=function(fe){return q&&se===fe?q:q=c(b(H)(U(J(ve(se=fe)))))},Y.preclip=function(fe){return arguments.length?(U=fe,O=void 0,te()):U},Y.postclip=function(fe){return arguments.length?(ve=fe,K=re=ae=ue=null,te()):ve},Y.clipAngle=function(fe){return arguments.length?(U=+fe?(0,C.Z)(O=fe*h.uR):(O=null,y.Z),te()):O*h.RW},Y.clipExtent=function(fe){return arguments.length?(ve=fe==null?(K=re=ae=ue=null,x.Z):(0,a.Z)(K=+fe[0][0],re=+fe[0][1],ae=+fe[1][0],ue=+fe[1][1]),te()):K==null?null:[[K,re],[ae,ue]]},Y.scale=function(fe){return arguments.length?(T=+fe,ie()):T},Y.translate=function(fe){return arguments.length?(E=+fe[0],A=+fe[1],ie()):[E,A]},Y.center=function(fe){return arguments.length?(f=fe[0]%360*h.uR,P=fe[1]%360*h.uR,ie()):[f*h.RW,P*h.RW]},Y.rotate=function(fe){return arguments.length?(w=fe[0]%360*h.uR,z=fe[1]%360*h.uR,F=fe.length>2?fe[2]%360*h.uR:0,ie()):[w*h.RW,z*h.RW,F*h.RW]},Y.angle=function(fe){return arguments.length?(_=fe%360*h.uR,ie()):_*h.RW},Y.reflectX=function(fe){return arguments.length?(B=fe?-1:1,ie()):B<0},Y.reflectY=function(fe){return arguments.length?(N=fe?-1:1,ie()):N<0},Y.precision=function(fe){return arguments.length?(J=s(Q,ee=fe*fe),te()):(0,h._b)(ee)},Y.fitExtent=function(fe,de){return(0,r.qg)(Y,fe,de)},Y.fitSize=function(fe,de){return(0,r.mF)(Y,fe,de)},Y.fitWidth=function(fe,de){return(0,r.V6)(Y,fe,de)},Y.fitHeight=function(fe,de){return(0,r.rf)(Y,fe,de)};function ie(){var fe=l(T,0,0,B,N,_).apply(null,R(f,P)),de=(_?l:v)(T,E-fe[0],A-fe[1],B,N,_);return H=(0,d.I)(w,z,F),Q=(0,L.Z)(R,de),X=(0,L.Z)(H,Q),J=s(Q,ee),te()}function te(){return q=se=null,Y}return function(){return R=M.apply(this,arguments),Y.invert=R.invert&&Z,ie()}}},26867:function(W,V,e){e.d(V,{K:function(){return a},Z:function(){return L}});var y=e(15002),C=e(39695);function a(x,h){var d=h*h,t=d*d;return[x*(.8707-.131979*d+t*(-.013791+t*(.003971*d-.001529*t))),h*(1.007226+d*(.015085+t*(-.044475+.028874*d-.005916*t)))]}a.invert=function(x,h){var d=h,t=25,r;do{var u=d*d,n=u*u;d-=r=(d*(1.007226+u*(.015085+n*(-.044475+.028874*u-.005916*n)))-h)/(1.007226+u*(.045255+n*(-.311325+.259866*u-.06507600000000001*n)))}while((0,C.Wn)(r)>C.Ho&&--t>0);return[x/(.8707+(u=d*d)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),d]};function L(){return(0,y.Z)(a).scale(175.295)}},57962:function(W,V,e){e.d(V,{I:function(){return L},Z:function(){return x}});var y=e(39695),C=e(25382),a=e(15002);function L(h,d){return[(0,y.mC)(d)*(0,y.O$)(h),(0,y.O$)(d)]}L.invert=(0,C.O)(y.ZR);function x(){return(0,a.Z)(L).scale(249.5).clipAngle(90+y.Ho)}},49386:function(W,V,e){e.d(V,{I:function(){return L},Z:function(){return t}});var y=e(96059),C=e(39695);function a(r,u){return[(0,C.Wn)(r)>C.pi?r+Math.round(-r/C.BZ)*C.BZ:r,u]}a.invert=a;function L(r,u,n){return(r%=C.BZ)?u||n?(0,y.Z)(h(r),d(u,n)):h(r):u||n?d(u,n):a}function x(r){return function(u,n){return u+=r,[u>C.pi?u-C.BZ:u<-C.pi?u+C.BZ:u,n]}}function h(r){var u=x(r);return u.invert=x(-r),u}function d(r,u){var n=(0,C.mC)(r),i=(0,C.O$)(r),s=(0,C.mC)(u),o=(0,C.O$)(u);function m(c,b){var v=(0,C.mC)(b),l=(0,C.mC)(c)*v,p=(0,C.O$)(c)*v,S=(0,C.O$)(b),M=S*n+l*i;return[(0,C.fv)(p*s-M*o,l*n-S*i),(0,C.ZR)(M*s+p*o)]}return m.invert=function(c,b){var v=(0,C.mC)(b),l=(0,C.mC)(c)*v,p=(0,C.O$)(c)*v,S=(0,C.O$)(b),M=S*s-p*o;return[(0,C.fv)(p*s+S*o,l*n+M*i),(0,C.ZR)(M*n-l*i)]},m}function t(r){r=L(r[0]*C.uR,r[1]*C.uR,r.length>2?r[2]*C.uR:0);function u(n){return n=r(n[0]*C.uR,n[1]*C.uR),n[0]*=C.RW,n[1]*=C.RW,n}return u.invert=function(n){return n=r.invert(n[0]*C.uR,n[1]*C.uR),n[0]*=C.RW,n[1]*=C.RW,n},u}},72736:function(W,V,e){e.d(V,{Z:function(){return h}});function y(d,t){d&&a.hasOwnProperty(d.type)&&a[d.type](d,t)}var C={Feature:function(d,t){y(d.geometry,t)},FeatureCollection:function(d,t){for(var r=d.features,u=-1,n=r.length;++u<n;)y(r[u].geometry,t)}},a={Sphere:function(d,t){t.sphere()},Point:function(d,t){d=d.coordinates,t.point(d[0],d[1],d[2])},MultiPoint:function(d,t){for(var r=d.coordinates,u=-1,n=r.length;++u<n;)d=r[u],t.point(d[0],d[1],d[2])},LineString:function(d,t){L(d.coordinates,t,0)},MultiLineString:function(d,t){for(var r=d.coordinates,u=-1,n=r.length;++u<n;)L(r[u],t,0)},Polygon:function(d,t){x(d.coordinates,t)},MultiPolygon:function(d,t){for(var r=d.coordinates,u=-1,n=r.length;++u<n;)x(r[u],t)},GeometryCollection:function(d,t){for(var r=d.geometries,u=-1,n=r.length;++u<n;)y(r[u],t)}};function L(d,t,r){var u=-1,n=d.length-r,i;for(t.lineStart();++u<n;)i=d[u],t.point(i[0],i[1],i[2]);t.lineEnd()}function x(d,t){var r=-1,u=d.length;for(t.polygonStart();++r<u;)L(d[r],t,1);t.polygonEnd()}function h(d,t){d&&C.hasOwnProperty(d.type)?C[d.type](d,t):y(d,t)}},64684:function(W,V,e){e.d(V,{Z:function(){return y},l:function(){return C}});function y(L){return{stream:C(L)}}function C(L){return function(x){var h=new a;for(var d in L)h[d]=L[d];return h.stream=x,h}}function a(){}a.prototype={constructor:a,point:function(L,x){this.stream.point(L,x)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(W,V,e){e.r(V),e.d(V,{cluster:function(){return t},hierarchy:function(){return M},pack:function(){return Z},packEnclose:function(){return z},packSiblings:function(){return J},partition:function(){return Ae},stratify:function(){return Ne},tree:function(){return pt},treemap:function(){return Je},treemapBinary:function(){return ze},treemapDice:function(){return we},treemapResquarify:function(){return Ue},treemapSlice:function(){return gt},treemapSliceDice:function(){return Oe},treemapSquarify:function(){return Wt}});function y(ke,Me){return ke.parent===Me.parent?1:2}function C(ke){return ke.reduce(a,0)/ke.length}function a(ke,Me){return ke+Me.x}function L(ke){return 1+ke.reduce(x,0)}function x(ke,Me){return Math.max(ke,Me.y)}function h(ke){for(var Me;Me=ke.children;)ke=Me[0];return ke}function d(ke){for(var Me;Me=ke.children;)ke=Me[Me.length-1];return ke}function t(){var ke=y,Me=1,ce=1,be=!1;function De(Ve){var it,ot=0;Ve.eachAfter(function(Pt){var Jt=Pt.children;Jt?(Pt.x=C(Jt),Pt.y=L(Jt)):(Pt.x=it?ot+=ke(Pt,it):0,Pt.y=0,it=Pt)});var Tt=h(Ve),It=d(Ve),Ht=Tt.x-ke(Tt,It)/2,Gt=It.x+ke(It,Tt)/2;return Ve.eachAfter(be?function(Pt){Pt.x=(Pt.x-Ve.x)*Me,Pt.y=(Ve.y-Pt.y)*ce}:function(Pt){Pt.x=(Pt.x-Ht)/(Gt-Ht)*Me,Pt.y=(1-(Ve.y?Pt.y/Ve.y:1))*ce})}return De.separation=function(Ve){return arguments.length?(ke=Ve,De):ke},De.size=function(Ve){return arguments.length?(be=!1,Me=+Ve[0],ce=+Ve[1],De):be?null:[Me,ce]},De.nodeSize=function(Ve){return arguments.length?(be=!0,Me=+Ve[0],ce=+Ve[1],De):be?[Me,ce]:null},De}function r(ke){var Me=0,ce=ke.children,be=ce&&ce.length;if(!be)Me=1;else for(;--be>=0;)Me+=ce[be].value;ke.value=Me}function u(){return this.eachAfter(r)}function n(ke){var Me=this,ce,be=[Me],De,Ve,it;do for(ce=be.reverse(),be=[];Me=ce.pop();)if(ke(Me),De=Me.children,De)for(Ve=0,it=De.length;Ve<it;++Ve)be.push(De[Ve]);while(be.length);return this}function i(ke){for(var Me=this,ce=[Me],be,De;Me=ce.pop();)if(ke(Me),be=Me.children,be)for(De=be.length-1;De>=0;--De)ce.push(be[De]);return this}function s(ke){for(var Me=this,ce=[Me],be=[],De,Ve,it;Me=ce.pop();)if(be.push(Me),De=Me.children,De)for(Ve=0,it=De.length;Ve<it;++Ve)ce.push(De[Ve]);for(;Me=be.pop();)ke(Me);return this}function o(ke){return this.eachAfter(function(Me){for(var ce=+ke(Me.data)||0,be=Me.children,De=be&&be.length;--De>=0;)ce+=be[De].value;Me.value=ce})}function m(ke){return this.eachBefore(function(Me){Me.children&&Me.children.sort(ke)})}function c(ke){for(var Me=this,ce=b(Me,ke),be=[Me];Me!==ce;)Me=Me.parent,be.push(Me);for(var De=be.length;ke!==ce;)be.splice(De,0,ke),ke=ke.parent;return be}function b(ke,Me){if(ke===Me)return ke;var ce=ke.ancestors(),be=Me.ancestors(),De=null;for(ke=ce.pop(),Me=be.pop();ke===Me;)De=ke,ke=ce.pop(),Me=be.pop();return De}function v(){for(var ke=this,Me=[ke];ke=ke.parent;)Me.push(ke);return Me}function l(){var ke=[];return this.each(function(Me){ke.push(Me)}),ke}function p(){var ke=[];return this.eachBefore(function(Me){Me.children||ke.push(Me)}),ke}function S(){var ke=this,Me=[];return ke.each(function(ce){ce!==ke&&Me.push({source:ce.parent,target:ce})}),Me}function M(ke,Me){var ce=new f(ke),be=+ke.value&&(ce.value=ke.value),De,Ve=[ce],it,ot,Tt,It;for(Me==null&&(Me=T);De=Ve.pop();)if(be&&(De.value=+De.data.value),(ot=Me(De.data))&&(It=ot.length))for(De.children=new Array(It),Tt=It-1;Tt>=0;--Tt)Ve.push(it=De.children[Tt]=new f(ot[Tt])),it.parent=De,it.depth=De.depth+1;return ce.eachBefore(A)}function R(){return M(this).eachBefore(E)}function T(ke){return ke.children}function E(ke){ke.data=ke.data.data}function A(ke){var Me=0;do ke.height=Me;while((ke=ke.parent)&&ke.height<++Me)}function f(ke){this.data=ke,this.depth=this.height=0,this.parent=null}f.prototype=M.prototype={constructor:f,count:u,each:n,eachAfter:s,eachBefore:i,sum:o,sort:m,path:c,ancestors:v,descendants:l,leaves:p,links:S,copy:R};var P=Array.prototype.slice;function w(ke){for(var Me=ke.length,ce,be;Me;)be=Math.random()*Me--|0,ce=ke[Me],ke[Me]=ke[be],ke[be]=ce;return ke}function z(ke){for(var Me=0,ce=(ke=w(P.call(ke))).length,be=[],De,Ve;Me<ce;)De=ke[Me],Ve&&_(Ve,De)?++Me:(Ve=N(be=F(be,De)),Me=0);return Ve}function F(ke,Me){var ce,be;if(B(Me,ke))return[Me];for(ce=0;ce<ke.length;++ce)if(H(Me,ke[ce])&&B(U(ke[ce],Me),ke))return[ke[ce],Me];for(ce=0;ce<ke.length-1;++ce)for(be=ce+1;be<ke.length;++be)if(H(U(ke[ce],ke[be]),Me)&&H(U(ke[ce],Me),ke[be])&&H(U(ke[be],Me),ke[ce])&&B(K(ke[ce],ke[be],Me),ke))return[ke[ce],ke[be],Me];throw new Error}function H(ke,Me){var ce=ke.r-Me.r,be=Me.x-ke.x,De=Me.y-ke.y;return ce<0||ce*ce<be*be+De*De}function _(ke,Me){var ce=ke.r-Me.r+1e-6,be=Me.x-ke.x,De=Me.y-ke.y;return ce>0&&ce*ce>be*be+De*De}function B(ke,Me){for(var ce=0;ce<Me.length;++ce)if(!_(ke,Me[ce]))return!1;return!0}function N(ke){switch(ke.length){case 1:return O(ke[0]);case 2:return U(ke[0],ke[1]);case 3:return K(ke[0],ke[1],ke[2])}}function O(ke){return{x:ke.x,y:ke.y,r:ke.r}}function U(ke,Me){var ce=ke.x,be=ke.y,De=ke.r,Ve=Me.x,it=Me.y,ot=Me.r,Tt=Ve-ce,It=it-be,Ht=ot-De,Gt=Math.sqrt(Tt*Tt+It*It);return{x:(ce+Ve+Tt/Gt*Ht)/2,y:(be+it+It/Gt*Ht)/2,r:(Gt+De+ot)/2}}function K(ke,Me,ce){var be=ke.x,De=ke.y,Ve=ke.r,it=Me.x,ot=Me.y,Tt=Me.r,It=ce.x,Ht=ce.y,Gt=ce.r,Pt=be-it,Jt=be-It,or=De-ot,zr=De-Ht,mt=Tt-Ve,Kt=Gt-Ve,jt=be*be+De*De-Ve*Ve,wr=jt-it*it-ot*ot+Tt*Tt,vr=jt-It*It-Ht*Ht+Gt*Gt,ct=Jt*or-Pt*zr,ut=(or*vr-zr*wr)/(ct*2)-be,bt=(zr*mt-or*Kt)/ct,At=(Jt*wr-Pt*vr)/(ct*2)-De,Ct=(Pt*Kt-Jt*mt)/ct,St=bt*bt+Ct*Ct-1,zt=2*(Ve+ut*bt+At*Ct),Vt=ut*ut+At*At-Ve*Ve,qt=-(St?(zt+Math.sqrt(zt*zt-4*St*Vt))/(2*St):Vt/zt);return{x:be+ut+bt*qt,y:De+At+Ct*qt,r:qt}}function re(ke,Me,ce){var be=ke.x-Me.x,De,Ve,it=ke.y-Me.y,ot,Tt,It=be*be+it*it;It?(Ve=Me.r+ce.r,Ve*=Ve,Tt=ke.r+ce.r,Tt*=Tt,Ve>Tt?(De=(It+Tt-Ve)/(2*It),ot=Math.sqrt(Math.max(0,Tt/It-De*De)),ce.x=ke.x-De*be-ot*it,ce.y=ke.y-De*it+ot*be):(De=(It+Ve-Tt)/(2*It),ot=Math.sqrt(Math.max(0,Ve/It-De*De)),ce.x=Me.x+De*be-ot*it,ce.y=Me.y+De*it+ot*be)):(ce.x=Me.x+ce.r,ce.y=Me.y)}function ae(ke,Me){var ce=ke.r+Me.r-1e-6,be=Me.x-ke.x,De=Me.y-ke.y;return ce>0&&ce*ce>be*be+De*De}function ue(ke){var Me=ke._,ce=ke.next._,be=Me.r+ce.r,De=(Me.x*ce.r+ce.x*Me.r)/be,Ve=(Me.y*ce.r+ce.y*Me.r)/be;return De*De+Ve*Ve}function ve(ke){this._=ke,this.next=null,this.previous=null}function ee(ke){if(!(De=ke.length))return 0;var Me,ce,be,De,Ve,it,ot,Tt,It,Ht,Gt;if(Me=ke[0],Me.x=0,Me.y=0,!(De>1))return Me.r;if(ce=ke[1],Me.x=-ce.r,ce.x=Me.r,ce.y=0,!(De>2))return Me.r+ce.r;re(ce,Me,be=ke[2]),Me=new ve(Me),ce=new ve(ce),be=new ve(be),Me.next=be.previous=ce,ce.next=Me.previous=be,be.next=ce.previous=Me;e:for(ot=3;ot<De;++ot){re(Me._,ce._,be=ke[ot]),be=new ve(be),Tt=ce.next,It=Me.previous,Ht=ce._.r,Gt=Me._.r;do if(Ht<=Gt){if(ae(Tt._,be._)){ce=Tt,Me.next=ce,ce.previous=Me,--ot;continue e}Ht+=Tt._.r,Tt=Tt.next}else{if(ae(It._,be._)){Me=It,Me.next=ce,ce.previous=Me,--ot;continue e}Gt+=It._.r,It=It.previous}while(Tt!==It.next);for(be.previous=Me,be.next=ce,Me.next=ce.previous=ce=be,Ve=ue(Me);(be=be.next)!==ce;)(it=ue(be))<Ve&&(Me=be,Ve=it);ce=Me.next}for(Me=[ce._],be=ce;(be=be.next)!==ce;)Me.push(be._);for(be=z(Me),ot=0;ot<De;++ot)Me=ke[ot],Me.x-=be.x,Me.y-=be.y;return be.r}function J(ke){return ee(ke),ke}function Q(ke){return ke==null?null:X(ke)}function X(ke){if(typeof ke!="function")throw new Error;return ke}function q(){return 0}function se(ke){return function(){return ke}}function Y(ke){return Math.sqrt(ke.value)}function Z(){var ke=null,Me=1,ce=1,be=q;function De(Ve){return Ve.x=Me/2,Ve.y=ce/2,ke?Ve.eachBefore(ie(ke)).eachAfter(te(be,.5)).eachBefore(fe(1)):Ve.eachBefore(ie(Y)).eachAfter(te(q,1)).eachAfter(te(be,Ve.r/Math.min(Me,ce))).eachBefore(fe(Math.min(Me,ce)/(2*Ve.r))),Ve}return De.radius=function(Ve){return arguments.length?(ke=Q(Ve),De):ke},De.size=function(Ve){return arguments.length?(Me=+Ve[0],ce=+Ve[1],De):[Me,ce]},De.padding=function(Ve){return arguments.length?(be=typeof Ve=="function"?Ve:se(+Ve),De):be},De}function ie(ke){return function(Me){Me.children||(Me.r=Math.max(0,+ke(Me)||0))}}function te(ke,Me){return function(ce){if(be=ce.children){var be,De,Ve=be.length,it=ke(ce)*Me||0,ot;if(it)for(De=0;De<Ve;++De)be[De].r+=it;if(ot=ee(be),it)for(De=0;De<Ve;++De)be[De].r-=it;ce.r=ot+it}}}function fe(ke){return function(Me){var ce=Me.parent;Me.r*=ke,ce&&(Me.x=ce.x+ke*Me.x,Me.y=ce.y+ke*Me.y)}}function de(ke){ke.x0=Math.round(ke.x0),ke.y0=Math.round(ke.y0),ke.x1=Math.round(ke.x1),ke.y1=Math.round(ke.y1)}function we(ke,Me,ce,be,De){for(var Ve=ke.children,it,ot=-1,Tt=Ve.length,It=ke.value&&(be-Me)/ke.value;++ot<Tt;)it=Ve[ot],it.y0=ce,it.y1=De,it.x0=Me,it.x1=Me+=it.value*It}function Ae(){var ke=1,Me=1,ce=0,be=!1;function De(it){var ot=it.height+1;return it.x0=it.y0=ce,it.x1=ke,it.y1=Me/ot,it.eachBefore(Ve(Me,ot)),be&&it.eachBefore(de),it}function Ve(it,ot){return function(Tt){Tt.children&&we(Tt,Tt.x0,it*(Tt.depth+1)/ot,Tt.x1,it*(Tt.depth+2)/ot);var It=Tt.x0,Ht=Tt.y0,Gt=Tt.x1-ce,Pt=Tt.y1-ce;Gt<It&&(It=Gt=(It+Gt)/2),Pt<Ht&&(Ht=Pt=(Ht+Pt)/2),Tt.x0=It,Tt.y0=Ht,Tt.x1=Gt,Tt.y1=Pt}}return De.round=function(it){return arguments.length?(be=!!it,De):be},De.size=function(it){return arguments.length?(ke=+it[0],Me=+it[1],De):[ke,Me]},De.padding=function(it){return arguments.length?(ce=+it,De):ce},De}var Re="$",Fe={depth:-1},Se={};function Te(ke){return ke.id}function Ee(ke){return ke.parentId}function Ne(){var ke=Te,Me=Ee;function ce(be){var De,Ve,it=be.length,ot,Tt,It,Ht=new Array(it),Gt,Pt,Jt={};for(Ve=0;Ve<it;++Ve)De=be[Ve],It=Ht[Ve]=new f(De),(Gt=ke(De,Ve,be))!=null&&(Gt+="")&&(Pt=Re+(It.id=Gt),Jt[Pt]=Pt in Jt?Se:It);for(Ve=0;Ve<it;++Ve)if(It=Ht[Ve],Gt=Me(be[Ve],Ve,be),Gt==null||!(Gt+="")){if(ot)throw new Error("multiple roots");ot=It}else{if(Tt=Jt[Re+Gt],!Tt)throw new Error("missing: "+Gt);if(Tt===Se)throw new Error("ambiguous: "+Gt);Tt.children?Tt.children.push(It):Tt.children=[It],It.parent=Tt}if(!ot)throw new Error("no root");if(ot.parent=Fe,ot.eachBefore(function(or){or.depth=or.parent.depth+1,--it}).eachBefore(A),ot.parent=null,it>0)throw new Error("cycle");return ot}return ce.id=function(be){return arguments.length?(ke=X(be),ce):ke},ce.parentId=function(be){return arguments.length?(Me=X(be),ce):Me},ce}function He(ke,Me){return ke.parent===Me.parent?1:2}function _e(ke){var Me=ke.children;return Me?Me[0]:ke.t}function We(ke){var Me=ke.children;return Me?Me[Me.length-1]:ke.t}function tt(ke,Me,ce){var be=ce/(Me.i-ke.i);Me.c-=be,Me.s+=ce,ke.c+=be,Me.z+=ce,Me.m+=ce}function Ke(ke){for(var Me=0,ce=0,be=ke.children,De=be.length,Ve;--De>=0;)Ve=be[De],Ve.z+=Me,Ve.m+=Me,Me+=Ve.s+(ce+=Ve.c)}function qe(ke,Me,ce){return ke.a.parent===Me.parent?ke.a:ce}function rt(ke,Me){this._=ke,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Me}rt.prototype=Object.create(f.prototype);function ft(ke){for(var Me=new rt(ke,0),ce,be=[Me],De,Ve,it,ot;ce=be.pop();)if(Ve=ce._.children)for(ce.children=new Array(ot=Ve.length),it=ot-1;it>=0;--it)be.push(De=ce.children[it]=new rt(Ve[it],it)),De.parent=ce;return(Me.parent=new rt(null,0)).children=[Me],Me}function pt(){var ke=He,Me=1,ce=1,be=null;function De(It){var Ht=ft(It);if(Ht.eachAfter(Ve),Ht.parent.m=-Ht.z,Ht.eachBefore(it),be)It.eachBefore(Tt);else{var Gt=It,Pt=It,Jt=It;It.eachBefore(function(jt){jt.x<Gt.x&&(Gt=jt),jt.x>Pt.x&&(Pt=jt),jt.depth>Jt.depth&&(Jt=jt)});var or=Gt===Pt?1:ke(Gt,Pt)/2,zr=or-Gt.x,mt=Me/(Pt.x+or+zr),Kt=ce/(Jt.depth||1);It.eachBefore(function(jt){jt.x=(jt.x+zr)*mt,jt.y=jt.depth*Kt})}return It}function Ve(It){var Ht=It.children,Gt=It.parent.children,Pt=It.i?Gt[It.i-1]:null;if(Ht){Ke(It);var Jt=(Ht[0].z+Ht[Ht.length-1].z)/2;Pt?(It.z=Pt.z+ke(It._,Pt._),It.m=It.z-Jt):It.z=Jt}else Pt&&(It.z=Pt.z+ke(It._,Pt._));It.parent.A=ot(It,Pt,It.parent.A||Gt[0])}function it(It){It._.x=It.z+It.parent.m,It.m+=It.parent.m}function ot(It,Ht,Gt){if(Ht){for(var Pt=It,Jt=It,or=Ht,zr=Pt.parent.children[0],mt=Pt.m,Kt=Jt.m,jt=or.m,wr=zr.m,vr;or=We(or),Pt=_e(Pt),or&&Pt;)zr=_e(zr),Jt=We(Jt),Jt.a=It,vr=or.z+jt-Pt.z-mt+ke(or._,Pt._),vr>0&&(tt(qe(or,It,Gt),It,vr),mt+=vr,Kt+=vr),jt+=or.m,mt+=Pt.m,wr+=zr.m,Kt+=Jt.m;or&&!We(Jt)&&(Jt.t=or,Jt.m+=jt-Kt),Pt&&!_e(zr)&&(zr.t=Pt,zr.m+=mt-wr,Gt=It)}return Gt}function Tt(It){It.x*=Me,It.y=It.depth*ce}return De.separation=function(It){return arguments.length?(ke=It,De):ke},De.size=function(It){return arguments.length?(be=!1,Me=+It[0],ce=+It[1],De):be?null:[Me,ce]},De.nodeSize=function(It){return arguments.length?(be=!0,Me=+It[0],ce=+It[1],De):be?[Me,ce]:null},De}function gt(ke,Me,ce,be,De){for(var Ve=ke.children,it,ot=-1,Tt=Ve.length,It=ke.value&&(De-ce)/ke.value;++ot<Tt;)it=Ve[ot],it.x0=Me,it.x1=be,it.y0=ce,it.y1=ce+=it.value*It}var Mt=(1+Math.sqrt(5))/2;function Lt(ke,Me,ce,be,De,Ve){for(var it=[],ot=Me.children,Tt,It,Ht=0,Gt=0,Pt=ot.length,Jt,or,zr=Me.value,mt,Kt,jt,wr,vr,ct,ut;Ht<Pt;){Jt=De-ce,or=Ve-be;do mt=ot[Gt++].value;while(!mt&&Gt<Pt);for(Kt=jt=mt,ct=Math.max(or/Jt,Jt/or)/(zr*ke),ut=mt*mt*ct,vr=Math.max(jt/ut,ut/Kt);Gt<Pt;++Gt){if(mt+=It=ot[Gt].value,It<Kt&&(Kt=It),It>jt&&(jt=It),ut=mt*mt*ct,wr=Math.max(jt/ut,ut/Kt),wr>vr){mt-=It;break}vr=wr}it.push(Tt={value:mt,dice:Jt<or,children:ot.slice(Ht,Gt)}),Tt.dice?we(Tt,ce,be,De,zr?be+=or*mt/zr:Ve):gt(Tt,ce,be,zr?ce+=Jt*mt/zr:De,Ve),zr-=mt,Ht=Gt}return it}var Wt=function ke(Me){function ce(be,De,Ve,it,ot){Lt(Me,be,De,Ve,it,ot)}return ce.ratio=function(be){return ke((be=+be)>1?be:1)},ce}(Mt);function Je(){var ke=Wt,Me=!1,ce=1,be=1,De=[0],Ve=q,it=q,ot=q,Tt=q,It=q;function Ht(Pt){return Pt.x0=Pt.y0=0,Pt.x1=ce,Pt.y1=be,Pt.eachBefore(Gt),De=[0],Me&&Pt.eachBefore(de),Pt}function Gt(Pt){var Jt=De[Pt.depth],or=Pt.x0+Jt,zr=Pt.y0+Jt,mt=Pt.x1-Jt,Kt=Pt.y1-Jt;mt<or&&(or=mt=(or+mt)/2),Kt<zr&&(zr=Kt=(zr+Kt)/2),Pt.x0=or,Pt.y0=zr,Pt.x1=mt,Pt.y1=Kt,Pt.children&&(Jt=De[Pt.depth+1]=Ve(Pt)/2,or+=It(Pt)-Jt,zr+=it(Pt)-Jt,mt-=ot(Pt)-Jt,Kt-=Tt(Pt)-Jt,mt<or&&(or=mt=(or+mt)/2),Kt<zr&&(zr=Kt=(zr+Kt)/2),ke(Pt,or,zr,mt,Kt))}return Ht.round=function(Pt){return arguments.length?(Me=!!Pt,Ht):Me},Ht.size=function(Pt){return arguments.length?(ce=+Pt[0],be=+Pt[1],Ht):[ce,be]},Ht.tile=function(Pt){return arguments.length?(ke=X(Pt),Ht):ke},Ht.padding=function(Pt){return arguments.length?Ht.paddingInner(Pt).paddingOuter(Pt):Ht.paddingInner()},Ht.paddingInner=function(Pt){return arguments.length?(Ve=typeof Pt=="function"?Pt:se(+Pt),Ht):Ve},Ht.paddingOuter=function(Pt){return arguments.length?Ht.paddingTop(Pt).paddingRight(Pt).paddingBottom(Pt).paddingLeft(Pt):Ht.paddingTop()},Ht.paddingTop=function(Pt){return arguments.length?(it=typeof Pt=="function"?Pt:se(+Pt),Ht):it},Ht.paddingRight=function(Pt){return arguments.length?(ot=typeof Pt=="function"?Pt:se(+Pt),Ht):ot},Ht.paddingBottom=function(Pt){return arguments.length?(Tt=typeof Pt=="function"?Pt:se(+Pt),Ht):Tt},Ht.paddingLeft=function(Pt){return arguments.length?(It=typeof Pt=="function"?Pt:se(+Pt),Ht):It},Ht}function ze(ke,Me,ce,be,De){var Ve=ke.children,it,ot=Ve.length,Tt,It=new Array(ot+1);for(It[0]=Tt=it=0;it<ot;++it)It[it+1]=Tt+=Ve[it].value;Ht(0,ot,ke.value,Me,ce,be,De);function Ht(Gt,Pt,Jt,or,zr,mt,Kt){if(Gt>=Pt-1){var jt=Ve[Gt];jt.x0=or,jt.y0=zr,jt.x1=mt,jt.y1=Kt;return}for(var wr=It[Gt],vr=Jt/2+wr,ct=Gt+1,ut=Pt-1;ct<ut;){var bt=ct+ut>>>1;It[bt]<vr?ct=bt+1:ut=bt}vr-It[ct-1]<It[ct]-vr&&Gt+1<ct&&--ct;var At=It[ct]-wr,Ct=Jt-At;if(mt-or>Kt-zr){var St=(or*Ct+mt*At)/Jt;Ht(Gt,ct,At,or,zr,St,Kt),Ht(ct,Pt,Ct,St,zr,mt,Kt)}else{var zt=(zr*Ct+Kt*At)/Jt;Ht(Gt,ct,At,or,zr,mt,zt),Ht(ct,Pt,Ct,or,zt,mt,Kt)}}}function Oe(ke,Me,ce,be,De){(ke.depth&1?gt:we)(ke,Me,ce,be,De)}var Ue=function ke(Me){function ce(be,De,Ve,it,ot){if((Tt=be._squarify)&&Tt.ratio===Me)for(var Tt,It,Ht,Gt,Pt=-1,Jt,or=Tt.length,zr=be.value;++Pt<or;){for(It=Tt[Pt],Ht=It.children,Gt=It.value=0,Jt=Ht.length;Gt<Jt;++Gt)It.value+=Ht[Gt].value;It.dice?we(It,De,Ve,it,Ve+=(ot-Ve)*It.value/zr):gt(It,De,Ve,De+=(it-De)*It.value/zr,ot),zr-=It.value}else be._squarify=Tt=Lt(Me,be,De,Ve,it,ot),Tt.ratio=Me}return ce.ratio=function(be){return ke((be=+be)>1?be:1)},ce}(Mt)},45879:function(W,V,e){e.d(V,{h5:function(){return c}});var y=Math.PI,C=2*y,a=1e-6,L=C-a;function x(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function h(){return new x}x.prototype=h.prototype={constructor:x,moveTo:function(b,v){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+v)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(b,v){this._+="L"+(this._x1=+b)+","+(this._y1=+v)},quadraticCurveTo:function(b,v,l,p){this._+="Q"+ +b+","+ +v+","+(this._x1=+l)+","+(this._y1=+p)},bezierCurveTo:function(b,v,l,p,S,M){this._+="C"+ +b+","+ +v+","+ +l+","+ +p+","+(this._x1=+S)+","+(this._y1=+M)},arcTo:function(b,v,l,p,S){b=+b,v=+v,l=+l,p=+p,S=+S;var M=this._x1,R=this._y1,T=l-b,E=p-v,A=M-b,f=R-v,P=A*A+f*f;if(S<0)throw new Error("negative radius: "+S);if(this._x1===null)this._+="M"+(this._x1=b)+","+(this._y1=v);else if(P>a)if(!(Math.abs(f*T-E*A)>a)||!S)this._+="L"+(this._x1=b)+","+(this._y1=v);else{var w=l-M,z=p-R,F=T*T+E*E,H=w*w+z*z,_=Math.sqrt(F),B=Math.sqrt(P),N=S*Math.tan((y-Math.acos((F+P-H)/(2*_*B)))/2),O=N/B,U=N/_;Math.abs(O-1)>a&&(this._+="L"+(b+O*A)+","+(v+O*f)),this._+="A"+S+","+S+",0,0,"+ +(f*w>A*z)+","+(this._x1=b+U*T)+","+(this._y1=v+U*E)}},arc:function(b,v,l,p,S,M){b=+b,v=+v,l=+l,M=!!M;var R=l*Math.cos(p),T=l*Math.sin(p),E=b+R,A=v+T,f=1^M,P=M?p-S:S-p;if(l<0)throw new Error("negative radius: "+l);this._x1===null?this._+="M"+E+","+A:(Math.abs(this._x1-E)>a||Math.abs(this._y1-A)>a)&&(this._+="L"+E+","+A),l&&(P<0&&(P=P%C+C),P>L?this._+="A"+l+","+l+",0,1,"+f+","+(b-R)+","+(v-T)+"A"+l+","+l+",0,1,"+f+","+(this._x1=E)+","+(this._y1=A):P>a&&(this._+="A"+l+","+l+",0,"+ +(P>=y)+","+f+","+(this._x1=b+l*Math.cos(S))+","+(this._y1=v+l*Math.sin(S))))},rect:function(b,v,l,p){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+v)+"h"+ +l+"v"+ +p+"h"+-l+"Z"},toString:function(){return this._}};var d=h,t=Array.prototype.slice;function r(b){return function(){return b}}function u(b){return b[0]}function n(b){return b[1]}function i(b){return b.source}function s(b){return b.target}function o(b){var v=i,l=s,p=u,S=n,M=null;function R(){var T,E=t.call(arguments),A=v.apply(this,E),f=l.apply(this,E);if(M||(M=T=d()),b(M,+p.apply(this,(E[0]=A,E)),+S.apply(this,E),+p.apply(this,(E[0]=f,E)),+S.apply(this,E)),T)return M=null,T+""||null}return R.source=function(T){return arguments.length?(v=T,R):v},R.target=function(T){return arguments.length?(l=T,R):l},R.x=function(T){return arguments.length?(p=typeof T=="function"?T:r(+T),R):p},R.y=function(T){return arguments.length?(S=typeof T=="function"?T:r(+T),R):S},R.context=function(T){return arguments.length?(M=T??null,R):M},R}function m(b,v,l,p,S){b.moveTo(v,l),b.bezierCurveTo(v=(v+p)/2,l,v,S,p,S)}function c(){return o(m)}},84096:function(W,V,e){e.d(V,{i$:function(){return ze},Dq:function(){return u},g0:function(){return Oe}});var y=e(58176),C=e(48480),a=e(59879),L=e(82301),x=e(34823),h=e(79791);function d(ke){if(0<=ke.y&&ke.y<100){var Me=new Date(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L);return Me.setFullYear(ke.y),Me}return new Date(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L)}function t(ke){if(0<=ke.y&&ke.y<100){var Me=new Date(Date.UTC(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L));return Me.setUTCFullYear(ke.y),Me}return new Date(Date.UTC(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L))}function r(ke,Me,ce){return{y:ke,m:Me,d:ce,H:0,M:0,S:0,L:0}}function u(ke){var Me=ke.dateTime,ce=ke.date,be=ke.time,De=ke.periods,Ve=ke.days,it=ke.shortDays,ot=ke.months,Tt=ke.shortMonths,It=b(De),Ht=v(De),Gt=b(Ve),Pt=v(Ve),Jt=b(it),or=v(it),zr=b(ot),mt=v(ot),Kt=b(Tt),jt=v(Tt),wr={a:Ze,A:je,b:kt,B:_t,c:null,d:re,e:re,f:J,H:ae,I:ue,j:ve,L:ee,m:Q,M:X,p:Zt,q:ar,Q:Lt,s:Wt,S:q,u:se,U:Y,V:Z,w:ie,W:te,x:null,X:null,y:fe,Y:de,Z:we,"%":Mt},vr={a:ur,A:nr,b:Ot,B:cr,c:null,d:Ae,e:Ae,f:Ee,H:Re,I:Fe,j:Se,L:Te,m:Ne,M:He,p:pr,q:gr,Q:Lt,s:Wt,S:_e,u:We,U:tt,V:Ke,w:qe,W:rt,x:null,X:null,y:ft,Y:pt,Z:gt,"%":Mt},ct={a:St,A:zt,b:Vt,B:qt,c:$t,d:w,e:w,f:N,H:F,I:F,j:z,L:B,m:P,M:H,p:Ct,q:f,Q:U,s:K,S:_,u:p,U:S,V:M,w:l,W:R,x:sr,X:Cr,y:E,Y:T,Z:A,"%":O};wr.x=ut(ce,wr),wr.X=ut(be,wr),wr.c=ut(Me,wr),vr.x=ut(ce,vr),vr.X=ut(be,vr),vr.c=ut(Me,vr);function ut(dr,Gr){return function(kr){var Fr=[],gn=-1,Kr=0,kn=dr.length,In,br,Mr;for(kr instanceof Date||(kr=new Date(+kr));++gn<kn;)dr.charCodeAt(gn)===37&&(Fr.push(dr.slice(Kr,gn)),(br=n[In=dr.charAt(++gn)])!=null?In=dr.charAt(++gn):br=In==="e"?" ":"0",(Mr=Gr[In])&&(In=Mr(kr,br)),Fr.push(In),Kr=gn+1);return Fr.push(dr.slice(Kr,gn)),Fr.join("")}}function bt(dr,Gr){return function(kr){var Fr=r(1900,void 0,1),gn=At(Fr,dr,kr+="",0),Kr,kn;if(gn!=kr.length)return null;if("Q"in Fr)return new Date(Fr.Q);if("s"in Fr)return new Date(Fr.s*1e3+("L"in Fr?Fr.L:0));if(Gr&&!("Z"in Fr)&&(Fr.Z=0),"p"in Fr&&(Fr.H=Fr.H%12+Fr.p*12),Fr.m===void 0&&(Fr.m="q"in Fr?Fr.q:0),"V"in Fr){if(Fr.V<1||Fr.V>53)return null;"w"in Fr||(Fr.w=1),"Z"in Fr?(Kr=t(r(Fr.y,0,1)),kn=Kr.getUTCDay(),Kr=kn>4||kn===0?y.l6.ceil(Kr):(0,y.l6)(Kr),Kr=C.Z.offset(Kr,(Fr.V-1)*7),Fr.y=Kr.getUTCFullYear(),Fr.m=Kr.getUTCMonth(),Fr.d=Kr.getUTCDate()+(Fr.w+6)%7):(Kr=d(r(Fr.y,0,1)),kn=Kr.getDay(),Kr=kn>4||kn===0?a.wA.ceil(Kr):(0,a.wA)(Kr),Kr=L.Z.offset(Kr,(Fr.V-1)*7),Fr.y=Kr.getFullYear(),Fr.m=Kr.getMonth(),Fr.d=Kr.getDate()+(Fr.w+6)%7)}else("W"in Fr||"U"in Fr)&&("w"in Fr||(Fr.w="u"in Fr?Fr.u%7:"W"in Fr?1:0),kn="Z"in Fr?t(r(Fr.y,0,1)).getUTCDay():d(r(Fr.y,0,1)).getDay(),Fr.m=0,Fr.d="W"in Fr?(Fr.w+6)%7+Fr.W*7-(kn+5)%7:Fr.w+Fr.U*7-(kn+6)%7);return"Z"in Fr?(Fr.H+=Fr.Z/100|0,Fr.M+=Fr.Z%100,t(Fr)):d(Fr)}}function At(dr,Gr,kr,Fr){for(var gn=0,Kr=Gr.length,kn=kr.length,In,br;gn<Kr;){if(Fr>=kn)return-1;if(In=Gr.charCodeAt(gn++),In===37){if(In=Gr.charAt(gn++),br=ct[In in n?Gr.charAt(gn++):In],!br||(Fr=br(dr,kr,Fr))<0)return-1}else if(In!=kr.charCodeAt(Fr++))return-1}return Fr}function Ct(dr,Gr,kr){var Fr=It.exec(Gr.slice(kr));return Fr?(dr.p=Ht[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function St(dr,Gr,kr){var Fr=Jt.exec(Gr.slice(kr));return Fr?(dr.w=or[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function zt(dr,Gr,kr){var Fr=Gt.exec(Gr.slice(kr));return Fr?(dr.w=Pt[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function Vt(dr,Gr,kr){var Fr=Kt.exec(Gr.slice(kr));return Fr?(dr.m=jt[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function qt(dr,Gr,kr){var Fr=zr.exec(Gr.slice(kr));return Fr?(dr.m=mt[Fr[0].toLowerCase()],kr+Fr[0].length):-1}function $t(dr,Gr,kr){return At(dr,Me,Gr,kr)}function sr(dr,Gr,kr){return At(dr,ce,Gr,kr)}function Cr(dr,Gr,kr){return At(dr,be,Gr,kr)}function Ze(dr){return it[dr.getDay()]}function je(dr){return Ve[dr.getDay()]}function kt(dr){return Tt[dr.getMonth()]}function _t(dr){return ot[dr.getMonth()]}function Zt(dr){return De[+(dr.getHours()>=12)]}function ar(dr){return 1+~~(dr.getMonth()/3)}function ur(dr){return it[dr.getUTCDay()]}function nr(dr){return Ve[dr.getUTCDay()]}function Ot(dr){return Tt[dr.getUTCMonth()]}function cr(dr){return ot[dr.getUTCMonth()]}function pr(dr){return De[+(dr.getUTCHours()>=12)]}function gr(dr){return 1+~~(dr.getUTCMonth()/3)}return{format:function(dr){var Gr=ut(dr+="",wr);return Gr.toString=function(){return dr},Gr},parse:function(dr){var Gr=bt(dr+="",!1);return Gr.toString=function(){return dr},Gr},utcFormat:function(dr){var Gr=ut(dr+="",vr);return Gr.toString=function(){return dr},Gr},utcParse:function(dr){var Gr=bt(dr+="",!0);return Gr.toString=function(){return dr},Gr}}}var n={"-":"",_:" ",0:"0"},i=/^\s*\d+/,s=/^%/,o=/[\\^$*+?|[\]().{}]/g;function m(ke,Me,ce){var be=ke<0?"-":"",De=(be?-ke:ke)+"",Ve=De.length;return be+(Ve<ce?new Array(ce-Ve+1).join(Me)+De:De)}function c(ke){return ke.replace(o,"\\$&")}function b(ke){return new RegExp("^(?:"+ke.map(c).join("|")+")","i")}function v(ke){for(var Me={},ce=-1,be=ke.length;++ce<be;)Me[ke[ce].toLowerCase()]=ce;return Me}function l(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+1));return be?(ke.w=+be[0],ce+be[0].length):-1}function p(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+1));return be?(ke.u=+be[0],ce+be[0].length):-1}function S(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.U=+be[0],ce+be[0].length):-1}function M(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.V=+be[0],ce+be[0].length):-1}function R(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.W=+be[0],ce+be[0].length):-1}function T(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+4));return be?(ke.y=+be[0],ce+be[0].length):-1}function E(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.y=+be[0]+(+be[0]>68?1900:2e3),ce+be[0].length):-1}function A(ke,Me,ce){var be=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Me.slice(ce,ce+6));return be?(ke.Z=be[1]?0:-(be[2]+(be[3]||"00")),ce+be[0].length):-1}function f(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+1));return be?(ke.q=be[0]*3-3,ce+be[0].length):-1}function P(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.m=be[0]-1,ce+be[0].length):-1}function w(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.d=+be[0],ce+be[0].length):-1}function z(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+3));return be?(ke.m=0,ke.d=+be[0],ce+be[0].length):-1}function F(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.H=+be[0],ce+be[0].length):-1}function H(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.M=+be[0],ce+be[0].length):-1}function _(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+2));return be?(ke.S=+be[0],ce+be[0].length):-1}function B(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+3));return be?(ke.L=+be[0],ce+be[0].length):-1}function N(ke,Me,ce){var be=i.exec(Me.slice(ce,ce+6));return be?(ke.L=Math.floor(be[0]/1e3),ce+be[0].length):-1}function O(ke,Me,ce){var be=s.exec(Me.slice(ce,ce+1));return be?ce+be[0].length:-1}function U(ke,Me,ce){var be=i.exec(Me.slice(ce));return be?(ke.Q=+be[0],ce+be[0].length):-1}function K(ke,Me,ce){var be=i.exec(Me.slice(ce));return be?(ke.s=+be[0],ce+be[0].length):-1}function re(ke,Me){return m(ke.getDate(),Me,2)}function ae(ke,Me){return m(ke.getHours(),Me,2)}function ue(ke,Me){return m(ke.getHours()%12||12,Me,2)}function ve(ke,Me){return m(1+L.Z.count((0,x.Z)(ke),ke),Me,3)}function ee(ke,Me){return m(ke.getMilliseconds(),Me,3)}function J(ke,Me){return ee(ke,Me)+"000"}function Q(ke,Me){return m(ke.getMonth()+1,Me,2)}function X(ke,Me){return m(ke.getMinutes(),Me,2)}function q(ke,Me){return m(ke.getSeconds(),Me,2)}function se(ke){var Me=ke.getDay();return Me===0?7:Me}function Y(ke,Me){return m(a.OM.count((0,x.Z)(ke)-1,ke),Me,2)}function Z(ke,Me){var ce=ke.getDay();return ke=ce>=4||ce===0?(0,a.bL)(ke):a.bL.ceil(ke),m(a.bL.count((0,x.Z)(ke),ke)+((0,x.Z)(ke).getDay()===4),Me,2)}function ie(ke){return ke.getDay()}function te(ke,Me){return m(a.wA.count((0,x.Z)(ke)-1,ke),Me,2)}function fe(ke,Me){return m(ke.getFullYear()%100,Me,2)}function de(ke,Me){return m(ke.getFullYear()%1e4,Me,4)}function we(ke){var Me=ke.getTimezoneOffset();return(Me>0?"-":(Me*=-1,"+"))+m(Me/60|0,"0",2)+m(Me%60,"0",2)}function Ae(ke,Me){return m(ke.getUTCDate(),Me,2)}function Re(ke,Me){return m(ke.getUTCHours(),Me,2)}function Fe(ke,Me){return m(ke.getUTCHours()%12||12,Me,2)}function Se(ke,Me){return m(1+C.Z.count((0,h.Z)(ke),ke),Me,3)}function Te(ke,Me){return m(ke.getUTCMilliseconds(),Me,3)}function Ee(ke,Me){return Te(ke,Me)+"000"}function Ne(ke,Me){return m(ke.getUTCMonth()+1,Me,2)}function He(ke,Me){return m(ke.getUTCMinutes(),Me,2)}function _e(ke,Me){return m(ke.getUTCSeconds(),Me,2)}function We(ke){var Me=ke.getUTCDay();return Me===0?7:Me}function tt(ke,Me){return m(y.Ox.count((0,h.Z)(ke)-1,ke),Me,2)}function Ke(ke,Me){var ce=ke.getUTCDay();return ke=ce>=4||ce===0?(0,y.hB)(ke):y.hB.ceil(ke),m(y.hB.count((0,h.Z)(ke),ke)+((0,h.Z)(ke).getUTCDay()===4),Me,2)}function qe(ke){return ke.getUTCDay()}function rt(ke,Me){return m(y.l6.count((0,h.Z)(ke)-1,ke),Me,2)}function ft(ke,Me){return m(ke.getUTCFullYear()%100,Me,2)}function pt(ke,Me){return m(ke.getUTCFullYear()%1e4,Me,4)}function gt(){return"+0000"}function Mt(){return"%"}function Lt(ke){return+ke}function Wt(ke){return Math.floor(+ke/1e3)}var Je,ze,Oe;Ue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ue(ke){return Je=u(ke),ze=Je.format,Je.parse,Oe=Je.utcFormat,Je.utcParse,Je}},82301:function(W,V,e){e.d(V,{a:function(){return L}});var y=e(30052),C=e(54263),a=(0,y.Z)(function(x){x.setHours(0,0,0,0)},function(x,h){x.setDate(x.getDate()+h)},function(x,h){return(h-x-(h.getTimezoneOffset()-x.getTimezoneOffset())*C.yB)/C.UD},function(x){return x.getDate()-1});V.Z=a;var L=a.range},54263:function(W,V,e){e.d(V,{UD:function(){return L},Y2:function(){return a},Ym:function(){return y},iM:function(){return x},yB:function(){return C}});var y=1e3,C=6e4,a=36e5,L=864e5,x=6048e5},81041:function(W,V,e){e.r(V),e.d(V,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return s},timeHours:function(){return o},timeInterval:function(){return y.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return L},timeMinute:function(){return u},timeMinutes:function(){return n},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return v},timeMonths:function(){return l},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return d},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return p.Z},timeYears:function(){return p.g},utcDay:function(){return f.Z},utcDays:function(){return f.y},utcFriday:function(){return P.QQ},utcFridays:function(){return P.fz},utcHour:function(){return E},utcHours:function(){return A},utcMillisecond:function(){return a},utcMilliseconds:function(){return L},utcMinute:function(){return M},utcMinutes:function(){return R},utcMonday:function(){return P.l6},utcMondays:function(){return P.$3},utcMonth:function(){return z},utcMonths:function(){return F},utcSaturday:function(){return P.g4},utcSaturdays:function(){return P.Q_},utcSecond:function(){return d},utcSeconds:function(){return t},utcSunday:function(){return P.Ox},utcSundays:function(){return P.SU},utcThursday:function(){return P.hB},utcThursdays:function(){return P.xj},utcTuesday:function(){return P.J1},utcTuesdays:function(){return P.DK},utcWednesday:function(){return P.b3},utcWednesdays:function(){return P.uy},utcWeek:function(){return P.Ox},utcWeeks:function(){return P.SU},utcYear:function(){return H.Z},utcYears:function(){return H.D}});var y=e(30052),C=(0,y.Z)(function(){},function(_,B){_.setTime(+_+B)},function(_,B){return B-_});C.every=function(_){return _=Math.floor(_),!isFinite(_)||!(_>0)?null:_>1?(0,y.Z)(function(B){B.setTime(Math.floor(B/_)*_)},function(B,N){B.setTime(+B+N*_)},function(B,N){return(N-B)/_}):C};var a=C,L=C.range,x=e(54263),h=(0,y.Z)(function(_){_.setTime(_-_.getMilliseconds())},function(_,B){_.setTime(+_+B*x.Ym)},function(_,B){return(B-_)/x.Ym},function(_){return _.getUTCSeconds()}),d=h,t=h.range,r=(0,y.Z)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*x.Ym)},function(_,B){_.setTime(+_+B*x.yB)},function(_,B){return(B-_)/x.yB},function(_){return _.getMinutes()}),u=r,n=r.range,i=(0,y.Z)(function(_){_.setTime(_-_.getMilliseconds()-_.getSeconds()*x.Ym-_.getMinutes()*x.yB)},function(_,B){_.setTime(+_+B*x.Y2)},function(_,B){return(B-_)/x.Y2},function(_){return _.getHours()}),s=i,o=i.range,m=e(82301),c=e(59879),b=(0,y.Z)(function(_){_.setDate(1),_.setHours(0,0,0,0)},function(_,B){_.setMonth(_.getMonth()+B)},function(_,B){return B.getMonth()-_.getMonth()+(B.getFullYear()-_.getFullYear())*12},function(_){return _.getMonth()}),v=b,l=b.range,p=e(34823),S=(0,y.Z)(function(_){_.setUTCSeconds(0,0)},function(_,B){_.setTime(+_+B*x.yB)},function(_,B){return(B-_)/x.yB},function(_){return _.getUTCMinutes()}),M=S,R=S.range,T=(0,y.Z)(function(_){_.setUTCMinutes(0,0,0)},function(_,B){_.setTime(+_+B*x.Y2)},function(_,B){return(B-_)/x.Y2},function(_){return _.getUTCHours()}),E=T,A=T.range,f=e(48480),P=e(58176),w=(0,y.Z)(function(_){_.setUTCDate(1),_.setUTCHours(0,0,0,0)},function(_,B){_.setUTCMonth(_.getUTCMonth()+B)},function(_,B){return B.getUTCMonth()-_.getUTCMonth()+(B.getUTCFullYear()-_.getUTCFullYear())*12},function(_){return _.getUTCMonth()}),z=w,F=w.range,H=e(79791)},30052:function(W,V,e){e.d(V,{Z:function(){return a}});var y=new Date,C=new Date;function a(L,x,h,d){function t(r){return L(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return L(r=new Date(+r)),r},t.ceil=function(r){return L(r=new Date(r-1)),x(r,1),L(r),r},t.round=function(r){var u=t(r),n=t.ceil(r);return r-u<n-r?u:n},t.offset=function(r,u){return x(r=new Date(+r),u==null?1:Math.floor(u)),r},t.range=function(r,u,n){var i=[],s;if(r=t.ceil(r),n=n==null?1:Math.floor(n),!(r<u)||!(n>0))return i;do i.push(s=new Date(+r)),x(r,n),L(r);while(s<r&&r<u);return i},t.filter=function(r){return a(function(u){if(u>=u)for(;L(u),!r(u);)u.setTime(u-1)},function(u,n){if(u>=u)if(n<0)for(;++n<=0;)for(;x(u,-1),!r(u););else for(;--n>=0;)for(;x(u,1),!r(u););})},h&&(t.count=function(r,u){return y.setTime(+r),C.setTime(+u),L(y),L(C),Math.floor(h(y,C))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(d?function(u){return d(u)%r===0}:function(u){return t.count(0,u)%r===0}):t}),t}},48480:function(W,V,e){e.d(V,{y:function(){return L}});var y=e(30052),C=e(54263),a=(0,y.Z)(function(x){x.setUTCHours(0,0,0,0)},function(x,h){x.setUTCDate(x.getUTCDate()+h)},function(x,h){return(h-x)/C.UD},function(x){return x.getUTCDate()-1});V.Z=a;var L=a.range},58176:function(W,V,e){e.d(V,{$3:function(){return i},DK:function(){return s},J1:function(){return h},Ox:function(){return L},QQ:function(){return r},Q_:function(){return b},SU:function(){return n},b3:function(){return d},fz:function(){return c},g4:function(){return u},hB:function(){return t},l6:function(){return x},uy:function(){return o},xj:function(){return m}});var y=e(30052),C=e(54263);function a(v){return(0,y.Z)(function(l){l.setUTCDate(l.getUTCDate()-(l.getUTCDay()+7-v)%7),l.setUTCHours(0,0,0,0)},function(l,p){l.setUTCDate(l.getUTCDate()+p*7)},function(l,p){return(p-l)/C.iM})}var L=a(0),x=a(1),h=a(2),d=a(3),t=a(4),r=a(5),u=a(6),n=L.range,i=x.range,s=h.range,o=d.range,m=t.range,c=r.range,b=u.range},79791:function(W,V,e){e.d(V,{D:function(){return a}});var y=e(30052),C=(0,y.Z)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,x){L.setUTCFullYear(L.getUTCFullYear()+x)},function(L,x){return x.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});C.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,y.Z)(function(x){x.setUTCFullYear(Math.floor(x.getUTCFullYear()/L)*L),x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0)},function(x,h){x.setUTCFullYear(x.getUTCFullYear()+h*L)})},V.Z=C;var a=C.range},59879:function(W,V,e){e.d(V,{$t:function(){return m},EY:function(){return u},Ff:function(){return b},Ld:function(){return o},OM:function(){return L},aU:function(){return s},b$:function(){return c},bJ:function(){return i},bL:function(){return t},mC:function(){return r},sy:function(){return h},vm:function(){return n},wA:function(){return x},zg:function(){return d}});var y=e(30052),C=e(54263);function a(v){return(0,y.Z)(function(l){l.setDate(l.getDate()-(l.getDay()+7-v)%7),l.setHours(0,0,0,0)},function(l,p){l.setDate(l.getDate()+p*7)},function(l,p){return(p-l-(p.getTimezoneOffset()-l.getTimezoneOffset())*C.yB)/C.iM})}var L=a(0),x=a(1),h=a(2),d=a(3),t=a(4),r=a(5),u=a(6),n=L.range,i=x.range,s=h.range,o=d.range,m=t.range,c=r.range,b=u.range},34823:function(W,V,e){e.d(V,{g:function(){return a}});var y=e(30052),C=(0,y.Z)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,x){L.setFullYear(L.getFullYear()+x)},function(L,x){return x.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});C.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,y.Z)(function(x){x.setFullYear(Math.floor(x.getFullYear()/L)*L),x.setMonth(0,1),x.setHours(0,0,0,0)},function(x,h){x.setFullYear(x.getFullYear()+h*L)})},V.Z=C;var a=C.range},17045:function(W,V,e){var y=e(8709),C=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,L=Array.prototype.concat,x=Object.defineProperty,h=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},d=e(55622)(),t=x&&d,r=function(n,i,s,o){if(i in n){if(o===!0){if(n[i]===s)return}else if(!h(o)||!o())return}t?x(n,i,{configurable:!0,enumerable:!1,value:s,writable:!0}):n[i]=s},u=function(n,i){var s=arguments.length>2?arguments[2]:{},o=y(i);C&&(o=L.call(o,Object.getOwnPropertySymbols(i)));for(var m=0;m<o.length;m+=1)r(n,o[m],i[o[m]],s[o[m]])};u.supportsDescriptors=!!t,W.exports=u},46775:function(W){W.exports=function(){for(var V=0;V<arguments.length;V++)if(arguments[V]!==void 0)return arguments[V]}},53545:function(W){W.exports=C;var V=C.canvas=document.createElement("canvas"),e=V.getContext("2d"),y=a([32,126]);C.createPairs=a,C.ascii=y;function C(L,x){Array.isArray(L)&&(L=L.join(", "));var h={},d,t=16,r=.05;x&&(x.length===2&&typeof x[0]=="number"?d=a(x):Array.isArray(x)?d=x:(x.o?d=a(x.o):x.pairs&&(d=x.pairs),x.fontSize&&(t=x.fontSize),x.threshold!=null&&(r=x.threshold))),d||(d=y),e.font=t+"px "+L;for(var u=0;u<d.length;u++){var n=d[u],i=e.measureText(n[0]).width+e.measureText(n[1]).width,s=e.measureText(n).width;if(Math.abs(i-s)>t*r){var o=(s-i)/t;h[n]=o*1e3}}return h}function a(L){for(var x=[],h=L[0];h<=L[1];h++)for(var d=String.fromCharCode(h),t=L[0];t<L[1];t++){var r=String.fromCharCode(t),u=d+r;x.push(u)}return x}},31457:function(W,V,e){var y=e(65185),C=e(18625),a={M:"moveTo",C:"bezierCurveTo"};W.exports=function(L,x){L.beginPath(),C(y(x)).forEach(function(h){var d=h[0],t=h.slice(1);L[a[d]].apply(L,t)}),L.closePath()}},90660:function(W){W.exports=function(V){switch(V){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(W){function V(C,a,L){var x=C[L]|0;if(x<=0)return[];var h=new Array(x),d;if(L===C.length-1)for(d=0;d<x;++d)h[d]=a;else for(d=0;d<x;++d)h[d]=V(C,a,L+1);return h}function e(C,a){var L,x;for(L=new Array(C),x=0;x<C;++x)L[x]=a;return L}function y(C,a){switch(typeof a>"u"&&(a=0),typeof C){case"number":if(C>0)return e(C|0,a);break;case"object":if(typeof C.length=="number")return V(C,a,0);break}return[]}W.exports=y},11474:function(W){W.exports=V,W.exports.default=V;function V(F,H,_){_=_||2;var B=H&&H.length,N=B?H[0]*_:F.length,O=e(F,0,N,_,!0),U=[];if(!O||O.next===O.prev)return U;var K,re,ae,ue,ve,ee,J;if(B&&(O=d(F,H,O,_)),F.length>80*_){K=ae=F[0],re=ue=F[1];for(var Q=_;Q<N;Q+=_)ve=F[Q],ee=F[Q+1],ve<K&&(K=ve),ee<re&&(re=ee),ve>ae&&(ae=ve),ee>ue&&(ue=ee);J=Math.max(ae-K,ue-re),J=J!==0?1/J:0}return C(O,U,_,K,re,J),U}function e(F,H,_,B,N){var O,U;if(N===z(F,H,_,B)>0)for(O=H;O<_;O+=B)U=f(O,F[O],F[O+1],U);else for(O=_-B;O>=H;O-=B)U=f(O,F[O],F[O+1],U);return U&&l(U,U.next)&&(P(U),U=U.next),U}function y(F,H){if(!F)return F;H||(H=F);var _=F,B;do if(B=!1,!_.steiner&&(l(_,_.next)||v(_.prev,_,_.next)===0)){if(P(_),_=H=_.prev,_===_.next)break;B=!0}else _=_.next;while(B||_!==H);return H}function C(F,H,_,B,N,O,U){if(F){!U&&O&&i(F,B,N,O);for(var K=F,re,ae;F.prev!==F.next;){if(re=F.prev,ae=F.next,O?L(F,B,N,O):a(F)){H.push(re.i/_),H.push(F.i/_),H.push(ae.i/_),P(F),F=ae.next,K=ae.next;continue}if(F=ae,F===K){U?U===1?(F=x(y(F),H,_),C(F,H,_,B,N,O,2)):U===2&&h(F,H,_,B,N,O):C(y(F),H,_,B,N,O,1);break}}}}function a(F){var H=F.prev,_=F,B=F.next;if(v(H,_,B)>=0)return!1;for(var N=F.next.next;N!==F.prev;){if(c(H.x,H.y,_.x,_.y,B.x,B.y,N.x,N.y)&&v(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function L(F,H,_,B){var N=F.prev,O=F,U=F.next;if(v(N,O,U)>=0)return!1;for(var K=N.x<O.x?N.x<U.x?N.x:U.x:O.x<U.x?O.x:U.x,re=N.y<O.y?N.y<U.y?N.y:U.y:O.y<U.y?O.y:U.y,ae=N.x>O.x?N.x>U.x?N.x:U.x:O.x>U.x?O.x:U.x,ue=N.y>O.y?N.y>U.y?N.y:U.y:O.y>U.y?O.y:U.y,ve=o(K,re,H,_,B),ee=o(ae,ue,H,_,B),J=F.prevZ,Q=F.nextZ;J&&J.z>=ve&&Q&&Q.z<=ee;){if(J!==F.prev&&J!==F.next&&c(N.x,N.y,O.x,O.y,U.x,U.y,J.x,J.y)&&v(J.prev,J,J.next)>=0||(J=J.prevZ,Q!==F.prev&&Q!==F.next&&c(N.x,N.y,O.x,O.y,U.x,U.y,Q.x,Q.y)&&v(Q.prev,Q,Q.next)>=0))return!1;Q=Q.nextZ}for(;J&&J.z>=ve;){if(J!==F.prev&&J!==F.next&&c(N.x,N.y,O.x,O.y,U.x,U.y,J.x,J.y)&&v(J.prev,J,J.next)>=0)return!1;J=J.prevZ}for(;Q&&Q.z<=ee;){if(Q!==F.prev&&Q!==F.next&&c(N.x,N.y,O.x,O.y,U.x,U.y,Q.x,Q.y)&&v(Q.prev,Q,Q.next)>=0)return!1;Q=Q.nextZ}return!0}function x(F,H,_){var B=F;do{var N=B.prev,O=B.next.next;!l(N,O)&&p(N,B,B.next,O)&&T(N,O)&&T(O,N)&&(H.push(N.i/_),H.push(B.i/_),H.push(O.i/_),P(B),P(B.next),B=F=O),B=B.next}while(B!==F);return y(B)}function h(F,H,_,B,N,O){var U=F;do{for(var K=U.next.next;K!==U.prev;){if(U.i!==K.i&&b(U,K)){var re=A(U,K);U=y(U,U.next),re=y(re,re.next),C(U,H,_,B,N,O),C(re,H,_,B,N,O);return}K=K.next}U=U.next}while(U!==F)}function d(F,H,_,B){var N=[],O,U,K,re,ae;for(O=0,U=H.length;O<U;O++)K=H[O]*B,re=O<U-1?H[O+1]*B:F.length,ae=e(F,K,re,B,!1),ae===ae.next&&(ae.steiner=!0),N.push(m(ae));for(N.sort(t),O=0;O<N.length;O++)r(N[O],_),_=y(_,_.next);return _}function t(F,H){return F.x-H.x}function r(F,H){if(H=u(F,H),H){var _=A(H,F);y(H,H.next),y(_,_.next)}}function u(F,H){var _=H,B=F.x,N=F.y,O=-1/0,U;do{if(N<=_.y&&N>=_.next.y&&_.next.y!==_.y){var K=_.x+(N-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(K<=B&&K>O){if(O=K,K===B){if(N===_.y)return _;if(N===_.next.y)return _.next}U=_.x<_.next.x?_:_.next}}_=_.next}while(_!==H);if(!U)return null;if(B===O)return U;var re=U,ae=U.x,ue=U.y,ve=1/0,ee;_=U;do B>=_.x&&_.x>=ae&&B!==_.x&&c(N<ue?B:O,N,ae,ue,N<ue?O:B,N,_.x,_.y)&&(ee=Math.abs(N-_.y)/(B-_.x),T(_,F)&&(ee<ve||ee===ve&&(_.x>U.x||_.x===U.x&&n(U,_)))&&(U=_,ve=ee)),_=_.next;while(_!==re);return U}function n(F,H){return v(F.prev,F,H.prev)<0&&v(H.next,F,F.next)<0}function i(F,H,_,B){var N=F;do N.z===null&&(N.z=o(N.x,N.y,H,_,B)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==F);N.prevZ.nextZ=null,N.prevZ=null,s(N)}function s(F){var H,_,B,N,O,U,K,re,ae=1;do{for(_=F,F=null,O=null,U=0;_;){for(U++,B=_,K=0,H=0;H<ae&&(K++,B=B.nextZ,!!B);H++);for(re=ae;K>0||re>0&&B;)K!==0&&(re===0||!B||_.z<=B.z)?(N=_,_=_.nextZ,K--):(N=B,B=B.nextZ,re--),O?O.nextZ=N:F=N,N.prevZ=O,O=N;_=B}O.nextZ=null,ae*=2}while(U>1);return F}function o(F,H,_,B,N){return F=32767*(F-_)*N,H=32767*(H-B)*N,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,F|H<<1}function m(F){var H=F,_=F;do(H.x<_.x||H.x===_.x&&H.y<_.y)&&(_=H),H=H.next;while(H!==F);return _}function c(F,H,_,B,N,O,U,K){return(N-U)*(H-K)-(F-U)*(O-K)>=0&&(F-U)*(B-K)-(_-U)*(H-K)>=0&&(_-U)*(O-K)-(N-U)*(B-K)>=0}function b(F,H){return F.next.i!==H.i&&F.prev.i!==H.i&&!R(F,H)&&(T(F,H)&&T(H,F)&&E(F,H)&&(v(F.prev,F,H.prev)||v(F,H.prev,H))||l(F,H)&&v(F.prev,F,F.next)>0&&v(H.prev,H,H.next)>0)}function v(F,H,_){return(H.y-F.y)*(_.x-H.x)-(H.x-F.x)*(_.y-H.y)}function l(F,H){return F.x===H.x&&F.y===H.y}function p(F,H,_,B){var N=M(v(F,H,_)),O=M(v(F,H,B)),U=M(v(_,B,F)),K=M(v(_,B,H));return!!(N!==O&&U!==K||N===0&&S(F,_,H)||O===0&&S(F,B,H)||U===0&&S(_,F,B)||K===0&&S(_,H,B))}function S(F,H,_){return H.x<=Math.max(F.x,_.x)&&H.x>=Math.min(F.x,_.x)&&H.y<=Math.max(F.y,_.y)&&H.y>=Math.min(F.y,_.y)}function M(F){return F>0?1:F<0?-1:0}function R(F,H){var _=F;do{if(_.i!==F.i&&_.next.i!==F.i&&_.i!==H.i&&_.next.i!==H.i&&p(_,_.next,F,H))return!0;_=_.next}while(_!==F);return!1}function T(F,H){return v(F.prev,F,F.next)<0?v(F,H,F.next)>=0&&v(F,F.prev,H)>=0:v(F,H,F.prev)<0||v(F,F.next,H)<0}function E(F,H){var _=F,B=!1,N=(F.x+H.x)/2,O=(F.y+H.y)/2;do _.y>O!=_.next.y>O&&_.next.y!==_.y&&N<(_.next.x-_.x)*(O-_.y)/(_.next.y-_.y)+_.x&&(B=!B),_=_.next;while(_!==F);return B}function A(F,H){var _=new w(F.i,F.x,F.y),B=new w(H.i,H.x,H.y),N=F.next,O=H.prev;return F.next=H,H.prev=F,_.next=N,N.prev=_,B.next=_,_.prev=B,O.next=B,B.prev=O,B}function f(F,H,_,B){var N=new w(F,H,_);return B?(N.next=B.next,N.prev=B,B.next.prev=N,B.next=N):(N.prev=N,N.next=N),N}function P(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function w(F,H,_){this.i=F,this.x=H,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}V.deviation=function(F,H,_,B){var N=H&&H.length,O=N?H[0]*_:F.length,U=Math.abs(z(F,0,O,_));if(N)for(var K=0,re=H.length;K<re;K++){var ae=H[K]*_,ue=K<re-1?H[K+1]*_:F.length;U-=Math.abs(z(F,ae,ue,_))}var ve=0;for(K=0;K<B.length;K+=3){var ee=B[K]*_,J=B[K+1]*_,Q=B[K+2]*_;ve+=Math.abs((F[ee]-F[Q])*(F[J+1]-F[ee+1])-(F[ee]-F[J])*(F[Q+1]-F[ee+1]))}return U===0&&ve===0?0:Math.abs((ve-U)/U)};function z(F,H,_,B){for(var N=0,O=H,U=_-B;O<_;O+=B)N+=(F[U]-F[O])*(F[O+1]+F[U+1]),U=O;return N}V.flatten=function(F){for(var H=F[0][0].length,_={vertices:[],holes:[],dimensions:H},B=0,N=0;N<F.length;N++){for(var O=0;O<F[N].length;O++)for(var U=0;U<H;U++)_.vertices.push(F[N][O][U]);N>0&&(B+=F[N-1].length,_.holes.push(B))}return _}},2502:function(W,V,e){var y=e(68664);W.exports=function(a,L){var x=[],h=[],d=[],t={},r=[],u;function n(S){d[S]=!1,t.hasOwnProperty(S)&&Object.keys(t[S]).forEach(function(M){delete t[S][M],d[M]&&n(M)})}function i(S){var M=!1;h.push(S),d[S]=!0;var R,T;for(R=0;R<r[S].length;R++)T=r[S][R],T===u?(s(u,h),M=!0):d[T]||(M=i(T));if(M)n(S);else for(R=0;R<r[S].length;R++){T=r[S][R];var E=t[T];E||(E={},t[T]=E),E[T]=!0}return h.pop(),M}function s(S,M){var R=[].concat(M).concat(S);L?L(i):x.push(R)}function o(S){for(var M=0;M<a.length;M++)M<S&&(a[M]=[]),a[M]=a[M].filter(function(R){return R>=S})}function m(S){o(S);for(var M=a,R=y(M),T=R.components.filter(function(F){return F.length>1}),E=1/0,A,f=0;f<T.length;f++)for(var P=0;P<T[f].length;P++)T[f][P]<E&&(E=T[f][P],A=f);var w=T[A];if(!w)return!1;var z=a.map(function(F,H){return w.indexOf(H)===-1?[]:F.filter(function(_){return w.indexOf(_)!==-1})});return{leastVertex:E,adjList:z}}u=0;for(var c=a.length;u<c;){var b=m(u);if(u=b.leastVertex,r=b.adjList,r){for(var v=0;v<r.length;v++)for(var l=0;l<r[v].length;l++){var p=r[v][l];d[+p]=!1,t[p]={}}i(u),u=u+1}else u=c}if(!L)return x}},16134:function(W,V,e){var y=e(36672);W.exports=function(){return y(this).length=0,this}},4892:function(W,V,e){W.exports=e(64404)()?Array.from:e(49441)},64404:function(W){W.exports=function(){var V=Array.from,e,y;return typeof V!="function"?!1:(e=["raz","dwa"],y=V(e),!!(y&&y!==e&&y[1]==="dwa"))}},49441:function(W,V,e){var y=e(8260).iterator,C=e(73051),a=e(33717),L=e(35976),x=e(78513),h=e(36672),d=e(95296),t=e(87963),r=Array.isArray,u=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},i=Object.defineProperty;W.exports=function(s){var o=arguments[1],m=arguments[2],c,b,v,l,p,S,M,R,T,E;if(s=Object(h(s)),d(o)&&x(o),!this||this===Array||!a(this)){if(!o){if(C(s))return p=s.length,p!==1?Array.apply(null,s):(l=new Array(1),l[0]=s[0],l);if(r(s)){for(l=new Array(p=s.length),b=0;b<p;++b)l[b]=s[b];return l}}l=[]}else c=this;if(!r(s)){if((T=s[y])!==void 0){for(M=x(T).call(s),c&&(l=new c),R=M.next(),b=0;!R.done;)E=o?u.call(o,m,R.value,b):R.value,c?(n.value=E,i(l,b,n)):l[b]=E,R=M.next(),++b;p=b}else if(t(s)){for(p=s.length,c&&(l=new c),b=0,v=0;b<p;++b)E=s[b],b+1<p&&(S=E.charCodeAt(0),S>=55296&&S<=56319&&(E+=s[++b])),E=o?u.call(o,m,E,v):E,c?(n.value=E,i(l,v,n)):l[v]=E,++v;p=v}}if(p===void 0)for(p=L(s.length),c&&(l=new c(p)),b=0;b<p;++b)E=o?u.call(o,m,s[b],b):s[b],c?(n.value=E,i(l,b,n)):l[b]=E;return c&&(n.value=null,l.length=p),l}},73051:function(W){var V=Object.prototype.toString,e=V.call(function(){return arguments}());W.exports=function(y){return V.call(y)===e}},33717:function(W){var V=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);W.exports=function(y){return typeof y=="function"&&e(V.call(y))}},52345:function(W){W.exports=function(){}},9953:function(W,V,e){W.exports=e(90436)()?Math.sign:e(6069)},90436:function(W){W.exports=function(){var V=Math.sign;return typeof V!="function"?!1:V(10)===1&&V(-20)===-1}},6069:function(W){W.exports=function(V){return V=Number(V),isNaN(V)||V===0?V:V>0?1:-1}},56247:function(W,V,e){var y=e(9953),C=Math.abs,a=Math.floor;W.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:y(L)*a(C(L)))}},35976:function(W,V,e){var y=e(56247),C=Math.max;W.exports=function(a){return C(0,y(a))}},67260:function(W,V,e){var y=e(78513),C=e(36672),a=Function.prototype.bind,L=Function.prototype.call,x=Object.keys,h=Object.prototype.propertyIsEnumerable;W.exports=function(d,t){return function(r,u){var n,i=arguments[2],s=arguments[3];return r=Object(C(r)),y(u),n=x(r),s&&n.sort(typeof s=="function"?a.call(s,r):void 0),typeof d!="function"&&(d=n[d]),L.call(d,n,function(o,m){return h.call(r,o)?L.call(u,i,r[o],o,r,m):t})}}},95879:function(W,V,e){W.exports=e(73583)()?Object.assign:e(34205)},73583:function(W){W.exports=function(){var V=Object.assign,e;return typeof V!="function"?!1:(e={foo:"raz"},V(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(W,V,e){var y=e(68700),C=e(36672),a=Math.max;W.exports=function(L,x){var h,d,t=a(arguments.length,2),r;for(L=Object(C(L)),r=function(u){try{L[u]=x[u]}catch(n){h||(h=n)}},d=1;d<t;++d)x=arguments[d],y(x).forEach(r);if(h!==void 0)throw h;return L}},19012:function(W,V,e){var y=e(4892),C=e(95879),a=e(36672);W.exports=function(L){var x=Object(a(L)),h=arguments[1],d=Object(arguments[2]);if(x!==L&&!h)return x;var t={};return h?y(h,function(r){(d.ensure||r in L)&&(t[r]=L[r])}):C(t,L),t}},52818:function(W,V,e){var y=Object.create,C;e(33247)()||(C=e(51882)),W.exports=function(){var a,L,x;return!C||C.level!==1?y:(a={},L={},x={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(h){if(h==="__proto__"){L[h]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[h]=x}),Object.defineProperties(a,L),Object.defineProperty(C,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(h,d){return y(h===null?a:h,d)})}()},96437:function(W,V,e){W.exports=e(67260)("forEach")},99611:function(W,V,e){var y=e(95296),C={function:!0,object:!0};W.exports=function(a){return y(a)&&C[typeof a]||!1}},95296:function(W,V,e){var y=e(52345)();W.exports=function(C){return C!==y&&C!==null}},68700:function(W,V,e){W.exports=e(13895)()?Object.keys:e(25217)},13895:function(W){W.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(W,V,e){var y=e(95296),C=Object.keys;W.exports=function(a){return C(y(a)?Object(a):a)}},16906:function(W,V,e){var y=e(78513),C=e(96437),a=Function.prototype.call;W.exports=function(L,x){var h={},d=arguments[2];return y(x),C(L,function(t,r,u,n){h[r]=a.call(x,d,t,r,u,n)}),h}},21780:function(W,V,e){var y=e(95296),C=Array.prototype.forEach,a=Object.create,L=function(x,h){var d;for(d in x)h[d]=x[d]};W.exports=function(x){var h=a(null);return C.call(arguments,function(d){y(d)&&L(Object(d),h)}),h}},1496:function(W,V,e){W.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(W){var V=Object.create,e=Object.getPrototypeOf,y={};W.exports=function(){var C=Object.setPrototypeOf,a=arguments[0]||V;return typeof C!="function"?!1:e(C(a(null),y))===y}},51882:function(W,V,e){var y=e(99611),C=e(36672),a=Object.prototype.isPrototypeOf,L=Object.defineProperty,x={configurable:!0,enumerable:!1,writable:!0,value:void 0},h;h=function(d,t){if(C(d),t===null||y(t))return d;throw new TypeError("Prototype must be null or an object")},W.exports=function(d){var t,r;return d?(d.level===2?d.set?(r=d.set,t=function(u,n){return r.call(h(u,n),n),u}):t=function(u,n){return h(u,n).__proto__=n,u}:t=function u(n,i){var s;return h(n,i),s=a.call(u.nullPolyfill,n),s&&delete u.nullPolyfill.__proto__,i===null&&(i=u.nullPolyfill),n.__proto__=i,s&&L(u.nullPolyfill,"__proto__",x),n},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:d.level})):null}(function(){var d=Object.create(null),t={},r,u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(u){try{r=u.set,r.call(d,t)}catch{}if(Object.getPrototypeOf(d)===t)return{set:r,level:2}}return d.__proto__=t,Object.getPrototypeOf(d)===t?{level:2}:(d={},d.__proto__=t,Object.getPrototypeOf(d)===t?{level:1}:!1)}()),e(52818)},78513:function(W){W.exports=function(V){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}},98976:function(W,V,e){var y=e(99611);W.exports=function(C){if(!y(C))throw new TypeError(C+" is not an Object");return C}},36672:function(W,V,e){var y=e(95296);W.exports=function(C){if(!y(C))throw new TypeError("Cannot use null or undefined");return C}},66741:function(W,V,e){W.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(W){var V="razdwatrzy";W.exports=function(){return typeof V.contains!="function"?!1:V.contains("dwa")===!0&&V.contains("foo")===!1}},60381:function(W){var V=String.prototype.indexOf;W.exports=function(e){return V.call(this,e,arguments[1])>-1}},87963:function(W){var V=Object.prototype.toString,e=V.call("");W.exports=function(y){return typeof y=="string"||y&&typeof y=="object"&&(y instanceof String||V.call(y)===e)||!1}},43043:function(W){var V=Object.create(null),e=Math.random;W.exports=function(){var y;do y=e().toString(36).slice(2);while(V[y]);return y}},32411:function(W,V,e){var y=e(1496),C=e(66741),a=e(62072),L=e(8260),x=e(95426),h=Object.defineProperty,d;d=W.exports=function(t,r){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");x.call(this,t),r?C.call(r,"key+value")?r="key+value":C.call(r,"key")?r="key":r="value":r="value",h(this,"__kind__",a("",r))},y&&y(d,x),delete d.prototype.constructor,d.prototype=Object.create(x.prototype,{_resolve:a(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),h(d.prototype,L.toStringTag,a("c","Array Iterator"))},27515:function(W,V,e){var y=e(73051),C=e(78513),a=e(87963),L=e(66661),x=Array.isArray,h=Function.prototype.call,d=Array.prototype.some;W.exports=function(t,r){var u,n=arguments[2],i,s,o,m,c,b,v;if(x(t)||y(t)?u="array":a(t)?u="string":t=L(t),C(r),s=function(){o=!0},u==="array"){d.call(t,function(l){return h.call(r,n,l,s),o});return}if(u==="string"){for(c=t.length,m=0;m<c&&(b=t[m],m+1<c&&(v=b.charCodeAt(0),v>=55296&&v<=56319&&(b+=t[++m])),h.call(r,n,b,s),!o);++m);return}for(i=t.next();!i.done;){if(h.call(r,n,i.value,s),o)return;i=t.next()}}},66661:function(W,V,e){var y=e(73051),C=e(87963),a=e(32411),L=e(259),x=e(58095),h=e(8260).iterator;W.exports=function(d){return typeof x(d)[h]=="function"?d[h]():y(d)?new a(d):C(d)?new L(d):new a(d)}},95426:function(W,V,e){var y=e(16134),C=e(95879),a=e(78513),L=e(36672),x=e(62072),h=e(55174),d=e(8260),t=Object.defineProperty,r=Object.defineProperties,u;W.exports=u=function(n,i){if(!(this instanceof u))throw new TypeError("Constructor requires 'new'");r(this,{__list__:x("w",L(n)),__context__:x("w",i),__nextIndex__:x("w",0)}),i&&(a(i.on),i.on("_add",this._onAdd),i.on("_delete",this._onDelete),i.on("_clear",this._onClear))},delete u.prototype.constructor,r(u.prototype,C({_next:x(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:x(function(){return this._createResult(this._next())}),_createResult:x(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:x(function(n){return this.__list__[n]}),_unBind:x(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:x(function(){return"[object "+(this[d.toStringTag]||"Object")+"]"})},h({_onAdd:x(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",x("c",[n]));return}this.__redo__.forEach(function(i,s){i>=n&&(this.__redo__[s]=++i)},this),this.__redo__.push(n)}}),_onDelete:x(function(n){var i;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(i=this.__redo__.indexOf(n),i!==-1&&this.__redo__.splice(i,1),this.__redo__.forEach(function(s,o){s>n&&(this.__redo__[o]=--s)},this)))}),_onClear:x(function(){this.__redo__&&y.call(this.__redo__),this.__nextIndex__=0})}))),t(u.prototype,d.iterator,x(function(){return this}))},35940:function(W,V,e){var y=e(73051),C=e(95296),a=e(87963),L=e(8260).iterator,x=Array.isArray;W.exports=function(h){return C(h)?x(h)||a(h)||y(h)?!0:typeof h[L]=="function":!1}},259:function(W,V,e){var y=e(1496),C=e(62072),a=e(8260),L=e(95426),x=Object.defineProperty,h;h=W.exports=function(d){if(!(this instanceof h))throw new TypeError("Constructor requires 'new'");d=String(d),L.call(this,d),x(this,"__length__",C("",d.length))},y&&y(h,L),delete h.prototype.constructor,h.prototype=Object.create(L.prototype,{_next:C(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:C(function(d){var t=this.__list__[d],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),x(h.prototype,a.toStringTag,C("c","String Iterator"))},58095:function(W,V,e){var y=e(35940);W.exports=function(C){if(!y(C))throw new TypeError(C+" is not iterable");return C}},73523:function(W){function V(y,C){if(y==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(y),L=1;L<arguments.length;L++){var x=arguments[L];if(x!=null)for(var h=Object.keys(Object(x)),d=0,t=h.length;d<t;d++){var r=h[d],u=Object.getOwnPropertyDescriptor(x,r);u!==void 0&&u.enumerable&&(a[r]=x[r])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:V})}W.exports={assign:V,polyfill:e}},8260:function(W,V,e){W.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(W,V,e){var y=e(94908),C={object:!0,symbol:!0};W.exports=function(){var a=y.Symbol,L;if(typeof a!="function")return!1;L=a("test symbol");try{String(L)}catch{return!1}return!(!C[typeof a.iterator]||!C[typeof a.toPrimitive]||!C[typeof a.toStringTag])}},82276:function(W){W.exports=function(V){return V?typeof V=="symbol"?!0:!V.constructor||V.constructor.name!=="Symbol"?!1:V[V.constructor.toStringTag]==="Symbol":!1}},29366:function(W,V,e){var y=e(62072),C=Object.create,a=Object.defineProperty,L=Object.prototype,x=C(null);W.exports=function(h){for(var d=0,t,r;x[h+(d||"")];)++d;return h+=d||"",x[h]=!0,t="@@"+h,a(L,t,y.gs(null,function(u){r||(r=!0,a(this,t,y(u)),r=!1)})),t}},92842:function(W,V,e){var y=e(62072),C=e(94908).Symbol;W.exports=function(a){return Object.defineProperties(a,{hasInstance:y("",C&&C.hasInstance||a("hasInstance")),isConcatSpreadable:y("",C&&C.isConcatSpreadable||a("isConcatSpreadable")),iterator:y("",C&&C.iterator||a("iterator")),match:y("",C&&C.match||a("match")),replace:y("",C&&C.replace||a("replace")),search:y("",C&&C.search||a("search")),species:y("",C&&C.species||a("species")),split:y("",C&&C.split||a("split")),toPrimitive:y("",C&&C.toPrimitive||a("toPrimitive")),toStringTag:y("",C&&C.toStringTag||a("toStringTag")),unscopables:y("",C&&C.unscopables||a("unscopables"))})}},13304:function(W,V,e){var y=e(62072),C=e(53308),a=Object.create(null);W.exports=function(L){return Object.defineProperties(L,{for:y(function(x){return a[x]?a[x]:a[x]=L(String(x))}),keyFor:y(function(x){var h;C(x);for(h in a)if(a[h]===x)return h})})}},18415:function(W,V,e){var y=e(62072),C=e(53308),a=e(94908).Symbol,L=e(29366),x=e(92842),h=e(13304),d=Object.create,t=Object.defineProperties,r=Object.defineProperty,u,n,i;if(typeof a=="function")try{String(a()),i=!0}catch{}else a=null;n=function(o){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return u(o)},W.exports=u=function s(o){var m;if(this instanceof s)throw new TypeError("Symbol is not a constructor");return i?a(o):(m=d(n.prototype),o=o===void 0?"":String(o),t(m,{__description__:y("",o),__name__:y("",L(o))}))},x(u),h(u),t(n.prototype,{constructor:y(u),toString:y("",function(){return this.__name__})}),t(u.prototype,{toString:y(function(){return"Symbol ("+C(this).__description__+")"}),valueOf:y(function(){return C(this)})}),r(u.prototype,u.toPrimitive,y("",function(){var s=C(this);return typeof s=="symbol"?s:s.toString()})),r(u.prototype,u.toStringTag,y("c","Symbol")),r(n.prototype,u.toStringTag,y("c",u.prototype[u.toStringTag])),r(n.prototype,u.toPrimitive,y("c",u.prototype[u.toPrimitive]))},53308:function(W,V,e){var y=e(82276);W.exports=function(C){if(!y(C))throw new TypeError(C+" is not a symbol");return C}},83522:function(W,V,e){W.exports=e(96402)()?WeakMap:e(329)},96402:function(W){W.exports=function(){var V,e;if(typeof WeakMap!="function")return!1;try{V=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(V)!=="[object WeakMap]"||typeof V.set!="function"||V.set({},1)!==V||typeof V.delete!="function"||typeof V.has!="function"||V.get(e)!=="one")}},96416:function(W){W.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(W,V,e){var y=e(95296),C=e(1496),a=e(98976),L=e(36672),x=e(43043),h=e(62072),d=e(66661),t=e(27515),r=e(8260).toStringTag,u=e(96416),n=Array.isArray,i=Object.defineProperty,s=Object.prototype.hasOwnProperty,o=Object.getPrototypeOf,m;W.exports=m=function(){var c=arguments[0],b;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return b=u&&C&&WeakMap!==m?C(new WeakMap,o(this)):this,y(c)&&(n(c)||(c=d(c))),i(b,"__weakMapData__",h("c","$weakMap$"+x())),c&&t(c,function(v){L(v),b.set(v[0],v[1])}),b},u&&(C&&C(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:h(m)})),Object.defineProperties(m.prototype,{delete:h(function(c){return s.call(a(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:h(function(c){if(s.call(a(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:h(function(c){return s.call(a(c),this.__weakMapData__)}),set:h(function(c,b){return i(a(c),this.__weakMapData__,h("c",b)),this}),toString:h(function(){return"[object WeakMap]"})}),i(m.prototype,r,h("c","WeakMap"))},15398:function(W){var V=typeof Reflect=="object"?Reflect:null,e=V&&typeof V.apply=="function"?V.apply:function(p,S,M){return Function.prototype.apply.call(p,S,M)},y;V&&typeof V.ownKeys=="function"?y=V.ownKeys:Object.getOwnPropertySymbols?y=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:y=function(p){return Object.getOwnPropertyNames(p)};function C(l){console&&console.warn&&console.warn(l)}var a=Number.isNaN||function(p){return p!==p};function L(){L.init.call(this)}W.exports=L,W.exports.once=c,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var x=10;function h(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(l){if(typeof l!="number"||l<0||a(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");x=l}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||a(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function d(l){return l._maxListeners===void 0?L.defaultMaxListeners:l._maxListeners}L.prototype.getMaxListeners=function(){return d(this)},L.prototype.emit=function(p){for(var S=[],M=1;M<arguments.length;M++)S.push(arguments[M]);var R=p==="error",T=this._events;if(T!==void 0)R=R&&T.error===void 0;else if(!R)return!1;if(R){var E;if(S.length>0&&(E=S[0]),E instanceof Error)throw E;var A=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw A.context=E,A}var f=T[p];if(f===void 0)return!1;if(typeof f=="function")e(f,this,S);else for(var P=f.length,w=s(f,P),M=0;M<P;++M)e(w[M],this,S);return!0};function t(l,p,S,M){var R,T,E;if(h(S),T=l._events,T===void 0?(T=l._events=Object.create(null),l._eventsCount=0):(T.newListener!==void 0&&(l.emit("newListener",p,S.listener?S.listener:S),T=l._events),E=T[p]),E===void 0)E=T[p]=S,++l._eventsCount;else if(typeof E=="function"?E=T[p]=M?[S,E]:[E,S]:M?E.unshift(S):E.push(S),R=d(l),R>0&&E.length>R&&!E.warned){E.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=l,A.type=p,A.count=E.length,C(A)}return l}L.prototype.addListener=function(p,S){return t(this,p,S,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(p,S){return t(this,p,S,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(l,p,S){var M={fired:!1,wrapFn:void 0,target:l,type:p,listener:S},R=r.bind(M);return R.listener=S,M.wrapFn=R,R}L.prototype.once=function(p,S){return h(S),this.on(p,u(this,p,S)),this},L.prototype.prependOnceListener=function(p,S){return h(S),this.prependListener(p,u(this,p,S)),this},L.prototype.removeListener=function(p,S){var M,R,T,E,A;if(h(S),R=this._events,R===void 0)return this;if(M=R[p],M===void 0)return this;if(M===S||M.listener===S)--this._eventsCount===0?this._events=Object.create(null):(delete R[p],R.removeListener&&this.emit("removeListener",p,M.listener||S));else if(typeof M!="function"){for(T=-1,E=M.length-1;E>=0;E--)if(M[E]===S||M[E].listener===S){A=M[E].listener,T=E;break}if(T<0)return this;T===0?M.shift():o(M,T),M.length===1&&(R[p]=M[0]),R.removeListener!==void 0&&this.emit("removeListener",p,A||S)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(p){var S,M,R;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[p]),this;if(arguments.length===0){var T=Object.keys(M),E;for(R=0;R<T.length;++R)E=T[R],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=M[p],typeof S=="function")this.removeListener(p,S);else if(S!==void 0)for(R=S.length-1;R>=0;R--)this.removeListener(p,S[R]);return this};function n(l,p,S){var M=l._events;if(M===void 0)return[];var R=M[p];return R===void 0?[]:typeof R=="function"?S?[R.listener||R]:[R]:S?m(R):s(R,R.length)}L.prototype.listeners=function(p){return n(this,p,!0)},L.prototype.rawListeners=function(p){return n(this,p,!1)},L.listenerCount=function(l,p){return typeof l.listenerCount=="function"?l.listenerCount(p):i.call(l,p)},L.prototype.listenerCount=i;function i(l){var p=this._events;if(p!==void 0){var S=p[l];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]};function s(l,p){for(var S=new Array(p),M=0;M<p;++M)S[M]=l[M];return S}function o(l,p){for(;p+1<l.length;p++)l[p]=l[p+1];l.pop()}function m(l){for(var p=new Array(l.length),S=0;S<p.length;++S)p[S]=l[S].listener||l[S];return p}function c(l,p){return new Promise(function(S,M){function R(E){l.removeListener(p,T),M(E)}function T(){typeof l.removeListener=="function"&&l.removeListener("error",R),S([].slice.call(arguments))}v(l,p,T,{once:!0}),p!=="error"&&b(l,R,{once:!0})})}function b(l,p,S){typeof l.on=="function"&&v(l,"error",p,S)}function v(l,p,S,M){if(typeof l.on=="function")M.once?l.once(p,S):l.on(p,S);else if(typeof l.addEventListener=="function")l.addEventListener(p,function R(T){M.once&&l.removeEventListener(p,R),S(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof l)}},60774:function(W){var V=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};W.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return V()}try{return __global__||V()}finally{delete Object.prototype.__global__}}()},94908:function(W,V,e){W.exports=e(51152)()?globalThis:e(60774)},51152:function(W){W.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(W,V,e){var y=e(18546);W.exports=function(C){var a=typeof C;if(a==="string"){var L=C;if(C=+C,C===0&&y(L))return!1}else if(a!=="number")return!1;return C-C<1}},30120:function(W,V,e){var y=e(90660);W.exports=C;function C(a,L,x){if(!a)throw new TypeError("must specify data as first parameter");if(x=+(x||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var h=a[0].length,d=a.length*h,t,r,u,n;(!L||typeof L=="string")&&(L=new(y(L||"float32"))(d+x));var i=L.length-x;if(d!==i)throw new Error("source length "+d+" ("+h+"x"+a.length+") does not match destination length "+i);for(t=0,u=x;t<a.length;t++)for(r=0;r<h;r++)L[u++]=a[t][r]===null?NaN:a[t][r]}else if(!L||typeof L=="string"){var s=y(L||"float32");if(Array.isArray(a)||L==="array")for(L=new s(a.length+x),t=0,u=x,n=L.length;u<n;u++,t++)L[u]=a[t]===null?NaN:a[t];else x===0?L=new s(a):(L=new s(a.length+x),L.set(a,x))}else L.set(a,x);return L}},68016:function(W,V,e){var y=e(53313),C=[32,126];W.exports=a;function a(L){L=L||{};var x=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],h=L.canvas||document.createElement("canvas"),d=L.font,t=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],r=L.chars||C;if(d&&typeof d!="string"&&(d=y(d)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var u=[],n=r[0],i=0;n<=r[1];n++)u[i++]=String.fromCharCode(n);r=u}x=x.slice(),h.width=x[0],h.height=x[1];var s=h.getContext("2d");s.fillStyle="#000",s.fillRect(0,0,h.width,h.height),s.font=d,s.textAlign="center",s.textBaseline="middle",s.fillStyle="#fff";for(var o=t[0]/2,m=t[1]/2,n=0;n<r.length;n++)s.fillText(r[n],o,m),(o+=t[0])>x[0]-t[0]/2&&(o=t[0]/2,m+=t[1]);return h}},32879:function(W){W.exports=V,V.canvas=document.createElement("canvas"),V.cache={};function V(r,L){L||(L={}),(typeof r=="string"||Array.isArray(r))&&(L.family=r);var x=Array.isArray(L.family)?L.family.join(", "):L.family;if(!x)throw Error("`family` must be defined");var h=L.size||L.fontSize||L.em||48,d=L.weight||L.fontWeight||"",t=L.style||L.fontStyle||"",r=[t,d,h].join(" ")+"px "+x,u=L.origin||"top";if(V.cache[x]&&h<=V.cache[x].em)return e(V.cache[x],u);var n=L.canvas||V.canvas,i=n.getContext("2d"),s={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},o=Math.ceil(h*1.5);n.height=o,n.width=o*.5,i.font=r;var m="H",c={top:0};i.clearRect(0,0,o,o),i.textBaseline="top",i.fillStyle="black",i.fillText(m,0,0);var b=y(i.getImageData(0,0,o,o));i.clearRect(0,0,o,o),i.textBaseline="bottom",i.fillText(m,0,o);var v=y(i.getImageData(0,0,o,o));c.lineHeight=c.bottom=o-v+b,i.clearRect(0,0,o,o),i.textBaseline="alphabetic",i.fillText(m,0,o);var l=y(i.getImageData(0,0,o,o)),p=o-l-1+b;c.baseline=c.alphabetic=p,i.clearRect(0,0,o,o),i.textBaseline="middle",i.fillText(m,0,o*.5);var S=y(i.getImageData(0,0,o,o));c.median=c.middle=o-S-1+b-o*.5,i.clearRect(0,0,o,o),i.textBaseline="hanging",i.fillText(m,0,o*.5);var M=y(i.getImageData(0,0,o,o));c.hanging=o-M-1+b-o*.5,i.clearRect(0,0,o,o),i.textBaseline="ideographic",i.fillText(m,0,o);var R=y(i.getImageData(0,0,o,o));if(c.ideographic=o-R-1+b,s.upper&&(i.clearRect(0,0,o,o),i.textBaseline="top",i.fillText(s.upper,0,0),c.upper=y(i.getImageData(0,0,o,o)),c.capHeight=c.baseline-c.upper),s.lower&&(i.clearRect(0,0,o,o),i.textBaseline="top",i.fillText(s.lower,0,0),c.lower=y(i.getImageData(0,0,o,o)),c.xHeight=c.baseline-c.lower),s.tittle&&(i.clearRect(0,0,o,o),i.textBaseline="top",i.fillText(s.tittle,0,0),c.tittle=y(i.getImageData(0,0,o,o))),s.ascent&&(i.clearRect(0,0,o,o),i.textBaseline="top",i.fillText(s.ascent,0,0),c.ascent=y(i.getImageData(0,0,o,o))),s.descent&&(i.clearRect(0,0,o,o),i.textBaseline="top",i.fillText(s.descent,0,0),c.descent=C(i.getImageData(0,0,o,o))),s.overshoot){i.clearRect(0,0,o,o),i.textBaseline="top",i.fillText(s.overshoot,0,0);var T=C(i.getImageData(0,0,o,o));c.overshoot=T-p}for(var E in c)c[E]/=h;return c.em=h,V.cache[x]=c,e(c,u)}function e(a,L){var x={};typeof L=="string"&&(L=a[L]);for(var h in a)h!=="em"&&(x[h]=a[h]-L);return x}function y(a){for(var L=a.height,x=a.data,h=3;h<x.length;h+=4)if(x[h]!==0)return Math.floor((h-3)*.25/L)}function C(a){for(var L=a.height,x=a.data,h=x.length-1;h>0;h-=4)if(x[h]!==0)return Math.floor((h-3)*.25/L)}},31353:function(W,V,e){var y=e(85395),C=Object.prototype.toString,a=Object.prototype.hasOwnProperty,L=function(r,u,n){for(var i=0,s=r.length;i<s;i++)a.call(r,i)&&(n==null?u(r[i],i,r):u.call(n,r[i],i,r))},x=function(r,u,n){for(var i=0,s=r.length;i<s;i++)n==null?u(r.charAt(i),i,r):u.call(n,r.charAt(i),i,r)},h=function(r,u,n){for(var i in r)a.call(r,i)&&(n==null?u(r[i],i,r):u.call(n,r[i],i,r))},d=function(r,u,n){if(!y(u))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),C.call(r)==="[object Array]"?L(r,u,i):typeof r=="string"?x(r,u,i):h(r,u,i)};W.exports=d},73047:function(W){var V="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,y=Object.prototype.toString,C="[object Function]";W.exports=function(L){var x=this;if(typeof x!="function"||y.call(x)!==C)throw new TypeError(V+x);for(var h=e.call(arguments,1),d,t=function(){if(this instanceof d){var s=x.apply(this,h.concat(e.call(arguments)));return Object(s)===s?s:this}else return x.apply(L,h.concat(e.call(arguments)))},r=Math.max(0,x.length-h.length),u=[],n=0;n<r;n++)u.push("$"+n);if(d=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(t),x.prototype){var i=function(){};i.prototype=x.prototype,d.prototype=new i,i.prototype=null}return d}},77575:function(W,V,e){var y=e(73047);W.exports=Function.prototype.bind||y},86249:function(W){W.exports=V;function V(e,y){if(typeof e!="string")throw new TypeError("must specify type string");if(y=y||{},typeof document>"u"&&!y.canvas)return null;var C=y.canvas||document.createElement("canvas");typeof y.width=="number"&&(C.width=y.width),typeof y.height=="number"&&(C.height=y.height);var a=y,L;try{var x=[e];e.indexOf("webgl")===0&&x.push("experimental-"+e);for(var h=0;h<x.length;h++)if(L=C.getContext(x[h],a),L)return L}catch{L=null}return L||null}},68318:function(W,V,e){var y,C=SyntaxError,a=Function,L=TypeError,x=function(P){try{return a('"use strict"; return ('+P+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var d=function(){throw new L},t=h?function(){try{return arguments.callee,d}catch{try{return h(arguments,"callee").get}catch{return d}}}():d,r=e(57877)(),u=Object.getPrototypeOf||function(P){return P.__proto__},n={},i=typeof Uint8Array>"u"?y:u(Uint8Array),s={"%AggregateError%":typeof AggregateError>"u"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?y:ArrayBuffer,"%ArrayIteratorPrototype%":r?u([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?y:Atomics,"%BigInt%":typeof BigInt>"u"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?y:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?u(u([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map>"u"?y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?y:u(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?y:Promise,"%Proxy%":typeof Proxy>"u"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?y:u(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?u(""[Symbol.iterator]()):y,"%Symbol%":r?Symbol:y,"%SyntaxError%":C,"%ThrowTypeError%":t,"%TypedArray%":i,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?y:WeakSet};try{null.error}catch(P){var o=u(u(P));s["%Error.prototype%"]=o}var m=function P(w){var z;if(w==="%AsyncFunction%")z=x("async function () {}");else if(w==="%GeneratorFunction%")z=x("function* () {}");else if(w==="%AsyncGeneratorFunction%")z=x("async function* () {}");else if(w==="%AsyncGenerator%"){var F=P("%AsyncGeneratorFunction%");F&&(z=F.prototype)}else if(w==="%AsyncIteratorPrototype%"){var H=P("%AsyncGenerator%");H&&(z=u(H.prototype))}return s[w]=z,z},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=e(77575),v=e(35065),l=b.call(Function.call,Array.prototype.concat),p=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),M=b.call(Function.call,String.prototype.slice),R=b.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,A=function(w){var z=M(w,0,1),F=M(w,-1);if(z==="%"&&F!=="%")throw new C("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&z!=="%")throw new C("invalid intrinsic syntax, expected opening `%`");var H=[];return S(w,T,function(_,B,N,O){H[H.length]=N?S(O,E,"$1"):B||_}),H},f=function(w,z){var F=w,H;if(v(c,F)&&(H=c[F],F="%"+H[0]+"%"),v(s,F)){var _=s[F];if(_===n&&(_=m(F)),typeof _>"u"&&!z)throw new L("intrinsic "+w+" exists, but is not available. Please file an issue!");return{alias:H,name:F,value:_}}throw new C("intrinsic "+w+" does not exist!")};W.exports=function(w,z){if(typeof w!="string"||w.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new L('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,w)===null)throw new C("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=A(w),H=F.length>0?F[0]:"",_=f("%"+H+"%",z),B=_.name,N=_.value,O=!1,U=_.alias;U&&(H=U[0],p(F,l([0,1],U)));for(var K=1,re=!0;K<F.length;K+=1){var ae=F[K],ue=M(ae,0,1),ve=M(ae,-1);if((ue==='"'||ue==="'"||ue==="`"||ve==='"'||ve==="'"||ve==="`")&&ue!==ve)throw new C("property names with quotes must have matching quotes");if((ae==="constructor"||!re)&&(O=!0),H+="."+ae,B="%"+H+"%",v(s,B))N=s[B];else if(N!=null){if(!(ae in N)){if(!z)throw new L("base intrinsic for "+w+" exists, but the property is not available.");return}if(h&&K+1>=F.length){var ee=h(N,ae);re=!!ee,re&&"get"in ee&&!("originalValue"in ee.get)?N=ee.get:N=N[ae]}else re=v(N,ae),N=N[ae];re&&!O&&(s[B]=N)}}return N}},85400:function(W){W.exports=V;function V(e,y){var C=y[0],a=y[1],L=y[2],x=y[3],h=y[4],d=y[5],t=y[6],r=y[7],u=y[8],n=y[9],i=y[10],s=y[11],o=y[12],m=y[13],c=y[14],b=y[15];return e[0]=d*(i*b-s*c)-n*(t*b-r*c)+m*(t*s-r*i),e[1]=-(a*(i*b-s*c)-n*(L*b-x*c)+m*(L*s-x*i)),e[2]=a*(t*b-r*c)-d*(L*b-x*c)+m*(L*r-x*t),e[3]=-(a*(t*s-r*i)-d*(L*s-x*i)+n*(L*r-x*t)),e[4]=-(h*(i*b-s*c)-u*(t*b-r*c)+o*(t*s-r*i)),e[5]=C*(i*b-s*c)-u*(L*b-x*c)+o*(L*s-x*i),e[6]=-(C*(t*b-r*c)-h*(L*b-x*c)+o*(L*r-x*t)),e[7]=C*(t*s-r*i)-h*(L*s-x*i)+u*(L*r-x*t),e[8]=h*(n*b-s*m)-u*(d*b-r*m)+o*(d*s-r*n),e[9]=-(C*(n*b-s*m)-u*(a*b-x*m)+o*(a*s-x*n)),e[10]=C*(d*b-r*m)-h*(a*b-x*m)+o*(a*r-x*d),e[11]=-(C*(d*s-r*n)-h*(a*s-x*n)+u*(a*r-x*d)),e[12]=-(h*(n*c-i*m)-u*(d*c-t*m)+o*(d*i-t*n)),e[13]=C*(n*c-i*m)-u*(a*c-L*m)+o*(a*i-L*n),e[14]=-(C*(d*c-t*m)-h*(a*c-L*m)+o*(a*t-L*d)),e[15]=C*(d*i-t*n)-h*(a*i-L*n)+u*(a*t-L*d),e}},42331:function(W){W.exports=V;function V(e){var y=new Float32Array(16);return y[0]=e[0],y[1]=e[1],y[2]=e[2],y[3]=e[3],y[4]=e[4],y[5]=e[5],y[6]=e[6],y[7]=e[7],y[8]=e[8],y[9]=e[9],y[10]=e[10],y[11]=e[11],y[12]=e[12],y[13]=e[13],y[14]=e[14],y[15]=e[15],y}},31042:function(W){W.exports=V;function V(e,y){return e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},11902:function(W){W.exports=V;function V(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(W){W.exports=V;function V(e){var y=e[0],C=e[1],a=e[2],L=e[3],x=e[4],h=e[5],d=e[6],t=e[7],r=e[8],u=e[9],n=e[10],i=e[11],s=e[12],o=e[13],m=e[14],c=e[15],b=y*h-C*x,v=y*d-a*x,l=y*t-L*x,p=C*d-a*h,S=C*t-L*h,M=a*t-L*d,R=r*o-u*s,T=r*m-n*s,E=r*c-i*s,A=u*m-n*o,f=u*c-i*o,P=n*c-i*m;return b*P-v*f+l*A+p*E-S*T+M*R}},27812:function(W){W.exports=V;function V(e,y){var C=y[0],a=y[1],L=y[2],x=y[3],h=C+C,d=a+a,t=L+L,r=C*h,u=a*h,n=a*d,i=L*h,s=L*d,o=L*t,m=x*h,c=x*d,b=x*t;return e[0]=1-n-o,e[1]=u+b,e[2]=i-c,e[3]=0,e[4]=u-b,e[5]=1-r-o,e[6]=s+m,e[7]=0,e[8]=i+c,e[9]=s-m,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(W){W.exports=V;function V(e,y,C){var a,L,x,h=C[0],d=C[1],t=C[2],r=Math.sqrt(h*h+d*d+t*t);return Math.abs(r)<1e-6?null:(r=1/r,h*=r,d*=r,t*=r,a=Math.sin(y),L=Math.cos(y),x=1-L,e[0]=h*h*x+L,e[1]=d*h*x+t*a,e[2]=t*h*x-d*a,e[3]=0,e[4]=h*d*x-t*a,e[5]=d*d*x+L,e[6]=t*d*x+h*a,e[7]=0,e[8]=h*t*x+d*a,e[9]=d*t*x-h*a,e[10]=t*t*x+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(W){W.exports=V;function V(e,y,C){var a=y[0],L=y[1],x=y[2],h=y[3],d=a+a,t=L+L,r=x+x,u=a*d,n=a*t,i=a*r,s=L*t,o=L*r,m=x*r,c=h*d,b=h*t,v=h*r;return e[0]=1-(s+m),e[1]=n+v,e[2]=i-b,e[3]=0,e[4]=n-v,e[5]=1-(u+m),e[6]=o+c,e[7]=0,e[8]=i+b,e[9]=o-c,e[10]=1-(u+s),e[11]=0,e[12]=C[0],e[13]=C[1],e[14]=C[2],e[15]=1,e}},81472:function(W){W.exports=V;function V(e,y){return e[0]=y[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=y[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=y[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(W){W.exports=V;function V(e,y){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1,e}},75262:function(W){W.exports=V;function V(e,y){var C=Math.sin(y),a=Math.cos(y);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=C,e[7]=0,e[8]=0,e[9]=-C,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(W){W.exports=V;function V(e,y){var C=Math.sin(y),a=Math.cos(y);return e[0]=a,e[1]=0,e[2]=-C,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=C,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(W){W.exports=V;function V(e,y){var C=Math.sin(y),a=Math.cos(y);return e[0]=a,e[1]=C,e[2]=0,e[3]=0,e[4]=-C,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(W){W.exports=V;function V(e,y,C,a,L,x,h){var d=1/(C-y),t=1/(L-a),r=1/(x-h);return e[0]=x*2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=x*2*t,e[6]=0,e[7]=0,e[8]=(C+y)*d,e[9]=(L+a)*t,e[10]=(h+x)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=h*x*2*r,e[15]=0,e}},71551:function(W){W.exports=V;function V(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(W,V,e){W.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(W){W.exports=V;function V(e,y){var C=y[0],a=y[1],L=y[2],x=y[3],h=y[4],d=y[5],t=y[6],r=y[7],u=y[8],n=y[9],i=y[10],s=y[11],o=y[12],m=y[13],c=y[14],b=y[15],v=C*d-a*h,l=C*t-L*h,p=C*r-x*h,S=a*t-L*d,M=a*r-x*d,R=L*r-x*t,T=u*m-n*o,E=u*c-i*o,A=u*b-s*o,f=n*c-i*m,P=n*b-s*m,w=i*b-s*c,z=v*w-l*P+p*f+S*A-M*E+R*T;return z?(z=1/z,e[0]=(d*w-t*P+r*f)*z,e[1]=(L*P-a*w-x*f)*z,e[2]=(m*R-c*M+b*S)*z,e[3]=(i*M-n*R-s*S)*z,e[4]=(t*A-h*w-r*E)*z,e[5]=(C*w-L*A+x*E)*z,e[6]=(c*p-o*R-b*l)*z,e[7]=(u*R-i*p+s*l)*z,e[8]=(h*P-d*A+r*T)*z,e[9]=(a*A-C*P-x*T)*z,e[10]=(o*M-m*p+b*v)*z,e[11]=(n*p-u*M-s*v)*z,e[12]=(d*E-h*f-t*T)*z,e[13]=(C*f-a*E+L*T)*z,e[14]=(m*l-o*S-c*v)*z,e[15]=(u*S-n*l+i*v)*z,e):null}},65551:function(W,V,e){var y=e(71551);W.exports=C;function C(a,L,x,h){var d,t,r,u,n,i,s,o,m,c,b=L[0],v=L[1],l=L[2],p=h[0],S=h[1],M=h[2],R=x[0],T=x[1],E=x[2];return Math.abs(b-R)<1e-6&&Math.abs(v-T)<1e-6&&Math.abs(l-E)<1e-6?y(a):(s=b-R,o=v-T,m=l-E,c=1/Math.sqrt(s*s+o*o+m*m),s*=c,o*=c,m*=c,d=S*m-M*o,t=M*s-p*m,r=p*o-S*s,c=Math.sqrt(d*d+t*t+r*r),c?(c=1/c,d*=c,t*=c,r*=c):(d=0,t=0,r=0),u=o*r-m*t,n=m*d-s*r,i=s*t-o*d,c=Math.sqrt(u*u+n*n+i*i),c?(c=1/c,u*=c,n*=c,i*=c):(u=0,n=0,i=0),a[0]=d,a[1]=u,a[2]=s,a[3]=0,a[4]=t,a[5]=n,a[6]=o,a[7]=0,a[8]=r,a[9]=i,a[10]=m,a[11]=0,a[12]=-(d*b+t*v+r*l),a[13]=-(u*b+n*v+i*l),a[14]=-(s*b+o*v+m*l),a[15]=1,a)}},91362:function(W){W.exports=V;function V(e,y,C){var a=y[0],L=y[1],x=y[2],h=y[3],d=y[4],t=y[5],r=y[6],u=y[7],n=y[8],i=y[9],s=y[10],o=y[11],m=y[12],c=y[13],b=y[14],v=y[15],l=C[0],p=C[1],S=C[2],M=C[3];return e[0]=l*a+p*d+S*n+M*m,e[1]=l*L+p*t+S*i+M*c,e[2]=l*x+p*r+S*s+M*b,e[3]=l*h+p*u+S*o+M*v,l=C[4],p=C[5],S=C[6],M=C[7],e[4]=l*a+p*d+S*n+M*m,e[5]=l*L+p*t+S*i+M*c,e[6]=l*x+p*r+S*s+M*b,e[7]=l*h+p*u+S*o+M*v,l=C[8],p=C[9],S=C[10],M=C[11],e[8]=l*a+p*d+S*n+M*m,e[9]=l*L+p*t+S*i+M*c,e[10]=l*x+p*r+S*s+M*b,e[11]=l*h+p*u+S*o+M*v,l=C[12],p=C[13],S=C[14],M=C[15],e[12]=l*a+p*d+S*n+M*m,e[13]=l*L+p*t+S*i+M*c,e[14]=l*x+p*r+S*s+M*b,e[15]=l*h+p*u+S*o+M*v,e}},60378:function(W){W.exports=V;function V(e,y,C,a,L,x,h){var d=1/(y-C),t=1/(a-L),r=1/(x-h);return e[0]=-2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(y+C)*d,e[13]=(L+a)*t,e[14]=(h+x)*r,e[15]=1,e}},7864:function(W){W.exports=V;function V(e,y,C,a,L){var x=1/Math.tan(y/2),h=1/(a-L);return e[0]=x/C,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=x,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+a)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*a*h,e[15]=0,e}},35279:function(W){W.exports=V;function V(e,y,C,a){var L=Math.tan(y.upDegrees*Math.PI/180),x=Math.tan(y.downDegrees*Math.PI/180),h=Math.tan(y.leftDegrees*Math.PI/180),d=Math.tan(y.rightDegrees*Math.PI/180),t=2/(h+d),r=2/(L+x);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((h-d)*t*.5),e[9]=(L-x)*r*.5,e[10]=a/(C-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*C/(C-a),e[15]=0,e}},65074:function(W){W.exports=V;function V(e,y,C,a){var L=a[0],x=a[1],h=a[2],d=Math.sqrt(L*L+x*x+h*h),t,r,u,n,i,s,o,m,c,b,v,l,p,S,M,R,T,E,A,f,P,w,z,F;return Math.abs(d)<1e-6?null:(d=1/d,L*=d,x*=d,h*=d,t=Math.sin(C),r=Math.cos(C),u=1-r,n=y[0],i=y[1],s=y[2],o=y[3],m=y[4],c=y[5],b=y[6],v=y[7],l=y[8],p=y[9],S=y[10],M=y[11],R=L*L*u+r,T=x*L*u+h*t,E=h*L*u-x*t,A=L*x*u-h*t,f=x*x*u+r,P=h*x*u+L*t,w=L*h*u+x*t,z=x*h*u-L*t,F=h*h*u+r,e[0]=n*R+m*T+l*E,e[1]=i*R+c*T+p*E,e[2]=s*R+b*T+S*E,e[3]=o*R+v*T+M*E,e[4]=n*A+m*f+l*P,e[5]=i*A+c*f+p*P,e[6]=s*A+b*f+S*P,e[7]=o*A+v*f+M*P,e[8]=n*w+m*z+l*F,e[9]=i*w+c*z+p*F,e[10]=s*w+b*z+S*F,e[11]=o*w+v*z+M*F,y!==e&&(e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e)}},35545:function(W){W.exports=V;function V(e,y,C){var a=Math.sin(C),L=Math.cos(C),x=y[4],h=y[5],d=y[6],t=y[7],r=y[8],u=y[9],n=y[10],i=y[11];return y!==e&&(e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[4]=x*L+r*a,e[5]=h*L+u*a,e[6]=d*L+n*a,e[7]=t*L+i*a,e[8]=r*L-x*a,e[9]=u*L-h*a,e[10]=n*L-d*a,e[11]=i*L-t*a,e}},94918:function(W){W.exports=V;function V(e,y,C){var a=Math.sin(C),L=Math.cos(C),x=y[0],h=y[1],d=y[2],t=y[3],r=y[8],u=y[9],n=y[10],i=y[11];return y!==e&&(e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=x*L-r*a,e[1]=h*L-u*a,e[2]=d*L-n*a,e[3]=t*L-i*a,e[8]=x*a+r*L,e[9]=h*a+u*L,e[10]=d*a+n*L,e[11]=t*a+i*L,e}},15692:function(W){W.exports=V;function V(e,y,C){var a=Math.sin(C),L=Math.cos(C),x=y[0],h=y[1],d=y[2],t=y[3],r=y[4],u=y[5],n=y[6],i=y[7];return y!==e&&(e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=x*L+r*a,e[1]=h*L+u*a,e[2]=d*L+n*a,e[3]=t*L+i*a,e[4]=r*L-x*a,e[5]=u*L-h*a,e[6]=n*L-d*a,e[7]=i*L-t*a,e}},10789:function(W){W.exports=V;function V(e,y,C){var a=C[0],L=C[1],x=C[2];return e[0]=y[0]*a,e[1]=y[1]*a,e[2]=y[2]*a,e[3]=y[3]*a,e[4]=y[4]*L,e[5]=y[5]*L,e[6]=y[6]*L,e[7]=y[7]*L,e[8]=y[8]*x,e[9]=y[9]*x,e[10]=y[10]*x,e[11]=y[11]*x,e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},6726:function(W){W.exports=V;function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(W){W.exports=V;function V(e,y,C){var a=C[0],L=C[1],x=C[2],h,d,t,r,u,n,i,s,o,m,c,b;return y===e?(e[12]=y[0]*a+y[4]*L+y[8]*x+y[12],e[13]=y[1]*a+y[5]*L+y[9]*x+y[13],e[14]=y[2]*a+y[6]*L+y[10]*x+y[14],e[15]=y[3]*a+y[7]*L+y[11]*x+y[15]):(h=y[0],d=y[1],t=y[2],r=y[3],u=y[4],n=y[5],i=y[6],s=y[7],o=y[8],m=y[9],c=y[10],b=y[11],e[0]=h,e[1]=d,e[2]=t,e[3]=r,e[4]=u,e[5]=n,e[6]=i,e[7]=s,e[8]=o,e[9]=m,e[10]=c,e[11]=b,e[12]=h*a+u*L+o*x+y[12],e[13]=d*a+n*L+m*x+y[13],e[14]=t*a+i*L+c*x+y[14],e[15]=r*a+s*L+b*x+y[15]),e}},88654:function(W){W.exports=V;function V(e,y){if(e===y){var C=y[1],a=y[2],L=y[3],x=y[6],h=y[7],d=y[11];e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=C,e[6]=y[9],e[7]=y[13],e[8]=a,e[9]=x,e[11]=y[14],e[12]=L,e[13]=h,e[14]=d}else e[0]=y[0],e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=y[1],e[5]=y[5],e[6]=y[9],e[7]=y[13],e[8]=y[2],e[9]=y[6],e[10]=y[10],e[11]=y[14],e[12]=y[3],e[13]=y[7],e[14]=y[11],e[15]=y[15];return e}},42505:function(W,V,e){var y=e(72791),C=e(71299),a=e(98580),L=e(12018),x=e(83522),h=e(25075),d=e(68016),t=e(58404),r=e(18863),u=e(10973),n=e(25677),i=e(75686),s=e(53545),o=e(56131),m=e(32879),c=e(30120),b=e(13547),v=b.nextPow2,l=new x,p=!1;if(document.body){var S=document.body.appendChild(document.createElement("div"));S.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(S).fontStretch&&(p=!0),document.body.removeChild(S)}var M=function(E){R(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=L(E),this.shader=l.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),l.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(u(E)?E:{})};M.prototype.createShader=function(){var E=this.regl,A=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(P,w){return[w.atlas.width,w.atlas.height]},atlasDim:function(P,w){return[w.atlas.cols,w.atlas.rows]},atlas:function(P,w){return w.atlas.texture},charStep:function(P,w){return w.atlas.step},em:function(P,w){return w.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),f={};return{regl:E,draw:A,atlas:f}},M.prototype.update=function(E){var A=this;if(typeof E=="string")E={text:E};else if(!E)return;E=C(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(_e){return parseFloat(_e)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=r(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=c(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=M.baseFontSize+"px sans-serif");var f=!1,P=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(_e,We){if(typeof _e=="string")try{_e=y.parse(_e)}catch{_e=y.parse(M.baseFontSize+"px "+_e)}else _e=y.parse(y.stringify(_e));var tt=y.stringify({size:M.baseFontSize,family:_e.family,stretch:p?_e.stretch:void 0,variant:_e.variant,weight:_e.weight,style:_e.style}),Ke=n(_e.size),qe=Math.round(Ke[0]*i(Ke[1]));if(qe!==A.fontSize[We]&&(P=!0,A.fontSize[We]=qe),(!A.font[We]||tt!=A.font[We].baseString)&&(f=!0,A.font[We]=M.fonts[tt],!A.font[We])){var rt=_e.family.join(", "),ft=[_e.style];_e.style!=_e.variant&&ft.push(_e.variant),_e.variant!=_e.weight&&ft.push(_e.weight),p&&_e.weight!=_e.stretch&&ft.push(_e.stretch),A.font[We]={baseString:tt,family:rt,weight:_e.weight,stretch:_e.stretch,style:_e.style,variant:_e.variant,width:{},kerning:{},metrics:m(rt,{origin:"top",fontSize:M.baseFontSize,fontStyle:ft.join(" ")})},M.fonts[tt]=A.font[We]}}),(f||P)&&this.font.forEach(function(_e,We){var tt=y.stringify({size:A.fontSize[We],family:_e.family,stretch:p?_e.stretch:void 0,variant:_e.variant,weight:_e.weight,style:_e.style});if(A.fontAtlas[We]=A.shader.atlas[tt],!A.fontAtlas[We]){var Ke=_e.metrics;A.shader.atlas[tt]=A.fontAtlas[We]={fontString:tt,step:Math.ceil(A.fontSize[We]*Ke.bottom*.5)*2,em:A.fontSize[We],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}E.text==null&&(E.text=A.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var w=Array(E.position.length*.5),z=0;z<w.length;z++)w[z]=E.text;E.text=w}var F;if(E.text!=null||f){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var H=1;H<E.text.length;H++)this.textOffsets[H]=this.textOffsets[H-1]+E.text[H-1].length,this.count+=E.text[H].length,this.counts.push(E.text[H].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];F=[],this.font.forEach(function(_e,We){M.atlasContext.font=_e.baseString;for(var tt=A.fontAtlas[We],Ke=0;Ke<A.text.length;Ke++){var qe=A.text.charAt(Ke);if(tt.ids[qe]==null&&(tt.ids[qe]=tt.chars.length,tt.chars.push(qe),F.push(qe)),_e.width[qe]==null&&(_e.width[qe]=M.atlasContext.measureText(qe).width/M.baseFontSize,A.kerning)){var rt=[];for(var ft in _e.width)rt.push(ft+qe,qe+ft);o(_e.kerning,s(_e.family,{pairs:rt}))}}})}if(E.position)if(E.position.length>2){for(var _=!E.position[0].length,B=t.mallocFloat(this.count*2),N=0,O=0;N<this.counts.length;N++){var U=this.counts[N];if(_)for(var K=0;K<U;K++)B[O++]=E.position[N*2],B[O++]=E.position[N*2+1];else for(var re=0;re<U;re++)B[O++]=E.position[N][0],B[O++]=E.position[N][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),t.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||f){var ae=t.mallocUint8(this.count),ue=t.mallocFloat(this.count*2);this.textWidth=[];for(var ve=0,ee=0;ve<this.counts.length;ve++){for(var J=this.counts[ve],Q=this.font[ve]||this.font[0],X=this.fontAtlas[ve]||this.fontAtlas[0],q=0;q<J;q++){var se=this.text.charAt(ee),Y=this.text.charAt(ee-1);if(ae[ee]=X.ids[se],ue[ee*2]=Q.width[se],q){var Z=ue[ee*2-2],ie=ue[ee*2],te=ue[ee*2-1],fe=te+Z*.5+ie*.5;if(this.kerning){var de=Q.kerning[Y+se];de&&(fe+=de*.001)}ue[ee*2+1]=fe}else ue[ee*2+1]=ue[ee*2]*.5;ee++}this.textWidth.push(ue.length?ue[ee*2-2]*.5+ue[ee*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:ae,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ue,type:"float",usage:"stream"}),t.freeUint8(ae),t.freeFloat(ue),F.length&&this.font.forEach(function(_e,We){var tt=A.fontAtlas[We],Ke=tt.step,qe=Math.floor(M.maxAtlasSize/Ke),rt=Math.min(qe,tt.chars.length),ft=Math.ceil(tt.chars.length/rt),pt=v(rt*Ke),gt=v(ft*Ke);tt.width=pt,tt.height=gt,tt.rows=ft,tt.cols=rt,tt.em&&tt.texture({data:d({canvas:M.atlasCanvas,font:tt.fontString,chars:tt.chars,shape:[pt,gt],step:[Ke,Ke]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(_e,We){var tt=Array.isArray(A.align)?A.align.length>1?A.align[We]:A.align[0]:A.align;if(typeof tt=="number")return tt;switch(tt){case"right":case"end":return-_e;case"center":case"centre":case"middle":return-_e*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(_e,We){var tt=(A.font[We]||A.font[0]).metrics,Ke=0;return Ke+=tt.bottom*.5,typeof _e=="number"?Ke+=_e-tt.baseline:Ke+=-tt[_e],Ke*=-1,Ke})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=h(E.color,"uint8");else{var we;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Ae=E.color.length;we=t.mallocUint8(Ae);for(var Re=(E.color.subarray||E.color.slice).bind(E.color),Fe=0;Fe<Ae;Fe+=4)we.set(h(Re(Fe,Fe+4),"uint8"),Fe)}else{var Se=E.color.length;we=t.mallocUint8(Se*4);for(var Te=0;Te<Se;Te++)we.set(h(E.color[Te]||0,"uint8"),Te*4)}this.color=we}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Ee=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ee){var Ne=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ne);for(var He=0;He<this.batch.length;He++)this.batch[He]={count:this.counts.length>1?this.counts[He]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[He]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(He*4,He*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[He]:this.opacity,baseline:this.baselineOffset[He]!=null?this.baselineOffset[He]:this.baselineOffset[0],align:this.align?this.alignOffset[He]!=null?this.alignOffset[He]:this.alignOffset[0]:0,atlas:this.fontAtlas[He]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(He*2,He*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},M.prototype.destroy=function(){},M.prototype.kerning=!0,M.prototype.position={constant:new Float32Array(2)},M.prototype.translate=null,M.prototype.scale=null,M.prototype.font=null,M.prototype.text="",M.prototype.positionOffset=[0,0],M.prototype.opacity=1,M.prototype.color=new Uint8Array([0,0,0,255]),M.prototype.alignOffset=[0,0],M.maxAtlasSize=1024,M.atlasCanvas=document.createElement("canvas"),M.atlasContext=M.atlasCanvas.getContext("2d",{alpha:!1}),M.baseFontSize=64,M.fonts={};function R(T){return typeof T=="function"&&T._gl&&T.prop&&T.texture&&T.buffer}W.exports=M},12018:function(W,V,e){var y=e(71299);W.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},a(t)?t={container:t}:L(t)?t={container:t}:x(t)?t={gl:t}:t=y(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=h(),t.container.appendChild(t.canvas),C(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=h(),t.container.appendChild(t.canvas),C(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(u){try{t.gl=t.canvas.getContext(u,t.attrs)}catch{}return t.gl}),t.gl};function C(d){if(d.container)if(d.container==document.body)document.body.style.width||(d.canvas.width=d.width||d.pixelRatio*e.g.innerWidth),document.body.style.height||(d.canvas.height=d.height||d.pixelRatio*e.g.innerHeight);else{var t=d.container.getBoundingClientRect();d.canvas.width=d.width||t.right-t.left,d.canvas.height=d.height||t.bottom-t.top}}function a(d){return typeof d.getContext=="function"&&"width"in d&&"height"in d}function L(d){return typeof d.nodeName=="string"&&typeof d.appendChild=="function"&&typeof d.getBoundingClientRect=="function"}function x(d){return typeof d.drawArrays=="function"||typeof d.drawElements=="function"}function h(){var d=document.createElement("canvas");return d.style.position="absolute",d.style.top=0,d.style.left=0,d}},56068:function(W){W.exports=function(V){typeof V=="string"&&(V=[V]);for(var e=[].slice.call(arguments,1),y=[],C=0;C<V.length-1;C++)y.push(V[C],e[C]||"");return y.push(V[C]),y.join("")}},40383:function(W,V,e){var y=e(68318),C=y("%Object.getOwnPropertyDescriptor%",!0);if(C)try{C([],"length")}catch{C=null}W.exports=C},57035:function(W,V,e){var y=e(54404),C;typeof e.g.matchMedia=="function"?C=!e.g.matchMedia("(hover: none)").matches:C=y,W.exports=C},38520:function(W,V,e){var y=e(54404);function C(){var a=!1;try{var L=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{a=!1}return a}W.exports=y&&C()},55622:function(W,V,e){var y=e(68318),C=y("%Object.defineProperty%",!0),a=function(){if(C)try{return C({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return C([],"length",{value:1}).length!==1}catch{return!0}},W.exports=a},57877:function(W,V,e){var y=typeof Symbol<"u"&&Symbol,C=e(35638);W.exports=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:C()}},35638:function(W){W.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},y=Symbol("test"),C=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(C)!=="[object Symbol]")return!1;var a=42;e[y]=a;for(y in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==y||!Object.prototype.propertyIsEnumerable.call(e,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var x=Object.getOwnPropertyDescriptor(e,y);if(x.value!==a||x.enumerable!==!0)return!1}return!0}},84543:function(W,V,e){var y=e(35638);W.exports=function(){return y()&&!!Symbol.toStringTag}},35065:function(W,V,e){var y=e(77575);W.exports=y.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(W,V){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(e,y,C,a,L){var x,h,d=L*8-a-1,t=(1<<d)-1,r=t>>1,u=-7,n=C?L-1:0,i=C?-1:1,s=e[y+n];for(n+=i,x=s&(1<<-u)-1,s>>=-u,u+=d;u>0;x=x*256+e[y+n],n+=i,u-=8);for(h=x&(1<<-u)-1,x>>=-u,u+=a;u>0;h=h*256+e[y+n],n+=i,u-=8);if(x===0)x=1-r;else{if(x===t)return h?NaN:(s?-1:1)*(1/0);h=h+Math.pow(2,a),x=x-r}return(s?-1:1)*h*Math.pow(2,x-a)},V.write=function(e,y,C,a,L,x){var h,d,t,r=x*8-L-1,u=(1<<r)-1,n=u>>1,i=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=a?0:x-1,o=a?1:-1,m=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(d=isNaN(y)?1:0,h=u):(h=Math.floor(Math.log(y)/Math.LN2),y*(t=Math.pow(2,-h))<1&&(h--,t*=2),h+n>=1?y+=i/t:y+=i*Math.pow(2,1-n),y*t>=2&&(h++,t/=2),h+n>=u?(d=0,h=u):h+n>=1?(d=(y*t-1)*Math.pow(2,L),h=h+n):(d=y*Math.pow(2,n-1)*Math.pow(2,L),h=0));L>=8;e[C+s]=d&255,s+=o,d/=256,L-=8);for(h=h<<L|d,r+=L;r>0;e[C+s]=h&255,s+=o,h/=256,r-=8);e[C+s-o]|=m*128}},42018:function(W){typeof Object.create=="function"?W.exports=function(e,y){y&&(e.super_=y,e.prototype=Object.create(y.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:W.exports=function(e,y){if(y){e.super_=y;var C=function(){};C.prototype=y.prototype,e.prototype=new C,e.prototype.constructor=e}}},47216:function(W,V,e){var y=e(84543)(),C=e(6614),a=C("Object.prototype.toString"),L=function(t){return y&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:a(t)==="[object Arguments]"},x=function(t){return L(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&a(t)!=="[object Array]"&&a(t.callee)==="[object Function]"},h=function(){return L(arguments)}();L.isLegacyArguments=x,W.exports=h?L:x},54404:function(W){W.exports=!0},85395:function(W){var V=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,y,C;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{y=Object.defineProperty({},"length",{get:function(){throw C}}),C={},e(function(){throw 42},null,y)}catch(b){b!==C&&(e=null)}else e=null;var a=/^\s*class\b/,L=function(v){try{var l=V.call(v);return a.test(l)}catch{return!1}},x=function(v){try{return L(v)?!1:(V.call(v),!0)}catch{return!1}},h=Object.prototype.toString,d="[object Object]",t="[object Function]",r="[object GeneratorFunction]",u="[object HTMLAllCollection]",n="[object HTML document.all class]",i="[object HTMLCollection]",s=typeof Symbol=="function"&&!!Symbol.toStringTag,o=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var c=document.all;h.call(c)===h.call(document.all)&&(m=function(v){if((o||!v)&&(typeof v>"u"||typeof v=="object"))try{var l=h.call(v);return(l===u||l===n||l===i||l===d)&&v("")==null}catch{}return!1})}W.exports=e?function(v){if(m(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;try{e(v,null,y)}catch(l){if(l!==C)return!1}return!L(v)&&x(v)}:function(v){if(m(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;if(s)return x(v);if(L(v))return!1;var l=h.call(v);return l!==t&&l!==r&&!/^\[object HTML/.test(l)?!1:x(v)}},65481:function(W,V,e){var y=Object.prototype.toString,C=Function.prototype.toString,a=/^\s*(?:function)?\*/,L=e(84543)(),x=Object.getPrototypeOf,h=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},d;W.exports=function(r){if(typeof r!="function")return!1;if(a.test(C.call(r)))return!0;if(!L){var u=y.call(r);return u==="[object GeneratorFunction]"}if(!x)return!1;if(typeof d>"u"){var n=h();d=n?x(n):!1}return x(r)===d}},62683:function(W){W.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(W){W.exports=function(e){return e!==e}},15567:function(W,V,e){var y=e(68222),C=e(17045),a=e(64274),L=e(14922),x=e(22442),h=y(L(),Number);C(h,{getPolyfill:L,implementation:a,shim:x}),W.exports=h},14922:function(W,V,e){var y=e(64274);W.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:y}},22442:function(W,V,e){var y=e(17045),C=e(14922);W.exports=function(){var L=C();return y(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},64941:function(W){W.exports=function(V){var e=typeof V;return V!==null&&(e==="object"||e==="function")}},10973:function(W){var V=Object.prototype.toString;W.exports=function(e){var y;return V.call(e)==="[object Object]"&&(y=Object.getPrototypeOf(e),y===null||y===Object.getPrototypeOf({}))}},18546:function(W){W.exports=function(V){for(var e=V.length,y,C=0;C<e;C++)if(y=V.charCodeAt(C),(y<9||y>13)&&y!==32&&y!==133&&y!==160&&y!==5760&&y!==6158&&(y<8192||y>8205)&&y!==8232&&y!==8233&&y!==8239&&y!==8287&&y!==8288&&y!==12288&&y!==65279)return!1;return!0}},89546:function(W){W.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(W,V,e){var y=e(31353),C=e(72077),a=e(6614),L=a("Object.prototype.toString"),x=e(84543)(),h=e(40383),d=typeof globalThis>"u"?e.g:globalThis,t=C(),r=a("Array.prototype.indexOf",!0)||function(m,c){for(var b=0;b<m.length;b+=1)if(m[b]===c)return b;return-1},u=a("String.prototype.slice"),n={},i=Object.getPrototypeOf;x&&h&&i&&y(t,function(o){var m=new d[o];if(Symbol.toStringTag in m){var c=i(m),b=h(c,Symbol.toStringTag);if(!b){var v=i(c);b=h(v,Symbol.toStringTag)}n[o]=b.get}});var s=function(m){var c=!1;return y(n,function(b,v){if(!c)try{c=b.call(m)===v}catch{}}),c};W.exports=function(m){if(!m||typeof m!="object")return!1;if(!x||!(Symbol.toStringTag in m)){var c=u(L(m),8,-1);return r(t,c)>-1}return h?s(m):!1}},44517:function(W){(function(V,e){W.exports=e()})(this,function(){var V,e,y;function C(a,L){if(!V)V=L;else if(!e)e=L;else{var x="var sharedChunk = {}; ("+V+")(sharedChunk); ("+e+")(sharedChunk);",h={};V(h),y=L(h),y.workerUrl=window.URL.createObjectURL(new Blob([x],{type:"text/javascript"}))}}return C(["exports"],function(a){function L(D,I){return I={exports:{}},D(I,I.exports),I.exports}var x="1.10.1",h=d;function d(D,I,j,le){this.cx=3*D,this.bx=3*(j-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(le-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=le,this.p2x=j,this.p2y=le}d.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},d.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},d.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},d.prototype.solveCurveX=function(D,I){typeof I>"u"&&(I=1e-6);var j,le,ye,Ce,Ie;for(ye=D,Ie=0;Ie<8;Ie++){if(Ce=this.sampleCurveX(ye)-D,Math.abs(Ce)<I)return ye;var $e=this.sampleCurveDerivativeX(ye);if(Math.abs($e)<1e-6)break;ye=ye-Ce/$e}if(j=0,le=1,ye=D,ye<j)return j;if(ye>le)return le;for(;j<le;){if(Ce=this.sampleCurveX(ye),Math.abs(Ce-D)<I)return ye;D>Ce?j=ye:le=ye,ye=(le-j)*.5+j}return ye},d.prototype.solve=function(D,I){return this.sampleCurveY(this.solveCurveX(D,I))};var t=r;function r(D,I){this.x=D,this.y=I}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,I){return this.clone()._rotateAround(D,I)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var I=D.x-this.x,j=D.y-this.y;return I*I+j*j},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,I){return Math.atan2(this.x*I-this.y*D,this.x*D+this.y*I)},_matMult:function(D){var I=D[0]*this.x+D[1]*this.y,j=D[2]*this.x+D[3]*this.y;return this.x=I,this.y=j,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var I=Math.cos(D),j=Math.sin(D),le=I*this.x-j*this.y,ye=j*this.x+I*this.y;return this.x=le,this.y=ye,this},_rotateAround:function(D,I){var j=Math.cos(D),le=Math.sin(D),ye=I.x+j*(this.x-I.x)-le*(this.y-I.y),Ce=I.y+le*(this.x-I.x)+j*(this.y-I.y);return this.x=ye,this.y=Ce,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(D){return D instanceof r?D:Array.isArray(D)?new r(D[0],D[1]):D};function u(D,I){if(Array.isArray(D)){if(!Array.isArray(I)||D.length!==I.length)return!1;for(var j=0;j<D.length;j++)if(!u(D[j],I[j]))return!1;return!0}if(typeof D=="object"&&D!==null&&I!==null){if(typeof I!="object")return!1;var le=Object.keys(D);if(le.length!==Object.keys(I).length)return!1;for(var ye in D)if(!u(D[ye],I[ye]))return!1;return!0}return D===I}function n(D){if(D<=0)return 0;if(D>=1)return 1;var I=D*D,j=I*D;return 4*(D<.5?j:3*(D-I)+j-.75)}function i(D,I,j,le){var ye=new h(D,I,j,le);return function(Ce){return ye.solve(Ce)}}var s=i(.25,.1,.25,1);function o(D,I,j){return Math.min(j,Math.max(I,D))}function m(D,I,j){var le=j-I,ye=((D-I)%le+le)%le+I;return ye===I?j:ye}function c(D,I,j){if(!D.length)return j(null,[]);var le=D.length,ye=new Array(D.length),Ce=null;D.forEach(function(Ie,$e){I(Ie,function(ht,wt){ht&&(Ce=ht),ye[$e]=wt,--le===0&&j(Ce,ye)})})}function b(D){var I=[];for(var j in D)I.push(D[j]);return I}function v(D,I){var j=[];for(var le in D)le in I||j.push(le);return j}function l(D){for(var I=[],j=arguments.length-1;j-- >0;)I[j]=arguments[j+1];for(var le=0,ye=I;le<ye.length;le+=1){var Ce=ye[le];for(var Ie in Ce)D[Ie]=Ce[Ie]}return D}function p(D,I){for(var j={},le=0;le<I.length;le++){var ye=I[le];ye in D&&(j[ye]=D[ye])}return j}var S=1;function M(){return S++}function R(){function D(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function T(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function E(D,I){D.forEach(function(j){I[j]&&(I[j]=I[j].bind(I))})}function A(D,I){return D.indexOf(I,D.length-I.length)!==-1}function f(D,I,j){var le={};for(var ye in D)le[ye]=I.call(j||this,D[ye],ye,D);return le}function P(D,I,j){var le={};for(var ye in D)I.call(j||this,D[ye],ye,D)&&(le[ye]=D[ye]);return le}function w(D){return Array.isArray(D)?D.map(w):typeof D=="object"&&D?f(D,w):D}function z(D,I){for(var j=0;j<D.length;j++)if(I.indexOf(D[j])>=0)return!0;return!1}var F={};function H(D){F[D]||(typeof console<"u"&&console.warn(D),F[D]=!0)}function _(D,I,j){return(j.y-D.y)*(I.x-D.x)>(I.y-D.y)*(j.x-D.x)}function B(D){for(var I=0,j=0,le=D.length,ye=le-1,Ce=void 0,Ie=void 0;j<le;ye=j++)Ce=D[j],Ie=D[ye],I+=(Ie.x-Ce.x)*(Ce.y+Ie.y);return I}function N(D){var I=D[0],j=D[1],le=D[2];return j+=90,j*=Math.PI/180,le*=Math.PI/180,{x:I*Math.cos(j)*Math.sin(le),y:I*Math.sin(j)*Math.sin(le),z:I*Math.cos(le)}}function O(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function U(D){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,j={};if(D.replace(I,function(ye,Ce,Ie,$e){var ht=Ie||$e;return j[Ce]=ht?ht.toLowerCase():!0,""}),j["max-age"]){var le=parseInt(j["max-age"],10);isNaN(le)?delete j["max-age"]:j["max-age"]=le}return j}var K=null;function re(D){if(K==null){var I=D.navigator?D.navigator.userAgent:null;K=!!D.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return K}function ae(D){try{var I=self[D];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}function ue(D){return self.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(I,j){return String.fromCharCode(+("0x"+j))}))}function ve(D){return decodeURIComponent(self.atob(D).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var ee=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),J=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,Q=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,X,q,se={now:ee,frame:function(I){var j=J(I);return{cancel:function(){return Q(j)}}},getImageData:function(I,j){j===void 0&&(j=0);var le=self.document.createElement("canvas"),ye=le.getContext("2d");if(!ye)throw new Error("failed to create canvas 2d context");return le.width=I.width,le.height=I.height,ye.drawImage(I,0,0,I.width,I.height),ye.getImageData(-j,-j,I.width+2*j,I.height+2*j)},resolveURL:function(I){return X||(X=self.document.createElement("a")),X.href=I,X.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(q==null&&(q=self.matchMedia("(prefers-reduced-motion: reduce)")),q.matches):!1}},Y={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Z={supported:!1,testSupport:we},ie,te=!1,fe,de=!1;self.document&&(fe=self.document.createElement("img"),fe.onload=function(){ie&&Ae(ie),ie=null,de=!0},fe.onerror=function(){te=!0,ie=null},fe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function we(D){te||!fe||(de?Ae(D):ie=D)}function Ae(D){var I=D.createTexture();D.bindTexture(D.TEXTURE_2D,I);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,fe),D.isContextLost())return;Z.supported=!0}catch{}D.deleteTexture(I),te=!0}var Re="01";function Fe(){for(var D="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",j="",le=0;le<10;le++)j+=I[Math.floor(Math.random()*62)];var ye=12*60*60*1e3,Ce=[D,Re,j].join(""),Ie=Date.now()+ye;return{token:Ce,tokenExpiresAt:Ie}}var Se=function(I,j){this._transformRequestFn=I,this._customAccessToken=j,this._createSkuToken()};Se.prototype._createSkuToken=function(){var I=Fe();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Se.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Se.prototype.transformRequest=function(I,j){return this._transformRequestFn?this._transformRequestFn(I,j)||{url:I}:{url:I}},Se.prototype.normalizeStyleURL=function(I,j){if(!Te(I))return I;var le=tt(I);return le.path="/styles/v1"+le.path,this._makeAPIURL(le,this._customAccessToken||j)},Se.prototype.normalizeGlyphsURL=function(I,j){if(!Te(I))return I;var le=tt(I);return le.path="/fonts/v1"+le.path,this._makeAPIURL(le,this._customAccessToken||j)},Se.prototype.normalizeSourceURL=function(I,j){if(!Te(I))return I;var le=tt(I);return le.path="/v4/"+le.authority+".json",le.params.push("secure"),this._makeAPIURL(le,this._customAccessToken||j)},Se.prototype.normalizeSpriteURL=function(I,j,le,ye){var Ce=tt(I);return Te(I)?(Ce.path="/styles/v1"+Ce.path+"/sprite"+j+le,this._makeAPIURL(Ce,this._customAccessToken||ye)):(Ce.path+=""+j+le,Ke(Ce))},Se.prototype.normalizeTileURL=function(I,j){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!Te(I))return I;var le=tt(I),ye=/(\.(png|jpg)\d*)(?=$)/,Ce=/^.+\/v4\//,Ie=se.devicePixelRatio>=2||j===512?"@2x":"",$e=Z.supported?".webp":"$1";le.path=le.path.replace(ye,""+Ie+$e),le.path=le.path.replace(Ce,"/"),le.path="/v4"+le.path;var ht=this._customAccessToken||_e(le.params)||Y.ACCESS_TOKEN;return Y.REQUIRE_ACCESS_TOKEN&&ht&&this._skuToken&&le.params.push("sku="+this._skuToken),this._makeAPIURL(le,ht)},Se.prototype.canonicalizeTileURL=function(I,j){var le="/v4/",ye=/\.[\w]+$/,Ce=tt(I);if(!Ce.path.match(/(^\/v4\/)/)||!Ce.path.match(ye))return I;var Ie="mapbox://tiles/";Ie+=Ce.path.replace(le,"");var $e=Ce.params;return j&&($e=$e.filter(function(ht){return!ht.match(/^access_token=/)})),$e.length&&(Ie+="?"+$e.join("&")),Ie},Se.prototype.canonicalizeTileset=function(I,j){for(var le=j?Te(j):!1,ye=[],Ce=0,Ie=I.tiles||[];Ce<Ie.length;Ce+=1){var $e=Ie[Ce];Ne($e)?ye.push(this.canonicalizeTileURL($e,le)):ye.push($e)}return ye},Se.prototype._makeAPIURL=function(I,j){var le="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ye=tt(Y.API_URL);if(I.protocol=ye.protocol,I.authority=ye.authority,ye.path!=="/"&&(I.path=""+ye.path+I.path),!Y.REQUIRE_ACCESS_TOKEN)return Ke(I);if(j=j||Y.ACCESS_TOKEN,!j)throw new Error("An API access token is required to use Mapbox GL. "+le);if(j[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+le);return I.params=I.params.filter(function(Ce){return Ce.indexOf("access_token")===-1}),I.params.push("access_token="+j),Ke(I)};function Te(D){return D.indexOf("mapbox:")===0}var Ee=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ne(D){return Ee.test(D)}function He(D){return D.indexOf("sku=")>0&&Ne(D)}function _e(D){for(var I=0,j=D;I<j.length;I+=1){var le=j[I],ye=le.match(/^access_token=(.*)$/);if(ye)return ye[1]}return null}var We=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function tt(D){var I=D.match(We);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function Ke(D){var I=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+I}var qe="mapbox.eventData";function rt(D){if(!D)return null;var I=D.split(".");if(!I||I.length!==3)return null;try{var j=JSON.parse(ve(I[1]));return j}catch{return null}}var ft=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ft.prototype.getStorageKey=function(I){var j=rt(Y.ACCESS_TOKEN),le="";return j&&j.u?le=ue(j.u):le=Y.ACCESS_TOKEN||"",I?qe+"."+I+":"+le:qe+":"+le},ft.prototype.fetchEventData=function(){var I=ae("localStorage"),j=this.getStorageKey(),le=this.getStorageKey("uuid");if(I)try{var ye=self.localStorage.getItem(j);ye&&(this.eventData=JSON.parse(ye));var Ce=self.localStorage.getItem(le);Ce&&(this.anonId=Ce)}catch{H("Unable to read from LocalStorage")}},ft.prototype.saveEventData=function(){var I=ae("localStorage"),j=this.getStorageKey(),le=this.getStorageKey("uuid");if(I)try{self.localStorage.setItem(le,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(j,JSON.stringify(this.eventData))}catch{H("Unable to write to LocalStorage")}},ft.prototype.processRequests=function(I){},ft.prototype.postEvent=function(I,j,le,ye){var Ce=this;if(Y.EVENTS_URL){var Ie=tt(Y.EVENTS_URL);Ie.params.push("access_token="+(ye||Y.ACCESS_TOKEN||""));var $e={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:x,skuId:Re,userId:this.anonId},ht=j?l($e,j):$e,wt={url:Ke(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ht])};this.pendingRequest=Ct(wt,function(Et){Ce.pendingRequest=null,le(Et),Ce.saveEventData(),Ce.processRequests(ye)})}},ft.prototype.queueRequest=function(I,j){this.queue.push(I),this.processRequests(j)};var pt=function(D){function I(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(le,ye,Ce,Ie){this.skuToken=Ce,(Y.EVENTS_URL&&Ie||Y.ACCESS_TOKEN&&Array.isArray(le)&&le.some(function($e){return Te($e)||Ne($e)}))&&this.queueRequest({id:ye,timestamp:Date.now()},Ie)},I.prototype.processRequests=function(le){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){var Ce=this.queue.shift(),Ie=Ce.id,$e=Ce.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),T(this.anonId)||(this.anonId=R()),this.postEvent($e,{skuToken:this.skuToken},function(ht){ht||Ie&&(ye.success[Ie]=!0)},le))}},I}(ft),gt=function(D){function I(j){D.call(this,"appUserTurnstile"),this._customAccessToken=j}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(le,ye){Y.EVENTS_URL&&Y.ACCESS_TOKEN&&Array.isArray(le)&&le.some(function(Ce){return Te(Ce)||Ne(Ce)})&&this.queueRequest(Date.now(),ye)},I.prototype.processRequests=function(le){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Ce=rt(Y.ACCESS_TOKEN),Ie=Ce?Ce.u:Y.ACCESS_TOKEN,$e=Ie!==this.eventData.tokenU;T(this.anonId)||(this.anonId=R(),$e=!0);var ht=this.queue.shift();if(this.eventData.lastSuccess){var wt=new Date(this.eventData.lastSuccess),Et=new Date(ht),Yt=(ht-this.eventData.lastSuccess)/(24*60*60*1e3);$e=$e||Yt>=1||Yt<-1||wt.getDate()!==Et.getDate()}else $e=!0;if(!$e)return this.processRequests();this.postEvent(ht,{"enabled.telemetry":!1},function(lr){lr||(ye.eventData.lastSuccess=ht,ye.eventData.tokenU=Ie)},le)}},I}(ft),Mt=new gt,Lt=Mt.postTurnstileEvent.bind(Mt),Wt=new pt,Je=Wt.postMapLoadEvent.bind(Wt),ze="mapbox-tiles",Oe=500,Ue=50,ke=1e3*60*7,Me;function ce(){self.caches&&!Me&&(Me=self.caches.open(ze))}var be;function De(D,I){if(be===void 0)try{new Response(new ReadableStream),be=!0}catch{be=!1}be?I(D.body):D.blob().then(I)}function Ve(D,I,j){if(ce(),!!Me){var le={status:I.status,statusText:I.statusText,headers:new self.Headers};I.headers.forEach(function(Ie,$e){return le.headers.set($e,Ie)});var ye=U(I.headers.get("Cache-Control")||"");if(!ye["no-store"]){ye["max-age"]&&le.headers.set("Expires",new Date(j+ye["max-age"]*1e3).toUTCString());var Ce=new Date(le.headers.get("Expires")).getTime()-j;Ce<ke||De(I,function(Ie){var $e=new self.Response(Ie,le);ce(),Me&&Me.then(function(ht){return ht.put(it(D.url),$e)}).catch(function(ht){return H(ht.message)})})}}}function it(D){var I=D.indexOf("?");return I<0?D:D.slice(0,I)}function ot(D,I){if(ce(),!Me)return I(null);var j=it(D.url);Me.then(function(le){le.match(j).then(function(ye){var Ce=Tt(ye);le.delete(j),Ce&&le.put(j,ye.clone()),I(null,ye,Ce)}).catch(I)}).catch(I)}function Tt(D){if(!D)return!1;var I=new Date(D.headers.get("Expires")||0),j=U(D.headers.get("Cache-Control")||"");return I>Date.now()&&!j["no-cache"]}var It=1/0;function Ht(D){It++,It>Ue&&(D.getActor().send("enforceCacheSizeLimit",Oe),It=0)}function Gt(D){ce(),Me&&Me.then(function(I){I.keys().then(function(j){for(var le=0;le<j.length-D;le++)I.delete(j[le])})})}function Pt(D){var I=self.caches.delete(ze);D&&I.catch(D).then(function(){return D()})}function Jt(D,I){Oe=D,Ue=I}var or;function zr(){return or==null&&(or=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),or}var mt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mt);var Kt=function(D){function I(j,le,ye){le===401&&Ne(ye)&&(j+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,j),this.status=le,this.url=ye,this.name=this.constructor.name,this.message=j}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),jt=O()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},wr=function(D){return/^file:/.test(D)||/^file:/.test(jt())&&!/^\w+:/.test(D)};function vr(D,I){var j=new self.AbortController,le=new self.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:jt(),signal:j.signal}),ye=!1,Ce=!1,Ie=He(le.url);D.type==="json"&&le.headers.set("Accept","application/json");var $e=function(wt,Et,Yt){if(!Ce){if(wt&&wt.message!=="SecurityError"&&H(wt),Et&&Yt)return ht(Et);var lr=Date.now();self.fetch(le).then(function(er){if(er.ok){var xr=Ie?er.clone():null;return ht(er,xr,lr)}else return I(new Kt(er.statusText,er.status,D.url))}).catch(function(er){er.code!==20&&I(new Error(er.message))})}},ht=function(wt,Et,Yt){(D.type==="arrayBuffer"?wt.arrayBuffer():D.type==="json"?wt.json():wt.text()).then(function(lr){Ce||(Et&&Yt&&Ve(le,Et,Yt),ye=!0,I(null,lr,wt.headers.get("Cache-Control"),wt.headers.get("Expires")))}).catch(function(lr){Ce||I(new Error(lr.message))})};return Ie?ot(le,$e):$e(null,null),{cancel:function(){Ce=!0,ye||j.abort()}}}function ct(D,I){var j=new self.XMLHttpRequest;j.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(j.responseType="arraybuffer");for(var le in D.headers)j.setRequestHeader(le,D.headers[le]);return D.type==="json"&&(j.responseType="text",j.setRequestHeader("Accept","application/json")),j.withCredentials=D.credentials==="include",j.onerror=function(){I(new Error(j.statusText))},j.onload=function(){if((j.status>=200&&j.status<300||j.status===0)&&j.response!==null){var ye=j.response;if(D.type==="json")try{ye=JSON.parse(j.response)}catch(Ce){return I(Ce)}I(null,ye,j.getResponseHeader("Cache-Control"),j.getResponseHeader("Expires"))}else I(new Kt(j.statusText,j.status,D.url))},j.send(D.body),{cancel:function(){return j.abort()}}}var ut=function(D,I){if(!wr(D.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return vr(D,I);if(O()&&self.worker&&self.worker.actor){var j=!0;return self.worker.actor.send("getResource",D,I,void 0,j)}}return ct(D,I)},bt=function(D,I){return ut(l(D,{type:"json"}),I)},At=function(D,I){return ut(l(D,{type:"arrayBuffer"}),I)},Ct=function(D,I){return ut(l(D,{method:"POST"}),I)};function St(D){var I=self.document.createElement("a");return I.href=D,I.protocol===self.document.location.protocol&&I.host===self.document.location.host}var zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Vt(D,I,j,le){var ye=new self.Image,Ce=self.URL;ye.onload=function(){I(null,ye),Ce.revokeObjectURL(ye.src)},ye.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ie=new self.Blob([new Uint8Array(D)],{type:"image/png"});ye.cacheControl=j,ye.expires=le,ye.src=D.byteLength?Ce.createObjectURL(Ie):zt}function qt(D,I){var j=new self.Blob([new Uint8Array(D)],{type:"image/png"});self.createImageBitmap(j).then(function(le){I(null,le)}).catch(function(le){I(new Error("Could not load image because of "+le.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var $t,sr,Cr=function(){$t=[],sr=0};Cr();var Ze=function(D,I){if(Z.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),sr>=Y.MAX_PARALLEL_IMAGE_REQUESTS){var j={requestParameters:D,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return $t.push(j),j}sr++;var le=!1,ye=function(){if(!le)for(le=!0,sr--;$t.length&&sr<Y.MAX_PARALLEL_IMAGE_REQUESTS;){var Ie=$t.shift(),$e=Ie.requestParameters,ht=Ie.callback,wt=Ie.cancelled;wt||(Ie.cancel=Ze($e,ht).cancel)}},Ce=At(D,function(Ie,$e,ht,wt){ye(),Ie?I(Ie):$e&&(zr()?qt($e,I):Vt($e,I,ht,wt))});return{cancel:function(){Ce.cancel(),ye()}}},je=function(D,I){var j=self.document.createElement("video");j.muted=!0,j.onloadstart=function(){I(null,j)};for(var le=0;le<D.length;le++){var ye=self.document.createElement("source");St(D[le])||(j.crossOrigin="Anonymous"),ye.src=D[le],j.appendChild(ye)}return{cancel:function(){}}};function kt(D,I,j){var le=j[D]&&j[D].indexOf(I)!==-1;le||(j[D]=j[D]||[],j[D].push(I))}function _t(D,I,j){if(j&&j[D]){var le=j[D].indexOf(I);le!==-1&&j[D].splice(le,1)}}var Zt=function(I,j){j===void 0&&(j={}),l(this,j),this.type=I},ar=function(D){function I(j,le){le===void 0&&(le={}),D.call(this,"error",l({error:j},le))}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Zt),ur=function(){};ur.prototype.on=function(I,j){return this._listeners=this._listeners||{},kt(I,j,this._listeners),this},ur.prototype.off=function(I,j){return _t(I,j,this._listeners),_t(I,j,this._oneTimeListeners),this},ur.prototype.once=function(I,j){return this._oneTimeListeners=this._oneTimeListeners||{},kt(I,j,this._oneTimeListeners),this},ur.prototype.fire=function(I,j){typeof I=="string"&&(I=new Zt(I,j||{}));var le=I.type;if(this.listens(le)){I.target=this;for(var ye=this._listeners&&this._listeners[le]?this._listeners[le].slice():[],Ce=0,Ie=ye;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];$e.call(this,I)}for(var ht=this._oneTimeListeners&&this._oneTimeListeners[le]?this._oneTimeListeners[le].slice():[],wt=0,Et=ht;wt<Et.length;wt+=1){var Yt=Et[wt];_t(le,Yt,this._oneTimeListeners),Yt.call(this,I)}var lr=this._eventedParent;lr&&(l(I,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),lr.fire(I))}else I instanceof ar&&console.error(I.error);return this},ur.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},ur.prototype.setEventedParent=function(I,j){return this._eventedParent=I,this._eventedParentData=j,this};var nr=8,Ot={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},cr={"*":{type:"source"}},pr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],gr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},dr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Gr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},kr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Fr={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},gn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Kr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},kn=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],In={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},br={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mr={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Br={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Nr={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},en={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},dn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},cn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},An={type:"array",value:"*"},Rn={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Jn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ta={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},fa={type:"array",value:"*",minimum:1},na={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},ra={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Sr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],sn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},an={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},yn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Hn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Cn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Ln={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Gn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},oa={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Da={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Xa={"*":{type:"string"}},Xt={$version:nr,$root:Ot,sources:cr,source:pr,source_vector:gr,source_raster:dr,source_raster_dem:Gr,source_geojson:kr,source_video:Fr,source_image:gn,layer:Kr,layout:kn,layout_background:In,layout_fill:br,layout_circle:Mr,layout_heatmap:Br,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Nr,layout_symbol:en,layout_raster:dn,layout_hillshade:cn,filter:An,filter_operator:Rn,geometry_type:Jn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ta,expression:fa,expression_name:na,light:ra,paint:Sr,paint_fill:sn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:an,paint_circle:yn,paint_heatmap:Hn,paint_symbol:Cn,paint_raster:Ln,paint_hillshade:Gn,paint_background:oa,transition:Da,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Xa},Tr=function(I,j,le,ye){this.message=(I?I+": ":"")+le,ye&&(this.identifier=ye),j!=null&&j.__line__&&(this.line=j.__line__)};function on(D){var I=D.key,j=D.value;return j?[new Tr(I,j,"constants have been deprecated as of v8")]:[]}function hn(D){for(var I=[],j=arguments.length-1;j-- >0;)I[j]=arguments[j+1];for(var le=0,ye=I;le<ye.length;le+=1){var Ce=ye[le];for(var Ie in Ce)D[Ie]=Ce[Ie]}return D}function vn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function Pn(D){if(Array.isArray(D))return D.map(Pn);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var I={};for(var j in D)I[j]=Pn(D[j]);return I}return vn(D)}var Tn=function(D){function I(j,le){D.call(this,le),this.message=le,this.key=j}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Error),fn=function(I,j){j===void 0&&(j=[]),this.parent=I,this.bindings={};for(var le=0,ye=j;le<ye.length;le+=1){var Ce=ye[le],Ie=Ce[0],$e=Ce[1];this.bindings[Ie]=$e}};fn.prototype.concat=function(I){return new fn(this,I)},fn.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},fn.prototype.has=function(I){return this.bindings[I]?!0:this.parent?this.parent.has(I):!1};var Dr={kind:"null"},Lr={kind:"number"},Or={kind:"string"},pn={kind:"boolean"},_n={kind:"color"},Yn={kind:"object"},mn={kind:"value"},On={kind:"error"},ea={kind:"collator"},ca={kind:"formatted"},sa={kind:"resolvedImage"};function la(D,I){return{kind:"array",itemType:D,N:I}}function ya(D){if(D.kind==="array"){var I=ya(D.itemType);return typeof D.N=="number"?"array<"+I+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+I+">"}else return D.kind}var Qi=[Dr,Lr,Or,pn,_n,ca,Yn,la(mn),sa];function vo(D,I){if(I.kind==="error")return null;if(D.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!vo(D.itemType,I.itemType))&&(typeof D.N!="number"||D.N===I.N))return null}else{if(D.kind===I.kind)return null;if(D.kind==="value")for(var j=0,le=Qi;j<le.length;j+=1){var ye=le[j];if(!vo(ye,I))return null}}return"Expected "+ya(D)+" but found "+ya(I)+" instead."}function xo(D,I){return I.some(function(j){return j.kind===D.kind})}function Eo(D,I){return I.some(function(j){return j==="null"?D===null:j==="array"?Array.isArray(D):j==="object"?D&&!Array.isArray(D)&&typeof D=="object":j===typeof D})}var bo=L(function(D,I){var j={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function le(wt){return wt=Math.round(wt),wt<0?0:wt>255?255:wt}function ye(wt){return wt<0?0:wt>1?1:wt}function Ce(wt){return wt[wt.length-1]==="%"?le(parseFloat(wt)/100*255):le(parseInt(wt))}function Ie(wt){return wt[wt.length-1]==="%"?ye(parseFloat(wt)/100):ye(parseFloat(wt))}function $e(wt,Et,Yt){return Yt<0?Yt+=1:Yt>1&&(Yt-=1),Yt*6<1?wt+(Et-wt)*Yt*6:Yt*2<1?Et:Yt*3<2?wt+(Et-wt)*(2/3-Yt)*6:wt}function ht(wt){var Et=wt.replace(/ /g,"").toLowerCase();if(Et in j)return j[Et].slice();if(Et[0]==="#"){if(Et.length===4){var Yt=parseInt(Et.substr(1),16);return Yt>=0&&Yt<=4095?[(Yt&3840)>>4|(Yt&3840)>>8,Yt&240|(Yt&240)>>4,Yt&15|(Yt&15)<<4,1]:null}else if(Et.length===7){var Yt=parseInt(Et.substr(1),16);return Yt>=0&&Yt<=16777215?[(Yt&16711680)>>16,(Yt&65280)>>8,Yt&255,1]:null}return null}var lr=Et.indexOf("("),er=Et.indexOf(")");if(lr!==-1&&er+1===Et.length){var xr=Et.substr(0,lr),Ur=Et.substr(lr+1,er-(lr+1)).split(","),nn=1;switch(xr){case"rgba":if(Ur.length!==4)return null;nn=Ie(Ur.pop());case"rgb":return Ur.length!==3?null:[Ce(Ur[0]),Ce(Ur[1]),Ce(Ur[2]),nn];case"hsla":if(Ur.length!==4)return null;nn=Ie(Ur.pop());case"hsl":if(Ur.length!==3)return null;var qr=(parseFloat(Ur[0])%360+360)%360/360,Sn=Ie(Ur[1]),bn=Ie(Ur[2]),Mn=bn<=.5?bn*(Sn+1):bn+Sn-bn*Sn,Fn=bn*2-Mn;return[le($e(Fn,Mn,qr+1/3)*255),le($e(Fn,Mn,qr)*255),le($e(Fn,Mn,qr-1/3)*255),nn];default:return null}}return null}try{I.parseCSSColor=ht}catch{}}),hf=bo.parseCSSColor,ti=function(I,j,le,ye){ye===void 0&&(ye=1),this.r=I,this.g=j,this.b=le,this.a=ye};ti.parse=function(I){if(I){if(I instanceof ti)return I;if(typeof I=="string"){var j=hf(I);if(j)return new ti(j[0]/255*j[3],j[1]/255*j[3],j[2]/255*j[3],j[3])}}},ti.prototype.toString=function(){var I=this.toArray(),j=I[0],le=I[1],ye=I[2],Ce=I[3];return"rgba("+Math.round(j)+","+Math.round(le)+","+Math.round(ye)+","+Ce+")"},ti.prototype.toArray=function(){var I=this,j=I.r,le=I.g,ye=I.b,Ce=I.a;return Ce===0?[0,0,0,0]:[j*255/Ce,le*255/Ce,ye*255/Ce,Ce]},ti.black=new ti(0,0,0,1),ti.white=new ti(1,1,1,1),ti.transparent=new ti(0,0,0,0),ti.red=new ti(1,0,0,1);var nu=function(I,j,le){I?this.sensitivity=j?"variant":"case":this.sensitivity=j?"accent":"base",this.locale=le,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};nu.prototype.compare=function(I,j){return this.collator.compare(I,j)},nu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Il=function(I,j,le,ye,Ce){this.text=I,this.image=j,this.scale=le,this.fontStack=ye,this.textColor=Ce},$i=function(I){this.sections=I};$i.fromString=function(I){return new $i([new Il(I,null,null,null,null)])},$i.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(I){return I.text.length!==0||I.image&&I.image.name.length!==0})},$i.factory=function(I){return I instanceof $i?I:$i.fromString(I)},$i.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(I){return I.text}).join("")},$i.prototype.serialize=function(){for(var I=["format"],j=0,le=this.sections;j<le.length;j+=1){var ye=le[j];if(ye.image){I.push(["image",ye.image.name]);continue}I.push(ye.text);var Ce={};ye.fontStack&&(Ce["text-font"]=["literal",ye.fontStack.split(",")]),ye.scale&&(Ce["font-scale"]=ye.scale),ye.textColor&&(Ce["text-color"]=["rgba"].concat(ye.textColor.toArray())),I.push(Ce)}return I};var Co=function(I){this.name=I.name,this.available=I.available};Co.prototype.toString=function(){return this.name},Co.fromString=function(I){return I?new Co({name:I,available:!1}):null},Co.prototype.serialize=function(){return["image",this.name]};function tc(D,I,j,le){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof j=="number"&&j>=0&&j<=255)){var ye=typeof le=="number"?[D,I,j,le]:[D,I,j];return"Invalid rgba value ["+ye.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof le>"u"||typeof le=="number"&&le>=0&&le<=1?null:"Invalid rgba value ["+[D,I,j,le].join(", ")+"]: 'a' must be between 0 and 1."}function au(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof ti)return!0;if(D instanceof nu)return!0;if(D instanceof $i)return!0;if(D instanceof Co)return!0;if(Array.isArray(D)){for(var I=0,j=D;I<j.length;I+=1){var le=j[I];if(!au(le))return!1}return!0}else if(typeof D=="object"){for(var ye in D)if(!au(D[ye]))return!1;return!0}else return!1}function Di(D){if(D===null)return Dr;if(typeof D=="string")return Or;if(typeof D=="boolean")return pn;if(typeof D=="number")return Lr;if(D instanceof ti)return _n;if(D instanceof nu)return ea;if(D instanceof $i)return ca;if(D instanceof Co)return sa;if(Array.isArray(D)){for(var I=D.length,j,le=0,ye=D;le<ye.length;le+=1){var Ce=ye[le],Ie=Di(Ce);if(!j)j=Ie;else{if(j===Ie)continue;j=mn;break}}return la(j||mn,I)}else return Yn}function iu(D){var I=typeof D;return D===null?"":I==="string"||I==="number"||I==="boolean"?String(D):D instanceof ti||D instanceof $i||D instanceof Co?D.toString():JSON.stringify(D)}var _o=function(I,j){this.type=I,this.value=j};_o.parse=function(I,j){if(I.length!==2)return j.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!au(I[1]))return j.error("invalid value");var le=I[1],ye=Di(le),Ce=j.expectedType;return ye.kind==="array"&&ye.N===0&&Ce&&Ce.kind==="array"&&(typeof Ce.N!="number"||Ce.N===0)&&(ye=Ce),new _o(ye,le)},_o.prototype.evaluate=function(){return this.value},_o.prototype.eachChild=function(){},_o.prototype.outputDefined=function(){return!0},_o.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ti?["rgba"].concat(this.value.toArray()):this.value instanceof $i?this.value.serialize():this.value};var ji=function(I){this.name="ExpressionEvaluationError",this.message=I};ji.prototype.toJSON=function(){return this.message};var zo={string:Or,number:Lr,boolean:pn,object:Yn},po=function(I,j){this.type=I,this.args=j};po.parse=function(I,j){if(I.length<2)return j.error("Expected at least one argument.");var le=1,ye,Ce=I[0];if(Ce==="array"){var Ie;if(I.length>2){var $e=I[1];if(typeof $e!="string"||!($e in zo)||$e==="object")return j.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=zo[$e],le++}else Ie=mn;var ht;if(I.length>3){if(I[2]!==null&&(typeof I[2]!="number"||I[2]<0||I[2]!==Math.floor(I[2])))return j.error('The length argument to "array" must be a positive integer literal',2);ht=I[2],le++}ye=la(Ie,ht)}else ye=zo[Ce];for(var wt=[];le<I.length;le++){var Et=j.parse(I[le],le,mn);if(!Et)return null;wt.push(Et)}return new po(ye,wt)},po.prototype.evaluate=function(I){for(var j=0;j<this.args.length;j++){var le=this.args[j].evaluate(I),ye=vo(this.type,Di(le));if(ye){if(j===this.args.length-1)throw new ji("Expected value to be of type "+ya(this.type)+", but found "+ya(Di(le))+" instead.")}else return le}return null},po.prototype.eachChild=function(I){this.args.forEach(I)},po.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},po.prototype.serialize=function(){var I=this.type,j=[I.kind];if(I.kind==="array"){var le=I.itemType;if(le.kind==="string"||le.kind==="number"||le.kind==="boolean"){j.push(le.kind);var ye=I.N;(typeof ye=="number"||this.args.length>1)&&j.push(ye)}}return j.concat(this.args.map(function(Ce){return Ce.serialize()}))};var Go=function(I){this.type=ca,this.sections=I};Go.parse=function(I,j){if(I.length<2)return j.error("Expected at least one argument.");var le=I[1];if(!Array.isArray(le)&&typeof le=="object")return j.error("First argument must be an image or text section.");for(var ye=[],Ce=!1,Ie=1;Ie<=I.length-1;++Ie){var $e=I[Ie];if(Ce&&typeof $e=="object"&&!Array.isArray($e)){Ce=!1;var ht=null;if($e["font-scale"]&&(ht=j.parse($e["font-scale"],1,Lr),!ht))return null;var wt=null;if($e["text-font"]&&(wt=j.parse($e["text-font"],1,la(Or)),!wt))return null;var Et=null;if($e["text-color"]&&(Et=j.parse($e["text-color"],1,_n),!Et))return null;var Yt=ye[ye.length-1];Yt.scale=ht,Yt.font=wt,Yt.textColor=Et}else{var lr=j.parse(I[Ie],1,mn);if(!lr)return null;var er=lr.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return j.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ce=!0,ye.push({content:lr,scale:null,font:null,textColor:null})}}return new Go(ye)},Go.prototype.evaluate=function(I){var j=function(le){var ye=le.content.evaluate(I);return Di(ye)===sa?new Il("",ye,null,null,null):new Il(iu(ye),null,le.scale?le.scale.evaluate(I):null,le.font?le.font.evaluate(I).join(","):null,le.textColor?le.textColor.evaluate(I):null)};return new $i(this.sections.map(j))},Go.prototype.eachChild=function(I){for(var j=0,le=this.sections;j<le.length;j+=1){var ye=le[j];I(ye.content),ye.scale&&I(ye.scale),ye.font&&I(ye.font),ye.textColor&&I(ye.textColor)}},Go.prototype.outputDefined=function(){return!1},Go.prototype.serialize=function(){for(var I=["format"],j=0,le=this.sections;j<le.length;j+=1){var ye=le[j];I.push(ye.content.serialize());var Ce={};ye.scale&&(Ce["font-scale"]=ye.scale.serialize()),ye.font&&(Ce["text-font"]=ye.font.serialize()),ye.textColor&&(Ce["text-color"]=ye.textColor.serialize()),I.push(Ce)}return I};var hs=function(I){this.type=sa,this.input=I};hs.parse=function(I,j){if(I.length!==2)return j.error("Expected two arguments.");var le=j.parse(I[1],1,Or);return le?new hs(le):j.error("No image name provided.")},hs.prototype.evaluate=function(I){var j=this.input.evaluate(I),le=Co.fromString(j);return le&&I.availableImages&&(le.available=I.availableImages.indexOf(j)>-1),le},hs.prototype.eachChild=function(I){I(this.input)},hs.prototype.outputDefined=function(){return!1},hs.prototype.serialize=function(){return["image",this.input.serialize()]};var Ps={"to-boolean":pn,"to-color":_n,"to-number":Lr,"to-string":Or},ro=function(I,j){this.type=I,this.args=j};ro.parse=function(I,j){if(I.length<2)return j.error("Expected at least one argument.");var le=I[0];if((le==="to-boolean"||le==="to-string")&&I.length!==2)return j.error("Expected one argument.");for(var ye=Ps[le],Ce=[],Ie=1;Ie<I.length;Ie++){var $e=j.parse(I[Ie],Ie,mn);if(!$e)return null;Ce.push($e)}return new ro(ye,Ce)},ro.prototype.evaluate=function(I){if(this.type.kind==="boolean")return!!this.args[0].evaluate(I);if(this.type.kind==="color"){for(var j,le,ye=0,Ce=this.args;ye<Ce.length;ye+=1){var Ie=Ce[ye];if(j=Ie.evaluate(I),le=null,j instanceof ti)return j;if(typeof j=="string"){var $e=I.parseColor(j);if($e)return $e}else if(Array.isArray(j)&&(j.length<3||j.length>4?le="Invalid rbga value "+JSON.stringify(j)+": expected an array containing either three or four numeric values.":le=tc(j[0],j[1],j[2],j[3]),!le))return new ti(j[0]/255,j[1]/255,j[2]/255,j[3])}throw new ji(le||"Could not parse color from value '"+(typeof j=="string"?j:String(JSON.stringify(j)))+"'")}else if(this.type.kind==="number"){for(var ht=null,wt=0,Et=this.args;wt<Et.length;wt+=1){var Yt=Et[wt];if(ht=Yt.evaluate(I),ht===null)return 0;var lr=Number(ht);if(!isNaN(lr))return lr}throw new ji("Could not convert "+JSON.stringify(ht)+" to number.")}else return this.type.kind==="formatted"?$i.fromString(iu(this.args[0].evaluate(I))):this.type.kind==="resolvedImage"?Co.fromString(iu(this.args[0].evaluate(I))):iu(this.args[0].evaluate(I))},ro.prototype.eachChild=function(I){this.args.forEach(I)},ro.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},ro.prototype.serialize=function(){if(this.type.kind==="formatted")return new Go([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new hs(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(j){I.push(j.serialize())}),I};var rc=["Unknown","Point","LineString","Polygon"],vs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};vs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},vs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?rc[this.feature.type]:this.feature.type:null},vs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},vs.prototype.canonicalID=function(){return this.canonical},vs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},vs.prototype.parseColor=function(I){var j=this._parseColorCache[I];return j||(j=this._parseColorCache[I]=ti.parse(I)),j};var no=function(I,j,le,ye){this.name=I,this.type=j,this._evaluate=le,this.args=ye};no.prototype.evaluate=function(I){return this._evaluate(I,this.args)},no.prototype.eachChild=function(I){this.args.forEach(I)},no.prototype.outputDefined=function(){return!1},no.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},no.parse=function(I,j){var le,ye=I[0],Ce=no.definitions[ye];if(!Ce)return j.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Ce)?Ce[0]:Ce.type,$e=Array.isArray(Ce)?[[Ce[1],Ce[2]]]:Ce.overloads,ht=$e.filter(function(Ma){var Sa=Ma[0];return!Array.isArray(Sa)||Sa.length===I.length-1}),wt=null,Et=0,Yt=ht;Et<Yt.length;Et+=1){var lr=Yt[Et],er=lr[0],xr=lr[1];wt=new Is(j.registry,j.path,null,j.scope);for(var Ur=[],nn=!1,qr=1;qr<I.length;qr++){var Sn=I[qr],bn=Array.isArray(er)?er[qr-1]:er.type,Mn=wt.parse(Sn,1+Ur.length,bn);if(!Mn){nn=!0;break}Ur.push(Mn)}if(!nn){if(Array.isArray(er)&&er.length!==Ur.length){wt.error("Expected "+er.length+" arguments, but found "+Ur.length+" instead.");continue}for(var Fn=0;Fn<Ur.length;Fn++){var Vn=Array.isArray(er)?er[Fn]:er.type,qn=Ur[Fn];wt.concat(Fn+1).checkSubtype(Vn,qn.type)}if(wt.errors.length===0)return new no(ye,Ie,xr,Ur)}}if(ht.length===1)(le=j.errors).push.apply(le,wt.errors);else{for(var $n=ht.length?ht:$e,Ca=$n.map(function(Ma){var Sa=Ma[0];return vf(Sa)}).join(" | "),da=[],ba=1;ba<I.length;ba++){var Ha=j.parse(I[ba],1+da.length);if(!Ha)return null;da.push(ya(Ha.type))}j.error("Expected arguments of type "+Ca+", but found ("+da.join(", ")+") instead.")}return null},no.register=function(I,j){no.definitions=j;for(var le in j)I[le]=no};function vf(D){return Array.isArray(D)?"("+D.map(ya).join(", ")+")":"("+ya(D.type)+"...)"}var Rs=function(I,j,le){this.type=ea,this.locale=le,this.caseSensitive=I,this.diacriticSensitive=j};Rs.parse=function(I,j){if(I.length!==2)return j.error("Expected one argument.");var le=I[1];if(typeof le!="object"||Array.isArray(le))return j.error("Collator options argument must be an object.");var ye=j.parse(le["case-sensitive"]===void 0?!1:le["case-sensitive"],1,pn);if(!ye)return null;var Ce=j.parse(le["diacritic-sensitive"]===void 0?!1:le["diacritic-sensitive"],1,pn);if(!Ce)return null;var Ie=null;return le.locale&&(Ie=j.parse(le.locale,1,Or),!Ie)?null:new Rs(ye,Ce,Ie)},Rs.prototype.evaluate=function(I){return new nu(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},Rs.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},Rs.prototype.outputDefined=function(){return!1},Rs.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var ds=8192;function df(D,I){D[0]=Math.min(D[0],I[0]),D[1]=Math.min(D[1],I[1]),D[2]=Math.max(D[2],I[0]),D[3]=Math.max(D[3],I[1])}function pf(D){return(180+D)/360}function nh(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function ou(D,I){return!(D[0]<=I[0]||D[2]>=I[2]||D[1]<=I[1]||D[3]>=I[3])}function ah(D,I){var j=pf(D[0]),le=nh(D[1]),ye=Math.pow(2,I.z);return[Math.round(j*ye*ds),Math.round(le*ye*ds)]}function ih(D,I,j){var le=D[0]-I[0],ye=D[1]-I[1],Ce=D[0]-j[0],Ie=D[1]-j[1];return le*Ie-Ce*ye===0&&le*Ce<=0&&ye*Ie<=0}function oh(D,I,j){return I[1]>D[1]!=j[1]>D[1]&&D[0]<(j[0]-I[0])*(D[1]-I[1])/(j[1]-I[1])+I[0]}function gf(D,I){for(var j=!1,le=0,ye=I.length;le<ye;le++)for(var Ce=I[le],Ie=0,$e=Ce.length;Ie<$e-1;Ie++){if(ih(D,Ce[Ie],Ce[Ie+1]))return!1;oh(D,Ce[Ie],Ce[Ie+1])&&(j=!j)}return j}function sh(D,I){for(var j=0;j<I.length;j++)if(gf(D,I[j]))return!0;return!1}function lh(D,I){return D[0]*I[1]-D[1]*I[0]}function nc(D,I,j,le){var ye=D[0]-j[0],Ce=D[1]-j[1],Ie=I[0]-j[0],$e=I[1]-j[1],ht=le[0]-j[0],wt=le[1]-j[1],Et=ye*wt-ht*Ce,Yt=Ie*wt-ht*$e;return Et>0&&Yt<0||Et<0&&Yt>0}function uh(D,I,j,le){var ye=[I[0]-D[0],I[1]-D[1]],Ce=[le[0]-j[0],le[1]-j[1]];return lh(Ce,ye)===0?!1:!!(nc(D,I,j,le)&&nc(j,le,D,I))}function fh(D,I,j){for(var le=0,ye=j;le<ye.length;le+=1)for(var Ce=ye[le],Ie=0;Ie<Ce.length-1;++Ie)if(uh(D,I,Ce[Ie],Ce[Ie+1]))return!0;return!1}function yf(D,I){for(var j=0;j<D.length;++j)if(!gf(D[j],I))return!1;for(var le=0;le<D.length-1;++le)if(fh(D[le],D[le+1],I))return!1;return!0}function fl(D,I){for(var j=0;j<I.length;j++)if(yf(D,I[j]))return!0;return!1}function cl(D,I,j){for(var le=[],ye=0;ye<D.length;ye++){for(var Ce=[],Ie=0;Ie<D[ye].length;Ie++){var $e=ah(D[ye][Ie],j);df(I,$e),Ce.push($e)}le.push(Ce)}return le}function kl(D,I,j){for(var le=[],ye=0;ye<D.length;ye++){var Ce=cl(D[ye],I,j);le.push(Ce)}return le}function Fu(D,I,j,le){if(D[0]<j[0]||D[0]>j[2]){var ye=le*.5,Ce=D[0]-j[0]>ye?-le:j[0]-D[0]>ye?le:0;Ce===0&&(Ce=D[0]-j[2]>ye?-le:j[2]-D[0]>ye?le:0),D[0]+=Ce}df(I,D)}function ch(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function Ds(D,I,j,le){for(var ye=Math.pow(2,le.z)*ds,Ce=[le.x*ds,le.y*ds],Ie=[],$e=0,ht=D;$e<ht.length;$e+=1)for(var wt=ht[$e],Et=0,Yt=wt;Et<Yt.length;Et+=1){var lr=Yt[Et],er=[lr.x+Ce[0],lr.y+Ce[1]];Fu(er,I,j,ye),Ie.push(er)}return Ie}function ac(D,I,j,le){for(var ye=Math.pow(2,le.z)*ds,Ce=[le.x*ds,le.y*ds],Ie=[],$e=0,ht=D;$e<ht.length;$e+=1){for(var wt=ht[$e],Et=[],Yt=0,lr=wt;Yt<lr.length;Yt+=1){var er=lr[Yt],xr=[er.x+Ce[0],er.y+Ce[1]];df(I,xr),Et.push(xr)}Ie.push(Et)}if(I[2]-I[0]<=ye/2){ch(I);for(var Ur=0,nn=Ie;Ur<nn.length;Ur+=1)for(var qr=nn[Ur],Sn=0,bn=qr;Sn<bn.length;Sn+=1){var Mn=bn[Sn];Fu(Mn,I,j,ye)}}return Ie}function mf(D,I){var j=[1/0,1/0,-1/0,-1/0],le=[1/0,1/0,-1/0,-1/0],ye=D.canonicalID();if(I.type==="Polygon"){var Ce=cl(I.coordinates,le,ye),Ie=Ds(D.geometry(),j,le,ye);if(!ou(j,le))return!1;for(var $e=0,ht=Ie;$e<ht.length;$e+=1){var wt=ht[$e];if(!gf(wt,Ce))return!1}}if(I.type==="MultiPolygon"){var Et=kl(I.coordinates,le,ye),Yt=Ds(D.geometry(),j,le,ye);if(!ou(j,le))return!1;for(var lr=0,er=Yt;lr<er.length;lr+=1){var xr=er[lr];if(!sh(xr,Et))return!1}}return!0}function hh(D,I){var j=[1/0,1/0,-1/0,-1/0],le=[1/0,1/0,-1/0,-1/0],ye=D.canonicalID();if(I.type==="Polygon"){var Ce=cl(I.coordinates,le,ye),Ie=ac(D.geometry(),j,le,ye);if(!ou(j,le))return!1;for(var $e=0,ht=Ie;$e<ht.length;$e+=1){var wt=ht[$e];if(!yf(wt,Ce))return!1}}if(I.type==="MultiPolygon"){var Et=kl(I.coordinates,le,ye),Yt=ac(D.geometry(),j,le,ye);if(!ou(j,le))return!1;for(var lr=0,er=Yt;lr<er.length;lr+=1){var xr=er[lr];if(!fl(xr,Et))return!1}}return!0}var Wo=function(I,j){this.type=pn,this.geojson=I,this.geometries=j};Wo.parse=function(I,j){if(I.length!==2)return j.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(au(I[1])){var le=I[1];if(le.type==="FeatureCollection")for(var ye=0;ye<le.features.length;++ye){var Ce=le.features[ye].geometry.type;if(Ce==="Polygon"||Ce==="MultiPolygon")return new Wo(le,le.features[ye].geometry)}else if(le.type==="Feature"){var Ie=le.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new Wo(le,le.geometry)}else if(le.type==="Polygon"||le.type==="MultiPolygon")return new Wo(le,le)}return j.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Wo.prototype.evaluate=function(I){if(I.geometry()!=null&&I.canonicalID()!=null){if(I.geometryType()==="Point")return mf(I,this.geometries);if(I.geometryType()==="LineString")return hh(I,this.geometries)}return!1},Wo.prototype.eachChild=function(){},Wo.prototype.outputDefined=function(){return!0},Wo.prototype.serialize=function(){return["within",this.geojson]};function hl(D){if(D instanceof no){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof Wo)return!1;var I=!0;return D.eachChild(function(j){I&&!hl(j)&&(I=!1)}),I}function su(D){if(D instanceof no&&D.name==="feature-state")return!1;var I=!0;return D.eachChild(function(j){I&&!su(j)&&(I=!1)}),I}function Fl(D,I){if(D instanceof no&&I.indexOf(D.name)>=0)return!1;var j=!0;return D.eachChild(function(le){j&&!Fl(le,I)&&(j=!1)}),j}var ps=function(I,j){this.type=j.type,this.name=I,this.boundExpression=j};ps.parse=function(I,j){if(I.length!==2||typeof I[1]!="string")return j.error("'var' expression requires exactly one string literal argument.");var le=I[1];return j.scope.has(le)?new ps(le,j.scope.get(le)):j.error('Unknown variable "'+le+'". Make sure "'+le+'" has been bound in an enclosing "let" expression before using it.',1)},ps.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},ps.prototype.eachChild=function(){},ps.prototype.outputDefined=function(){return!1},ps.prototype.serialize=function(){return["var",this.name]};var Is=function(I,j,le,ye,Ce){j===void 0&&(j=[]),ye===void 0&&(ye=new fn),Ce===void 0&&(Ce=[]),this.registry=I,this.path=j,this.key=j.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=ye,this.errors=Ce,this.expectedType=le};Is.prototype.parse=function(I,j,le,ye,Ce){return Ce===void 0&&(Ce={}),j?this.concat(j,le,ye)._parse(I,Ce):this._parse(I,Ce)},Is.prototype._parse=function(I,j){(I===null||typeof I=="string"||typeof I=="boolean"||typeof I=="number")&&(I=["literal",I]);function le(Et,Yt,lr){return lr==="assert"?new po(Yt,[Et]):lr==="coerce"?new ro(Yt,[Et]):Et}if(Array.isArray(I)){if(I.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ye=I[0];if(typeof ye!="string")return this.error("Expression name must be a string, but found "+typeof ye+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ce=this.registry[ye];if(Ce){var Ie=Ce.parse(I,this);if(!Ie)return null;if(this.expectedType){var $e=this.expectedType,ht=Ie.type;if(($e.kind==="string"||$e.kind==="number"||$e.kind==="boolean"||$e.kind==="object"||$e.kind==="array")&&ht.kind==="value")Ie=le(Ie,$e,j.typeAnnotation||"assert");else if(($e.kind==="color"||$e.kind==="formatted"||$e.kind==="resolvedImage")&&(ht.kind==="value"||ht.kind==="string"))Ie=le(Ie,$e,j.typeAnnotation||"coerce");else if(this.checkSubtype($e,ht))return null}if(!(Ie instanceof _o)&&Ie.type.kind!=="resolvedImage"&&xf(Ie)){var wt=new vs;try{Ie=new _o(Ie.type,Ie.evaluate(wt))}catch(Et){return this.error(Et.message),null}}return Ie}return this.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof I>"u"?this.error("'undefined' value invalid. Use null instead."):typeof I=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof I+" instead.")},Is.prototype.concat=function(I,j,le){var ye=typeof I=="number"?this.path.concat(I):this.path,Ce=le?this.scope.concat(le):this.scope;return new Is(this.registry,ye,j||null,Ce,this.errors)},Is.prototype.error=function(I){for(var j=[],le=arguments.length-1;le-- >0;)j[le]=arguments[le+1];var ye=""+this.key+j.map(function(Ce){return"["+Ce+"]"}).join("");this.errors.push(new Tn(ye,I))},Is.prototype.checkSubtype=function(I,j){var le=vo(I,j);return le&&this.error(le),le};function xf(D){if(D instanceof ps)return xf(D.boundExpression);if(D instanceof no&&D.name==="error")return!1;if(D instanceof Rs)return!1;if(D instanceof Wo)return!1;var I=D instanceof ro||D instanceof po,j=!0;return D.eachChild(function(le){I?j=j&&xf(le):j=j&&le instanceof _o}),j?hl(D)&&Fl(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function _l(D,I){for(var j=D.length-1,le=0,ye=j,Ce=0,Ie,$e;le<=ye;)if(Ce=Math.floor((le+ye)/2),Ie=D[Ce],$e=D[Ce+1],Ie<=I){if(Ce===j||I<$e)return Ce;le=Ce+1}else if(Ie>I)ye=Ce-1;else throw new ji("Input is not a number.");return 0}var js=function(I,j,le){this.type=I,this.input=j,this.labels=[],this.outputs=[];for(var ye=0,Ce=le;ye<Ce.length;ye+=1){var Ie=Ce[ye],$e=Ie[0],ht=Ie[1];this.labels.push($e),this.outputs.push(ht)}};js.parse=function(I,j){if(I.length-1<4)return j.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return j.error("Expected an even number of arguments.");var le=j.parse(I[1],1,Lr);if(!le)return null;var ye=[],Ce=null;j.expectedType&&j.expectedType.kind!=="value"&&(Ce=j.expectedType);for(var Ie=1;Ie<I.length;Ie+=2){var $e=Ie===1?-1/0:I[Ie],ht=I[Ie+1],wt=Ie,Et=Ie+1;if(typeof $e!="number")return j.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',wt);if(ye.length&&ye[ye.length-1][0]>=$e)return j.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',wt);var Yt=j.parse(ht,Et,Ce);if(!Yt)return null;Ce=Ce||Yt.type,ye.push([$e,Yt])}return new js(Ce,le,ye)},js.prototype.evaluate=function(I){var j=this.labels,le=this.outputs;if(j.length===1)return le[0].evaluate(I);var ye=this.input.evaluate(I);if(ye<=j[0])return le[0].evaluate(I);var Ce=j.length;if(ye>=j[Ce-1])return le[Ce-1].evaluate(I);var Ie=_l(j,ye);return le[Ie].evaluate(I)},js.prototype.eachChild=function(I){I(this.input);for(var j=0,le=this.outputs;j<le.length;j+=1){var ye=le[j];I(ye)}},js.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},js.prototype.serialize=function(){for(var I=["step",this.input.serialize()],j=0;j<this.labels.length;j++)j>0&&I.push(this.labels[j]),I.push(this.outputs[j].serialize());return I};function zi(D,I,j){return D*(1-j)+I*j}function bf(D,I,j){return new ti(zi(D.r,I.r,j),zi(D.g,I.g,j),zi(D.b,I.b,j),zi(D.a,I.a,j))}function _u(D,I,j){return D.map(function(le,ye){return zi(le,I[ye],j)})}var zl=Object.freeze({__proto__:null,number:zi,color:bf,array:_u}),ic=.95047,oc=1,Ol=1.08883,Bl=4/29,qi=6/29,zu=3*qi*qi,vh=qi*qi*qi,wf=Math.PI/180,dh=180/Math.PI;function Ou(D){return D>vh?Math.pow(D,.3333333333333333):D/zu+Bl}function lu(D){return D>qi?D*D*D:zu*(D-Bl)}function Tf(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function Af(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function uu(D){var I=Af(D.r),j=Af(D.g),le=Af(D.b),ye=Ou((.4124564*I+.3575761*j+.1804375*le)/ic),Ce=Ou((.2126729*I+.7151522*j+.072175*le)/oc),Ie=Ou((.0193339*I+.119192*j+.9503041*le)/Ol);return{l:116*Ce-16,a:500*(ye-Ce),b:200*(Ce-Ie),alpha:D.a}}function Mf(D){var I=(D.l+16)/116,j=isNaN(D.a)?I:I+D.a/500,le=isNaN(D.b)?I:I-D.b/200;return I=oc*lu(I),j=ic*lu(j),le=Ol*lu(le),new ti(Tf(3.2404542*j-1.5371385*I-.4985314*le),Tf(-.969266*j+1.8760108*I+.041556*le),Tf(.0556434*j-.2040259*I+1.0572252*le),D.alpha)}function Bu(D,I,j){return{l:zi(D.l,I.l,j),a:zi(D.a,I.a,j),b:zi(D.b,I.b,j),alpha:zi(D.alpha,I.alpha,j)}}function Sf(D){var I=uu(D),j=I.l,le=I.a,ye=I.b,Ce=Math.atan2(ye,le)*dh;return{h:Ce<0?Ce+360:Ce,c:Math.sqrt(le*le+ye*ye),l:j,alpha:D.a}}function pi(D){var I=D.h*wf,j=D.c,le=D.l;return Mf({l:le,a:Math.cos(I)*j,b:Math.sin(I)*j,alpha:D.alpha})}function sc(D,I,j){var le=I-D;return D+j*(le>180||le<-180?le-360*Math.round(le/360):le)}function es(D,I,j){return{h:sc(D.h,I.h,j),c:zi(D.c,I.c,j),l:zi(D.l,I.l,j),alpha:zi(D.alpha,I.alpha,j)}}var Nl={forward:uu,reverse:Mf,interpolate:Bu},vl={forward:Sf,reverse:pi,interpolate:es},Ef=Object.freeze({__proto__:null,lab:Nl,hcl:vl}),Ni=function(I,j,le,ye,Ce){this.type=I,this.operator=j,this.interpolation=le,this.input=ye,this.labels=[],this.outputs=[];for(var Ie=0,$e=Ce;Ie<$e.length;Ie+=1){var ht=$e[Ie],wt=ht[0],Et=ht[1];this.labels.push(wt),this.outputs.push(Et)}};Ni.interpolationFactor=function(I,j,le,ye){var Ce=0;if(I.name==="exponential")Ce=fu(j,I.base,le,ye);else if(I.name==="linear")Ce=fu(j,1,le,ye);else if(I.name==="cubic-bezier"){var Ie=I.controlPoints,$e=new h(Ie[0],Ie[1],Ie[2],Ie[3]);Ce=$e.solve(fu(j,1,le,ye))}return Ce},Ni.parse=function(I,j){var le=I[0],ye=I[1],Ce=I[2],Ie=I.slice(3);if(!Array.isArray(ye)||ye.length===0)return j.error("Expected an interpolation type expression.",1);if(ye[0]==="linear")ye={name:"linear"};else if(ye[0]==="exponential"){var $e=ye[1];if(typeof $e!="number")return j.error("Exponential interpolation requires a numeric base.",1,1);ye={name:"exponential",base:$e}}else if(ye[0]==="cubic-bezier"){var ht=ye.slice(1);if(ht.length!==4||ht.some(function(qr){return typeof qr!="number"||qr<0||qr>1}))return j.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ye={name:"cubic-bezier",controlPoints:ht}}else return j.error("Unknown interpolation type "+String(ye[0]),1,0);if(I.length-1<4)return j.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return j.error("Expected an even number of arguments.");if(Ce=j.parse(Ce,2,Lr),!Ce)return null;var wt=[],Et=null;le==="interpolate-hcl"||le==="interpolate-lab"?Et=_n:j.expectedType&&j.expectedType.kind!=="value"&&(Et=j.expectedType);for(var Yt=0;Yt<Ie.length;Yt+=2){var lr=Ie[Yt],er=Ie[Yt+1],xr=Yt+3,Ur=Yt+4;if(typeof lr!="number")return j.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(wt.length&&wt[wt.length-1][0]>=lr)return j.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var nn=j.parse(er,Ur,Et);if(!nn)return null;Et=Et||nn.type,wt.push([lr,nn])}return Et.kind!=="number"&&Et.kind!=="color"&&!(Et.kind==="array"&&Et.itemType.kind==="number"&&typeof Et.N=="number")?j.error("Type "+ya(Et)+" is not interpolatable."):new Ni(Et,le,ye,Ce,wt)},Ni.prototype.evaluate=function(I){var j=this.labels,le=this.outputs;if(j.length===1)return le[0].evaluate(I);var ye=this.input.evaluate(I);if(ye<=j[0])return le[0].evaluate(I);var Ce=j.length;if(ye>=j[Ce-1])return le[Ce-1].evaluate(I);var Ie=_l(j,ye),$e=j[Ie],ht=j[Ie+1],wt=Ni.interpolationFactor(this.interpolation,ye,$e,ht),Et=le[Ie].evaluate(I),Yt=le[Ie+1].evaluate(I);return this.operator==="interpolate"?zl[this.type.kind.toLowerCase()](Et,Yt,wt):this.operator==="interpolate-hcl"?vl.reverse(vl.interpolate(vl.forward(Et),vl.forward(Yt),wt)):Nl.reverse(Nl.interpolate(Nl.forward(Et),Nl.forward(Yt),wt))},Ni.prototype.eachChild=function(I){I(this.input);for(var j=0,le=this.outputs;j<le.length;j+=1){var ye=le[j];I(ye)}},Ni.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Ni.prototype.serialize=function(){var I;this.interpolation.name==="linear"?I=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?I=["linear"]:I=["exponential",this.interpolation.base]:I=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var j=[this.operator,I,this.input.serialize()],le=0;le<this.labels.length;le++)j.push(this.labels[le],this.outputs[le].serialize());return j};function fu(D,I,j,le){var ye=le-j,Ce=D-j;return ye===0?0:I===1?Ce/ye:(Math.pow(I,Ce)-1)/(Math.pow(I,ye)-1)}var Lo=function(I,j){this.type=I,this.args=j};Lo.parse=function(I,j){if(I.length<2)return j.error("Expectected at least one argument.");var le=null,ye=j.expectedType;ye&&ye.kind!=="value"&&(le=ye);for(var Ce=[],Ie=0,$e=I.slice(1);Ie<$e.length;Ie+=1){var ht=$e[Ie],wt=j.parse(ht,1+Ce.length,le,void 0,{typeAnnotation:"omit"});if(!wt)return null;le=le||wt.type,Ce.push(wt)}var Et=ye&&Ce.some(function(Yt){return vo(ye,Yt.type)});return Et?new Lo(mn,Ce):new Lo(le,Ce)},Lo.prototype.evaluate=function(I){for(var j=null,le=0,ye,Ce=0,Ie=this.args;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];if(le++,j=$e.evaluate(I),j&&j instanceof Co&&!j.available&&(ye||(ye=j.name),j=null,le===this.args.length&&(j=ye)),j!==null)break}return j},Lo.prototype.eachChild=function(I){this.args.forEach(I)},Lo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Lo.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(j){I.push(j.serialize())}),I};var ks=function(I,j){this.type=j.type,this.bindings=[].concat(I),this.result=j};ks.prototype.evaluate=function(I){return this.result.evaluate(I)},ks.prototype.eachChild=function(I){for(var j=0,le=this.bindings;j<le.length;j+=1){var ye=le[j];I(ye[1])}I(this.result)},ks.parse=function(I,j){if(I.length<4)return j.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var le=[],ye=1;ye<I.length-1;ye+=2){var Ce=I[ye];if(typeof Ce!="string")return j.error("Expected string, but found "+typeof Ce+" instead.",ye);if(/[^a-zA-Z0-9_]/.test(Ce))return j.error("Variable names must contain only alphanumeric characters or '_'.",ye);var Ie=j.parse(I[ye+1],ye+1);if(!Ie)return null;le.push([Ce,Ie])}var $e=j.parse(I[I.length-1],I.length-1,j.expectedType,le);return $e?new ks(le,$e):null},ks.prototype.outputDefined=function(){return this.result.outputDefined()},ks.prototype.serialize=function(){for(var I=["let"],j=0,le=this.bindings;j<le.length;j+=1){var ye=le[j],Ce=ye[0],Ie=ye[1];I.push(Ce,Ie.serialize())}return I.push(this.result.serialize()),I};var Fs=function(I,j,le){this.type=I,this.index=j,this.input=le};Fs.parse=function(I,j){if(I.length!==3)return j.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var le=j.parse(I[1],1,Lr),ye=j.parse(I[2],2,la(j.expectedType||mn));if(!le||!ye)return null;var Ce=ye.type;return new Fs(Ce.itemType,le,ye)},Fs.prototype.evaluate=function(I){var j=this.index.evaluate(I),le=this.input.evaluate(I);if(j<0)throw new ji("Array index out of bounds: "+j+" < 0.");if(j>=le.length)throw new ji("Array index out of bounds: "+j+" > "+(le.length-1)+".");if(j!==Math.floor(j))throw new ji("Array index must be an integer, but found "+j+" instead.");return le[j]},Fs.prototype.eachChild=function(I){I(this.index),I(this.input)},Fs.prototype.outputDefined=function(){return!1},Fs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Zs=function(I,j){this.type=pn,this.needle=I,this.haystack=j};Zs.parse=function(I,j){if(I.length!==3)return j.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var le=j.parse(I[1],1,mn),ye=j.parse(I[2],2,mn);return!le||!ye?null:xo(le.type,[pn,Or,Lr,Dr,mn])?new Zs(le,ye):j.error("Expected first argument to be of type boolean, string, number or null, but found "+ya(le.type)+" instead")},Zs.prototype.evaluate=function(I){var j=this.needle.evaluate(I),le=this.haystack.evaluate(I);if(!le)return!1;if(!Eo(j,["boolean","string","number","null"]))throw new ji("Expected first argument to be of type boolean, string, number or null, but found "+ya(Di(j))+" instead.");if(!Eo(le,["string","array"]))throw new ji("Expected second argument to be of type array or string, but found "+ya(Di(le))+" instead.");return le.indexOf(j)>=0},Zs.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},Zs.prototype.outputDefined=function(){return!0},Zs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Xs=function(I,j,le){this.type=Lr,this.needle=I,this.haystack=j,this.fromIndex=le};Xs.parse=function(I,j){if(I.length<=2||I.length>=5)return j.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var le=j.parse(I[1],1,mn),ye=j.parse(I[2],2,mn);if(!le||!ye)return null;if(!xo(le.type,[pn,Or,Lr,Dr,mn]))return j.error("Expected first argument to be of type boolean, string, number or null, but found "+ya(le.type)+" instead");if(I.length===4){var Ce=j.parse(I[3],3,Lr);return Ce?new Xs(le,ye,Ce):null}else return new Xs(le,ye)},Xs.prototype.evaluate=function(I){var j=this.needle.evaluate(I),le=this.haystack.evaluate(I);if(!Eo(j,["boolean","string","number","null"]))throw new ji("Expected first argument to be of type boolean, string, number or null, but found "+ya(Di(j))+" instead.");if(!Eo(le,["string","array"]))throw new ji("Expected second argument to be of type array or string, but found "+ya(Di(le))+" instead.");if(this.fromIndex){var ye=this.fromIndex.evaluate(I);return le.indexOf(j,ye)}return le.indexOf(j)},Xs.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},Xs.prototype.outputDefined=function(){return!1},Xs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ks=function(I,j,le,ye,Ce,Ie){this.inputType=I,this.type=j,this.input=le,this.cases=ye,this.outputs=Ce,this.otherwise=Ie};Ks.parse=function(I,j){if(I.length<5)return j.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!==1)return j.error("Expected an even number of arguments.");var le,ye;j.expectedType&&j.expectedType.kind!=="value"&&(ye=j.expectedType);for(var Ce={},Ie=[],$e=2;$e<I.length-1;$e+=2){var ht=I[$e],wt=I[$e+1];Array.isArray(ht)||(ht=[ht]);var Et=j.concat($e);if(ht.length===0)return Et.error("Expected at least one branch label.");for(var Yt=0,lr=ht;Yt<lr.length;Yt+=1){var er=lr[Yt];if(typeof er!="number"&&typeof er!="string")return Et.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return Et.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return Et.error("Numeric branch labels must be integer values.");if(!le)le=Di(er);else if(Et.checkSubtype(le,Di(er)))return null;if(typeof Ce[String(er)]<"u")return Et.error("Branch labels must be unique.");Ce[String(er)]=Ie.length}var xr=j.parse(wt,$e,ye);if(!xr)return null;ye=ye||xr.type,Ie.push(xr)}var Ur=j.parse(I[1],1,mn);if(!Ur)return null;var nn=j.parse(I[I.length-1],I.length-1,ye);return!nn||Ur.type.kind!=="value"&&j.concat(1).checkSubtype(le,Ur.type)?null:new Ks(le,ye,Ur,Ce,Ie,nn)},Ks.prototype.evaluate=function(I){var j=this.input.evaluate(I),le=Di(j)===this.inputType&&this.outputs[this.cases[j]]||this.otherwise;return le.evaluate(I)},Ks.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},Ks.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},Ks.prototype.serialize=function(){for(var I=this,j=["match",this.input.serialize()],le=Object.keys(this.cases).sort(),ye=[],Ce={},Ie=0,$e=le;Ie<$e.length;Ie+=1){var ht=$e[Ie],wt=Ce[this.cases[ht]];wt===void 0?(Ce[this.cases[ht]]=ye.length,ye.push([this.cases[ht],[ht]])):ye[wt][1].push(ht)}for(var Et=function(Ur){return I.inputType.kind==="number"?Number(Ur):Ur},Yt=0,lr=ye;Yt<lr.length;Yt+=1){var er=lr[Yt],wt=er[0],xr=er[1];xr.length===1?j.push(Et(xr[0])):j.push(xr.map(Et)),j.push(this.outputs[outputIndex$1].serialize())}return j.push(this.otherwise.serialize()),j};var ts=function(I,j,le){this.type=I,this.branches=j,this.otherwise=le};ts.parse=function(I,j){if(I.length<4)return j.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!==0)return j.error("Expected an odd number of arguments.");var le;j.expectedType&&j.expectedType.kind!=="value"&&(le=j.expectedType);for(var ye=[],Ce=1;Ce<I.length-1;Ce+=2){var Ie=j.parse(I[Ce],Ce,pn);if(!Ie)return null;var $e=j.parse(I[Ce+1],Ce+1,le);if(!$e)return null;ye.push([Ie,$e]),le=le||$e.type}var ht=j.parse(I[I.length-1],I.length-1,le);return ht?new ts(le,ye,ht):null},ts.prototype.evaluate=function(I){for(var j=0,le=this.branches;j<le.length;j+=1){var ye=le[j],Ce=ye[0],Ie=ye[1];if(Ce.evaluate(I))return Ie.evaluate(I)}return this.otherwise.evaluate(I)},ts.prototype.eachChild=function(I){for(var j=0,le=this.branches;j<le.length;j+=1){var ye=le[j],Ce=ye[0],Ie=ye[1];I(Ce),I(Ie)}I(this.otherwise)},ts.prototype.outputDefined=function(){return this.branches.every(function(I){I[0];var j=I[1];return j.outputDefined()})&&this.otherwise.outputDefined()},ts.prototype.serialize=function(){var I=["case"];return this.eachChild(function(j){I.push(j.serialize())}),I};var gs=function(I,j,le,ye){this.type=I,this.input=j,this.beginIndex=le,this.endIndex=ye};gs.parse=function(I,j){if(I.length<=2||I.length>=5)return j.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var le=j.parse(I[1],1,mn),ye=j.parse(I[2],2,Lr);if(!le||!ye)return null;if(!xo(le.type,[la(mn),Or,mn]))return j.error("Expected first argument to be of type array or string, but found "+ya(le.type)+" instead");if(I.length===4){var Ce=j.parse(I[3],3,Lr);return Ce?new gs(le.type,le,ye,Ce):null}else return new gs(le.type,le,ye)},gs.prototype.evaluate=function(I){var j=this.input.evaluate(I),le=this.beginIndex.evaluate(I);if(!Eo(j,["string","array"]))throw new ji("Expected first argument to be of type array or string, but found "+ya(Di(j))+" instead.");if(this.endIndex){var ye=this.endIndex.evaluate(I);return j.slice(le,ye)}return j.slice(le)},gs.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},gs.prototype.outputDefined=function(){return!1},gs.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function cu(D,I){return D==="=="||D==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function hu(D,I,j){return I===j}function Nu(D,I,j){return I!==j}function ph(D,I,j){return I<j}function gh(D,I,j){return I>j}function yh(D,I,j){return I<=j}function mh(D,I,j){return I>=j}function Uu(D,I,j,le){return le.compare(I,j)===0}function lc(D,I,j,le){return!Uu(D,I,j,le)}function Ul(D,I,j,le){return le.compare(I,j)<0}function ao(D,I,j,le){return le.compare(I,j)>0}function Po(D,I,j,le){return le.compare(I,j)<=0}function vu(D,I,j,le){return le.compare(I,j)>=0}function dl(D,I,j){var le=D!=="=="&&D!=="!=";return function(){function ye(Ce,Ie,$e){this.type=pn,this.lhs=Ce,this.rhs=Ie,this.collator=$e,this.hasUntypedArgument=Ce.type.kind==="value"||Ie.type.kind==="value"}return ye.parse=function(Ie,$e){if(Ie.length!==3&&Ie.length!==4)return $e.error("Expected two or three arguments.");var ht=Ie[0],wt=$e.parse(Ie[1],1,mn);if(!wt)return null;if(!cu(ht,wt.type))return $e.concat(1).error('"'+ht+`" comparisons are not supported for type '`+ya(wt.type)+"'.");var Et=$e.parse(Ie[2],2,mn);if(!Et)return null;if(!cu(ht,Et.type))return $e.concat(2).error('"'+ht+`" comparisons are not supported for type '`+ya(Et.type)+"'.");if(wt.type.kind!==Et.type.kind&&wt.type.kind!=="value"&&Et.type.kind!=="value")return $e.error("Cannot compare types '"+ya(wt.type)+"' and '"+ya(Et.type)+"'.");le&&(wt.type.kind==="value"&&Et.type.kind!=="value"?wt=new po(Et.type,[wt]):wt.type.kind!=="value"&&Et.type.kind==="value"&&(Et=new po(wt.type,[Et])));var Yt=null;if(Ie.length===4){if(wt.type.kind!=="string"&&Et.type.kind!=="string"&&wt.type.kind!=="value"&&Et.type.kind!=="value")return $e.error("Cannot use collator to compare non-string types.");if(Yt=$e.parse(Ie[3],3,ea),!Yt)return null}return new ye(wt,Et,Yt)},ye.prototype.evaluate=function(Ie){var $e=this.lhs.evaluate(Ie),ht=this.rhs.evaluate(Ie);if(le&&this.hasUntypedArgument){var wt=Di($e),Et=Di(ht);if(wt.kind!==Et.kind||!(wt.kind==="string"||wt.kind==="number"))throw new ji('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+wt.kind+", "+Et.kind+") instead.")}if(this.collator&&!le&&this.hasUntypedArgument){var Yt=Di($e),lr=Di(ht);if(Yt.kind!=="string"||lr.kind!=="string")return I(Ie,$e,ht)}return this.collator?j(Ie,$e,ht,this.collator.evaluate(Ie)):I(Ie,$e,ht)},ye.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},ye.prototype.outputDefined=function(){return!0},ye.prototype.serialize=function(){var Ie=[D];return this.eachChild(function($e){Ie.push($e.serialize())}),Ie},ye}()}var du=dl("==",hu,Uu),Hu=dl("!=",Nu,lc),xh=dl("<",ph,Ul),uc=dl(">",gh,ao),fc=dl("<=",yh,Po),Cf=dl(">=",mh,vu),Js=function(I,j,le,ye,Ce){this.type=Or,this.number=I,this.locale=j,this.currency=le,this.minFractionDigits=ye,this.maxFractionDigits=Ce};Js.parse=function(I,j){if(I.length!==3)return j.error("Expected two arguments.");var le=j.parse(I[1],1,Lr);if(!le)return null;var ye=I[2];if(typeof ye!="object"||Array.isArray(ye))return j.error("NumberFormat options argument must be an object.");var Ce=null;if(ye.locale&&(Ce=j.parse(ye.locale,1,Or),!Ce))return null;var Ie=null;if(ye.currency&&(Ie=j.parse(ye.currency,1,Or),!Ie))return null;var $e=null;if(ye["min-fraction-digits"]&&($e=j.parse(ye["min-fraction-digits"],1,Lr),!$e))return null;var ht=null;return ye["max-fraction-digits"]&&(ht=j.parse(ye["max-fraction-digits"],1,Lr),!ht)?null:new Js(le,Ce,Ie,$e,ht)},Js.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},Js.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},Js.prototype.outputDefined=function(){return!1},Js.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var Ui=function(I){this.type=Lr,this.input=I};Ui.parse=function(I,j){if(I.length!==2)return j.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var le=j.parse(I[1],1);return le?le.type.kind!=="array"&&le.type.kind!=="string"&&le.type.kind!=="value"?j.error("Expected argument of type string or array, but found "+ya(le.type)+" instead."):new Ui(le):null},Ui.prototype.evaluate=function(I){var j=this.input.evaluate(I);if(typeof j=="string")return j.length;if(Array.isArray(j))return j.length;throw new ji("Expected value to be of type string or array, but found "+ya(Di(j))+" instead.")},Ui.prototype.eachChild=function(I){I(this.input)},Ui.prototype.outputDefined=function(){return!1},Ui.prototype.serialize=function(){var I=["length"];return this.eachChild(function(j){I.push(j.serialize())}),I};var ys={"==":du,"!=":Hu,">":uc,"<":xh,">=":Cf,"<=":fc,array:po,at:Fs,boolean:po,case:ts,coalesce:Lo,collator:Rs,format:Go,image:hs,in:Zs,"index-of":Xs,interpolate:Ni,"interpolate-hcl":Ni,"interpolate-lab":Ni,length:Ui,let:ks,literal:_o,match:Ks,number:po,"number-format":Js,object:po,slice:gs,step:js,string:po,"to-boolean":ro,"to-color":ro,"to-number":ro,"to-string":ro,var:ps,within:Wo};function Lf(D,I){var j=I[0],le=I[1],ye=I[2],Ce=I[3];j=j.evaluate(D),le=le.evaluate(D),ye=ye.evaluate(D);var Ie=Ce?Ce.evaluate(D):1,$e=tc(j,le,ye,Ie);if($e)throw new ji($e);return new ti(j/255*Ie,le/255*Ie,ye/255*Ie,Ie)}function cc(D,I){return D in I}function pl(D,I){var j=I[D];return typeof j>"u"?null:j}function Vu(D,I,j,le){for(;j<=le;){var ye=j+le>>1;if(I[ye]===D)return!0;I[ye]>D?le=ye-1:j=ye+1}return!1}function rs(D){return{type:D}}no.register(ys,{error:[On,[Or],function(D,I){var j=I[0];throw new ji(j.evaluate(D))}],typeof:[Or,[mn],function(D,I){var j=I[0];return ya(Di(j.evaluate(D)))}],"to-rgba":[la(Lr,4),[_n],function(D,I){var j=I[0];return j.evaluate(D).toArray()}],rgb:[_n,[Lr,Lr,Lr],Lf],rgba:[_n,[Lr,Lr,Lr,Lr],Lf],has:{type:pn,overloads:[[[Or],function(D,I){var j=I[0];return cc(j.evaluate(D),D.properties())}],[[Or,Yn],function(D,I){var j=I[0],le=I[1];return cc(j.evaluate(D),le.evaluate(D))}]]},get:{type:mn,overloads:[[[Or],function(D,I){var j=I[0];return pl(j.evaluate(D),D.properties())}],[[Or,Yn],function(D,I){var j=I[0],le=I[1];return pl(j.evaluate(D),le.evaluate(D))}]]},"feature-state":[mn,[Or],function(D,I){var j=I[0];return pl(j.evaluate(D),D.featureState||{})}],properties:[Yn,[],function(D){return D.properties()}],"geometry-type":[Or,[],function(D){return D.geometryType()}],id:[mn,[],function(D){return D.id()}],zoom:[Lr,[],function(D){return D.globals.zoom}],"heatmap-density":[Lr,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[Lr,[],function(D){return D.globals.lineProgress||0}],accumulated:[mn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[Lr,rs(Lr),function(D,I){for(var j=0,le=0,ye=I;le<ye.length;le+=1){var Ce=ye[le];j+=Ce.evaluate(D)}return j}],"*":[Lr,rs(Lr),function(D,I){for(var j=1,le=0,ye=I;le<ye.length;le+=1){var Ce=ye[le];j*=Ce.evaluate(D)}return j}],"-":{type:Lr,overloads:[[[Lr,Lr],function(D,I){var j=I[0],le=I[1];return j.evaluate(D)-le.evaluate(D)}],[[Lr],function(D,I){var j=I[0];return-j.evaluate(D)}]]},"/":[Lr,[Lr,Lr],function(D,I){var j=I[0],le=I[1];return j.evaluate(D)/le.evaluate(D)}],"%":[Lr,[Lr,Lr],function(D,I){var j=I[0],le=I[1];return j.evaluate(D)%le.evaluate(D)}],ln2:[Lr,[],function(){return Math.LN2}],pi:[Lr,[],function(){return Math.PI}],e:[Lr,[],function(){return Math.E}],"^":[Lr,[Lr,Lr],function(D,I){var j=I[0],le=I[1];return Math.pow(j.evaluate(D),le.evaluate(D))}],sqrt:[Lr,[Lr],function(D,I){var j=I[0];return Math.sqrt(j.evaluate(D))}],log10:[Lr,[Lr],function(D,I){var j=I[0];return Math.log(j.evaluate(D))/Math.LN10}],ln:[Lr,[Lr],function(D,I){var j=I[0];return Math.log(j.evaluate(D))}],log2:[Lr,[Lr],function(D,I){var j=I[0];return Math.log(j.evaluate(D))/Math.LN2}],sin:[Lr,[Lr],function(D,I){var j=I[0];return Math.sin(j.evaluate(D))}],cos:[Lr,[Lr],function(D,I){var j=I[0];return Math.cos(j.evaluate(D))}],tan:[Lr,[Lr],function(D,I){var j=I[0];return Math.tan(j.evaluate(D))}],asin:[Lr,[Lr],function(D,I){var j=I[0];return Math.asin(j.evaluate(D))}],acos:[Lr,[Lr],function(D,I){var j=I[0];return Math.acos(j.evaluate(D))}],atan:[Lr,[Lr],function(D,I){var j=I[0];return Math.atan(j.evaluate(D))}],min:[Lr,rs(Lr),function(D,I){return Math.min.apply(Math,I.map(function(j){return j.evaluate(D)}))}],max:[Lr,rs(Lr),function(D,I){return Math.max.apply(Math,I.map(function(j){return j.evaluate(D)}))}],abs:[Lr,[Lr],function(D,I){var j=I[0];return Math.abs(j.evaluate(D))}],round:[Lr,[Lr],function(D,I){var j=I[0],le=j.evaluate(D);return le<0?-Math.round(-le):Math.round(le)}],floor:[Lr,[Lr],function(D,I){var j=I[0];return Math.floor(j.evaluate(D))}],ceil:[Lr,[Lr],function(D,I){var j=I[0];return Math.ceil(j.evaluate(D))}],"filter-==":[pn,[Or,mn],function(D,I){var j=I[0],le=I[1];return D.properties()[j.value]===le.value}],"filter-id-==":[pn,[mn],function(D,I){var j=I[0];return D.id()===j.value}],"filter-type-==":[pn,[Or],function(D,I){var j=I[0];return D.geometryType()===j.value}],"filter-<":[pn,[Or,mn],function(D,I){var j=I[0],le=I[1],ye=D.properties()[j.value],Ce=le.value;return typeof ye==typeof Ce&&ye<Ce}],"filter-id-<":[pn,[mn],function(D,I){var j=I[0],le=D.id(),ye=j.value;return typeof le==typeof ye&&le<ye}],"filter->":[pn,[Or,mn],function(D,I){var j=I[0],le=I[1],ye=D.properties()[j.value],Ce=le.value;return typeof ye==typeof Ce&&ye>Ce}],"filter-id->":[pn,[mn],function(D,I){var j=I[0],le=D.id(),ye=j.value;return typeof le==typeof ye&&le>ye}],"filter-<=":[pn,[Or,mn],function(D,I){var j=I[0],le=I[1],ye=D.properties()[j.value],Ce=le.value;return typeof ye==typeof Ce&&ye<=Ce}],"filter-id-<=":[pn,[mn],function(D,I){var j=I[0],le=D.id(),ye=j.value;return typeof le==typeof ye&&le<=ye}],"filter->=":[pn,[Or,mn],function(D,I){var j=I[0],le=I[1],ye=D.properties()[j.value],Ce=le.value;return typeof ye==typeof Ce&&ye>=Ce}],"filter-id->=":[pn,[mn],function(D,I){var j=I[0],le=D.id(),ye=j.value;return typeof le==typeof ye&&le>=ye}],"filter-has":[pn,[mn],function(D,I){var j=I[0];return j.value in D.properties()}],"filter-has-id":[pn,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[pn,[la(Or)],function(D,I){var j=I[0];return j.value.indexOf(D.geometryType())>=0}],"filter-id-in":[pn,[la(mn)],function(D,I){var j=I[0];return j.value.indexOf(D.id())>=0}],"filter-in-small":[pn,[Or,la(mn)],function(D,I){var j=I[0],le=I[1];return le.value.indexOf(D.properties()[j.value])>=0}],"filter-in-large":[pn,[Or,la(mn)],function(D,I){var j=I[0],le=I[1];return Vu(D.properties()[j.value],le.value,0,le.value.length-1)}],all:{type:pn,overloads:[[[pn,pn],function(D,I){var j=I[0],le=I[1];return j.evaluate(D)&&le.evaluate(D)}],[rs(pn),function(D,I){for(var j=0,le=I;j<le.length;j+=1){var ye=le[j];if(!ye.evaluate(D))return!1}return!0}]]},any:{type:pn,overloads:[[[pn,pn],function(D,I){var j=I[0],le=I[1];return j.evaluate(D)||le.evaluate(D)}],[rs(pn),function(D,I){for(var j=0,le=I;j<le.length;j+=1){var ye=le[j];if(ye.evaluate(D))return!0}return!1}]]},"!":[pn,[pn],function(D,I){var j=I[0];return!j.evaluate(D)}],"is-supported-script":[pn,[Or],function(D,I){var j=I[0],le=D.globals&&D.globals.isSupportedScript;return le?le(j.evaluate(D)):!0}],upcase:[Or,[Or],function(D,I){var j=I[0];return j.evaluate(D).toUpperCase()}],downcase:[Or,[Or],function(D,I){var j=I[0];return j.evaluate(D).toLowerCase()}],concat:[Or,rs(mn),function(D,I){return I.map(function(j){return iu(j.evaluate(D))}).join("")}],"resolved-locale":[Or,[ea],function(D,I){var j=I[0];return j.evaluate(D).resolvedLocale()}]});function Gu(D){return{result:"success",value:D}}function _s(D){return{result:"error",value:D}}function zs(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function Pf(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function Hl(D){return!!D.expression&&D.expression.interpolated}function ui(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function yl(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function Wu(D){return D}function Yu(D,I){var j=I.type==="color",le=D.stops&&typeof D.stops[0][0]=="object",ye=le||D.property!==void 0,Ce=le||!ye,Ie=D.type||(Hl(I)?"exponential":"interval");if(j&&(D=hn({},D),D.stops&&(D.stops=D.stops.map(function($n){return[$n[0],ti.parse($n[1])]})),D.default?D.default=ti.parse(D.default):D.default=ti.parse(I.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!Ef[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var $e,ht,wt;if(Ie==="exponential")$e=Vl;else if(Ie==="interval")$e=Rf;else if(Ie==="categorical"){$e=bh,ht=Object.create(null);for(var Et=0,Yt=D.stops;Et<Yt.length;Et+=1){var lr=Yt[Et];ht[lr[0]]=lr[1]}wt=typeof D.stops[0][0]}else if(Ie==="identity")$e=Df;else throw new Error('Unknown function type "'+Ie+'"');if(le){for(var er={},xr=[],Ur=0;Ur<D.stops.length;Ur++){var nn=D.stops[Ur],qr=nn[0].zoom;er[qr]===void 0&&(er[qr]={zoom:qr,type:D.type,property:D.property,default:D.default,stops:[]},xr.push(qr)),er[qr].stops.push([nn[0].value,nn[1]])}for(var Sn=[],bn=0,Mn=xr;bn<Mn.length;bn+=1){var Fn=Mn[bn];Sn.push([er[Fn].zoom,Yu(er[Fn],I)])}var Vn={name:"linear"};return{kind:"composite",interpolationType:Vn,interpolationFactor:Ni.interpolationFactor.bind(void 0,Vn),zoomStops:Sn.map(function($n){return $n[0]}),evaluate:function(Ca,da){var ba=Ca.zoom;return Vl({stops:Sn,base:D.base},I,ba).evaluate(ba,da)}}}else if(Ce){var qn=Ie==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:qn,interpolationFactor:Ni.interpolationFactor.bind(void 0,qn),zoomStops:D.stops.map(function($n){return $n[0]}),evaluate:function($n){var Ca=$n.zoom;return $e(D,I,Ca,ht,wt)}}}else return{kind:"source",evaluate:function(Ca,da){var ba=da&&da.properties?da.properties[D.property]:void 0;return ba===void 0?Qs(D.default,I.default):$e(D,I,ba,ht,wt)}}}function Qs(D,I,j){if(D!==void 0)return D;if(I!==void 0)return I;if(j!==void 0)return j}function bh(D,I,j,le,ye){var Ce=typeof j===ye?le[j]:void 0;return Qs(Ce,D.default,I.default)}function Rf(D,I,j){if(ui(j)!=="number")return Qs(D.default,I.default);var le=D.stops.length;if(le===1||j<=D.stops[0][0])return D.stops[0][1];if(j>=D.stops[le-1][0])return D.stops[le-1][1];var ye=_l(D.stops.map(function(Ce){return Ce[0]}),j);return D.stops[ye][1]}function Vl(D,I,j){var le=D.base!==void 0?D.base:1;if(ui(j)!=="number")return Qs(D.default,I.default);var ye=D.stops.length;if(ye===1||j<=D.stops[0][0])return D.stops[0][1];if(j>=D.stops[ye-1][0])return D.stops[ye-1][1];var Ce=_l(D.stops.map(function(Yt){return Yt[0]}),j),Ie=hc(j,le,D.stops[Ce][0],D.stops[Ce+1][0]),$e=D.stops[Ce][1],ht=D.stops[Ce+1][1],wt=zl[I.type]||Wu;if(D.colorSpace&&D.colorSpace!=="rgb"){var Et=Ef[D.colorSpace];wt=function(Yt,lr){return Et.reverse(Et.interpolate(Et.forward(Yt),Et.forward(lr),Ie))}}return typeof $e.evaluate=="function"?{evaluate:function(){for(var lr=[],er=arguments.length;er--;)lr[er]=arguments[er];var xr=$e.evaluate.apply(void 0,lr),Ur=ht.evaluate.apply(void 0,lr);if(!(xr===void 0||Ur===void 0))return wt(xr,Ur,Ie)}}:wt($e,ht,Ie)}function Df(D,I,j){return I.type==="color"?j=ti.parse(j):I.type==="formatted"?j=$i.fromString(j.toString()):I.type==="resolvedImage"?j=Co.fromString(j.toString()):ui(j)!==I.type&&(I.type!=="enum"||!I.values[j])&&(j=void 0),Qs(j,D.default,I.default)}function hc(D,I,j,le){var ye=le-j,Ce=D-j;return ye===0?0:I===1?Ce/ye:(Math.pow(I,Ce)-1)/(Math.pow(I,ye)-1)}var Os=function(I,j){this.expression=I,this._warningHistory={},this._evaluator=new vs,this._defaultValue=j?dc(j):null,this._enumValues=j&&j.type==="enum"?j.values:null};Os.prototype.evaluateWithoutErrorHandling=function(I,j,le,ye,Ce,Ie){return this._evaluator.globals=I,this._evaluator.feature=j,this._evaluator.featureState=le,this._evaluator.canonical=ye,this._evaluator.availableImages=Ce||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},Os.prototype.evaluate=function(I,j,le,ye,Ce,Ie){this._evaluator.globals=I,this._evaluator.feature=j||null,this._evaluator.featureState=le||null,this._evaluator.canonical=ye,this._evaluator.availableImages=Ce||null,this._evaluator.formattedSection=Ie||null;try{var $e=this.expression.evaluate(this._evaluator);if($e==null||typeof $e=="number"&&$e!==$e)return this._defaultValue;if(this._enumValues&&!($e in this._enumValues))throw new ji("Expected value to be one of "+Object.keys(this._enumValues).map(function(ht){return JSON.stringify(ht)}).join(", ")+", but found "+JSON.stringify($e)+" instead.");return $e}catch(ht){return this._warningHistory[ht.message]||(this._warningHistory[ht.message]=!0,typeof console<"u"&&console.warn(ht.message)),this._defaultValue}};function $s(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in ys}function ml(D,I){var j=new Is(ys,[],I?ju(I):void 0),le=j.parse(D,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return le?Gu(new Os(le,I)):_s(j.errors)}var xl=function(I,j){this.kind=I,this._styleExpression=j,this.isStateDependent=I!=="constant"&&!su(j.expression)};xl.prototype.evaluateWithoutErrorHandling=function(I,j,le,ye,Ce,Ie){return this._styleExpression.evaluateWithoutErrorHandling(I,j,le,ye,Ce,Ie)},xl.prototype.evaluate=function(I,j,le,ye,Ce,Ie){return this._styleExpression.evaluate(I,j,le,ye,Ce,Ie)};var Ro=function(I,j,le,ye){this.kind=I,this.zoomStops=le,this._styleExpression=j,this.isStateDependent=I!=="camera"&&!su(j.expression),this.interpolationType=ye};Ro.prototype.evaluateWithoutErrorHandling=function(I,j,le,ye,Ce,Ie){return this._styleExpression.evaluateWithoutErrorHandling(I,j,le,ye,Ce,Ie)},Ro.prototype.evaluate=function(I,j,le,ye,Ce,Ie){return this._styleExpression.evaluate(I,j,le,ye,Ce,Ie)},Ro.prototype.interpolationFactor=function(I,j,le){return this.interpolationType?Ni.interpolationFactor(this.interpolationType,I,j,le):0};function Oo(D,I){if(D=ml(D,I),D.result==="error")return D;var j=D.value.expression,le=hl(j);if(!le&&!zs(I))return _s([new Tn("","data expressions not supported")]);var ye=Fl(j,["zoom"]);if(!ye&&!Pf(I))return _s([new Tn("","zoom expressions not supported")]);var Ce=Gl(j);if(!Ce&&!ye)return _s([new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ce instanceof Tn)return _s([Ce]);if(Ce instanceof Ni&&!Hl(I))return _s([new Tn("",'"interpolate" expressions cannot be used with this property')]);if(!Ce)return Gu(le?new xl("constant",D.value):new xl("source",D.value));var Ie=Ce instanceof Ni?Ce.interpolation:void 0;return Gu(le?new Ro("camera",D.value,Ce.labels,Ie):new Ro("composite",D.value,Ce.labels,Ie))}var bl=function(I,j){this._parameters=I,this._specification=j,hn(this,Yu(this._parameters,this._specification))};bl.deserialize=function(I){return new bl(I._parameters,I._specification)},bl.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};function vc(D,I){if(yl(D))return new bl(D,I);if($s(D)){var j=Oo(D,I);if(j.result==="error")throw new Error(j.value.map(function(ye){return ye.key+": "+ye.message}).join(", "));return j.value}else{var le=D;return typeof D=="string"&&I.type==="color"&&(le=ti.parse(D)),{kind:"constant",evaluate:function(){return le}}}}function Gl(D){var I=null;if(D instanceof ks)I=Gl(D.result);else if(D instanceof Lo)for(var j=0,le=D.args;j<le.length;j+=1){var ye=le[j];if(I=Gl(ye),I)break}else(D instanceof js||D instanceof Ni)&&D.input instanceof no&&D.input.name==="zoom"&&(I=D);return I instanceof Tn||D.eachChild(function(Ce){var Ie=Gl(Ce);Ie instanceof Tn?I=Ie:!I&&Ie?I=new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&Ie&&I!==Ie&&(I=new Tn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function ju(D){var I={color:_n,string:Or,number:Lr,enum:Or,boolean:pn,formatted:ca,resolvedImage:sa};return D.type==="array"?la(I[D.value]||mn,D.length):I[D.type]}function dc(D){return D.type==="color"&&yl(D.default)?new ti(0,0,0,0):D.type==="color"?ti.parse(D.default)||null:D.default===void 0?null:D.default}function ns(D){var I=D.key,j=D.value,le=D.valueSpec||{},ye=D.objectElementValidators||{},Ce=D.style,Ie=D.styleSpec,$e=[],ht=ui(j);if(ht!=="object")return[new Tr(I,j,"object expected, "+ht+" found")];for(var wt in j){var Et=wt.split(".")[0],Yt=le[Et]||le["*"],lr=void 0;if(ye[Et])lr=ye[Et];else if(le[Et])lr=ir;else if(ye["*"])lr=ye["*"];else if(le["*"])lr=ir;else{$e.push(new Tr(I,j[wt],'unknown property "'+wt+'"'));continue}$e=$e.concat(lr({key:(I&&I+".")+wt,value:j[wt],valueSpec:Yt,style:Ce,styleSpec:Ie,object:j,objectKey:wt},j))}for(var er in le)ye[er]||le[er].required&&le[er].default===void 0&&j[er]===void 0&&$e.push(new Tr(I,j,'missing required property "'+er+'"'));return $e}function If(D){var I=D.value,j=D.valueSpec,le=D.style,ye=D.styleSpec,Ce=D.key,Ie=D.arrayElementValidator||ir;if(ui(I)!=="array")return[new Tr(Ce,I,"array expected, "+ui(I)+" found")];if(j.length&&I.length!==j.length)return[new Tr(Ce,I,"array length "+j.length+" expected, length "+I.length+" found")];if(j["min-length"]&&I.length<j["min-length"])return[new Tr(Ce,I,"array length at least "+j["min-length"]+" expected, length "+I.length+" found")];var $e={type:j.value,values:j.values};ye.$version<7&&($e.function=j.function),ui(j.value)==="object"&&($e=j.value);for(var ht=[],wt=0;wt<I.length;wt++)ht=ht.concat(Ie({array:I,arrayIndex:wt,value:I[wt],valueSpec:$e,style:le,styleSpec:ye,key:Ce+"["+wt+"]"}));return ht}function qs(D){var I=D.key,j=D.value,le=D.valueSpec,ye=ui(j);return ye==="number"&&j!==j&&(ye="NaN"),ye!=="number"?[new Tr(I,j,"number expected, "+ye+" found")]:"minimum"in le&&j<le.minimum?[new Tr(I,j,j+" is less than the minimum value "+le.minimum)]:"maximum"in le&&j>le.maximum?[new Tr(I,j,j+" is greater than the maximum value "+le.maximum)]:[]}function pu(D){var I=D.valueSpec,j=vn(D.value.type),le,ye={},Ce,Ie,$e=j!=="categorical"&&D.value.property===void 0,ht=!$e,wt=ui(D.value.stops)==="array"&&ui(D.value.stops[0])==="array"&&ui(D.value.stops[0][0])==="object",Et=ns({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Yt,default:xr}});return j==="identity"&&$e&&Et.push(new Tr(D.key,D.value,'missing required property "property"')),j!=="identity"&&!D.value.stops&&Et.push(new Tr(D.key,D.value,'missing required property "stops"')),j==="exponential"&&D.valueSpec.expression&&!Hl(D.valueSpec)&&Et.push(new Tr(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(ht&&!zs(D.valueSpec)?Et.push(new Tr(D.key,D.value,"property functions not supported")):$e&&!Pf(D.valueSpec)&&Et.push(new Tr(D.key,D.value,"zoom functions not supported"))),(j==="categorical"||wt)&&D.value.property===void 0&&Et.push(new Tr(D.key,D.value,'"property" property is required')),Et;function Yt(Ur){if(j==="identity")return[new Tr(Ur.key,Ur.value,'identity function may not have a "stops" property')];var nn=[],qr=Ur.value;return nn=nn.concat(If({key:Ur.key,value:qr,valueSpec:Ur.valueSpec,style:Ur.style,styleSpec:Ur.styleSpec,arrayElementValidator:lr})),ui(qr)==="array"&&qr.length===0&&nn.push(new Tr(Ur.key,qr,"array must have at least one stop")),nn}function lr(Ur){var nn=[],qr=Ur.value,Sn=Ur.key;if(ui(qr)!=="array")return[new Tr(Sn,qr,"array expected, "+ui(qr)+" found")];if(qr.length!==2)return[new Tr(Sn,qr,"array length 2 expected, length "+qr.length+" found")];if(wt){if(ui(qr[0])!=="object")return[new Tr(Sn,qr,"object expected, "+ui(qr[0])+" found")];if(qr[0].zoom===void 0)return[new Tr(Sn,qr,"object stop key must have zoom")];if(qr[0].value===void 0)return[new Tr(Sn,qr,"object stop key must have value")];if(Ie&&Ie>vn(qr[0].zoom))return[new Tr(Sn,qr[0].zoom,"stop zoom values must appear in ascending order")];vn(qr[0].zoom)!==Ie&&(Ie=vn(qr[0].zoom),Ce=void 0,ye={}),nn=nn.concat(ns({key:Sn+"[0]",value:qr[0],valueSpec:{zoom:{}},style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{zoom:qs,value:er}}))}else nn=nn.concat(er({key:Sn+"[0]",value:qr[0],valueSpec:{},style:Ur.style,styleSpec:Ur.styleSpec},qr));return $s(Pn(qr[1]))?nn.concat([new Tr(Sn+"[1]",qr[1],"expressions are not allowed in function stops.")]):nn.concat(ir({key:Sn+"[1]",value:qr[1],valueSpec:I,style:Ur.style,styleSpec:Ur.styleSpec}))}function er(Ur,nn){var qr=ui(Ur.value),Sn=vn(Ur.value),bn=Ur.value!==null?Ur.value:nn;if(!le)le=qr;else if(qr!==le)return[new Tr(Ur.key,bn,qr+" stop domain type must match previous stop domain type "+le)];if(qr!=="number"&&qr!=="string"&&qr!=="boolean")return[new Tr(Ur.key,bn,"stop domain value must be a number, string, or boolean")];if(qr!=="number"&&j!=="categorical"){var Mn="number expected, "+qr+" found";return zs(I)&&j===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Tr(Ur.key,bn,Mn)]}return j==="categorical"&&qr==="number"&&(!isFinite(Sn)||Math.floor(Sn)!==Sn)?[new Tr(Ur.key,bn,"integer expected, found "+Sn)]:j!=="categorical"&&qr==="number"&&Ce!==void 0&&Sn<Ce?[new Tr(Ur.key,bn,"stop domain values must appear in ascending order")]:(Ce=Sn,j==="categorical"&&Sn in ye?[new Tr(Ur.key,bn,"stop domain values must be unique")]:(ye[Sn]=!0,[]))}function xr(Ur){return ir({key:Ur.key,value:Ur.value,valueSpec:I,style:Ur.style,styleSpec:Ur.styleSpec})}}function Bs(D){var I=(D.expressionContext==="property"?Oo:ml)(Pn(D.value),D.valueSpec);if(I.result==="error")return I.value.map(function(le){return new Tr(""+D.key+le.key,D.value,le.message)});var j=I.value.expression||I.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!j.outputDefined())return[new Tr(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!su(j))return[new Tr(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!su(j))return[new Tr(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!Fl(j,["zoom","feature-state"]))return[new Tr(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!hl(j))return[new Tr(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function wh(D){var I=D.value,j=D.key,le=ui(I);return le!=="boolean"?[new Tr(j,I,"boolean expected, "+le+" found")]:[]}function kf(D){var I=D.key,j=D.value,le=ui(j);return le!=="string"?[new Tr(I,j,"color expected, "+le+" found")]:hf(j)===null?[new Tr(I,j,'color expected, "'+j+'" found')]:[]}function Zu(D){var I=D.key,j=D.value,le=D.valueSpec,ye=[];return Array.isArray(le.values)?le.values.indexOf(vn(j))===-1&&ye.push(new Tr(I,j,"expected one of ["+le.values.join(", ")+"], "+JSON.stringify(j)+" found")):Object.keys(le.values).indexOf(vn(j))===-1&&ye.push(new Tr(I,j,"expected one of ["+Object.keys(le.values).join(", ")+"], "+JSON.stringify(j)+" found")),ye}function go(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var I=0,j=D.slice(1);I<j.length;I+=1){var le=j[I];if(!go(le)&&typeof le!="boolean")return!1}return!0;default:return!0}}var pc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gu(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};go(D)||(D=el(D));var I=ml(D,pc);if(I.result==="error")throw new Error(I.value.map(function(le){return le.key+": "+le.message}).join(", "));var j=yu(D);return{filter:function(le,ye,Ce){return I.value.evaluate(le,ye,{},Ce)},needGeometry:j}}function ms(D,I){return D<I?-1:D>I?1:0}function yu(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var I=1;I<D.length;I++)if(yu(D[I]))return!0;return!1}function el(D){if(!D)return!0;var I=D[0];if(D.length<=1)return I!=="any";var j=I==="=="?Xu(D[1],D[2],"=="):I==="!="?wl(Xu(D[1],D[2],"==")):I==="<"||I===">"||I==="<="||I===">="?Xu(D[1],D[2],I):I==="any"?gc(D.slice(1)):I==="all"?["all"].concat(D.slice(1).map(el)):I==="none"?["all"].concat(D.slice(1).map(el).map(wl)):I==="in"?Ff(D[1],D.slice(2)):I==="!in"?wl(Ff(D[1],D.slice(2))):I==="has"?_f(D[1]):I==="!has"?wl(_f(D[1])):I==="within"?D:!0;return j}function Xu(D,I,j){switch(D){case"$type":return["filter-type-"+j,I];case"$id":return["filter-id-"+j,I];default:return["filter-"+j,D,I]}}function gc(D){return["any"].concat(D.map(el))}function Ff(D,I){if(I.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(j){return typeof j!=typeof I[0]})?["filter-in-large",D,["literal",I.sort(ms)]]:["filter-in-small",D,["literal",I]]}}function _f(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function wl(D){return["!",D]}function Ku(D){return go(Pn(D.value))?Bs(hn({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):mu(D)}function mu(D){var I=D.value,j=D.key;if(ui(I)!=="array")return[new Tr(j,I,"array expected, "+ui(I)+" found")];var le=D.styleSpec,ye,Ce=[];if(I.length<1)return[new Tr(j,I,"filter array must have at least 1 element")];switch(Ce=Ce.concat(Zu({key:j+"[0]",value:I[0],valueSpec:le.filter_operator,style:D.style,styleSpec:D.styleSpec})),vn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&vn(I[1])==="$type"&&Ce.push(new Tr(j,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&Ce.push(new Tr(j,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(ye=ui(I[1]),ye!=="string"&&Ce.push(new Tr(j+"[1]",I[1],"string expected, "+ye+" found")));for(var Ie=2;Ie<I.length;Ie++)ye=ui(I[Ie]),vn(I[1])==="$type"?Ce=Ce.concat(Zu({key:j+"["+Ie+"]",value:I[Ie],valueSpec:le.geometry_type,style:D.style,styleSpec:D.styleSpec})):ye!=="string"&&ye!=="number"&&ye!=="boolean"&&Ce.push(new Tr(j+"["+Ie+"]",I[Ie],"string, number, or boolean expected, "+ye+" found"));break;case"any":case"all":case"none":for(var $e=1;$e<I.length;$e++)Ce=Ce.concat(mu({key:j+"["+$e+"]",value:I[$e],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":ye=ui(I[1]),I.length!==2?Ce.push(new Tr(j,I,'filter array for "'+I[0]+'" operator must have 2 elements')):ye!=="string"&&Ce.push(new Tr(j+"[1]",I[1],"string expected, "+ye+" found"));break;case"within":ye=ui(I[1]),I.length!==2?Ce.push(new Tr(j,I,'filter array for "'+I[0]+'" operator must have 2 elements')):ye!=="object"&&Ce.push(new Tr(j+"[1]",I[1],"object expected, "+ye+" found"));break}return Ce}function yc(D,I){var j=D.key,le=D.style,ye=D.styleSpec,Ce=D.value,Ie=D.objectKey,$e=ye[I+"_"+D.layerType];if(!$e)return[];var ht=Ie.match(/^(.*)-transition$/);if(I==="paint"&&ht&&$e[ht[1]]&&$e[ht[1]].transition)return ir({key:j,value:Ce,valueSpec:ye.transition,style:le,styleSpec:ye});var wt=D.valueSpec||$e[Ie];if(!wt)return[new Tr(j,Ce,'unknown property "'+Ie+'"')];var Et;if(ui(Ce)==="string"&&zs(wt)&&!wt.tokens&&(Et=/^{([^}]+)}$/.exec(Ce)))return[new Tr(j,Ce,'"'+Ie+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Et[1])+" }`.")];var Yt=[];return D.layerType==="symbol"&&(Ie==="text-field"&&le&&!le.glyphs&&Yt.push(new Tr(j,Ce,'use of "text-field" requires a style "glyphs" property')),Ie==="text-font"&&yl(Pn(Ce))&&vn(Ce.type)==="identity"&&Yt.push(new Tr(j,Ce,'"text-font" does not support identity functions'))),Yt.concat(ir({key:D.key,value:Ce,valueSpec:wt,style:le,styleSpec:ye,expressionContext:"property",propertyType:I,propertyKey:Ie}))}function xu(D){return yc(D,"paint")}function mc(D){return yc(D,"layout")}function Qe(D){var I=[],j=D.value,le=D.key,ye=D.style,Ce=D.styleSpec;!j.type&&!j.ref&&I.push(new Tr(le,j,'either "type" or "ref" is required'));var Ie=vn(j.type),$e=vn(j.ref);if(j.id)for(var ht=vn(j.id),wt=0;wt<D.arrayIndex;wt++){var Et=ye.layers[wt];vn(Et.id)===ht&&I.push(new Tr(le,j.id,'duplicate layer id "'+j.id+'", previously used at line '+Et.id.__line__))}if("ref"in j){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in j&&I.push(new Tr(le,j[xr],'"'+xr+'" is prohibited for ref layers'))});var Yt;ye.layers.forEach(function(xr){vn(xr.id)===$e&&(Yt=xr)}),Yt?Yt.ref?I.push(new Tr(le,j.ref,"ref cannot reference another ref layer")):Ie=vn(Yt.type):I.push(new Tr(le,j.ref,'ref layer "'+$e+'" not found'))}else if(Ie!=="background")if(!j.source)I.push(new Tr(le,j,'missing required property "source"'));else{var lr=ye.sources&&ye.sources[j.source],er=lr&&vn(lr.type);lr?er==="vector"&&Ie==="raster"?I.push(new Tr(le,j.source,'layer "'+j.id+'" requires a raster source')):er==="raster"&&Ie!=="raster"?I.push(new Tr(le,j.source,'layer "'+j.id+'" requires a vector source')):er==="vector"&&!j["source-layer"]?I.push(new Tr(le,j,'layer "'+j.id+'" must specify a "source-layer"')):er==="raster-dem"&&Ie!=="hillshade"?I.push(new Tr(le,j.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ie==="line"&&j.paint&&j.paint["line-gradient"]&&(er!=="geojson"||!lr.lineMetrics)&&I.push(new Tr(le,j,'layer "'+j.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Tr(le,j.source,'source "'+j.source+'" not found'))}return I=I.concat(ns({key:le,value:j,valueSpec:Ce.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ir({key:le+".type",value:j.type,valueSpec:Ce.layer.type,style:D.style,styleSpec:D.styleSpec,object:j,objectKey:"type"})},filter:Ku,layout:function(Ur){return ns({layer:j,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(qr){return mc(hn({layerType:Ie},qr))}}})},paint:function(Ur){return ns({layer:j,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(qr){return xu(hn({layerType:Ie},qr))}}})}}})),I}function at(D){var I=D.value,j=D.key,le=ui(I);return le!=="string"?[new Tr(j,I,"string expected, "+le+" found")]:[]}var dt={promoteId:Ft};function yt(D){var I=D.value,j=D.key,le=D.styleSpec,ye=D.style;if(!I.type)return[new Tr(j,I,'"type" is required')];var Ce=vn(I.type),Ie;switch(Ce){case"vector":case"raster":case"raster-dem":return Ie=ns({key:j,value:I,valueSpec:le["source_"+Ce.replace("-","_")],style:D.style,styleSpec:le,objectElementValidators:dt}),Ie;case"geojson":if(Ie=ns({key:j,value:I,valueSpec:le.source_geojson,style:ye,styleSpec:le,objectElementValidators:dt}),I.cluster)for(var $e in I.clusterProperties){var ht=I.clusterProperties[$e],wt=ht[0],Et=ht[1],Yt=typeof wt=="string"?[wt,["accumulated"],["get",$e]]:wt;Ie.push.apply(Ie,Bs({key:j+"."+$e+".map",value:Et,expressionContext:"cluster-map"})),Ie.push.apply(Ie,Bs({key:j+"."+$e+".reduce",value:Yt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return ns({key:j,value:I,valueSpec:le.source_video,style:ye,styleSpec:le});case"image":return ns({key:j,value:I,valueSpec:le.source_image,style:ye,styleSpec:le});case"canvas":return[new Tr(j,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Zu({key:j+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ye,styleSpec:le})}}function Ft(D){var I=D.key,j=D.value;if(ui(j)==="string")return at({key:I,value:j});var le=[];for(var ye in j)le.push.apply(le,at({key:I+"."+ye,value:j[ye]}));return le}function Rt(D){var I=D.value,j=D.styleSpec,le=j.light,ye=D.style,Ce=[],Ie=ui(I);if(I===void 0)return Ce;if(Ie!=="object")return Ce=Ce.concat([new Tr("light",I,"object expected, "+Ie+" found")]),Ce;for(var $e in I){var ht=$e.match(/^(.*)-transition$/);ht&&le[ht[1]]&&le[ht[1]].transition?Ce=Ce.concat(ir({key:$e,value:I[$e],valueSpec:j.transition,style:ye,styleSpec:j})):le[$e]?Ce=Ce.concat(ir({key:$e,value:I[$e],valueSpec:le[$e],style:ye,styleSpec:j})):Ce=Ce.concat([new Tr($e,I[$e],'unknown property "'+$e+'"')])}return Ce}function Bt(D){return at(D).length===0?[]:Bs(D)}function hr(D){return at(D).length===0?[]:Bs(D)}var yr={"*":function(){return[]},array:If,boolean:wh,number:qs,color:kf,constants:on,enum:Zu,filter:Ku,function:pu,layer:Qe,object:ns,source:yt,light:Rt,string:at,formatted:Bt,resolvedImage:hr};function ir(D){var I=D.value,j=D.valueSpec,le=D.styleSpec;if(j.expression&&yl(vn(I)))return pu(D);if(j.expression&&$s(Pn(I)))return Bs(D);if(j.type&&yr[j.type])return yr[j.type](D);var ye=ns(hn({},D,{valueSpec:j.type?le[j.type]:j}));return ye}function Ar(D){var I=D.value,j=D.key,le=at(D);return le.length||(I.indexOf("{fontstack}")===-1&&le.push(new Tr(j,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&le.push(new Tr(j,I,'"glyphs" url must include a "{range}" token'))),le}function Rr(D,I){I===void 0&&(I=Xt);var j=[];return j=j.concat(ir({key:"",value:D,valueSpec:I.$root,styleSpec:I,style:D,objectElementValidators:{glyphs:Ar,"*":function(){return[]}}})),D.constants&&(j=j.concat(on({key:"constants",value:D.constants,style:D,styleSpec:I}))),jr(j)}Rr.source=Qr(yt),Rr.light=Qr(Rt),Rr.layer=Qr(Qe),Rr.filter=Qr(Ku),Rr.paintProperty=Qr(xu),Rr.layoutProperty=Qr(mc);function jr(D){return[].concat(D).sort(function(I,j){return I.line-j.line})}function Qr(D){return function(){for(var I=[],j=arguments.length;j--;)I[j]=arguments[j];return jr(D.apply(this,I))}}var xn=Rr,wn=xn.light,Dn=xn.paintProperty,pa=xn.layoutProperty;function Pa(D,I){var j=!1;if(I&&I.length)for(var le=0,ye=I;le<ye.length;le+=1){var Ce=ye[le];D.fire(new ar(new Error(Ce.message))),j=!0}return j}var Ia=_a,ka=3;function _a(D,I,j){var le=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var ye=new Int32Array(this.arrayBuffer);D=ye[0],I=ye[1],j=ye[2],this.d=I+2*j;for(var Ce=0;Ce<this.d*this.d;Ce++){var Ie=ye[ka+Ce],$e=ye[ka+Ce+1];le.push(Ie===$e?null:ye.subarray(Ie,$e))}var ht=ye[ka+le.length],wt=ye[ka+le.length+1];this.keys=ye.subarray(ht,wt),this.bboxes=ye.subarray(wt),this.insert=this._insertReadonly}else{this.d=I+2*j;for(var Et=0;Et<this.d*this.d;Et++)le.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=D,this.padding=j,this.scale=I/D,this.uid=0;var Yt=j/I*D;this.min=-Yt,this.max=D+Yt}_a.prototype.insert=function(D,I,j,le,ye){this._forEachCell(I,j,le,ye,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(I),this.bboxes.push(j),this.bboxes.push(le),this.bboxes.push(ye)},_a.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},_a.prototype._insertCell=function(D,I,j,le,ye,Ce){this.cells[ye].push(Ce)},_a.prototype.query=function(D,I,j,le,ye){var Ce=this.min,Ie=this.max;if(D<=Ce&&I<=Ce&&Ie<=j&&Ie<=le&&!ye)return Array.prototype.slice.call(this.keys);var $e=[],ht={};return this._forEachCell(D,I,j,le,this._queryCell,$e,ht,ye),$e},_a.prototype._queryCell=function(D,I,j,le,ye,Ce,Ie,$e){var ht=this.cells[ye];if(ht!==null)for(var wt=this.keys,Et=this.bboxes,Yt=0;Yt<ht.length;Yt++){var lr=ht[Yt];if(Ie[lr]===void 0){var er=lr*4;($e?$e(Et[er+0],Et[er+1],Et[er+2],Et[er+3]):D<=Et[er+2]&&I<=Et[er+3]&&j>=Et[er+0]&&le>=Et[er+1])?(Ie[lr]=!0,Ce.push(wt[lr])):Ie[lr]=!1}}},_a.prototype._forEachCell=function(D,I,j,le,ye,Ce,Ie,$e){for(var ht=this._convertToCellCoord(D),wt=this._convertToCellCoord(I),Et=this._convertToCellCoord(j),Yt=this._convertToCellCoord(le),lr=ht;lr<=Et;lr++)for(var er=wt;er<=Yt;er++){var xr=this.d*er+lr;if(!($e&&!$e(this._convertFromCellCoord(lr),this._convertFromCellCoord(er),this._convertFromCellCoord(lr+1),this._convertFromCellCoord(er+1)))&&ye.call(this,D,I,j,le,xr,Ce,Ie,$e))return}},_a.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},_a.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},_a.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,I=ka+this.cells.length+1+1,j=0,le=0;le<this.cells.length;le++)j+=this.cells[le].length;var ye=new Int32Array(I+j+this.keys.length+this.bboxes.length);ye[0]=this.extent,ye[1]=this.n,ye[2]=this.padding;for(var Ce=I,Ie=0;Ie<D.length;Ie++){var $e=D[Ie];ye[ka+Ie]=Ce,ye.set($e,Ce),Ce+=$e.length}return ye[ka+D.length]=Ce,ye.set(this.keys,Ce),Ce+=this.keys.length,ye[ka+D.length+1]=Ce,ye.set(this.bboxes,Ce),Ce+=this.bboxes.length,ye.buffer};var oi=self.ImageData,Ii=self.ImageBitmap,gi={};function he(D,I,j){j===void 0&&(j={}),Object.defineProperty(I,"_classRegistryKey",{value:D,writeable:!1}),gi[D]={klass:I,omit:j.omit||[],shallow:j.shallow||[]}}he("Object",Object),Ia.serialize=function(I,j){var le=I.toArrayBuffer();return j&&j.push(le),{buffer:le}},Ia.deserialize=function(I){return new Ia(I.buffer)},he("Grid",Ia),he("Color",ti),he("Error",Error),he("ResolvedImage",Co),he("StylePropertyFunction",bl),he("StyleExpression",Os,{omit:["_evaluator"]}),he("ZoomDependentExpression",Ro),he("ZoomConstantExpression",xl),he("CompoundExpression",no,{omit:["_evaluate"]});for(var Pe in ys)ys[Pe]._classRegistryKey||he("Expression_"+Pe,ys[Pe]);function Ge(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function et(D){return Ii&&D instanceof Ii}function nt(D,I){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(Ge(D)||et(D))return I&&I.push(D),D;if(ArrayBuffer.isView(D)){var j=D;return I&&I.push(j.buffer),j}if(D instanceof oi)return I&&I.push(D.data.buffer),D;if(Array.isArray(D)){for(var le=[],ye=0,Ce=D;ye<Ce.length;ye+=1){var Ie=Ce[ye];le.push(nt(Ie,I))}return le}if(typeof D=="object"){var $e=D.constructor,ht=$e._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var wt=$e.serialize?$e.serialize(D,I):{};if(!$e.serialize){for(var Et in D)if(D.hasOwnProperty(Et)&&!(gi[ht].omit.indexOf(Et)>=0)){var Yt=D[Et];wt[Et]=gi[ht].shallow.indexOf(Et)>=0?Yt:nt(Yt,I)}D instanceof Error&&(wt.message=D.message)}if(wt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(wt.$name=ht),wt}throw new Error("can't serialize object of type "+typeof D)}function st(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||Ge(D)||et(D)||ArrayBuffer.isView(D)||D instanceof oi)return D;if(Array.isArray(D))return D.map(st);if(typeof D=="object"){var I=D.$name||"Object",j=gi[I],le=j.klass;if(!le)throw new Error("can't deserialize unregistered class "+I);if(le.deserialize)return le.deserialize(D);for(var ye=Object.create(le.prototype),Ce=0,Ie=Object.keys(D);Ce<Ie.length;Ce+=1){var $e=Ie[Ce];if($e!=="$name"){var ht=D[$e];ye[$e]=gi[I].shallow.indexOf($e)>=0?ht:st(ht)}}return ye}throw new Error("can't deserialize object of type "+typeof D)}var Dt=function(){this.first=!0};Dt.prototype.update=function(I,j){var le=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=le,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=le,!0):(this.lastFloorZoom>le?(this.lastIntegerZoom=le+1,this.lastIntegerZoomTime=j):this.lastFloorZoom<le&&(this.lastIntegerZoom=le,this.lastIntegerZoomTime=j),I!==this.lastZoom?(this.lastZoom=I,this.lastFloorZoom=le,!0):!1)};var vt={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function Ut(D){for(var I=0,j=D;I<j.length;I+=1){var le=j[I];if(Er(le.charCodeAt(0)))return!0}return!1}function tr(D){for(var I=0,j=D;I<j.length;I+=1){var le=j[I];if(!rr(le.charCodeAt(0)))return!1}return!0}function rr(D){return!(vt.Arabic(D)||vt["Arabic Supplement"](D)||vt["Arabic Extended-A"](D)||vt["Arabic Presentation Forms-A"](D)||vt["Arabic Presentation Forms-B"](D))}function Pr(D){return D<11904?!1:!!(vt["Bopomofo Extended"](D)||vt.Bopomofo(D)||vt["CJK Compatibility Forms"](D)||vt["CJK Compatibility Ideographs"](D)||vt["CJK Compatibility"](D)||vt["CJK Radicals Supplement"](D)||vt["CJK Strokes"](D)||vt["CJK Symbols and Punctuation"](D)||vt["CJK Unified Ideographs Extension A"](D)||vt["CJK Unified Ideographs"](D)||vt["Enclosed CJK Letters and Months"](D)||vt["Halfwidth and Fullwidth Forms"](D)||vt.Hiragana(D)||vt["Ideographic Description Characters"](D)||vt["Kangxi Radicals"](D)||vt["Katakana Phonetic Extensions"](D)||vt.Katakana(D)||vt["Vertical Forms"](D)||vt["Yi Radicals"](D)||vt["Yi Syllables"](D))}function Er(D){return D===746||D===747?!0:D<4352?!1:!!(vt["Bopomofo Extended"](D)||vt.Bopomofo(D)||vt["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||vt["CJK Compatibility Ideographs"](D)||vt["CJK Compatibility"](D)||vt["CJK Radicals Supplement"](D)||vt["CJK Strokes"](D)||vt["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||vt["CJK Unified Ideographs Extension A"](D)||vt["CJK Unified Ideographs"](D)||vt["Enclosed CJK Letters and Months"](D)||vt["Hangul Compatibility Jamo"](D)||vt["Hangul Jamo Extended-A"](D)||vt["Hangul Jamo Extended-B"](D)||vt["Hangul Jamo"](D)||vt["Hangul Syllables"](D)||vt.Hiragana(D)||vt["Ideographic Description Characters"](D)||vt.Kanbun(D)||vt["Kangxi Radicals"](D)||vt["Katakana Phonetic Extensions"](D)||vt.Katakana(D)&&D!==12540||vt["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||vt["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||vt["Unified Canadian Aboriginal Syllabics"](D)||vt["Unified Canadian Aboriginal Syllabics Extended"](D)||vt["Vertical Forms"](D)||vt["Yijing Hexagram Symbols"](D)||vt["Yi Syllables"](D)||vt["Yi Radicals"](D))}function Jr(D){return!!(vt["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||vt["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||vt["Letterlike Symbols"](D)||vt["Number Forms"](D)||vt["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||vt["Control Pictures"](D)&&D!==9251||vt["Optical Character Recognition"](D)||vt["Enclosed Alphanumerics"](D)||vt["Geometric Shapes"](D)||vt["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||vt["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||vt["CJK Symbols and Punctuation"](D)||vt.Katakana(D)||vt["Private Use Area"](D)||vt["CJK Compatibility Forms"](D)||vt["Small Form Variants"](D)||vt["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function tn(D){return!(Er(D)||Jr(D))}function Ir(D){return vt.Arabic(D)||vt["Arabic Supplement"](D)||vt["Arabic Extended-A"](D)||vt["Arabic Presentation Forms-A"](D)||vt["Arabic Presentation Forms-B"](D)}function Hr(D){return D>=1424&&D<=2303||vt["Arabic Presentation Forms-A"](D)||vt["Arabic Presentation Forms-B"](D)}function Zr(D,I){return!(!I&&Hr(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||vt.Khmer(D))}function rn(D){for(var I=0,j=D;I<j.length;I+=1){var le=j[I];if(Hr(le.charCodeAt(0)))return!0}return!1}function un(D,I){for(var j=0,le=D;j<le.length;j+=1){var ye=le[j];if(!Zr(ye.charCodeAt(0),I))return!1}return!0}var Xr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Nn=null,Wn=Xr.unavailable,Qn=null,ia=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(Wn=Xr.error),Nn&&Nn(D)};function Ta(){wa.fire(new Zt("pluginStateChange",{pluginStatus:Wn,pluginURL:Qn}))}var wa=new ur,Va=function(){return Wn},La=function(D){return D({pluginStatus:Wn,pluginURL:Qn}),wa.on("pluginStateChange",D),D},Na=function(D,I,j){if(j===void 0&&(j=!1),Wn===Xr.deferred||Wn===Xr.loading||Wn===Xr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Qn=se.resolveURL(D),Wn=Xr.deferred,Nn=I,Ta(),j||$a()},$a=function(){if(Wn!==Xr.deferred||!Qn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Wn=Xr.loading,Ta(),Qn&&At({url:Qn},function(D){D?ia(D):(Wn=Xr.loaded,Ta())})},ri={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Wn===Xr.loaded||ri.applyArabicShaping!=null},isLoading:function(){return Wn===Xr.loading},setState:function(I){Wn=I.pluginStatus,Qn=I.pluginURL},isParsed:function(){return ri.applyArabicShaping!=null&&ri.processBidirectionalText!=null&&ri.processStyledBidirectionalText!=null},getPluginURL:function(){return Qn}},fi=function(){!ri.isLoading()&&!ri.isLoaded()&&Va()==="deferred"&&$a()},Un=function(I,j){this.zoom=I,j?(this.now=j.now,this.fadeDuration=j.fadeDuration,this.zoomHistory=j.zoomHistory,this.transition=j.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Dt,this.transition={})};Un.prototype.isSupportedScript=function(I){return un(I,ri.isLoaded())},Un.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Un.prototype.getCrossfadeParameters=function(){var I=this.zoom,j=I-Math.floor(I),le=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:j+(1-j)*le}:{fromScale:.5,toScale:1,t:1-(1-le)*j}};var Ua=function(I,j){this.property=I,this.value=j,this.expression=vc(j===void 0?I.specification.default:j,I.specification)};Ua.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ua.prototype.possiblyEvaluate=function(I,j,le){return this.property.possiblyEvaluate(this,I,j,le)};var Oa=function(I){this.property=I,this.value=new Ua(I,void 0)};Oa.prototype.transitioned=function(I,j){return new Ei(this.property,this.value,j,l({},I.transition,this.transition),I.now)},Oa.prototype.untransitioned=function(){return new Ei(this.property,this.value,null,{},0)};var Za=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};Za.prototype.getValue=function(I){return w(this._values[I].value.value)},Za.prototype.setValue=function(I,j){this._values.hasOwnProperty(I)||(this._values[I]=new Oa(this._values[I].property)),this._values[I].value=new Ua(this._values[I].property,j===null?void 0:w(j))},Za.prototype.getTransition=function(I){return w(this._values[I].transition)},Za.prototype.setTransition=function(I,j){this._values.hasOwnProperty(I)||(this._values[I]=new Oa(this._values[I].property)),this._values[I].transition=w(j)||void 0},Za.prototype.serialize=function(){for(var I={},j=0,le=Object.keys(this._values);j<le.length;j+=1){var ye=le[j],Ce=this.getValue(ye);Ce!==void 0&&(I[ye]=Ce);var Ie=this.getTransition(ye);Ie!==void 0&&(I[ye+"-transition"]=Ie)}return I},Za.prototype.transitioned=function(I,j){for(var le=new Oi(this._properties),ye=0,Ce=Object.keys(this._values);ye<Ce.length;ye+=1){var Ie=Ce[ye];le._values[Ie]=this._values[Ie].transitioned(I,j._values[Ie])}return le},Za.prototype.untransitioned=function(){for(var I=new Oi(this._properties),j=0,le=Object.keys(this._values);j<le.length;j+=1){var ye=le[j];I._values[ye]=this._values[ye].untransitioned()}return I};var Ei=function(I,j,le,ye,Ce){this.property=I,this.value=j,this.begin=Ce+ye.delay||0,this.end=this.begin+ye.duration||0,I.specification.transition&&(ye.delay||ye.duration)&&(this.prior=le)};Ei.prototype.possiblyEvaluate=function(I,j,le){var ye=I.now||0,Ce=this.value.possiblyEvaluate(I,j,le),Ie=this.prior;if(Ie){if(ye>this.end)return this.prior=null,Ce;if(this.value.isDataDriven())return this.prior=null,Ce;if(ye<this.begin)return Ie.possiblyEvaluate(I,j,le);var $e=(ye-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(I,j,le),Ce,n($e))}else return Ce};var Oi=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};Oi.prototype.possiblyEvaluate=function(I,j,le){for(var ye=new hi(this._properties),Ce=0,Ie=Object.keys(this._values);Ce<Ie.length;Ce+=1){var $e=Ie[Ce];ye._values[$e]=this._values[$e].possiblyEvaluate(I,j,le)}return ye},Oi.prototype.hasTransition=function(){for(var I=0,j=Object.keys(this._values);I<j.length;I+=1){var le=j[I];if(this._values[le].prior)return!0}return!1};var Vi=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};Vi.prototype.getValue=function(I){return w(this._values[I].value)},Vi.prototype.setValue=function(I,j){this._values[I]=new Ua(this._values[I].property,j===null?void 0:w(j))},Vi.prototype.serialize=function(){for(var I={},j=0,le=Object.keys(this._values);j<le.length;j+=1){var ye=le[j],Ce=this.getValue(ye);Ce!==void 0&&(I[ye]=Ce)}return I},Vi.prototype.possiblyEvaluate=function(I,j,le){for(var ye=new hi(this._properties),Ce=0,Ie=Object.keys(this._values);Ce<Ie.length;Ce+=1){var $e=Ie[Ce];ye._values[$e]=this._values[$e].possiblyEvaluate(I,j,le)}return ye};var bi=function(I,j,le){this.property=I,this.value=j,this.parameters=le};bi.prototype.isConstant=function(){return this.value.kind==="constant"},bi.prototype.constantOr=function(I){return this.value.kind==="constant"?this.value.value:I},bi.prototype.evaluate=function(I,j,le,ye){return this.property.evaluate(this.value,this.parameters,I,j,le,ye)};var hi=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};hi.prototype.get=function(I){return this._values[I]};var xa=function(I){this.specification=I};xa.prototype.possiblyEvaluate=function(I,j){return I.expression.evaluate(j)},xa.prototype.interpolate=function(I,j,le){var ye=zl[this.specification.type];return ye?ye(I,j,le):I};var Ea=function(I,j){this.specification=I,this.overrides=j};Ea.prototype.possiblyEvaluate=function(I,j,le,ye){return I.expression.kind==="constant"||I.expression.kind==="camera"?new bi(this,{kind:"constant",value:I.expression.evaluate(j,null,{},le,ye)},j):new bi(this,I.expression,j)},Ea.prototype.interpolate=function(I,j,le){if(I.value.kind!=="constant"||j.value.kind!=="constant")return I;if(I.value.value===void 0||j.value.value===void 0)return new bi(this,{kind:"constant",value:void 0},I.parameters);var ye=zl[this.specification.type];return ye?new bi(this,{kind:"constant",value:ye(I.value.value,j.value.value,le)},I.parameters):I},Ea.prototype.evaluate=function(I,j,le,ye,Ce,Ie){return I.kind==="constant"?I.value:I.evaluate(j,le,ye,Ce,Ie)};var wi=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(le,ye,Ce,Ie){if(le.value===void 0)return new bi(this,{kind:"constant",value:void 0},ye);if(le.expression.kind==="constant"){var $e=le.expression.evaluate(ye,null,{},Ce,Ie),ht=le.property.specification.type==="resolvedImage",wt=ht&&typeof $e!="string"?$e.name:$e,Et=this._calculate(wt,wt,wt,ye);return new bi(this,{kind:"constant",value:Et},ye)}else if(le.expression.kind==="camera"){var Yt=this._calculate(le.expression.evaluate({zoom:ye.zoom-1}),le.expression.evaluate({zoom:ye.zoom}),le.expression.evaluate({zoom:ye.zoom+1}),ye);return new bi(this,{kind:"constant",value:Yt},ye)}else return new bi(this,le.expression,ye)},I.prototype.evaluate=function(le,ye,Ce,Ie,$e,ht){if(le.kind==="source"){var wt=le.evaluate(ye,Ce,Ie,$e,ht);return this._calculate(wt,wt,wt,ye)}else return le.kind==="composite"?this._calculate(le.evaluate({zoom:Math.floor(ye.zoom)-1},Ce,Ie),le.evaluate({zoom:Math.floor(ye.zoom)},Ce,Ie),le.evaluate({zoom:Math.floor(ye.zoom)+1},Ce,Ie),ye):le.value},I.prototype._calculate=function(le,ye,Ce,Ie){var $e=Ie.zoom;return $e>Ie.zoomHistory.lastIntegerZoom?{from:le,to:ye}:{from:Ce,to:ye}},I.prototype.interpolate=function(le){return le},I}(Ea),Hi=function(I){this.specification=I};Hi.prototype.possiblyEvaluate=function(I,j,le,ye){if(I.value!==void 0)if(I.expression.kind==="constant"){var Ce=I.expression.evaluate(j,null,{},le,ye);return this._calculate(Ce,Ce,Ce,j)}else return this._calculate(I.expression.evaluate(new Un(Math.floor(j.zoom-1),j)),I.expression.evaluate(new Un(Math.floor(j.zoom),j)),I.expression.evaluate(new Un(Math.floor(j.zoom+1),j)),j)},Hi.prototype._calculate=function(I,j,le,ye){var Ce=ye.zoom;return Ce>ye.zoomHistory.lastIntegerZoom?{from:I,to:j}:{from:le,to:j}},Hi.prototype.interpolate=function(I){return I};var Bo=function(I){this.specification=I};Bo.prototype.possiblyEvaluate=function(I,j,le,ye){return!!I.expression.evaluate(j,null,{},le,ye)},Bo.prototype.interpolate=function(){return!1};var eo=function(I){this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var j in I){var le=I[j];le.specification.overridable&&this.overridableProperties.push(j);var ye=this.defaultPropertyValues[j]=new Ua(le,void 0),Ce=this.defaultTransitionablePropertyValues[j]=new Oa(le);this.defaultTransitioningPropertyValues[j]=Ce.untransitioned(),this.defaultPossiblyEvaluatedValues[j]=ye.possiblyEvaluate({})}};he("DataDrivenProperty",Ea),he("DataConstantProperty",xa),he("CrossFadedDataDrivenProperty",wi),he("CrossFadedProperty",Hi),he("ColorRampProperty",Bo);var wo="-transition",Li=function(D){function I(j,le){if(D.call(this),this.id=j.id,this.type=j.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},j.type!=="custom"&&(j=j,this.metadata=j.metadata,this.minzoom=j.minzoom,this.maxzoom=j.maxzoom,j.type!=="background"&&(this.source=j.source,this.sourceLayer=j["source-layer"],this.filter=j.filter),le.layout&&(this._unevaluatedLayout=new Vi(le.layout)),le.paint)){this._transitionablePaint=new Za(le.paint);for(var ye in j.paint)this.setPaintProperty(ye,j.paint[ye],{validate:!1});for(var Ce in j.layout)this.setLayoutProperty(Ce,j.layout[Ce],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new hi(le.paint)}}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(le){return le==="visibility"?this.visibility:this._unevaluatedLayout.getValue(le)},I.prototype.setLayoutProperty=function(le,ye,Ce){if(Ce===void 0&&(Ce={}),ye!=null){var Ie="layers."+this.id+".layout."+le;if(this._validate(pa,Ie,le,ye,Ce))return}if(le==="visibility"){this.visibility=ye;return}this._unevaluatedLayout.setValue(le,ye)},I.prototype.getPaintProperty=function(le){return A(le,wo)?this._transitionablePaint.getTransition(le.slice(0,-wo.length)):this._transitionablePaint.getValue(le)},I.prototype.setPaintProperty=function(le,ye,Ce){if(Ce===void 0&&(Ce={}),ye!=null){var Ie="layers."+this.id+".paint."+le;if(this._validate(Dn,Ie,le,ye,Ce))return!1}if(A(le,wo))return this._transitionablePaint.setTransition(le.slice(0,-wo.length),ye||void 0),!1;var $e=this._transitionablePaint._values[le],ht=$e.property.specification["property-type"]==="cross-faded-data-driven",wt=$e.value.isDataDriven(),Et=$e.value;this._transitionablePaint.setValue(le,ye),this._handleSpecialPaintPropertyUpdate(le);var Yt=this._transitionablePaint._values[le].value,lr=Yt.isDataDriven();return lr||wt||ht||this._handleOverridablePaintPropertyUpdate(le,Et,Yt)},I.prototype._handleSpecialPaintPropertyUpdate=function(le){},I.prototype._handleOverridablePaintPropertyUpdate=function(le,ye,Ce){return!1},I.prototype.isHidden=function(le){return this.minzoom&&le<this.minzoom||this.maxzoom&&le>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(le){this._transitioningPaint=this._transitionablePaint.transitioned(le,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(le,ye){le.getCrossfadeParameters&&(this._crossfadeParameters=le.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(le,void 0,ye)),this.paint=this._transitioningPaint.possiblyEvaluate(le,void 0,ye)},I.prototype.serialize=function(){var le={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(le.layout=le.layout||{},le.layout.visibility=this.visibility),P(le,function(ye,Ce){return ye!==void 0&&!(Ce==="layout"&&!Object.keys(ye).length)&&!(Ce==="paint"&&!Object.keys(ye).length)})},I.prototype._validate=function(le,ye,Ce,Ie,$e){return $e===void 0&&($e={}),$e&&$e.validate===!1?!1:Pa(this,le.call(xn,{key:ye,layerType:this.type,objectKey:Ce,value:Ie,styleSpec:Xt,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var le in this.paint._values){var ye=this.paint.get(le);if(!(!(ye instanceof bi)||!zs(ye.property.specification))&&(ye.value.kind==="source"||ye.value.kind==="composite")&&ye.value.isStateDependent)return!0}return!1},I}(ur),Yo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},yi=function(I,j){this._structArray=I,this._pos1=j*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},xs=128,jo=5,Ka=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ka.serialize=function(I,j){return I._trim(),j&&(I.isTransferred=!0,j.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},Ka.deserialize=function(I){var j=Object.create(this.prototype);return j.arrayBuffer=I.arrayBuffer,j.length=I.length,j.capacity=I.arrayBuffer.byteLength/j.bytesPerElement,j._refreshViews(),j},Ka.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ka.prototype.clear=function(){this.length=0},Ka.prototype.resize=function(I){this.reserve(I),this.length=I},Ka.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(this.capacity*jo),xs),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var j=this.uint8;this._refreshViews(),j&&this.uint8.set(j)}},Ka.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Ti(D,I){I===void 0&&(I=1);var j=0,le=0,ye=D.map(function(Ie){var $e=xc(Ie.type),ht=j=zf(j,Math.max(I,$e)),wt=Ie.components||1;return le=Math.max(le,$e),j+=$e*wt,{name:Ie.name,type:Ie.type,components:wt,offset:ht}}),Ce=zf(j,Math.max(le,I));return{members:ye,size:Ce,alignment:I}}function xc(D){return Yo[D].BYTES_PER_ELEMENT}function zf(D,I){return Math.ceil(D/I)*I}var Th=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,le,ye)},I.prototype.emplace=function(le,ye,Ce){var Ie=le*2;return this.int16[Ie+0]=ye,this.int16[Ie+1]=Ce,le},I}(Ka);Th.prototype.bytesPerElement=4,he("StructArrayLayout2i4",Th);var Ju=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie){var $e=this.length;return this.resize($e+1),this.emplace($e,le,ye,Ce,Ie)},I.prototype.emplace=function(le,ye,Ce,Ie,$e){var ht=le*4;return this.int16[ht+0]=ye,this.int16[ht+1]=Ce,this.int16[ht+2]=Ie,this.int16[ht+3]=$e,le},I}(Ka);Ju.prototype.bytesPerElement=8,he("StructArrayLayout4i8",Ju);var bc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht){var wt=this.length;return this.resize(wt+1),this.emplace(wt,le,ye,Ce,Ie,$e,ht)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt){var Et=le*6;return this.int16[Et+0]=ye,this.int16[Et+1]=Ce,this.int16[Et+2]=Ie,this.int16[Et+3]=$e,this.int16[Et+4]=ht,this.int16[Et+5]=wt,le},I}(Ka);bc.prototype.bytesPerElement=12,he("StructArrayLayout2i4i12",bc);var Jh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht){var wt=this.length;return this.resize(wt+1),this.emplace(wt,le,ye,Ce,Ie,$e,ht)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt){var Et=le*4,Yt=le*8;return this.int16[Et+0]=ye,this.int16[Et+1]=Ce,this.uint8[Yt+4]=Ie,this.uint8[Yt+5]=$e,this.uint8[Yt+6]=ht,this.uint8[Yt+7]=wt,le},I}(Ka);Jh.prototype.bytesPerElement=8,he("StructArrayLayout2i4ub8",Jh);var as=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr){var er=this.length;return this.resize(er+1),this.emplace(er,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er){var xr=le*9,Ur=le*18;return this.uint16[xr+0]=ye,this.uint16[xr+1]=Ce,this.uint16[xr+2]=Ie,this.uint16[xr+3]=$e,this.uint16[xr+4]=ht,this.uint16[xr+5]=wt,this.uint16[xr+6]=Et,this.uint16[xr+7]=Yt,this.uint8[Ur+16]=lr,this.uint8[Ur+17]=er,le},I}(Ka);as.prototype.bytesPerElement=18,he("StructArrayLayout8ui2ub18",as);var Qu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr){var Ur=this.length;return this.resize(Ur+1),this.emplace(Ur,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur){var nn=le*12;return this.int16[nn+0]=ye,this.int16[nn+1]=Ce,this.int16[nn+2]=Ie,this.int16[nn+3]=$e,this.uint16[nn+4]=ht,this.uint16[nn+5]=wt,this.uint16[nn+6]=Et,this.uint16[nn+7]=Yt,this.int16[nn+8]=lr,this.int16[nn+9]=er,this.int16[nn+10]=xr,this.int16[nn+11]=Ur,le},I}(Ka);Qu.prototype.bytesPerElement=24,he("StructArrayLayout4i4ui4i24",Qu);var nd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,le,ye,Ce)},I.prototype.emplace=function(le,ye,Ce,Ie){var $e=le*3;return this.float32[$e+0]=ye,this.float32[$e+1]=Ce,this.float32[$e+2]=Ie,le},I}(Ka);nd.prototype.bytesPerElement=12,he("StructArrayLayout3f12",nd);var ad=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le){var ye=this.length;return this.resize(ye+1),this.emplace(ye,le)},I.prototype.emplace=function(le,ye){var Ce=le*1;return this.uint32[Ce+0]=ye,le},I}(Ka);ad.prototype.bytesPerElement=4,he("StructArrayLayout1ul4",ad);var Ah=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt){var lr=this.length;return this.resize(lr+1),this.emplace(lr,le,ye,Ce,Ie,$e,ht,wt,Et,Yt)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr){var er=le*10,xr=le*5;return this.int16[er+0]=ye,this.int16[er+1]=Ce,this.int16[er+2]=Ie,this.int16[er+3]=$e,this.int16[er+4]=ht,this.int16[er+5]=wt,this.uint32[xr+3]=Et,this.uint16[er+8]=Yt,this.uint16[er+9]=lr,le},I}(Ka);Ah.prototype.bytesPerElement=20,he("StructArrayLayout6i1ul2ui20",Ah);var Qh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht){var wt=this.length;return this.resize(wt+1),this.emplace(wt,le,ye,Ce,Ie,$e,ht)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt){var Et=le*6;return this.int16[Et+0]=ye,this.int16[Et+1]=Ce,this.int16[Et+2]=Ie,this.int16[Et+3]=$e,this.int16[Et+4]=ht,this.int16[Et+5]=wt,le},I}(Ka);Qh.prototype.bytesPerElement=12,he("StructArrayLayout2i2i2i12",Qh);var bu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e){var ht=this.length;return this.resize(ht+1),this.emplace(ht,le,ye,Ce,Ie,$e)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht){var wt=le*4,Et=le*8;return this.float32[wt+0]=ye,this.float32[wt+1]=Ce,this.float32[wt+2]=Ie,this.int16[Et+6]=$e,this.int16[Et+7]=ht,le},I}(Ka);bu.prototype.bytesPerElement=16,he("StructArrayLayout2f1f2i16",bu);var bs=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie){var $e=this.length;return this.resize($e+1),this.emplace($e,le,ye,Ce,Ie)},I.prototype.emplace=function(le,ye,Ce,Ie,$e){var ht=le*12,wt=le*3;return this.uint8[ht+0]=ye,this.uint8[ht+1]=Ce,this.float32[wt+1]=Ie,this.float32[wt+2]=$e,le},I}(Ka);bs.prototype.bytesPerElement=12,he("StructArrayLayout2ub2f12",bs);var wu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,le,ye,Ce)},I.prototype.emplace=function(le,ye,Ce,Ie){var $e=le*3;return this.uint16[$e+0]=ye,this.uint16[$e+1]=Ce,this.uint16[$e+2]=Ie,le},I}(Ka);wu.prototype.bytesPerElement=6,he("StructArrayLayout3ui6",wu);var Mh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr,Sn,bn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr,Sn,bn)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr,Sn,bn,Mn){var Fn=le*24,Vn=le*12,qn=le*48;return this.int16[Fn+0]=ye,this.int16[Fn+1]=Ce,this.uint16[Fn+2]=Ie,this.uint16[Fn+3]=$e,this.uint32[Vn+2]=ht,this.uint32[Vn+3]=wt,this.uint32[Vn+4]=Et,this.uint16[Fn+10]=Yt,this.uint16[Fn+11]=lr,this.uint16[Fn+12]=er,this.float32[Vn+7]=xr,this.float32[Vn+8]=Ur,this.uint8[qn+36]=nn,this.uint8[qn+37]=qr,this.uint8[qn+38]=Sn,this.uint32[Vn+10]=bn,this.int16[Fn+22]=Mn,le},I}(Ka);Mh.prototype.bytesPerElement=48,he("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Mh);var $h=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr,Sn,bn,Mn,Fn,Vn,qn,$n,Ca,da,ba,Ha,Ma,Sa){var ja=this.length;return this.resize(ja+1),this.emplace(ja,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr,Sn,bn,Mn,Fn,Vn,qn,$n,Ca,da,ba,Ha,Ma,Sa)},I.prototype.emplace=function(le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr,Sn,bn,Mn,Fn,Vn,qn,$n,Ca,da,ba,Ha,Ma,Sa,ja){var Ba=le*34,ni=le*17;return this.int16[Ba+0]=ye,this.int16[Ba+1]=Ce,this.int16[Ba+2]=Ie,this.int16[Ba+3]=$e,this.int16[Ba+4]=ht,this.int16[Ba+5]=wt,this.int16[Ba+6]=Et,this.int16[Ba+7]=Yt,this.uint16[Ba+8]=lr,this.uint16[Ba+9]=er,this.uint16[Ba+10]=xr,this.uint16[Ba+11]=Ur,this.uint16[Ba+12]=nn,this.uint16[Ba+13]=qr,this.uint16[Ba+14]=Sn,this.uint16[Ba+15]=bn,this.uint16[Ba+16]=Mn,this.uint16[Ba+17]=Fn,this.uint16[Ba+18]=Vn,this.uint16[Ba+19]=qn,this.uint16[Ba+20]=$n,this.uint16[Ba+21]=Ca,this.uint16[Ba+22]=da,this.uint32[ni+12]=ba,this.float32[ni+13]=Ha,this.float32[ni+14]=Ma,this.float32[ni+15]=Sa,this.float32[ni+16]=ja,le},I}(Ka);$h.prototype.bytesPerElement=68,he("StructArrayLayout8i15ui1ul4f68",$h);var wc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le){var ye=this.length;return this.resize(ye+1),this.emplace(ye,le)},I.prototype.emplace=function(le,ye){var Ce=le*1;return this.float32[Ce+0]=ye,le},I}(Ka);wc.prototype.bytesPerElement=4,he("StructArrayLayout1f4",wc);var id=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,le,ye,Ce)},I.prototype.emplace=function(le,ye,Ce,Ie){var $e=le*3;return this.int16[$e+0]=ye,this.int16[$e+1]=Ce,this.int16[$e+2]=Ie,le},I}(Ka);id.prototype.bytesPerElement=6,he("StructArrayLayout3i6",id);var $u=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,le,ye,Ce)},I.prototype.emplace=function(le,ye,Ce,Ie){var $e=le*2,ht=le*4;return this.uint32[$e+0]=ye,this.uint16[ht+2]=Ce,this.uint16[ht+3]=Ie,le},I}(Ka);$u.prototype.bytesPerElement=8,he("StructArrayLayout1ul2ui8",$u);var Sh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,le,ye)},I.prototype.emplace=function(le,ye,Ce){var Ie=le*2;return this.uint16[Ie+0]=ye,this.uint16[Ie+1]=Ce,le},I}(Ka);Sh.prototype.bytesPerElement=4,he("StructArrayLayout2ui4",Sh);var Tc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le){var ye=this.length;return this.resize(ye+1),this.emplace(ye,le)},I.prototype.emplace=function(le,ye){var Ce=le*1;return this.uint16[Ce+0]=ye,le},I}(Ka);Tc.prototype.bytesPerElement=2,he("StructArrayLayout1ui2",Tc);var qu=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye){var Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,le,ye)},I.prototype.emplace=function(le,ye,Ce){var Ie=le*2;return this.float32[Ie+0]=ye,this.float32[Ie+1]=Ce,le},I}(Ka);qu.prototype.bytesPerElement=8,he("StructArrayLayout2f8",qu);var od=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(le,ye,Ce,Ie){var $e=this.length;return this.resize($e+1),this.emplace($e,le,ye,Ce,Ie)},I.prototype.emplace=function(le,ye,Ce,Ie,$e){var ht=le*4;return this.float32[ht+0]=ye,this.float32[ht+1]=Ce,this.float32[ht+2]=Ie,this.float32[ht+3]=$e,le},I}(Ka);od.prototype.bytesPerElement=16,he("StructArrayLayout4f16",od);var M0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var j={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return j.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},j.x1.get=function(){return this._structArray.int16[this._pos2+2]},j.y1.get=function(){return this._structArray.int16[this._pos2+3]},j.x2.get=function(){return this._structArray.int16[this._pos2+4]},j.y2.get=function(){return this._structArray.int16[this._pos2+5]},j.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},j.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},j.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},j.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,j),I}(yi);M0.prototype.size=20;var ef=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(le){return new M0(this,le)},I}(Ah);he("CollisionBoxArray",ef);var sd=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var j={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return j.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},j.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},j.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},j.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},j.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},j.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},j.segment.get=function(){return this._structArray.uint16[this._pos2+10]},j.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},j.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},j.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},j.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},j.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},j.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},j.placedOrientation.set=function(le){this._structArray.uint8[this._pos1+37]=le},j.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},j.hidden.set=function(le){this._structArray.uint8[this._pos1+38]=le},j.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},j.crossTileID.set=function(le){this._structArray.uint32[this._pos4+10]=le},j.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,j),I}(yi);sd.prototype.size=48;var Ac=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(le){return new sd(this,le)},I}(Mh);he("PlacedSymbolArray",Ac);var S0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var j={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return j.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},j.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},j.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},j.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},j.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},j.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},j.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},j.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},j.key.get=function(){return this._structArray.uint16[this._pos2+8]},j.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},j.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},j.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},j.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},j.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},j.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},j.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},j.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},j.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},j.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},j.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},j.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},j.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},j.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},j.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},j.crossTileID.set=function(le){this._structArray.uint32[this._pos4+12]=le},j.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},j.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},j.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},j.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,j),I}(yi);S0.prototype.size=68;var E0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(le){return new S0(this,le)},I}($h);he("SymbolInstanceArray",E0);var Tl=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(le){return this.float32[le*1+0]},I}(wc);he("GlyphOffsetArray",Tl);var C0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getx=function(le){return this.int16[le*3+0]},I.prototype.gety=function(le){return this.int16[le*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(le){return this.int16[le*3+2]},I}(id);he("SymbolLineVertexArray",C0);var L0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var j={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return j.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},j.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},j.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,j),I}(yi);L0.prototype.size=8;var ld=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(le){return new L0(this,le)},I}($u);he("FeatureIndexArray",ld);var P0=Ti([{name:"a_pos",components:2,type:"Int16"}],4),ge=P0.members,$=function(I){I===void 0&&(I=[]),this.segments=I};$.prototype.prepareSegment=function(I,j,le,ye){var Ce=this.segments[this.segments.length-1];return I>$.MAX_VERTEX_ARRAY_LENGTH&&H("Max vertices per segment is "+$.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!Ce||Ce.vertexLength+I>$.MAX_VERTEX_ARRAY_LENGTH||Ce.sortKey!==ye)&&(Ce={vertexOffset:j.length,primitiveOffset:le.length,vertexLength:0,primitiveLength:0},ye!==void 0&&(Ce.sortKey=ye),this.segments.push(Ce)),Ce},$.prototype.get=function(){return this.segments},$.prototype.destroy=function(){for(var I=0,j=this.segments;I<j.length;I+=1){var le=j[I];for(var ye in le.vaos)le.vaos[ye].destroy()}},$.simpleSegment=function(I,j,le,ye){return new $([{vertexOffset:I,primitiveOffset:j,vertexLength:le,primitiveLength:ye,vaos:{},sortKey:0}])},$.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,he("SegmentVector",$);function me(D,I){return D=o(Math.floor(D),0,255),I=o(Math.floor(I),0,255),256*D+I}var oe=Ti([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),xe=L(function(D){function I(j,le){var ye,Ce,Ie,$e,ht,wt,Et,Yt;for(ye=j.length&3,Ce=j.length-ye,Ie=le,ht=3432918353,wt=461845907,Yt=0;Yt<Ce;)Et=j.charCodeAt(Yt)&255|(j.charCodeAt(++Yt)&255)<<8|(j.charCodeAt(++Yt)&255)<<16|(j.charCodeAt(++Yt)&255)<<24,++Yt,Et=(Et&65535)*ht+(((Et>>>16)*ht&65535)<<16)&4294967295,Et=Et<<15|Et>>>17,Et=(Et&65535)*wt+(((Et>>>16)*wt&65535)<<16)&4294967295,Ie^=Et,Ie=Ie<<13|Ie>>>19,$e=(Ie&65535)*5+(((Ie>>>16)*5&65535)<<16)&4294967295,Ie=($e&65535)+27492+((($e>>>16)+58964&65535)<<16);switch(Et=0,ye){case 3:Et^=(j.charCodeAt(Yt+2)&255)<<16;case 2:Et^=(j.charCodeAt(Yt+1)&255)<<8;case 1:Et^=j.charCodeAt(Yt)&255,Et=(Et&65535)*ht+(((Et>>>16)*ht&65535)<<16)&4294967295,Et=Et<<15|Et>>>17,Et=(Et&65535)*wt+(((Et>>>16)*wt&65535)<<16)&4294967295,Ie^=Et}return Ie^=j.length,Ie^=Ie>>>16,Ie=(Ie&65535)*2246822507+(((Ie>>>16)*2246822507&65535)<<16)&4294967295,Ie^=Ie>>>13,Ie=(Ie&65535)*3266489909+(((Ie>>>16)*3266489909&65535)<<16)&4294967295,Ie^=Ie>>>16,Ie>>>0}D.exports=I}),Be=L(function(D){function I(j,le){for(var ye=j.length,Ce=le^ye,Ie=0,$e;ye>=4;)$e=j.charCodeAt(Ie)&255|(j.charCodeAt(++Ie)&255)<<8|(j.charCodeAt(++Ie)&255)<<16|(j.charCodeAt(++Ie)&255)<<24,$e=($e&65535)*1540483477+((($e>>>16)*1540483477&65535)<<16),$e^=$e>>>24,$e=($e&65535)*1540483477+((($e>>>16)*1540483477&65535)<<16),Ce=(Ce&65535)*1540483477+(((Ce>>>16)*1540483477&65535)<<16)^$e,ye-=4,++Ie;switch(ye){case 3:Ce^=(j.charCodeAt(Ie+2)&255)<<16;case 2:Ce^=(j.charCodeAt(Ie+1)&255)<<8;case 1:Ce^=j.charCodeAt(Ie)&255,Ce=(Ce&65535)*1540483477+(((Ce>>>16)*1540483477&65535)<<16)}return Ce^=Ce>>>13,Ce=(Ce&65535)*1540483477+(((Ce>>>16)*1540483477&65535)<<16),Ce^=Ce>>>15,Ce>>>0}D.exports=I}),Xe=xe,lt=xe,xt=Be;Xe.murmur3=lt,Xe.murmur2=xt;var Nt=function(){this.ids=[],this.positions=[],this.indexed=!1};Nt.prototype.add=function(I,j,le,ye){this.ids.push(fr(I)),this.positions.push(j,le,ye)},Nt.prototype.getPositions=function(I){for(var j=fr(I),le=0,ye=this.ids.length-1;le<ye;){var Ce=le+ye>>1;this.ids[Ce]>=j?ye=Ce:le=Ce+1}for(var Ie=[];this.ids[le]===j;){var $e=this.positions[3*le],ht=this.positions[3*le+1],wt=this.positions[3*le+2];Ie.push({index:$e,start:ht,end:wt}),le++}return Ie},Nt.serialize=function(I,j){var le=new Float64Array(I.ids),ye=new Uint32Array(I.positions);return mr(le,ye,0,le.length-1),j&&j.push(le.buffer,ye.buffer),{ids:le,positions:ye}},Nt.deserialize=function(I){var j=new Nt;return j.ids=I.ids,j.positions=I.positions,j.indexed=!0,j};var Qt=Math.pow(2,53)-1;function fr(D){var I=+D;return!isNaN(I)&&I<=Qt?I:Xe(String(D))}function mr(D,I,j,le){for(;j<le;){for(var ye=D[j+le>>1],Ce=j-1,Ie=le+1;;){do Ce++;while(D[Ce]<ye);do Ie--;while(D[Ie]>ye);if(Ce>=Ie)break;_r(D,Ce,Ie),_r(I,3*Ce,3*Ie),_r(I,3*Ce+1,3*Ie+1),_r(I,3*Ce+2,3*Ie+2)}Ie-j<le-Ie?(mr(D,I,j,Ie),j=Ie+1):(mr(D,I,Ie+1,le),le=Ie)}}function _r(D,I,j){var le=D[I];D[I]=D[j],D[j]=le}he("FeaturePositionMap",Nt);var Wr=function(I,j){this.gl=I.gl,this.location=j},Yr=function(D){function I(j,le){D.call(this,j,le),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(le){this.current!==le&&(this.current=le,this.gl.uniform1i(this.location,le))},I}(Wr),Vr=function(D){function I(j,le){D.call(this,j,le),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(le){this.current!==le&&(this.current=le,this.gl.uniform1f(this.location,le))},I}(Wr),$r=function(D){function I(j,le){D.call(this,j,le),this.current=[0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(le){(le[0]!==this.current[0]||le[1]!==this.current[1])&&(this.current=le,this.gl.uniform2f(this.location,le[0],le[1]))},I}(Wr),ln=function(D){function I(j,le){D.call(this,j,le),this.current=[0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(le){(le[0]!==this.current[0]||le[1]!==this.current[1]||le[2]!==this.current[2])&&(this.current=le,this.gl.uniform3f(this.location,le[0],le[1],le[2]))},I}(Wr),En=function(D){function I(j,le){D.call(this,j,le),this.current=[0,0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(le){(le[0]!==this.current[0]||le[1]!==this.current[1]||le[2]!==this.current[2]||le[3]!==this.current[3])&&(this.current=le,this.gl.uniform4f(this.location,le[0],le[1],le[2],le[3]))},I}(Wr),zn=function(D){function I(j,le){D.call(this,j,le),this.current=ti.transparent}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(le){(le.r!==this.current.r||le.g!==this.current.g||le.b!==this.current.b||le.a!==this.current.a)&&(this.current=le,this.gl.uniform4f(this.location,le.r,le.g,le.b,le.a))},I}(Wr),jn=new Float32Array(16),Xn=function(D){function I(j,le){D.call(this,j,le),this.current=jn}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(le){if(le[12]!==this.current[12]||le[0]!==this.current[0]){this.current=le,this.gl.uniformMatrix4fv(this.location,!1,le);return}for(var ye=1;ye<16;ye++)if(le[ye]!==this.current[ye]){this.current=le,this.gl.uniformMatrix4fv(this.location,!1,le);break}},I}(Wr);function Zn(D){return[me(255*D.r,255*D.g),me(255*D.b,255*D.a)]}var aa=function(I,j,le){this.value=I,this.uniformNames=j.map(function(ye){return"u_"+ye}),this.type=le};aa.prototype.setUniform=function(I,j,le){I.set(le.constantOr(this.value))},aa.prototype.getBinding=function(I,j,le){return this.type==="color"?new zn(I,j):new Vr(I,j)};var va=function(I,j){this.uniformNames=j.map(function(le){return"u_"+le}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};va.prototype.setConstantPatternPositions=function(I,j){this.pixelRatioFrom=j.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=j.tlbr,this.patternTo=I.tlbr},va.prototype.setUniform=function(I,j,le,ye){var Ce=ye==="u_pattern_to"?this.patternTo:ye==="u_pattern_from"?this.patternFrom:ye==="u_pixel_ratio_to"?this.pixelRatioTo:ye==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ce&&I.set(Ce)},va.prototype.getBinding=function(I,j,le){return le.substr(0,9)==="u_pattern"?new En(I,j):new Vr(I,j)};var ha=function(I,j,le,ye){this.expression=I,this.type=le,this.maxValue=0,this.paintVertexAttributes=j.map(function(Ce){return{name:"a_"+Ce,type:"Float32",components:le==="color"?2:1,offset:0}}),this.paintVertexArray=new ye};ha.prototype.populatePaintArray=function(I,j,le,ye,Ce){var Ie=this.paintVertexArray.length,$e=this.expression.evaluate(new Un(0),j,{},ye,[],Ce);this.paintVertexArray.resize(I),this._setPaintValue(Ie,I,$e)},ha.prototype.updatePaintArray=function(I,j,le,ye){var Ce=this.expression.evaluate({zoom:0},le,ye);this._setPaintValue(I,j,Ce)},ha.prototype._setPaintValue=function(I,j,le){if(this.type==="color")for(var ye=Zn(le),Ce=I;Ce<j;Ce++)this.paintVertexArray.emplace(Ce,ye[0],ye[1]);else{for(var Ie=I;Ie<j;Ie++)this.paintVertexArray.emplace(Ie,le);this.maxValue=Math.max(this.maxValue,Math.abs(le))}},ha.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ha.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ma=function(I,j,le,ye,Ce,Ie){this.expression=I,this.uniformNames=j.map(function($e){return"u_"+$e+"_t"}),this.type=le,this.useIntegerZoom=ye,this.zoom=Ce,this.maxValue=0,this.paintVertexAttributes=j.map(function($e){return{name:"a_"+$e,type:"Float32",components:le==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};ma.prototype.populatePaintArray=function(I,j,le,ye,Ce){var Ie=this.expression.evaluate(new Un(this.zoom),j,{},ye,[],Ce),$e=this.expression.evaluate(new Un(this.zoom+1),j,{},ye,[],Ce),ht=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(ht,I,Ie,$e)},ma.prototype.updatePaintArray=function(I,j,le,ye){var Ce=this.expression.evaluate({zoom:this.zoom},le,ye),Ie=this.expression.evaluate({zoom:this.zoom+1},le,ye);this._setPaintValue(I,j,Ce,Ie)},ma.prototype._setPaintValue=function(I,j,le,ye){if(this.type==="color")for(var Ce=Zn(le),Ie=Zn(ye),$e=I;$e<j;$e++)this.paintVertexArray.emplace($e,Ce[0],Ce[1],Ie[0],Ie[1]);else{for(var ht=I;ht<j;ht++)this.paintVertexArray.emplace(ht,le,ye);this.maxValue=Math.max(this.maxValue,Math.abs(le),Math.abs(ye))}},ma.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ma.prototype.setUniform=function(I,j){var le=this.useIntegerZoom?Math.floor(j.zoom):j.zoom,ye=o(this.expression.interpolationFactor(le,this.zoom,this.zoom+1),0,1);I.set(ye)},ma.prototype.getBinding=function(I,j,le){return new Vr(I,j)};var Aa=function(I,j,le,ye,Ce,Ie){this.expression=I,this.type=j,this.useIntegerZoom=le,this.zoom=ye,this.layerId=Ie,this.zoomInPaintVertexArray=new Ce,this.zoomOutPaintVertexArray=new Ce};Aa.prototype.populatePaintArray=function(I,j,le){var ye=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(ye,I,j.patterns&&j.patterns[this.layerId],le)},Aa.prototype.updatePaintArray=function(I,j,le,ye,Ce){this._setPaintValues(I,j,le.patterns&&le.patterns[this.layerId],Ce)},Aa.prototype._setPaintValues=function(I,j,le,ye){if(!(!ye||!le)){var Ce=le.min,Ie=le.mid,$e=le.max,ht=ye[Ce],wt=ye[Ie],Et=ye[$e];if(!(!ht||!wt||!Et))for(var Yt=I;Yt<j;Yt++)this.zoomInPaintVertexArray.emplace(Yt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],wt.pixelRatio,ht.pixelRatio),this.zoomOutPaintVertexArray.emplace(Yt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],wt.pixelRatio,Et.pixelRatio)}},Aa.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,oe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,oe.members,this.expression.isStateDependent))},Aa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Fa=function(I,j,le,ye){this.binders={},this.layoutAttributes=ye,this._buffers=[];var Ce=[];for(var Ie in I.paint._values)if(le(Ie)){var $e=I.paint.get(Ie);if(!(!($e instanceof bi)||!zs($e.property.specification))){var ht=si(Ie,I.type),wt=$e.value,Et=$e.property.specification.type,Yt=$e.property.useIntegerZoom,lr=$e.property.specification["property-type"],er=lr==="cross-faded"||lr==="cross-faded-data-driven";if(wt.kind==="constant")this.binders[Ie]=er?new va(wt.value,ht):new aa(wt.value,ht,Et),Ce.push("/u_"+Ie);else if(wt.kind==="source"||er){var xr=Ja(Ie,Et,"source");this.binders[Ie]=er?new Aa(wt,Et,Yt,j,xr,I.id):new ha(wt,ht,Et,xr),Ce.push("/a_"+Ie)}else{var Ur=Ja(Ie,Et,"composite");this.binders[Ie]=new ma(wt,ht,Et,Yt,j,Ur),Ce.push("/z_"+Ie)}}}this.cacheKey=Ce.sort().join("")};Fa.prototype.getMaxValue=function(I){var j=this.binders[I];return j instanceof ha||j instanceof ma?j.maxValue:0},Fa.prototype.populatePaintArrays=function(I,j,le,ye,Ce){for(var Ie in this.binders){var $e=this.binders[Ie];($e instanceof ha||$e instanceof ma||$e instanceof Aa)&&$e.populatePaintArray(I,j,le,ye,Ce)}},Fa.prototype.setConstantPatternPositions=function(I,j){for(var le in this.binders){var ye=this.binders[le];ye instanceof va&&ye.setConstantPatternPositions(I,j)}},Fa.prototype.updatePaintArrays=function(I,j,le,ye,Ce){var Ie=!1;for(var $e in I)for(var ht=j.getPositions($e),wt=0,Et=ht;wt<Et.length;wt+=1){var Yt=Et[wt],lr=le.feature(Yt.index);for(var er in this.binders){var xr=this.binders[er];if((xr instanceof ha||xr instanceof ma||xr instanceof Aa)&&xr.expression.isStateDependent===!0){var Ur=ye.paint.get(er);xr.expression=Ur.value,xr.updatePaintArray(Yt.start,Yt.end,lr,I[$e],Ce),Ie=!0}}}return Ie},Fa.prototype.defines=function(){var I=[];for(var j in this.binders){var le=this.binders[j];(le instanceof aa||le instanceof va)&&I.push.apply(I,le.uniformNames.map(function(ye){return"#define HAS_UNIFORM_"+ye}))}return I},Fa.prototype.getPaintVertexBuffers=function(){return this._buffers},Fa.prototype.getUniforms=function(I,j){var le=[];for(var ye in this.binders){var Ce=this.binders[ye];if(Ce instanceof aa||Ce instanceof va||Ce instanceof ma)for(var Ie=0,$e=Ce.uniformNames;Ie<$e.length;Ie+=1){var ht=$e[Ie];if(j[ht]){var wt=Ce.getBinding(I,j[ht],ht);le.push({name:ht,property:ye,binding:wt})}}}return le},Fa.prototype.setUniforms=function(I,j,le,ye){for(var Ce=0,Ie=j;Ce<Ie.length;Ce+=1){var $e=Ie[Ce],ht=$e.name,wt=$e.property,Et=$e.binding;this.binders[wt].setUniform(Et,ye,le.get(wt),ht)}},Fa.prototype.updatePaintBuffers=function(I){this._buffers=[];for(var j in this.binders){var le=this.binders[j];if(I&&le instanceof Aa){var ye=I.fromScale===2?le.zoomInPaintVertexBuffer:le.zoomOutPaintVertexBuffer;ye&&this._buffers.push(ye)}else(le instanceof ha||le instanceof ma)&&le.paintVertexBuffer&&this._buffers.push(le.paintVertexBuffer)}},Fa.prototype.upload=function(I){for(var j in this.binders){var le=this.binders[j];(le instanceof ha||le instanceof ma||le instanceof Aa)&&le.upload(I)}this.updatePaintBuffers()},Fa.prototype.destroy=function(){for(var I in this.binders){var j=this.binders[I];(j instanceof ha||j instanceof ma||j instanceof Aa)&&j.destroy()}};var Ga=function(I,j,le,ye){ye===void 0&&(ye=function(){return!0}),this.programConfigurations={};for(var Ce=0,Ie=j;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];this.programConfigurations[$e.id]=new Fa($e,le,ye,I)}this.needsUpload=!1,this._featureMap=new Nt,this._bufferOffset=0};Ga.prototype.populatePaintArrays=function(I,j,le,ye,Ce,Ie){for(var $e in this.programConfigurations)this.programConfigurations[$e].populatePaintArrays(I,j,ye,Ce,Ie);j.id!==void 0&&this._featureMap.add(j.id,le,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},Ga.prototype.updatePaintArrays=function(I,j,le,ye){for(var Ce=0,Ie=le;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];this.needsUpload=this.programConfigurations[$e.id].updatePaintArrays(I,this._featureMap,j,$e,ye)||this.needsUpload}},Ga.prototype.get=function(I){return this.programConfigurations[I]},Ga.prototype.upload=function(I){if(this.needsUpload){for(var j in this.programConfigurations)this.programConfigurations[j].upload(I);this.needsUpload=!1}},Ga.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()};function si(D,I){var j={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return j[D]||[D.replace(I+"-","").replace(/-/g,"_")]}function Ya(D){var I={"line-pattern":{source:as,composite:as},"fill-pattern":{source:as,composite:as},"fill-extrusion-pattern":{source:as,composite:as}};return I[D]}function Ja(D,I,j){var le={color:{source:qu,composite:od},number:{source:wc,composite:qu}},ye=Ya(D);return ye&&ye[j]||le[I][j]}he("ConstantBinder",aa),he("CrossFadedConstantBinder",va),he("SourceExpressionBinder",ha),he("CrossFadedCompositeBinder",Aa),he("CompositeExpressionBinder",ma),he("ProgramConfiguration",Fa,{omit:["_buffers"]}),he("ProgramConfigurationSet",Ga);var Ra=8192;function li(D){return{min:-1*Math.pow(2,D-1),max:Math.pow(2,D-1)-1}}var ci=li(15);function vi(D){for(var I=Ra/D.extent,j=D.loadGeometry(),le=0;le<j.length;le++)for(var ye=j[le],Ce=0;Ce<ye.length;Ce++){var Ie=ye[Ce];Ie.x=Math.round(Ie.x*I),Ie.y=Math.round(Ie.y*I),(Ie.x<ci.min||Ie.x>ci.max||Ie.y<ci.min||Ie.y>ci.max)&&(H("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ie.x=o(Ie.x,ci.min,ci.max),Ie.y=o(Ie.y,ci.min,ci.max))}return j}function Qa(D,I,j,le,ye){D.emplaceBack(I*2+(le+1)/2,j*2+(ye+1)/2)}var Ai=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Th,this.indexArray=new wu,this.segments=new $,this.programConfigurations=new Ga(ge,I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};Ai.prototype.populate=function(I,j,le){var ye=this.layers[0],Ce=[],Ie=null;ye.type==="circle"&&(Ie=ye.layout.get("circle-sort-key"));for(var $e=0,ht=I;$e<ht.length;$e+=1){var wt=ht[$e],Et=wt.feature,Yt=wt.id,lr=wt.index,er=wt.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Ur={type:Et.type,id:Yt,properties:Et.properties,geometry:xr?vi(Et):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),Ur,le)){xr||(Ur.geometry=vi(Et));var nn=Ie?Ie.evaluate(Ur,{},le):void 0,qr={id:Yt,properties:Et.properties,type:Et.type,sourceLayerIndex:er,index:lr,geometry:Ur.geometry,patterns:{},sortKey:nn};Ce.push(qr)}}Ie&&Ce.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var Sn=0,bn=Ce;Sn<bn.length;Sn+=1){var Mn=bn[Sn],Fn=Mn,Vn=Fn.geometry,qn=Fn.index,$n=Fn.sourceLayerIndex,Ca=I[qn].feature;this.addFeature(Mn,Vn,qn,le),j.featureIndex.insert(Ca,Vn,qn,$n,this.index)}},Ai.prototype.update=function(I,j,le){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,j,this.stateDependentLayers,le)},Ai.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ai.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ai.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,ge),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Ai.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ai.prototype.addFeature=function(I,j,le,ye){for(var Ce=0,Ie=j;Ce<Ie.length;Ce+=1)for(var $e=Ie[Ce],ht=0,wt=$e;ht<wt.length;ht+=1){var Et=wt[ht],Yt=Et.x,lr=Et.y;if(!(Yt<0||Yt>=Ra||lr<0||lr>=Ra)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),xr=er.vertexLength;Qa(this.layoutVertexArray,Yt,lr,-1,-1),Qa(this.layoutVertexArray,Yt,lr,1,-1),Qa(this.layoutVertexArray,Yt,lr,1,1),Qa(this.layoutVertexArray,Yt,lr,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,le,{},ye)},he("CircleBucket",Ai,{omit:["layers"]});function Wa(D,I){for(var j=0;j<D.length;j++)if(is(I,D[j]))return!0;for(var le=0;le<I.length;le++)if(is(D,I[le]))return!0;return!!rl(D,I)}function qa(D,I,j){return!!(is(D,I)||Yl(I,D,j))}function Gi(D,I){if(D.length===1)return jl(I,D[0]);for(var j=0;j<I.length;j++)for(var le=I[j],ye=0;ye<le.length;ye++)if(is(D,le[ye]))return!0;for(var Ce=0;Ce<D.length;Ce++)if(jl(I,D[Ce]))return!0;for(var Ie=0;Ie<I.length;Ie++)if(rl(D,I[Ie]))return!0;return!1}function io(D,I,j){for(var le=0;le<I.length;le++){var ye=I[le];if(D.length>=3){for(var Ce=0;Ce<ye.length;Ce++)if(is(D,ye[Ce]))return!0}if(tl(D,ye,j))return!0}return!1}function tl(D,I,j){if(D.length>1){if(rl(D,I))return!0;for(var le=0;le<I.length;le++)if(Yl(I[le],D,j))return!0}for(var ye=0;ye<D.length;ye++)if(Yl(D[ye],I,j))return!0;return!1}function rl(D,I){if(D.length===0||I.length===0)return!1;for(var j=0;j<D.length-1;j++)for(var le=D[j],ye=D[j+1],Ce=0;Ce<I.length-1;Ce++){var Ie=I[Ce],$e=I[Ce+1];if(Wl(le,ye,Ie,$e))return!0}return!1}function Wl(D,I,j,le){return _(D,j,le)!==_(I,j,le)&&_(D,I,j)!==_(D,I,le)}function Yl(D,I,j){var le=j*j;if(I.length===1)return D.distSqr(I[0])<le;for(var ye=1;ye<I.length;ye++){var Ce=I[ye-1],Ie=I[ye];if(Tu(D,Ce,Ie)<le)return!0}return!1}function Tu(D,I,j){var le=I.distSqr(j);if(le===0)return D.distSqr(I);var ye=((D.x-I.x)*(j.x-I.x)+(D.y-I.y)*(j.y-I.y))/le;return ye<0?D.distSqr(I):ye>1?D.distSqr(j):D.distSqr(j.sub(I)._mult(ye)._add(I))}function jl(D,I){for(var j=!1,le,ye,Ce,Ie=0;Ie<D.length;Ie++){le=D[Ie];for(var $e=0,ht=le.length-1;$e<le.length;ht=$e++)ye=le[$e],Ce=le[ht],ye.y>I.y!=Ce.y>I.y&&I.x<(Ce.x-ye.x)*(I.y-ye.y)/(Ce.y-ye.y)+ye.x&&(j=!j)}return j}function is(D,I){for(var j=!1,le=0,ye=D.length-1;le<D.length;ye=le++){var Ce=D[le],Ie=D[ye];Ce.y>I.y!=Ie.y>I.y&&I.x<(Ie.x-Ce.x)*(I.y-Ce.y)/(Ie.y-Ce.y)+Ce.x&&(j=!j)}return j}function tf(D,I,j,le,ye){for(var Ce=0,Ie=D;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];if(I<=$e.x&&j<=$e.y&&le>=$e.x&&ye>=$e.y)return!0}var ht=[new t(I,j),new t(I,ye),new t(le,ye),new t(le,j)];if(D.length>2)for(var wt=0,Et=ht;wt<Et.length;wt+=1){var Yt=Et[wt];if(is(D,Yt))return!0}for(var lr=0;lr<D.length-1;lr++){var er=D[lr],xr=D[lr+1];if(No(er,xr,ht))return!0}return!1}function No(D,I,j){var le=j[0],ye=j[2];if(D.x<le.x&&I.x<le.x||D.x>ye.x&&I.x>ye.x||D.y<le.y&&I.y<le.y||D.y>ye.y&&I.y>ye.y)return!1;var Ce=_(D,I,j[0]);return Ce!==_(D,I,j[1])||Ce!==_(D,I,j[2])||Ce!==_(D,I,j[3])}function Ns(D,I,j){var le=I.paint.get(D).value;return le.kind==="constant"?le.value:j.programConfigurations.get(I.id).getMaxValue(D)}function Zl(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Al(D,I,j,le,ye){if(!I[0]&&!I[1])return D;var Ce=t.convert(I)._mult(ye);j==="viewport"&&Ce._rotate(-le);for(var Ie=[],$e=0;$e<D.length;$e++){var ht=D[$e];Ie.push(ht.sub(Ce))}return Ie}var Xl=new eo({"circle-sort-key":new Ea(Xt.layout_circle["circle-sort-key"])}),qh=new eo({"circle-radius":new Ea(Xt.paint_circle["circle-radius"]),"circle-color":new Ea(Xt.paint_circle["circle-color"]),"circle-blur":new Ea(Xt.paint_circle["circle-blur"]),"circle-opacity":new Ea(Xt.paint_circle["circle-opacity"]),"circle-translate":new xa(Xt.paint_circle["circle-translate"]),"circle-translate-anchor":new xa(Xt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new xa(Xt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new xa(Xt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ea(Xt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ea(Xt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ea(Xt.paint_circle["circle-stroke-opacity"])}),Of={paint:qh,layout:Xl},Do=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,I=0,j=arguments.length;j--;)I+=D[j]*D[j];return Math.sqrt(I)});function Eh(){var D=new Do(4);return Do!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function Zo(D,I,j){var le=I[0],ye=I[1],Ce=I[2],Ie=I[3],$e=Math.sin(j),ht=Math.cos(j);return D[0]=le*ht+Ce*$e,D[1]=ye*ht+Ie*$e,D[2]=le*-$e+Ce*ht,D[3]=ye*-$e+Ie*ht,D}function Ch(){var D=new Do(9);return Do!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function ev(D,I){var j=Math.sin(I),le=Math.cos(I);return D[0]=le,D[1]=j,D[2]=0,D[3]=-j,D[4]=le,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function tv(){var D=new Do(16);return Do!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function R0(D){var I=new Do(16);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[4]=D[4],I[5]=D[5],I[6]=D[6],I[7]=D[7],I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function rv(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function Mc(D,I){var j=I[0],le=I[1],ye=I[2],Ce=I[3],Ie=I[4],$e=I[5],ht=I[6],wt=I[7],Et=I[8],Yt=I[9],lr=I[10],er=I[11],xr=I[12],Ur=I[13],nn=I[14],qr=I[15],Sn=j*$e-le*Ie,bn=j*ht-ye*Ie,Mn=j*wt-Ce*Ie,Fn=le*ht-ye*$e,Vn=le*wt-Ce*$e,qn=ye*wt-Ce*ht,$n=Et*Ur-Yt*xr,Ca=Et*nn-lr*xr,da=Et*qr-er*xr,ba=Yt*nn-lr*Ur,Ha=Yt*qr-er*Ur,Ma=lr*qr-er*nn,Sa=Sn*Ma-bn*Ha+Mn*ba+Fn*da-Vn*Ca+qn*$n;return Sa?(Sa=1/Sa,D[0]=($e*Ma-ht*Ha+wt*ba)*Sa,D[1]=(ye*Ha-le*Ma-Ce*ba)*Sa,D[2]=(Ur*qn-nn*Vn+qr*Fn)*Sa,D[3]=(lr*Vn-Yt*qn-er*Fn)*Sa,D[4]=(ht*da-Ie*Ma-wt*Ca)*Sa,D[5]=(j*Ma-ye*da+Ce*Ca)*Sa,D[6]=(nn*Mn-xr*qn-qr*bn)*Sa,D[7]=(Et*qn-lr*Mn+er*bn)*Sa,D[8]=(Ie*Ha-$e*da+wt*$n)*Sa,D[9]=(le*da-j*Ha-Ce*$n)*Sa,D[10]=(xr*Vn-Ur*Mn+qr*Sn)*Sa,D[11]=(Yt*Mn-Et*Vn-er*Sn)*Sa,D[12]=($e*Ca-Ie*ba-ht*$n)*Sa,D[13]=(j*ba-le*Ca+ye*$n)*Sa,D[14]=(Ur*bn-xr*Fn-nn*Sn)*Sa,D[15]=(Et*Fn-Yt*bn+lr*Sn)*Sa,D):null}function Sc(D,I,j){var le=I[0],ye=I[1],Ce=I[2],Ie=I[3],$e=I[4],ht=I[5],wt=I[6],Et=I[7],Yt=I[8],lr=I[9],er=I[10],xr=I[11],Ur=I[12],nn=I[13],qr=I[14],Sn=I[15],bn=j[0],Mn=j[1],Fn=j[2],Vn=j[3];return D[0]=bn*le+Mn*$e+Fn*Yt+Vn*Ur,D[1]=bn*ye+Mn*ht+Fn*lr+Vn*nn,D[2]=bn*Ce+Mn*wt+Fn*er+Vn*qr,D[3]=bn*Ie+Mn*Et+Fn*xr+Vn*Sn,bn=j[4],Mn=j[5],Fn=j[6],Vn=j[7],D[4]=bn*le+Mn*$e+Fn*Yt+Vn*Ur,D[5]=bn*ye+Mn*ht+Fn*lr+Vn*nn,D[6]=bn*Ce+Mn*wt+Fn*er+Vn*qr,D[7]=bn*Ie+Mn*Et+Fn*xr+Vn*Sn,bn=j[8],Mn=j[9],Fn=j[10],Vn=j[11],D[8]=bn*le+Mn*$e+Fn*Yt+Vn*Ur,D[9]=bn*ye+Mn*ht+Fn*lr+Vn*nn,D[10]=bn*Ce+Mn*wt+Fn*er+Vn*qr,D[11]=bn*Ie+Mn*Et+Fn*xr+Vn*Sn,bn=j[12],Mn=j[13],Fn=j[14],Vn=j[15],D[12]=bn*le+Mn*$e+Fn*Yt+Vn*Ur,D[13]=bn*ye+Mn*ht+Fn*lr+Vn*nn,D[14]=bn*Ce+Mn*wt+Fn*er+Vn*qr,D[15]=bn*Ie+Mn*Et+Fn*xr+Vn*Sn,D}function Zi(D,I,j){var le=j[0],ye=j[1],Ce=j[2],Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr;return I===D?(D[12]=I[0]*le+I[4]*ye+I[8]*Ce+I[12],D[13]=I[1]*le+I[5]*ye+I[9]*Ce+I[13],D[14]=I[2]*le+I[6]*ye+I[10]*Ce+I[14],D[15]=I[3]*le+I[7]*ye+I[11]*Ce+I[15]):(Ie=I[0],$e=I[1],ht=I[2],wt=I[3],Et=I[4],Yt=I[5],lr=I[6],er=I[7],xr=I[8],Ur=I[9],nn=I[10],qr=I[11],D[0]=Ie,D[1]=$e,D[2]=ht,D[3]=wt,D[4]=Et,D[5]=Yt,D[6]=lr,D[7]=er,D[8]=xr,D[9]=Ur,D[10]=nn,D[11]=qr,D[12]=Ie*le+Et*ye+xr*Ce+I[12],D[13]=$e*le+Yt*ye+Ur*Ce+I[13],D[14]=ht*le+lr*ye+nn*Ce+I[14],D[15]=wt*le+er*ye+qr*Ce+I[15]),D}function ws(D,I,j){var le=j[0],ye=j[1],Ce=j[2];return D[0]=I[0]*le,D[1]=I[1]*le,D[2]=I[2]*le,D[3]=I[3]*le,D[4]=I[4]*ye,D[5]=I[5]*ye,D[6]=I[6]*ye,D[7]=I[7]*ye,D[8]=I[8]*Ce,D[9]=I[9]*Ce,D[10]=I[10]*Ce,D[11]=I[11]*Ce,D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function Ts(D,I,j){var le=Math.sin(j),ye=Math.cos(j),Ce=I[4],Ie=I[5],$e=I[6],ht=I[7],wt=I[8],Et=I[9],Yt=I[10],lr=I[11];return I!==D&&(D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[4]=Ce*ye+wt*le,D[5]=Ie*ye+Et*le,D[6]=$e*ye+Yt*le,D[7]=ht*ye+lr*le,D[8]=wt*ye-Ce*le,D[9]=Et*ye-Ie*le,D[10]=Yt*ye-$e*le,D[11]=lr*ye-ht*le,D}function nv(D,I,j){var le=Math.sin(j),ye=Math.cos(j),Ce=I[0],Ie=I[1],$e=I[2],ht=I[3],wt=I[4],Et=I[5],Yt=I[6],lr=I[7];return I!==D&&(D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[0]=Ce*ye+wt*le,D[1]=Ie*ye+Et*le,D[2]=$e*ye+Yt*le,D[3]=ht*ye+lr*le,D[4]=wt*ye-Ce*le,D[5]=Et*ye-Ie*le,D[6]=Yt*ye-$e*le,D[7]=lr*ye-ht*le,D}function ud(D,I,j,le,ye){var Ce=1/Math.tan(I/2),Ie;return D[0]=Ce/j,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Ce,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,ye!=null&&ye!==1/0?(Ie=1/(le-ye),D[10]=(ye+le)*Ie,D[14]=2*ye*le*Ie):(D[10]=-1,D[14]=-2*le),D}function Yg(D,I,j,le,ye,Ce,Ie){var $e=1/(I-j),ht=1/(le-ye),wt=1/(Ce-Ie);return D[0]=-2*$e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*ht,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*wt,D[11]=0,D[12]=(I+j)*$e,D[13]=(ye+le)*ht,D[14]=(Ie+Ce)*wt,D[15]=1,D}var jg=Sc;function Lh(){var D=new Do(3);return Do!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function Zg(D){var I=new Do(3);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function av(D,I,j){return D[0]=I[0]+j[0],D[1]=I[1]+j[1],D[2]=I[2]+j[2],D}function Xg(D,I,j){return D[0]=I[0]-j[0],D[1]=I[1]-j[1],D[2]=I[2]-j[2],D}function Kg(D,I,j){return D[0]=I[0]*j,D[1]=I[1]*j,D[2]=I[2]*j,D}function fd(D,I){var j=I[0],le=I[1],ye=I[2],Ce=j*j+le*le+ye*ye;return Ce>0&&(Ce=1/Math.sqrt(Ce)),D[0]=I[0]*Ce,D[1]=I[1]*Ce,D[2]=I[2]*Ce,D}function XA(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]}function KA(D,I,j){var le=I[0],ye=I[1],Ce=I[2],Ie=j[0],$e=j[1],ht=j[2];return D[0]=ye*ht-Ce*$e,D[1]=Ce*Ie-le*ht,D[2]=le*$e-ye*Ie,D}function JA(D,I,j){var le=I[0],ye=I[1],Ce=I[2];return D[0]=le*j[0]+ye*j[3]+Ce*j[6],D[1]=le*j[1]+ye*j[4]+Ce*j[7],D[2]=le*j[2]+ye*j[5]+Ce*j[8],D}var QA=Xg;(function(){var D=Lh();return function(I,j,le,ye,Ce,Ie){var $e,ht;for(j||(j=3),le||(le=0),ye?ht=Math.min(ye*j+le,I.length):ht=I.length,$e=le;$e<ht;$e+=j)D[0]=I[$e],D[1]=I[$e+1],D[2]=I[$e+2],Ce(D,D,Ie),I[$e]=D[0],I[$e+1]=D[1],I[$e+2]=D[2];return I}})();function $A(){var D=new Do(4);return Do!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function qA(D,I,j){return D[0]=I[0]*j,D[1]=I[1]*j,D[2]=I[2]*j,D[3]=I[3]*j,D}function e4(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3]}function D0(D,I,j){var le=I[0],ye=I[1],Ce=I[2],Ie=I[3];return D[0]=j[0]*le+j[4]*ye+j[8]*Ce+j[12]*Ie,D[1]=j[1]*le+j[5]*ye+j[9]*Ce+j[13]*Ie,D[2]=j[2]*le+j[6]*ye+j[10]*Ce+j[14]*Ie,D[3]=j[3]*le+j[7]*ye+j[11]*Ce+j[15]*Ie,D}(function(){var D=$A();return function(I,j,le,ye,Ce,Ie){var $e,ht;for(j||(j=4),le||(le=0),ye?ht=Math.min(ye*j+le,I.length):ht=I.length,$e=le;$e<ht;$e+=j)D[0]=I[$e],D[1]=I[$e+1],D[2]=I[$e+2],D[3]=I[$e+3],Ce(D,D,Ie),I[$e]=D[0],I[$e+1]=D[1],I[$e+2]=D[2],I[$e+3]=D[3];return I}})();function t4(){var D=new Do(2);return Do!=Float32Array&&(D[0]=0,D[1]=0),D}function r4(D){var I=D[0],j=D[1];return I*I+j*j}var n4=r4;(function(){var D=t4();return function(I,j,le,ye,Ce,Ie){var $e,ht;for(j||(j=2),le||(le=0),ye?ht=Math.min(ye*j+le,I.length):ht=I.length,$e=le;$e<ht;$e+=j)D[0]=I[$e],D[1]=I[$e+1],Ce(D,D,Ie),I[$e]=D[0],I[$e+1]=D[1];return I}})();var a4=function(D){function I(j){D.call(this,j,Of)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(le){return new Ai(le)},I.prototype.queryRadius=function(le){var ye=le;return Ns("circle-radius",this,ye)+Ns("circle-stroke-width",this,ye)+Zl(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(le,ye,Ce,Ie,$e,ht,wt,Et){for(var Yt=Al(le,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ht.angle,wt),lr=this.paint.get("circle-radius").evaluate(ye,Ce),er=this.paint.get("circle-stroke-width").evaluate(ye,Ce),xr=lr+er,Ur=this.paint.get("circle-pitch-alignment")==="map",nn=Ur?Yt:i4(Yt,Et),qr=Ur?xr*wt:xr,Sn=0,bn=Ie;Sn<bn.length;Sn+=1)for(var Mn=bn[Sn],Fn=0,Vn=Mn;Fn<Vn.length;Fn+=1){var qn=Vn[Fn],$n=Ur?qn:Ux(qn,Et),Ca=qr,da=D0([],[qn.x,qn.y,0,1],Et);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ca*=da[3]/ht.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ca*=ht.cameraToCenterDistance/da[3]),qa(nn,$n,Ca))return!0}return!1},I}(Li);function Ux(D,I){var j=D0([],[D.x,D.y,0,1],I);return new t(j[0]/j[3],j[1]/j[3])}function i4(D,I){return D.map(function(j){return Ux(j,I)})}var Hx=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ai);he("HeatmapBucket",Hx,{omit:["layers"]});function Jg(D,I,j,le){var ye=I.width,Ce=I.height;if(!le)le=new Uint8Array(ye*Ce*j);else if(le instanceof Uint8ClampedArray)le=new Uint8Array(le.buffer);else if(le.length!==ye*Ce*j)throw new RangeError("mismatched image size");return D.width=ye,D.height=Ce,D.data=le,D}function Vx(D,I,j){var le=I.width,ye=I.height;if(!(le===D.width&&ye===D.height)){var Ce=Jg({},{width:le,height:ye},j);Qg(D,Ce,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,le),height:Math.min(D.height,ye)},j),D.width=le,D.height=ye,D.data=Ce.data}}function Qg(D,I,j,le,ye,Ce){if(ye.width===0||ye.height===0)return I;if(ye.width>D.width||ye.height>D.height||j.x>D.width-ye.width||j.y>D.height-ye.height)throw new RangeError("out of range source coordinates for image copy");if(ye.width>I.width||ye.height>I.height||le.x>I.width-ye.width||le.y>I.height-ye.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ie=D.data,$e=I.data,ht=0;ht<ye.height;ht++)for(var wt=((j.y+ht)*D.width+j.x)*Ce,Et=((le.y+ht)*I.width+le.x)*Ce,Yt=0;Yt<ye.width*Ce;Yt++)$e[Et+Yt]=Ie[wt+Yt];return I}var Ph=function(I,j){Jg(this,I,1,j)};Ph.prototype.resize=function(I){Vx(this,I,1)},Ph.prototype.clone=function(){return new Ph({width:this.width,height:this.height},new Uint8Array(this.data))},Ph.copy=function(I,j,le,ye,Ce){Qg(I,j,le,ye,Ce,1)};var As=function(I,j){Jg(this,I,4,j)};As.prototype.resize=function(I){Vx(this,I,4)},As.prototype.replace=function(I,j){j?this.data.set(I):I instanceof Uint8ClampedArray?this.data=new Uint8Array(I.buffer):this.data=I},As.prototype.clone=function(){return new As({width:this.width,height:this.height},new Uint8Array(this.data))},As.copy=function(I,j,le,ye,Ce){Qg(I,j,le,ye,Ce,4)},he("AlphaImage",Ph),he("RGBAImage",As);var o4=new eo({"heatmap-radius":new Ea(Xt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ea(Xt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new xa(Xt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Bo(Xt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new xa(Xt.paint_heatmap["heatmap-opacity"])}),s4={paint:o4};function Gx(D,I){for(var j=new Uint8Array(1024),le={},ye=0,Ce=0;ye<256;ye++,Ce+=4){le[I]=ye/255;var Ie=D.evaluate(le);j[Ce+0]=Math.floor(Ie.r*255/Ie.a),j[Ce+1]=Math.floor(Ie.g*255/Ie.a),j[Ce+2]=Math.floor(Ie.b*255/Ie.a),j[Ce+3]=Math.floor(Ie.a*255)}return new As({width:256,height:1},j)}var l4=function(D){function I(j){D.call(this,j,s4),this._updateColorRamp()}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(le){return new Hx(le)},I.prototype._handleSpecialPaintPropertyUpdate=function(le){le==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var le=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Gx(le,"heatmapDensity"),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(Li),u4=new eo({"hillshade-illumination-direction":new xa(Xt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new xa(Xt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new xa(Xt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new xa(Xt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new xa(Xt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new xa(Xt.paint_hillshade["hillshade-accent-color"])}),f4={paint:u4},c4=function(D){function I(j){D.call(this,j,f4)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(Li),h4=Ti([{name:"a_pos",components:2,type:"Int16"}],4),Wx=h4.members,$g=I0,v4=I0;function I0(D,I,j){j=j||2;var le=I&&I.length,ye=le?I[0]*j:D.length,Ce=Yx(D,0,ye,j,!0),Ie=[];if(!Ce||Ce.next===Ce.prev)return Ie;var $e,ht,wt,Et,Yt,lr,er;if(le&&(Ce=m4(D,I,Ce,j)),D.length>80*j){$e=wt=D[0],ht=Et=D[1];for(var xr=j;xr<ye;xr+=j)Yt=D[xr],lr=D[xr+1],Yt<$e&&($e=Yt),lr<ht&&(ht=lr),Yt>wt&&(wt=Yt),lr>Et&&(Et=lr);er=Math.max(wt-$e,Et-ht),er=er!==0?1/er:0}return cd(Ce,Ie,j,$e,ht,er),Ie}function Yx(D,I,j,le,ye){var Ce,Ie;if(ye===ty(D,I,j,le)>0)for(Ce=I;Ce<j;Ce+=le)Ie=Xx(Ce,D[Ce],D[Ce+1],Ie);else for(Ce=j-le;Ce>=I;Ce-=le)Ie=Xx(Ce,D[Ce],D[Ce+1],Ie);return Ie&&k0(Ie,Ie.next)&&(vd(Ie),Ie=Ie.next),Ie}function Ec(D,I){if(!D)return D;I||(I=D);var j=D,le;do if(le=!1,!j.steiner&&(k0(j,j.next)||oo(j.prev,j,j.next)===0)){if(vd(j),j=I=j.prev,j===j.next)break;le=!0}else j=j.next;while(le||j!==I);return I}function cd(D,I,j,le,ye,Ce,Ie){if(D){!Ie&&Ce&&A4(D,le,ye,Ce);for(var $e=D,ht,wt;D.prev!==D.next;){if(ht=D.prev,wt=D.next,Ce?p4(D,le,ye,Ce):d4(D)){I.push(ht.i/j),I.push(D.i/j),I.push(wt.i/j),vd(D),D=wt.next,$e=wt.next;continue}if(D=wt,D===$e){Ie?Ie===1?(D=g4(Ec(D),I,j),cd(D,I,j,le,ye,Ce,2)):Ie===2&&y4(D,I,j,le,ye,Ce):cd(Ec(D),I,j,le,ye,Ce,1);break}}}}function d4(D){var I=D.prev,j=D,le=D.next;if(oo(I,j,le)>=0)return!1;for(var ye=D.next.next;ye!==D.prev;){if(iv(I.x,I.y,j.x,j.y,le.x,le.y,ye.x,ye.y)&&oo(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function p4(D,I,j,le){var ye=D.prev,Ce=D,Ie=D.next;if(oo(ye,Ce,Ie)>=0)return!1;for(var $e=ye.x<Ce.x?ye.x<Ie.x?ye.x:Ie.x:Ce.x<Ie.x?Ce.x:Ie.x,ht=ye.y<Ce.y?ye.y<Ie.y?ye.y:Ie.y:Ce.y<Ie.y?Ce.y:Ie.y,wt=ye.x>Ce.x?ye.x>Ie.x?ye.x:Ie.x:Ce.x>Ie.x?Ce.x:Ie.x,Et=ye.y>Ce.y?ye.y>Ie.y?ye.y:Ie.y:Ce.y>Ie.y?Ce.y:Ie.y,Yt=qg($e,ht,I,j,le),lr=qg(wt,Et,I,j,le),er=D.prevZ,xr=D.nextZ;er&&er.z>=Yt&&xr&&xr.z<=lr;){if(er!==D.prev&&er!==D.next&&iv(ye.x,ye.y,Ce.x,Ce.y,Ie.x,Ie.y,er.x,er.y)&&oo(er.prev,er,er.next)>=0||(er=er.prevZ,xr!==D.prev&&xr!==D.next&&iv(ye.x,ye.y,Ce.x,Ce.y,Ie.x,Ie.y,xr.x,xr.y)&&oo(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;er&&er.z>=Yt;){if(er!==D.prev&&er!==D.next&&iv(ye.x,ye.y,Ce.x,Ce.y,Ie.x,Ie.y,er.x,er.y)&&oo(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;xr&&xr.z<=lr;){if(xr!==D.prev&&xr!==D.next&&iv(ye.x,ye.y,Ce.x,Ce.y,Ie.x,Ie.y,xr.x,xr.y)&&oo(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function g4(D,I,j){var le=D;do{var ye=le.prev,Ce=le.next.next;!k0(ye,Ce)&&jx(ye,le,le.next,Ce)&&hd(ye,Ce)&&hd(Ce,ye)&&(I.push(ye.i/j),I.push(le.i/j),I.push(Ce.i/j),vd(le),vd(le.next),le=D=Ce),le=le.next}while(le!==D);return Ec(le)}function y4(D,I,j,le,ye,Ce){var Ie=D;do{for(var $e=Ie.next.next;$e!==Ie.prev;){if(Ie.i!==$e.i&&E4(Ie,$e)){var ht=Zx(Ie,$e);Ie=Ec(Ie,Ie.next),ht=Ec(ht,ht.next),cd(Ie,I,j,le,ye,Ce),cd(ht,I,j,le,ye,Ce);return}$e=$e.next}Ie=Ie.next}while(Ie!==D)}function m4(D,I,j,le){var ye=[],Ce,Ie,$e,ht,wt;for(Ce=0,Ie=I.length;Ce<Ie;Ce++)$e=I[Ce]*le,ht=Ce<Ie-1?I[Ce+1]*le:D.length,wt=Yx(D,$e,ht,le,!1),wt===wt.next&&(wt.steiner=!0),ye.push(S4(wt));for(ye.sort(x4),Ce=0;Ce<ye.length;Ce++)b4(ye[Ce],j),j=Ec(j,j.next);return j}function x4(D,I){return D.x-I.x}function b4(D,I){if(I=w4(D,I),I){var j=Zx(I,D);Ec(I,I.next),Ec(j,j.next)}}function w4(D,I){var j=I,le=D.x,ye=D.y,Ce=-1/0,Ie;do{if(ye<=j.y&&ye>=j.next.y&&j.next.y!==j.y){var $e=j.x+(ye-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if($e<=le&&$e>Ce){if(Ce=$e,$e===le){if(ye===j.y)return j;if(ye===j.next.y)return j.next}Ie=j.x<j.next.x?j:j.next}}j=j.next}while(j!==I);if(!Ie)return null;if(le===Ce)return Ie;var ht=Ie,wt=Ie.x,Et=Ie.y,Yt=1/0,lr;j=Ie;do le>=j.x&&j.x>=wt&&le!==j.x&&iv(ye<Et?le:Ce,ye,wt,Et,ye<Et?Ce:le,ye,j.x,j.y)&&(lr=Math.abs(ye-j.y)/(le-j.x),hd(j,D)&&(lr<Yt||lr===Yt&&(j.x>Ie.x||j.x===Ie.x&&T4(Ie,j)))&&(Ie=j,Yt=lr)),j=j.next;while(j!==ht);return Ie}function T4(D,I){return oo(D.prev,D,I.prev)<0&&oo(I.next,D,D.next)<0}function A4(D,I,j,le){var ye=D;do ye.z===null&&(ye.z=qg(ye.x,ye.y,I,j,le)),ye.prevZ=ye.prev,ye.nextZ=ye.next,ye=ye.next;while(ye!==D);ye.prevZ.nextZ=null,ye.prevZ=null,M4(ye)}function M4(D){var I,j,le,ye,Ce,Ie,$e,ht,wt=1;do{for(j=D,D=null,Ce=null,Ie=0;j;){for(Ie++,le=j,$e=0,I=0;I<wt&&($e++,le=le.nextZ,!!le);I++);for(ht=wt;$e>0||ht>0&&le;)$e!==0&&(ht===0||!le||j.z<=le.z)?(ye=j,j=j.nextZ,$e--):(ye=le,le=le.nextZ,ht--),Ce?Ce.nextZ=ye:D=ye,ye.prevZ=Ce,Ce=ye;j=le}Ce.nextZ=null,wt*=2}while(Ie>1);return D}function qg(D,I,j,le,ye){return D=32767*(D-j)*ye,I=32767*(I-le)*ye,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D|I<<1}function S4(D){var I=D,j=D;do(I.x<j.x||I.x===j.x&&I.y<j.y)&&(j=I),I=I.next;while(I!==D);return j}function iv(D,I,j,le,ye,Ce,Ie,$e){return(ye-Ie)*(I-$e)-(D-Ie)*(Ce-$e)>=0&&(D-Ie)*(le-$e)-(j-Ie)*(I-$e)>=0&&(j-Ie)*(Ce-$e)-(ye-Ie)*(le-$e)>=0}function E4(D,I){return D.next.i!==I.i&&D.prev.i!==I.i&&!C4(D,I)&&(hd(D,I)&&hd(I,D)&&L4(D,I)&&(oo(D.prev,D,I.prev)||oo(D,I.prev,I))||k0(D,I)&&oo(D.prev,D,D.next)>0&&oo(I.prev,I,I.next)>0)}function oo(D,I,j){return(I.y-D.y)*(j.x-I.x)-(I.x-D.x)*(j.y-I.y)}function k0(D,I){return D.x===I.x&&D.y===I.y}function jx(D,I,j,le){var ye=_0(oo(D,I,j)),Ce=_0(oo(D,I,le)),Ie=_0(oo(j,le,D)),$e=_0(oo(j,le,I));return!!(ye!==Ce&&Ie!==$e||ye===0&&F0(D,j,I)||Ce===0&&F0(D,le,I)||Ie===0&&F0(j,D,le)||$e===0&&F0(j,I,le))}function F0(D,I,j){return I.x<=Math.max(D.x,j.x)&&I.x>=Math.min(D.x,j.x)&&I.y<=Math.max(D.y,j.y)&&I.y>=Math.min(D.y,j.y)}function _0(D){return D>0?1:D<0?-1:0}function C4(D,I){var j=D;do{if(j.i!==D.i&&j.next.i!==D.i&&j.i!==I.i&&j.next.i!==I.i&&jx(j,j.next,D,I))return!0;j=j.next}while(j!==D);return!1}function hd(D,I){return oo(D.prev,D,D.next)<0?oo(D,I,D.next)>=0&&oo(D,D.prev,I)>=0:oo(D,I,D.prev)<0||oo(D,D.next,I)<0}function L4(D,I){var j=D,le=!1,ye=(D.x+I.x)/2,Ce=(D.y+I.y)/2;do j.y>Ce!=j.next.y>Ce&&j.next.y!==j.y&&ye<(j.next.x-j.x)*(Ce-j.y)/(j.next.y-j.y)+j.x&&(le=!le),j=j.next;while(j!==D);return le}function Zx(D,I){var j=new ey(D.i,D.x,D.y),le=new ey(I.i,I.x,I.y),ye=D.next,Ce=I.prev;return D.next=I,I.prev=D,j.next=ye,ye.prev=j,le.next=j,j.prev=le,Ce.next=le,le.prev=Ce,le}function Xx(D,I,j,le){var ye=new ey(D,I,j);return le?(ye.next=le.next,ye.prev=le,le.next.prev=ye,le.next=ye):(ye.prev=ye,ye.next=ye),ye}function vd(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function ey(D,I,j){this.i=D,this.x=I,this.y=j,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}I0.deviation=function(D,I,j,le){var ye=I&&I.length,Ce=ye?I[0]*j:D.length,Ie=Math.abs(ty(D,0,Ce,j));if(ye)for(var $e=0,ht=I.length;$e<ht;$e++){var wt=I[$e]*j,Et=$e<ht-1?I[$e+1]*j:D.length;Ie-=Math.abs(ty(D,wt,Et,j))}var Yt=0;for($e=0;$e<le.length;$e+=3){var lr=le[$e]*j,er=le[$e+1]*j,xr=le[$e+2]*j;Yt+=Math.abs((D[lr]-D[xr])*(D[er+1]-D[lr+1])-(D[lr]-D[er])*(D[xr+1]-D[lr+1]))}return Ie===0&&Yt===0?0:Math.abs((Yt-Ie)/Ie)};function ty(D,I,j,le){for(var ye=0,Ce=I,Ie=j-le;Ce<j;Ce+=le)ye+=(D[Ie]-D[Ce])*(D[Ce+1]+D[Ie+1]),Ie=Ce;return ye}I0.flatten=function(D){for(var I=D[0][0].length,j={vertices:[],holes:[],dimensions:I},le=0,ye=0;ye<D.length;ye++){for(var Ce=0;Ce<D[ye].length;Ce++)for(var Ie=0;Ie<I;Ie++)j.vertices.push(D[ye][Ce][Ie]);ye>0&&(le+=D[ye-1].length,j.holes.push(le))}return j},$g.default=v4;function P4(D,I,j,le,ye){Kx(D,I,j||0,le||D.length-1,ye||R4)}function Kx(D,I,j,le,ye){for(;le>j;){if(le-j>600){var Ce=le-j+1,Ie=I-j+1,$e=Math.log(Ce),ht=.5*Math.exp(2*$e/3),wt=.5*Math.sqrt($e*ht*(Ce-ht)/Ce)*(Ie-Ce/2<0?-1:1),Et=Math.max(j,Math.floor(I-Ie*ht/Ce+wt)),Yt=Math.min(le,Math.floor(I+(Ce-Ie)*ht/Ce+wt));Kx(D,I,Et,Yt,ye)}var lr=D[I],er=j,xr=le;for(dd(D,j,I),ye(D[le],lr)>0&&dd(D,j,le);er<xr;){for(dd(D,er,xr),er++,xr--;ye(D[er],lr)<0;)er++;for(;ye(D[xr],lr)>0;)xr--}ye(D[j],lr)===0?dd(D,j,xr):(xr++,dd(D,xr,le)),xr<=I&&(j=xr+1),I<=xr&&(le=xr-1)}}function dd(D,I,j){var le=D[I];D[I]=D[j],D[j]=le}function R4(D,I){return D<I?-1:D>I?1:0}function ry(D,I){var j=D.length;if(j<=1)return[D];for(var le=[],ye,Ce,Ie=0;Ie<j;Ie++){var $e=B(D[Ie]);$e!==0&&(D[Ie].area=Math.abs($e),Ce===void 0&&(Ce=$e<0),Ce===$e<0?(ye&&le.push(ye),ye=[D[Ie]]):ye.push(D[Ie]))}if(ye&&le.push(ye),I>1)for(var ht=0;ht<le.length;ht++)le[ht].length<=I||(P4(le[ht],I,1,le[ht].length-1,D4),le[ht]=le[ht].slice(0,I));return le}function D4(D,I){return I.area-D.area}function ny(D,I,j){for(var le=j.patternDependencies,ye=!1,Ce=0,Ie=I;Ce<Ie.length;Ce+=1){var $e=Ie[Ce],ht=$e.paint.get(D+"-pattern");ht.isConstant()||(ye=!0);var wt=ht.constantOr(null);wt&&(ye=!0,le[wt.to]=!0,le[wt.from]=!0)}return ye}function ay(D,I,j,le,ye){for(var Ce=ye.patternDependencies,Ie=0,$e=I;Ie<$e.length;Ie+=1){var ht=$e[Ie],wt=ht.paint.get(D+"-pattern"),Et=wt.value;if(Et.kind!=="constant"){var Yt=Et.evaluate({zoom:le-1},j,{},ye.availableImages),lr=Et.evaluate({zoom:le},j,{},ye.availableImages),er=Et.evaluate({zoom:le+1},j,{},ye.availableImages);Yt=Yt&&Yt.name?Yt.name:Yt,lr=lr&&lr.name?lr.name:lr,er=er&&er.name?er.name:er,Ce[Yt]=!0,Ce[lr]=!0,Ce[er]=!0,j.patterns[ht.id]={min:Yt,mid:lr,max:er}}}return j}var I4=500,Au=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Th,this.indexArray=new wu,this.indexArray2=new Sh,this.programConfigurations=new Ga(Wx,I.layers,I.zoom),this.segments=new $,this.segments2=new $,this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};Au.prototype.populate=function(I,j,le){this.hasPattern=ny("fill",this.layers,j);for(var ye=this.layers[0].layout.get("fill-sort-key"),Ce=[],Ie=0,$e=I;Ie<$e.length;Ie+=1){var ht=$e[Ie],wt=ht.feature,Et=ht.id,Yt=ht.index,lr=ht.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr={type:wt.type,id:Et,properties:wt.properties,geometry:er?vi(wt):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),xr,le)){er||(xr.geometry=vi(wt));var Ur=ye?ye.evaluate(xr,{},le,j.availableImages):void 0,nn={id:Et,properties:wt.properties,type:wt.type,sourceLayerIndex:lr,index:Yt,geometry:xr.geometry,patterns:{},sortKey:Ur};Ce.push(nn)}}ye&&Ce.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var qr=0,Sn=Ce;qr<Sn.length;qr+=1){var bn=Sn[qr],Mn=bn,Fn=Mn.geometry,Vn=Mn.index,qn=Mn.sourceLayerIndex;if(this.hasPattern){var $n=ay("fill",this.layers,bn,this.zoom,j);this.patternFeatures.push($n)}else this.addFeature(bn,Fn,Vn,le,{});var Ca=I[Vn].feature;j.featureIndex.insert(Ca,Fn,Vn,qn,this.index)}},Au.prototype.update=function(I,j,le){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,j,this.stateDependentLayers,le)},Au.prototype.addFeatures=function(I,j,le){for(var ye=0,Ce=this.patternFeatures;ye<Ce.length;ye+=1){var Ie=Ce[ye];this.addFeature(Ie,Ie.geometry,Ie.index,j,le)}},Au.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Au.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Au.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Wx),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},Au.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Au.prototype.addFeature=function(I,j,le,ye,Ce){for(var Ie=0,$e=ry(j,I4);Ie<$e.length;Ie+=1){for(var ht=$e[Ie],wt=0,Et=0,Yt=ht;Et<Yt.length;Et+=1){var lr=Yt[Et];wt+=lr.length}for(var er=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray),xr=er.vertexLength,Ur=[],nn=[],qr=0,Sn=ht;qr<Sn.length;qr+=1){var bn=Sn[qr];if(bn.length!==0){bn!==ht[0]&&nn.push(Ur.length/2);var Mn=this.segments2.prepareSegment(bn.length,this.layoutVertexArray,this.indexArray2),Fn=Mn.vertexLength;this.layoutVertexArray.emplaceBack(bn[0].x,bn[0].y),this.indexArray2.emplaceBack(Fn+bn.length-1,Fn),Ur.push(bn[0].x),Ur.push(bn[0].y);for(var Vn=1;Vn<bn.length;Vn++)this.layoutVertexArray.emplaceBack(bn[Vn].x,bn[Vn].y),this.indexArray2.emplaceBack(Fn+Vn-1,Fn+Vn),Ur.push(bn[Vn].x),Ur.push(bn[Vn].y);Mn.vertexLength+=bn.length,Mn.primitiveLength+=bn.length}}for(var qn=$g(Ur,nn),$n=0;$n<qn.length;$n+=3)this.indexArray.emplaceBack(xr+qn[$n],xr+qn[$n+1],xr+qn[$n+2]);er.vertexLength+=wt,er.primitiveLength+=qn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,le,Ce,ye)},he("FillBucket",Au,{omit:["layers","patternFeatures"]});var k4=new eo({"fill-sort-key":new Ea(Xt.layout_fill["fill-sort-key"])}),F4=new eo({"fill-antialias":new xa(Xt.paint_fill["fill-antialias"]),"fill-opacity":new Ea(Xt.paint_fill["fill-opacity"]),"fill-color":new Ea(Xt.paint_fill["fill-color"]),"fill-outline-color":new Ea(Xt.paint_fill["fill-outline-color"]),"fill-translate":new xa(Xt.paint_fill["fill-translate"]),"fill-translate-anchor":new xa(Xt.paint_fill["fill-translate-anchor"]),"fill-pattern":new wi(Xt.paint_fill["fill-pattern"])}),_4={paint:F4,layout:k4},z4=function(D){function I(j){D.call(this,j,_4)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(le,ye){D.prototype.recalculate.call(this,le,ye);var Ce=this.paint._values["fill-outline-color"];Ce.value.kind==="constant"&&Ce.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(le){return new Au(le)},I.prototype.queryRadius=function(){return Zl(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(le,ye,Ce,Ie,$e,ht,wt){var Et=Al(le,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ht.angle,wt);return Gi(Et,Ie)},I.prototype.isTileClipped=function(){return!0},I}(Li),O4=Ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Jx=O4.members,Qx=ov;function ov(D,I,j,le,ye){this.properties={},this.extent=j,this.type=0,this._pbf=D,this._geometry=-1,this._keys=le,this._values=ye,D.readFields(B4,this,I)}function B4(D,I,j){D==1?I.id=j.readVarint():D==2?N4(j,I):D==3?I.type=j.readVarint():D==4&&(I._geometry=j.pos)}function N4(D,I){for(var j=D.readVarint()+D.pos;D.pos<j;){var le=I._keys[D.readVarint()],ye=I._values[D.readVarint()];I.properties[le]=ye}}ov.types=["Unknown","Point","LineString","Polygon"],ov.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,j=1,le=0,ye=0,Ce=0,Ie=[],$e;D.pos<I;){if(le<=0){var ht=D.readVarint();j=ht&7,le=ht>>3}if(le--,j===1||j===2)ye+=D.readSVarint(),Ce+=D.readSVarint(),j===1&&($e&&Ie.push($e),$e=[]),$e.push(new t(ye,Ce));else if(j===7)$e&&$e.push($e[0].clone());else throw new Error("unknown command "+j)}return $e&&Ie.push($e),Ie},ov.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,j=1,le=0,ye=0,Ce=0,Ie=1/0,$e=-1/0,ht=1/0,wt=-1/0;D.pos<I;){if(le<=0){var Et=D.readVarint();j=Et&7,le=Et>>3}if(le--,j===1||j===2)ye+=D.readSVarint(),Ce+=D.readSVarint(),ye<Ie&&(Ie=ye),ye>$e&&($e=ye),Ce<ht&&(ht=Ce),Ce>wt&&(wt=Ce);else if(j!==7)throw new Error("unknown command "+j)}return[Ie,ht,$e,wt]},ov.prototype.toGeoJSON=function(D,I,j){var le=this.extent*Math.pow(2,j),ye=this.extent*D,Ce=this.extent*I,Ie=this.loadGeometry(),$e=ov.types[this.type],ht,wt;function Et(er){for(var xr=0;xr<er.length;xr++){var Ur=er[xr],nn=180-(Ur.y+Ce)*360/le;er[xr]=[(Ur.x+ye)*360/le-180,360/Math.PI*Math.atan(Math.exp(nn*Math.PI/180))-90]}}switch(this.type){case 1:var Yt=[];for(ht=0;ht<Ie.length;ht++)Yt[ht]=Ie[ht][0];Ie=Yt,Et(Ie);break;case 2:for(ht=0;ht<Ie.length;ht++)Et(Ie[ht]);break;case 3:for(Ie=U4(Ie),ht=0;ht<Ie.length;ht++)for(wt=0;wt<Ie[ht].length;wt++)Et(Ie[ht][wt]);break}Ie.length===1?Ie=Ie[0]:$e="Multi"+$e;var lr={type:"Feature",geometry:{type:$e,coordinates:Ie},properties:this.properties};return"id"in this&&(lr.id=this.id),lr};function U4(D){var I=D.length;if(I<=1)return[D];for(var j=[],le,ye,Ce=0;Ce<I;Ce++){var Ie=H4(D[Ce]);Ie!==0&&(ye===void 0&&(ye=Ie<0),ye===Ie<0?(le&&j.push(le),le=[D[Ce]]):le.push(D[Ce]))}return le&&j.push(le),j}function H4(D){for(var I=0,j=0,le=D.length,ye=le-1,Ce,Ie;j<le;ye=j++)Ce=D[j],Ie=D[ye],I+=(Ie.x-Ce.x)*(Ce.y+Ie.y);return I}var $x=qx;function qx(D,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(V4,this,I),this.length=this._features.length}function V4(D,I,j){D===15?I.version=j.readVarint():D===1?I.name=j.readString():D===5?I.extent=j.readVarint():D===2?I._features.push(j.pos):D===3?I._keys.push(j.readString()):D===4&&I._values.push(G4(j))}function G4(D){for(var I=null,j=D.readVarint()+D.pos;D.pos<j;){var le=D.readVarint()>>3;I=le===1?D.readString():le===2?D.readFloat():le===3?D.readDouble():le===4?D.readVarint64():le===5?D.readVarint():le===6?D.readSVarint():le===7?D.readBoolean():null}return I}qx.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var I=this._pbf.readVarint()+this._pbf.pos;return new Qx(this._pbf,I,this.extent,this._keys,this._values)};var W4=Y4;function Y4(D,I){this.layers=D.readFields(j4,{},I)}function j4(D,I,j){if(D===3){var le=new $x(j,j.readVarint()+j.pos);le.length&&(I[le.name]=le)}}var Z4=W4,X4=Qx,K4=$x,sv={VectorTile:Z4,VectorTileFeature:X4,VectorTileLayer:K4},J4=sv.VectorTileFeature.types,Q4=500,iy=Math.pow(2,13);function pd(D,I,j,le,ye,Ce,Ie,$e){D.emplaceBack(I,j,Math.floor(le*iy)*2+Ie,ye*iy*2,Ce*iy*2,Math.round($e))}var Mu=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new bc,this.indexArray=new wu,this.programConfigurations=new Ga(Jx,I.layers,I.zoom),this.segments=new $,this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};Mu.prototype.populate=function(I,j,le){this.features=[],this.hasPattern=ny("fill-extrusion",this.layers,j);for(var ye=0,Ce=I;ye<Ce.length;ye+=1){var Ie=Ce[ye],$e=Ie.feature,ht=Ie.id,wt=Ie.index,Et=Ie.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,lr={type:$e.type,id:ht,properties:$e.properties,geometry:Yt?vi($e):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),lr,le)){var er={id:ht,sourceLayerIndex:Et,index:wt,geometry:Yt?lr.geometry:vi($e),properties:$e.properties,type:$e.type,patterns:{}};typeof $e.id<"u"&&(er.id=$e.id),this.hasPattern?this.features.push(ay("fill-extrusion",this.layers,er,this.zoom,j)):this.addFeature(er,er.geometry,wt,le,{}),j.featureIndex.insert($e,er.geometry,wt,Et,this.index,!0)}}},Mu.prototype.addFeatures=function(I,j,le){for(var ye=0,Ce=this.features;ye<Ce.length;ye+=1){var Ie=Ce[ye],$e=Ie.geometry;this.addFeature(Ie,$e,Ie.index,j,le)}},Mu.prototype.update=function(I,j,le){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,j,this.stateDependentLayers,le)},Mu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Mu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Mu.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Jx),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Mu.prototype.addFeature=function(I,j,le,ye,Ce){for(var Ie=0,$e=ry(j,Q4);Ie<$e.length;Ie+=1){for(var ht=$e[Ie],wt=0,Et=0,Yt=ht;Et<Yt.length;Et+=1){var lr=Yt[Et];wt+=lr.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Ur=ht;xr<Ur.length;xr+=1){var nn=Ur[xr];if(nn.length!==0&&!q4(nn))for(var qr=0,Sn=0;Sn<nn.length;Sn++){var bn=nn[Sn];if(Sn>=1){var Mn=nn[Sn-1];if(!$4(bn,Mn)){er.vertexLength+4>$.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Fn=bn.sub(Mn)._perp()._unit(),Vn=Mn.dist(bn);qr+Vn>32768&&(qr=0),pd(this.layoutVertexArray,bn.x,bn.y,Fn.x,Fn.y,0,0,qr),pd(this.layoutVertexArray,bn.x,bn.y,Fn.x,Fn.y,0,1,qr),qr+=Vn,pd(this.layoutVertexArray,Mn.x,Mn.y,Fn.x,Fn.y,0,0,qr),pd(this.layoutVertexArray,Mn.x,Mn.y,Fn.x,Fn.y,0,1,qr);var qn=er.vertexLength;this.indexArray.emplaceBack(qn,qn+2,qn+1),this.indexArray.emplaceBack(qn+1,qn+2,qn+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+wt>$.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray)),J4[I.type]==="Polygon"){for(var $n=[],Ca=[],da=er.vertexLength,ba=0,Ha=ht;ba<Ha.length;ba+=1){var Ma=Ha[ba];if(Ma.length!==0){Ma!==ht[0]&&Ca.push($n.length/2);for(var Sa=0;Sa<Ma.length;Sa++){var ja=Ma[Sa];pd(this.layoutVertexArray,ja.x,ja.y,0,0,1,1,0),$n.push(ja.x),$n.push(ja.y)}}}for(var Ba=$g($n,Ca),ni=0;ni<Ba.length;ni+=3)this.indexArray.emplaceBack(da+Ba[ni],da+Ba[ni+2],da+Ba[ni+1]);er.primitiveLength+=Ba.length/3,er.vertexLength+=wt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,le,Ce,ye)},he("FillExtrusionBucket",Mu,{omit:["layers","features"]});function $4(D,I){return D.x===I.x&&(D.x<0||D.x>Ra)||D.y===I.y&&(D.y<0||D.y>Ra)}function q4(D){return D.every(function(I){return I.x<0})||D.every(function(I){return I.x>Ra})||D.every(function(I){return I.y<0})||D.every(function(I){return I.y>Ra})}var eM=new eo({"fill-extrusion-opacity":new xa(Xt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ea(Xt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new xa(Xt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new xa(Xt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new wi(Xt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ea(Xt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ea(Xt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new xa(Xt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),tM={paint:eM},rM=function(D){function I(j){D.call(this,j,tM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(le){return new Mu(le)},I.prototype.queryRadius=function(){return Zl(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(le,ye,Ce,Ie,$e,ht,wt,Et){var Yt=Al(le,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ht.angle,wt),lr=this.paint.get("fill-extrusion-height").evaluate(ye,Ce),er=this.paint.get("fill-extrusion-base").evaluate(ye,Ce),xr=iM(Yt,Et,ht,0),Ur=aM(Ie,er,lr,Et),nn=Ur[0],qr=Ur[1];return nM(nn,qr,xr)},I}(Li);function gd(D,I){return D.x*I.x+D.y*I.y}function e2(D,I){if(D.length===1){for(var j=0,le=I[j++],ye;!ye||le.equals(ye);)if(ye=I[j++],!ye)return 1/0;for(;j<I.length;j++){var Ce=I[j],Ie=D[0],$e=ye.sub(le),ht=Ce.sub(le),wt=Ie.sub(le),Et=gd($e,$e),Yt=gd($e,ht),lr=gd(ht,ht),er=gd(wt,$e),xr=gd(wt,ht),Ur=Et*lr-Yt*Yt,nn=(lr*er-Yt*xr)/Ur,qr=(Et*xr-Yt*er)/Ur,Sn=1-nn-qr,bn=le.z*Sn+ye.z*nn+Ce.z*qr;if(isFinite(bn))return bn}return 1/0}else{for(var Mn=1/0,Fn=0,Vn=I;Fn<Vn.length;Fn+=1){var qn=Vn[Fn];Mn=Math.min(Mn,qn.z)}return Mn}}function nM(D,I,j){var le=1/0;Gi(j,I)&&(le=e2(j,I[0]));for(var ye=0;ye<I.length;ye++)for(var Ce=I[ye],Ie=D[ye],$e=0;$e<Ce.length-1;$e++){var ht=Ce[$e],wt=Ce[$e+1],Et=Ie[$e],Yt=Ie[$e+1],lr=[ht,wt,Yt,Et,ht];Wa(j,lr)&&(le=Math.min(le,e2(j,lr)))}return le===1/0?!1:le}function aM(D,I,j,le){for(var ye=[],Ce=[],Ie=le[8]*I,$e=le[9]*I,ht=le[10]*I,wt=le[11]*I,Et=le[8]*j,Yt=le[9]*j,lr=le[10]*j,er=le[11]*j,xr=0,Ur=D;xr<Ur.length;xr+=1){for(var nn=Ur[xr],qr=[],Sn=[],bn=0,Mn=nn;bn<Mn.length;bn+=1){var Fn=Mn[bn],Vn=Fn.x,qn=Fn.y,$n=le[0]*Vn+le[4]*qn+le[12],Ca=le[1]*Vn+le[5]*qn+le[13],da=le[2]*Vn+le[6]*qn+le[14],ba=le[3]*Vn+le[7]*qn+le[15],Ha=$n+Ie,Ma=Ca+$e,Sa=da+ht,ja=ba+wt,Ba=$n+Et,ni=Ca+Yt,xi=da+lr,ai=ba+er,ii=new t(Ha/ja,Ma/ja);ii.z=Sa/ja,qr.push(ii);var ei=new t(Ba/ai,ni/ai);ei.z=xi/ai,Sn.push(ei)}ye.push(qr),Ce.push(Sn)}return[ye,Ce]}function iM(D,I,j,le){for(var ye=[],Ce=0,Ie=D;Ce<Ie.length;Ce+=1){var $e=Ie[Ce],ht=[$e.x,$e.y,le,1];D0(ht,ht,I),ye.push(new t(ht[0]/ht[3],ht[1]/ht[3]))}return ye}var oM=Ti([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),t2=oM.members,sM=sv.VectorTileFeature.types,r2=63,lM=Math.cos(75/2*(Math.PI/180)),uM=15,fM=20,cM=15,n2=1/2,a2=Math.pow(2,cM-1)/n2,Ms=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(j){return j.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Jh,this.indexArray=new wu,this.programConfigurations=new Ga(t2,I.layers,I.zoom),this.segments=new $,this.stateDependentLayerIds=this.layers.filter(function(j){return j.isStateDependent()}).map(function(j){return j.id})};Ms.prototype.populate=function(I,j,le){this.hasPattern=ny("line",this.layers,j);for(var ye=this.layers[0].layout.get("line-sort-key"),Ce=[],Ie=0,$e=I;Ie<$e.length;Ie+=1){var ht=$e[Ie],wt=ht.feature,Et=ht.id,Yt=ht.index,lr=ht.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr={type:wt.type,id:Et,properties:wt.properties,geometry:er?vi(wt):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),xr,le)){er||(xr.geometry=vi(wt));var Ur=ye?ye.evaluate(xr,{},le):void 0,nn={id:Et,properties:wt.properties,type:wt.type,sourceLayerIndex:lr,index:Yt,geometry:xr.geometry,patterns:{},sortKey:Ur};Ce.push(nn)}}ye&&Ce.sort(function(da,ba){return da.sortKey-ba.sortKey});for(var qr=0,Sn=Ce;qr<Sn.length;qr+=1){var bn=Sn[qr],Mn=bn,Fn=Mn.geometry,Vn=Mn.index,qn=Mn.sourceLayerIndex;if(this.hasPattern){var $n=ay("line",this.layers,bn,this.zoom,j);this.patternFeatures.push($n)}else this.addFeature(bn,Fn,Vn,le,{});var Ca=I[Vn].feature;j.featureIndex.insert(Ca,Fn,Vn,qn,this.index)}},Ms.prototype.update=function(I,j,le){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,j,this.stateDependentLayers,le)},Ms.prototype.addFeatures=function(I,j,le){for(var ye=0,Ce=this.patternFeatures;ye<Ce.length;ye+=1){var Ie=Ce[ye];this.addFeature(Ie,Ie.geometry,Ie.index,j,le)}},Ms.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ms.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ms.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,t2),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Ms.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ms.prototype.addFeature=function(I,j,le,ye,Ce){for(var Ie=this.layers[0].layout,$e=Ie.get("line-join").evaluate(I,{}),ht=Ie.get("line-cap"),wt=Ie.get("line-miter-limit"),Et=Ie.get("line-round-limit"),Yt=0,lr=j;Yt<lr.length;Yt+=1){var er=lr[Yt];this.addLine(er,I,$e,ht,wt,Et)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,le,Ce,ye)},Ms.prototype.addLine=function(I,j,le,ye,Ce,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,j.properties&&j.properties.hasOwnProperty("mapbox_clip_start")&&j.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+j.properties.mapbox_clip_start,this.clipEnd=+j.properties.mapbox_clip_end;for(var $e=0;$e<I.length-1;$e++)this.totalDistance+=I[$e].dist(I[$e+1]);this.updateScaledDistance()}for(var ht=sM[j.type]==="Polygon",wt=I.length;wt>=2&&I[wt-1].equals(I[wt-2]);)wt--;for(var Et=0;Et<wt-1&&I[Et].equals(I[Et+1]);)Et++;if(!(wt<(ht?3:2))){le==="bevel"&&(Ce=1.05);var Yt=this.overscaling<=16?uM*Ra/(512*this.overscaling):0,lr=this.segments.prepareSegment(wt*10,this.layoutVertexArray,this.indexArray),er,xr=void 0,Ur=void 0,nn=void 0,qr=void 0;this.e1=this.e2=-1,ht&&(er=I[wt-2],qr=I[Et].sub(er)._unit()._perp());for(var Sn=Et;Sn<wt;Sn++)if(Ur=Sn===wt-1?ht?I[Et+1]:void 0:I[Sn+1],!(Ur&&I[Sn].equals(Ur))){qr&&(nn=qr),er&&(xr=er),er=I[Sn],qr=Ur?Ur.sub(er)._unit()._perp():nn,nn=nn||qr;var bn=nn.add(qr);(bn.x!==0||bn.y!==0)&&bn._unit();var Mn=nn.x*qr.x+nn.y*qr.y,Fn=bn.x*qr.x+bn.y*qr.y,Vn=Fn!==0?1/Fn:1/0,qn=2*Math.sqrt(2-2*Fn),$n=Fn<lM&&xr&&Ur,Ca=nn.x*qr.y-nn.y*qr.x>0;if($n&&Sn>Et){var da=er.dist(xr);if(da>2*Yt){var ba=er.sub(er.sub(xr)._mult(Yt/da)._round());this.updateDistance(xr,ba),this.addCurrentVertex(ba,nn,0,0,lr),xr=ba}}var Ha=xr&&Ur,Ma=Ha?le:ht?"butt":ye;if(Ha&&Ma==="round"&&(Vn<Ie?Ma="miter":Vn<=2&&(Ma="fakeround")),Ma==="miter"&&Vn>Ce&&(Ma="bevel"),Ma==="bevel"&&(Vn>2&&(Ma="flipbevel"),Vn<Ce&&(Ma="miter")),xr&&this.updateDistance(xr,er),Ma==="miter")bn._mult(Vn),this.addCurrentVertex(er,bn,0,0,lr);else if(Ma==="flipbevel"){if(Vn>100)bn=qr.mult(-1);else{var Sa=Vn*nn.add(qr).mag()/nn.sub(qr).mag();bn._perp()._mult(Sa*(Ca?-1:1))}this.addCurrentVertex(er,bn,0,0,lr),this.addCurrentVertex(er,bn.mult(-1),0,0,lr)}else if(Ma==="bevel"||Ma==="fakeround"){var ja=-Math.sqrt(Vn*Vn-1),Ba=Ca?ja:0,ni=Ca?0:ja;if(xr&&this.addCurrentVertex(er,nn,Ba,ni,lr),Ma==="fakeround")for(var xi=Math.round(qn*180/Math.PI/fM),ai=1;ai<xi;ai++){var ii=ai/xi;if(ii!==.5){var ei=ii-.5,Ci=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Ri=.848013+Mn*(-1.06021+Mn*.215638);ii=ii+ii*ei*(ii-1)*(Ci*ei*ei+Ri)}var Wi=qr.sub(nn)._mult(ii)._add(nn)._unit()._mult(Ca?-1:1);this.addHalfVertex(er,Wi.x,Wi.y,!1,Ca,0,lr)}Ur&&this.addCurrentVertex(er,qr,-Ba,-ni,lr)}else if(Ma==="butt")this.addCurrentVertex(er,bn,0,0,lr);else if(Ma==="square"){var Xi=xr?1:-1;this.addCurrentVertex(er,bn,Xi,Xi,lr)}else Ma==="round"&&(xr&&(this.addCurrentVertex(er,nn,0,0,lr),this.addCurrentVertex(er,nn,1,1,lr,!0)),Ur&&(this.addCurrentVertex(er,qr,-1,-1,lr,!0),this.addCurrentVertex(er,qr,0,0,lr)));if($n&&Sn<wt-1){var Ao=er.dist(Ur);if(Ao>2*Yt){var uo=er.add(Ur.sub(er)._mult(Yt/Ao)._round());this.updateDistance(er,uo),this.addCurrentVertex(uo,qr,0,0,lr),er=uo}}}}},Ms.prototype.addCurrentVertex=function(I,j,le,ye,Ce,Ie){Ie===void 0&&(Ie=!1);var $e=j.x+j.y*le,ht=j.y-j.x*le,wt=-j.x+j.y*ye,Et=-j.y-j.x*ye;this.addHalfVertex(I,$e,ht,Ie,!1,le,Ce),this.addHalfVertex(I,wt,Et,Ie,!0,-ye,Ce),this.distance>a2/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(I,j,le,ye,Ce,Ie))},Ms.prototype.addHalfVertex=function(I,j,le,ye,Ce,Ie,$e){var ht=I.x,wt=I.y,Et=this.scaledDistance*n2;this.layoutVertexArray.emplaceBack((ht<<1)+(ye?1:0),(wt<<1)+(Ce?1:0),Math.round(r2*j)+128,Math.round(r2*le)+128,(Ie===0?0:Ie<0?-1:1)+1|(Et&63)<<2,Et>>6);var Yt=$e.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Yt),$e.primitiveLength++),Ce?this.e2=Yt:this.e1=Yt},Ms.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(a2-1):this.distance},Ms.prototype.updateDistance=function(I,j){this.distance+=I.dist(j),this.updateScaledDistance()},he("LineBucket",Ms,{omit:["layers","patternFeatures"]});var hM=new eo({"line-cap":new xa(Xt.layout_line["line-cap"]),"line-join":new Ea(Xt.layout_line["line-join"]),"line-miter-limit":new xa(Xt.layout_line["line-miter-limit"]),"line-round-limit":new xa(Xt.layout_line["line-round-limit"]),"line-sort-key":new Ea(Xt.layout_line["line-sort-key"])}),vM=new eo({"line-opacity":new Ea(Xt.paint_line["line-opacity"]),"line-color":new Ea(Xt.paint_line["line-color"]),"line-translate":new xa(Xt.paint_line["line-translate"]),"line-translate-anchor":new xa(Xt.paint_line["line-translate-anchor"]),"line-width":new Ea(Xt.paint_line["line-width"]),"line-gap-width":new Ea(Xt.paint_line["line-gap-width"]),"line-offset":new Ea(Xt.paint_line["line-offset"]),"line-blur":new Ea(Xt.paint_line["line-blur"]),"line-dasharray":new Hi(Xt.paint_line["line-dasharray"]),"line-pattern":new wi(Xt.paint_line["line-pattern"]),"line-gradient":new Bo(Xt.paint_line["line-gradient"])}),i2={paint:vM,layout:hM},dM=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(le,ye){return ye=new Un(Math.floor(ye.zoom),{now:ye.now,fadeDuration:ye.fadeDuration,zoomHistory:ye.zoomHistory,transition:ye.transition}),D.prototype.possiblyEvaluate.call(this,le,ye)},I.prototype.evaluate=function(le,ye,Ce,Ie){return ye=l({},ye,{zoom:Math.floor(ye.zoom)}),D.prototype.evaluate.call(this,le,ye,Ce,Ie)},I}(Ea),o2=new dM(i2.paint.properties["line-width"].specification);o2.useIntegerZoom=!0;var pM=function(D){function I(j){D.call(this,j,i2)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(le){le==="line-gradient"&&this._updateGradient()},I.prototype._updateGradient=function(){var le=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Gx(le,"lineProgress"),this.gradientTexture=null},I.prototype.recalculate=function(le,ye){D.prototype.recalculate.call(this,le,ye),this.paint._values["line-floorwidth"]=o2.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,le)},I.prototype.createBucket=function(le){return new Ms(le)},I.prototype.queryRadius=function(le){var ye=le,Ce=s2(Ns("line-width",this,ye),Ns("line-gap-width",this,ye)),Ie=Ns("line-offset",this,ye);return Ce/2+Math.abs(Ie)+Zl(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(le,ye,Ce,Ie,$e,ht,wt){var Et=Al(le,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ht.angle,wt),Yt=wt/2*s2(this.paint.get("line-width").evaluate(ye,Ce),this.paint.get("line-gap-width").evaluate(ye,Ce)),lr=this.paint.get("line-offset").evaluate(ye,Ce);return lr&&(Ie=gM(Ie,lr*wt)),io(Et,Ie,Yt)},I.prototype.isTileClipped=function(){return!0},I}(Li);function s2(D,I){return I>0?I+2*D:D}function gM(D,I){for(var j=[],le=new t(0,0),ye=0;ye<D.length;ye++){for(var Ce=D[ye],Ie=[],$e=0;$e<Ce.length;$e++){var ht=Ce[$e-1],wt=Ce[$e],Et=Ce[$e+1],Yt=$e===0?le:wt.sub(ht)._unit()._perp(),lr=$e===Ce.length-1?le:Et.sub(wt)._unit()._perp(),er=Yt._add(lr)._unit(),xr=er.x*lr.x+er.y*lr.y;er._mult(1/xr),Ie.push(er._mult(I)._add(wt))}j.push(Ie)}return j}var oy=Ti([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),yM=Ti([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ti([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var mM=Ti([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ti([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var l2=Ti([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),xM=Ti([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ti([{name:"triangle",components:3,type:"Uint16"}]),Ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ti([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ti([{type:"Float32",name:"offsetX"}]),Ti([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function bM(D,I,j){var le=I.layout.get("text-transform").evaluate(j,{});return le==="uppercase"?D=D.toLocaleUpperCase():le==="lowercase"&&(D=D.toLocaleLowerCase()),ri.applyArabicShaping&&(D=ri.applyArabicShaping(D)),D}function wM(D,I,j){return D.sections.forEach(function(le){le.text=bM(le.text,I,j)}),D}function TM(D){var I={},j={},le=[],ye=0;function Ce(qr){le.push(D[qr]),ye++}function Ie(qr,Sn,bn){var Mn=j[qr];return delete j[qr],j[Sn]=Mn,le[Mn].geometry[0].pop(),le[Mn].geometry[0]=le[Mn].geometry[0].concat(bn[0]),Mn}function $e(qr,Sn,bn){var Mn=I[Sn];return delete I[Sn],I[qr]=Mn,le[Mn].geometry[0].shift(),le[Mn].geometry[0]=bn[0].concat(le[Mn].geometry[0]),Mn}function ht(qr,Sn,bn){var Mn=bn?Sn[0][Sn[0].length-1]:Sn[0][0];return qr+":"+Mn.x+":"+Mn.y}for(var wt=0;wt<D.length;wt++){var Et=D[wt],Yt=Et.geometry,lr=Et.text?Et.text.toString():null;if(!lr){Ce(wt);continue}var er=ht(lr,Yt),xr=ht(lr,Yt,!0);if(er in j&&xr in I&&j[er]!==I[xr]){var Ur=$e(er,xr,Yt),nn=Ie(er,xr,le[Ur].geometry);delete I[er],delete j[xr],j[ht(lr,le[nn].geometry,!0)]=nn,le[Ur].geometry=null}else er in j?Ie(er,xr,Yt):xr in I?$e(er,xr,Yt):(Ce(wt),I[er]=ye-1,j[xr]=ye-1)}return le.filter(function(qr){return qr.geometry})}var yd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function AM(D){for(var I="",j=0;j<D.length;j++){var le=D.charCodeAt(j+1)||null,ye=D.charCodeAt(j-1)||null,Ce=(!le||!tn(le)||yd[D[j+1]])&&(!ye||!tn(ye)||yd[D[j-1]]);Ce&&yd[D[j]]?I+=yd[D[j]]:I+=D[j]}return I}var Io=24,MM=function(D,I,j,le,ye){var Ce,Ie,$e=ye*8-le-1,ht=(1<<$e)-1,wt=ht>>1,Et=-7,Yt=j?ye-1:0,lr=j?-1:1,er=D[I+Yt];for(Yt+=lr,Ce=er&(1<<-Et)-1,er>>=-Et,Et+=$e;Et>0;Ce=Ce*256+D[I+Yt],Yt+=lr,Et-=8);for(Ie=Ce&(1<<-Et)-1,Ce>>=-Et,Et+=le;Et>0;Ie=Ie*256+D[I+Yt],Yt+=lr,Et-=8);if(Ce===0)Ce=1-wt;else{if(Ce===ht)return Ie?NaN:(er?-1:1)*(1/0);Ie=Ie+Math.pow(2,le),Ce=Ce-wt}return(er?-1:1)*Ie*Math.pow(2,Ce-le)},SM=function(D,I,j,le,ye,Ce){var Ie,$e,ht,wt=Ce*8-ye-1,Et=(1<<wt)-1,Yt=Et>>1,lr=ye===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=le?0:Ce-1,xr=le?1:-1,Ur=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?($e=isNaN(I)?1:0,Ie=Et):(Ie=Math.floor(Math.log(I)/Math.LN2),I*(ht=Math.pow(2,-Ie))<1&&(Ie--,ht*=2),Ie+Yt>=1?I+=lr/ht:I+=lr*Math.pow(2,1-Yt),I*ht>=2&&(Ie++,ht/=2),Ie+Yt>=Et?($e=0,Ie=Et):Ie+Yt>=1?($e=(I*ht-1)*Math.pow(2,ye),Ie=Ie+Yt):($e=I*Math.pow(2,Yt-1)*Math.pow(2,ye),Ie=0));ye>=8;D[j+er]=$e&255,er+=xr,$e/=256,ye-=8);for(Ie=Ie<<ye|$e,wt+=ye;wt>0;D[j+er]=Ie&255,er+=xr,Ie/=256,wt-=8);D[j+er-xr]|=Ur*128},z0={read:MM,write:SM},O0=Pi;function Pi(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Pi.Varint=0,Pi.Fixed64=1,Pi.Bytes=2,Pi.Fixed32=5;var sy=65536*65536,u2=1/sy,EM=12,f2=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Pi.prototype={destroy:function(){this.buf=null},readFields:function(D,I,j){for(j=j||this.length;this.pos<j;){var le=this.readVarint(),ye=le>>3,Ce=this.pos;this.type=le&7,D(ye,I,this),this.pos===Ce&&this.skip(le)}return I},readMessage:function(D,I){return this.readFields(D,I,this.readVarint()+this.pos)},readFixed32:function(){var D=B0(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=h2(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=B0(this.buf,this.pos)+B0(this.buf,this.pos+4)*sy;return this.pos+=8,D},readSFixed64:function(){var D=B0(this.buf,this.pos)+h2(this.buf,this.pos+4)*sy;return this.pos+=8,D},readFloat:function(){var D=z0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=z0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var I=this.buf,j,le;return le=I[this.pos++],j=le&127,le<128||(le=I[this.pos++],j|=(le&127)<<7,le<128)||(le=I[this.pos++],j|=(le&127)<<14,le<128)||(le=I[this.pos++],j|=(le&127)<<21,le<128)?j:(le=I[this.pos],j|=(le&15)<<28,CM(j,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,I=this.pos;return this.pos=D,D-I>=EM&&f2?HM(this.buf,I,D):UM(this.buf,I,D)},readBytes:function(){var D=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,D);return this.pos=D,I},readPackedVarint:function(D,I){if(this.type!==Pi.Bytes)return D.push(this.readVarint(I));var j=Bf(this);for(D=D||[];this.pos<j;)D.push(this.readVarint(I));return D},readPackedSVarint:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSVarint());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Pi.Bytes)return D.push(this.readBoolean());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFloat());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Pi.Bytes)return D.push(this.readDouble());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFixed32());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSFixed32());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFixed64());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSFixed64());var I=Bf(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed64());return D},skip:function(D){var I=D&7;if(I===Pi.Varint)for(;this.buf[this.pos++]>127;);else if(I===Pi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===Pi.Fixed32)this.pos+=4;else if(I===Pi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(D,I){this.writeVarint(D<<3|I)},realloc:function(D){for(var I=this.length||16;I<this.pos+D;)I*=2;if(I!==this.length){var j=new Uint8Array(I);j.set(this.buf),this.buf=j,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),uv(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),uv(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),uv(this.buf,D&-1,this.pos),uv(this.buf,Math.floor(D*u2),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),uv(this.buf,D&-1,this.pos),uv(this.buf,Math.floor(D*u2),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){LM(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var I=this.pos;this.pos=VM(this.buf,D,this.pos);var j=this.pos-I;j>=128&&c2(I,j,this),this.pos=I-1,this.writeVarint(j),this.pos+=j},writeFloat:function(D){this.realloc(4),z0.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),z0.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var I=D.length;this.writeVarint(I),this.realloc(I);for(var j=0;j<I;j++)this.buf[this.pos++]=D[j]},writeRawMessage:function(D,I){this.pos++;var j=this.pos;D(I,this);var le=this.pos-j;le>=128&&c2(j,le,this),this.pos=j-1,this.writeVarint(le),this.pos+=le},writeMessage:function(D,I,j){this.writeTag(D,Pi.Bytes),this.writeRawMessage(I,j)},writePackedVarint:function(D,I){I.length&&this.writeMessage(D,DM,I)},writePackedSVarint:function(D,I){I.length&&this.writeMessage(D,IM,I)},writePackedBoolean:function(D,I){I.length&&this.writeMessage(D,_M,I)},writePackedFloat:function(D,I){I.length&&this.writeMessage(D,kM,I)},writePackedDouble:function(D,I){I.length&&this.writeMessage(D,FM,I)},writePackedFixed32:function(D,I){I.length&&this.writeMessage(D,zM,I)},writePackedSFixed32:function(D,I){I.length&&this.writeMessage(D,OM,I)},writePackedFixed64:function(D,I){I.length&&this.writeMessage(D,BM,I)},writePackedSFixed64:function(D,I){I.length&&this.writeMessage(D,NM,I)},writeBytesField:function(D,I){this.writeTag(D,Pi.Bytes),this.writeBytes(I)},writeFixed32Field:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(D,I){this.writeTag(D,Pi.Varint),this.writeVarint(I)},writeSVarintField:function(D,I){this.writeTag(D,Pi.Varint),this.writeSVarint(I)},writeStringField:function(D,I){this.writeTag(D,Pi.Bytes),this.writeString(I)},writeFloatField:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeFloat(I)},writeDoubleField:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeDouble(I)},writeBooleanField:function(D,I){this.writeVarintField(D,!!I)}};function CM(D,I,j){var le=j.buf,ye,Ce;if(Ce=le[j.pos++],ye=(Ce&112)>>4,Ce<128||(Ce=le[j.pos++],ye|=(Ce&127)<<3,Ce<128)||(Ce=le[j.pos++],ye|=(Ce&127)<<10,Ce<128)||(Ce=le[j.pos++],ye|=(Ce&127)<<17,Ce<128)||(Ce=le[j.pos++],ye|=(Ce&127)<<24,Ce<128)||(Ce=le[j.pos++],ye|=(Ce&1)<<31,Ce<128))return lv(D,ye,I);throw new Error("Expected varint not more than 10 bytes")}function Bf(D){return D.type===Pi.Bytes?D.readVarint()+D.pos:D.pos+1}function lv(D,I,j){return j?I*4294967296+(D>>>0):(I>>>0)*4294967296+(D>>>0)}function LM(D,I){var j,le;if(D>=0?(j=D%4294967296|0,le=D/4294967296|0):(j=~(-D%4294967296),le=~(-D/4294967296),j^4294967295?j=j+1|0:(j=0,le=le+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),PM(j,le,I),RM(le,I)}function PM(D,I,j){j.buf[j.pos++]=D&127|128,D>>>=7,j.buf[j.pos++]=D&127|128,D>>>=7,j.buf[j.pos++]=D&127|128,D>>>=7,j.buf[j.pos++]=D&127|128,D>>>=7,j.buf[j.pos]=D&127}function RM(D,I){var j=(D&7)<<4;I.buf[I.pos++]|=j|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127)))))}function c2(D,I,j){var le=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));j.realloc(le);for(var ye=j.pos-1;ye>=D;ye--)j.buf[ye+le]=j.buf[ye]}function DM(D,I){for(var j=0;j<D.length;j++)I.writeVarint(D[j])}function IM(D,I){for(var j=0;j<D.length;j++)I.writeSVarint(D[j])}function kM(D,I){for(var j=0;j<D.length;j++)I.writeFloat(D[j])}function FM(D,I){for(var j=0;j<D.length;j++)I.writeDouble(D[j])}function _M(D,I){for(var j=0;j<D.length;j++)I.writeBoolean(D[j])}function zM(D,I){for(var j=0;j<D.length;j++)I.writeFixed32(D[j])}function OM(D,I){for(var j=0;j<D.length;j++)I.writeSFixed32(D[j])}function BM(D,I){for(var j=0;j<D.length;j++)I.writeFixed64(D[j])}function NM(D,I){for(var j=0;j<D.length;j++)I.writeSFixed64(D[j])}function B0(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+D[I+3]*16777216}function uv(D,I,j){D[j]=I,D[j+1]=I>>>8,D[j+2]=I>>>16,D[j+3]=I>>>24}function h2(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+(D[I+3]<<24)}function UM(D,I,j){for(var le="",ye=I;ye<j;){var Ce=D[ye],Ie=null,$e=Ce>239?4:Ce>223?3:Ce>191?2:1;if(ye+$e>j)break;var ht,wt,Et;$e===1?Ce<128&&(Ie=Ce):$e===2?(ht=D[ye+1],(ht&192)===128&&(Ie=(Ce&31)<<6|ht&63,Ie<=127&&(Ie=null))):$e===3?(ht=D[ye+1],wt=D[ye+2],(ht&192)===128&&(wt&192)===128&&(Ie=(Ce&15)<<12|(ht&63)<<6|wt&63,(Ie<=2047||Ie>=55296&&Ie<=57343)&&(Ie=null))):$e===4&&(ht=D[ye+1],wt=D[ye+2],Et=D[ye+3],(ht&192)===128&&(wt&192)===128&&(Et&192)===128&&(Ie=(Ce&15)<<18|(ht&63)<<12|(wt&63)<<6|Et&63,(Ie<=65535||Ie>=1114112)&&(Ie=null))),Ie===null?(Ie=65533,$e=1):Ie>65535&&(Ie-=65536,le+=String.fromCharCode(Ie>>>10&1023|55296),Ie=56320|Ie&1023),le+=String.fromCharCode(Ie),ye+=$e}return le}function HM(D,I,j){return f2.decode(D.subarray(I,j))}function VM(D,I,j){for(var le=0,ye,Ce;le<I.length;le++){if(ye=I.charCodeAt(le),ye>55295&&ye<57344)if(Ce)if(ye<56320){D[j++]=239,D[j++]=191,D[j++]=189,Ce=ye;continue}else ye=Ce-55296<<10|ye-56320|65536,Ce=null;else{ye>56319||le+1===I.length?(D[j++]=239,D[j++]=191,D[j++]=189):Ce=ye;continue}else Ce&&(D[j++]=239,D[j++]=191,D[j++]=189,Ce=null);ye<128?D[j++]=ye:(ye<2048?D[j++]=ye>>6|192:(ye<65536?D[j++]=ye>>12|224:(D[j++]=ye>>18|240,D[j++]=ye>>12&63|128),D[j++]=ye>>6&63|128),D[j++]=ye&63|128)}return j}var ly=3;function GM(D,I,j){D===1&&j.readMessage(WM,I)}function WM(D,I,j){if(D===3){var le=j.readMessage(YM,{}),ye=le.id,Ce=le.bitmap,Ie=le.width,$e=le.height,ht=le.left,wt=le.top,Et=le.advance;I.push({id:ye,bitmap:new Ph({width:Ie+2*ly,height:$e+2*ly},Ce),metrics:{width:Ie,height:$e,left:ht,top:wt,advance:Et}})}}function YM(D,I,j){D===1?I.id=j.readVarint():D===2?I.bitmap=j.readBytes():D===3?I.width=j.readVarint():D===4?I.height=j.readVarint():D===5?I.left=j.readSVarint():D===6?I.top=j.readSVarint():D===7&&(I.advance=j.readVarint())}function jM(D){return new O0(D).readFields(GM,[])}var v2=ly;function d2(D){for(var I=0,j=0,le=0,ye=D;le<ye.length;le+=1){var Ce=ye[le];I+=Ce.w*Ce.h,j=Math.max(j,Ce.w)}D.sort(function(nn,qr){return qr.h-nn.h});for(var Ie=Math.max(Math.ceil(Math.sqrt(I/.95)),j),$e=[{x:0,y:0,w:Ie,h:1/0}],ht=0,wt=0,Et=0,Yt=D;Et<Yt.length;Et+=1)for(var lr=Yt[Et],er=$e.length-1;er>=0;er--){var xr=$e[er];if(!(lr.w>xr.w||lr.h>xr.h)){if(lr.x=xr.x,lr.y=xr.y,wt=Math.max(wt,lr.y+lr.h),ht=Math.max(ht,lr.x+lr.w),lr.w===xr.w&&lr.h===xr.h){var Ur=$e.pop();er<$e.length&&($e[er]=Ur)}else lr.h===xr.h?(xr.x+=lr.w,xr.w-=lr.w):lr.w===xr.w?(xr.y+=lr.h,xr.h-=lr.h):($e.push({x:xr.x+lr.w,y:xr.y,w:xr.w-lr.w,h:lr.h}),xr.y+=lr.h,xr.h-=lr.h);break}}return{w:ht,h:wt,fill:I/(ht*wt)||0}}var Us=1,N0=function(I,j){var le=j.pixelRatio,ye=j.version,Ce=j.stretchX,Ie=j.stretchY,$e=j.content;this.paddedRect=I,this.pixelRatio=le,this.stretchX=Ce,this.stretchY=Ie,this.content=$e,this.version=ye},md={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};md.tl.get=function(){return[this.paddedRect.x+Us,this.paddedRect.y+Us]},md.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Us,this.paddedRect.y+this.paddedRect.h-Us]},md.tlbr.get=function(){return this.tl.concat(this.br)},md.displaySize.get=function(){return[(this.paddedRect.w-Us*2)/this.pixelRatio,(this.paddedRect.h-Us*2)/this.pixelRatio]},Object.defineProperties(N0.prototype,md);var xd=function(I,j){var le={},ye={};this.haveRenderCallbacks=[];var Ce=[];this.addImages(I,le,Ce),this.addImages(j,ye,Ce);var Ie=d2(Ce),$e=Ie.w,ht=Ie.h,wt=new As({width:$e||1,height:ht||1});for(var Et in I){var Yt=I[Et],lr=le[Et].paddedRect;As.copy(Yt.data,wt,{x:0,y:0},{x:lr.x+Us,y:lr.y+Us},Yt.data)}for(var er in j){var xr=j[er],Ur=ye[er].paddedRect,nn=Ur.x+Us,qr=Ur.y+Us,Sn=xr.data.width,bn=xr.data.height;As.copy(xr.data,wt,{x:0,y:0},{x:nn,y:qr},xr.data),As.copy(xr.data,wt,{x:0,y:bn-1},{x:nn,y:qr-1},{width:Sn,height:1}),As.copy(xr.data,wt,{x:0,y:0},{x:nn,y:qr+bn},{width:Sn,height:1}),As.copy(xr.data,wt,{x:Sn-1,y:0},{x:nn-1,y:qr},{width:1,height:bn}),As.copy(xr.data,wt,{x:0,y:0},{x:nn+Sn,y:qr},{width:1,height:bn})}this.image=wt,this.iconPositions=le,this.patternPositions=ye};xd.prototype.addImages=function(I,j,le){for(var ye in I){var Ce=I[ye],Ie={x:0,y:0,w:Ce.data.width+2*Us,h:Ce.data.height+2*Us};le.push(Ie),j[ye]=new N0(Ie,Ce),Ce.hasRenderCallback&&this.haveRenderCallbacks.push(ye)}},xd.prototype.patchUpdatedImages=function(I,j){I.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var le in I.updatedImages)this.patchUpdatedImage(this.iconPositions[le],I.getImage(le),j),this.patchUpdatedImage(this.patternPositions[le],I.getImage(le),j)},xd.prototype.patchUpdatedImage=function(I,j,le){if(!(!I||!j)&&I.version!==j.version){I.version=j.version;var ye=I.tl,Ce=ye[0],Ie=ye[1];le.update(j.data,void 0,{x:Ce,y:Ie})}},he("ImagePosition",N0),he("ImageAtlas",xd);var nl={horizontal:1,vertical:2,horizontalOnly:3},bd=-17;function ZM(D){for(var I=0,j=D;I<j.length;I+=1){var le=j[I];if(le.positionedGlyphs.length!==0)return!1}return!0}var p2=57344,g2=63743,fv=function(){this.scale=1,this.fontStack="",this.imageName=null};fv.forText=function(I,j){var le=new fv;return le.scale=I||1,le.fontStack=j,le},fv.forImage=function(I){var j=new fv;return j.imageName=I,j};var Xo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Xo.fromFeature=function(I,j){for(var le=new Xo,ye=0;ye<I.sections.length;ye++){var Ce=I.sections[ye];Ce.image?le.addImageSection(Ce):le.addTextSection(Ce,j)}return le},Xo.prototype.length=function(){return this.text.length},Xo.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},Xo.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},Xo.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},Xo.prototype.verticalizePunctuation=function(){this.text=AM(this.text)},Xo.prototype.trim=function(){for(var I=0,j=0;j<this.text.length&&rf[this.text.charCodeAt(j)];j++)I++;for(var le=this.text.length,ye=this.text.length-1;ye>=0&&ye>=I&&rf[this.text.charCodeAt(ye)];ye--)le--;this.text=this.text.substring(I,le),this.sectionIndex=this.sectionIndex.slice(I,le)},Xo.prototype.substring=function(I,j){var le=new Xo;return le.text=this.text.substring(I,j),le.sectionIndex=this.sectionIndex.slice(I,j),le.sections=this.sections,le},Xo.prototype.toString=function(){return this.text},Xo.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(j,le){return Math.max(j,I.sections[le].scale)},0)},Xo.prototype.addTextSection=function(I,j){this.text+=I.text,this.sections.push(fv.forText(I.scale,I.fontStack||j));for(var le=this.sections.length-1,ye=0;ye<I.text.length;++ye)this.sectionIndex.push(le)},Xo.prototype.addImageSection=function(I){var j=I.image?I.image.name:"";if(j.length===0){H("Can't add FormattedSection with an empty image.");return}var le=this.getNextImageSectionCharCode();if(!le){H("Reached maximum number of images "+(g2-p2+2));return}this.text+=String.fromCharCode(le),this.sections.push(fv.forImage(j)),this.sectionIndex.push(this.sections.length-1)},Xo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=g2?null:++this.imageSectionID:(this.imageSectionID=p2,this.imageSectionID)};function XM(D,I){for(var j=[],le=D.text,ye=0,Ce=0,Ie=I;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];j.push(D.substring(ye,$e)),ye=$e}return ye<le.length&&j.push(D.substring(ye,le.length)),j}function U0(D,I,j,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur){var nn=Xo.fromFeature(D,ye);Yt===nl.vertical&&nn.verticalizePunctuation();var qr,Sn=ri.processBidirectionalText,bn=ri.processStyledBidirectionalText;if(Sn&&nn.sections.length===1){qr=[];for(var Mn=Sn(nn.toString(),uy(nn,wt,Ce,I,le,er,xr)),Fn=0,Vn=Mn;Fn<Vn.length;Fn+=1){var qn=Vn[Fn],$n=new Xo;$n.text=qn,$n.sections=nn.sections;for(var Ca=0;Ca<qn.length;Ca++)$n.sectionIndex.push(0);qr.push($n)}}else if(bn){qr=[];for(var da=bn(nn.text,nn.sectionIndex,uy(nn,wt,Ce,I,le,er,xr)),ba=0,Ha=da;ba<Ha.length;ba+=1){var Ma=Ha[ba],Sa=new Xo;Sa.text=Ma[0],Sa.sectionIndex=Ma[1],Sa.sections=nn.sections,qr.push(Sa)}}else qr=XM(nn,uy(nn,wt,Ce,I,le,er,xr));var ja=[],Ba={positionedLines:ja,text:nn.toString(),top:Et[1],bottom:Et[1],left:Et[0],right:Et[0],writingMode:Yt,iconsInText:!1,verticalizable:!1};return QM(Ba,I,j,le,qr,Ie,$e,ht,Yt,wt,lr,Ur),ZM(ja)?!1:Ba}var rf={};rf[9]=!0,rf[10]=!0,rf[11]=!0,rf[12]=!0,rf[13]=!0,rf[32]=!0;var Hs={};Hs[10]=!0,Hs[32]=!0,Hs[38]=!0,Hs[40]=!0,Hs[41]=!0,Hs[43]=!0,Hs[45]=!0,Hs[47]=!0,Hs[173]=!0,Hs[183]=!0,Hs[8203]=!0,Hs[8208]=!0,Hs[8211]=!0,Hs[8231]=!0;function y2(D,I,j,le,ye,Ce){if(I.imageName){var ht=le[I.imageName];return ht?ht.displaySize[0]*I.scale*Io/Ce+ye:0}else{var Ie=j[I.fontStack],$e=Ie&&Ie[D];return $e?$e.metrics.advance*I.scale+ye:0}}function KM(D,I,j,le,ye,Ce){for(var Ie=0,$e=0;$e<D.length();$e++){var ht=D.getSection($e);Ie+=y2(D.getCharCode($e),ht,le,ye,I,Ce)}var wt=Math.max(1,Math.ceil(Ie/j));return Ie/wt}function m2(D,I,j,le){var ye=Math.pow(D-I,2);return le?D<I?ye/2:ye*2:ye+Math.abs(j)*j}function JM(D,I,j){var le=0;return D===10&&(le-=1e4),j&&(le+=150),(D===40||D===65288)&&(le+=50),(I===41||I===65289)&&(le+=50),le}function x2(D,I,j,le,ye,Ce){for(var Ie=null,$e=m2(I,j,ye,Ce),ht=0,wt=le;ht<wt.length;ht+=1){var Et=wt[ht],Yt=I-Et.x,lr=m2(Yt,j,ye,Ce)+Et.badness;lr<=$e&&(Ie=Et,$e=lr)}return{index:D,x:I,priorBreak:Ie,badness:$e}}function b2(D){return D?b2(D.priorBreak).concat(D.index):[]}function uy(D,I,j,le,ye,Ce,Ie){if(Ce!=="point")return[];if(!D)return[];for(var $e=[],ht=KM(D,I,j,le,ye,Ie),wt=D.text.indexOf("")>=0,Et=0,Yt=0;Yt<D.length();Yt++){var lr=D.getSection(Yt),er=D.getCharCode(Yt);if(rf[er]||(Et+=y2(er,lr,le,ye,I,Ie)),Yt<D.length()-1){var xr=Pr(er);(Hs[er]||xr||lr.imageName)&&$e.push(x2(Yt+1,Et,ht,$e,JM(er,D.getCharCode(Yt+1),xr&&wt),!1))}}return b2(x2(D.length(),Et,ht,$e,0,!0))}function fy(D){var I=.5,j=.5;switch(D){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":j=1;break;case"top":case"top-right":case"top-left":j=0;break}return{horizontalAlign:I,verticalAlign:j}}function QM(D,I,j,le,ye,Ce,Ie,$e,ht,wt,Et,Yt){for(var lr=0,er=bd,xr=0,Ur=0,nn=$e==="right"?1:$e==="left"?0:.5,qr=0,Sn=0,bn=ye;Sn<bn.length;Sn+=1){var Mn=bn[Sn];Mn.trim();var Fn=Mn.getMaxScale(),Vn=(Fn-1)*Io,qn={positionedGlyphs:[],lineOffset:0};D.positionedLines[qr]=qn;var $n=qn.positionedGlyphs,Ca=0;if(!Mn.length()){er+=Ce,++qr;continue}for(var da=0;da<Mn.length();da++){var ba=Mn.getSection(da),Ha=Mn.getSectionIndex(da),Ma=Mn.getCharCode(da),Sa=0,ja=null,Ba=null,ni=null,xi=Io,ai=!(ht===nl.horizontal||!Et&&!Er(Ma)||Et&&(rf[Ma]||Ir(Ma)));if(ba.imageName){var Wi=le[ba.imageName];if(!Wi)continue;ni=ba.imageName,D.iconsInText=D.iconsInText||!0,Ba=Wi.paddedRect;var Xi=Wi.displaySize;ba.scale=ba.scale*Io/Yt,ja={width:Xi[0],height:Xi[1],left:Us,top:-v2,advance:ai?Xi[1]:Xi[0]};var Ao=Io-Xi[1]*ba.scale;Sa=Vn+Ao,xi=ja.advance;var uo=ai?Xi[0]*ba.scale-Io*Fn:Xi[1]*ba.scale-Io*Fn;uo>0&&uo>Ca&&(Ca=uo)}else{var ii=j[ba.fontStack],ei=ii&&ii[Ma];if(ei&&ei.rect)Ba=ei.rect,ja=ei.metrics;else{var Ci=I[ba.fontStack],Ri=Ci&&Ci[Ma];if(!Ri)continue;ja=Ri.metrics}Sa=(Fn-ba.scale)*Io}ai?(D.verticalizable=!0,$n.push({glyph:Ma,imageName:ni,x:lr,y:er+Sa,vertical:ai,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Ha,metrics:ja,rect:Ba}),lr+=xi*ba.scale+wt):($n.push({glyph:Ma,imageName:ni,x:lr,y:er+Sa,vertical:ai,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Ha,metrics:ja,rect:Ba}),lr+=ja.advance*ba.scale+wt)}if($n.length!==0){var Ko=lr-wt;xr=Math.max(Ko,xr),$M($n,0,$n.length-1,nn,Ca)}lr=0;var Jo=Ce*Fn+Ca;qn.lineOffset=Math.max(Ca,Vn),er+=Jo,Ur=Math.max(Jo,Ur),++qr}var Mo=er-bd,os=fy(Ie),ss=os.horizontalAlign,yo=os.verticalAlign;qM(D.positionedLines,nn,ss,yo,xr,Ur,Ce,Mo,ye.length),D.top+=-yo*Mo,D.bottom=D.top+Mo,D.left+=-ss*xr,D.right=D.left+xr}function $M(D,I,j,le,ye){if(!(!le&&!ye))for(var Ce=D[j],Ie=Ce.metrics.advance*Ce.scale,$e=(D[j].x+Ie)*le,ht=I;ht<=j;ht++)D[ht].x-=$e,D[ht].y+=ye}function qM(D,I,j,le,ye,Ce,Ie,$e,ht){var wt=(I-j)*ye,Et=0;Ce!==Ie?Et=-$e*le-bd:Et=(-le*ht+.5)*Ie;for(var Yt=0,lr=D;Yt<lr.length;Yt+=1)for(var er=lr[Yt],xr=0,Ur=er.positionedGlyphs;xr<Ur.length;xr+=1){var nn=Ur[xr];nn.x+=wt,nn.y+=Et}}function eS(D,I,j){var le=fy(j),ye=le.horizontalAlign,Ce=le.verticalAlign,Ie=I[0],$e=I[1],ht=Ie-D.displaySize[0]*ye,wt=ht+D.displaySize[0],Et=$e-D.displaySize[1]*Ce,Yt=Et+D.displaySize[1];return{image:D,top:Et,bottom:Yt,left:ht,right:wt}}function w2(D,I,j,le,ye,Ce){var Ie=D.image,$e;if(Ie.content){var ht=Ie.content,wt=Ie.pixelRatio||1;$e=[ht[0]/wt,ht[1]/wt,Ie.displaySize[0]-ht[2]/wt,Ie.displaySize[1]-ht[3]/wt]}var Et=I.left*Ce,Yt=I.right*Ce,lr,er,xr,Ur;j==="width"||j==="both"?(Ur=ye[0]+Et-le[3],er=ye[0]+Yt+le[1]):(Ur=ye[0]+(Et+Yt-Ie.displaySize[0])/2,er=Ur+Ie.displaySize[0]);var nn=I.top*Ce,qr=I.bottom*Ce;return j==="height"||j==="both"?(lr=ye[1]+nn-le[0],xr=ye[1]+qr+le[2]):(lr=ye[1]+(nn+qr-Ie.displaySize[1])/2,xr=lr+Ie.displaySize[1]),{image:Ie,top:lr,right:er,bottom:xr,left:Ur,collisionPadding:$e}}var cv=function(D){function I(j,le,ye,Ce){D.call(this,j,le),this.angle=ye,Ce!==void 0&&(this.segment=Ce)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(t);he("Anchor",cv);var Su=128;function cy(D,I){var j=I.expression;if(j.kind==="constant"){var le=j.evaluate(new Un(D+1));return{kind:"constant",layoutSize:le}}else{if(j.kind==="source")return{kind:"source"};for(var ye=j.zoomStops,Ce=j.interpolationType,Ie=0;Ie<ye.length&&ye[Ie]<=D;)Ie++;Ie=Math.max(0,Ie-1);for(var $e=Ie;$e<ye.length&&ye[$e]<D+1;)$e++;$e=Math.min(ye.length-1,$e);var ht=ye[Ie],wt=ye[$e];if(j.kind==="composite")return{kind:"composite",minZoom:ht,maxZoom:wt,interpolationType:Ce};var Et=j.evaluate(new Un(ht)),Yt=j.evaluate(new Un(wt));return{kind:"camera",minZoom:ht,maxZoom:wt,minSize:Et,maxSize:Yt,interpolationType:Ce}}}function T2(D,I,j){var le=I.uSize,ye=I.uSizeT,Ce=j.lowerSize,Ie=j.upperSize;return D.kind==="source"?Ce/Su:D.kind==="composite"?zi(Ce/Su,Ie/Su,ye):le}function A2(D,I){var j=0,le=0;if(D.kind==="constant")le=D.layoutSize;else if(D.kind!=="source"){var ye=D.interpolationType,Ce=D.minZoom,Ie=D.maxZoom,$e=ye?o(Ni.interpolationFactor(ye,I,Ce,Ie),0,1):0;D.kind==="camera"?le=zi(D.minSize,D.maxSize,$e):j=$e}return{uSizeT:j,uSize:le}}var tS=Object.freeze({__proto__:null,getSizeData:cy,evaluateSizeForFeature:T2,evaluateSizeForZoom:A2,SIZE_PACK_FACTOR:Su});function M2(D,I,j,le,ye){if(I.segment===void 0)return!0;for(var Ce=I,Ie=I.segment+1,$e=0;$e>-j/2;){if(Ie--,Ie<0)return!1;$e-=D[Ie].dist(Ce),Ce=D[Ie]}$e+=D[Ie].dist(D[Ie+1]),Ie++;for(var ht=[],wt=0;$e<j/2;){var Et=D[Ie-1],Yt=D[Ie],lr=D[Ie+1];if(!lr)return!1;var er=Et.angleTo(Yt)-Yt.angleTo(lr);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),ht.push({distance:$e,angleDelta:er}),wt+=er;$e-ht[0].distance>le;)wt-=ht.shift().angleDelta;if(wt>ye)return!1;Ie++,$e+=Yt.dist(lr)}return!0}function S2(D){for(var I=0,j=0;j<D.length-1;j++)I+=D[j].dist(D[j+1]);return I}function E2(D,I,j){return D?.6*I*j:0}function C2(D,I){return Math.max(D?D.right-D.left:0,I?I.right-I.left:0)}function rS(D,I,j,le,ye,Ce){for(var Ie=E2(j,ye,Ce),$e=C2(j,le)*Ce,ht=0,wt=S2(D)/2,Et=0;Et<D.length-1;Et++){var Yt=D[Et],lr=D[Et+1],er=Yt.dist(lr);if(ht+er>wt){var xr=(wt-ht)/er,Ur=zi(Yt.x,lr.x,xr),nn=zi(Yt.y,lr.y,xr),qr=new cv(Ur,nn,lr.angleTo(Yt),Et);return qr._round(),!Ie||M2(D,qr,$e,Ie,I)?qr:void 0}ht+=er}}function nS(D,I,j,le,ye,Ce,Ie,$e,ht){var wt=E2(le,Ce,Ie),Et=C2(le,ye),Yt=Et*Ie,lr=D[0].x===0||D[0].x===ht||D[0].y===0||D[0].y===ht;I-Yt<I/4&&(I=Yt+I/4);var er=Ce*2,xr=lr?I/2*$e%I:(Et/2+er)*Ie*$e%I;return L2(D,xr,I,wt,j,Yt,lr,!1,ht)}function L2(D,I,j,le,ye,Ce,Ie,$e,ht){for(var wt=Ce/2,Et=S2(D),Yt=0,lr=I-j,er=[],xr=0;xr<D.length-1;xr++){for(var Ur=D[xr],nn=D[xr+1],qr=Ur.dist(nn),Sn=nn.angleTo(Ur);lr+j<Yt+qr;){lr+=j;var bn=(lr-Yt)/qr,Mn=zi(Ur.x,nn.x,bn),Fn=zi(Ur.y,nn.y,bn);if(Mn>=0&&Mn<ht&&Fn>=0&&Fn<ht&&lr-wt>=0&&lr+wt<=Et){var Vn=new cv(Mn,Fn,Sn,xr);Vn._round(),(!le||M2(D,Vn,Ce,le,ye))&&er.push(Vn)}}Yt+=qr}return!$e&&!er.length&&!Ie&&(er=L2(D,Yt/2,j,le,ye,Ce,Ie,!0,ht)),er}function P2(D,I,j,le,ye){for(var Ce=[],Ie=0;Ie<D.length;Ie++)for(var $e=D[Ie],ht=void 0,wt=0;wt<$e.length-1;wt++){var Et=$e[wt],Yt=$e[wt+1];Et.x<I&&Yt.x<I||(Et.x<I?Et=new t(I,Et.y+(Yt.y-Et.y)*((I-Et.x)/(Yt.x-Et.x)))._round():Yt.x<I&&(Yt=new t(I,Et.y+(Yt.y-Et.y)*((I-Et.x)/(Yt.x-Et.x)))._round()),!(Et.y<j&&Yt.y<j)&&(Et.y<j?Et=new t(Et.x+(Yt.x-Et.x)*((j-Et.y)/(Yt.y-Et.y)),j)._round():Yt.y<j&&(Yt=new t(Et.x+(Yt.x-Et.x)*((j-Et.y)/(Yt.y-Et.y)),j)._round()),!(Et.x>=le&&Yt.x>=le)&&(Et.x>=le?Et=new t(le,Et.y+(Yt.y-Et.y)*((le-Et.x)/(Yt.x-Et.x)))._round():Yt.x>=le&&(Yt=new t(le,Et.y+(Yt.y-Et.y)*((le-Et.x)/(Yt.x-Et.x)))._round()),!(Et.y>=ye&&Yt.y>=ye)&&(Et.y>=ye?Et=new t(Et.x+(Yt.x-Et.x)*((ye-Et.y)/(Yt.y-Et.y)),ye)._round():Yt.y>=ye&&(Yt=new t(Et.x+(Yt.x-Et.x)*((ye-Et.y)/(Yt.y-Et.y)),ye)._round()),(!ht||!Et.equals(ht[ht.length-1]))&&(ht=[Et],Ce.push(ht)),ht.push(Yt)))))}return Ce}var hv=Us;function R2(D,I,j,le){var ye=[],Ce=D.image,Ie=Ce.pixelRatio,$e=Ce.paddedRect.w-2*hv,ht=Ce.paddedRect.h-2*hv,wt=D.right-D.left,Et=D.bottom-D.top,Yt=Ce.stretchX||[[0,$e]],lr=Ce.stretchY||[[0,ht]],er=function(ii,ei){return ii+ei[1]-ei[0]},xr=Yt.reduce(er,0),Ur=lr.reduce(er,0),nn=$e-xr,qr=ht-Ur,Sn=0,bn=xr,Mn=0,Fn=Ur,Vn=0,qn=nn,$n=0,Ca=qr;if(Ce.content&&le){var da=Ce.content;Sn=H0(Yt,0,da[0]),Mn=H0(lr,0,da[1]),bn=H0(Yt,da[0],da[2]),Fn=H0(lr,da[1],da[3]),Vn=da[0]-Sn,$n=da[1]-Mn,qn=da[2]-da[0]-bn,Ca=da[3]-da[1]-Fn}var ba=function(ii,ei,Ci,Ri){var Wi=V0(ii.stretch-Sn,bn,wt,D.left),Xi=G0(ii.fixed-Vn,qn,ii.stretch,xr),Ao=V0(ei.stretch-Mn,Fn,Et,D.top),uo=G0(ei.fixed-$n,Ca,ei.stretch,Ur),Ko=V0(Ci.stretch-Sn,bn,wt,D.left),Jo=G0(Ci.fixed-Vn,qn,Ci.stretch,xr),Mo=V0(Ri.stretch-Mn,Fn,Et,D.top),os=G0(Ri.fixed-$n,Ca,Ri.stretch,Ur),ss=new t(Wi,Ao),yo=new t(Ko,Ao),ls=new t(Ko,Mo),al=new t(Wi,Mo),Hf=new t(Xi/Ie,uo/Ie),Pc=new t(Jo/Ie,os/Ie),Rc=I*Math.PI/180;if(Rc){var Dc=Math.sin(Rc),bv=Math.cos(Rc),Kl=[bv,-Dc,Dc,bv];ss._matMult(Kl),yo._matMult(Kl),al._matMult(Kl),ls._matMult(Kl)}var K0=ii.stretch+ii.fixed,xy=Ci.stretch+Ci.fixed,J0=ei.stretch+ei.fixed,by=Ri.stretch+Ri.fixed,Ml={x:Ce.paddedRect.x+hv+K0,y:Ce.paddedRect.y+hv+J0,w:xy-K0,h:by-J0},wv=qn/Ie/wt,Q0=Ca/Ie/Et;return{tl:ss,tr:yo,bl:al,br:ls,tex:Ml,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Hf,pixelOffsetBR:Pc,minFontScaleX:wv,minFontScaleY:Q0,isSDF:j}};if(!le||!Ce.stretchX&&!Ce.stretchY)ye.push(ba({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:$e+1},{fixed:0,stretch:ht+1}));else for(var Ha=D2(Yt,nn,xr),Ma=D2(lr,qr,Ur),Sa=0;Sa<Ha.length-1;Sa++)for(var ja=Ha[Sa],Ba=Ha[Sa+1],ni=0;ni<Ma.length-1;ni++){var xi=Ma[ni],ai=Ma[ni+1];ye.push(ba(ja,xi,Ba,ai))}return ye}function H0(D,I,j){for(var le=0,ye=0,Ce=D;ye<Ce.length;ye+=1){var Ie=Ce[ye];le+=Math.max(I,Math.min(j,Ie[1]))-Math.max(I,Math.min(j,Ie[0]))}return le}function D2(D,I,j){for(var le=[{fixed:-hv,stretch:0}],ye=0,Ce=D;ye<Ce.length;ye+=1){var Ie=Ce[ye],$e=Ie[0],ht=Ie[1],wt=le[le.length-1];le.push({fixed:$e-wt.stretch,stretch:wt.stretch}),le.push({fixed:$e-wt.stretch,stretch:wt.stretch+(ht-$e)})}return le.push({fixed:I+hv,stretch:j}),le}function V0(D,I,j,le){return D/I*j+le}function G0(D,I,j,le){return D-I*j/le}function aS(D,I,j,le,ye,Ce,Ie,$e){for(var ht=le.layout.get("text-rotate").evaluate(Ce,{})*Math.PI/180,wt=[],Et=0,Yt=I.positionedLines;Et<Yt.length;Et+=1)for(var lr=Yt[Et],er=0,xr=lr.positionedGlyphs;er<xr.length;er+=1){var Ur=xr[er];if(Ur.rect){var nn=Ur.rect||{},qr=1,Sn=v2+qr,bn=!0,Mn=1,Fn=0,Vn=(ye||$e)&&Ur.vertical,qn=Ur.metrics.advance*Ur.scale/2;if($e&&I.verticalizable){var $n=(Ur.scale-1)*Io,Ca=(Io-Ur.metrics.width*Ur.scale)/2;Fn=lr.lineOffset/2-(Ur.imageName?-Ca:$n)}if(Ur.imageName){var da=Ie[Ur.imageName];bn=da.sdf,Mn=da.pixelRatio,Sn=Us/Mn}var ba=ye?[Ur.x+qn,Ur.y]:[0,0],Ha=ye?[0,0]:[Ur.x+qn+j[0],Ur.y+j[1]-Fn],Ma=[0,0];Vn&&(Ma=Ha,Ha=[0,0]);var Sa=(Ur.metrics.left-Sn)*Ur.scale-qn+Ha[0],ja=(-Ur.metrics.top-Sn)*Ur.scale+Ha[1],Ba=Sa+nn.w*Ur.scale/Mn,ni=ja+nn.h*Ur.scale/Mn,xi=new t(Sa,ja),ai=new t(Ba,ja),ii=new t(Sa,ni),ei=new t(Ba,ni);if(Vn){var Ci=new t(-qn,qn-bd),Ri=-Math.PI/2,Wi=Io/2-qn,Xi=Ur.imageName?Wi:0,Ao=new t(5-bd-Wi,-Xi),uo=new(Function.prototype.bind.apply(t,[null].concat(Ma)));xi._rotateAround(Ri,Ci)._add(Ao)._add(uo),ai._rotateAround(Ri,Ci)._add(Ao)._add(uo),ii._rotateAround(Ri,Ci)._add(Ao)._add(uo),ei._rotateAround(Ri,Ci)._add(Ao)._add(uo)}if(ht){var Ko=Math.sin(ht),Jo=Math.cos(ht),Mo=[Jo,-Ko,Ko,Jo];xi._matMult(Mo),ai._matMult(Mo),ii._matMult(Mo),ei._matMult(Mo)}var os=new t(0,0),ss=new t(0,0),yo=0,ls=0;wt.push({tl:xi,tr:ai,bl:ii,br:ei,tex:nn,writingMode:I.writingMode,glyphOffset:ba,sectionIndex:Ur.sectionIndex,isSDF:bn,pixelOffsetTL:os,pixelOffsetBR:ss,minFontScaleX:yo,minFontScaleY:ls})}}return wt}var W0=function(I,j,le,ye,Ce,Ie,$e,ht,wt,Et){if(this.boxStartIndex=I.length,wt){var Yt=Ie.top,lr=Ie.bottom,er=Ie.collisionPadding;er&&(Yt-=er[1],lr+=er[3]);var xr=lr-Yt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Ur=Ie.top*$e-ht,nn=Ie.bottom*$e+ht,qr=Ie.left*$e-ht,Sn=Ie.right*$e+ht,bn=Ie.collisionPadding;if(bn&&(qr-=bn[0]*$e,Ur-=bn[1]*$e,Sn+=bn[2]*$e,nn+=bn[3]*$e),Et){var Mn=new t(qr,Ur),Fn=new t(Sn,Ur),Vn=new t(qr,nn),qn=new t(Sn,nn),$n=Et*Math.PI/180;Mn._rotate($n),Fn._rotate($n),Vn._rotate($n),qn._rotate($n),qr=Math.min(Mn.x,Fn.x,Vn.x,qn.x),Sn=Math.max(Mn.x,Fn.x,Vn.x,qn.x),Ur=Math.min(Mn.y,Fn.y,Vn.y,qn.y),nn=Math.max(Mn.y,Fn.y,Vn.y,qn.y)}I.emplaceBack(j.x,j.y,qr,Ur,Sn,nn,le,ye,Ce)}this.boxEndIndex=I.length},vv=function(I,j){if(I===void 0&&(I=[]),j===void 0&&(j=iS),this.data=I,this.length=this.data.length,this.compare=j,this.length>0)for(var le=(this.length>>1)-1;le>=0;le--)this._down(le)};vv.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},vv.prototype.pop=function(){if(this.length!==0){var I=this.data[0],j=this.data.pop();return this.length--,this.length>0&&(this.data[0]=j,this._down(0)),I}},vv.prototype.peek=function(){return this.data[0]},vv.prototype._up=function(I){for(var j=this,le=j.data,ye=j.compare,Ce=le[I];I>0;){var Ie=I-1>>1,$e=le[Ie];if(ye(Ce,$e)>=0)break;le[I]=$e,I=Ie}le[I]=Ce},vv.prototype._down=function(I){for(var j=this,le=j.data,ye=j.compare,Ce=this.length>>1,Ie=le[I];I<Ce;){var $e=(I<<1)+1,ht=le[$e],wt=$e+1;if(wt<this.length&&ye(le[wt],ht)<0&&($e=wt,ht=le[wt]),ye(ht,Ie)>=0)break;le[I]=ht,I=$e}le[I]=Ie};function iS(D,I){return D<I?-1:D>I?1:0}function oS(D,I,j){I===void 0&&(I=1),j===void 0&&(j=!1);for(var le=1/0,ye=1/0,Ce=-1/0,Ie=-1/0,$e=D[0],ht=0;ht<$e.length;ht++){var wt=$e[ht];(!ht||wt.x<le)&&(le=wt.x),(!ht||wt.y<ye)&&(ye=wt.y),(!ht||wt.x>Ce)&&(Ce=wt.x),(!ht||wt.y>Ie)&&(Ie=wt.y)}var Et=Ce-le,Yt=Ie-ye,lr=Math.min(Et,Yt),er=lr/2,xr=new vv([],sS);if(lr===0)return new t(le,ye);for(var Ur=le;Ur<Ce;Ur+=lr)for(var nn=ye;nn<Ie;nn+=lr)xr.push(new dv(Ur+er,nn+er,er,D));for(var qr=uS(D),Sn=xr.length;xr.length;){var bn=xr.pop();(bn.d>qr.d||!qr.d)&&(qr=bn,j&&console.log("found best %d after %d probes",Math.round(1e4*bn.d)/1e4,Sn)),!(bn.max-qr.d<=I)&&(er=bn.h/2,xr.push(new dv(bn.p.x-er,bn.p.y-er,er,D)),xr.push(new dv(bn.p.x+er,bn.p.y-er,er,D)),xr.push(new dv(bn.p.x-er,bn.p.y+er,er,D)),xr.push(new dv(bn.p.x+er,bn.p.y+er,er,D)),Sn+=4)}return j&&(console.log("num probes: "+Sn),console.log("best distance: "+qr.d)),qr.p}function sS(D,I){return I.max-D.max}function dv(D,I,j,le){this.p=new t(D,I),this.h=j,this.d=lS(this.p,le),this.max=this.d+this.h*Math.SQRT2}function lS(D,I){for(var j=!1,le=1/0,ye=0;ye<I.length;ye++)for(var Ce=I[ye],Ie=0,$e=Ce.length,ht=$e-1;Ie<$e;ht=Ie++){var wt=Ce[Ie],Et=Ce[ht];wt.y>D.y!=Et.y>D.y&&D.x<(Et.x-wt.x)*(D.y-wt.y)/(Et.y-wt.y)+wt.x&&(j=!j),le=Math.min(le,Tu(D,wt,Et))}return(j?1:-1)*Math.sqrt(le)}function uS(D){for(var I=0,j=0,le=0,ye=D[0],Ce=0,Ie=ye.length,$e=Ie-1;Ce<Ie;$e=Ce++){var ht=ye[Ce],wt=ye[$e],Et=ht.x*wt.y-wt.x*ht.y;j+=(ht.x+wt.x)*Et,le+=(ht.y+wt.y)*Et,I+=Et*3}return new dv(j/I,le/I,0,D)}var pv=7,hy=Number.POSITIVE_INFINITY;function I2(D,I){function j(ye,Ce){var Ie=0,$e=0;Ce<0&&(Ce=0);var ht=Ce/Math.sqrt(2);switch(ye){case"top-right":case"top-left":$e=ht-pv;break;case"bottom-right":case"bottom-left":$e=-ht+pv;break;case"bottom":$e=-Ce+pv;break;case"top":$e=Ce-pv;break}switch(ye){case"top-right":case"bottom-right":Ie=-ht;break;case"top-left":case"bottom-left":Ie=ht;break;case"left":Ie=Ce;break;case"right":Ie=-Ce;break}return[Ie,$e]}function le(ye,Ce,Ie){var $e=0,ht=0;switch(Ce=Math.abs(Ce),Ie=Math.abs(Ie),ye){case"top-right":case"top-left":case"top":ht=Ie-pv;break;case"bottom-right":case"bottom-left":case"bottom":ht=-Ie+pv;break}switch(ye){case"top-right":case"bottom-right":case"right":$e=-Ce;break;case"top-left":case"bottom-left":case"left":$e=Ce;break}return[$e,ht]}return I[1]!==hy?le(D,I[0],I[1]):j(D,I[0])}function fS(D,I,j,le,ye,Ce,Ie){D.createArrays();var $e=512*D.overscaling;D.tilePixelRatio=Ra/$e,D.compareText={},D.iconsNeedLinear=!1;var ht=D.layers[0].layout,wt=D.layers[0]._unevaluatedLayout._values,Et={};if(D.textSizeData.kind==="composite"){var Yt=D.textSizeData,lr=Yt.minZoom,er=Yt.maxZoom;Et.compositeTextSizes=[wt["text-size"].possiblyEvaluate(new Un(lr),Ie),wt["text-size"].possiblyEvaluate(new Un(er),Ie)]}if(D.iconSizeData.kind==="composite"){var xr=D.iconSizeData,Ur=xr.minZoom,nn=xr.maxZoom;Et.compositeIconSizes=[wt["icon-size"].possiblyEvaluate(new Un(Ur),Ie),wt["icon-size"].possiblyEvaluate(new Un(nn),Ie)]}Et.layoutTextSize=wt["text-size"].possiblyEvaluate(new Un(D.zoom+1),Ie),Et.layoutIconSize=wt["icon-size"].possiblyEvaluate(new Un(D.zoom+1),Ie),Et.textMaxSize=wt["text-size"].possiblyEvaluate(new Un(18));for(var qr=ht.get("text-line-height")*Io,Sn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point",bn=ht.get("text-keep-upright"),Mn=ht.get("text-size"),Fn=function(){var $n=qn[Vn],Ca=ht.get("text-font").evaluate($n,{},Ie).join(","),da=Mn.evaluate($n,{},Ie),ba=Et.layoutTextSize.evaluate($n,{},Ie),Ha=Et.layoutIconSize.evaluate($n,{},Ie),Ma={horizontal:{},vertical:void 0},Sa=$n.text,ja=[0,0];if(Sa){var Ba=Sa.toString(),ni=ht.get("text-letter-spacing").evaluate($n,{},Ie)*Io,xi=tr(Ba)?ni:0,ai=ht.get("text-anchor").evaluate($n,{},Ie),ii=ht.get("text-variable-anchor");if(!ii){var ei=ht.get("text-radial-offset").evaluate($n,{},Ie);ei?ja=I2(ai,[ei*Io,hy]):ja=ht.get("text-offset").evaluate($n,{},Ie).map(function(Hf){return Hf*Io})}var Ci=Sn?"center":ht.get("text-justify").evaluate($n,{},Ie),Ri=ht.get("symbol-placement"),Wi=Ri==="point"?ht.get("text-max-width").evaluate($n,{},Ie)*Io:0,Xi=function(){D.allowVerticalPlacement&&Ut(Ba)&&(Ma.vertical=U0(Sa,I,j,ye,Ca,Wi,qr,ai,"left",xi,ja,nl.vertical,!0,Ri,ba,da))};if(!Sn&&ii){for(var Ao=Ci==="auto"?ii.map(function(Hf){return vy(Hf)}):[Ci],uo=!1,Ko=0;Ko<Ao.length;Ko++){var Jo=Ao[Ko];if(!Ma.horizontal[Jo])if(uo)Ma.horizontal[Jo]=Ma.horizontal[0];else{var Mo=U0(Sa,I,j,ye,Ca,Wi,qr,"center",Jo,xi,ja,nl.horizontal,!1,Ri,ba,da);Mo&&(Ma.horizontal[Jo]=Mo,uo=Mo.positionedLines.length===1)}}Xi()}else{Ci==="auto"&&(Ci=vy(ai));var os=U0(Sa,I,j,ye,Ca,Wi,qr,ai,Ci,xi,ja,nl.horizontal,!1,Ri,ba,da);os&&(Ma.horizontal[Ci]=os),Xi(),Ut(Ba)&&Sn&&bn&&(Ma.vertical=U0(Sa,I,j,ye,Ca,Wi,qr,ai,Ci,xi,ja,nl.vertical,!1,Ri,ba,da))}}var ss=void 0,yo=!1;if($n.icon&&$n.icon.name){var ls=le[$n.icon.name];ls&&(ss=eS(ye[$n.icon.name],ht.get("icon-offset").evaluate($n,{},Ie),ht.get("icon-anchor").evaluate($n,{},Ie)),yo=ls.sdf,D.sdfIcons===void 0?D.sdfIcons=ls.sdf:D.sdfIcons!==ls.sdf&&H("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ls.pixelRatio!==D.pixelRatio||ht.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var al=F2(Ma.horizontal)||Ma.vertical;D.iconsInText=al?al.iconsInText:!1,(al||ss)&&cS(D,$n,Ma,ss,le,Et,ba,Ha,ja,yo,Ie)},Vn=0,qn=D.features;Vn<qn.length;Vn+=1)Fn();Ce&&D.generateCollisionDebugBuffers()}function vy(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function cS(D,I,j,le,ye,Ce,Ie,$e,ht,wt,Et){var Yt=Ce.textMaxSize.evaluate(I,{});Yt===void 0&&(Yt=Ie);var lr=D.layers[0].layout,er=lr.get("icon-offset").evaluate(I,{},Et),xr=F2(j.horizontal),Ur=24,nn=Ie/Ur,qr=D.tilePixelRatio*nn,Sn=D.tilePixelRatio*Yt/Ur,bn=D.tilePixelRatio*$e,Mn=D.tilePixelRatio*lr.get("symbol-spacing"),Fn=lr.get("text-padding")*D.tilePixelRatio,Vn=lr.get("icon-padding")*D.tilePixelRatio,qn=lr.get("text-max-angle")/180*Math.PI,$n=lr.get("text-rotation-alignment")==="map"&&lr.get("symbol-placement")!=="point",Ca=lr.get("icon-rotation-alignment")==="map"&&lr.get("symbol-placement")!=="point",da=lr.get("symbol-placement"),ba=Mn/2,Ha=lr.get("icon-text-fit"),Ma;le&&Ha!=="none"&&(D.allowVerticalPlacement&&j.vertical&&(Ma=w2(le,j.vertical,Ha,lr.get("icon-text-fit-padding"),er,nn)),xr&&(le=w2(le,xr,Ha,lr.get("icon-text-fit-padding"),er,nn)));var Sa=function(bv,Kl){Kl.x<0||Kl.x>=Ra||Kl.y<0||Kl.y>=Ra||hS(D,Kl,bv,j,le,ye,Ma,D.layers[0],D.collisionBoxArray,I.index,I.sourceLayerIndex,D.index,qr,Fn,$n,ht,bn,Vn,Ca,er,I,Ce,wt,Et,Ie)};if(da==="line")for(var ja=0,Ba=P2(I.geometry,0,0,Ra,Ra);ja<Ba.length;ja+=1)for(var ni=Ba[ja],xi=nS(ni,Mn,qn,j.vertical||xr,le,Ur,Sn,D.overscaling,Ra),ai=0,ii=xi;ai<ii.length;ai+=1){var ei=ii[ai],Ci=xr;(!Ci||!vS(D,Ci.text,ba,ei))&&Sa(ni,ei)}else if(da==="line-center")for(var Ri=0,Wi=I.geometry;Ri<Wi.length;Ri+=1){var Xi=Wi[Ri];if(Xi.length>1){var Ao=rS(Xi,qn,j.vertical||xr,le,Ur,Sn);Ao&&Sa(Xi,Ao)}}else if(I.type==="Polygon")for(var uo=0,Ko=ry(I.geometry,0);uo<Ko.length;uo+=1){var Jo=Ko[uo],Mo=oS(Jo,16);Sa(Jo[0],new cv(Mo.x,Mo.y,0))}else if(I.type==="LineString")for(var os=0,ss=I.geometry;os<ss.length;os+=1){var yo=ss[os];Sa(yo,new cv(yo[0].x,yo[0].y,0))}else if(I.type==="Point")for(var ls=0,al=I.geometry;ls<al.length;ls+=1)for(var Hf=al[ls],Pc=0,Rc=Hf;Pc<Rc.length;Pc+=1){var Dc=Rc[Pc];Sa([Dc],new cv(Dc.x,Dc.y,0))}}var wd=255,Cc=wd*Su;function k2(D,I,j,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr){var Ur=aS(I,j,$e,ye,Ce,Ie,le,D.allowVerticalPlacement),nn=D.textSizeData,qr=null;nn.kind==="source"?(qr=[Su*ye.layout.get("text-size").evaluate(Ie,{})],qr[0]>Cc&&H(D.layerIds[0]+': Value for "text-size" is >= '+wd+'. Reduce your "text-size".')):nn.kind==="composite"&&(qr=[Su*er.compositeTextSizes[0].evaluate(Ie,{},xr),Su*er.compositeTextSizes[1].evaluate(Ie,{},xr)],(qr[0]>Cc||qr[1]>Cc)&&H(D.layerIds[0]+': Value for "text-size" is >= '+wd+'. Reduce your "text-size".')),D.addSymbols(D.text,Ur,qr,$e,Ce,Ie,wt,I,ht.lineStartIndex,ht.lineLength,lr,xr);for(var Sn=0,bn=Et;Sn<bn.length;Sn+=1){var Mn=bn[Sn];Yt[Mn]=D.text.placedSymbolArray.length-1}return Ur.length*4}function F2(D){for(var I in D)return D[I];return null}function hS(D,I,j,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr,er,xr,Ur,nn,qr,Sn,bn,Mn,Fn,Vn,qn,$n){var Ca,da=D.addToLineVertexArray(I,j),ba,Ha,Ma,Sa,ja=0,Ba=0,ni=0,xi=0,ai=-1,ii=-1,ei={},Ci=Xe(""),Ri=0,Wi=0;if($e._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ca=$e.layout.get("text-offset").evaluate(Mn,{},qn).map(function(Md){return Md*Io}),Ri=Ca[0],Wi=Ca[1]):(Ri=$e.layout.get("text-radial-offset").evaluate(Mn,{},qn)*Io,Wi=hy),D.allowVerticalPlacement&&le.vertical){var Xi=$e.layout.get("text-rotate").evaluate(Mn,{},qn),Ao=Xi+90,uo=le.vertical;Ma=new W0(ht,I,wt,Et,Yt,uo,lr,er,xr,Ao),Ie&&(Sa=new W0(ht,I,wt,Et,Yt,Ie,nn,qr,xr,Ao))}if(ye){var Ko=$e.layout.get("icon-rotate").evaluate(Mn,{}),Jo=$e.layout.get("icon-text-fit")!=="none",Mo=R2(ye,Ko,Vn,Jo),os=Ie?R2(Ie,Ko,Vn,Jo):void 0;Ha=new W0(ht,I,wt,Et,Yt,ye,nn,qr,!1,Ko),ja=Mo.length*4;var ss=D.iconSizeData,yo=null;ss.kind==="source"?(yo=[Su*$e.layout.get("icon-size").evaluate(Mn,{})],yo[0]>Cc&&H(D.layerIds[0]+': Value for "icon-size" is >= '+wd+'. Reduce your "icon-size".')):ss.kind==="composite"&&(yo=[Su*Fn.compositeIconSizes[0].evaluate(Mn,{},qn),Su*Fn.compositeIconSizes[1].evaluate(Mn,{},qn)],(yo[0]>Cc||yo[1]>Cc)&&H(D.layerIds[0]+': Value for "icon-size" is >= '+wd+'. Reduce your "icon-size".')),D.addSymbols(D.icon,Mo,yo,bn,Sn,Mn,!1,I,da.lineStartIndex,da.lineLength,-1,qn),ai=D.icon.placedSymbolArray.length-1,os&&(Ba=os.length*4,D.addSymbols(D.icon,os,yo,bn,Sn,Mn,nl.vertical,I,da.lineStartIndex,da.lineLength,-1,qn),ii=D.icon.placedSymbolArray.length-1)}for(var ls in le.horizontal){var al=le.horizontal[ls];if(!ba){Ci=Xe(al.text);var Hf=$e.layout.get("text-rotate").evaluate(Mn,{},qn);ba=new W0(ht,I,wt,Et,Yt,al,lr,er,xr,Hf)}var Pc=al.positionedLines.length===1;if(ni+=k2(D,I,al,Ce,$e,xr,Mn,Ur,da,le.vertical?nl.horizontal:nl.horizontalOnly,Pc?Object.keys(le.horizontal):[ls],ei,ai,Fn,qn),Pc)break}le.vertical&&(xi+=k2(D,I,le.vertical,Ce,$e,xr,Mn,Ur,da,nl.vertical,["vertical"],ei,ii,Fn,qn));var Rc=ba?ba.boxStartIndex:D.collisionBoxArray.length,Dc=ba?ba.boxEndIndex:D.collisionBoxArray.length,bv=Ma?Ma.boxStartIndex:D.collisionBoxArray.length,Kl=Ma?Ma.boxEndIndex:D.collisionBoxArray.length,K0=Ha?Ha.boxStartIndex:D.collisionBoxArray.length,xy=Ha?Ha.boxEndIndex:D.collisionBoxArray.length,J0=Sa?Sa.boxStartIndex:D.collisionBoxArray.length,by=Sa?Sa.boxEndIndex:D.collisionBoxArray.length,Ml=-1,wv=function(Md,J2){return Md&&Md.circleDiameter?Math.max(Md.circleDiameter,J2):J2};Ml=wv(ba,Ml),Ml=wv(Ma,Ml),Ml=wv(Ha,Ml),Ml=wv(Sa,Ml);var Q0=Ml>-1?1:0;Q0&&(Ml*=$n/Io),D.glyphOffsetArray.length>=mi.MAX_GLYPHS&&H("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,Mn.sortKey),D.symbolInstances.emplaceBack(I.x,I.y,ei.right>=0?ei.right:-1,ei.center>=0?ei.center:-1,ei.left>=0?ei.left:-1,ei.vertical||-1,ai,ii,Ci,Rc,Dc,bv,Kl,K0,xy,J0,by,wt,ni,xi,ja,Ba,Q0,0,lr,Ri,Wi,Ml)}function vS(D,I,j,le){var ye=D.compareText;if(!(I in ye))ye[I]=[];else for(var Ce=ye[I],Ie=Ce.length-1;Ie>=0;Ie--)if(le.dist(Ce[Ie])<j)return!0;return ye[I].push(le),!1}var dS=sv.VectorTileFeature.types,pS=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Y0(D,I,j,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr){var er=$e?Math.min(Cc,Math.round($e[0])):0,xr=$e?Math.min(Cc,Math.round($e[1])):0;D.emplaceBack(I,j,Math.round(le*32),Math.round(ye*32),Ce,Ie,(er<<1)+(ht?1:0),xr,wt*16,Et*16,Yt*256,lr*256)}function dy(D,I,j){D.emplaceBack(I.x,I.y,j),D.emplaceBack(I.x,I.y,j),D.emplaceBack(I.x,I.y,j),D.emplaceBack(I.x,I.y,j)}function gS(D){for(var I=0,j=D.sections;I<j.length;I+=1){var le=j[I];if(rn(le.text))return!0}return!1}var gv=function(I){this.layoutVertexArray=new Qu,this.indexArray=new wu,this.programConfigurations=I,this.segments=new $,this.dynamicLayoutVertexArray=new nd,this.opacityVertexArray=new ad,this.placedSymbolArray=new Ac};gv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},gv.prototype.upload=function(I,j,le,ye){this.isEmpty()||(le&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,oy.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,j),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,yM.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,pS,!0),this.opacityVertexBuffer.itemSize=1),(le||ye)&&this.programConfigurations.upload(I))},gv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},he("SymbolBuffers",gv);var Td=function(I,j,le){this.layoutVertexArray=new I,this.layoutAttributes=j,this.indexArray=new le,this.segments=new $,this.collisionVertexArray=new bs};Td.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,mM.members,!0)},Td.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},he("CollisionBuffers",Td);var mi=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ht){return ht.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=rv([]),this.placementViewportMatrix=rv([]);var j=this.layers[0],le=j._unevaluatedLayout._values;this.textSizeData=cy(this.zoom,le["text-size"]),this.iconSizeData=cy(this.zoom,le["icon-size"]);var ye=this.layers[0].layout,Ce=ye.get("symbol-sort-key"),Ie=ye.get("symbol-z-order");this.sortFeaturesByKey=Ie!=="viewport-y"&&Ce.constantOr(1)!==void 0;var $e=Ie==="viewport-y"||Ie==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=$e&&(ye.get("text-allow-overlap")||ye.get("icon-allow-overlap")||ye.get("text-ignore-placement")||ye.get("icon-ignore-placement")),ye.get("symbol-placement")==="point"&&(this.writingModes=ye.get("text-writing-mode").map(function(ht){return nl[ht]})),this.stateDependentLayerIds=this.layers.filter(function(ht){return ht.isStateDependent()}).map(function(ht){return ht.id}),this.sourceID=I.sourceID};mi.prototype.createArrays=function(){this.text=new gv(new Ga(oy.members,this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new gv(new Ga(oy.members,this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new Tl,this.lineVertexArray=new C0,this.symbolInstances=new E0},mi.prototype.calculateGlyphDependencies=function(I,j,le,ye,Ce){for(var Ie=0;Ie<I.length;Ie++)if(j[I.charCodeAt(Ie)]=!0,(le||ye)&&Ce){var $e=yd[I.charAt(Ie)];$e&&(j[$e.charCodeAt(0)]=!0)}},mi.prototype.populate=function(I,j,le){var ye=this.layers[0],Ce=ye.layout,Ie=Ce.get("text-font"),$e=Ce.get("text-field"),ht=Ce.get("icon-image"),wt=($e.value.kind!=="constant"||$e.value.value instanceof $i&&!$e.value.value.isEmpty()||$e.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Et=ht.value.kind!=="constant"||!!ht.value.value||Object.keys(ht.parameters).length>0,Yt=Ce.get("symbol-sort-key");if(this.features=[],!(!wt&&!Et)){for(var lr=j.iconDependencies,er=j.glyphDependencies,xr=j.availableImages,Ur=new Un(this.zoom),nn=0,qr=I;nn<qr.length;nn+=1){var Sn=qr[nn],bn=Sn.feature,Mn=Sn.id,Fn=Sn.index,Vn=Sn.sourceLayerIndex,qn=ye._featureFilter.needGeometry,$n={type:bn.type,id:Mn,properties:bn.properties,geometry:qn?vi(bn):[]};if(ye._featureFilter.filter(Ur,$n,le)){qn||($n.geometry=vi(bn));var Ca=void 0;if(wt){var da=ye.getValueAndResolveTokens("text-field",$n,le,xr),ba=$i.factory(da);gS(ba)&&(this.hasRTLText=!0),(!this.hasRTLText||Va()==="unavailable"||this.hasRTLText&&ri.isParsed())&&(Ca=wM(ba,ye,$n))}var Ha=void 0;if(Et){var Ma=ye.getValueAndResolveTokens("icon-image",$n,le,xr);Ma instanceof Co?Ha=Ma:Ha=Co.fromString(Ma)}if(!(!Ca&&!Ha)){var Sa=this.sortFeaturesByKey?Yt.evaluate($n,{},le):void 0,ja={id:Mn,text:Ca,icon:Ha,index:Fn,sourceLayerIndex:Vn,geometry:vi(bn),properties:bn.properties,type:dS[bn.type],sortKey:Sa};if(this.features.push(ja),Ha&&(lr[Ha.name]=!0),Ca){var Ba=Ie.evaluate($n,{},le).join(","),ni=Ce.get("text-rotation-alignment")==="map"&&Ce.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(nl.vertical)>=0;for(var xi=0,ai=Ca.sections;xi<ai.length;xi+=1){var ii=ai[xi];if(ii.image)lr[ii.image.name]=!0;else{var ei=Ut(Ca.toString()),Ci=ii.fontStack||Ba,Ri=er[Ci]=er[Ci]||{};this.calculateGlyphDependencies(ii.text,Ri,ni,this.allowVerticalPlacement,ei)}}}}}}Ce.get("symbol-placement")==="line"&&(this.features=TM(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Wi,Xi){return Wi.sortKey-Xi.sortKey})}},mi.prototype.update=function(I,j,le){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(I,j,this.layers,le),this.icon.programConfigurations.updatePaintArrays(I,j,this.layers,le))},mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mi.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mi.prototype.addToLineVertexArray=function(I,j){var le=this.lineVertexArray.length;if(I.segment!==void 0){for(var ye=I.dist(j[I.segment+1]),Ce=I.dist(j[I.segment]),Ie={},$e=I.segment+1;$e<j.length;$e++)Ie[$e]={x:j[$e].x,y:j[$e].y,tileUnitDistanceFromAnchor:ye},$e<j.length-1&&(ye+=j[$e+1].dist(j[$e]));for(var ht=I.segment||0;ht>=0;ht--)Ie[ht]={x:j[ht].x,y:j[ht].y,tileUnitDistanceFromAnchor:Ce},ht>0&&(Ce+=j[ht-1].dist(j[ht]));for(var wt=0;wt<j.length;wt++){var Et=Ie[wt];this.lineVertexArray.emplaceBack(Et.x,Et.y,Et.tileUnitDistanceFromAnchor)}}return{lineStartIndex:le,lineLength:this.lineVertexArray.length-le}},mi.prototype.addSymbols=function(I,j,le,ye,Ce,Ie,$e,ht,wt,Et,Yt,lr){for(var er=I.indexArray,xr=I.layoutVertexArray,Ur=I.segments.prepareSegment(4*j.length,xr,er,Ie.sortKey),nn=this.glyphOffsetArray.length,qr=Ur.vertexLength,Sn=this.allowVerticalPlacement&&$e===nl.vertical?Math.PI/2:0,bn=Ie.text&&Ie.text.sections,Mn=0;Mn<j.length;Mn++){var Fn=j[Mn],Vn=Fn.tl,qn=Fn.tr,$n=Fn.bl,Ca=Fn.br,da=Fn.tex,ba=Fn.pixelOffsetTL,Ha=Fn.pixelOffsetBR,Ma=Fn.minFontScaleX,Sa=Fn.minFontScaleY,ja=Fn.glyphOffset,Ba=Fn.isSDF,ni=Fn.sectionIndex,xi=Ur.vertexLength,ai=ja[1];Y0(xr,ht.x,ht.y,Vn.x,ai+Vn.y,da.x,da.y,le,Ba,ba.x,ba.y,Ma,Sa),Y0(xr,ht.x,ht.y,qn.x,ai+qn.y,da.x+da.w,da.y,le,Ba,Ha.x,ba.y,Ma,Sa),Y0(xr,ht.x,ht.y,$n.x,ai+$n.y,da.x,da.y+da.h,le,Ba,ba.x,Ha.y,Ma,Sa),Y0(xr,ht.x,ht.y,Ca.x,ai+Ca.y,da.x+da.w,da.y+da.h,le,Ba,Ha.x,Ha.y,Ma,Sa),dy(I.dynamicLayoutVertexArray,ht,Sn),er.emplaceBack(xi,xi+1,xi+2),er.emplaceBack(xi+1,xi+2,xi+3),Ur.vertexLength+=4,Ur.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ja[0]),(Mn===j.length-1||ni!==j[Mn+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(xr.length,Ie,Ie.index,{},lr,bn&&bn[ni])}I.placedSymbolArray.emplaceBack(ht.x,ht.y,nn,this.glyphOffsetArray.length-nn,qr,wt,Et,ht.segment,le?le[0]:0,le?le[1]:0,ye[0],ye[1],$e,0,!1,0,Yt)},mi.prototype._addCollisionDebugVertex=function(I,j,le,ye,Ce,Ie){return j.emplaceBack(0,0),I.emplaceBack(le.x,le.y,ye,Ce,Math.round(Ie.x),Math.round(Ie.y))},mi.prototype.addCollisionDebugVertices=function(I,j,le,ye,Ce,Ie,$e){var ht=Ce.segments.prepareSegment(4,Ce.layoutVertexArray,Ce.indexArray),wt=ht.vertexLength,Et=Ce.layoutVertexArray,Yt=Ce.collisionVertexArray,lr=$e.anchorX,er=$e.anchorY;this._addCollisionDebugVertex(Et,Yt,Ie,lr,er,new t(I,j)),this._addCollisionDebugVertex(Et,Yt,Ie,lr,er,new t(le,j)),this._addCollisionDebugVertex(Et,Yt,Ie,lr,er,new t(le,ye)),this._addCollisionDebugVertex(Et,Yt,Ie,lr,er,new t(I,ye)),ht.vertexLength+=4;var xr=Ce.indexArray;xr.emplaceBack(wt,wt+1),xr.emplaceBack(wt+1,wt+2),xr.emplaceBack(wt+2,wt+3),xr.emplaceBack(wt+3,wt),ht.primitiveLength+=4},mi.prototype.addDebugCollisionBoxes=function(I,j,le,ye){for(var Ce=I;Ce<j;Ce++){var Ie=this.collisionBoxArray.get(Ce),$e=Ie.x1,ht=Ie.y1,wt=Ie.x2,Et=Ie.y2;this.addCollisionDebugVertices($e,ht,wt,Et,ye?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,le)}},mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Td(Qh,l2.members,Sh),this.iconCollisionBox=new Td(Qh,l2.members,Sh);for(var I=0;I<this.symbolInstances.length;I++){var j=this.symbolInstances.get(I);this.addDebugCollisionBoxes(j.textBoxStartIndex,j.textBoxEndIndex,j,!0),this.addDebugCollisionBoxes(j.verticalTextBoxStartIndex,j.verticalTextBoxEndIndex,j,!0),this.addDebugCollisionBoxes(j.iconBoxStartIndex,j.iconBoxEndIndex,j,!1),this.addDebugCollisionBoxes(j.verticalIconBoxStartIndex,j.verticalIconBoxEndIndex,j,!1)}},mi.prototype._deserializeCollisionBoxesForSymbol=function(I,j,le,ye,Ce,Ie,$e,ht,wt){for(var Et={},Yt=j;Yt<le;Yt++){var lr=I.get(Yt);Et.textBox={x1:lr.x1,y1:lr.y1,x2:lr.x2,y2:lr.y2,anchorPointX:lr.anchorPointX,anchorPointY:lr.anchorPointY},Et.textFeatureIndex=lr.featureIndex;break}for(var er=ye;er<Ce;er++){var xr=I.get(er);Et.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},Et.verticalTextFeatureIndex=xr.featureIndex;break}for(var Ur=Ie;Ur<$e;Ur++){var nn=I.get(Ur);Et.iconBox={x1:nn.x1,y1:nn.y1,x2:nn.x2,y2:nn.y2,anchorPointX:nn.anchorPointX,anchorPointY:nn.anchorPointY},Et.iconFeatureIndex=nn.featureIndex;break}for(var qr=ht;qr<wt;qr++){var Sn=I.get(qr);Et.verticalIconBox={x1:Sn.x1,y1:Sn.y1,x2:Sn.x2,y2:Sn.y2,anchorPointX:Sn.anchorPointX,anchorPointY:Sn.anchorPointY},Et.verticalIconFeatureIndex=Sn.featureIndex;break}return Et},mi.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var j=0;j<this.symbolInstances.length;j++){var le=this.symbolInstances.get(j);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,le.textBoxStartIndex,le.textBoxEndIndex,le.verticalTextBoxStartIndex,le.verticalTextBoxEndIndex,le.iconBoxStartIndex,le.iconBoxEndIndex,le.verticalIconBoxStartIndex,le.verticalIconBoxEndIndex))}},mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mi.prototype.addIndicesForPlacedSymbol=function(I,j){for(var le=I.placedSymbolArray.get(j),ye=le.vertexStartIndex+le.numGlyphs*4,Ce=le.vertexStartIndex;Ce<ye;Ce+=4)I.indexArray.emplaceBack(Ce,Ce+1,Ce+2),I.indexArray.emplaceBack(Ce+1,Ce+2,Ce+3)},mi.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var j=Math.sin(I),le=Math.cos(I),ye=[],Ce=[],Ie=[],$e=0;$e<this.symbolInstances.length;++$e){Ie.push($e);var ht=this.symbolInstances.get($e);ye.push(Math.round(j*ht.anchorX+le*ht.anchorY)|0),Ce.push(ht.featureIndex)}return Ie.sort(function(wt,Et){return ye[wt]-ye[Et]||Ce[Et]-Ce[wt]}),Ie},mi.prototype.addToSortKeyRanges=function(I,j){var le=this.sortKeyRanges[this.sortKeyRanges.length-1];le&&le.sortKey===j?le.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:j,symbolInstanceStart:I,symbolInstanceEnd:I+1})},mi.prototype.sortFeatures=function(I){var j=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var le=0,ye=this.symbolInstanceIndexes;le<ye.length;le+=1){var Ce=ye[le],Ie=this.symbolInstances.get(Ce);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function($e,ht,wt){$e>=0&&wt.indexOf($e)===ht&&j.addIndicesForPlacedSymbol(j.text,$e)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},he("SymbolBucket",mi,{omit:["layers","collisionBoxArray","features","compareText"]}),mi.MAX_GLYPHS=65535,mi.addDynamicAttributes=dy;function yS(D,I){return I.replace(/{([^{}]+)}/g,function(j,le){return le in D?String(D[le]):""})}var mS=new eo({"symbol-placement":new xa(Xt.layout_symbol["symbol-placement"]),"symbol-spacing":new xa(Xt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new xa(Xt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ea(Xt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new xa(Xt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new xa(Xt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new xa(Xt.layout_symbol["icon-ignore-placement"]),"icon-optional":new xa(Xt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new xa(Xt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ea(Xt.layout_symbol["icon-size"]),"icon-text-fit":new xa(Xt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new xa(Xt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ea(Xt.layout_symbol["icon-image"]),"icon-rotate":new Ea(Xt.layout_symbol["icon-rotate"]),"icon-padding":new xa(Xt.layout_symbol["icon-padding"]),"icon-keep-upright":new xa(Xt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ea(Xt.layout_symbol["icon-offset"]),"icon-anchor":new Ea(Xt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new xa(Xt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new xa(Xt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new xa(Xt.layout_symbol["text-rotation-alignment"]),"text-field":new Ea(Xt.layout_symbol["text-field"]),"text-font":new Ea(Xt.layout_symbol["text-font"]),"text-size":new Ea(Xt.layout_symbol["text-size"]),"text-max-width":new Ea(Xt.layout_symbol["text-max-width"]),"text-line-height":new xa(Xt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ea(Xt.layout_symbol["text-letter-spacing"]),"text-justify":new Ea(Xt.layout_symbol["text-justify"]),"text-radial-offset":new Ea(Xt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new xa(Xt.layout_symbol["text-variable-anchor"]),"text-anchor":new Ea(Xt.layout_symbol["text-anchor"]),"text-max-angle":new xa(Xt.layout_symbol["text-max-angle"]),"text-writing-mode":new xa(Xt.layout_symbol["text-writing-mode"]),"text-rotate":new Ea(Xt.layout_symbol["text-rotate"]),"text-padding":new xa(Xt.layout_symbol["text-padding"]),"text-keep-upright":new xa(Xt.layout_symbol["text-keep-upright"]),"text-transform":new Ea(Xt.layout_symbol["text-transform"]),"text-offset":new Ea(Xt.layout_symbol["text-offset"]),"text-allow-overlap":new xa(Xt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new xa(Xt.layout_symbol["text-ignore-placement"]),"text-optional":new xa(Xt.layout_symbol["text-optional"])}),xS=new eo({"icon-opacity":new Ea(Xt.paint_symbol["icon-opacity"]),"icon-color":new Ea(Xt.paint_symbol["icon-color"]),"icon-halo-color":new Ea(Xt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ea(Xt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ea(Xt.paint_symbol["icon-halo-blur"]),"icon-translate":new xa(Xt.paint_symbol["icon-translate"]),"icon-translate-anchor":new xa(Xt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ea(Xt.paint_symbol["text-opacity"]),"text-color":new Ea(Xt.paint_symbol["text-color"],{runtimeType:_n,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Ea(Xt.paint_symbol["text-halo-color"]),"text-halo-width":new Ea(Xt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ea(Xt.paint_symbol["text-halo-blur"]),"text-translate":new xa(Xt.paint_symbol["text-translate"]),"text-translate-anchor":new xa(Xt.paint_symbol["text-translate-anchor"])}),py={paint:xS,layout:mS},yv=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:Dr,this.defaultValue=I};yv.prototype.evaluate=function(I){if(I.formattedSection){var j=this.defaultValue.property.overrides;if(j&&j.hasOverride(I.formattedSection))return j.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},yv.prototype.eachChild=function(I){if(!this.defaultValue.isConstant()){var j=this.defaultValue.value;I(j._styleExpression.expression)}},yv.prototype.outputDefined=function(){return!1},yv.prototype.serialize=function(){return null},he("FormatSectionOverride",yv,{omit:["defaultValue"]});var bS=function(D){function I(j){D.call(this,j,py)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(le,ye){if(D.prototype.recalculate.call(this,le,ye),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ce=this.layout.get("text-writing-mode");if(Ce){for(var Ie=[],$e=0,ht=Ce;$e<ht.length;$e+=1){var wt=ht[$e];Ie.indexOf(wt)<0&&Ie.push(wt)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(le,ye,Ce,Ie){var $e=this.layout.get(le).evaluate(ye,{},Ce,Ie),ht=this._unevaluatedLayout._values[le];return!ht.isDataDriven()&&!$s(ht.value)&&$e?yS(ye.properties,$e):$e},I.prototype.createBucket=function(le){return new mi(le)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var le=0,ye=py.paint.overridableProperties;le<ye.length;le+=1){var Ce=ye[le];if(I.hasPaintOverride(this.layout,Ce)){var Ie=this.paint.get(Ce),$e=new yv(Ie),ht=new Os($e,Ie.property.specification),wt=null;Ie.value.kind==="constant"||Ie.value.kind==="source"?wt=new xl("source",ht):wt=new Ro("composite",ht,Ie.value.zoomStops,Ie.value._interpolationType),this.paint._values[Ce]=new bi(Ie.property,wt,Ie.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(le,ye,Ce){return!this.layout||ye.isDataDriven()||Ce.isDataDriven()?!1:I.hasPaintOverride(this.layout,le)},I.hasPaintOverride=function(le,ye){var Ce=le.get("text-field"),Ie=py.paint.properties[ye],$e=!1,ht=function(Yt){for(var lr=0,er=Yt;lr<er.length;lr+=1){var xr=er[lr];if(Ie.overrides&&Ie.overrides.hasOverride(xr)){$e=!0;return}}};if(Ce.value.kind==="constant"&&Ce.value.value instanceof $i)ht(Ce.value.value.sections);else if(Ce.value.kind==="source"){var wt=function(Yt){if(!$e)if(Yt instanceof _o&&Di(Yt.value)===ca){var lr=Yt.value;ht(lr.sections)}else Yt instanceof Go?ht(Yt.sections):Yt.eachChild(wt)},Et=Ce.value;Et._styleExpression&&wt(Et._styleExpression.expression)}return $e},I}(Li),wS=new eo({"background-color":new xa(Xt.paint_background["background-color"]),"background-pattern":new Hi(Xt.paint_background["background-pattern"]),"background-opacity":new xa(Xt.paint_background["background-opacity"])}),TS={paint:wS},AS=function(D){function I(j){D.call(this,j,TS)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Li),MS=new eo({"raster-opacity":new xa(Xt.paint_raster["raster-opacity"]),"raster-hue-rotate":new xa(Xt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new xa(Xt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new xa(Xt.paint_raster["raster-brightness-max"]),"raster-saturation":new xa(Xt.paint_raster["raster-saturation"]),"raster-contrast":new xa(Xt.paint_raster["raster-contrast"]),"raster-resampling":new xa(Xt.paint_raster["raster-resampling"]),"raster-fade-duration":new xa(Xt.paint_raster["raster-fade-duration"])}),SS={paint:MS},ES=function(D){function I(j){D.call(this,j,SS)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Li);function CS(D){var I=[],j=D.id;return j===void 0&&I.push({message:"layers."+j+': missing required property "id"'}),D.render===void 0&&I.push({message:"layers."+j+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&I.push({message:"layers."+j+': property "renderingMode" must be either "2d" or "3d"'}),I}var LS=function(D){function I(j){D.call(this,j,{}),this.implementation=j}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(le){this.implementation.onAdd&&this.implementation.onAdd(le,le.painter.context.gl)},I.prototype.onRemove=function(le){this.implementation.onRemove&&this.implementation.onRemove(le,le.painter.context.gl)},I}(Li),PS={circle:a4,heatmap:l4,hillshade:c4,fill:z4,"fill-extrusion":rM,line:pM,symbol:bS,background:AS,raster:ES};function RS(D){return D.type==="custom"?new LS(D):new PS[D.type](D)}var _2=self.HTMLImageElement,z2=self.HTMLCanvasElement,O2=self.HTMLVideoElement,B2=self.ImageData,j0=self.ImageBitmap,Rh=function(I,j,le,ye){this.context=I,this.format=le,this.texture=I.gl.createTexture(),this.update(j,ye)};Rh.prototype.update=function(I,j,le){var ye=I.width,Ce=I.height,Ie=(!this.size||this.size[0]!==ye||this.size[1]!==Ce)&&!le,$e=this,ht=$e.context,wt=ht.gl;if(this.useMipmap=!!(j&&j.useMipmap),wt.bindTexture(wt.TEXTURE_2D,this.texture),ht.pixelStoreUnpackFlipY.set(!1),ht.pixelStoreUnpack.set(1),ht.pixelStoreUnpackPremultiplyAlpha.set(this.format===wt.RGBA&&(!j||j.premultiply!==!1)),Ie)this.size=[ye,Ce],I instanceof _2||I instanceof z2||I instanceof O2||I instanceof B2||j0&&I instanceof j0?wt.texImage2D(wt.TEXTURE_2D,0,this.format,this.format,wt.UNSIGNED_BYTE,I):wt.texImage2D(wt.TEXTURE_2D,0,this.format,ye,Ce,0,this.format,wt.UNSIGNED_BYTE,I.data);else{var Et=le||{x:0,y:0},Yt=Et.x,lr=Et.y;I instanceof _2||I instanceof z2||I instanceof O2||I instanceof B2||j0&&I instanceof j0?wt.texSubImage2D(wt.TEXTURE_2D,0,Yt,lr,wt.RGBA,wt.UNSIGNED_BYTE,I):wt.texSubImage2D(wt.TEXTURE_2D,0,Yt,lr,ye,Ce,wt.RGBA,wt.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&wt.generateMipmap(wt.TEXTURE_2D)},Rh.prototype.bind=function(I,j,le){var ye=this,Ce=ye.context,Ie=Ce.gl;Ie.bindTexture(Ie.TEXTURE_2D,this.texture),le===Ie.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(le=Ie.LINEAR),I!==this.filter&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,I),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,le||I),this.filter=I),j!==this.wrap&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,j),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,j),this.wrap=j)},Rh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Rh.prototype.destroy=function(){var I=this.context,j=I.gl;j.deleteTexture(this.texture),this.texture=null};var gy=function(I){var j=this;this._callback=I,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){j._triggered=!1,j._callback()})};gy.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},gy.prototype.remove=function(){delete this._channel,this._callback=function(){}};var mv=function(I,j,le){this.target=I,this.parent=j,this.mapId=le,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new gy(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?I:self};mv.prototype.send=function(I,j,le,ye,Ce){var Ie=this;Ce===void 0&&(Ce=!1);var $e=Math.round(Math.random()*1e18).toString(36).substring(0,10);le&&(this.callbacks[$e]=le);var ht=re(this.globalScope)?void 0:[];return this.target.postMessage({id:$e,type:I,hasCallback:!!le,targetMapId:ye,mustQueue:Ce,sourceMapId:this.mapId,data:nt(j,ht)},ht),{cancel:function(){le&&delete Ie.callbacks[$e],Ie.target.postMessage({id:$e,type:"<cancel>",targetMapId:ye,sourceMapId:Ie.mapId})}}},mv.prototype.receive=function(I){var j=I.data,le=j.id;if(le&&!(j.targetMapId&&this.mapId!==j.targetMapId))if(j.type==="<cancel>"){delete this.tasks[le];var ye=this.cancelCallbacks[le];delete this.cancelCallbacks[le],ye&&ye()}else O()||j.mustQueue?(this.tasks[le]=j,this.taskQueue.push(le),this.invoker.trigger()):this.processTask(le,j)},mv.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),j=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),j&&this.processTask(I,j)}},mv.prototype.processTask=function(I,j){var le=this;if(j.type==="<response>"){var ye=this.callbacks[I];delete this.callbacks[I],ye&&(j.error?ye(st(j.error)):ye(null,st(j.data)))}else{var Ce=!1,Ie=re(this.globalScope)?void 0:[],$e=j.hasCallback?function(lr,er){Ce=!0,delete le.cancelCallbacks[I],le.target.postMessage({id:I,type:"<response>",sourceMapId:le.mapId,error:lr?nt(lr):null,data:nt(er,Ie)},Ie)}:function(lr){Ce=!0},ht=null,wt=st(j.data);if(this.parent[j.type])ht=this.parent[j.type](j.sourceMapId,wt,$e);else if(this.parent.getWorkerSource){var Et=j.type.split("."),Yt=this.parent.getWorkerSource(j.sourceMapId,Et[0],wt.source);ht=Yt[Et[1]](wt,$e)}else $e(new Error("Could not find function "+j.type));!Ce&&ht&&ht.cancel&&(this.cancelCallbacks[I]=ht.cancel)}},mv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function DS(D,I,j){I=Math.pow(2,j)-I-1;var le=N2(D*256,I*256,j),ye=N2((D+1)*256,(I+1)*256,j);return le[0]+","+le[1]+","+ye[0]+","+ye[1]}function N2(D,I,j){var le=2*Math.PI*6378137/256/Math.pow(2,j),ye=D*le-2*Math.PI*6378137/2,Ce=I*le-2*Math.PI*6378137/2;return[ye,Ce]}var so=function(I,j){I&&(j?this.setSouthWest(I).setNorthEast(j):I.length===4?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};so.prototype.setNorthEast=function(I){return this._ne=I instanceof ki?new ki(I.lng,I.lat):ki.convert(I),this},so.prototype.setSouthWest=function(I){return this._sw=I instanceof ki?new ki(I.lng,I.lat):ki.convert(I),this},so.prototype.extend=function(I){var j=this._sw,le=this._ne,ye,Ce;if(I instanceof ki)ye=I,Ce=I;else if(I instanceof so){if(ye=I._sw,Ce=I._ne,!ye||!Ce)return this}else{if(Array.isArray(I))if(I.length===4||I.every(Array.isArray)){var Ie=I;return this.extend(so.convert(Ie))}else{var $e=I;return this.extend(ki.convert($e))}return this}return!j&&!le?(this._sw=new ki(ye.lng,ye.lat),this._ne=new ki(Ce.lng,Ce.lat)):(j.lng=Math.min(ye.lng,j.lng),j.lat=Math.min(ye.lat,j.lat),le.lng=Math.max(Ce.lng,le.lng),le.lat=Math.max(Ce.lat,le.lat)),this},so.prototype.getCenter=function(){return new ki((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},so.prototype.getSouthWest=function(){return this._sw},so.prototype.getNorthEast=function(){return this._ne},so.prototype.getNorthWest=function(){return new ki(this.getWest(),this.getNorth())},so.prototype.getSouthEast=function(){return new ki(this.getEast(),this.getSouth())},so.prototype.getWest=function(){return this._sw.lng},so.prototype.getSouth=function(){return this._sw.lat},so.prototype.getEast=function(){return this._ne.lng},so.prototype.getNorth=function(){return this._ne.lat},so.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},so.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},so.prototype.isEmpty=function(){return!(this._sw&&this._ne)},so.prototype.contains=function(I){var j=ki.convert(I),le=j.lng,ye=j.lat,Ce=this._sw.lat<=ye&&ye<=this._ne.lat,Ie=this._sw.lng<=le&&le<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=le&&le>=this._ne.lng),Ce&&Ie},so.convert=function(I){return!I||I instanceof so?I:new so(I)};var U2=63710088e-1,ki=function(I,j){if(isNaN(I)||isNaN(j))throw new Error("Invalid LngLat object: ("+I+", "+j+")");if(this.lng=+I,this.lat=+j,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ki.prototype.wrap=function(){return new ki(m(this.lng,-180,180),this.lat)},ki.prototype.toArray=function(){return[this.lng,this.lat]},ki.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ki.prototype.distanceTo=function(I){var j=Math.PI/180,le=this.lat*j,ye=I.lat*j,Ce=Math.sin(le)*Math.sin(ye)+Math.cos(le)*Math.cos(ye)*Math.cos((I.lng-this.lng)*j),Ie=U2*Math.acos(Math.min(Ce,1));return Ie},ki.prototype.toBounds=function(I){I===void 0&&(I=0);var j=40075017,le=360*I/j,ye=le/Math.cos(Math.PI/180*this.lat);return new so(new ki(this.lng-ye,this.lat-le),new ki(this.lng+ye,this.lat+le))},ki.convert=function(I){if(I instanceof ki)return I;if(Array.isArray(I)&&(I.length===2||I.length===3))return new ki(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&typeof I=="object"&&I!==null)return new ki(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var H2=2*Math.PI*U2;function V2(D){return H2*Math.cos(D*Math.PI/180)}function G2(D){return(180+D)/360}function W2(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Y2(D,I){return D/V2(I)}function IS(D){return D*360-180}function yy(D){var I=180-D*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function kS(D,I){return D*V2(yy(I))}function FS(D){return 1/Math.cos(D*Math.PI/180)}var Dh=function(I,j,le){le===void 0&&(le=0),this.x=+I,this.y=+j,this.z=+le};Dh.fromLngLat=function(I,j){j===void 0&&(j=0);var le=ki.convert(I);return new Dh(G2(le.lng),W2(le.lat),Y2(j,le.lat))},Dh.prototype.toLngLat=function(){return new ki(IS(this.x),yy(this.y))},Dh.prototype.toAltitude=function(){return kS(this.z,this.y)},Dh.prototype.meterInMercatorCoordinateUnits=function(){return 1/H2*FS(yy(this.y))};var Ih=function(I,j,le){this.z=I,this.x=j,this.y=le,this.key=Ad(0,I,I,j,le)};Ih.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},Ih.prototype.url=function(I,j){var le=DS(this.x,this.y,this.z),ye=_S(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(j==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ye).replace("{bbox-epsg-3857}",le)},Ih.prototype.getTilePoint=function(I){var j=Math.pow(2,this.z);return new t((I.x*j-this.x)*Ra,(I.y*j-this.y)*Ra)},Ih.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var j2=function(I,j){this.wrap=I,this.canonical=j,this.key=Ad(I,j.z,j.z,j.x,j.y)},lo=function(I,j,le,ye,Ce){this.overscaledZ=I,this.wrap=j,this.canonical=new Ih(le,+ye,+Ce),this.key=Ad(j,I,le,ye,Ce)};lo.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},lo.prototype.scaledTo=function(I){var j=this.canonical.z-I;return I>this.canonical.z?new lo(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new lo(I,this.wrap,I,this.canonical.x>>j,this.canonical.y>>j)},lo.prototype.calculateScaledKey=function(I,j){var le=this.canonical.z-I;return I>this.canonical.z?Ad(this.wrap*+j,I,this.canonical.z,this.canonical.x,this.canonical.y):Ad(this.wrap*+j,I,I,this.canonical.x>>le,this.canonical.y>>le)},lo.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var j=this.canonical.z-I.canonical.z;return I.overscaledZ===0||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>j&&I.canonical.y===this.canonical.y>>j},lo.prototype.children=function(I){if(this.overscaledZ>=I)return[new lo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var j=this.canonical.z+1,le=this.canonical.x*2,ye=this.canonical.y*2;return[new lo(j,this.wrap,j,le,ye),new lo(j,this.wrap,j,le+1,ye),new lo(j,this.wrap,j,le,ye+1),new lo(j,this.wrap,j,le+1,ye+1)]},lo.prototype.isLessThan=function(I){return this.wrap<I.wrap?!0:this.wrap>I.wrap?!1:this.overscaledZ<I.overscaledZ?!0:this.overscaledZ>I.overscaledZ?!1:this.canonical.x<I.canonical.x?!0:this.canonical.x>I.canonical.x?!1:this.canonical.y<I.canonical.y},lo.prototype.wrapped=function(){return new lo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},lo.prototype.unwrapTo=function(I){return new lo(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},lo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},lo.prototype.toUnwrapped=function(){return new j2(this.wrap,this.canonical)},lo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},lo.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new Dh(I.x-this.wrap,I.y))};function Ad(D,I,j,le,ye){D*=2,D<0&&(D=D*-1-1);var Ce=1<<j;return(Ce*Ce*D+Ce*ye+le).toString(36)+j.toString(36)+I.toString(36)}function _S(D,I,j){for(var le="",ye,Ce=D;Ce>0;Ce--)ye=1<<Ce-1,le+=(I&ye?1:0)+(j&ye?2:0);return le}he("CanonicalTileID",Ih),he("OverscaledTileID",lo,{omit:["posMatrix"]});var Nf=function(I,j,le){if(this.uid=I,j.height!==j.width)throw new RangeError("DEM tiles must be square");if(le&&le!=="mapbox"&&le!=="terrarium")return H('"'+le+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=j.height;var ye=this.dim=j.height-2;this.data=new Uint32Array(j.data.buffer),this.encoding=le||"mapbox";for(var Ce=0;Ce<ye;Ce++)this.data[this._idx(-1,Ce)]=this.data[this._idx(0,Ce)],this.data[this._idx(ye,Ce)]=this.data[this._idx(ye-1,Ce)],this.data[this._idx(Ce,-1)]=this.data[this._idx(Ce,0)],this.data[this._idx(Ce,ye)]=this.data[this._idx(Ce,ye-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ye,-1)]=this.data[this._idx(ye-1,0)],this.data[this._idx(-1,ye)]=this.data[this._idx(0,ye-1)],this.data[this._idx(ye,ye)]=this.data[this._idx(ye-1,ye-1)]};Nf.prototype.get=function(I,j){var le=new Uint8Array(this.data.buffer),ye=this._idx(I,j)*4,Ce=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Ce(le[ye],le[ye+1],le[ye+2])},Nf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Nf.prototype._idx=function(I,j){if(I<-1||I>=this.dim+1||j<-1||j>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(j+1)*this.stride+(I+1)},Nf.prototype._unpackMapbox=function(I,j,le){return(I*256*256+j*256+le)/10-1e4},Nf.prototype._unpackTerrarium=function(I,j,le){return I*256+j+le/256-32768},Nf.prototype.getPixels=function(){return new As({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Nf.prototype.backfillBorder=function(I,j,le){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var ye=j*this.dim,Ce=j*this.dim+this.dim,Ie=le*this.dim,$e=le*this.dim+this.dim;switch(j){case-1:ye=Ce-1;break;case 1:Ce=ye+1;break}switch(le){case-1:Ie=$e-1;break;case 1:$e=Ie+1;break}for(var ht=-j*this.dim,wt=-le*this.dim,Et=Ie;Et<$e;Et++)for(var Yt=ye;Yt<Ce;Yt++)this.data[this._idx(Yt,Et)]=I.data[this._idx(Yt+ht,Et+wt)]},he("DEMData",Nf);function zS(D,I){var j={};if(!I)return j;for(var le=function(){var Ie=Ce[ye],$e=Ie.layerIds.map(function(Yt){return I.getLayer(Yt)}).filter(Boolean);if($e.length!==0){Ie.layers=$e,Ie.stateDependentLayerIds&&(Ie.stateDependentLayers=Ie.stateDependentLayerIds.map(function(Yt){return $e.filter(function(lr){return lr.id===Yt})[0]}));for(var ht=0,wt=$e;ht<wt.length;ht+=1){var Et=wt[ht];j[Et.id]=Ie}}},ye=0,Ce=D;ye<Ce.length;ye+=1)le();return j}var Z0=function(I){this._stringToNumber={},this._numberToString=[];for(var j=0;j<I.length;j++){var le=I[j];this._stringToNumber[le]=j,this._numberToString[j]=le}};Z0.prototype.encode=function(I){return this._stringToNumber[I]},Z0.prototype.decode=function(I){return this._numberToString[I]};var X0=function(I,j,le,ye,Ce){this.type="Feature",this._vectorTileFeature=I,I._z=j,I._x=le,I._y=ye,this.properties=I.properties,this.id=Ce},my={geometry:{configurable:!0}};my.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},my.geometry.set=function(D){this._geometry=D},X0.prototype.toJSON=function(){var I={geometry:this.geometry};for(var j in this)j==="_geometry"||j==="_vectorTileFeature"||(I[j]=this[j]);return I},Object.defineProperties(X0.prototype,my);var xv=function(){this.state={},this.stateChanges={},this.deletedStates={}};xv.prototype.updateState=function(I,j,le){var ye=String(j);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][ye]=this.stateChanges[I][ye]||{},l(this.stateChanges[I][ye],le),this.deletedStates[I]===null){this.deletedStates[I]={};for(var Ce in this.state[I])Ce!==ye&&(this.deletedStates[I][Ce]=null)}else{var Ie=this.deletedStates[I]&&this.deletedStates[I][ye]===null;if(Ie){this.deletedStates[I][ye]={};for(var $e in this.state[I][ye])le[$e]||(this.deletedStates[I][ye][$e]=null)}else for(var ht in le){var wt=this.deletedStates[I]&&this.deletedStates[I][ye]&&this.deletedStates[I][ye][ht]===null;wt&&delete this.deletedStates[I][ye][ht]}}},xv.prototype.removeFeatureState=function(I,j,le){var ye=this.deletedStates[I]===null;if(!ye){var Ce=String(j);if(this.deletedStates[I]=this.deletedStates[I]||{},le&&j!==void 0)this.deletedStates[I][Ce]!==null&&(this.deletedStates[I][Ce]=this.deletedStates[I][Ce]||{},this.deletedStates[I][Ce][le]=null);else if(j!==void 0){var Ie=this.stateChanges[I]&&this.stateChanges[I][Ce];if(Ie){this.deletedStates[I][Ce]={};for(le in this.stateChanges[I][Ce])this.deletedStates[I][Ce][le]=null}else this.deletedStates[I][Ce]=null}else this.deletedStates[I]=null}},xv.prototype.getState=function(I,j){var le=String(j),ye=this.state[I]||{},Ce=this.stateChanges[I]||{},Ie=l({},ye[le],Ce[le]);if(this.deletedStates[I]===null)return{};if(this.deletedStates[I]){var $e=this.deletedStates[I][j];if($e===null)return{};for(var ht in $e)delete Ie[ht]}return Ie},xv.prototype.initializeTileState=function(I,j){I.setFeatureState(this.state,j)},xv.prototype.coalesceChanges=function(I,j){var le={};for(var ye in this.stateChanges){this.state[ye]=this.state[ye]||{};var Ce={};for(var Ie in this.stateChanges[ye])this.state[ye][Ie]||(this.state[ye][Ie]={}),l(this.state[ye][Ie],this.stateChanges[ye][Ie]),Ce[Ie]=this.state[ye][Ie];le[ye]=Ce}for(var $e in this.deletedStates){this.state[$e]=this.state[$e]||{};var ht={};if(this.deletedStates[$e]===null)for(var wt in this.state[$e])ht[wt]={},this.state[$e][wt]={};else for(var Et in this.deletedStates[$e]){var Yt=this.deletedStates[$e][Et]===null;if(Yt)this.state[$e][Et]={};else for(var lr=0,er=Object.keys(this.deletedStates[$e][Et]);lr<er.length;lr+=1){var xr=er[lr];delete this.state[$e][Et][xr]}ht[Et]=this.state[$e][Et]}le[$e]=le[$e]||{},l(le[$e],ht)}if(this.stateChanges={},this.deletedStates={},Object.keys(le).length!==0)for(var Ur in I){var nn=I[Ur];nn.setFeatureState(le,j)}};var Uf=function(I,j){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new Ia(Ra,16,0),this.grid3D=new Ia(Ra,16,0),this.featureIndexArray=new ld,this.promoteId=j};Uf.prototype.insert=function(I,j,le,ye,Ce,Ie){var $e=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(le,ye,Ce);for(var ht=Ie?this.grid3D:this.grid,wt=0;wt<j.length;wt++){for(var Et=j[wt],Yt=[1/0,1/0,-1/0,-1/0],lr=0;lr<Et.length;lr++){var er=Et[lr];Yt[0]=Math.min(Yt[0],er.x),Yt[1]=Math.min(Yt[1],er.y),Yt[2]=Math.max(Yt[2],er.x),Yt[3]=Math.max(Yt[3],er.y)}Yt[0]<Ra&&Yt[1]<Ra&&Yt[2]>=0&&Yt[3]>=0&&ht.insert($e,Yt[0],Yt[1],Yt[2],Yt[3])}},Uf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new sv.VectorTile(new O0(this.rawTileData)).layers,this.sourceLayerCoder=new Z0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Uf.prototype.query=function(I,j,le,ye){var Ce=this;this.loadVTLayers();for(var Ie=I.params||{},$e=Ra/I.tileSize/I.scale,ht=gu(Ie.filter),wt=I.queryGeometry,Et=I.queryPadding*$e,Yt=X2(wt),lr=this.grid.query(Yt.minX-Et,Yt.minY-Et,Yt.maxX+Et,Yt.maxY+Et),er=X2(I.cameraQueryGeometry),xr=this.grid3D.query(er.minX-Et,er.minY-Et,er.maxX+Et,er.maxY+Et,function(Vn,qn,$n,Ca){return tf(I.cameraQueryGeometry,Vn-Et,qn-Et,$n+Et,Ca+Et)}),Ur=0,nn=xr;Ur<nn.length;Ur+=1){var qr=nn[Ur];lr.push(qr)}lr.sort(OS);for(var Sn={},bn,Mn=function(Vn){var qn=lr[Vn];if(qn!==bn){bn=qn;var $n=Ce.featureIndexArray.get(qn),Ca=null;Ce.loadMatchingFeature(Sn,$n.bucketIndex,$n.sourceLayerIndex,$n.featureIndex,ht,Ie.layers,Ie.availableImages,j,le,ye,function(da,ba,Ha){return Ca||(Ca=vi(da)),ba.queryIntersectsFeature(wt,da,Ha,Ca,Ce.z,I.transform,$e,I.pixelPosMatrix)})}},Fn=0;Fn<lr.length;Fn++)Mn(Fn);return Sn},Uf.prototype.loadMatchingFeature=function(I,j,le,ye,Ce,Ie,$e,ht,wt,Et,Yt){var lr=this.bucketLayerIDs[j];if(!(Ie&&!z(Ie,lr))){var er=this.sourceLayerCoder.decode(le),xr=this.vtLayers[er],Ur=xr.feature(ye);if(Ce.filter(new Un(this.tileID.overscaledZ),Ur))for(var nn=this.getId(Ur,er),qr=0;qr<lr.length;qr++){var Sn=lr[qr];if(!(Ie&&Ie.indexOf(Sn)<0)){var bn=ht[Sn];if(bn){var Mn={};nn!==void 0&&Et&&(Mn=Et.getState(bn.sourceLayer||"_geojsonTileLayer",nn));var Fn=wt[Sn];Fn.paint=Z2(Fn.paint,bn.paint,Ur,Mn,$e),Fn.layout=Z2(Fn.layout,bn.layout,Ur,Mn,$e);var Vn=!Yt||Yt(Ur,bn,Mn);if(Vn){var qn=new X0(Ur,this.z,this.x,this.y,nn);qn.layer=Fn;var $n=I[Sn];$n===void 0&&($n=I[Sn]=[]),$n.push({featureIndex:ye,feature:qn,intersectionZ:Vn})}}}}}},Uf.prototype.lookupSymbolFeatures=function(I,j,le,ye,Ce,Ie,$e,ht){var wt={};this.loadVTLayers();for(var Et=gu(Ce),Yt=0,lr=I;Yt<lr.length;Yt+=1){var er=lr[Yt];this.loadMatchingFeature(wt,le,ye,er,Et,Ie,$e,ht,j)}return wt},Uf.prototype.hasLayer=function(I){for(var j=0,le=this.bucketLayerIDs;j<le.length;j+=1)for(var ye=le[j],Ce=0,Ie=ye;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];if(I===$e)return!0}return!1},Uf.prototype.getId=function(I,j){var le=I.id;if(this.promoteId){var ye=typeof this.promoteId=="string"?this.promoteId:this.promoteId[j];le=I.properties[ye],typeof le=="boolean"&&(le=Number(le))}return le},he("FeatureIndex",Uf,{omit:["rawTileData","sourceLayerCoder"]});function Z2(D,I,j,le,ye){return f(D,function(Ce,Ie){var $e=I instanceof hi?I.get(Ie):null;return $e&&$e.evaluate?$e.evaluate(j,le,ye):$e})}function X2(D){for(var I=1/0,j=1/0,le=-1/0,ye=-1/0,Ce=0,Ie=D;Ce<Ie.length;Ce+=1){var $e=Ie[Ce];I=Math.min(I,$e.x),j=Math.min(j,$e.y),le=Math.max(le,$e.x),ye=Math.max(ye,$e.y)}return{minX:I,minY:j,maxX:le,maxY:ye}}function OS(D,I){return I-D}var BS=3e4,To=function(I,j){this.tileID=I,this.uid=M(),this.uses=0,this.tileSize=j,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};To.prototype.registerFadeDuration=function(I){var j=I+this.timeAdded;j<se.now()||this.fadeEndTime&&j<this.fadeEndTime||(this.fadeEndTime=j)},To.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},To.prototype.loadVectorData=function(I,j,le){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!I){this.collisionBoxArray=new ef;return}I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=zS(I.buckets,j.style),this.hasSymbolBuckets=!1;for(var ye in this.buckets){var Ce=this.buckets[ye];if(Ce instanceof mi)if(this.hasSymbolBuckets=!0,le)Ce.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var $e=this.buckets[Ie];if($e instanceof mi&&$e.hasRTLText){this.hasRTLText=!0,fi();break}}this.queryPadding=0;for(var ht in this.buckets){var wt=this.buckets[ht];this.queryPadding=Math.max(this.queryPadding,j.style.getLayer(ht).queryRadius(wt))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)},To.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},To.prototype.getBucket=function(I){return this.buckets[I.id]},To.prototype.upload=function(I){for(var j in this.buckets){var le=this.buckets[j];le.uploadPending()&&le.upload(I)}var ye=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rh(I,this.imageAtlas.image,ye.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rh(I,this.glyphAtlasImage,ye.ALPHA),this.glyphAtlasImage=null)},To.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},To.prototype.queryRenderedFeatures=function(I,j,le,ye,Ce,Ie,$e,ht,wt,Et){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ye,cameraQueryGeometry:Ce,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Et,transform:ht,params:$e,queryPadding:this.queryPadding*wt},I,j,le)},To.prototype.querySourceFeatures=function(I,j){var le=this.latestFeatureIndex;if(!(!le||!le.rawTileData)){var ye=le.loadVTLayers(),Ce=j?j.sourceLayer:"",Ie=ye._geojsonTileLayer||ye[Ce];if(Ie)for(var $e=gu(j&&j.filter),ht=this.tileID.canonical,wt=ht.z,Et=ht.x,Yt=ht.y,lr={z:wt,x:Et,y:Yt},er=0;er<Ie.length;er++){var xr=Ie.feature(er);if($e.filter(new Un(this.tileID.overscaledZ),xr)){var Ur=le.getId(xr,Ce),nn=new X0(xr,wt,Et,Yt,Ur);nn.tile=lr,I.push(nn)}}}},To.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},To.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},To.prototype.setExpiryData=function(I){var j=this.expirationTime;if(I.cacheControl){var le=U(I.cacheControl);le["max-age"]&&(this.expirationTime=Date.now()+le["max-age"]*1e3)}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var ye=Date.now(),Ce=!1;if(this.expirationTime>ye)Ce=!1;else if(!j)Ce=!0;else if(this.expirationTime<j)Ce=!0;else{var Ie=this.expirationTime-j;Ie?this.expirationTime=ye+Math.max(Ie,BS):Ce=!0}Ce?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},To.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},To.prototype.setFeatureState=function(I,j){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(I).length===0)){var le=this.latestFeatureIndex.loadVTLayers();for(var ye in this.buckets)if(j.style.hasLayer(ye)){var Ce=this.buckets[ye],Ie=Ce.layers[0].sourceLayer||"_geojsonTileLayer",$e=le[Ie],ht=I[Ie];if(!(!$e||!ht||Object.keys(ht).length===0)){Ce.update(ht,$e,this.imageAtlas&&this.imageAtlas.patternPositions||{});var wt=j&&j.style&&j.style.getLayer(ye);wt&&(this.queryPadding=Math.max(this.queryPadding,wt.queryRadius(Ce)))}}}},To.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},To.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},To.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},To.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=se.now()+I},To.prototype.setDependencies=function(I,j){for(var le={},ye=0,Ce=j;ye<Ce.length;ye+=1){var Ie=Ce[ye];le[Ie]=!0}this.dependencies[I]=le},To.prototype.hasDependency=function(I,j){for(var le=0,ye=I;le<ye.length;le+=1){var Ce=ye[le],Ie=this.dependencies[Ce];if(Ie)for(var $e=0,ht=j;$e<ht.length;$e+=1){var wt=ht[$e];if(Ie[wt])return!0}}return!1};var NS=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Lc=self.performance,K2=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},Lc.mark(this._marks.start)};K2.prototype.finish=function(){Lc.mark(this._marks.end);var I=Lc.getEntriesByName(this._marks.measure);return I.length===0&&(Lc.measure(this._marks.measure,this._marks.start,this._marks.end),I=Lc.getEntriesByName(this._marks.measure),Lc.clearMarks(this._marks.start),Lc.clearMarks(this._marks.end),Lc.clearMeasures(this._marks.measure)),I},a.Actor=mv,a.AlphaImage=Ph,a.CanonicalTileID=Ih,a.CollisionBoxArray=ef,a.Color=ti,a.DEMData=Nf,a.DataConstantProperty=xa,a.DictionaryCoder=Z0,a.EXTENT=Ra,a.ErrorEvent=ar,a.EvaluationParameters=Un,a.Event=Zt,a.Evented=ur,a.FeatureIndex=Uf,a.FillBucket=Au,a.FillExtrusionBucket=Mu,a.ImageAtlas=xd,a.ImagePosition=N0,a.LineBucket=Ms,a.LngLat=ki,a.LngLatBounds=so,a.MercatorCoordinate=Dh,a.ONE_EM=Io,a.OverscaledTileID=lo,a.Point=t,a.Point$1=t,a.Properties=eo,a.Protobuf=O0,a.RGBAImage=As,a.RequestManager=Se,a.RequestPerformance=K2,a.ResourceType=mt,a.SegmentVector=$,a.SourceFeatureState=xv,a.StructArrayLayout1ui2=Tc,a.StructArrayLayout2f1f2i16=bu,a.StructArrayLayout2i4=Th,a.StructArrayLayout3ui6=wu,a.StructArrayLayout4i8=Ju,a.SymbolBucket=mi,a.Texture=Rh,a.Tile=To,a.Transitionable=Za,a.Uniform1f=Vr,a.Uniform1i=Yr,a.Uniform2f=$r,a.Uniform3f=ln,a.Uniform4f=En,a.UniformColor=zn,a.UniformMatrix4f=Xn,a.UnwrappedTileID=j2,a.ValidationError=Tr,a.WritingMode=nl,a.ZoomHistory=Dt,a.add=av,a.addDynamicAttributes=dy,a.asyncAll=c,a.bezier=i,a.bindAll=E,a.browser=se,a.cacheEntryPossiblyAdded=Ht,a.clamp=o,a.clearTileCache=Pt,a.clipLine=P2,a.clone=R0,a.clone$1=w,a.clone$2=Zg,a.collisionCircleLayout=xM,a.config=Y,a.create=tv,a.create$1=Ch,a.create$2=Eh,a.createCommonjsModule=L,a.createExpression=ml,a.createLayout=Ti,a.createStyleLayer=RS,a.cross=KA,a.deepEqual=u,a.dot=XA,a.dot$1=e4,a.ease=s,a.emitValidationErrors=Pa,a.endsWith=A,a.enforceCacheSizeLimit=Gt,a.evaluateSizeForFeature=T2,a.evaluateSizeForZoom=A2,a.evaluateVariableOffset=I2,a.evented=wa,a.extend=l,a.featureFilter=gu,a.filterObject=P,a.fromRotation=ev,a.getAnchorAlignment=fy,a.getAnchorJustification=vy,a.getArrayBuffer=At,a.getImage=Ze,a.getJSON=bt,a.getRTLTextPluginStatus=Va,a.getReferrer=jt,a.getVideo=je,a.identity=rv,a.invert=Mc,a.isChar=vt,a.isMapboxURL=Te,a.keysDifference=v,a.makeRequest=ut,a.mapObject=f,a.mercatorXfromLng=G2,a.mercatorYfromLat=W2,a.mercatorZfromAltitude=Y2,a.mul=jg,a.multiply=Sc,a.mvt=sv,a.normalize=fd,a.number=zi,a.offscreenCanvasSupported=zr,a.ortho=Yg,a.parseGlyphPBF=jM,a.pbf=O0,a.performSymbolLayout=fS,a.perspective=ud,a.pick=p,a.plugin=ri,a.polygonIntersectsPolygon=Wa,a.postMapLoadEvent=Je,a.postTurnstileEvent=Lt,a.potpack=d2,a.refProperties=NS,a.register=he,a.registerForPluginStateChange=La,a.rotate=Zo,a.rotateX=Ts,a.rotateZ=nv,a.scale=ws,a.scale$1=qA,a.scale$2=Kg,a.setCacheLimits=Jt,a.setRTLTextPlugin=Na,a.sphericalToCartesian=N,a.sqrLen=n4,a.styleSpec=Xt,a.sub=QA,a.symbolSize=tS,a.transformMat3=JA,a.transformMat4=D0,a.translate=Zi,a.triggerPluginCompletionEvent=ia,a.uniqueId=M,a.validateCustomStyleLayer=CS,a.validateLight=wn,a.validateStyle=xn,a.values=b,a.vectorTile=sv,a.version=x,a.warnOnce=H,a.webpSupported=Z,a.window=self,a.wrap=m}),C(["./shared"],function(a){function L(ct){var ut=typeof ct;if(ut==="number"||ut==="boolean"||ut==="string"||ct===void 0||ct===null)return JSON.stringify(ct);if(Array.isArray(ct)){for(var bt="[",At=0,Ct=ct;At<Ct.length;At+=1){var St=Ct[At];bt+=L(St)+","}return bt+"]"}for(var zt=Object.keys(ct).sort(),Vt="{",qt=0;qt<zt.length;qt++)Vt+=JSON.stringify(zt[qt])+":"+L(ct[zt[qt]])+",";return Vt+"}"}function x(ct){for(var ut="",bt=0,At=a.refProperties;bt<At.length;bt+=1){var Ct=At[bt];ut+="/"+L(ct[Ct])}return ut}function h(ct,ut){for(var bt={},At=0;At<ct.length;At++){var Ct=ut&&ut[ct[At].id]||x(ct[At]);ut&&(ut[ct[At].id]=Ct);var St=bt[Ct];St||(St=bt[Ct]=[]),St.push(ct[At])}var zt=[];for(var Vt in bt)zt.push(bt[Vt]);return zt}var d=function(ut){this.keyCache={},ut&&this.replace(ut)};d.prototype.replace=function(ut){this._layerConfigs={},this._layers={},this.update(ut,[])},d.prototype.update=function(ut,bt){for(var At=this,Ct=0,St=ut;Ct<St.length;Ct+=1){var zt=St[Ct];this._layerConfigs[zt.id]=zt;var Vt=this._layers[zt.id]=a.createStyleLayer(zt);Vt._featureFilter=a.featureFilter(Vt.filter),this.keyCache[zt.id]&&delete this.keyCache[zt.id]}for(var qt=0,$t=bt;qt<$t.length;qt+=1){var sr=$t[qt];delete this.keyCache[sr],delete this._layerConfigs[sr],delete this._layers[sr]}this.familiesBySource={};for(var Cr=h(a.values(this._layerConfigs),this.keyCache),Ze=0,je=Cr;Ze<je.length;Ze+=1){var kt=je[Ze],_t=kt.map(function(cr){return At._layers[cr.id]}),Zt=_t[0];if(Zt.visibility!=="none"){var ar=Zt.source||"",ur=this.familiesBySource[ar];ur||(ur=this.familiesBySource[ar]={});var nr=Zt.sourceLayer||"_geojsonTileLayer",Ot=ur[nr];Ot||(Ot=ur[nr]=[]),Ot.push(_t)}}};var t=1,r=function(ut){var bt={},At=[];for(var Ct in ut){var St=ut[Ct],zt=bt[Ct]={};for(var Vt in St){var qt=St[+Vt];if(!(!qt||qt.bitmap.width===0||qt.bitmap.height===0)){var $t={x:0,y:0,w:qt.bitmap.width+2*t,h:qt.bitmap.height+2*t};At.push($t),zt[Vt]={rect:$t,metrics:qt.metrics}}}}var sr=a.potpack(At),Cr=sr.w,Ze=sr.h,je=new a.AlphaImage({width:Cr||1,height:Ze||1});for(var kt in ut){var _t=ut[kt];for(var Zt in _t){var ar=_t[+Zt];if(!(!ar||ar.bitmap.width===0||ar.bitmap.height===0)){var ur=bt[kt][Zt].rect;a.AlphaImage.copy(ar.bitmap,je,{x:0,y:0},{x:ur.x+t,y:ur.y+t},ar.bitmap)}}}this.image=je,this.positions=bt};a.register("GlyphAtlas",r);var u=function(ut){this.tileID=new a.OverscaledTileID(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),this.uid=ut.uid,this.zoom=ut.zoom,this.pixelRatio=ut.pixelRatio,this.tileSize=ut.tileSize,this.source=ut.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ut.showCollisionBoxes,this.collectResourceTiming=!!ut.collectResourceTiming,this.returnDependencies=!!ut.returnDependencies,this.promoteId=ut.promoteId};u.prototype.parse=function(ut,bt,At,Ct,St){var zt=this;this.status="parsing",this.data=ut,this.collisionBoxArray=new a.CollisionBoxArray;var Vt=new a.DictionaryCoder(Object.keys(ut.layers).sort()),qt=new a.FeatureIndex(this.tileID,this.promoteId);qt.bucketLayerIDs=[];var $t={},sr={featureIndex:qt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:At},Cr=bt.familiesBySource[this.source];for(var Ze in Cr){var je=ut.layers[Ze];if(je){je.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Ze+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var kt=Vt.encode(Ze),_t=[],Zt=0;Zt<je.length;Zt++){var ar=je.feature(Zt),ur=qt.getId(ar,Ze);_t.push({feature:ar,id:ur,index:Zt,sourceLayerIndex:kt})}for(var nr=0,Ot=Cr[Ze];nr<Ot.length;nr+=1){var cr=Ot[nr],pr=cr[0];if(!(pr.minzoom&&this.zoom<Math.floor(pr.minzoom))&&!(pr.maxzoom&&this.zoom>=pr.maxzoom)&&pr.visibility!=="none"){n(cr,this.zoom,At);var gr=$t[pr.id]=pr.createBucket({index:qt.bucketLayerIDs.length,layers:cr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kt,sourceID:this.source});gr.populate(_t,sr,this.tileID.canonical),qt.bucketLayerIDs.push(cr.map(function(br){return br.id}))}}}}var dr,Gr,kr,Fr,gn=a.mapObject(sr.glyphDependencies,function(br){return Object.keys(br).map(Number)});Object.keys(gn).length?Ct.send("getGlyphs",{uid:this.uid,stacks:gn},function(br,Mr){dr||(dr=br,Gr=Mr,In.call(zt))}):Gr={};var Kr=Object.keys(sr.iconDependencies);Kr.length?Ct.send("getImages",{icons:Kr,source:this.source,tileID:this.tileID,type:"icons"},function(br,Mr){dr||(dr=br,kr=Mr,In.call(zt))}):kr={};var kn=Object.keys(sr.patternDependencies);kn.length?Ct.send("getImages",{icons:kn,source:this.source,tileID:this.tileID,type:"patterns"},function(br,Mr){dr||(dr=br,Fr=Mr,In.call(zt))}):Fr={},In.call(this);function In(){if(dr)return St(dr);if(Gr&&kr&&Fr){var br=new r(Gr),Mr=new a.ImageAtlas(kr,Fr);for(var Br in $t){var Nr=$t[Br];Nr instanceof a.SymbolBucket?(n(Nr.layers,this.zoom,At),a.performSymbolLayout(Nr,Gr,br.positions,kr,Mr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Nr.hasPattern&&(Nr instanceof a.LineBucket||Nr instanceof a.FillBucket||Nr instanceof a.FillExtrusionBucket)&&(n(Nr.layers,this.zoom,At),Nr.addFeatures(sr,this.tileID.canonical,Mr.patternPositions))}this.status="done",St(null,{buckets:a.values($t).filter(function(en){return!en.isEmpty()}),featureIndex:qt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:br.image,imageAtlas:Mr,glyphMap:this.returnDependencies?Gr:null,iconMap:this.returnDependencies?kr:null,glyphPositions:this.returnDependencies?br.positions:null})}}};function n(ct,ut,bt){for(var At=new a.EvaluationParameters(ut),Ct=0,St=ct;Ct<St.length;Ct+=1){var zt=St[Ct];zt.recalculate(At,bt)}}function i(ct,ut){var bt=a.getArrayBuffer(ct.request,function(At,Ct,St,zt){At?ut(At):Ct&&ut(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Ct)),rawData:Ct,cacheControl:St,expires:zt})});return function(){bt.cancel(),ut()}}var s=function(ut,bt,At,Ct){this.actor=ut,this.layerIndex=bt,this.availableImages=At,this.loadVectorData=Ct||i,this.loading={},this.loaded={}};s.prototype.loadTile=function(ut,bt){var At=this,Ct=ut.uid;this.loading||(this.loading={});var St=ut&&ut.request&&ut.request.collectResourceTiming?new a.RequestPerformance(ut.request):!1,zt=this.loading[Ct]=new u(ut);zt.abort=this.loadVectorData(ut,function(Vt,qt){if(delete At.loading[Ct],Vt||!qt)return zt.status="done",At.loaded[Ct]=zt,bt(Vt);var $t=qt.rawData,sr={};qt.expires&&(sr.expires=qt.expires),qt.cacheControl&&(sr.cacheControl=qt.cacheControl);var Cr={};if(St){var Ze=St.finish();Ze&&(Cr.resourceTiming=JSON.parse(JSON.stringify(Ze)))}zt.vectorTile=qt.vectorTile,zt.parse(qt.vectorTile,At.layerIndex,At.availableImages,At.actor,function(je,kt){if(je||!kt)return bt(je);bt(null,a.extend({rawTileData:$t.slice(0)},kt,sr,Cr))}),At.loaded=At.loaded||{},At.loaded[Ct]=zt})},s.prototype.reloadTile=function(ut,bt){var At=this,Ct=this.loaded,St=ut.uid,zt=this;if(Ct&&Ct[St]){var Vt=Ct[St];Vt.showCollisionBoxes=ut.showCollisionBoxes;var qt=function($t,sr){var Cr=Vt.reloadCallback;Cr&&(delete Vt.reloadCallback,Vt.parse(Vt.vectorTile,zt.layerIndex,At.availableImages,zt.actor,Cr)),bt($t,sr)};Vt.status==="parsing"?Vt.reloadCallback=qt:Vt.status==="done"&&(Vt.vectorTile?Vt.parse(Vt.vectorTile,this.layerIndex,this.availableImages,this.actor,qt):qt())}},s.prototype.abortTile=function(ut,bt){var At=this.loading,Ct=ut.uid;At&&At[Ct]&&At[Ct].abort&&(At[Ct].abort(),delete At[Ct]),bt()},s.prototype.removeTile=function(ut,bt){var At=this.loaded,Ct=ut.uid;At&&At[Ct]&&delete At[Ct],bt()};var o=a.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(ut,bt){var At=ut.uid,Ct=ut.encoding,St=ut.rawImageData,zt=o&&St instanceof o?this.getImageData(St):St,Vt=new a.DEMData(At,zt,Ct);this.loaded=this.loaded||{},this.loaded[At]=Vt,bt(null,Vt)},m.prototype.getImageData=function(ut){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ut.width,ut.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ut.width,this.offscreenCanvas.height=ut.height,this.offscreenCanvasContext.drawImage(ut,0,0,ut.width,ut.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,ut.width+2,ut.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:bt.width,height:bt.height},bt.data)},m.prototype.removeTile=function(ut){var bt=this.loaded,At=ut.uid;bt&&bt[At]&&delete bt[At]};var c=b;function b(ct,ut){var bt=ct&&ct.type,At;if(bt==="FeatureCollection")for(At=0;At<ct.features.length;At++)b(ct.features[At],ut);else if(bt==="GeometryCollection")for(At=0;At<ct.geometries.length;At++)b(ct.geometries[At],ut);else if(bt==="Feature")b(ct.geometry,ut);else if(bt==="Polygon")v(ct.coordinates,ut);else if(bt==="MultiPolygon")for(At=0;At<ct.coordinates.length;At++)v(ct.coordinates[At],ut);return ct}function v(ct,ut){if(ct.length!==0){l(ct[0],ut);for(var bt=1;bt<ct.length;bt++)l(ct[bt],!ut)}}function l(ct,ut){for(var bt=0,At=0,Ct=ct.length,St=Ct-1;At<Ct;St=At++)bt+=(ct[At][0]-ct[St][0])*(ct[St][1]+ct[At][1]);bt>=0!=!!ut&&ct.reverse()}var p=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,S=function(ut){this._feature=ut,this.extent=a.EXTENT,this.type=ut.type,this.properties=ut.tags,"id"in ut&&!isNaN(ut.id)&&(this.id=parseInt(ut.id,10))};S.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ut=[],bt=0,At=this._feature.geometry;bt<At.length;bt+=1){var Ct=At[bt];ut.push([new a.Point$1(Ct[0],Ct[1])])}return ut}else{for(var St=[],zt=0,Vt=this._feature.geometry;zt<Vt.length;zt+=1){for(var qt=Vt[zt],$t=[],sr=0,Cr=qt;sr<Cr.length;sr+=1){var Ze=Cr[sr];$t.push(new a.Point$1(Ze[0],Ze[1]))}St.push($t)}return St}},S.prototype.toGeoJSON=function(ut,bt,At){return p.call(this,ut,bt,At)};var M=function(ut){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=ut.length,this._features=ut};M.prototype.feature=function(ut){return new S(this._features[ut])};var R=a.vectorTile.VectorTileFeature,T=E;function E(ct,ut){this.options=ut||{},this.features=ct,this.length=ct.length}E.prototype.feature=function(ct){return new A(this.features[ct],this.options.extent)};function A(ct,ut){this.id=typeof ct.id=="number"?ct.id:void 0,this.type=ct.type,this.rawGeometry=ct.type===1?[ct.geometry]:ct.geometry,this.properties=ct.tags,this.extent=ut||4096}A.prototype.loadGeometry=function(){var ct=this.rawGeometry;this.geometry=[];for(var ut=0;ut<ct.length;ut++){for(var bt=ct[ut],At=[],Ct=0;Ct<bt.length;Ct++)At.push(new a.Point$1(bt[Ct][0],bt[Ct][1]));this.geometry.push(At)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ct=this.geometry,ut=1/0,bt=-1/0,At=1/0,Ct=-1/0,St=0;St<ct.length;St++)for(var zt=ct[St],Vt=0;Vt<zt.length;Vt++){var qt=zt[Vt];ut=Math.min(ut,qt.x),bt=Math.max(bt,qt.x),At=Math.min(At,qt.y),Ct=Math.max(Ct,qt.y)}return[ut,At,bt,Ct]},A.prototype.toGeoJSON=R.prototype.toGeoJSON;var f=F,P=F,w=H,z=T;function F(ct){var ut=new a.pbf;return _(ct,ut),ut.finish()}function H(ct,ut){ut=ut||{};var bt={};for(var At in ct)bt[At]=new T(ct[At].features,ut),bt[At].name=At,bt[At].version=ut.version,bt[At].extent=ut.extent;return F({layers:bt})}function _(ct,ut){for(var bt in ct.layers)ut.writeMessage(3,B,ct.layers[bt])}function B(ct,ut){ut.writeVarintField(15,ct.version||1),ut.writeStringField(1,ct.name||""),ut.writeVarintField(5,ct.extent||4096);var bt,At={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<ct.length;bt++)At.feature=ct.feature(bt),ut.writeMessage(2,N,At);var Ct=At.keys;for(bt=0;bt<Ct.length;bt++)ut.writeStringField(3,Ct[bt]);var St=At.values;for(bt=0;bt<St.length;bt++)ut.writeMessage(4,ae,St[bt])}function N(ct,ut){var bt=ct.feature;bt.id!==void 0&&ut.writeVarintField(1,bt.id),ut.writeMessage(2,O,ct),ut.writeVarintField(3,bt.type),ut.writeMessage(4,re,bt)}function O(ct,ut){var bt=ct.feature,At=ct.keys,Ct=ct.values,St=ct.keycache,zt=ct.valuecache;for(var Vt in bt.properties){var qt=St[Vt];typeof qt>"u"&&(At.push(Vt),qt=At.length-1,St[Vt]=qt),ut.writeVarint(qt);var $t=bt.properties[Vt],sr=typeof $t;sr!=="string"&&sr!=="boolean"&&sr!=="number"&&($t=JSON.stringify($t));var Cr=sr+":"+$t,Ze=zt[Cr];typeof Ze>"u"&&(Ct.push($t),Ze=Ct.length-1,zt[Cr]=Ze),ut.writeVarint(Ze)}}function U(ct,ut){return(ut<<3)+(ct&7)}function K(ct){return ct<<1^ct>>31}function re(ct,ut){for(var bt=ct.loadGeometry(),At=ct.type,Ct=0,St=0,zt=bt.length,Vt=0;Vt<zt;Vt++){var qt=bt[Vt],$t=1;At===1&&($t=qt.length),ut.writeVarint(U(1,$t));for(var sr=At===3?qt.length-1:qt.length,Cr=0;Cr<sr;Cr++){Cr===1&&At!==1&&ut.writeVarint(U(2,sr-1));var Ze=qt[Cr].x-Ct,je=qt[Cr].y-St;ut.writeVarint(K(Ze)),ut.writeVarint(K(je)),Ct+=Ze,St+=je}At===3&&ut.writeVarint(U(7,1))}}function ae(ct,ut){var bt=typeof ct;bt==="string"?ut.writeStringField(1,ct):bt==="boolean"?ut.writeBooleanField(7,ct):bt==="number"&&(ct%1!==0?ut.writeDoubleField(3,ct):ct<0?ut.writeSVarintField(6,ct):ut.writeVarintField(5,ct))}f.fromVectorTileJs=P,f.fromGeojsonVt=w,f.GeoJSONWrapper=z;function ue(ct,ut,bt,At,Ct,St){if(!(Ct-At<=bt)){var zt=At+Ct>>1;ve(ct,ut,zt,At,Ct,St%2),ue(ct,ut,bt,At,zt-1,St+1),ue(ct,ut,bt,zt+1,Ct,St+1)}}function ve(ct,ut,bt,At,Ct,St){for(;Ct>At;){if(Ct-At>600){var zt=Ct-At+1,Vt=bt-At+1,qt=Math.log(zt),$t=.5*Math.exp(2*qt/3),sr=.5*Math.sqrt(qt*$t*(zt-$t)/zt)*(Vt-zt/2<0?-1:1),Cr=Math.max(At,Math.floor(bt-Vt*$t/zt+sr)),Ze=Math.min(Ct,Math.floor(bt+(zt-Vt)*$t/zt+sr));ve(ct,ut,bt,Cr,Ze,St)}var je=ut[2*bt+St],kt=At,_t=Ct;for(ee(ct,ut,At,bt),ut[2*Ct+St]>je&&ee(ct,ut,At,Ct);kt<_t;){for(ee(ct,ut,kt,_t),kt++,_t--;ut[2*kt+St]<je;)kt++;for(;ut[2*_t+St]>je;)_t--}ut[2*At+St]===je?ee(ct,ut,At,_t):(_t++,ee(ct,ut,_t,Ct)),_t<=bt&&(At=_t+1),bt<=_t&&(Ct=_t-1)}}function ee(ct,ut,bt,At){J(ct,bt,At),J(ut,2*bt,2*At),J(ut,2*bt+1,2*At+1)}function J(ct,ut,bt){var At=ct[ut];ct[ut]=ct[bt],ct[bt]=At}function Q(ct,ut,bt,At,Ct,St,zt){for(var Vt=[0,ct.length-1,0],qt=[],$t,sr;Vt.length;){var Cr=Vt.pop(),Ze=Vt.pop(),je=Vt.pop();if(Ze-je<=zt){for(var kt=je;kt<=Ze;kt++)$t=ut[2*kt],sr=ut[2*kt+1],$t>=bt&&$t<=Ct&&sr>=At&&sr<=St&&qt.push(ct[kt]);continue}var _t=Math.floor((je+Ze)/2);$t=ut[2*_t],sr=ut[2*_t+1],$t>=bt&&$t<=Ct&&sr>=At&&sr<=St&&qt.push(ct[_t]);var Zt=(Cr+1)%2;(Cr===0?bt<=$t:At<=sr)&&(Vt.push(je),Vt.push(_t-1),Vt.push(Zt)),(Cr===0?Ct>=$t:St>=sr)&&(Vt.push(_t+1),Vt.push(Ze),Vt.push(Zt))}return qt}function X(ct,ut,bt,At,Ct,St){for(var zt=[0,ct.length-1,0],Vt=[],qt=Ct*Ct;zt.length;){var $t=zt.pop(),sr=zt.pop(),Cr=zt.pop();if(sr-Cr<=St){for(var Ze=Cr;Ze<=sr;Ze++)q(ut[2*Ze],ut[2*Ze+1],bt,At)<=qt&&Vt.push(ct[Ze]);continue}var je=Math.floor((Cr+sr)/2),kt=ut[2*je],_t=ut[2*je+1];q(kt,_t,bt,At)<=qt&&Vt.push(ct[je]);var Zt=($t+1)%2;($t===0?bt-Ct<=kt:At-Ct<=_t)&&(zt.push(Cr),zt.push(je-1),zt.push(Zt)),($t===0?bt+Ct>=kt:At+Ct>=_t)&&(zt.push(je+1),zt.push(sr),zt.push(Zt))}return Vt}function q(ct,ut,bt,At){var Ct=ct-bt,St=ut-At;return Ct*Ct+St*St}var se=function(ct){return ct[0]},Y=function(ct){return ct[1]},Z=function(ut,bt,At,Ct,St){bt===void 0&&(bt=se),At===void 0&&(At=Y),Ct===void 0&&(Ct=64),St===void 0&&(St=Float64Array),this.nodeSize=Ct,this.points=ut;for(var zt=ut.length<65536?Uint16Array:Uint32Array,Vt=this.ids=new zt(ut.length),qt=this.coords=new St(ut.length*2),$t=0;$t<ut.length;$t++)Vt[$t]=$t,qt[2*$t]=bt(ut[$t]),qt[2*$t+1]=At(ut[$t]);ue(Vt,qt,Ct,0,Vt.length-1,0)};Z.prototype.range=function(ut,bt,At,Ct){return Q(this.ids,this.coords,ut,bt,At,Ct,this.nodeSize)},Z.prototype.within=function(ut,bt,At){return X(this.ids,this.coords,ut,bt,At,this.nodeSize)};var ie={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ct){return ct}},te=function(ut){this.options=Ee(Object.create(ie),ut),this.trees=new Array(this.options.maxZoom+1)};te.prototype.load=function(ut){var bt=this.options,At=bt.log,Ct=bt.minZoom,St=bt.maxZoom,zt=bt.nodeSize;At&&console.time("total time");var Vt="prepare "+ut.length+" points";At&&console.time(Vt),this.points=ut;for(var qt=[],$t=0;$t<ut.length;$t++)ut[$t].geometry&&qt.push(de(ut[$t],$t));this.trees[St+1]=new Z(qt,Ne,He,zt,Float32Array),At&&console.timeEnd(Vt);for(var sr=St;sr>=Ct;sr--){var Cr=+Date.now();qt=this._cluster(qt,sr),this.trees[sr]=new Z(qt,Ne,He,zt,Float32Array),At&&console.log("z%d: %d clusters in %dms",sr,qt.length,+Date.now()-Cr)}return At&&console.timeEnd("total time"),this},te.prototype.getClusters=function(ut,bt){var At=((ut[0]+180)%360+360)%360-180,Ct=Math.max(-90,Math.min(90,ut[1])),St=ut[2]===180?180:((ut[2]+180)%360+360)%360-180,zt=Math.max(-90,Math.min(90,ut[3]));if(ut[2]-ut[0]>=360)At=-180,St=180;else if(At>St){var Vt=this.getClusters([At,Ct,180,zt],bt),qt=this.getClusters([-180,Ct,St,zt],bt);return Vt.concat(qt)}for(var $t=this.trees[this._limitZoom(bt)],sr=$t.range(Re(At),Fe(zt),Re(St),Fe(Ct)),Cr=[],Ze=0,je=sr;Ze<je.length;Ze+=1){var kt=je[Ze],_t=$t.points[kt];Cr.push(_t.numPoints?we(_t):this.points[_t.index])}return Cr},te.prototype.getChildren=function(ut){var bt=this._getOriginId(ut),At=this._getOriginZoom(ut),Ct="No cluster with the specified id.",St=this.trees[At];if(!St)throw new Error(Ct);var zt=St.points[bt];if(!zt)throw new Error(Ct);for(var Vt=this.options.radius/(this.options.extent*Math.pow(2,At-1)),qt=St.within(zt.x,zt.y,Vt),$t=[],sr=0,Cr=qt;sr<Cr.length;sr+=1){var Ze=Cr[sr],je=St.points[Ze];je.parentId===ut&&$t.push(je.numPoints?we(je):this.points[je.index])}if($t.length===0)throw new Error(Ct);return $t},te.prototype.getLeaves=function(ut,bt,At){bt=bt||10,At=At||0;var Ct=[];return this._appendLeaves(Ct,ut,bt,At,0),Ct},te.prototype.getTile=function(ut,bt,At){var Ct=this.trees[this._limitZoom(ut)],St=Math.pow(2,ut),zt=this.options,Vt=zt.extent,qt=zt.radius,$t=qt/Vt,sr=(At-$t)/St,Cr=(At+1+$t)/St,Ze={features:[]};return this._addTileFeatures(Ct.range((bt-$t)/St,sr,(bt+1+$t)/St,Cr),Ct.points,bt,At,St,Ze),bt===0&&this._addTileFeatures(Ct.range(1-$t/St,sr,1,Cr),Ct.points,St,At,St,Ze),bt===St-1&&this._addTileFeatures(Ct.range(0,sr,$t/St,Cr),Ct.points,-1,At,St,Ze),Ze.features.length?Ze:null},te.prototype.getClusterExpansionZoom=function(ut){for(var bt=this._getOriginZoom(ut)-1;bt<=this.options.maxZoom;){var At=this.getChildren(ut);if(bt++,At.length!==1)break;ut=At[0].properties.cluster_id}return bt},te.prototype._appendLeaves=function(ut,bt,At,Ct,St){for(var zt=this.getChildren(bt),Vt=0,qt=zt;Vt<qt.length;Vt+=1){var $t=qt[Vt],sr=$t.properties;if(sr&&sr.cluster?St+sr.point_count<=Ct?St+=sr.point_count:St=this._appendLeaves(ut,sr.cluster_id,At,Ct,St):St<Ct?St++:ut.push($t),ut.length===At)break}return St},te.prototype._addTileFeatures=function(ut,bt,At,Ct,St,zt){for(var Vt=0,qt=ut;Vt<qt.length;Vt+=1){var $t=qt[Vt],sr=bt[$t],Cr=sr.numPoints,Ze={type:1,geometry:[[Math.round(this.options.extent*(sr.x*St-At)),Math.round(this.options.extent*(sr.y*St-Ct))]],tags:Cr?Ae(sr):this.points[sr.index].properties},je=void 0;Cr?je=sr.id:this.options.generateId?je=sr.index:this.points[sr.index].id&&(je=this.points[sr.index].id),je!==void 0&&(Ze.id=je),zt.features.push(Ze)}},te.prototype._limitZoom=function(ut){return Math.max(this.options.minZoom,Math.min(ut,this.options.maxZoom+1))},te.prototype._cluster=function(ut,bt){for(var At=[],Ct=this.options,St=Ct.radius,zt=Ct.extent,Vt=Ct.reduce,qt=St/(zt*Math.pow(2,bt)),$t=0;$t<ut.length;$t++){var sr=ut[$t];if(!(sr.zoom<=bt)){sr.zoom=bt;for(var Cr=this.trees[bt+1],Ze=Cr.within(sr.x,sr.y,qt),je=sr.numPoints||1,kt=sr.x*je,_t=sr.y*je,Zt=Vt&&je>1?this._map(sr,!0):null,ar=($t<<5)+(bt+1)+this.points.length,ur=0,nr=Ze;ur<nr.length;ur+=1){var Ot=nr[ur],cr=Cr.points[Ot];if(!(cr.zoom<=bt)){cr.zoom=bt;var pr=cr.numPoints||1;kt+=cr.x*pr,_t+=cr.y*pr,je+=pr,cr.parentId=ar,Vt&&(Zt||(Zt=this._map(sr,!0)),Vt(Zt,this._map(cr)))}}je===1?At.push(sr):(sr.parentId=ar,At.push(fe(kt/je,_t/je,ar,je,Zt)))}}return At},te.prototype._getOriginId=function(ut){return ut-this.points.length>>5},te.prototype._getOriginZoom=function(ut){return(ut-this.points.length)%32},te.prototype._map=function(ut,bt){if(ut.numPoints)return bt?Ee({},ut.properties):ut.properties;var At=this.points[ut.index].properties,Ct=this.options.map(At);return bt&&Ct===At?Ee({},Ct):Ct};function fe(ct,ut,bt,At,Ct){return{x:ct,y:ut,zoom:1/0,id:bt,parentId:-1,numPoints:At,properties:Ct}}function de(ct,ut){var bt=ct.geometry.coordinates,At=bt[0],Ct=bt[1];return{x:Re(At),y:Fe(Ct),zoom:1/0,index:ut,parentId:-1}}function we(ct){return{type:"Feature",id:ct.id,properties:Ae(ct),geometry:{type:"Point",coordinates:[Se(ct.x),Te(ct.y)]}}}function Ae(ct){var ut=ct.numPoints,bt=ut>=1e4?Math.round(ut/1e3)+"k":ut>=1e3?Math.round(ut/100)/10+"k":ut;return Ee(Ee({},ct.properties),{cluster:!0,cluster_id:ct.id,point_count:ut,point_count_abbreviated:bt})}function Re(ct){return ct/360+.5}function Fe(ct){var ut=Math.sin(ct*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function Se(ct){return(ct-.5)*360}function Te(ct){var ut=(180-ct*360)*Math.PI/180;return 360*Math.atan(Math.exp(ut))/Math.PI-90}function Ee(ct,ut){for(var bt in ut)ct[bt]=ut[bt];return ct}function Ne(ct){return ct.x}function He(ct){return ct.y}function _e(ct,ut,bt,At){for(var Ct=At,St=bt-ut>>1,zt=bt-ut,Vt,qt=ct[ut],$t=ct[ut+1],sr=ct[bt],Cr=ct[bt+1],Ze=ut+3;Ze<bt;Ze+=3){var je=We(ct[Ze],ct[Ze+1],qt,$t,sr,Cr);if(je>Ct)Vt=Ze,Ct=je;else if(je===Ct){var kt=Math.abs(Ze-St);kt<zt&&(Vt=Ze,zt=kt)}}Ct>At&&(Vt-ut>3&&_e(ct,ut,Vt,At),ct[Vt+2]=Ct,bt-Vt>3&&_e(ct,Vt,bt,At))}function We(ct,ut,bt,At,Ct,St){var zt=Ct-bt,Vt=St-At;if(zt!==0||Vt!==0){var qt=((ct-bt)*zt+(ut-At)*Vt)/(zt*zt+Vt*Vt);qt>1?(bt=Ct,At=St):qt>0&&(bt+=zt*qt,At+=Vt*qt)}return zt=ct-bt,Vt=ut-At,zt*zt+Vt*Vt}function tt(ct,ut,bt,At){var Ct={id:typeof ct>"u"?null:ct,type:ut,geometry:bt,tags:At,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return Ke(Ct),Ct}function Ke(ct){var ut=ct.geometry,bt=ct.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")qe(ct,ut);else if(bt==="Polygon"||bt==="MultiLineString")for(var At=0;At<ut.length;At++)qe(ct,ut[At]);else if(bt==="MultiPolygon")for(At=0;At<ut.length;At++)for(var Ct=0;Ct<ut[At].length;Ct++)qe(ct,ut[At][Ct])}function qe(ct,ut){for(var bt=0;bt<ut.length;bt+=3)ct.minX=Math.min(ct.minX,ut[bt]),ct.minY=Math.min(ct.minY,ut[bt+1]),ct.maxX=Math.max(ct.maxX,ut[bt]),ct.maxY=Math.max(ct.maxY,ut[bt+1])}function rt(ct,ut){var bt=[];if(ct.type==="FeatureCollection")for(var At=0;At<ct.features.length;At++)ft(bt,ct.features[At],ut,At);else ct.type==="Feature"?ft(bt,ct,ut):ft(bt,{geometry:ct},ut);return bt}function ft(ct,ut,bt,At){if(ut.geometry){var Ct=ut.geometry.coordinates,St=ut.geometry.type,zt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Vt=[],qt=ut.id;if(bt.promoteId?qt=ut.properties[bt.promoteId]:bt.generateId&&(qt=At||0),St==="Point")pt(Ct,Vt);else if(St==="MultiPoint")for(var $t=0;$t<Ct.length;$t++)pt(Ct[$t],Vt);else if(St==="LineString")gt(Ct,Vt,zt,!1);else if(St==="MultiLineString")if(bt.lineMetrics){for($t=0;$t<Ct.length;$t++)Vt=[],gt(Ct[$t],Vt,zt,!1),ct.push(tt(qt,"LineString",Vt,ut.properties));return}else Mt(Ct,Vt,zt,!1);else if(St==="Polygon")Mt(Ct,Vt,zt,!0);else if(St==="MultiPolygon")for($t=0;$t<Ct.length;$t++){var sr=[];Mt(Ct[$t],sr,zt,!0),Vt.push(sr)}else if(St==="GeometryCollection"){for($t=0;$t<ut.geometry.geometries.length;$t++)ft(ct,{id:qt,geometry:ut.geometry.geometries[$t],properties:ut.properties},bt,At);return}else throw new Error("Input data is not a valid GeoJSON object.");ct.push(tt(qt,St,Vt,ut.properties))}}function pt(ct,ut){ut.push(Lt(ct[0])),ut.push(Wt(ct[1])),ut.push(0)}function gt(ct,ut,bt,At){for(var Ct,St,zt=0,Vt=0;Vt<ct.length;Vt++){var qt=Lt(ct[Vt][0]),$t=Wt(ct[Vt][1]);ut.push(qt),ut.push($t),ut.push(0),Vt>0&&(At?zt+=(Ct*$t-qt*St)/2:zt+=Math.sqrt(Math.pow(qt-Ct,2)+Math.pow($t-St,2))),Ct=qt,St=$t}var sr=ut.length-3;ut[2]=1,_e(ut,0,sr,bt),ut[sr+2]=1,ut.size=Math.abs(zt),ut.start=0,ut.end=ut.size}function Mt(ct,ut,bt,At){for(var Ct=0;Ct<ct.length;Ct++){var St=[];gt(ct[Ct],St,bt,At),ut.push(St)}}function Lt(ct){return ct/360+.5}function Wt(ct){var ut=Math.sin(ct*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function Je(ct,ut,bt,At,Ct,St,zt,Vt){if(bt/=ut,At/=ut,St>=bt&&zt<At)return ct;if(zt<bt||St>=At)return null;for(var qt=[],$t=0;$t<ct.length;$t++){var sr=ct[$t],Cr=sr.geometry,Ze=sr.type,je=Ct===0?sr.minX:sr.minY,kt=Ct===0?sr.maxX:sr.maxY;if(je>=bt&&kt<At){qt.push(sr);continue}else if(kt<bt||je>=At)continue;var _t=[];if(Ze==="Point"||Ze==="MultiPoint")ze(Cr,_t,bt,At,Ct);else if(Ze==="LineString")Oe(Cr,_t,bt,At,Ct,!1,Vt.lineMetrics);else if(Ze==="MultiLineString")ke(Cr,_t,bt,At,Ct,!1);else if(Ze==="Polygon")ke(Cr,_t,bt,At,Ct,!0);else if(Ze==="MultiPolygon")for(var Zt=0;Zt<Cr.length;Zt++){var ar=[];ke(Cr[Zt],ar,bt,At,Ct,!0),ar.length&&_t.push(ar)}if(_t.length){if(Vt.lineMetrics&&Ze==="LineString"){for(Zt=0;Zt<_t.length;Zt++)qt.push(tt(sr.id,Ze,_t[Zt],sr.tags));continue}(Ze==="LineString"||Ze==="MultiLineString")&&(_t.length===1?(Ze="LineString",_t=_t[0]):Ze="MultiLineString"),(Ze==="Point"||Ze==="MultiPoint")&&(Ze=_t.length===3?"Point":"MultiPoint"),qt.push(tt(sr.id,Ze,_t,sr.tags))}}return qt.length?qt:null}function ze(ct,ut,bt,At,Ct){for(var St=0;St<ct.length;St+=3){var zt=ct[St+Ct];zt>=bt&&zt<=At&&(ut.push(ct[St]),ut.push(ct[St+1]),ut.push(ct[St+2]))}}function Oe(ct,ut,bt,At,Ct,St,zt){for(var Vt=Ue(ct),qt=Ct===0?ce:be,$t=ct.start,sr,Cr,Ze=0;Ze<ct.length-3;Ze+=3){var je=ct[Ze],kt=ct[Ze+1],_t=ct[Ze+2],Zt=ct[Ze+3],ar=ct[Ze+4],ur=Ct===0?je:kt,nr=Ct===0?Zt:ar,Ot=!1;zt&&(sr=Math.sqrt(Math.pow(je-Zt,2)+Math.pow(kt-ar,2))),ur<bt?nr>bt&&(Cr=qt(Vt,je,kt,Zt,ar,bt),zt&&(Vt.start=$t+sr*Cr)):ur>At?nr<At&&(Cr=qt(Vt,je,kt,Zt,ar,At),zt&&(Vt.start=$t+sr*Cr)):Me(Vt,je,kt,_t),nr<bt&&ur>=bt&&(Cr=qt(Vt,je,kt,Zt,ar,bt),Ot=!0),nr>At&&ur<=At&&(Cr=qt(Vt,je,kt,Zt,ar,At),Ot=!0),!St&&Ot&&(zt&&(Vt.end=$t+sr*Cr),ut.push(Vt),Vt=Ue(ct)),zt&&($t+=sr)}var cr=ct.length-3;je=ct[cr],kt=ct[cr+1],_t=ct[cr+2],ur=Ct===0?je:kt,ur>=bt&&ur<=At&&Me(Vt,je,kt,_t),cr=Vt.length-3,St&&cr>=3&&(Vt[cr]!==Vt[0]||Vt[cr+1]!==Vt[1])&&Me(Vt,Vt[0],Vt[1],Vt[2]),Vt.length&&ut.push(Vt)}function Ue(ct){var ut=[];return ut.size=ct.size,ut.start=ct.start,ut.end=ct.end,ut}function ke(ct,ut,bt,At,Ct,St){for(var zt=0;zt<ct.length;zt++)Oe(ct[zt],ut,bt,At,Ct,St,!1)}function Me(ct,ut,bt,At){ct.push(ut),ct.push(bt),ct.push(At)}function ce(ct,ut,bt,At,Ct,St){var zt=(St-ut)/(At-ut);return ct.push(St),ct.push(bt+(Ct-bt)*zt),ct.push(1),zt}function be(ct,ut,bt,At,Ct,St){var zt=(St-bt)/(Ct-bt);return ct.push(ut+(At-ut)*zt),ct.push(St),ct.push(1),zt}function De(ct,ut){var bt=ut.buffer/ut.extent,At=ct,Ct=Je(ct,1,-1-bt,bt,0,-1,2,ut),St=Je(ct,1,1-bt,2+bt,0,-1,2,ut);return(Ct||St)&&(At=Je(ct,1,-bt,1+bt,0,-1,2,ut)||[],Ct&&(At=Ve(Ct,1).concat(At)),St&&(At=At.concat(Ve(St,-1)))),At}function Ve(ct,ut){for(var bt=[],At=0;At<ct.length;At++){var Ct=ct[At],St=Ct.type,zt;if(St==="Point"||St==="MultiPoint"||St==="LineString")zt=it(Ct.geometry,ut);else if(St==="MultiLineString"||St==="Polygon"){zt=[];for(var Vt=0;Vt<Ct.geometry.length;Vt++)zt.push(it(Ct.geometry[Vt],ut))}else if(St==="MultiPolygon")for(zt=[],Vt=0;Vt<Ct.geometry.length;Vt++){for(var qt=[],$t=0;$t<Ct.geometry[Vt].length;$t++)qt.push(it(Ct.geometry[Vt][$t],ut));zt.push(qt)}bt.push(tt(Ct.id,St,zt,Ct.tags))}return bt}function it(ct,ut){var bt=[];bt.size=ct.size,ct.start!==void 0&&(bt.start=ct.start,bt.end=ct.end);for(var At=0;At<ct.length;At+=3)bt.push(ct[At]+ut,ct[At+1],ct[At+2]);return bt}function ot(ct,ut){if(ct.transformed)return ct;var bt=1<<ct.z,At=ct.x,Ct=ct.y,St,zt,Vt;for(St=0;St<ct.features.length;St++){var qt=ct.features[St],$t=qt.geometry,sr=qt.type;if(qt.geometry=[],sr===1)for(zt=0;zt<$t.length;zt+=2)qt.geometry.push(Tt($t[zt],$t[zt+1],ut,bt,At,Ct));else for(zt=0;zt<$t.length;zt++){var Cr=[];for(Vt=0;Vt<$t[zt].length;Vt+=2)Cr.push(Tt($t[zt][Vt],$t[zt][Vt+1],ut,bt,At,Ct));qt.geometry.push(Cr)}}return ct.transformed=!0,ct}function Tt(ct,ut,bt,At,Ct,St){return[Math.round(bt*(ct*At-Ct)),Math.round(bt*(ut*At-St))]}function It(ct,ut,bt,At,Ct){for(var St=ut===Ct.maxZoom?0:Ct.tolerance/((1<<ut)*Ct.extent),zt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:At,z:ut,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Vt=0;Vt<ct.length;Vt++){zt.numFeatures++,Ht(zt,ct[Vt],St,Ct);var qt=ct[Vt].minX,$t=ct[Vt].minY,sr=ct[Vt].maxX,Cr=ct[Vt].maxY;qt<zt.minX&&(zt.minX=qt),$t<zt.minY&&(zt.minY=$t),sr>zt.maxX&&(zt.maxX=sr),Cr>zt.maxY&&(zt.maxY=Cr)}return zt}function Ht(ct,ut,bt,At){var Ct=ut.geometry,St=ut.type,zt=[];if(St==="Point"||St==="MultiPoint")for(var Vt=0;Vt<Ct.length;Vt+=3)zt.push(Ct[Vt]),zt.push(Ct[Vt+1]),ct.numPoints++,ct.numSimplified++;else if(St==="LineString")Gt(zt,Ct,ct,bt,!1,!1);else if(St==="MultiLineString"||St==="Polygon")for(Vt=0;Vt<Ct.length;Vt++)Gt(zt,Ct[Vt],ct,bt,St==="Polygon",Vt===0);else if(St==="MultiPolygon")for(var qt=0;qt<Ct.length;qt++){var $t=Ct[qt];for(Vt=0;Vt<$t.length;Vt++)Gt(zt,$t[Vt],ct,bt,!0,Vt===0)}if(zt.length){var sr=ut.tags||null;if(St==="LineString"&&At.lineMetrics){sr={};for(var Cr in ut.tags)sr[Cr]=ut.tags[Cr];sr.mapbox_clip_start=Ct.start/Ct.size,sr.mapbox_clip_end=Ct.end/Ct.size}var Ze={geometry:zt,type:St==="Polygon"||St==="MultiPolygon"?3:St==="LineString"||St==="MultiLineString"?2:1,tags:sr};ut.id!==null&&(Ze.id=ut.id),ct.features.push(Ze)}}function Gt(ct,ut,bt,At,Ct,St){var zt=At*At;if(At>0&&ut.size<(Ct?zt:At)){bt.numPoints+=ut.length/3;return}for(var Vt=[],qt=0;qt<ut.length;qt+=3)(At===0||ut[qt+2]>zt)&&(bt.numSimplified++,Vt.push(ut[qt]),Vt.push(ut[qt+1])),bt.numPoints++;Ct&&Pt(Vt,St),ct.push(Vt)}function Pt(ct,ut){for(var bt=0,At=0,Ct=ct.length,St=Ct-2;At<Ct;St=At,At+=2)bt+=(ct[At]-ct[St])*(ct[At+1]+ct[St+1]);if(bt>0===ut)for(At=0,Ct=ct.length;At<Ct/2;At+=2){var zt=ct[At],Vt=ct[At+1];ct[At]=ct[Ct-2-At],ct[At+1]=ct[Ct-1-At],ct[Ct-2-At]=zt,ct[Ct-1-At]=Vt}}function Jt(ct,ut){return new or(ct,ut)}function or(ct,ut){ut=this.options=mt(Object.create(this.options),ut);var bt=ut.debug;if(bt&&console.time("preprocess data"),ut.maxZoom<0||ut.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ut.promoteId&&ut.generateId)throw new Error("promoteId and generateId cannot be used together.");var At=rt(ct,ut);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ut.indexMaxZoom,ut.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),At=De(At,ut),At.length&&this.splitTile(At,0,0,0),bt&&(At.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}or.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},or.prototype.splitTile=function(ct,ut,bt,At,Ct,St,zt){for(var Vt=[ct,ut,bt,At],qt=this.options,$t=qt.debug;Vt.length;){At=Vt.pop(),bt=Vt.pop(),ut=Vt.pop(),ct=Vt.pop();var sr=1<<ut,Cr=zr(ut,bt,At),Ze=this.tiles[Cr];if(!Ze&&($t>1&&console.time("creation"),Ze=this.tiles[Cr]=It(ct,ut,bt,At,qt),this.tileCoords.push({z:ut,x:bt,y:At}),$t)){$t>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ut,bt,At,Ze.numFeatures,Ze.numPoints,Ze.numSimplified),console.timeEnd("creation"));var je="z"+ut;this.stats[je]=(this.stats[je]||0)+1,this.total++}if(Ze.source=ct,Ct){if(ut===qt.maxZoom||ut===Ct)continue;var kt=1<<Ct-ut;if(bt!==Math.floor(St/kt)||At!==Math.floor(zt/kt))continue}else if(ut===qt.indexMaxZoom||Ze.numPoints<=qt.indexMaxPoints)continue;if(Ze.source=null,ct.length!==0){$t>1&&console.time("clipping");var _t=.5*qt.buffer/qt.extent,Zt=.5-_t,ar=.5+_t,ur=1+_t,nr,Ot,cr,pr,gr,dr;nr=Ot=cr=pr=null,gr=Je(ct,sr,bt-_t,bt+ar,0,Ze.minX,Ze.maxX,qt),dr=Je(ct,sr,bt+Zt,bt+ur,0,Ze.minX,Ze.maxX,qt),ct=null,gr&&(nr=Je(gr,sr,At-_t,At+ar,1,Ze.minY,Ze.maxY,qt),Ot=Je(gr,sr,At+Zt,At+ur,1,Ze.minY,Ze.maxY,qt),gr=null),dr&&(cr=Je(dr,sr,At-_t,At+ar,1,Ze.minY,Ze.maxY,qt),pr=Je(dr,sr,At+Zt,At+ur,1,Ze.minY,Ze.maxY,qt),dr=null),$t>1&&console.timeEnd("clipping"),Vt.push(nr||[],ut+1,bt*2,At*2),Vt.push(Ot||[],ut+1,bt*2,At*2+1),Vt.push(cr||[],ut+1,bt*2+1,At*2),Vt.push(pr||[],ut+1,bt*2+1,At*2+1)}}},or.prototype.getTile=function(ct,ut,bt){var At=this.options,Ct=At.extent,St=At.debug;if(ct<0||ct>24)return null;var zt=1<<ct;ut=(ut%zt+zt)%zt;var Vt=zr(ct,ut,bt);if(this.tiles[Vt])return ot(this.tiles[Vt],Ct);St>1&&console.log("drilling down to z%d-%d-%d",ct,ut,bt);for(var qt=ct,$t=ut,sr=bt,Cr;!Cr&&qt>0;)qt--,$t=Math.floor($t/2),sr=Math.floor(sr/2),Cr=this.tiles[zr(qt,$t,sr)];return!Cr||!Cr.source?null:(St>1&&console.log("found parent tile z%d-%d-%d",qt,$t,sr),St>1&&console.time("drilling down"),this.splitTile(Cr.source,qt,$t,sr,ct,ut,bt),St>1&&console.timeEnd("drilling down"),this.tiles[Vt]?ot(this.tiles[Vt],Ct):null)};function zr(ct,ut,bt){return((1<<ct)*bt+ut)*32+ct}function mt(ct,ut){for(var bt in ut)ct[bt]=ut[bt];return ct}function Kt(ct,ut){var bt=ct.tileID.canonical;if(!this._geoJSONIndex)return ut(null,null);var At=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!At)return ut(null,null);var Ct=new M(At.features),St=f(Ct);(St.byteOffset!==0||St.byteLength!==St.buffer.byteLength)&&(St=new Uint8Array(St)),ut(null,{vectorTile:Ct,rawData:St.buffer})}var jt=function(ct){function ut(bt,At,Ct,St){ct.call(this,bt,At,Ct,Kt),St&&(this.loadGeoJSON=St)}return ct&&(ut.__proto__=ct),ut.prototype=Object.create(ct&&ct.prototype),ut.prototype.constructor=ut,ut.prototype.loadData=function(At,Ct){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ct,this._pendingLoadDataParams=At,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ut.prototype._loadData=function(){var At=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Ct=this._pendingCallback,St=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var zt=St&&St.request&&St.request.collectResourceTiming?new a.RequestPerformance(St.request):!1;this.loadGeoJSON(St,function(Vt,qt){if(Vt||!qt)return Ct(Vt);if(typeof qt!="object")return Ct(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."));c(qt,!0);try{At._geoJSONIndex=St.cluster?new te(wr(St)).load(qt.features):Jt(qt,St.geojsonVtOptions)}catch(Cr){return Ct(Cr)}At.loaded={};var $t={};if(zt){var sr=zt.finish();sr&&($t.resourceTiming={},$t.resourceTiming[St.source]=JSON.parse(JSON.stringify(sr)))}Ct(null,$t)})}},ut.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ut.prototype.reloadTile=function(At,Ct){var St=this.loaded,zt=At.uid;return St&&St[zt]?ct.prototype.reloadTile.call(this,At,Ct):this.loadTile(At,Ct)},ut.prototype.loadGeoJSON=function(At,Ct){if(At.request)a.getJSON(At.request,Ct);else if(typeof At.data=="string")try{return Ct(null,JSON.parse(At.data))}catch{return Ct(new Error("Input data given to '"+At.source+"' is not a valid GeoJSON object."))}else return Ct(new Error("Input data given to '"+At.source+"' is not a valid GeoJSON object."))},ut.prototype.removeSource=function(At,Ct){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ct()},ut.prototype.getClusterExpansionZoom=function(At,Ct){try{Ct(null,this._geoJSONIndex.getClusterExpansionZoom(At.clusterId))}catch(St){Ct(St)}},ut.prototype.getClusterChildren=function(At,Ct){try{Ct(null,this._geoJSONIndex.getChildren(At.clusterId))}catch(St){Ct(St)}},ut.prototype.getClusterLeaves=function(At,Ct){try{Ct(null,this._geoJSONIndex.getLeaves(At.clusterId,At.limit,At.offset))}catch(St){Ct(St)}},ut}(s);function wr(ct){var ut=ct.superclusterOptions,bt=ct.clusterProperties;if(!bt||!ut)return ut;for(var At={},Ct={},St={accumulated:null,zoom:0},zt={properties:null},Vt=Object.keys(bt),qt=0,$t=Vt;qt<$t.length;qt+=1){var sr=$t[qt],Cr=bt[sr],Ze=Cr[0],je=Cr[1],kt=a.createExpression(je),_t=a.createExpression(typeof Ze=="string"?[Ze,["accumulated"],["get",sr]]:Ze);At[sr]=kt.value,Ct[sr]=_t.value}return ut.map=function(Zt){zt.properties=Zt;for(var ar={},ur=0,nr=Vt;ur<nr.length;ur+=1){var Ot=nr[ur];ar[Ot]=At[Ot].evaluate(St,zt)}return ar},ut.reduce=function(Zt,ar){zt.properties=ar;for(var ur=0,nr=Vt;ur<nr.length;ur+=1){var Ot=nr[ur];St.accumulated=Zt[Ot],Zt[Ot]=Ct[Ot].evaluate(St,zt)}},ut}var vr=function(ut){var bt=this;this.self=ut,this.actor=new a.Actor(ut,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:s,geojson:jt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(At,Ct){if(bt.workerSourceTypes[At])throw new Error('Worker source with name "'+At+'" already registered.');bt.workerSourceTypes[At]=Ct},this.self.registerRTLTextPlugin=function(At){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=At.applyArabicShaping,a.plugin.processBidirectionalText=At.processBidirectionalText,a.plugin.processStyledBidirectionalText=At.processStyledBidirectionalText}};return vr.prototype.setReferrer=function(ut,bt){this.referrer=bt},vr.prototype.setImages=function(ut,bt,At){this.availableImages[ut]=bt;for(var Ct in this.workerSources[ut]){var St=this.workerSources[ut][Ct];for(var zt in St)St[zt].availableImages=bt}At()},vr.prototype.setLayers=function(ut,bt,At){this.getLayerIndex(ut).replace(bt),At()},vr.prototype.updateLayers=function(ut,bt,At){this.getLayerIndex(ut).update(bt.layers,bt.removedIds),At()},vr.prototype.loadTile=function(ut,bt,At){this.getWorkerSource(ut,bt.type,bt.source).loadTile(bt,At)},vr.prototype.loadDEMTile=function(ut,bt,At){this.getDEMWorkerSource(ut,bt.source).loadTile(bt,At)},vr.prototype.reloadTile=function(ut,bt,At){this.getWorkerSource(ut,bt.type,bt.source).reloadTile(bt,At)},vr.prototype.abortTile=function(ut,bt,At){this.getWorkerSource(ut,bt.type,bt.source).abortTile(bt,At)},vr.prototype.removeTile=function(ut,bt,At){this.getWorkerSource(ut,bt.type,bt.source).removeTile(bt,At)},vr.prototype.removeDEMTile=function(ut,bt){this.getDEMWorkerSource(ut,bt.source).removeTile(bt)},vr.prototype.removeSource=function(ut,bt,At){if(!(!this.workerSources[ut]||!this.workerSources[ut][bt.type]||!this.workerSources[ut][bt.type][bt.source])){var Ct=this.workerSources[ut][bt.type][bt.source];delete this.workerSources[ut][bt.type][bt.source],Ct.removeSource!==void 0?Ct.removeSource(bt,At):At()}},vr.prototype.loadWorkerSource=function(ut,bt,At){try{this.self.importScripts(bt.url),At()}catch(Ct){At(Ct.toString())}},vr.prototype.syncRTLPluginState=function(ut,bt,At){try{a.plugin.setState(bt);var Ct=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Ct!=null){this.self.importScripts(Ct);var St=a.plugin.isParsed(),zt=St?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ct);At(zt,St)}}catch(Vt){At(Vt.toString())}},vr.prototype.getAvailableImages=function(ut){var bt=this.availableImages[ut];return bt||(bt=[]),bt},vr.prototype.getLayerIndex=function(ut){var bt=this.layerIndexes[ut];return bt||(bt=this.layerIndexes[ut]=new d),bt},vr.prototype.getWorkerSource=function(ut,bt,At){var Ct=this;if(this.workerSources[ut]||(this.workerSources[ut]={}),this.workerSources[ut][bt]||(this.workerSources[ut][bt]={}),!this.workerSources[ut][bt][At]){var St={send:function(zt,Vt,qt){Ct.actor.send(zt,Vt,qt,ut)}};this.workerSources[ut][bt][At]=new this.workerSourceTypes[bt](St,this.getLayerIndex(ut),this.getAvailableImages(ut))}return this.workerSources[ut][bt][At]},vr.prototype.getDEMWorkerSource=function(ut,bt){return this.demWorkerSources[ut]||(this.demWorkerSources[ut]={}),this.demWorkerSources[ut][bt]||(this.demWorkerSources[ut][bt]=new m),this.demWorkerSources[ut][bt]},vr.prototype.enforceCacheSizeLimit=function(ut,bt){a.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof a.window<"u"&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new vr(a.window)),vr}),C(["./shared"],function(a){var L=a.createCommonjsModule(function(ge){ge.exports?ge.exports=$:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=$,window.mapboxgl.notSupportedReason=me);function $(Vr){return!me(Vr)}function me(Vr){if(!oe())return"not a browser";if(!xe())return"insufficent Array support";if(!Be())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!lt())return"insufficient JSON support";if(!xt())return"insufficient worker support";if(!Nt())return"insufficient Uint8ClampedArray support";if(!Qt())return"insufficient ArrayBuffer support";if(!fr())return"insufficient Canvas/getImageData support";if(!_r(Vr&&Vr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function oe(){return typeof window<"u"&&typeof document<"u"}function xe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Be(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function lt(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function xt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Vr=new Blob([""],{type:"text/javascript"}),$r=URL.createObjectURL(Vr),ln,En;try{En=new Worker($r),ln=!0}catch{ln=!1}return En&&En.terminate(),URL.revokeObjectURL($r),ln}function Nt(){return"Uint8ClampedArray"in window}function Qt(){return ArrayBuffer.isView}function fr(){var Vr=document.createElement("canvas");Vr.width=Vr.height=1;var $r=Vr.getContext("2d");if(!$r)return!1;var ln=$r.getImageData(0,0,1,1);return ln&&ln.width===Vr.width}var mr={};function _r(Vr){return mr[Vr]===void 0&&(mr[Vr]=Yr(Vr)),mr[Vr]}$.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Wr(Vr){var $r=document.createElement("canvas"),ln=Object.create($.webGLContextAttributes);return ln.failIfMajorPerformanceCaveat=Vr,$r.probablySupportsContext?$r.probablySupportsContext("webgl",ln)||$r.probablySupportsContext("experimental-webgl",ln):$r.supportsContext?$r.supportsContext("webgl",ln)||$r.supportsContext("experimental-webgl",ln):$r.getContext("webgl",ln)||$r.getContext("experimental-webgl",ln)}function Yr(Vr){var $r=Wr(Vr);if(!$r)return!1;var ln=$r.createShader($r.VERTEX_SHADER);return!ln||$r.isContextLost()?!1:($r.shaderSource(ln,"void main() {}"),$r.compileShader(ln),$r.getShaderParameter(ln,$r.COMPILE_STATUS)===!0)}}),x={};x.create=function(ge,$,me){var oe=a.window.document.createElement(ge);return $!==void 0&&(oe.className=$),me&&me.appendChild(oe),oe},x.createNS=function(ge,$){var me=a.window.document.createElementNS(ge,$);return me};var h=a.window.document.documentElement.style;function d(ge){if(!h)return ge[0];for(var $=0;$<ge.length;$++)if(ge[$]in h)return ge[$];return ge[0]}var t=d(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;x.disableDrag=function(){h&&t&&(r=h[t],h[t]="none")},x.enableDrag=function(){h&&t&&(h[t]=r)};var u=d(["transform","WebkitTransform"]);x.setTransform=function(ge,$){ge.style[u]=$};var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",i,i),a.window.removeEventListener("test",i,i)}catch{n=!1}x.addEventListener=function(ge,$,me,oe){oe===void 0&&(oe={}),"passive"in oe&&n?ge.addEventListener($,me,oe):ge.addEventListener($,me,oe.capture)},x.removeEventListener=function(ge,$,me,oe){oe===void 0&&(oe={}),"passive"in oe&&n?ge.removeEventListener($,me,oe):ge.removeEventListener($,me,oe.capture)};var s=function(ge){ge.preventDefault(),ge.stopPropagation(),a.window.removeEventListener("click",s,!0)};x.suppressClick=function(){a.window.addEventListener("click",s,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",s,!0)},0)},x.mousePos=function(ge,$){var me=ge.getBoundingClientRect();return new a.Point($.clientX-me.left-ge.clientLeft,$.clientY-me.top-ge.clientTop)},x.touchPos=function(ge,$){for(var me=ge.getBoundingClientRect(),oe=[],xe=0;xe<$.length;xe++)oe.push(new a.Point($[xe].clientX-me.left-ge.clientLeft,$[xe].clientY-me.top-ge.clientTop));return oe},x.mouseButton=function(ge){return typeof a.window.InstallTrigger<"u"&&ge.button===2&&ge.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ge.button},x.remove=function(ge){ge.parentNode&&ge.parentNode.removeChild(ge)};function o(ge,$,me){var oe,xe,Be,Xe=a.browser.devicePixelRatio>1?"@2x":"",lt=a.getJSON($.transformRequest($.normalizeSpriteURL(ge,Xe,".json"),a.ResourceType.SpriteJSON),function(Qt,fr){lt=null,Be||(Be=Qt,oe=fr,Nt())}),xt=a.getImage($.transformRequest($.normalizeSpriteURL(ge,Xe,".png"),a.ResourceType.SpriteImage),function(Qt,fr){xt=null,Be||(Be=Qt,xe=fr,Nt())});function Nt(){if(Be)me(Be);else if(oe&&xe){var Qt=a.browser.getImageData(xe),fr={};for(var mr in oe){var _r=oe[mr],Wr=_r.width,Yr=_r.height,Vr=_r.x,$r=_r.y,ln=_r.sdf,En=_r.pixelRatio,zn=_r.stretchX,jn=_r.stretchY,Xn=_r.content,Zn=new a.RGBAImage({width:Wr,height:Yr});a.RGBAImage.copy(Qt,Zn,{x:Vr,y:$r},{x:0,y:0},{width:Wr,height:Yr}),fr[mr]={data:Zn,pixelRatio:En,sdf:ln,stretchX:zn,stretchY:jn,content:Xn}}me(null,fr)}}return{cancel:function(){lt&&(lt.cancel(),lt=null),xt&&(xt.cancel(),xt=null)}}}function m(ge){var $=ge.userImage;if($&&$.render){var me=$.render();if(me)return ge.data.replace(new Uint8Array($.data.buffer)),!0}return!1}var c=1,b=function(ge){function $(){ge.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(oe){if(this.loaded!==oe&&(this.loaded=oe,oe)){for(var xe=0,Be=this.requestors;xe<Be.length;xe+=1){var Xe=Be[xe],lt=Xe.ids,xt=Xe.callback;this._notify(lt,xt)}this.requestors=[]}},$.prototype.getImage=function(oe){return this.images[oe]},$.prototype.addImage=function(oe,xe){this._validate(oe,xe)&&(this.images[oe]=xe)},$.prototype._validate=function(oe,xe){var Be=!0;return this._validateStretch(xe.stretchX,xe.data&&xe.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+oe+'" has invalid "stretchX" value'))),Be=!1),this._validateStretch(xe.stretchY,xe.data&&xe.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+oe+'" has invalid "stretchY" value'))),Be=!1),this._validateContent(xe.content,xe)||(this.fire(new a.ErrorEvent(new Error('Image "'+oe+'" has invalid "content" value'))),Be=!1),Be},$.prototype._validateStretch=function(oe,xe){if(!oe)return!0;for(var Be=0,Xe=0,lt=oe;Xe<lt.length;Xe+=1){var xt=lt[Xe];if(xt[0]<Be||xt[1]<xt[0]||xe<xt[1])return!1;Be=xt[1]}return!0},$.prototype._validateContent=function(oe,xe){return oe?!(oe.length!==4||oe[0]<0||xe.data.width<oe[0]||oe[1]<0||xe.data.height<oe[1]||oe[2]<0||xe.data.width<oe[2]||oe[3]<0||xe.data.height<oe[3]||oe[2]<oe[0]||oe[3]<oe[1]):!0},$.prototype.updateImage=function(oe,xe){var Be=this.images[oe];xe.version=Be.version+1,this.images[oe]=xe,this.updatedImages[oe]=!0},$.prototype.removeImage=function(oe){var xe=this.images[oe];delete this.images[oe],delete this.patterns[oe],xe.userImage&&xe.userImage.onRemove&&xe.userImage.onRemove()},$.prototype.listImages=function(){return Object.keys(this.images)},$.prototype.getImages=function(oe,xe){var Be=!0;if(!this.isLoaded())for(var Xe=0,lt=oe;Xe<lt.length;Xe+=1){var xt=lt[Xe];this.images[xt]||(Be=!1)}this.isLoaded()||Be?this._notify(oe,xe):this.requestors.push({ids:oe,callback:xe})},$.prototype._notify=function(oe,xe){for(var Be={},Xe=0,lt=oe;Xe<lt.length;Xe+=1){var xt=lt[Xe];this.images[xt]||this.fire(new a.Event("styleimagemissing",{id:xt}));var Nt=this.images[xt];Nt?Be[xt]={data:Nt.data.clone(),pixelRatio:Nt.pixelRatio,sdf:Nt.sdf,version:Nt.version,stretchX:Nt.stretchX,stretchY:Nt.stretchY,content:Nt.content,hasRenderCallback:!!(Nt.userImage&&Nt.userImage.render)}:a.warnOnce('Image "'+xt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}xe(null,Be)},$.prototype.getPixelSize=function(){var oe=this.atlasImage,xe=oe.width,Be=oe.height;return{width:xe,height:Be}},$.prototype.getPattern=function(oe){var xe=this.patterns[oe],Be=this.getImage(oe);if(!Be)return null;if(xe&&xe.position.version===Be.version)return xe.position;if(xe)xe.position.version=Be.version;else{var Xe=Be.data.width+c*2,lt=Be.data.height+c*2,xt={w:Xe,h:lt,x:0,y:0},Nt=new a.ImagePosition(xt,Be);this.patterns[oe]={bin:xt,position:Nt}}return this._updatePatternAtlas(),this.patterns[oe].position},$.prototype.bind=function(oe){var xe=oe.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(oe,this.atlasImage,xe.RGBA),this.atlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE)},$.prototype._updatePatternAtlas=function(){var oe=[];for(var xe in this.patterns)oe.push(this.patterns[xe].bin);var Be=a.potpack(oe),Xe=Be.w,lt=Be.h,xt=this.atlasImage;xt.resize({width:Xe||1,height:lt||1});for(var Nt in this.patterns){var Qt=this.patterns[Nt],fr=Qt.bin,mr=fr.x+c,_r=fr.y+c,Wr=this.images[Nt].data,Yr=Wr.width,Vr=Wr.height;a.RGBAImage.copy(Wr,xt,{x:0,y:0},{x:mr,y:_r},{width:Yr,height:Vr}),a.RGBAImage.copy(Wr,xt,{x:0,y:Vr-1},{x:mr,y:_r-1},{width:Yr,height:1}),a.RGBAImage.copy(Wr,xt,{x:0,y:0},{x:mr,y:_r+Vr},{width:Yr,height:1}),a.RGBAImage.copy(Wr,xt,{x:Yr-1,y:0},{x:mr-1,y:_r},{width:1,height:Vr}),a.RGBAImage.copy(Wr,xt,{x:0,y:0},{x:mr+Yr,y:_r},{width:1,height:Vr})}this.dirty=!0},$.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},$.prototype.dispatchRenderCallbacks=function(oe){for(var xe=0,Be=oe;xe<Be.length;xe+=1){var Xe=Be[xe];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var lt=this.images[Xe],xt=m(lt);xt&&this.updateImage(Xe,lt)}}},$}(a.Evented);function v(ge,$,me,oe,xe){var Be=$*256,Xe=Be+255,lt=oe.transformRequest(oe.normalizeGlyphsURL(me).replace("{fontstack}",ge).replace("{range}",Be+"-"+Xe),a.ResourceType.Glyphs);a.getArrayBuffer(lt,function(xt,Nt){if(xt)xe(xt);else if(Nt){for(var Qt={},fr=0,mr=a.parseGlyphPBF(Nt);fr<mr.length;fr+=1){var _r=mr[fr];Qt[_r.id]=_r}xe(null,Qt)}})}var l=M,p=M,S=1e20;function M(ge,$,me,oe,xe,Be){this.fontSize=ge||24,this.buffer=$===void 0?3:$,this.cutoff=oe||.25,this.fontFamily=xe||"sans-serif",this.fontWeight=Be||"normal",this.radius=me||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}M.prototype.draw=function(ge){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ge,this.buffer,this.middle);for(var $=this.ctx.getImageData(0,0,this.size,this.size),me=new Uint8ClampedArray(this.size*this.size),oe=0;oe<this.size*this.size;oe++){var xe=$.data[oe*4+3]/255;this.gridOuter[oe]=xe===1?0:xe===0?S:Math.pow(Math.max(0,.5-xe),2),this.gridInner[oe]=xe===1?S:xe===0?0:Math.pow(Math.max(0,xe-.5),2)}for(R(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),R(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),oe=0;oe<this.size*this.size;oe++){var Be=this.gridOuter[oe]-this.gridInner[oe];me[oe]=Math.max(0,Math.min(255,Math.round(255-255*(Be/this.radius+this.cutoff))))}return me};function R(ge,$,me,oe,xe,Be,Xe){for(var lt=0;lt<$;lt++){for(var xt=0;xt<me;xt++)oe[xt]=ge[xt*$+lt];for(T(oe,xe,Be,Xe,me),xt=0;xt<me;xt++)ge[xt*$+lt]=xe[xt]}for(xt=0;xt<me;xt++){for(lt=0;lt<$;lt++)oe[lt]=ge[xt*$+lt];for(T(oe,xe,Be,Xe,$),lt=0;lt<$;lt++)ge[xt*$+lt]=Math.sqrt(xe[lt])}}function T(ge,$,me,oe,xe){me[0]=0,oe[0]=-S,oe[1]=+S;for(var Be=1,Xe=0;Be<xe;Be++){for(var lt=(ge[Be]+Be*Be-(ge[me[Xe]]+me[Xe]*me[Xe]))/(2*Be-2*me[Xe]);lt<=oe[Xe];)Xe--,lt=(ge[Be]+Be*Be-(ge[me[Xe]]+me[Xe]*me[Xe]))/(2*Be-2*me[Xe]);Xe++,me[Xe]=Be,oe[Xe]=lt,oe[Xe+1]=+S}for(Be=0,Xe=0;Be<xe;Be++){for(;oe[Xe+1]<Be;)Xe++;$[Be]=(Be-me[Xe])*(Be-me[Xe])+ge[me[Xe]]}}l.default=p;var E=function($,me){this.requestManager=$,this.localIdeographFontFamily=me,this.entries={}};E.prototype.setURL=function($){this.url=$},E.prototype.getGlyphs=function($,me){var oe=this,xe=[];for(var Be in $)for(var Xe=0,lt=$[Be];Xe<lt.length;Xe+=1){var xt=lt[Xe];xe.push({stack:Be,id:xt})}a.asyncAll(xe,function(Nt,Qt){var fr=Nt.stack,mr=Nt.id,_r=oe.entries[fr];_r||(_r=oe.entries[fr]={glyphs:{},requests:{},ranges:{}});var Wr=_r.glyphs[mr];if(Wr!==void 0){Qt(null,{stack:fr,id:mr,glyph:Wr});return}if(Wr=oe._tinySDF(_r,fr,mr),Wr){_r.glyphs[mr]=Wr,Qt(null,{stack:fr,id:mr,glyph:Wr});return}var Yr=Math.floor(mr/256);if(Yr*256>65535){Qt(new Error("glyphs > 65535 not supported"));return}if(_r.ranges[Yr]){Qt(null,{stack:fr,id:mr,glyph:Wr});return}var Vr=_r.requests[Yr];Vr||(Vr=_r.requests[Yr]=[],E.loadGlyphRange(fr,Yr,oe.url,oe.requestManager,function($r,ln){if(ln){for(var En in ln)oe._doesCharSupportLocalGlyph(+En)||(_r.glyphs[+En]=ln[+En]);_r.ranges[Yr]=!0}for(var zn=0,jn=Vr;zn<jn.length;zn+=1){var Xn=jn[zn];Xn($r,ln)}delete _r.requests[Yr]})),Vr.push(function($r,ln){$r?Qt($r):ln&&Qt(null,{stack:fr,id:mr,glyph:ln[mr]||null})})},function(Nt,Qt){if(Nt)me(Nt);else if(Qt){for(var fr={},mr=0,_r=Qt;mr<_r.length;mr+=1){var Wr=_r[mr],Yr=Wr.stack,Vr=Wr.id,$r=Wr.glyph;(fr[Yr]||(fr[Yr]={}))[Vr]=$r&&{id:$r.id,bitmap:$r.bitmap.clone(),metrics:$r.metrics}}me(null,fr)}})},E.prototype._doesCharSupportLocalGlyph=function($){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"]($)||a.isChar["Hangul Syllables"]($)||a.isChar.Hiragana($)||a.isChar.Katakana($))},E.prototype._tinySDF=function($,me,oe){var xe=this.localIdeographFontFamily;if(xe&&this._doesCharSupportLocalGlyph(oe)){var Be=$.tinySDF;if(!Be){var Xe="400";/bold/i.test(me)?Xe="900":/medium/i.test(me)?Xe="500":/light/i.test(me)&&(Xe="200"),Be=$.tinySDF=new E.TinySDF(24,3,8,.25,xe,Xe)}return{id:oe,bitmap:new a.AlphaImage({width:30,height:30},Be.draw(String.fromCharCode(oe))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=v,E.TinySDF=l;var A=function(){this.specification=a.styleSpec.light.position};A.prototype.possiblyEvaluate=function($,me){return a.sphericalToCartesian($.expression.evaluate(me))},A.prototype.interpolate=function($,me,oe){return{x:a.number($.x,me.x,oe),y:a.number($.y,me.y,oe),z:a.number($.z,me.z,oe)}};var f=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new A,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),P="-transition",w=function(ge){function $(me){ge.call(this),this._transitionable=new a.Transitionable(f),this.setLight(me),this._transitioning=this._transitionable.untransitioned()}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getLight=function(){return this._transitionable.serialize()},$.prototype.setLight=function(oe,xe){if(xe===void 0&&(xe={}),!this._validate(a.validateLight,oe,xe))for(var Be in oe){var Xe=oe[Be];a.endsWith(Be,P)?this._transitionable.setTransition(Be.slice(0,-P.length),Xe):this._transitionable.setValue(Be,Xe)}},$.prototype.updateTransitions=function(oe){this._transitioning=this._transitionable.transitioned(oe,this._transitioning)},$.prototype.hasTransition=function(){return this._transitioning.hasTransition()},$.prototype.recalculate=function(oe){this.properties=this._transitioning.possiblyEvaluate(oe)},$.prototype._validate=function(oe,xe,Be){return Be&&Be.validate===!1?!1:a.emitValidationErrors(this,oe.call(a.validateStyle,a.extend({value:xe,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},$}(a.Evented),z=function($,me){this.width=$,this.height=me,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};z.prototype.getDash=function($,me){var oe=$.join(",")+String(me);return this.dashEntry[oe]||(this.dashEntry[oe]=this.addDash($,me)),this.dashEntry[oe]},z.prototype.getDashRanges=function($,me,oe){var xe=$.length%2===1,Be=[],Xe=xe?-$[$.length-1]*oe:0,lt=$[0]*oe,xt=!0;Be.push({left:Xe,right:lt,isDash:xt,zeroLength:$[0]===0});for(var Nt=$[0],Qt=1;Qt<$.length;Qt++){xt=!xt;var fr=$[Qt];Xe=Nt*oe,Nt+=fr,lt=Nt*oe,Be.push({left:Xe,right:lt,isDash:xt,zeroLength:fr===0})}return Be},z.prototype.addRoundDash=function($,me,oe){for(var xe=me/2,Be=-oe;Be<=oe;Be++)for(var Xe=this.nextRow+oe+Be,lt=this.width*Xe,xt=0,Nt=$[xt],Qt=0;Qt<this.width;Qt++){Qt/Nt.right>1&&(Nt=$[++xt]);var fr=Math.abs(Qt-Nt.left),mr=Math.abs(Qt-Nt.right),_r=Math.min(fr,mr),Wr=void 0,Yr=Be/oe*(xe+1);if(Nt.isDash){var Vr=xe-Math.abs(Yr);Wr=Math.sqrt(_r*_r+Vr*Vr)}else Wr=xe-Math.sqrt(_r*_r+Yr*Yr);this.data[lt+Qt]=Math.max(0,Math.min(255,Wr+128))}},z.prototype.addRegularDash=function($){for(var me=$.length-1;me>=0;--me){var oe=$[me],xe=$[me+1];oe.zeroLength?$.splice(me,1):xe&&xe.isDash===oe.isDash&&(xe.left=oe.left,$.splice(me,1))}var Be=$[0],Xe=$[$.length-1];Be.isDash===Xe.isDash&&(Be.left=Xe.left-this.width,Xe.right=Be.right+this.width);for(var lt=this.width*this.nextRow,xt=0,Nt=$[xt],Qt=0;Qt<this.width;Qt++){Qt/Nt.right>1&&(Nt=$[++xt]);var fr=Math.abs(Qt-Nt.left),mr=Math.abs(Qt-Nt.right),_r=Math.min(fr,mr),Wr=Nt.isDash?_r:-_r;this.data[lt+Qt]=Math.max(0,Math.min(255,Wr+128))}},z.prototype.addDash=function($,me){var oe=me?7:0,xe=2*oe+1;if(this.nextRow+xe>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var Be=0,Xe=0;Xe<$.length;Xe++)Be+=$[Xe];if(Be!==0){var lt=this.width/Be,xt=this.getDashRanges($,this.width,lt);me?this.addRoundDash(xt,lt,oe):this.addRegularDash(xt)}var Nt={y:(this.nextRow+oe+.5)/this.height,height:2*oe/this.height,width:Be};return this.nextRow+=xe,this.dirty=!0,Nt},z.prototype.bind=function($){var me=$.gl;this.texture?(me.bindTexture(me.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,me.texSubImage2D(me.TEXTURE_2D,0,0,0,this.width,this.height,me.ALPHA,me.UNSIGNED_BYTE,this.data))):(this.texture=me.createTexture(),me.bindTexture(me.TEXTURE_2D,this.texture),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_S,me.REPEAT),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_T,me.REPEAT),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MIN_FILTER,me.LINEAR),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MAG_FILTER,me.LINEAR),me.texImage2D(me.TEXTURE_2D,0,me.ALPHA,this.width,this.height,0,me.ALPHA,me.UNSIGNED_BYTE,this.data))};var F=function ge($,me){this.workerPool=$,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var oe=this.workerPool.acquire(this.id),xe=0;xe<oe.length;xe++){var Be=oe[xe],Xe=new ge.Actor(Be,me,this.id);Xe.name="Worker "+xe,this.actors.push(Xe)}};F.prototype.broadcast=function($,me,oe){oe=oe||function(){},a.asyncAll(this.actors,function(xe,Be){xe.send($,me,Be)},oe)},F.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},F.prototype.remove=function(){this.actors.forEach(function($){$.remove()}),this.actors=[],this.workerPool.release(this.id)},F.Actor=a.Actor;function H(ge,$,me){var oe=function(xe,Be){if(xe)return me(xe);if(Be){var Xe=a.pick(a.extend(Be,ge),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Be.vector_layers&&(Xe.vectorLayers=Be.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(lt){return lt.id})),Xe.tiles=$.canonicalizeTileset(Xe,ge.url),me(null,Xe)}};return ge.url?a.getJSON($.transformRequest($.normalizeSourceURL(ge.url),a.ResourceType.Source),oe):a.browser.frame(function(){return oe(null,ge)})}var _=function($,me,oe){this.bounds=a.LngLatBounds.convert(this.validateBounds($)),this.minzoom=me||0,this.maxzoom=oe||24};_.prototype.validateBounds=function($){return!Array.isArray($)||$.length!==4?[-180,-90,180,90]:[Math.max(-180,$[0]),Math.max(-90,$[1]),Math.min(180,$[2]),Math.min(90,$[3])]},_.prototype.contains=function($){var me=Math.pow(2,$.z),oe={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*me),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*me),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*me),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*me)},xe=$.x>=oe.minX&&$.x<oe.maxX&&$.y>=oe.minY&&$.y<oe.maxY;return xe};var B=function(ge){function $(me,oe,xe,Be){if(ge.call(this),this.id=me,this.dispatcher=xe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(oe,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},oe),this._collectResourceTiming=oe.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Be)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.load=function(){var oe=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(xe,Be){oe._tileJSONRequest=null,oe._loaded=!0,xe?oe.fire(new a.ErrorEvent(xe)):Be&&(a.extend(oe,Be),Be.bounds&&(oe.tileBounds=new _(Be.bounds,oe.minzoom,oe.maxzoom)),a.postTurnstileEvent(Be.tiles,oe.map._requestManager._customAccessToken),a.postMapLoadEvent(Be.tiles,oe.map._getMapId(),oe.map._requestManager._skuToken,oe.map._requestManager._customAccessToken),oe.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),oe.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.hasTile=function(oe){return!this.tileBounds||this.tileBounds.contains(oe.canonical)},$.prototype.onAdd=function(oe){this.map=oe,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return a.extend({},this._options)},$.prototype.loadTile=function(oe,xe){var Be=this.map._requestManager.normalizeTileURL(oe.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(Be,a.ResourceType.Tile),uid:oe.uid,tileID:oe.tileID,zoom:oe.tileID.overscaledZ,tileSize:this.tileSize*oe.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!oe.actor||oe.state==="expired"?(oe.actor=this.dispatcher.getActor(),oe.request=oe.actor.send("loadTile",Xe,lt.bind(this))):oe.state==="loading"?oe.reloadCallback=xe:oe.request=oe.actor.send("reloadTile",Xe,lt.bind(this));function lt(xt,Nt){if(delete oe.request,oe.aborted)return xe(null);if(xt&&xt.status!==404)return xe(xt);Nt&&Nt.resourceTiming&&(oe.resourceTiming=Nt.resourceTiming),this.map._refreshExpiredTiles&&Nt&&oe.setExpiryData(Nt),oe.loadVectorData(Nt,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),xe(null),oe.reloadCallback&&(this.loadTile(oe,oe.reloadCallback),oe.reloadCallback=null)}},$.prototype.abortTile=function(oe){oe.request&&(oe.request.cancel(),delete oe.request),oe.actor&&oe.actor.send("abortTile",{uid:oe.uid,type:this.type,source:this.id},void 0)},$.prototype.unloadTile=function(oe){oe.unloadVectorData(),oe.actor&&oe.actor.send("removeTile",{uid:oe.uid,type:this.type,source:this.id},void 0)},$.prototype.hasTransition=function(){return!1},$}(a.Evented),N=function(ge){function $(me,oe,xe,Be){ge.call(this),this.id=me,this.dispatcher=xe,this.setEventedParent(Be),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},oe),a.extend(this,a.pick(oe,["url","scheme","tileSize"]))}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.load=function(){var oe=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(xe,Be){oe._tileJSONRequest=null,oe._loaded=!0,xe?oe.fire(new a.ErrorEvent(xe)):Be&&(a.extend(oe,Be),Be.bounds&&(oe.tileBounds=new _(Be.bounds,oe.minzoom,oe.maxzoom)),a.postTurnstileEvent(Be.tiles),a.postMapLoadEvent(Be.tiles,oe.map._getMapId(),oe.map._requestManager._skuToken),oe.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),oe.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.onAdd=function(oe){this.map=oe,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return a.extend({},this._options)},$.prototype.hasTile=function(oe){return!this.tileBounds||this.tileBounds.contains(oe.canonical)},$.prototype.loadTile=function(oe,xe){var Be=this,Xe=this.map._requestManager.normalizeTileURL(oe.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);oe.request=a.getImage(this.map._requestManager.transformRequest(Xe,a.ResourceType.Tile),function(lt,xt){if(delete oe.request,oe.aborted)oe.state="unloaded",xe(null);else if(lt)oe.state="errored",xe(lt);else if(xt){Be.map._refreshExpiredTiles&&oe.setExpiryData(xt),delete xt.cacheControl,delete xt.expires;var Nt=Be.map.painter.context,Qt=Nt.gl;oe.texture=Be.map.painter.getTileTexture(xt.width),oe.texture?oe.texture.update(xt,{useMipmap:!0}):(oe.texture=new a.Texture(Nt,xt,Qt.RGBA,{useMipmap:!0}),oe.texture.bind(Qt.LINEAR,Qt.CLAMP_TO_EDGE,Qt.LINEAR_MIPMAP_NEAREST),Nt.extTextureFilterAnisotropic&&Qt.texParameterf(Qt.TEXTURE_2D,Nt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Nt.extTextureFilterAnisotropicMax)),oe.state="loaded",a.cacheEntryPossiblyAdded(Be.dispatcher),xe(null)}})},$.prototype.abortTile=function(oe,xe){oe.request&&(oe.request.cancel(),delete oe.request),xe()},$.prototype.unloadTile=function(oe,xe){oe.texture&&this.map.painter.saveTileTexture(oe.texture),xe()},$.prototype.hasTransition=function(){return!1},$}(a.Evented),O=function(ge){function $(me,oe,xe,Be){ge.call(this,me,oe,xe,Be),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},oe),this.encoding=oe.encoding||"mapbox"}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},$.prototype.loadTile=function(oe,xe){var Be=this.map._requestManager.normalizeTileURL(oe.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);oe.request=a.getImage(this.map._requestManager.transformRequest(Be,a.ResourceType.Tile),Xe.bind(this)),oe.neighboringTiles=this._getNeighboringTiles(oe.tileID);function Xe(xt,Nt){if(delete oe.request,oe.aborted)oe.state="unloaded",xe(null);else if(xt)oe.state="errored",xe(xt);else if(Nt){this.map._refreshExpiredTiles&&oe.setExpiryData(Nt),delete Nt.cacheControl,delete Nt.expires;var Qt=a.window.ImageBitmap&&Nt instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),fr=Qt?Nt:a.browser.getImageData(Nt,1),mr={uid:oe.uid,coord:oe.tileID,source:this.id,rawImageData:fr,encoding:this.encoding};(!oe.actor||oe.state==="expired")&&(oe.actor=this.dispatcher.getActor(),oe.actor.send("loadDEMTile",mr,lt.bind(this)))}}function lt(xt,Nt){xt&&(oe.state="errored",xe(xt)),Nt&&(oe.dem=Nt,oe.needsHillshadePrepare=!0,oe.state="loaded",xe(null))}},$.prototype._getNeighboringTiles=function(oe){var xe=oe.canonical,Be=Math.pow(2,xe.z),Xe=(xe.x-1+Be)%Be,lt=xe.x===0?oe.wrap-1:oe.wrap,xt=(xe.x+1+Be)%Be,Nt=xe.x+1===Be?oe.wrap+1:oe.wrap,Qt={};return Qt[new a.OverscaledTileID(oe.overscaledZ,lt,xe.z,Xe,xe.y).key]={backfilled:!1},Qt[new a.OverscaledTileID(oe.overscaledZ,Nt,xe.z,xt,xe.y).key]={backfilled:!1},xe.y>0&&(Qt[new a.OverscaledTileID(oe.overscaledZ,lt,xe.z,Xe,xe.y-1).key]={backfilled:!1},Qt[new a.OverscaledTileID(oe.overscaledZ,oe.wrap,xe.z,xe.x,xe.y-1).key]={backfilled:!1},Qt[new a.OverscaledTileID(oe.overscaledZ,Nt,xe.z,xt,xe.y-1).key]={backfilled:!1}),xe.y+1<Be&&(Qt[new a.OverscaledTileID(oe.overscaledZ,lt,xe.z,Xe,xe.y+1).key]={backfilled:!1},Qt[new a.OverscaledTileID(oe.overscaledZ,oe.wrap,xe.z,xe.x,xe.y+1).key]={backfilled:!1},Qt[new a.OverscaledTileID(oe.overscaledZ,Nt,xe.z,xt,xe.y+1).key]={backfilled:!1}),Qt},$.prototype.unloadTile=function(oe){oe.demTexture&&this.map.painter.saveTileTexture(oe.demTexture),oe.fbo&&(oe.fbo.destroy(),delete oe.fbo),oe.dem&&delete oe.dem,delete oe.neighboringTiles,oe.state="unloaded",oe.actor&&oe.actor.send("removeDEMTile",{uid:oe.uid,source:this.id})},$}(N),U=function(ge){function $(me,oe,xe,Be){ge.call(this),this.id=me,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=xe.getActor(),this.setEventedParent(Be),this._data=oe.data,this._options=a.extend({},oe),this._collectResourceTiming=oe.collectResourceTiming,this._resourceTiming=[],oe.maxzoom!==void 0&&(this.maxzoom=oe.maxzoom),oe.type&&(this.type=oe.type),oe.attribution&&(this.attribution=oe.attribution),this.promoteId=oe.promoteId;var Xe=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:oe.cluster||!1,geojsonVtOptions:{buffer:(oe.buffer!==void 0?oe.buffer:128)*Xe,tolerance:(oe.tolerance!==void 0?oe.tolerance:.375)*Xe,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:oe.lineMetrics||!1,generateId:oe.generateId||!1},superclusterOptions:{maxZoom:oe.clusterMaxZoom!==void 0?Math.min(oe.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(oe.clusterRadius||50)*Xe,log:!1,generateId:oe.generateId||!1},clusterProperties:oe.clusterProperties},oe.workerOptions)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.load=function(){var oe=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(xe){if(xe){oe.fire(new a.ErrorEvent(xe));return}var Be={dataType:"source",sourceDataType:"metadata"};oe._collectResourceTiming&&oe._resourceTiming&&oe._resourceTiming.length>0&&(Be.resourceTiming=oe._resourceTiming,oe._resourceTiming=[]),oe.fire(new a.Event("data",Be))})},$.prototype.onAdd=function(oe){this.map=oe,this.load()},$.prototype.setData=function(oe){var xe=this;return this._data=oe,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Be){if(Be){xe.fire(new a.ErrorEvent(Be));return}var Xe={dataType:"source",sourceDataType:"content"};xe._collectResourceTiming&&xe._resourceTiming&&xe._resourceTiming.length>0&&(Xe.resourceTiming=xe._resourceTiming,xe._resourceTiming=[]),xe.fire(new a.Event("data",Xe))}),this},$.prototype.getClusterExpansionZoom=function(oe,xe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:oe,source:this.id},xe),this},$.prototype.getClusterChildren=function(oe,xe){return this.actor.send("geojson.getClusterChildren",{clusterId:oe,source:this.id},xe),this},$.prototype.getClusterLeaves=function(oe,xe,Be,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:oe,limit:xe,offset:Be},Xe),this},$.prototype._updateWorkerData=function(oe){var xe=this;this._loaded=!1;var Be=a.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(Be.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Xe),a.ResourceType.Source),Be.request.collectResourceTiming=this._collectResourceTiming):Be.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",Be,function(lt,xt){xe._removed||xt&&xt.abandoned||(xe._loaded=!0,xt&&xt.resourceTiming&&xt.resourceTiming[xe.id]&&(xe._resourceTiming=xt.resourceTiming[xe.id].slice(0)),xe.actor.send(xe.type+".coalesce",{source:Be.source},null),oe(lt))})},$.prototype.loaded=function(){return this._loaded},$.prototype.loadTile=function(oe,xe){var Be=this,Xe=oe.actor?"reloadTile":"loadTile";oe.actor=this.actor;var lt={type:this.type,uid:oe.uid,tileID:oe.tileID,zoom:oe.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};oe.request=this.actor.send(Xe,lt,function(xt,Nt){return delete oe.request,oe.unloadVectorData(),oe.aborted?xe(null):xt?xe(xt):(oe.loadVectorData(Nt,Be.map.painter,Xe==="reloadTile"),xe(null))})},$.prototype.abortTile=function(oe){oe.request&&(oe.request.cancel(),delete oe.request),oe.aborted=!0},$.prototype.unloadTile=function(oe){oe.unloadVectorData(),this.actor.send("removeTile",{uid:oe.uid,type:this.type,source:this.id})},$.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},$.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},$.prototype.hasTransition=function(){return!1},$}(a.Evented),K=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),re=function(ge){function $(me,oe,xe,Be){ge.call(this),this.id=me,this.dispatcher=xe,this.coordinates=oe.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Be),this.options=oe}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.load=function(oe,xe){var Be=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Xe,lt){Be._loaded=!0,Xe?Be.fire(new a.ErrorEvent(Xe)):lt&&(Be.image=lt,oe&&(Be.coordinates=oe),xe&&xe(),Be._finishLoading())})},$.prototype.loaded=function(){return this._loaded},$.prototype.updateImage=function(oe){var xe=this;return!this.image||!oe.url?this:(this.options.url=oe.url,this.load(oe.coordinates,function(){xe.texture=null}),this)},$.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},$.prototype.onAdd=function(oe){this.map=oe,this.load()},$.prototype.setCoordinates=function(oe){var xe=this;this.coordinates=oe;var Be=oe.map(a.MercatorCoordinate.fromLngLat);this.tileID=ae(Be),this.minzoom=this.maxzoom=this.tileID.z;var Xe=Be.map(function(lt){return xe.tileID.getTilePoint(lt)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},$.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var oe=this.map.painter.context,xe=oe.gl;this.boundsBuffer||(this.boundsBuffer=oe.createVertexBuffer(this._boundsArray,K.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(oe,this.image,xe.RGBA),this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE));for(var Be in this.tiles){var Xe=this.tiles[Be];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},$.prototype.loadTile=function(oe,xe){this.tileID&&this.tileID.equals(oe.tileID.canonical)?(this.tiles[String(oe.tileID.wrap)]=oe,oe.buckets={},xe(null)):(oe.state="errored",xe(null))},$.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return!1},$}(a.Evented);function ae(ge){for(var $=1/0,me=1/0,oe=-1/0,xe=-1/0,Be=0,Xe=ge;Be<Xe.length;Be+=1){var lt=Xe[Be];$=Math.min($,lt.x),me=Math.min(me,lt.y),oe=Math.max(oe,lt.x),xe=Math.max(xe,lt.y)}var xt=oe-$,Nt=xe-me,Qt=Math.max(xt,Nt),fr=Math.max(0,Math.floor(-Math.log(Qt)/Math.LN2)),mr=Math.pow(2,fr);return new a.CanonicalTileID(fr,Math.floor(($+oe)/2*mr),Math.floor((me+xe)/2*mr))}var ue=function(ge){function $(me,oe,xe,Be){ge.call(this,me,oe,xe,Be),this.roundZoom=!0,this.type="video",this.options=oe}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.load=function(){var oe=this;this._loaded=!1;var xe=this.options;this.urls=[];for(var Be=0,Xe=xe.urls;Be<Xe.length;Be+=1){var lt=Xe[Be];this.urls.push(this.map._requestManager.transformRequest(lt,a.ResourceType.Source).url)}a.getVideo(this.urls,function(xt,Nt){oe._loaded=!0,xt?oe.fire(new a.ErrorEvent(xt)):Nt&&(oe.video=Nt,oe.video.loop=!0,oe.video.addEventListener("playing",function(){oe.map.triggerRepaint()}),oe.map&&oe.video.play(),oe._finishLoading())})},$.prototype.pause=function(){this.video&&this.video.pause()},$.prototype.play=function(){this.video&&this.video.play()},$.prototype.seek=function(oe){if(this.video){var xe=this.video.seekable;oe<xe.start(0)||oe>xe.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+xe.start(0)+" and "+xe.end(0)+"-second mark."))):this.video.currentTime=oe}},$.prototype.getVideo=function(){return this.video},$.prototype.onAdd=function(oe){this.map||(this.map=oe,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},$.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var oe=this.map.painter.context,xe=oe.gl;this.boundsBuffer||(this.boundsBuffer=oe.createVertexBuffer(this._boundsArray,K.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),xe.texSubImage2D(xe.TEXTURE_2D,0,0,0,xe.RGBA,xe.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(oe,this.video,xe.RGBA),this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE));for(var Be in this.tiles){var Xe=this.tiles[Be];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this.video&&!this.video.paused},$}(re),ve=function(ge){function $(me,oe,xe,Be){ge.call(this,me,oe,xe,Be),oe.coordinates?(!Array.isArray(oe.coordinates)||oe.coordinates.length!==4||oe.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(lt){return typeof lt!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+me,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+me,null,'missing required property "coordinates"'))),oe.animate&&typeof oe.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+me,null,'optional "animate" property must be a boolean value'))),oe.canvas?typeof oe.canvas!="string"&&!(oe.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+me,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+me,null,'missing required property "canvas"'))),this.options=oe,this.animate=oe.animate!==void 0?oe.animate:!0}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},$.prototype.getCanvas=function(){return this.canvas},$.prototype.onAdd=function(oe){this.map=oe,this.load(),this.canvas&&this.animate&&this.play()},$.prototype.onRemove=function(){this.pause()},$.prototype.prepare=function(){var oe=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,oe=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,oe=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var xe=this.map.painter.context,Be=xe.gl;this.boundsBuffer||(this.boundsBuffer=xe.createVertexBuffer(this._boundsArray,K.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(oe||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(xe,this.canvas,Be.RGBA,{premultiply:!0});for(var Xe in this.tiles){var lt=this.tiles[Xe];lt.state!=="loaded"&&(lt.state="loaded",lt.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this._playing},$.prototype._hasInvalidDimensions=function(){for(var oe=0,xe=[this.canvas.width,this.canvas.height];oe<xe.length;oe+=1){var Be=xe[oe];if(isNaN(Be)||Be<=0)return!0}return!1},$}(re),ee={vector:B,raster:N,"raster-dem":O,geojson:U,video:ue,image:re,canvas:ve},J=function(ge,$,me,oe){var xe=new ee[$.type](ge,$,me,oe);if(xe.id!==ge)throw new Error("Expected Source id to be "+ge+" instead of "+xe.id);return a.bindAll(["load","abort","unload","serialize","prepare"],xe),xe},Q=function(ge){return ee[ge]},X=function(ge,$){ee[ge]=$};function q(ge,$){var me=a.identity([]);return a.translate(me,me,[1,1,0]),a.scale(me,me,[ge.width*.5,ge.height*.5,1]),a.multiply(me,me,ge.calculatePosMatrix($.toUnwrapped()))}function se(ge,$,me){if(ge)for(var oe=0,xe=ge;oe<xe.length;oe+=1){var Be=xe[oe],Xe=$[Be];if(Xe&&Xe.source===me&&Xe.type==="fill-extrusion")return!0}else for(var lt in $){var xt=$[lt];if(xt.source===me&&xt.type==="fill-extrusion")return!0}return!1}function Y(ge,$,me,oe,xe,Be){var Xe=se(xe&&xe.layers,$,ge.id),lt=Be.maxPitchScaleFactor(),xt=ge.tilesIn(oe,lt,Xe);xt.sort(te);for(var Nt=[],Qt=0,fr=xt;Qt<fr.length;Qt+=1){var mr=fr[Qt];Nt.push({wrappedTileID:mr.tileID.wrapped().key,queryResults:mr.tile.queryRenderedFeatures($,me,ge._state,mr.queryGeometry,mr.cameraQueryGeometry,mr.scale,xe,Be,lt,q(ge.transform,mr.tileID))})}var _r=fe(Nt);for(var Wr in _r)_r[Wr].forEach(function(Yr){var Vr=Yr.feature,$r=ge.getFeatureState(Vr.layer["source-layer"],Vr.id);Vr.source=Vr.layer.source,Vr.layer["source-layer"]&&(Vr.sourceLayer=Vr.layer["source-layer"]),Vr.state=$r});return _r}function Z(ge,$,me,oe,xe,Be,Xe){for(var lt={},xt=Be.queryRenderedSymbols(oe),Nt=[],Qt=0,fr=Object.keys(xt).map(Number);Qt<fr.length;Qt+=1){var mr=fr[Qt];Nt.push(Xe[mr])}Nt.sort(te);for(var _r=function(){var ln=Yr[Wr],En=ln.featureIndex.lookupSymbolFeatures(xt[ln.bucketInstanceId],$,ln.bucketIndex,ln.sourceLayerIndex,xe.filter,xe.layers,xe.availableImages,ge);for(var zn in En){var jn=lt[zn]=lt[zn]||[],Xn=En[zn];Xn.sort(function(ha,ma){var Aa=ln.featureSortOrder;if(Aa){var Fa=Aa.indexOf(ha.featureIndex),Ga=Aa.indexOf(ma.featureIndex);return Ga-Fa}else return ma.featureIndex-ha.featureIndex});for(var Zn=0,aa=Xn;Zn<aa.length;Zn+=1){var va=aa[Zn];jn.push(va)}}},Wr=0,Yr=Nt;Wr<Yr.length;Wr+=1)_r();var Vr=function(ln){lt[ln].forEach(function(En){var zn=En.feature,jn=ge[ln],Xn=me[jn.source],Zn=Xn.getFeatureState(zn.layer["source-layer"],zn.id);zn.source=zn.layer.source,zn.layer["source-layer"]&&(zn.sourceLayer=zn.layer["source-layer"]),zn.state=Zn})};for(var $r in lt)Vr($r);return lt}function ie(ge,$){for(var me=ge.getRenderableIds().map(function(xt){return ge.getTileByID(xt)}),oe=[],xe={},Be=0;Be<me.length;Be++){var Xe=me[Be],lt=Xe.tileID.canonical.key;xe[lt]||(xe[lt]=!0,Xe.querySourceFeatures(oe,$))}return oe}function te(ge,$){var me=ge.tileID,oe=$.tileID;return me.overscaledZ-oe.overscaledZ||me.canonical.y-oe.canonical.y||me.wrap-oe.wrap||me.canonical.x-oe.canonical.x}function fe(ge){for(var $={},me={},oe=0,xe=ge;oe<xe.length;oe+=1){var Be=xe[oe],Xe=Be.queryResults,lt=Be.wrappedTileID,xt=me[lt]=me[lt]||{};for(var Nt in Xe)for(var Qt=Xe[Nt],fr=xt[Nt]=xt[Nt]||{},mr=$[Nt]=$[Nt]||[],_r=0,Wr=Qt;_r<Wr.length;_r+=1){var Yr=Wr[_r];fr[Yr.featureIndex]||(fr[Yr.featureIndex]=!0,mr.push(Yr))}}return $}var de=function($,me){this.max=$,this.onRemove=me,this.reset()};de.prototype.reset=function(){for(var $ in this.data)for(var me=0,oe=this.data[$];me<oe.length;me+=1){var xe=oe[me];xe.timeout&&clearTimeout(xe.timeout),this.onRemove(xe.value)}return this.data={},this.order=[],this},de.prototype.add=function($,me,oe){var xe=this,Be=$.wrapped().key;this.data[Be]===void 0&&(this.data[Be]=[]);var Xe={value:me,timeout:void 0};if(oe!==void 0&&(Xe.timeout=setTimeout(function(){xe.remove($,Xe)},oe)),this.data[Be].push(Xe),this.order.push(Be),this.order.length>this.max){var lt=this._getAndRemoveByKey(this.order[0]);lt&&this.onRemove(lt)}return this},de.prototype.has=function($){return $.wrapped().key in this.data},de.prototype.getAndRemove=function($){return this.has($)?this._getAndRemoveByKey($.wrapped().key):null},de.prototype._getAndRemoveByKey=function($){var me=this.data[$].shift();return me.timeout&&clearTimeout(me.timeout),this.data[$].length===0&&delete this.data[$],this.order.splice(this.order.indexOf($),1),me.value},de.prototype.getByKey=function($){var me=this.data[$];return me?me[0].value:null},de.prototype.get=function($){if(!this.has($))return null;var me=this.data[$.wrapped().key][0];return me.value},de.prototype.remove=function($,me){if(!this.has($))return this;var oe=$.wrapped().key,xe=me===void 0?0:this.data[oe].indexOf(me),Be=this.data[oe][xe];return this.data[oe].splice(xe,1),Be.timeout&&clearTimeout(Be.timeout),this.data[oe].length===0&&delete this.data[oe],this.onRemove(Be.value),this.order.splice(this.order.indexOf(oe),1),this},de.prototype.setMaxSize=function($){for(this.max=$;this.order.length>this.max;){var me=this._getAndRemoveByKey(this.order[0]);me&&this.onRemove(me)}return this},de.prototype.filter=function($){var me=[];for(var oe in this.data)for(var xe=0,Be=this.data[oe];xe<Be.length;xe+=1){var Xe=Be[xe];$(Xe.value)||me.push(Xe)}for(var lt=0,xt=me;lt<xt.length;lt+=1){var Nt=xt[lt];this.remove(Nt.value.tileID,Nt)}};var we=function($,me,oe){this.context=$;var xe=$.gl;this.buffer=xe.createBuffer(),this.dynamicDraw=!!oe,this.context.unbindVAO(),$.bindElementBuffer.set(this.buffer),xe.bufferData(xe.ELEMENT_ARRAY_BUFFER,me.arrayBuffer,this.dynamicDraw?xe.DYNAMIC_DRAW:xe.STATIC_DRAW),this.dynamicDraw||delete me.arrayBuffer};we.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},we.prototype.updateData=function($){var me=this.context.gl;this.context.unbindVAO(),this.bind(),me.bufferSubData(me.ELEMENT_ARRAY_BUFFER,0,$.arrayBuffer)},we.prototype.destroy=function(){var $=this.context.gl;this.buffer&&($.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Re=function($,me,oe,xe){this.length=me.length,this.attributes=oe,this.itemSize=me.bytesPerElement,this.dynamicDraw=xe,this.context=$;var Be=$.gl;this.buffer=Be.createBuffer(),$.bindVertexBuffer.set(this.buffer),Be.bufferData(Be.ARRAY_BUFFER,me.arrayBuffer,this.dynamicDraw?Be.DYNAMIC_DRAW:Be.STATIC_DRAW),this.dynamicDraw||delete me.arrayBuffer};Re.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Re.prototype.updateData=function($){var me=this.context.gl;this.bind(),me.bufferSubData(me.ARRAY_BUFFER,0,$.arrayBuffer)},Re.prototype.enableAttributes=function($,me){for(var oe=0;oe<this.attributes.length;oe++){var xe=this.attributes[oe],Be=me.attributes[xe.name];Be!==void 0&&$.enableVertexAttribArray(Be)}},Re.prototype.setVertexAttribPointers=function($,me,oe){for(var xe=0;xe<this.attributes.length;xe++){var Be=this.attributes[xe],Xe=me.attributes[Be.name];Xe!==void 0&&$.vertexAttribPointer(Xe,Be.components,$[Ae[Be.type]],!1,this.itemSize,Be.offset+this.itemSize*(oe||0))}},Re.prototype.destroy=function(){var $=this.context.gl;this.buffer&&($.deleteBuffer(this.buffer),delete this.buffer)};var Fe=function($){this.gl=$.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Fe.prototype.get=function(){return this.current},Fe.prototype.set=function($){},Fe.prototype.getDefault=function(){return this.default},Fe.prototype.setDefault=function(){this.set(this.default)};var Se=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return a.Color.transparent},$.prototype.set=function(oe){var xe=this.current;oe.r===xe.r&&oe.g===xe.g&&oe.b===xe.b&&oe.a===xe.a&&!this.dirty||(this.gl.clearColor(oe.r,oe.g,oe.b,oe.a),this.current=oe,this.dirty=!1)},$}(Fe),Te=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 1},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.clearDepth(oe),this.current=oe,this.dirty=!1)},$}(Fe),Ee=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 0},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.clearStencil(oe),this.current=oe,this.dirty=!1)},$}(Fe),Ne=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[!0,!0,!0,!0]},$.prototype.set=function(oe){var xe=this.current;oe[0]===xe[0]&&oe[1]===xe[1]&&oe[2]===xe[2]&&oe[3]===xe[3]&&!this.dirty||(this.gl.colorMask(oe[0],oe[1],oe[2],oe[3]),this.current=oe,this.dirty=!1)},$}(Fe),He=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!0},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.depthMask(oe),this.current=oe,this.dirty=!1)},$}(Fe),_e=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 255},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.stencilMask(oe),this.current=oe,this.dirty=!1)},$}(Fe),We=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},$.prototype.set=function(oe){var xe=this.current;oe.func===xe.func&&oe.ref===xe.ref&&oe.mask===xe.mask&&!this.dirty||(this.gl.stencilFunc(oe.func,oe.ref,oe.mask),this.current=oe,this.dirty=!1)},$}(Fe),tt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var oe=this.gl;return[oe.KEEP,oe.KEEP,oe.KEEP]},$.prototype.set=function(oe){var xe=this.current;oe[0]===xe[0]&&oe[1]===xe[1]&&oe[2]===xe[2]&&!this.dirty||(this.gl.stencilOp(oe[0],oe[1],oe[2]),this.current=oe,this.dirty=!1)},$}(Fe),Ke=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;oe?xe.enable(xe.STENCIL_TEST):xe.disable(xe.STENCIL_TEST),this.current=oe,this.dirty=!1}},$}(Fe),qe=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[0,1]},$.prototype.set=function(oe){var xe=this.current;oe[0]===xe[0]&&oe[1]===xe[1]&&!this.dirty||(this.gl.depthRange(oe[0],oe[1]),this.current=oe,this.dirty=!1)},$}(Fe),rt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;oe?xe.enable(xe.DEPTH_TEST):xe.disable(xe.DEPTH_TEST),this.current=oe,this.dirty=!1}},$}(Fe),ft=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.LESS},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.depthFunc(oe),this.current=oe,this.dirty=!1)},$}(Fe),pt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;oe?xe.enable(xe.BLEND):xe.disable(xe.BLEND),this.current=oe,this.dirty=!1}},$}(Fe),gt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var oe=this.gl;return[oe.ONE,oe.ZERO]},$.prototype.set=function(oe){var xe=this.current;oe[0]===xe[0]&&oe[1]===xe[1]&&!this.dirty||(this.gl.blendFunc(oe[0],oe[1]),this.current=oe,this.dirty=!1)},$}(Fe),Mt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return a.Color.transparent},$.prototype.set=function(oe){var xe=this.current;oe.r===xe.r&&oe.g===xe.g&&oe.b===xe.b&&oe.a===xe.a&&!this.dirty||(this.gl.blendColor(oe.r,oe.g,oe.b,oe.a),this.current=oe,this.dirty=!1)},$}(Fe),Lt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.FUNC_ADD},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.blendEquation(oe),this.current=oe,this.dirty=!1)},$}(Fe),Wt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;oe?xe.enable(xe.CULL_FACE):xe.disable(xe.CULL_FACE),this.current=oe,this.dirty=!1}},$}(Fe),Je=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.BACK},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.cullFace(oe),this.current=oe,this.dirty=!1)},$}(Fe),ze=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.CCW},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.frontFace(oe),this.current=oe,this.dirty=!1)},$}(Fe),Oe=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.useProgram(oe),this.current=oe,this.dirty=!1)},$}(Fe),Ue=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.TEXTURE0},$.prototype.set=function(oe){oe===this.current&&!this.dirty||(this.gl.activeTexture(oe),this.current=oe,this.dirty=!1)},$}(Fe),ke=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var oe=this.gl;return[0,0,oe.drawingBufferWidth,oe.drawingBufferHeight]},$.prototype.set=function(oe){var xe=this.current;oe[0]===xe[0]&&oe[1]===xe[1]&&oe[2]===xe[2]&&oe[3]===xe[3]&&!this.dirty||(this.gl.viewport(oe[0],oe[1],oe[2],oe[3]),this.current=oe,this.dirty=!1)},$}(Fe),Me=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;xe.bindFramebuffer(xe.FRAMEBUFFER,oe),this.current=oe,this.dirty=!1}},$}(Fe),ce=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;xe.bindRenderbuffer(xe.RENDERBUFFER,oe),this.current=oe,this.dirty=!1}},$}(Fe),be=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;xe.bindTexture(xe.TEXTURE_2D,oe),this.current=oe,this.dirty=!1}},$}(Fe),De=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;xe.bindBuffer(xe.ARRAY_BUFFER,oe),this.current=oe,this.dirty=!1}},$}(Fe),Ve=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(oe){var xe=this.gl;xe.bindBuffer(xe.ELEMENT_ARRAY_BUFFER,oe),this.current=oe,this.dirty=!1},$}(Fe),it=function(ge){function $(me){ge.call(this,me),this.vao=me.extVertexArrayObject}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(oe){!this.vao||oe===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(oe),this.current=oe,this.dirty=!1)},$}(Fe),ot=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 4},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_ALIGNMENT,oe),this.current=oe,this.dirty=!1}},$}(Fe),Tt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe),this.current=oe,this.dirty=!1}},$}(Fe),It=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,oe),this.current=oe,this.dirty=!1}},$}(Fe),Ht=function(ge){function $(me,oe){ge.call(this,me),this.context=me,this.parent=oe}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$}(Fe),Gt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.setDirty=function(){this.dirty=!0},$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var xe=this.gl;xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,oe,0),this.current=oe,this.dirty=!1}},$}(Ht),Pt=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.set=function(oe){if(!(oe===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var xe=this.gl;xe.framebufferRenderbuffer(xe.FRAMEBUFFER,xe.DEPTH_ATTACHMENT,xe.RENDERBUFFER,oe),this.current=oe,this.dirty=!1}},$}(Ht),Jt=function($,me,oe,xe){this.context=$,this.width=me,this.height=oe;var Be=$.gl,Xe=this.framebuffer=Be.createFramebuffer();this.colorAttachment=new Gt($,Xe),xe&&(this.depthAttachment=new Pt($,Xe))};Jt.prototype.destroy=function(){var $=this.context.gl,me=this.colorAttachment.get();if(me&&$.deleteTexture(me),this.depthAttachment){var oe=this.depthAttachment.get();oe&&$.deleteRenderbuffer(oe)}$.deleteFramebuffer(this.framebuffer)};var or=519,zr=function($,me,oe){this.func=$,this.mask=me,this.range=oe};zr.ReadOnly=!1,zr.ReadWrite=!0,zr.disabled=new zr(or,zr.ReadOnly,[0,1]);var mt=519,Kt=7680,jt=function($,me,oe,xe,Be,Xe){this.test=$,this.ref=me,this.mask=oe,this.fail=xe,this.depthFail=Be,this.pass=Xe};jt.disabled=new jt({func:mt,mask:0},0,0,Kt,Kt,Kt);var wr=0,vr=1,ct=771,ut=function($,me,oe){this.blendFunction=$,this.blendColor=me,this.mask=oe};ut.Replace=[vr,wr],ut.disabled=new ut(ut.Replace,a.Color.transparent,[!1,!1,!1,!1]),ut.unblended=new ut(ut.Replace,a.Color.transparent,[!0,!0,!0,!0]),ut.alphaBlended=new ut([vr,ct],a.Color.transparent,[!0,!0,!0,!0]);var bt=1029,At=2305,Ct=function($,me,oe){this.enable=$,this.mode=me,this.frontFace=oe};Ct.disabled=new Ct(!1,bt,At),Ct.backCCW=new Ct(!0,bt,At);var St=function($){this.gl=$,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Se(this),this.clearDepth=new Te(this),this.clearStencil=new Ee(this),this.colorMask=new Ne(this),this.depthMask=new He(this),this.stencilMask=new _e(this),this.stencilFunc=new We(this),this.stencilOp=new tt(this),this.stencilTest=new Ke(this),this.depthRange=new qe(this),this.depthTest=new rt(this),this.depthFunc=new ft(this),this.blend=new pt(this),this.blendFunc=new gt(this),this.blendColor=new Mt(this),this.blendEquation=new Lt(this),this.cullFace=new Wt(this),this.cullFaceSide=new Je(this),this.frontFace=new ze(this),this.program=new Oe(this),this.activeTexture=new Ue(this),this.viewport=new ke(this),this.bindFramebuffer=new Me(this),this.bindRenderbuffer=new ce(this),this.bindTexture=new be(this),this.bindVertexBuffer=new De(this),this.bindElementBuffer=new Ve(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new it(this),this.pixelStoreUnpack=new ot(this),this.pixelStoreUnpackPremultiplyAlpha=new Tt(this),this.pixelStoreUnpackFlipY=new It(this),this.extTextureFilterAnisotropic=$.getExtension("EXT_texture_filter_anisotropic")||$.getExtension("MOZ_EXT_texture_filter_anisotropic")||$.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=$.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=$.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&($.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=$.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=$.getExtension("EXT_disjoint_timer_query")};St.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},St.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},St.prototype.createIndexBuffer=function($,me){return new we(this,$,me)},St.prototype.createVertexBuffer=function($,me,oe){return new Re(this,$,me,oe)},St.prototype.createRenderbuffer=function($,me,oe){var xe=this.gl,Be=xe.createRenderbuffer();return this.bindRenderbuffer.set(Be),xe.renderbufferStorage(xe.RENDERBUFFER,$,me,oe),this.bindRenderbuffer.set(null),Be},St.prototype.createFramebuffer=function($,me,oe){return new Jt(this,$,me,oe)},St.prototype.clear=function($){var me=$.color,oe=$.depth,xe=this.gl,Be=0;me&&(Be|=xe.COLOR_BUFFER_BIT,this.clearColor.set(me),this.colorMask.set([!0,!0,!0,!0])),typeof oe<"u"&&(Be|=xe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(oe),this.depthMask.set(!0)),xe.clear(Be)},St.prototype.setCullFace=function($){$.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set($.mode),this.frontFace.set($.frontFace))},St.prototype.setDepthMode=function($){$.func===this.gl.ALWAYS&&!$.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set($.func),this.depthMask.set($.mask),this.depthRange.set($.range))},St.prototype.setStencilMode=function($){$.test.func===this.gl.ALWAYS&&!$.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set($.mask),this.stencilOp.set([$.fail,$.depthFail,$.pass]),this.stencilFunc.set({func:$.test.func,ref:$.ref,mask:$.test.mask}))},St.prototype.setColorMode=function($){a.deepEqual($.blendFunction,ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set($.blendFunction),this.blendColor.set($.blendColor)),this.colorMask.set($.mask)},St.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var zt=function(ge){function $(me,oe,xe){var Be=this;ge.call(this),this.id=me,this.dispatcher=xe,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(Be._sourceLoaded=!0),Be._sourceLoaded&&!Be._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(Be.reload(),Be.transform&&Be.update(Be.transform))}),this.on("error",function(){Be._sourceErrored=!0}),this._source=J(me,oe,xe,this),this._tiles={},this._cache=new de(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(oe){this.map=oe,this._maxTileCacheSize=oe?oe._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(oe)},$.prototype.onRemove=function(oe){this._source&&this._source.onRemove&&this._source.onRemove(oe)},$.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var oe in this._tiles){var xe=this._tiles[oe];if(xe.state!=="loaded"&&xe.state!=="errored")return!1}return!0},$.prototype.getSource=function(){return this._source},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){if(this._paused){var oe=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,oe&&this.reload(),this.transform&&this.update(this.transform)}},$.prototype._loadTile=function(oe,xe){return this._source.loadTile(oe,xe)},$.prototype._unloadTile=function(oe){if(this._source.unloadTile)return this._source.unloadTile(oe,function(){})},$.prototype._abortTile=function(oe){if(this._source.abortTile)return this._source.abortTile(oe,function(){})},$.prototype.serialize=function(){return this._source.serialize()},$.prototype.prepare=function(oe){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var xe in this._tiles){var Be=this._tiles[xe];Be.upload(oe),Be.prepare(this.map.style.imageManager)}},$.prototype.getIds=function(){return a.values(this._tiles).map(function(oe){return oe.tileID}).sort(Vt).map(function(oe){return oe.key})},$.prototype.getRenderableIds=function(oe){var xe=this,Be=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,oe)&&Be.push(this._tiles[Xe]);return oe?Be.sort(function(lt,xt){var Nt=lt.tileID,Qt=xt.tileID,fr=new a.Point(Nt.canonical.x,Nt.canonical.y)._rotate(xe.transform.angle),mr=new a.Point(Qt.canonical.x,Qt.canonical.y)._rotate(xe.transform.angle);return Nt.overscaledZ-Qt.overscaledZ||mr.y-fr.y||mr.x-fr.x}).map(function(lt){return lt.tileID.key}):Be.map(function(lt){return lt.tileID}).sort(Vt).map(function(lt){return lt.key})},$.prototype.hasRenderableParent=function(oe){var xe=this.findLoadedParent(oe,0);return xe?this._isIdRenderable(xe.tileID.key):!1},$.prototype._isIdRenderable=function(oe,xe){return this._tiles[oe]&&this._tiles[oe].hasData()&&!this._coveredTiles[oe]&&(xe||!this._tiles[oe].holdingForFade())},$.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var oe in this._tiles)this._tiles[oe].state!=="errored"&&this._reloadTile(oe,"reloading")},$.prototype._reloadTile=function(oe,xe){var Be=this._tiles[oe];Be&&(Be.state!=="loading"&&(Be.state=xe),this._loadTile(Be,this._tileLoaded.bind(this,Be,oe,xe)))},$.prototype._tileLoaded=function(oe,xe,Be,Xe){if(Xe){oe.state="errored",Xe.status!==404?this._source.fire(new a.ErrorEvent(Xe,{tile:oe})):this.update(this.transform);return}oe.timeAdded=a.browser.now(),Be==="expired"&&(oe.refreshedUponExpiration=!0),this._setTileReloadTimer(xe,oe),this.getSource().type==="raster-dem"&&oe.dem&&this._backfillDEM(oe),this._state.initializeTileState(oe,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:oe,coord:oe.tileID}))},$.prototype._backfillDEM=function(oe){for(var xe=this.getRenderableIds(),Be=0;Be<xe.length;Be++){var Xe=xe[Be];if(oe.neighboringTiles&&oe.neighboringTiles[Xe]){var lt=this.getTileByID(Xe);xt(oe,lt),xt(lt,oe)}}function xt(Nt,Qt){Nt.needsHillshadePrepare=!0;var fr=Qt.tileID.canonical.x-Nt.tileID.canonical.x,mr=Qt.tileID.canonical.y-Nt.tileID.canonical.y,_r=Math.pow(2,Nt.tileID.canonical.z),Wr=Qt.tileID.key;fr===0&&mr===0||Math.abs(mr)>1||(Math.abs(fr)>1&&(Math.abs(fr+_r)===1?fr+=_r:Math.abs(fr-_r)===1&&(fr-=_r)),!(!Qt.dem||!Nt.dem)&&(Nt.dem.backfillBorder(Qt.dem,fr,mr),Nt.neighboringTiles&&Nt.neighboringTiles[Wr]&&(Nt.neighboringTiles[Wr].backfilled=!0)))}},$.prototype.getTile=function(oe){return this.getTileByID(oe.key)},$.prototype.getTileByID=function(oe){return this._tiles[oe]},$.prototype._retainLoadedChildren=function(oe,xe,Be,Xe){for(var lt in this._tiles){var xt=this._tiles[lt];if(!(Xe[lt]||!xt.hasData()||xt.tileID.overscaledZ<=xe||xt.tileID.overscaledZ>Be)){for(var Nt=xt.tileID;xt&&xt.tileID.overscaledZ>xe+1;){var Qt=xt.tileID.scaledTo(xt.tileID.overscaledZ-1);xt=this._tiles[Qt.key],xt&&xt.hasData()&&(Nt=Qt)}for(var fr=Nt;fr.overscaledZ>xe;)if(fr=fr.scaledTo(fr.overscaledZ-1),oe[fr.key]){Xe[Nt.key]=Nt;break}}}},$.prototype.findLoadedParent=function(oe,xe){if(oe.key in this._loadedParentTiles){var Be=this._loadedParentTiles[oe.key];return Be&&Be.tileID.overscaledZ>=xe?Be:null}for(var Xe=oe.overscaledZ-1;Xe>=xe;Xe--){var lt=oe.scaledTo(Xe),xt=this._getLoadedTile(lt);if(xt)return xt}},$.prototype._getLoadedTile=function(oe){var xe=this._tiles[oe.key];if(xe&&xe.hasData())return xe;var Be=this._cache.getByKey(oe.wrapped().key);return Be},$.prototype.updateCacheSize=function(oe){var xe=Math.ceil(oe.width/this._source.tileSize)+1,Be=Math.ceil(oe.height/this._source.tileSize)+1,Xe=xe*Be,lt=5,xt=Math.floor(Xe*lt),Nt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,xt):xt;this._cache.setMaxSize(Nt)},$.prototype.handleWrapJump=function(oe){var xe=this._prevLng===void 0?oe:this._prevLng,Be=oe-xe,Xe=Be/360,lt=Math.round(Xe);if(this._prevLng=oe,lt){var xt={};for(var Nt in this._tiles){var Qt=this._tiles[Nt];Qt.tileID=Qt.tileID.unwrapTo(Qt.tileID.wrap+lt),xt[Qt.tileID.key]=Qt}this._tiles=xt;for(var fr in this._timers)clearTimeout(this._timers[fr]),delete this._timers[fr];for(var mr in this._tiles){var _r=this._tiles[mr];this._setTileReloadTimer(mr,_r)}}},$.prototype.update=function(oe){var xe=this;if(this.transform=oe,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(oe),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Be;this.used?this._source.tileID?Be=oe.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ha){return new a.OverscaledTileID(ha.canonical.z,ha.wrap,ha.canonical.z,ha.canonical.x,ha.canonical.y)}):(Be=oe.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Be=Be.filter(function(ha){return xe._source.hasTile(ha)}))):Be=[];var Xe=oe.coveringZoomLevel(this._source),lt=Math.max(Xe-$.maxOverzooming,this._source.minzoom),xt=Math.max(Xe+$.maxUnderzooming,this._source.minzoom),Nt=this._updateRetainedTiles(Be,Xe);if(qt(this._source.type)){for(var Qt={},fr={},mr=Object.keys(Nt),_r=0,Wr=mr;_r<Wr.length;_r+=1){var Yr=Wr[_r],Vr=Nt[Yr],$r=this._tiles[Yr];if(!(!$r||$r.fadeEndTime&&$r.fadeEndTime<=a.browser.now())){var ln=this.findLoadedParent(Vr,lt);ln&&(this._addTile(ln.tileID),Qt[ln.tileID.key]=ln.tileID),fr[Yr]=Vr}}this._retainLoadedChildren(fr,Xe,xt,Nt);for(var En in Qt)Nt[En]||(this._coveredTiles[En]=!0,Nt[En]=Qt[En])}for(var zn in Nt)this._tiles[zn].clearFadeHold();for(var jn=a.keysDifference(this._tiles,Nt),Xn=0,Zn=jn;Xn<Zn.length;Xn+=1){var aa=Zn[Xn],va=this._tiles[aa];va.hasSymbolBuckets&&!va.holdingForFade()?va.setHoldDuration(this.map._fadeDuration):(!va.hasSymbolBuckets||va.symbolFadeFinished())&&this._removeTile(aa)}this._updateLoadedParentTileCache()}},$.prototype.releaseSymbolFadeTiles=function(){for(var oe in this._tiles)this._tiles[oe].holdingForFade()&&this._removeTile(oe)},$.prototype._updateRetainedTiles=function(oe,xe){for(var Be={},Xe={},lt=Math.max(xe-$.maxOverzooming,this._source.minzoom),xt=Math.max(xe+$.maxUnderzooming,this._source.minzoom),Nt={},Qt=0,fr=oe;Qt<fr.length;Qt+=1){var mr=fr[Qt],_r=this._addTile(mr);Be[mr.key]=mr,!_r.hasData()&&xe<this._source.maxzoom&&(Nt[mr.key]=mr)}this._retainLoadedChildren(Nt,xe,xt,Be);for(var Wr=0,Yr=oe;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr],$r=this._tiles[Vr.key];if(!$r.hasData()){if(xe+1>this._source.maxzoom){var ln=Vr.children(this._source.maxzoom)[0],En=this.getTile(ln);if(En&&En.hasData()){Be[ln.key]=ln;continue}}else{var zn=Vr.children(this._source.maxzoom);if(Be[zn[0].key]&&Be[zn[1].key]&&Be[zn[2].key]&&Be[zn[3].key])continue}for(var jn=$r.wasRequested(),Xn=Vr.overscaledZ-1;Xn>=lt;--Xn){var Zn=Vr.scaledTo(Xn);if(Xe[Zn.key]||(Xe[Zn.key]=!0,$r=this.getTile(Zn),!$r&&jn&&($r=this._addTile(Zn)),$r&&(Be[Zn.key]=Zn,jn=$r.wasRequested(),$r.hasData())))break}}}return Be},$.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var oe in this._tiles){for(var xe=[],Be=void 0,Xe=this._tiles[oe].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){Be=this._loadedParentTiles[Xe.key];break}xe.push(Xe.key);var lt=Xe.scaledTo(Xe.overscaledZ-1);if(Be=this._getLoadedTile(lt),Be)break;Xe=lt}for(var xt=0,Nt=xe;xt<Nt.length;xt+=1){var Qt=Nt[xt];this._loadedParentTiles[Qt]=Be}}},$.prototype._addTile=function(oe){var xe=this._tiles[oe.key];if(xe)return xe;xe=this._cache.getAndRemove(oe),xe&&(this._setTileReloadTimer(oe.key,xe),xe.tileID=oe,this._state.initializeTileState(xe,this.map?this.map.painter:null),this._cacheTimers[oe.key]&&(clearTimeout(this._cacheTimers[oe.key]),delete this._cacheTimers[oe.key],this._setTileReloadTimer(oe.key,xe)));var Be=!!xe;return Be||(xe=new a.Tile(oe,this._source.tileSize*oe.overscaleFactor()),this._loadTile(xe,this._tileLoaded.bind(this,xe,oe.key,xe.state))),xe?(xe.uses++,this._tiles[oe.key]=xe,Be||this._source.fire(new a.Event("dataloading",{tile:xe,coord:xe.tileID,dataType:"source"})),xe):null},$.prototype._setTileReloadTimer=function(oe,xe){var Be=this;oe in this._timers&&(clearTimeout(this._timers[oe]),delete this._timers[oe]);var Xe=xe.getExpiryTimeout();Xe&&(this._timers[oe]=setTimeout(function(){Be._reloadTile(oe,"expired"),delete Be._timers[oe]},Xe))},$.prototype._removeTile=function(oe){var xe=this._tiles[oe];xe&&(xe.uses--,delete this._tiles[oe],this._timers[oe]&&(clearTimeout(this._timers[oe]),delete this._timers[oe]),!(xe.uses>0)&&(xe.hasData()&&xe.state!=="reloading"?this._cache.add(xe.tileID,xe,xe.getExpiryTimeout()):(xe.aborted=!0,this._abortTile(xe),this._unloadTile(xe))))},$.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var oe in this._tiles)this._removeTile(oe);this._cache.reset()},$.prototype.tilesIn=function(oe,xe,Be){var Xe=this,lt=[],xt=this.transform;if(!xt)return lt;for(var Nt=Be?xt.getCameraQueryGeometry(oe):oe,Qt=oe.map(function(Xn){return xt.pointCoordinate(Xn)}),fr=Nt.map(function(Xn){return xt.pointCoordinate(Xn)}),mr=this.getIds(),_r=1/0,Wr=1/0,Yr=-1/0,Vr=-1/0,$r=0,ln=fr;$r<ln.length;$r+=1){var En=ln[$r];_r=Math.min(_r,En.x),Wr=Math.min(Wr,En.y),Yr=Math.max(Yr,En.x),Vr=Math.max(Vr,En.y)}for(var zn=function(Xn){var Zn=Xe._tiles[mr[Xn]];if(!Zn.holdingForFade()){var aa=Zn.tileID,va=Math.pow(2,xt.zoom-Zn.tileID.overscaledZ),ha=xe*Zn.queryPadding*a.EXTENT/Zn.tileSize/va,ma=[aa.getTilePoint(new a.MercatorCoordinate(_r,Wr)),aa.getTilePoint(new a.MercatorCoordinate(Yr,Vr))];if(ma[0].x-ha<a.EXTENT&&ma[0].y-ha<a.EXTENT&&ma[1].x+ha>=0&&ma[1].y+ha>=0){var Aa=Qt.map(function(Ga){return aa.getTilePoint(Ga)}),Fa=fr.map(function(Ga){return aa.getTilePoint(Ga)});lt.push({tile:Zn,tileID:aa,queryGeometry:Aa,cameraQueryGeometry:Fa,scale:va})}}},jn=0;jn<mr.length;jn++)zn(jn);return lt},$.prototype.getVisibleCoordinates=function(oe){for(var xe=this,Be=this.getRenderableIds(oe).map(function(Nt){return xe._tiles[Nt].tileID}),Xe=0,lt=Be;Xe<lt.length;Xe+=1){var xt=lt[Xe];xt.posMatrix=this.transform.calculatePosMatrix(xt.toUnwrapped())}return Be},$.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(qt(this._source.type))for(var oe in this._tiles){var xe=this._tiles[oe];if(xe.fadeEndTime!==void 0&&xe.fadeEndTime>=a.browser.now())return!0}return!1},$.prototype.setFeatureState=function(oe,xe,Be){oe=oe||"_geojsonTileLayer",this._state.updateState(oe,xe,Be)},$.prototype.removeFeatureState=function(oe,xe,Be){oe=oe||"_geojsonTileLayer",this._state.removeFeatureState(oe,xe,Be)},$.prototype.getFeatureState=function(oe,xe){return oe=oe||"_geojsonTileLayer",this._state.getState(oe,xe)},$.prototype.setDependencies=function(oe,xe,Be){var Xe=this._tiles[oe];Xe&&Xe.setDependencies(xe,Be)},$.prototype.reloadTilesForDependencies=function(oe,xe){for(var Be in this._tiles){var Xe=this._tiles[Be];Xe.hasDependency(oe,xe)&&this._reloadTile(Be,"reloading")}this._cache.filter(function(lt){return!lt.hasDependency(oe,xe)})},$}(a.Evented);zt.maxOverzooming=10,zt.maxUnderzooming=3;function Vt(ge,$){var me=Math.abs(ge.wrap*2)-+(ge.wrap<0),oe=Math.abs($.wrap*2)-+($.wrap<0);return ge.overscaledZ-$.overscaledZ||oe-me||$.canonical.y-ge.canonical.y||$.canonical.x-ge.canonical.x}function qt(ge){return ge==="raster"||ge==="image"||ge==="video"}function $t(){return new a.window.Worker(P0.workerUrl)}var sr="mapboxgl_preloaded_worker_pool",Cr=function(){this.active={}};Cr.prototype.acquire=function($){if(!this.workers)for(this.workers=[];this.workers.length<Cr.workerCount;)this.workers.push(new $t);return this.active[$]=!0,this.workers.slice()},Cr.prototype.release=function($){delete this.active[$],this.numActive()===0&&(this.workers.forEach(function(me){me.terminate()}),this.workers=null)},Cr.prototype.isPreloaded=function(){return!!this.active[sr]},Cr.prototype.numActive=function(){return Object.keys(this.active).length};var Ze=Math.floor(a.browser.hardwareConcurrency/2);Cr.workerCount=Math.max(Math.min(Ze,6),1);var je;function kt(){return je||(je=new Cr),je}function _t(){var ge=kt();ge.acquire(sr)}function Zt(){var ge=je;ge&&(ge.isPreloaded()&&ge.numActive()===1?(ge.release(sr),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function ar(ge,$){var me={};for(var oe in ge)oe!=="ref"&&(me[oe]=ge[oe]);return a.refProperties.forEach(function(xe){xe in $&&(me[xe]=$[xe])}),me}function ur(ge){ge=ge.slice();for(var $=Object.create(null),me=0;me<ge.length;me++)$[ge[me].id]=ge[me];for(var oe=0;oe<ge.length;oe++)"ref"in ge[oe]&&(ge[oe]=ar(ge[oe],$[ge[oe].ref]));return ge}function nr(){var ge={},$=a.styleSpec.$version;for(var me in a.styleSpec.$root){var oe=a.styleSpec.$root[me];if(oe.required){var xe=null;me==="version"?xe=$:oe.type==="array"?xe=[]:xe={},xe!=null&&(ge[me]=xe)}}return ge}var Ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function cr(ge,$,me){me.push({command:Ot.addSource,args:[ge,$[ge]]})}function pr(ge,$,me){$.push({command:Ot.removeSource,args:[ge]}),me[ge]=!0}function gr(ge,$,me,oe){pr(ge,me,oe),cr(ge,$,me)}function dr(ge,$,me){var oe;for(oe in ge[me])if(ge[me].hasOwnProperty(oe)&&oe!=="data"&&!a.deepEqual(ge[me][oe],$[me][oe]))return!1;for(oe in $[me])if($[me].hasOwnProperty(oe)&&oe!=="data"&&!a.deepEqual(ge[me][oe],$[me][oe]))return!1;return!0}function Gr(ge,$,me,oe){ge=ge||{},$=$||{};var xe;for(xe in ge)ge.hasOwnProperty(xe)&&($.hasOwnProperty(xe)||pr(xe,me,oe));for(xe in $)$.hasOwnProperty(xe)&&(ge.hasOwnProperty(xe)?a.deepEqual(ge[xe],$[xe])||(ge[xe].type==="geojson"&&$[xe].type==="geojson"&&dr(ge,$,xe)?me.push({command:Ot.setGeoJSONSourceData,args:[xe,$[xe].data]}):gr(xe,$,me,oe)):cr(xe,$,me))}function kr(ge,$,me,oe,xe,Be){ge=ge||{},$=$||{};var Xe;for(Xe in ge)ge.hasOwnProperty(Xe)&&(a.deepEqual(ge[Xe],$[Xe])||me.push({command:Be,args:[oe,Xe,$[Xe],xe]}));for(Xe in $)!$.hasOwnProperty(Xe)||ge.hasOwnProperty(Xe)||a.deepEqual(ge[Xe],$[Xe])||me.push({command:Be,args:[oe,Xe,$[Xe],xe]})}function Fr(ge){return ge.id}function gn(ge,$){return ge[$.id]=$,ge}function Kr(ge,$,me){ge=ge||[],$=$||[];var oe=ge.map(Fr),xe=$.map(Fr),Be=ge.reduce(gn,{}),Xe=$.reduce(gn,{}),lt=oe.slice(),xt=Object.create(null),Nt,Qt,fr,mr,_r,Wr,Yr;for(Nt=0,Qt=0;Nt<oe.length;Nt++)fr=oe[Nt],Xe.hasOwnProperty(fr)?Qt++:(me.push({command:Ot.removeLayer,args:[fr]}),lt.splice(lt.indexOf(fr,Qt),1));for(Nt=0,Qt=0;Nt<xe.length;Nt++)fr=xe[xe.length-1-Nt],lt[lt.length-1-Nt]!==fr&&(Be.hasOwnProperty(fr)?(me.push({command:Ot.removeLayer,args:[fr]}),lt.splice(lt.lastIndexOf(fr,lt.length-Qt),1)):Qt++,Wr=lt[lt.length-Nt],me.push({command:Ot.addLayer,args:[Xe[fr],Wr]}),lt.splice(lt.length-Nt,0,fr),xt[fr]=!0);for(Nt=0;Nt<xe.length;Nt++)if(fr=xe[Nt],mr=Be[fr],_r=Xe[fr],!(xt[fr]||a.deepEqual(mr,_r))){if(!a.deepEqual(mr.source,_r.source)||!a.deepEqual(mr["source-layer"],_r["source-layer"])||!a.deepEqual(mr.type,_r.type)){me.push({command:Ot.removeLayer,args:[fr]}),Wr=lt[lt.lastIndexOf(fr)+1],me.push({command:Ot.addLayer,args:[_r,Wr]});continue}kr(mr.layout,_r.layout,me,fr,null,Ot.setLayoutProperty),kr(mr.paint,_r.paint,me,fr,null,Ot.setPaintProperty),a.deepEqual(mr.filter,_r.filter)||me.push({command:Ot.setFilter,args:[fr,_r.filter]}),(!a.deepEqual(mr.minzoom,_r.minzoom)||!a.deepEqual(mr.maxzoom,_r.maxzoom))&&me.push({command:Ot.setLayerZoomRange,args:[fr,_r.minzoom,_r.maxzoom]});for(Yr in mr)mr.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(mr[Yr],_r[Yr],me,fr,Yr.slice(6),Ot.setPaintProperty):a.deepEqual(mr[Yr],_r[Yr])||me.push({command:Ot.setLayerProperty,args:[fr,Yr,_r[Yr]]})));for(Yr in _r)!_r.hasOwnProperty(Yr)||mr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(mr[Yr],_r[Yr],me,fr,Yr.slice(6),Ot.setPaintProperty):a.deepEqual(mr[Yr],_r[Yr])||me.push({command:Ot.setLayerProperty,args:[fr,Yr,_r[Yr]]}))}}function kn(ge,$){if(!ge)return[{command:Ot.setStyle,args:[$]}];var me=[];try{if(!a.deepEqual(ge.version,$.version))return[{command:Ot.setStyle,args:[$]}];a.deepEqual(ge.center,$.center)||me.push({command:Ot.setCenter,args:[$.center]}),a.deepEqual(ge.zoom,$.zoom)||me.push({command:Ot.setZoom,args:[$.zoom]}),a.deepEqual(ge.bearing,$.bearing)||me.push({command:Ot.setBearing,args:[$.bearing]}),a.deepEqual(ge.pitch,$.pitch)||me.push({command:Ot.setPitch,args:[$.pitch]}),a.deepEqual(ge.sprite,$.sprite)||me.push({command:Ot.setSprite,args:[$.sprite]}),a.deepEqual(ge.glyphs,$.glyphs)||me.push({command:Ot.setGlyphs,args:[$.glyphs]}),a.deepEqual(ge.transition,$.transition)||me.push({command:Ot.setTransition,args:[$.transition]}),a.deepEqual(ge.light,$.light)||me.push({command:Ot.setLight,args:[$.light]});var oe={},xe=[];Gr(ge.sources,$.sources,xe,oe);var Be=[];ge.layers&&ge.layers.forEach(function(Xe){oe[Xe.source]?me.push({command:Ot.removeLayer,args:[Xe.id]}):Be.push(Xe)}),me=me.concat(xe),Kr(Be,$.layers,me)}catch(Xe){console.warn("Unable to compute style diff:",Xe),me=[{command:Ot.setStyle,args:[$]}]}return me}var In=function($,me){this.reset($,me)};In.prototype.reset=function($,me){this.points=$||[],this._distances=[0];for(var oe=1;oe<this.points.length;oe++)this._distances[oe]=this._distances[oe-1]+this.points[oe].dist(this.points[oe-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(me||0,this.length*.5),this.paddedLength=this.length-this.padding*2},In.prototype.lerp=function($){if(this.points.length===1)return this.points[0];$=a.clamp($,0,1);for(var me=1,oe=this._distances[me],xe=$*this.paddedLength+this.padding;oe<xe&&me<this._distances.length;)oe=this._distances[++me];var Be=me-1,Xe=this._distances[Be],lt=oe-Xe,xt=lt>0?(xe-Xe)/lt:0;return this.points[Be].mult(1-xt).add(this.points[me].mult(xt))};var br=function($,me,oe){var xe=this.boxCells=[],Be=this.circleCells=[];this.xCellCount=Math.ceil($/oe),this.yCellCount=Math.ceil(me/oe);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)xe.push([]),Be.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=$,this.height=me,this.xScale=this.xCellCount/$,this.yScale=this.yCellCount/me,this.boxUid=0,this.circleUid=0};br.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},br.prototype.insert=function($,me,oe,xe,Be){this._forEachCell(me,oe,xe,Be,this._insertBoxCell,this.boxUid++),this.boxKeys.push($),this.bboxes.push(me),this.bboxes.push(oe),this.bboxes.push(xe),this.bboxes.push(Be)},br.prototype.insertCircle=function($,me,oe,xe){this._forEachCell(me-xe,oe-xe,me+xe,oe+xe,this._insertCircleCell,this.circleUid++),this.circleKeys.push($),this.circles.push(me),this.circles.push(oe),this.circles.push(xe)},br.prototype._insertBoxCell=function($,me,oe,xe,Be,Xe){this.boxCells[Be].push(Xe)},br.prototype._insertCircleCell=function($,me,oe,xe,Be,Xe){this.circleCells[Be].push(Xe)},br.prototype._query=function($,me,oe,xe,Be,Xe){if(oe<0||$>this.width||xe<0||me>this.height)return Be?!1:[];var lt=[];if($<=0&&me<=0&&this.width<=oe&&this.height<=xe){if(Be)return!0;for(var xt=0;xt<this.boxKeys.length;xt++)lt.push({key:this.boxKeys[xt],x1:this.bboxes[xt*4],y1:this.bboxes[xt*4+1],x2:this.bboxes[xt*4+2],y2:this.bboxes[xt*4+3]});for(var Nt=0;Nt<this.circleKeys.length;Nt++){var Qt=this.circles[Nt*3],fr=this.circles[Nt*3+1],mr=this.circles[Nt*3+2];lt.push({key:this.circleKeys[Nt],x1:Qt-mr,y1:fr-mr,x2:Qt+mr,y2:fr+mr})}return Xe?lt.filter(Xe):lt}else{var _r={hitTest:Be,seenUids:{box:{},circle:{}}};return this._forEachCell($,me,oe,xe,this._queryCell,lt,_r,Xe),Be?lt.length>0:lt}},br.prototype._queryCircle=function($,me,oe,xe,Be){var Xe=$-oe,lt=$+oe,xt=me-oe,Nt=me+oe;if(lt<0||Xe>this.width||Nt<0||xt>this.height)return xe?!1:[];var Qt=[],fr={hitTest:xe,circle:{x:$,y:me,radius:oe},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,xt,lt,Nt,this._queryCellCircle,Qt,fr,Be),xe?Qt.length>0:Qt},br.prototype.query=function($,me,oe,xe,Be){return this._query($,me,oe,xe,!1,Be)},br.prototype.hitTest=function($,me,oe,xe,Be){return this._query($,me,oe,xe,!0,Be)},br.prototype.hitTestCircle=function($,me,oe,xe){return this._queryCircle($,me,oe,!0,xe)},br.prototype._queryCell=function($,me,oe,xe,Be,Xe,lt,xt){var Nt=lt.seenUids,Qt=this.boxCells[Be];if(Qt!==null)for(var fr=this.bboxes,mr=0,_r=Qt;mr<_r.length;mr+=1){var Wr=_r[mr];if(!Nt.box[Wr]){Nt.box[Wr]=!0;var Yr=Wr*4;if($<=fr[Yr+2]&&me<=fr[Yr+3]&&oe>=fr[Yr+0]&&xe>=fr[Yr+1]&&(!xt||xt(this.boxKeys[Wr]))){if(lt.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[Wr],x1:fr[Yr],y1:fr[Yr+1],x2:fr[Yr+2],y2:fr[Yr+3]})}}}var Vr=this.circleCells[Be];if(Vr!==null)for(var $r=this.circles,ln=0,En=Vr;ln<En.length;ln+=1){var zn=En[ln];if(!Nt.circle[zn]){Nt.circle[zn]=!0;var jn=zn*3;if(this._circleAndRectCollide($r[jn],$r[jn+1],$r[jn+2],$,me,oe,xe)&&(!xt||xt(this.circleKeys[zn]))){if(lt.hitTest)return Xe.push(!0),!0;var Xn=$r[jn],Zn=$r[jn+1],aa=$r[jn+2];Xe.push({key:this.circleKeys[zn],x1:Xn-aa,y1:Zn-aa,x2:Xn+aa,y2:Zn+aa})}}}},br.prototype._queryCellCircle=function($,me,oe,xe,Be,Xe,lt,xt){var Nt=lt.circle,Qt=lt.seenUids,fr=this.boxCells[Be];if(fr!==null)for(var mr=this.bboxes,_r=0,Wr=fr;_r<Wr.length;_r+=1){var Yr=Wr[_r];if(!Qt.box[Yr]){Qt.box[Yr]=!0;var Vr=Yr*4;if(this._circleAndRectCollide(Nt.x,Nt.y,Nt.radius,mr[Vr+0],mr[Vr+1],mr[Vr+2],mr[Vr+3])&&(!xt||xt(this.boxKeys[Yr])))return Xe.push(!0),!0}}var $r=this.circleCells[Be];if($r!==null)for(var ln=this.circles,En=0,zn=$r;En<zn.length;En+=1){var jn=zn[En];if(!Qt.circle[jn]){Qt.circle[jn]=!0;var Xn=jn*3;if(this._circlesCollide(ln[Xn],ln[Xn+1],ln[Xn+2],Nt.x,Nt.y,Nt.radius)&&(!xt||xt(this.circleKeys[jn])))return Xe.push(!0),!0}}},br.prototype._forEachCell=function($,me,oe,xe,Be,Xe,lt,xt){for(var Nt=this._convertToXCellCoord($),Qt=this._convertToYCellCoord(me),fr=this._convertToXCellCoord(oe),mr=this._convertToYCellCoord(xe),_r=Nt;_r<=fr;_r++)for(var Wr=Qt;Wr<=mr;Wr++){var Yr=this.xCellCount*Wr+_r;if(Be.call(this,$,me,oe,xe,Yr,Xe,lt,xt))return}},br.prototype._convertToXCellCoord=function($){return Math.max(0,Math.min(this.xCellCount-1,Math.floor($*this.xScale)))},br.prototype._convertToYCellCoord=function($){return Math.max(0,Math.min(this.yCellCount-1,Math.floor($*this.yScale)))},br.prototype._circlesCollide=function($,me,oe,xe,Be,Xe){var lt=xe-$,xt=Be-me,Nt=oe+Xe;return Nt*Nt>lt*lt+xt*xt},br.prototype._circleAndRectCollide=function($,me,oe,xe,Be,Xe,lt){var xt=(Xe-xe)/2,Nt=Math.abs($-(xe+xt));if(Nt>xt+oe)return!1;var Qt=(lt-Be)/2,fr=Math.abs(me-(Be+Qt));if(fr>Qt+oe)return!1;if(Nt<=xt||fr<=Qt)return!0;var mr=Nt-xt,_r=fr-Qt;return mr*mr+_r*_r<=oe*oe};function Mr(ge,$,me,oe,xe){var Be=a.create();return $?(a.scale(Be,Be,[1/xe,1/xe,1]),me||a.rotateZ(Be,Be,oe.angle)):a.multiply(Be,oe.labelPlaneMatrix,ge),Be}function Br(ge,$,me,oe,xe){if($){var Be=a.clone(ge);return a.scale(Be,Be,[xe,xe,1]),me||a.rotateZ(Be,Be,-oe.angle),Be}else return oe.glCoordMatrix}function Nr(ge,$){var me=[ge.x,ge.y,0,1];Sr(me,me,$);var oe=me[3];return{point:new a.Point(me[0]/oe,me[1]/oe),signedDistanceFromCamera:oe}}function en(ge,$){return .5+.5*(ge/$)}function dn(ge,$){var me=ge[0]/ge[3],oe=ge[1]/ge[3],xe=me>=-$[0]&&me<=$[0]&&oe>=-$[1]&&oe<=$[1];return xe}function cn(ge,$,me,oe,xe,Be,Xe,lt){var xt=oe?ge.textSizeData:ge.iconSizeData,Nt=a.evaluateSizeForZoom(xt,me.transform.zoom),Qt=[256/me.width*2+1,256/me.height*2+1],fr=oe?ge.text.dynamicLayoutVertexArray:ge.icon.dynamicLayoutVertexArray;fr.clear();for(var mr=ge.lineVertexArray,_r=oe?ge.text.placedSymbolArray:ge.icon.placedSymbolArray,Wr=me.transform.width/me.transform.height,Yr=!1,Vr=0;Vr<_r.length;Vr++){var $r=_r.get(Vr);if($r.hidden||$r.writingMode===a.WritingMode.vertical&&!Yr){ra($r.numGlyphs,fr);continue}Yr=!1;var ln=[$r.anchorX,$r.anchorY,0,1];if(a.transformMat4(ln,ln,$),!dn(ln,Qt)){ra($r.numGlyphs,fr);continue}var En=ln[3],zn=en(me.transform.cameraToCenterDistance,En),jn=a.evaluateSizeForFeature(xt,Nt,$r),Xn=Xe?jn/zn:jn*zn,Zn=new a.Point($r.anchorX,$r.anchorY),aa=Nr(Zn,xe).point,va={},ha=Jn($r,Xn,!1,lt,$,xe,Be,ge.glyphOffsetArray,mr,fr,aa,Zn,va,Wr);Yr=ha.useVertical,(ha.notEnoughRoom||Yr||ha.needsFlipping&&Jn($r,Xn,!0,lt,$,xe,Be,ge.glyphOffsetArray,mr,fr,aa,Zn,va,Wr).notEnoughRoom)&&ra($r.numGlyphs,fr)}oe?ge.text.dynamicLayoutVertexBuffer.updateData(fr):ge.icon.dynamicLayoutVertexBuffer.updateData(fr)}function An(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt,Qt){var fr=lt.glyphStartIndex+lt.numGlyphs,mr=lt.lineStartIndex,_r=lt.lineStartIndex+lt.lineLength,Wr=$.getoffsetX(lt.glyphStartIndex),Yr=$.getoffsetX(fr-1),Vr=fa(ge*Wr,me,oe,xe,Be,Xe,lt.segment,mr,_r,xt,Nt,Qt);if(!Vr)return null;var $r=fa(ge*Yr,me,oe,xe,Be,Xe,lt.segment,mr,_r,xt,Nt,Qt);return $r?{first:Vr,last:$r}:null}function Rn(ge,$,me,oe){if(ge===a.WritingMode.horizontal){var xe=Math.abs(me.y-$.y),Be=Math.abs(me.x-$.x)*oe;if(xe>Be)return{useVertical:!0}}return(ge===a.WritingMode.vertical?$.y<me.y:$.x>me.x)?{needsFlipping:!0}:null}function Jn(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt,Qt,fr,mr,_r){var Wr=$/24,Yr=ge.lineOffsetX*Wr,Vr=ge.lineOffsetY*Wr,$r;if(ge.numGlyphs>1){var ln=ge.glyphStartIndex+ge.numGlyphs,En=ge.lineStartIndex,zn=ge.lineStartIndex+ge.lineLength,jn=An(Wr,lt,Yr,Vr,me,Qt,fr,ge,xt,Be,mr);if(!jn)return{notEnoughRoom:!0};var Xn=Nr(jn.first.point,Xe).point,Zn=Nr(jn.last.point,Xe).point;if(oe&&!me){var aa=Rn(ge.writingMode,Xn,Zn,_r);if(aa)return aa}$r=[jn.first];for(var va=ge.glyphStartIndex+1;va<ln-1;va++)$r.push(fa(Wr*lt.getoffsetX(va),Yr,Vr,me,Qt,fr,ge.segment,En,zn,xt,Be,mr));$r.push(jn.last)}else{if(oe&&!me){var ha=Nr(fr,xe).point,ma=ge.lineStartIndex+ge.segment+1,Aa=new a.Point(xt.getx(ma),xt.gety(ma)),Fa=Nr(Aa,xe),Ga=Fa.signedDistanceFromCamera>0?Fa.point:ta(fr,Aa,ha,1,xe),si=Rn(ge.writingMode,ha,Ga,_r);if(si)return si}var Ya=fa(Wr*lt.getoffsetX(ge.glyphStartIndex),Yr,Vr,me,Qt,fr,ge.segment,ge.lineStartIndex,ge.lineStartIndex+ge.lineLength,xt,Be,mr);if(!Ya)return{notEnoughRoom:!0};$r=[Ya]}for(var Ja=0,Ra=$r;Ja<Ra.length;Ja+=1){var li=Ra[Ja];a.addDynamicAttributes(Nt,li.point,li.angle)}return{}}function ta(ge,$,me,oe,xe){var Be=Nr(ge.add(ge.sub($)._unit()),xe).point,Xe=me.sub(Be);return me.add(Xe._mult(oe/Xe.mag()))}function fa(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt,Qt,fr){var mr=oe?ge-$:ge+$,_r=mr>0?1:-1,Wr=0;oe&&(_r*=-1,Wr=Math.PI),_r<0&&(Wr+=Math.PI);for(var Yr=_r>0?lt+Xe:lt+Xe+1,Vr=xe,$r=xe,ln=0,En=0,zn=Math.abs(mr),jn=[];ln+En<=zn;){if(Yr+=_r,Yr<lt||Yr>=xt)return null;if($r=Vr,jn.push(Vr),Vr=fr[Yr],Vr===void 0){var Xn=new a.Point(Nt.getx(Yr),Nt.gety(Yr)),Zn=Nr(Xn,Qt);if(Zn.signedDistanceFromCamera>0)Vr=fr[Yr]=Zn.point;else{var aa=Yr-_r,va=ln===0?Be:new a.Point(Nt.getx(aa),Nt.gety(aa));Vr=ta(va,Xn,$r,zn-ln+1,Qt)}}ln+=En,En=$r.dist(Vr)}var ha=(zn-ln)/En,ma=Vr.sub($r),Aa=ma.mult(ha)._add($r);Aa._add(ma._unit()._perp()._mult(me*_r));var Fa=Wr+Math.atan2(Vr.y-$r.y,Vr.x-$r.x);return jn.push(Aa),{point:Aa,angle:Fa,path:jn}}var na=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ra(ge,$){for(var me=0;me<ge;me++){var oe=$.length;$.resize(oe+4),$.float32.set(na,oe*3)}}function Sr(ge,$,me){var oe=$[0],xe=$[1];return ge[0]=me[0]*oe+me[4]*xe+me[12],ge[1]=me[1]*oe+me[5]*xe+me[13],ge[3]=me[3]*oe+me[7]*xe+me[15],ge}var sn=100,an=function($,me,oe){me===void 0&&(me=new br($.width+2*sn,$.height+2*sn,25)),oe===void 0&&(oe=new br($.width+2*sn,$.height+2*sn,25)),this.transform=$,this.grid=me,this.ignoredGrid=oe,this.pitchfactor=Math.cos($._pitch)*$.cameraToCenterDistance,this.screenRightBoundary=$.width+sn,this.screenBottomBoundary=$.height+sn,this.gridRightBoundary=$.width+2*sn,this.gridBottomBoundary=$.height+2*sn};an.prototype.placeCollisionBox=function($,me,oe,xe,Be){var Xe=this.projectAndGetPerspectiveRatio(xe,$.anchorPointX,$.anchorPointY),lt=oe*Xe.perspectiveRatio,xt=$.x1*lt+Xe.point.x,Nt=$.y1*lt+Xe.point.y,Qt=$.x2*lt+Xe.point.x,fr=$.y2*lt+Xe.point.y;return!this.isInsideGrid(xt,Nt,Qt,fr)||!me&&this.grid.hitTest(xt,Nt,Qt,fr,Be)?{box:[],offscreen:!1}:{box:[xt,Nt,Qt,fr],offscreen:this.isOffscreen(xt,Nt,Qt,fr)}},an.prototype.placeCollisionCircles=function($,me,oe,xe,Be,Xe,lt,xt,Nt,Qt,fr,mr,_r){var Wr=[],Yr=new a.Point(me.anchorX,me.anchorY),Vr=Nr(Yr,Xe),$r=en(this.transform.cameraToCenterDistance,Vr.signedDistanceFromCamera),ln=Qt?Be/$r:Be*$r,En=ln/a.ONE_EM,zn=Nr(Yr,lt).point,jn={},Xn=me.lineOffsetX*En,Zn=me.lineOffsetY*En,aa=An(En,xe,Xn,Zn,!1,zn,Yr,me,oe,lt,jn),va=!1,ha=!1,ma=!0;if(aa){for(var Aa=mr*.5*$r+_r,Fa=new a.Point(-sn,-sn),Ga=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),si=new In,Ya=aa.first,Ja=aa.last,Ra=[],li=Ya.path.length-1;li>=1;li--)Ra.push(Ya.path[li]);for(var ci=1;ci<Ja.path.length;ci++)Ra.push(Ja.path[ci]);var vi=Aa*2.5;if(xt){var Qa=Ra.map(function(Xl){return Nr(Xl,xt)});Qa.some(function(Xl){return Xl.signedDistanceFromCamera<=0})?Ra=[]:Ra=Qa.map(function(Xl){return Xl.point})}var Ai=[];if(Ra.length>0){for(var Wa=Ra[0].clone(),qa=Ra[0].clone(),Gi=1;Gi<Ra.length;Gi++)Wa.x=Math.min(Wa.x,Ra[Gi].x),Wa.y=Math.min(Wa.y,Ra[Gi].y),qa.x=Math.max(qa.x,Ra[Gi].x),qa.y=Math.max(qa.y,Ra[Gi].y);Wa.x>=Fa.x&&qa.x<=Ga.x&&Wa.y>=Fa.y&&qa.y<=Ga.y?Ai=[Ra]:qa.x<Fa.x||Wa.x>Ga.x||qa.y<Fa.y||Wa.y>Ga.y?Ai=[]:Ai=a.clipLine([Ra],Fa.x,Fa.y,Ga.x,Ga.y)}for(var io=0,tl=Ai;io<tl.length;io+=1){var rl=tl[io];si.reset(rl,Aa*.25);var Wl=0;si.length<=.5*Aa?Wl=1:Wl=Math.ceil(si.paddedLength/vi)+1;for(var Yl=0;Yl<Wl;Yl++){var Tu=Yl/Math.max(Wl-1,1),jl=si.lerp(Tu),is=jl.x+sn,tf=jl.y+sn;Wr.push(is,tf,Aa,0);var No=is-Aa,Ns=tf-Aa,Zl=is+Aa,Al=tf+Aa;if(ma=ma&&this.isOffscreen(No,Ns,Zl,Al),ha=ha||this.isInsideGrid(No,Ns,Zl,Al),!$&&this.grid.hitTestCircle(is,tf,Aa,fr)&&(va=!0,!Nt))return{circles:[],offscreen:!1,collisionDetected:va}}}}return{circles:!Nt&&va||!ha?[]:Wr,offscreen:ma,collisionDetected:va}},an.prototype.queryRenderedSymbols=function($){if($.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var me=[],oe=1/0,xe=1/0,Be=-1/0,Xe=-1/0,lt=0,xt=$;lt<xt.length;lt+=1){var Nt=xt[lt],Qt=new a.Point(Nt.x+sn,Nt.y+sn);oe=Math.min(oe,Qt.x),xe=Math.min(xe,Qt.y),Be=Math.max(Be,Qt.x),Xe=Math.max(Xe,Qt.y),me.push(Qt)}for(var fr=this.grid.query(oe,xe,Be,Xe).concat(this.ignoredGrid.query(oe,xe,Be,Xe)),mr={},_r={},Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr],$r=Vr.key;if(mr[$r.bucketInstanceId]===void 0&&(mr[$r.bucketInstanceId]={}),!mr[$r.bucketInstanceId][$r.featureIndex]){var ln=[new a.Point(Vr.x1,Vr.y1),new a.Point(Vr.x2,Vr.y1),new a.Point(Vr.x2,Vr.y2),new a.Point(Vr.x1,Vr.y2)];a.polygonIntersectsPolygon(me,ln)&&(mr[$r.bucketInstanceId][$r.featureIndex]=!0,_r[$r.bucketInstanceId]===void 0&&(_r[$r.bucketInstanceId]=[]),_r[$r.bucketInstanceId].push($r.featureIndex))}}return _r},an.prototype.insertCollisionBox=function($,me,oe,xe,Be){var Xe=me?this.ignoredGrid:this.grid,lt={bucketInstanceId:oe,featureIndex:xe,collisionGroupID:Be};Xe.insert(lt,$[0],$[1],$[2],$[3])},an.prototype.insertCollisionCircles=function($,me,oe,xe,Be){for(var Xe=me?this.ignoredGrid:this.grid,lt={bucketInstanceId:oe,featureIndex:xe,collisionGroupID:Be},xt=0;xt<$.length;xt+=4)Xe.insertCircle(lt,$[xt],$[xt+1],$[xt+2])},an.prototype.projectAndGetPerspectiveRatio=function($,me,oe){var xe=[me,oe,0,1];Sr(xe,xe,$);var Be=new a.Point((xe[0]/xe[3]+1)/2*this.transform.width+sn,(-xe[1]/xe[3]+1)/2*this.transform.height+sn);return{point:Be,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/xe[3])}},an.prototype.isOffscreen=function($,me,oe,xe){return oe<sn||$>=this.screenRightBoundary||xe<sn||me>this.screenBottomBoundary},an.prototype.isInsideGrid=function($,me,oe,xe){return oe>=0&&$<this.gridRightBoundary&&xe>=0&&me<this.gridBottomBoundary},an.prototype.getViewportMatrix=function(){var $=a.identity([]);return a.translate($,$,[-sn,-sn,0]),$};function yn(ge,$,me){return $*(a.EXTENT/(ge.tileSize*Math.pow(2,me-ge.tileID.overscaledZ)))}var Hn=function($,me,oe,xe){$?this.opacity=Math.max(0,Math.min(1,$.opacity+($.placed?me:-me))):this.opacity=xe&&oe?1:0,this.placed=oe};Hn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Cn=function($,me,oe,xe,Be){this.text=new Hn($?$.text:null,me,oe,Be),this.icon=new Hn($?$.icon:null,me,xe,Be)};Cn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ln=function($,me,oe){this.text=$,this.icon=me,this.skipFade=oe},Gn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},oa=function($,me,oe,xe,Be){this.bucketInstanceId=$,this.featureIndex=me,this.sourceLayerIndex=oe,this.bucketIndex=xe,this.tileID=Be},Da=function($){this.crossSourceCollisions=$,this.maxGroupID=0,this.collisionGroups={}};Da.prototype.get=function($){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[$]){var me=++this.maxGroupID;this.collisionGroups[$]={ID:me,predicate:function(oe){return oe.collisionGroupID===me}}}return this.collisionGroups[$]};function Xa(ge,$,me,oe,xe){var Be=a.getAnchorAlignment(ge),Xe=Be.horizontalAlign,lt=Be.verticalAlign,xt=-(Xe-.5)*$,Nt=-(lt-.5)*me,Qt=a.evaluateVariableOffset(ge,oe);return new a.Point(xt+Qt[0]*xe,Nt+Qt[1]*xe)}function Xt(ge,$,me,oe,xe,Be){var Xe=ge.x1,lt=ge.x2,xt=ge.y1,Nt=ge.y2,Qt=ge.anchorPointX,fr=ge.anchorPointY,mr=new a.Point($,me);return oe&&mr._rotate(xe?Be:-Be),{x1:Xe+mr.x,y1:xt+mr.y,x2:lt+mr.x,y2:Nt+mr.y,anchorPointX:Qt,anchorPointY:fr}}var Tr=function($,me,oe,xe){this.transform=$.clone(),this.collisionIndex=new an(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=me,this.retainedQueryData={},this.collisionGroups=new Da(oe),this.collisionCircleArrays={},this.prevPlacement=xe,xe&&(xe.prevPlacement=void 0),this.placedOrientations={}};Tr.prototype.getBucketParts=function($,me,oe,xe){var Be=oe.getBucket(me),Xe=oe.latestFeatureIndex;if(!(!Be||!Xe||me.id!==Be.layerIds[0])){var lt=oe.collisionBoxArray,xt=Be.layers[0].layout,Nt=Math.pow(2,this.transform.zoom-oe.tileID.overscaledZ),Qt=oe.tileSize/a.EXTENT,fr=this.transform.calculatePosMatrix(oe.tileID.toUnwrapped()),mr=xt.get("text-pitch-alignment")==="map",_r=xt.get("text-rotation-alignment")==="map",Wr=yn(oe,1,this.transform.zoom),Yr=Mr(fr,mr,_r,this.transform,Wr),Vr=null;if(mr){var $r=Br(fr,mr,_r,this.transform,Wr);Vr=a.multiply([],this.transform.labelPlaneMatrix,$r)}this.retainedQueryData[Be.bucketInstanceId]=new oa(Be.bucketInstanceId,Xe,Be.sourceLayerIndex,Be.index,oe.tileID);var ln={bucket:Be,layout:xt,posMatrix:fr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Vr,scale:Nt,textPixelRatio:Qt,holdingForFade:oe.holdingForFade(),collisionBoxArray:lt,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(Be.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Be.sourceID)};if(xe)for(var En=0,zn=Be.sortKeyRanges;En<zn.length;En+=1){var jn=zn[En],Xn=jn.sortKey,Zn=jn.symbolInstanceStart,aa=jn.symbolInstanceEnd;$.push({sortKey:Xn,symbolInstanceStart:Zn,symbolInstanceEnd:aa,parameters:ln})}else $.push({symbolInstanceStart:0,symbolInstanceEnd:Be.symbolInstances.length,parameters:ln})}},Tr.prototype.attemptAnchorPlacement=function($,me,oe,xe,Be,Xe,lt,xt,Nt,Qt,fr,mr,_r,Wr,Yr){var Vr=[mr.textOffset0,mr.textOffset1],$r=Xa($,oe,xe,Vr,Be),ln=this.collisionIndex.placeCollisionBox(Xt(me,$r.x,$r.y,Xe,lt,this.transform.angle),fr,xt,Nt,Qt.predicate);if(Yr){var En=this.collisionIndex.placeCollisionBox(Xt(Yr,$r.x,$r.y,Xe,lt,this.transform.angle),fr,xt,Nt,Qt.predicate);if(En.box.length===0)return}if(ln.box.length>0){var zn;return this.prevPlacement&&this.prevPlacement.variableOffsets[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID].text&&(zn=this.prevPlacement.variableOffsets[mr.crossTileID].anchor),this.variableOffsets[mr.crossTileID]={textOffset:Vr,width:oe,height:xe,anchor:$,textBoxScale:Be,prevAnchor:zn},this.markUsedJustification(_r,$,mr,Wr),_r.allowVerticalPlacement&&(this.markUsedOrientation(_r,Wr,mr),this.placedOrientations[mr.crossTileID]=Wr),{shift:$r,placedGlyphBoxes:ln}}},Tr.prototype.placeLayerBucketPart=function($,me,oe){var xe=this,Be=$.parameters,Xe=Be.bucket,lt=Be.layout,xt=Be.posMatrix,Nt=Be.textLabelPlaneMatrix,Qt=Be.labelToScreenMatrix,fr=Be.textPixelRatio,mr=Be.holdingForFade,_r=Be.collisionBoxArray,Wr=Be.partiallyEvaluatedTextSize,Yr=Be.collisionGroup,Vr=lt.get("text-optional"),$r=lt.get("icon-optional"),ln=lt.get("text-allow-overlap"),En=lt.get("icon-allow-overlap"),zn=lt.get("text-rotation-alignment")==="map",jn=lt.get("text-pitch-alignment")==="map",Xn=lt.get("icon-text-fit")!=="none",Zn=lt.get("symbol-z-order")==="viewport-y",aa=ln&&(En||!Xe.hasIconData()||$r),va=En&&(ln||!Xe.hasTextData()||Vr);!Xe.collisionArrays&&_r&&Xe.deserializeCollisionBoxes(_r);var ha=function(Ya,Ja){if(!me[Ya.crossTileID]){if(mr){xe.placements[Ya.crossTileID]=new Ln(!1,!1,!1);return}var Ra=!1,li=!1,ci=!0,vi=null,Qa={box:null,offscreen:null},Ai={box:null,offscreen:null},Wa=null,qa=null,Gi=null,io=0,tl=0,rl=0;Ja.textFeatureIndex?io=Ja.textFeatureIndex:Ya.useRuntimeCollisionCircles&&(io=Ya.featureIndex),Ja.verticalTextFeatureIndex&&(tl=Ja.verticalTextFeatureIndex);var Wl=Ja.textBox;if(Wl){var Yl=function(Zi){var ws=a.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!Zi&&xe.prevPlacement){var Ts=xe.prevPlacement.placedOrientations[Ya.crossTileID];Ts&&(xe.placedOrientations[Ya.crossTileID]=Ts,ws=Ts,xe.markUsedOrientation(Xe,ws,Ya))}return ws},Tu=function(Zi,ws){if(Xe.allowVerticalPlacement&&Ya.numVerticalGlyphVertices>0&&Ja.verticalTextBox)for(var Ts=0,nv=Xe.writingModes;Ts<nv.length;Ts+=1){var ud=nv[Ts];if(ud===a.WritingMode.vertical?(Qa=ws(),Ai=Qa):Qa=Zi(),Qa&&Qa.box&&Qa.box.length)break}else Qa=Zi()};if(lt.get("text-variable-anchor")){var No=lt.get("text-variable-anchor");if(xe.prevPlacement&&xe.prevPlacement.variableOffsets[Ya.crossTileID]){var Ns=xe.prevPlacement.variableOffsets[Ya.crossTileID];No.indexOf(Ns.anchor)>0&&(No=No.filter(function(Zi){return Zi!==Ns.anchor}),No.unshift(Ns.anchor))}var Zl=function(Zi,ws,Ts){for(var nv=Zi.x2-Zi.x1,ud=Zi.y2-Zi.y1,Yg=Ya.textBoxScale,jg=Xn&&!En?ws:null,Lh={box:[],offscreen:!1},Zg=ln?No.length*2:No.length,av=0;av<Zg;++av){var Xg=No[av%No.length],Kg=av>=No.length,fd=xe.attemptAnchorPlacement(Xg,Zi,nv,ud,Yg,zn,jn,fr,xt,Yr,Kg,Ya,Xe,Ts,jg);if(fd&&(Lh=fd.placedGlyphBoxes,Lh&&Lh.box&&Lh.box.length)){Ra=!0,vi=fd.shift;break}}return Lh},Al=function(){return Zl(Wl,Ja.iconBox,a.WritingMode.horizontal)},Xl=function(){var Zi=Ja.verticalTextBox,ws=Qa&&Qa.box&&Qa.box.length;return Xe.allowVerticalPlacement&&!ws&&Ya.numVerticalGlyphVertices>0&&Zi?Zl(Zi,Ja.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};Tu(Al,Xl),Qa&&(Ra=Qa.box,ci=Qa.offscreen);var qh=Yl(Qa&&Qa.box);if(!Ra&&xe.prevPlacement){var Of=xe.prevPlacement.variableOffsets[Ya.crossTileID];Of&&(xe.variableOffsets[Ya.crossTileID]=Of,xe.markUsedJustification(Xe,Of.anchor,Ya,qh))}}else{var jl=function(Zi,ws){var Ts=xe.collisionIndex.placeCollisionBox(Zi,ln,fr,xt,Yr.predicate);return Ts&&Ts.box&&Ts.box.length&&(xe.markUsedOrientation(Xe,ws,Ya),xe.placedOrientations[Ya.crossTileID]=ws),Ts},is=function(){return jl(Wl,a.WritingMode.horizontal)},tf=function(){var Zi=Ja.verticalTextBox;return Xe.allowVerticalPlacement&&Ya.numVerticalGlyphVertices>0&&Zi?jl(Zi,a.WritingMode.vertical):{box:null,offscreen:null}};Tu(is,tf),Yl(Qa&&Qa.box&&Qa.box.length)}}if(Wa=Qa,Ra=Wa&&Wa.box&&Wa.box.length>0,ci=Wa&&Wa.offscreen,Ya.useRuntimeCollisionCircles){var Do=Xe.text.placedSymbolArray.get(Ya.centerJustifiedTextSymbolIndex),Eh=a.evaluateSizeForFeature(Xe.textSizeData,Wr,Do),Zo=lt.get("text-padding"),Ch=Ya.collisionCircleDiameter;qa=xe.collisionIndex.placeCollisionCircles(ln,Do,Xe.lineVertexArray,Xe.glyphOffsetArray,Eh,xt,Nt,Qt,oe,jn,Yr.predicate,Ch,Zo),Ra=ln||qa.circles.length>0&&!qa.collisionDetected,ci=ci&&qa.offscreen}if(Ja.iconFeatureIndex&&(rl=Ja.iconFeatureIndex),Ja.iconBox){var ev=function(Zi){var ws=Xn&&vi?Xt(Zi,vi.x,vi.y,zn,jn,xe.transform.angle):Zi;return xe.collisionIndex.placeCollisionBox(ws,En,fr,xt,Yr.predicate)};Ai&&Ai.box&&Ai.box.length&&Ja.verticalIconBox?(Gi=ev(Ja.verticalIconBox),li=Gi.box.length>0):(Gi=ev(Ja.iconBox),li=Gi.box.length>0),ci=ci&&Gi.offscreen}var tv=Vr||Ya.numHorizontalGlyphVertices===0&&Ya.numVerticalGlyphVertices===0,R0=$r||Ya.numIconVertices===0;if(!tv&&!R0?li=Ra=li&&Ra:R0?tv||(li=li&&Ra):Ra=li&&Ra,Ra&&Wa&&Wa.box&&(Ai&&Ai.box&&tl?xe.collisionIndex.insertCollisionBox(Wa.box,lt.get("text-ignore-placement"),Xe.bucketInstanceId,tl,Yr.ID):xe.collisionIndex.insertCollisionBox(Wa.box,lt.get("text-ignore-placement"),Xe.bucketInstanceId,io,Yr.ID)),li&&Gi&&xe.collisionIndex.insertCollisionBox(Gi.box,lt.get("icon-ignore-placement"),Xe.bucketInstanceId,rl,Yr.ID),qa&&(Ra&&xe.collisionIndex.insertCollisionCircles(qa.circles,lt.get("text-ignore-placement"),Xe.bucketInstanceId,io,Yr.ID),oe)){var rv=Xe.bucketInstanceId,Mc=xe.collisionCircleArrays[rv];Mc===void 0&&(Mc=xe.collisionCircleArrays[rv]=new Gn);for(var Sc=0;Sc<qa.circles.length;Sc+=4)Mc.circles.push(qa.circles[Sc+0]),Mc.circles.push(qa.circles[Sc+1]),Mc.circles.push(qa.circles[Sc+2]),Mc.circles.push(qa.collisionDetected?1:0)}xe.placements[Ya.crossTileID]=new Ln(Ra||aa,li||va,ci||Xe.justReloaded),me[Ya.crossTileID]=!0}};if(Zn)for(var ma=Xe.getSortedSymbolIndexes(this.transform.angle),Aa=ma.length-1;Aa>=0;--Aa){var Fa=ma[Aa];ha(Xe.symbolInstances.get(Fa),Xe.collisionArrays[Fa])}else for(var Ga=$.symbolInstanceStart;Ga<$.symbolInstanceEnd;Ga++)ha(Xe.symbolInstances.get(Ga),Xe.collisionArrays[Ga]);if(oe&&Xe.bucketInstanceId in this.collisionCircleArrays){var si=this.collisionCircleArrays[Xe.bucketInstanceId];a.invert(si.invProjMatrix,xt),si.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},Tr.prototype.markUsedJustification=function($,me,oe,xe){var Be={left:oe.leftJustifiedTextSymbolIndex,center:oe.centerJustifiedTextSymbolIndex,right:oe.rightJustifiedTextSymbolIndex},Xe;xe===a.WritingMode.vertical?Xe=oe.verticalPlacedTextSymbolIndex:Xe=Be[a.getAnchorJustification(me)];for(var lt=[oe.leftJustifiedTextSymbolIndex,oe.centerJustifiedTextSymbolIndex,oe.rightJustifiedTextSymbolIndex,oe.verticalPlacedTextSymbolIndex],xt=0,Nt=lt;xt<Nt.length;xt+=1){var Qt=Nt[xt];Qt>=0&&(Xe>=0&&Qt!==Xe?$.text.placedSymbolArray.get(Qt).crossTileID=0:$.text.placedSymbolArray.get(Qt).crossTileID=oe.crossTileID)}},Tr.prototype.markUsedOrientation=function($,me,oe){for(var xe=me===a.WritingMode.horizontal||me===a.WritingMode.horizontalOnly?me:0,Be=me===a.WritingMode.vertical?me:0,Xe=[oe.leftJustifiedTextSymbolIndex,oe.centerJustifiedTextSymbolIndex,oe.rightJustifiedTextSymbolIndex],lt=0,xt=Xe;lt<xt.length;lt+=1){var Nt=xt[lt];$.text.placedSymbolArray.get(Nt).placedOrientation=xe}oe.verticalPlacedTextSymbolIndex&&($.text.placedSymbolArray.get(oe.verticalPlacedTextSymbolIndex).placedOrientation=Be)},Tr.prototype.commit=function($){this.commitTime=$,this.zoomAtLastRecencyCheck=this.transform.zoom;var me=this.prevPlacement,oe=!1;this.prevZoomAdjustment=me?me.zoomAdjustment(this.transform.zoom):0;var xe=me?me.symbolFadeChange($):1,Be=me?me.opacities:{},Xe=me?me.variableOffsets:{},lt=me?me.placedOrientations:{};for(var xt in this.placements){var Nt=this.placements[xt],Qt=Be[xt];Qt?(this.opacities[xt]=new Cn(Qt,xe,Nt.text,Nt.icon),oe=oe||Nt.text!==Qt.text.placed||Nt.icon!==Qt.icon.placed):(this.opacities[xt]=new Cn(null,xe,Nt.text,Nt.icon,Nt.skipFade),oe=oe||Nt.text||Nt.icon)}for(var fr in Be){var mr=Be[fr];if(!this.opacities[fr]){var _r=new Cn(mr,xe,!1,!1);_r.isHidden()||(this.opacities[fr]=_r,oe=oe||mr.text.placed||mr.icon.placed)}}for(var Wr in Xe)!this.variableOffsets[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.variableOffsets[Wr]=Xe[Wr]);for(var Yr in lt)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=lt[Yr]);oe?this.lastPlacementChangeTime=$:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=me?me.lastPlacementChangeTime:$)},Tr.prototype.updateLayerOpacities=function($,me){for(var oe={},xe=0,Be=me;xe<Be.length;xe+=1){var Xe=Be[xe],lt=Xe.getBucket($);lt&&Xe.latestFeatureIndex&&$.id===lt.layerIds[0]&&this.updateBucketOpacities(lt,oe,Xe.collisionBoxArray)}},Tr.prototype.updateBucketOpacities=function($,me,oe){var xe=this;$.hasTextData()&&$.text.opacityVertexArray.clear(),$.hasIconData()&&$.icon.opacityVertexArray.clear(),$.hasIconCollisionBoxData()&&$.iconCollisionBox.collisionVertexArray.clear(),$.hasTextCollisionBoxData()&&$.textCollisionBox.collisionVertexArray.clear();var Be=$.layers[0].layout,Xe=new Cn(null,0,!1,!1,!0),lt=Be.get("text-allow-overlap"),xt=Be.get("icon-allow-overlap"),Nt=Be.get("text-variable-anchor"),Qt=Be.get("text-rotation-alignment")==="map",fr=Be.get("text-pitch-alignment")==="map",mr=Be.get("icon-text-fit")!=="none",_r=new Cn(null,0,lt&&(xt||!$.hasIconData()||Be.get("icon-optional")),xt&&(lt||!$.hasTextData()||Be.get("text-optional")),!0);!$.collisionArrays&&oe&&($.hasIconCollisionBoxData()||$.hasTextCollisionBoxData())&&$.deserializeCollisionBoxes(oe);for(var Wr=function(ln,En,zn){for(var jn=0;jn<En/4;jn++)ln.opacityVertexArray.emplaceBack(zn)},Yr=function(ln){var En=$.symbolInstances.get(ln),zn=En.numHorizontalGlyphVertices,jn=En.numVerticalGlyphVertices,Xn=En.crossTileID,Zn=me[Xn],aa=xe.opacities[Xn];Zn?aa=Xe:aa||(aa=_r,xe.opacities[Xn]=aa),me[Xn]=!0;var va=zn>0||jn>0,ha=En.numIconVertices>0,ma=xe.placedOrientations[En.crossTileID],Aa=ma===a.WritingMode.vertical,Fa=ma===a.WritingMode.horizontal||ma===a.WritingMode.horizontalOnly;if(va){var Ga=Or(aa.text),si=Aa?pn:Ga;Wr($.text,zn,si);var Ya=Fa?pn:Ga;Wr($.text,jn,Ya);var Ja=aa.text.isHidden();[En.rightJustifiedTextSymbolIndex,En.centerJustifiedTextSymbolIndex,En.leftJustifiedTextSymbolIndex].forEach(function(rl){rl>=0&&($.text.placedSymbolArray.get(rl).hidden=Ja||Aa?1:0)}),En.verticalPlacedTextSymbolIndex>=0&&($.text.placedSymbolArray.get(En.verticalPlacedTextSymbolIndex).hidden=Ja||Fa?1:0);var Ra=xe.variableOffsets[En.crossTileID];Ra&&xe.markUsedJustification($,Ra.anchor,En,ma);var li=xe.placedOrientations[En.crossTileID];li&&(xe.markUsedJustification($,"left",En,li),xe.markUsedOrientation($,li,En))}if(ha){var ci=Or(aa.icon),vi=!(mr&&En.verticalPlacedIconSymbolIndex&&Aa);if(En.placedIconSymbolIndex>=0){var Qa=vi?ci:pn;Wr($.icon,En.numIconVertices,Qa),$.icon.placedSymbolArray.get(En.placedIconSymbolIndex).hidden=aa.icon.isHidden()}if(En.verticalPlacedIconSymbolIndex>=0){var Ai=vi?pn:ci;Wr($.icon,En.numVerticalIconVertices,Ai),$.icon.placedSymbolArray.get(En.verticalPlacedIconSymbolIndex).hidden=aa.icon.isHidden()}}if($.hasIconCollisionBoxData()||$.hasTextCollisionBoxData()){var Wa=$.collisionArrays[ln];if(Wa){var qa=new a.Point(0,0);if(Wa.textBox||Wa.verticalTextBox){var Gi=!0;if(Nt){var io=xe.variableOffsets[Xn];io?(qa=Xa(io.anchor,io.width,io.height,io.textOffset,io.textBoxScale),Qt&&qa._rotate(fr?xe.transform.angle:-xe.transform.angle)):Gi=!1}Wa.textBox&&on($.textCollisionBox.collisionVertexArray,aa.text.placed,!Gi||Aa,qa.x,qa.y),Wa.verticalTextBox&&on($.textCollisionBox.collisionVertexArray,aa.text.placed,!Gi||Fa,qa.x,qa.y)}var tl=!!(!Fa&&Wa.verticalIconBox);Wa.iconBox&&on($.iconCollisionBox.collisionVertexArray,aa.icon.placed,tl,mr?qa.x:0,mr?qa.y:0),Wa.verticalIconBox&&on($.iconCollisionBox.collisionVertexArray,aa.icon.placed,!tl,mr?qa.x:0,mr?qa.y:0)}}},Vr=0;Vr<$.symbolInstances.length;Vr++)Yr(Vr);if($.sortFeatures(this.transform.angle),this.retainedQueryData[$.bucketInstanceId]&&(this.retainedQueryData[$.bucketInstanceId].featureSortOrder=$.featureSortOrder),$.hasTextData()&&$.text.opacityVertexBuffer&&$.text.opacityVertexBuffer.updateData($.text.opacityVertexArray),$.hasIconData()&&$.icon.opacityVertexBuffer&&$.icon.opacityVertexBuffer.updateData($.icon.opacityVertexArray),$.hasIconCollisionBoxData()&&$.iconCollisionBox.collisionVertexBuffer&&$.iconCollisionBox.collisionVertexBuffer.updateData($.iconCollisionBox.collisionVertexArray),$.hasTextCollisionBoxData()&&$.textCollisionBox.collisionVertexBuffer&&$.textCollisionBox.collisionVertexBuffer.updateData($.textCollisionBox.collisionVertexArray),$.bucketInstanceId in this.collisionCircleArrays){var $r=this.collisionCircleArrays[$.bucketInstanceId];$.placementInvProjMatrix=$r.invProjMatrix,$.placementViewportMatrix=$r.viewportMatrix,$.collisionCircleArray=$r.circles,delete this.collisionCircleArrays[$.bucketInstanceId]}},Tr.prototype.symbolFadeChange=function($){return this.fadeDuration===0?1:($-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Tr.prototype.zoomAdjustment=function($){return Math.max(0,(this.transform.zoom-$)/1.5)},Tr.prototype.hasTransitions=function($){return this.stale||$-this.lastPlacementChangeTime<this.fadeDuration},Tr.prototype.stillRecent=function($,me){var oe=this.zoomAtLastRecencyCheck===me?1-this.zoomAdjustment(me):1;return this.zoomAtLastRecencyCheck=me,this.commitTime+this.fadeDuration*oe>$},Tr.prototype.setStale=function(){this.stale=!0};function on(ge,$,me,oe,xe){ge.emplaceBack($?1:0,me?1:0,oe||0,xe||0),ge.emplaceBack($?1:0,me?1:0,oe||0,xe||0),ge.emplaceBack($?1:0,me?1:0,oe||0,xe||0),ge.emplaceBack($?1:0,me?1:0,oe||0,xe||0)}var hn=Math.pow(2,25),vn=Math.pow(2,24),Pn=Math.pow(2,17),Tn=Math.pow(2,16),fn=Math.pow(2,9),Dr=Math.pow(2,8),Lr=Math.pow(2,1);function Or(ge){if(ge.opacity===0&&!ge.placed)return 0;if(ge.opacity===1&&ge.placed)return 4294967295;var $=ge.placed?1:0,me=Math.floor(ge.opacity*127);return me*hn+$*vn+me*Pn+$*Tn+me*fn+$*Dr+me*Lr+$}var pn=0,_n=function($){this._sortAcrossTiles=$.layout.get("symbol-z-order")!=="viewport-y"&&$.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};_n.prototype.continuePlacement=function($,me,oe,xe,Be){for(var Xe=this._bucketParts;this._currentTileIndex<$.length;){var lt=$[this._currentTileIndex];if(me.getBucketParts(Xe,xe,lt,this._sortAcrossTiles),this._currentTileIndex++,Be())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Nt,Qt){return Nt.sortKey-Qt.sortKey}));this._currentPartIndex<Xe.length;){var xt=Xe[this._currentPartIndex];if(me.placeLayerBucketPart(xt,this._seenCrossTileIDs,oe),this._currentPartIndex++,Be())return!0}return!1};var Yn=function($,me,oe,xe,Be,Xe,lt){this.placement=new Tr($,Be,Xe,lt),this._currentPlacementIndex=me.length-1,this._forceFullPlacement=oe,this._showCollisionBoxes=xe,this._done=!1};Yn.prototype.isDone=function(){return this._done},Yn.prototype.continuePlacement=function($,me,oe){for(var xe=this,Be=a.browser.now(),Xe=function(){var fr=a.browser.now()-Be;return xe._forceFullPlacement?!1:fr>2};this._currentPlacementIndex>=0;){var lt=$[this._currentPlacementIndex],xt=me[lt],Nt=this.placement.collisionIndex.transform.zoom;if(xt.type==="symbol"&&(!xt.minzoom||xt.minzoom<=Nt)&&(!xt.maxzoom||xt.maxzoom>Nt)){this._inProgressLayer||(this._inProgressLayer=new _n(xt));var Qt=this._inProgressLayer.continuePlacement(oe[xt.source],this.placement,this._showCollisionBoxes,xt,Xe);if(Qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Yn.prototype.commit=function($){return this.placement.commit($),this.placement};var mn=512/a.EXTENT/2,On=function($,me,oe){this.tileID=$,this.indexedSymbolInstances={},this.bucketInstanceId=oe;for(var xe=0;xe<me.length;xe++){var Be=me.get(xe),Xe=Be.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:Be.crossTileID,coord:this.getScaledCoordinates(Be,$)})}};On.prototype.getScaledCoordinates=function($,me){var oe=me.canonical.z-this.tileID.canonical.z,xe=mn/Math.pow(2,oe);return{x:Math.floor((me.canonical.x*a.EXTENT+$.anchorX)*xe),y:Math.floor((me.canonical.y*a.EXTENT+$.anchorY)*xe)}},On.prototype.findMatches=function($,me,oe){for(var xe=this.tileID.canonical.z<me.canonical.z?1:Math.pow(2,this.tileID.canonical.z-me.canonical.z),Be=0;Be<$.length;Be++){var Xe=$.get(Be);if(!Xe.crossTileID){var lt=this.indexedSymbolInstances[Xe.key];if(lt)for(var xt=this.getScaledCoordinates(Xe,me),Nt=0,Qt=lt;Nt<Qt.length;Nt+=1){var fr=Qt[Nt];if(Math.abs(fr.coord.x-xt.x)<=xe&&Math.abs(fr.coord.y-xt.y)<=xe&&!oe[fr.crossTileID]){oe[fr.crossTileID]=!0,Xe.crossTileID=fr.crossTileID;break}}}}};var ea=function(){this.maxCrossTileID=0};ea.prototype.generate=function(){return++this.maxCrossTileID};var ca=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ca.prototype.handleWrapJump=function($){var me=Math.round(($-this.lng)/360);if(me!==0)for(var oe in this.indexes){var xe=this.indexes[oe],Be={};for(var Xe in xe){var lt=xe[Xe];lt.tileID=lt.tileID.unwrapTo(lt.tileID.wrap+me),Be[lt.tileID.key]=lt}this.indexes[oe]=Be}this.lng=$},ca.prototype.addBucket=function($,me,oe){if(this.indexes[$.overscaledZ]&&this.indexes[$.overscaledZ][$.key]){if(this.indexes[$.overscaledZ][$.key].bucketInstanceId===me.bucketInstanceId)return!1;this.removeBucketCrossTileIDs($.overscaledZ,this.indexes[$.overscaledZ][$.key])}for(var xe=0;xe<me.symbolInstances.length;xe++){var Be=me.symbolInstances.get(xe);Be.crossTileID=0}this.usedCrossTileIDs[$.overscaledZ]||(this.usedCrossTileIDs[$.overscaledZ]={});var Xe=this.usedCrossTileIDs[$.overscaledZ];for(var lt in this.indexes){var xt=this.indexes[lt];if(Number(lt)>$.overscaledZ)for(var Nt in xt){var Qt=xt[Nt];Qt.tileID.isChildOf($)&&Qt.findMatches(me.symbolInstances,$,Xe)}else{var fr=$.scaledTo(Number(lt)),mr=xt[fr.key];mr&&mr.findMatches(me.symbolInstances,$,Xe)}}for(var _r=0;_r<me.symbolInstances.length;_r++){var Wr=me.symbolInstances.get(_r);Wr.crossTileID||(Wr.crossTileID=oe.generate(),Xe[Wr.crossTileID]=!0)}return this.indexes[$.overscaledZ]===void 0&&(this.indexes[$.overscaledZ]={}),this.indexes[$.overscaledZ][$.key]=new On($,me.symbolInstances,me.bucketInstanceId),!0},ca.prototype.removeBucketCrossTileIDs=function($,me){for(var oe in me.indexedSymbolInstances)for(var xe=0,Be=me.indexedSymbolInstances[oe];xe<Be.length;xe+=1){var Xe=Be[xe];delete this.usedCrossTileIDs[$][Xe.crossTileID]}},ca.prototype.removeStaleBuckets=function($){var me=!1;for(var oe in this.indexes){var xe=this.indexes[oe];for(var Be in xe)$[xe[Be].bucketInstanceId]||(this.removeBucketCrossTileIDs(oe,xe[Be]),delete xe[Be],me=!0)}return me};var sa=function(){this.layerIndexes={},this.crossTileIDs=new ea,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sa.prototype.addLayer=function($,me,oe){var xe=this.layerIndexes[$.id];xe===void 0&&(xe=this.layerIndexes[$.id]=new ca);var Be=!1,Xe={};xe.handleWrapJump(oe);for(var lt=0,xt=me;lt<xt.length;lt+=1){var Nt=xt[lt],Qt=Nt.getBucket($);!Qt||$.id!==Qt.layerIds[0]||(Qt.bucketInstanceId||(Qt.bucketInstanceId=++this.maxBucketInstanceId),xe.addBucket(Nt.tileID,Qt,this.crossTileIDs)&&(Be=!0),Xe[Qt.bucketInstanceId]=!0)}return xe.removeStaleBuckets(Xe)&&(Be=!0),Be},sa.prototype.pruneUnusedLayers=function($){var me={};$.forEach(function(xe){me[xe]=!0});for(var oe in this.layerIndexes)me[oe]||delete this.layerIndexes[oe]};var la=function(ge,$){return a.emitValidationErrors(ge,$&&$.filter(function(me){return me.identifier!=="source.canvas"}))},ya=a.pick(Ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Qi=a.pick(Ot,["setCenter","setZoom","setBearing","setPitch"]),vo=nr(),xo=function(ge){function $(me,oe){var xe=this;oe===void 0&&(oe={}),ge.call(this),this.map=me,this.dispatcher=new F(kt(),this),this.imageManager=new b,this.imageManager.setEventedParent(this),this.glyphManager=new E(me._requestManager,oe.localIdeographFontFamily),this.lineAtlas=new z(256,512),this.crossTileSymbolIndex=new sa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Be=this;this._rtlTextPluginCallback=$.registerForPluginStateChange(function(Xe){var lt={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};Be.dispatcher.broadcast("syncRTLPluginState",lt,function(xt,Nt){if(a.triggerPluginCompletionEvent(xt),Nt){var Qt=Nt.every(function(mr){return mr});if(Qt)for(var fr in Be.sourceCaches)Be.sourceCaches[fr].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var lt=xe.sourceCaches[Xe.sourceId];if(lt){var xt=lt.getSource();if(!(!xt||!xt.vectorLayerIds))for(var Nt in xe._layers){var Qt=xe._layers[Nt];Qt.source===xt.id&&xe._validateLayer(Qt)}}}})}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.loadURL=function(oe,xe){var Be=this;xe===void 0&&(xe={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Xe=typeof xe.validate=="boolean"?xe.validate:!a.isMapboxURL(oe);oe=this.map._requestManager.normalizeStyleURL(oe,xe.accessToken);var lt=this.map._requestManager.transformRequest(oe,a.ResourceType.Style);this._request=a.getJSON(lt,function(xt,Nt){Be._request=null,xt?Be.fire(new a.ErrorEvent(xt)):Nt&&Be._load(Nt,Xe)})},$.prototype.loadJSON=function(oe,xe){var Be=this;xe===void 0&&(xe={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){Be._request=null,Be._load(oe,xe.validate!==!1)})},$.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(vo,!1)},$.prototype._load=function(oe,xe){if(!(xe&&la(this,a.validateStyle(oe)))){this._loaded=!0,this.stylesheet=oe;for(var Be in oe.sources)this.addSource(Be,oe.sources[Be],{validate:!1});oe.sprite?this._loadSprite(oe.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(oe.glyphs);var Xe=ur(this.stylesheet.layers);this._order=Xe.map(function(Qt){return Qt.id}),this._layers={},this._serializedLayers={};for(var lt=0,xt=Xe;lt<xt.length;lt+=1){var Nt=xt[lt];Nt=a.createStyleLayer(Nt),Nt.setEventedParent(this,{layer:{id:Nt.id}}),this._layers[Nt.id]=Nt,this._serializedLayers[Nt.id]=Nt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},$.prototype._loadSprite=function(oe){var xe=this;this._spriteRequest=o(oe,this.map._requestManager,function(Be,Xe){if(xe._spriteRequest=null,Be)xe.fire(new a.ErrorEvent(Be));else if(Xe)for(var lt in Xe)xe.imageManager.addImage(lt,Xe[lt]);xe.imageManager.setLoaded(!0),xe._availableImages=xe.imageManager.listImages(),xe.dispatcher.broadcast("setImages",xe._availableImages),xe.fire(new a.Event("data",{dataType:"style"}))})},$.prototype._validateLayer=function(oe){var xe=this.sourceCaches[oe.source];if(xe){var Be=oe.sourceLayer;if(Be){var Xe=xe.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(Be)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+Be+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+oe.id+'"')))}}},$.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var oe in this.sourceCaches)if(!this.sourceCaches[oe].loaded())return!1;return!!this.imageManager.isLoaded()},$.prototype._serializeLayers=function(oe){for(var xe=[],Be=0,Xe=oe;Be<Xe.length;Be+=1){var lt=Xe[Be],xt=this._layers[lt];xt.type!=="custom"&&xe.push(xt.serialize())}return xe},$.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var oe in this.sourceCaches)if(this.sourceCaches[oe].hasTransition())return!0;for(var xe in this._layers)if(this._layers[xe].hasTransition())return!0;return!1},$.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},$.prototype.update=function(oe){if(this._loaded){var xe=this._changed;if(this._changed){var Be=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(Be.length||Xe.length)&&this._updateWorkerLayers(Be,Xe);for(var lt in this._updatedSources){var xt=this._updatedSources[lt];xt==="reload"?this._reloadSource(lt):xt==="clear"&&this._clearSource(lt)}this._updateTilesForChangedImages();for(var Nt in this._updatedPaintProps)this._layers[Nt].updateTransitions(oe);this.light.updateTransitions(oe),this._resetUpdates()}for(var Qt in this.sourceCaches)this.sourceCaches[Qt].used=!1;for(var fr=0,mr=this._order;fr<mr.length;fr+=1){var _r=mr[fr],Wr=this._layers[_r];Wr.recalculate(oe,this._availableImages),!Wr.isHidden(oe.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}this.light.recalculate(oe),this.z=oe.zoom,xe&&this.fire(new a.Event("data",{dataType:"style"}))}},$.prototype._updateTilesForChangedImages=function(){var oe=Object.keys(this._changedImages);if(oe.length){for(var xe in this.sourceCaches)this.sourceCaches[xe].reloadTilesForDependencies(["icons","patterns"],oe);this._changedImages={}}},$.prototype._updateWorkerLayers=function(oe,xe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(oe),removedIds:xe})},$.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},$.prototype.setState=function(oe){var xe=this;if(this._checkLoaded(),la(this,a.validateStyle(oe)))return!1;oe=a.clone$1(oe),oe.layers=ur(oe.layers);var Be=kn(this.serialize(),oe).filter(function(lt){return!(lt.command in Qi)});if(Be.length===0)return!1;var Xe=Be.filter(function(lt){return!(lt.command in ya)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(lt){return lt.command}).join(", ")+".");return Be.forEach(function(lt){lt.command!=="setTransition"&&xe[lt.command].apply(xe,lt.args)}),this.stylesheet=oe,!0},$.prototype.addImage=function(oe,xe){if(this.getImage(oe))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(oe,xe),this._availableImages=this.imageManager.listImages(),this._changedImages[oe]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},$.prototype.updateImage=function(oe,xe){this.imageManager.updateImage(oe,xe)},$.prototype.getImage=function(oe){return this.imageManager.getImage(oe)},$.prototype.removeImage=function(oe){if(!this.getImage(oe))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(oe),this._availableImages=this.imageManager.listImages(),this._changedImages[oe]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},$.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},$.prototype.addSource=function(oe,xe,Be){var Xe=this;if(Be===void 0&&(Be={}),this._checkLoaded(),this.sourceCaches[oe]!==void 0)throw new Error("There is already a source with this ID");if(!xe.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(xe).join(", ")+".");var lt=["vector","raster","geojson","video","image"],xt=lt.indexOf(xe.type)>=0;if(!(xt&&this._validate(a.validateStyle.source,"sources."+oe,xe,null,Be))){this.map&&this.map._collectResourceTiming&&(xe.collectResourceTiming=!0);var Nt=this.sourceCaches[oe]=new zt(oe,xe,this.dispatcher);Nt.style=this,Nt.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Nt.serialize(),sourceId:oe}}),Nt.onAdd(this.map),this._changed=!0}},$.prototype.removeSource=function(oe){if(this._checkLoaded(),this.sourceCaches[oe]===void 0)throw new Error("There is no source with this ID");for(var xe in this._layers)if(this._layers[xe].source===oe)return this.fire(new a.ErrorEvent(new Error('Source "'+oe+'" cannot be removed while layer "'+xe+'" is using it.')));var Be=this.sourceCaches[oe];delete this.sourceCaches[oe],delete this._updatedSources[oe],Be.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:oe})),Be.setEventedParent(null),Be.clearTiles(),Be.onRemove&&Be.onRemove(this.map),this._changed=!0},$.prototype.setGeoJSONSourceData=function(oe,xe){this._checkLoaded();var Be=this.sourceCaches[oe].getSource();Be.setData(xe),this._changed=!0},$.prototype.getSource=function(oe){return this.sourceCaches[oe]&&this.sourceCaches[oe].getSource()},$.prototype.addLayer=function(oe,xe,Be){Be===void 0&&(Be={}),this._checkLoaded();var Xe=oe.id;if(this.getLayer(Xe)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var lt;if(oe.type==="custom"){if(la(this,a.validateCustomStyleLayer(oe)))return;lt=a.createStyleLayer(oe)}else{if(typeof oe.source=="object"&&(this.addSource(Xe,oe.source),oe=a.clone$1(oe),oe=a.extend(oe,{source:Xe})),this._validate(a.validateStyle.layer,"layers."+Xe,oe,{arrayIndex:-1},Be))return;lt=a.createStyleLayer(oe),this._validateLayer(lt),lt.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[lt.id]=lt.serialize()}var xt=xe?this._order.indexOf(xe):this._order.length;if(xe&&xt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+xe+'" does not exist on this map.')));return}if(this._order.splice(xt,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=lt,this._removedLayers[Xe]&&lt.source&&lt.type!=="custom"){var Nt=this._removedLayers[Xe];delete this._removedLayers[Xe],Nt.type!==lt.type?this._updatedSources[lt.source]="clear":(this._updatedSources[lt.source]="reload",this.sourceCaches[lt.source].pause())}this._updateLayer(lt),lt.onAdd&&lt.onAdd(this.map)},$.prototype.moveLayer=function(oe,xe){this._checkLoaded(),this._changed=!0;var Be=this._layers[oe];if(!Be){this.fire(new a.ErrorEvent(new Error("The layer '"+oe+"' does not exist in the map's style and cannot be moved.")));return}if(oe!==xe){var Xe=this._order.indexOf(oe);this._order.splice(Xe,1);var lt=xe?this._order.indexOf(xe):this._order.length;if(xe&&lt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+xe+'" does not exist on this map.')));return}this._order.splice(lt,0,oe),this._layerOrderChanged=!0}},$.prototype.removeLayer=function(oe){this._checkLoaded();var xe=this._layers[oe];if(!xe){this.fire(new a.ErrorEvent(new Error("The layer '"+oe+"' does not exist in the map's style and cannot be removed.")));return}xe.setEventedParent(null);var Be=this._order.indexOf(oe);this._order.splice(Be,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[oe]=xe,delete this._layers[oe],delete this._serializedLayers[oe],delete this._updatedLayers[oe],delete this._updatedPaintProps[oe],xe.onRemove&&xe.onRemove(this.map)},$.prototype.getLayer=function(oe){return this._layers[oe]},$.prototype.hasLayer=function(oe){return oe in this._layers},$.prototype.setLayerZoomRange=function(oe,xe,Be){this._checkLoaded();var Xe=this.getLayer(oe);if(!Xe){this.fire(new a.ErrorEvent(new Error("The layer '"+oe+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===xe&&Xe.maxzoom===Be||(xe!=null&&(Xe.minzoom=xe),Be!=null&&(Xe.maxzoom=Be),this._updateLayer(Xe))},$.prototype.setFilter=function(oe,xe,Be){Be===void 0&&(Be={}),this._checkLoaded();var Xe=this.getLayer(oe);if(!Xe){this.fire(new a.ErrorEvent(new Error("The layer '"+oe+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Xe.filter,xe)){if(xe==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(a.validateStyle.filter,"layers."+Xe.id+".filter",xe,null,Be)||(Xe.filter=a.clone$1(xe),this._updateLayer(Xe))}},$.prototype.getFilter=function(oe){return a.clone$1(this.getLayer(oe).filter)},$.prototype.setLayoutProperty=function(oe,xe,Be,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var lt=this.getLayer(oe);if(!lt){this.fire(new a.ErrorEvent(new Error("The layer '"+oe+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(lt.getLayoutProperty(xe),Be)||(lt.setLayoutProperty(xe,Be,Xe),this._updateLayer(lt))},$.prototype.getLayoutProperty=function(oe,xe){var Be=this.getLayer(oe);if(!Be){this.fire(new a.ErrorEvent(new Error("The layer '"+oe+"' does not exist in the map's style.")));return}return Be.getLayoutProperty(xe)},$.prototype.setPaintProperty=function(oe,xe,Be,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var lt=this.getLayer(oe);if(!lt){this.fire(new a.ErrorEvent(new Error("The layer '"+oe+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(lt.getPaintProperty(xe),Be)){var xt=lt.setPaintProperty(xe,Be,Xe);xt&&this._updateLayer(lt),this._changed=!0,this._updatedPaintProps[oe]=!0}},$.prototype.getPaintProperty=function(oe,xe){return this.getLayer(oe).getPaintProperty(xe)},$.prototype.setFeatureState=function(oe,xe){this._checkLoaded();var Be=oe.source,Xe=oe.sourceLayer,lt=this.sourceCaches[Be];if(lt===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Be+"' does not exist in the map's style.")));return}var xt=lt.getSource().type;if(xt==="geojson"&&Xe){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(xt==="vector"&&!Xe){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}oe.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),lt.setFeatureState(Xe,oe.id,xe)},$.prototype.removeFeatureState=function(oe,xe){this._checkLoaded();var Be=oe.source,Xe=this.sourceCaches[Be];if(Xe===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Be+"' does not exist in the map's style.")));return}var lt=Xe.getSource().type,xt=lt==="vector"?oe.sourceLayer:void 0;if(lt==="vector"&&!xt){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(xe&&typeof oe.id!="string"&&typeof oe.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Xe.removeFeatureState(xt,oe.id,xe)},$.prototype.getFeatureState=function(oe){this._checkLoaded();var xe=oe.source,Be=oe.sourceLayer,Xe=this.sourceCaches[xe];if(Xe===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+xe+"' does not exist in the map's style.")));return}var lt=Xe.getSource().type;if(lt==="vector"&&!Be){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return oe.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(Be,oe.id)},$.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},$.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(oe){return oe.serialize()}),layers:this._serializeLayers(this._order)},function(oe){return oe!==void 0})},$.prototype._updateLayer=function(oe){this._updatedLayers[oe.id]=!0,oe.source&&!this._updatedSources[oe.source]&&this.sourceCaches[oe.source].getSource().type!=="raster"&&(this._updatedSources[oe.source]="reload",this.sourceCaches[oe.source].pause()),this._changed=!0},$.prototype._flattenAndSortRenderedFeatures=function(oe){for(var xe=this,Be=function(Fa){return xe._layers[Fa].type==="fill-extrusion"},Xe={},lt=[],xt=this._order.length-1;xt>=0;xt--){var Nt=this._order[xt];if(Be(Nt)){Xe[Nt]=xt;for(var Qt=0,fr=oe;Qt<fr.length;Qt+=1){var mr=fr[Qt],_r=mr[Nt];if(_r)for(var Wr=0,Yr=_r;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr];lt.push(Vr)}}}}lt.sort(function(Fa,Ga){return Ga.intersectionZ-Fa.intersectionZ});for(var $r=[],ln=this._order.length-1;ln>=0;ln--){var En=this._order[ln];if(Be(En))for(var zn=lt.length-1;zn>=0;zn--){var jn=lt[zn].feature;if(Xe[jn.layer.id]<ln)break;$r.push(jn),lt.pop()}else for(var Xn=0,Zn=oe;Xn<Zn.length;Xn+=1){var aa=Zn[Xn],va=aa[En];if(va)for(var ha=0,ma=va;ha<ma.length;ha+=1){var Aa=ma[ha];$r.push(Aa.feature)}}}return $r},$.prototype.queryRenderedFeatures=function(oe,xe,Be){xe&&xe.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",xe.filter,null,xe);var Xe={};if(xe&&xe.layers){if(!Array.isArray(xe.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var lt=0,xt=xe.layers;lt<xt.length;lt+=1){var Nt=xt[lt],Qt=this._layers[Nt];if(!Qt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Nt+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[Qt.source]=!0}}var fr=[];xe.availableImages=this._availableImages;for(var mr in this.sourceCaches)xe.layers&&!Xe[mr]||fr.push(Y(this.sourceCaches[mr],this._layers,this._serializedLayers,oe,xe,Be));return this.placement&&fr.push(Z(this._layers,this._serializedLayers,this.sourceCaches,oe,xe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(fr)},$.prototype.querySourceFeatures=function(oe,xe){xe&&xe.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",xe.filter,null,xe);var Be=this.sourceCaches[oe];return Be?ie(Be,xe):[]},$.prototype.addSourceType=function(oe,xe,Be){if($.getSourceType(oe))return Be(new Error('A source type called "'+oe+'" already exists.'));if($.setSourceType(oe,xe),!xe.workerSourceURL)return Be(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:oe,url:xe.workerSourceURL},Be)},$.prototype.getLight=function(){return this.light.getLight()},$.prototype.setLight=function(oe,xe){xe===void 0&&(xe={}),this._checkLoaded();var Be=this.light.getLight(),Xe=!1;for(var lt in oe)if(!a.deepEqual(oe[lt],Be[lt])){Xe=!0;break}if(Xe){var xt={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(oe,xe),this.light.updateTransitions(xt)}},$.prototype._validate=function(oe,xe,Be,Xe,lt){return lt===void 0&&(lt={}),lt&&lt.validate===!1?!1:la(this,oe.call(a.validateStyle,a.extend({key:xe,style:this.serialize(),value:Be,styleSpec:a.styleSpec},Xe)))},$.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var oe in this._layers){var xe=this._layers[oe];xe.setEventedParent(null)}for(var Be in this.sourceCaches)this.sourceCaches[Be].clearTiles(),this.sourceCaches[Be].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},$.prototype._clearSource=function(oe){this.sourceCaches[oe].clearTiles()},$.prototype._reloadSource=function(oe){this.sourceCaches[oe].resume(),this.sourceCaches[oe].reload()},$.prototype._updateSources=function(oe){for(var xe in this.sourceCaches)this.sourceCaches[xe].update(oe)},$.prototype._generateCollisionBoxes=function(){for(var oe in this.sourceCaches)this._reloadSource(oe)},$.prototype._updatePlacement=function(oe,xe,Be,Xe,lt){lt===void 0&&(lt=!1);for(var xt=!1,Nt=!1,Qt={},fr=0,mr=this._order;fr<mr.length;fr+=1){var _r=mr[fr],Wr=this._layers[_r];if(Wr.type==="symbol"){if(!Qt[Wr.source]){var Yr=this.sourceCaches[Wr.source];Qt[Wr.source]=Yr.getRenderableIds(!0).map(function(Xn){return Yr.getTileByID(Xn)}).sort(function(Xn,Zn){return Zn.tileID.overscaledZ-Xn.tileID.overscaledZ||(Xn.tileID.isLessThan(Zn.tileID)?-1:1)})}var Vr=this.crossTileSymbolIndex.addLayer(Wr,Qt[Wr.source],oe.center.lng);xt=xt||Vr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),lt=lt||this._layerOrderChanged||Be===0,(lt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),oe.zoom))&&(this.pauseablePlacement=new Yn(oe,this._order,lt,xe,Be,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Nt=!0),xt&&this.pauseablePlacement.placement.setStale()),Nt||xt)for(var $r=0,ln=this._order;$r<ln.length;$r+=1){var En=ln[$r],zn=this._layers[En];zn.type==="symbol"&&this.placement.updateLayerOpacities(zn,Qt[zn.source])}var jn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return jn},$.prototype._releaseSymbolFadeTiles=function(){for(var oe in this.sourceCaches)this.sourceCaches[oe].releaseSymbolFadeTiles()},$.prototype.getImages=function(oe,xe,Be){this.imageManager.getImages(xe.icons,Be),this._updateTilesForChangedImages();var Xe=this.sourceCaches[xe.source];Xe&&Xe.setDependencies(xe.tileID.key,xe.type,xe.icons)},$.prototype.getGlyphs=function(oe,xe,Be){this.glyphManager.getGlyphs(xe.stacks,Be)},$.prototype.getResource=function(oe,xe,Be){return a.makeRequest(xe,Be)},$}(a.Evented);xo.getSourceType=Q,xo.setSourceType=X,xo.registerForPluginStateChange=a.registerForPluginStateChange;var Eo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),bo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,hf=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,ti=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Il=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$i="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Co=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tc=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,au="void main() {gl_FragColor=vec4(1.0);}",Di="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",iu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_o=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,ji=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,zo="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",po="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Go="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",hs="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Ps="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",ro="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",rc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",vs=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,no=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,vf=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rs=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ds=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,df=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,pf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,ou=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ah=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,ih=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,oh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,gf=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",lh=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",uh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fh=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,yf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fl=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,cl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kl=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Fu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ch=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ds=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ac="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",mf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hh=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Wo=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,su=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ps=pi(bo,hf),Is=pi(ti,nu),xf=pi(Il,$i),_l=pi(Co,tc),js=pi(au,Di),zi=pi(iu,_o),bf=pi(ji,zo),_u=pi(po,Go),zl=pi(hs,Ps),ic=pi(ro,rc),oc=pi(vs,no),Ol=pi(vf,Rs),Bl=pi(ds,df),qi=pi(pf,nh),zu=pi(ou,ah),vh=pi(ih,oh),wf=pi(gf,sh),dh=pi(lh,nc),Ou=pi(uh,fh),lu=pi(yf,fl),Tf=pi(cl,kl),Af=pi(Fu,ch),uu=pi(Ds,ac),Mf=pi(mf,hh),Bu=pi(Wo,hl),Sf=pi(su,Fl);function pi(ge,$){var me=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,oe={};return ge=ge.replace(me,function(xe,Be,Xe,lt,xt){return oe[xt]=!0,Be==="define"?`
#ifndef HAS_UNIFORM_u_`+xt+`
varying `+Xe+" "+lt+" "+xt+`;
#else
uniform `+Xe+" "+lt+" u_"+xt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+xt+`
    `+Xe+" "+lt+" "+xt+" = u_"+xt+`;
#endif
`}),$=$.replace(me,function(xe,Be,Xe,lt,xt){var Nt=lt==="float"?"vec2":"vec4",Qt=xt.match(/color/)?"color":Nt;return oe[xt]?Be==="define"?`
#ifndef HAS_UNIFORM_u_`+xt+`
uniform lowp float u_`+xt+`_t;
attribute `+Xe+" "+Nt+" a_"+xt+`;
varying `+Xe+" "+lt+" "+xt+`;
#else
uniform `+Xe+" "+lt+" u_"+xt+`;
#endif
`:Qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+xt+`
    `+xt+" = a_"+xt+`;
#else
    `+Xe+" "+lt+" "+xt+" = u_"+xt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+xt+`
    `+xt+" = unpack_mix_"+Qt+"(a_"+xt+", u_"+xt+`_t);
#else
    `+Xe+" "+lt+" "+xt+" = u_"+xt+`;
#endif
`:Be==="define"?`
#ifndef HAS_UNIFORM_u_`+xt+`
uniform lowp float u_`+xt+`_t;
attribute `+Xe+" "+Nt+" a_"+xt+`;
#else
uniform `+Xe+" "+lt+" u_"+xt+`;
#endif
`:Qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+xt+`
    `+Xe+" "+lt+" "+xt+" = a_"+xt+`;
#else
    `+Xe+" "+lt+" "+xt+" = u_"+xt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+xt+`
    `+Xe+" "+lt+" "+xt+" = unpack_mix_"+Qt+"(a_"+xt+", u_"+xt+`_t);
#else
    `+Xe+" "+lt+" "+xt+" = u_"+xt+`;
#endif
`}),{fragmentSource:ge,vertexSource:$}}var sc=Object.freeze({__proto__:null,prelude:ps,background:Is,backgroundPattern:xf,circle:_l,clippingMask:js,heatmap:zi,heatmapTexture:bf,collisionBox:_u,collisionCircle:zl,debug:ic,fill:oc,fillOutline:Ol,fillOutlinePattern:Bl,fillPattern:qi,fillExtrusion:zu,fillExtrusionPattern:vh,hillshadePrepare:wf,hillshade:dh,line:Ou,lineGradient:lu,linePattern:Tf,lineSDF:Af,raster:uu,symbolIcon:Mf,symbolSDF:Bu,symbolTextAndIcon:Sf}),es=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};es.prototype.bind=function($,me,oe,xe,Be,Xe,lt,xt){this.context=$;for(var Nt=this.boundPaintVertexBuffers.length!==xe.length,Qt=0;!Nt&&Qt<xe.length;Qt++)this.boundPaintVertexBuffers[Qt]!==xe[Qt]&&(Nt=!0);var fr=!this.vao||this.boundProgram!==me||this.boundLayoutVertexBuffer!==oe||Nt||this.boundIndexBuffer!==Be||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==lt||this.boundDynamicVertexBuffer2!==xt;!$.extVertexArrayObject||fr?this.freshBind(me,oe,xe,Be,Xe,lt,xt):($.bindVertexArrayOES.set(this.vao),lt&&lt.bind(),Be&&Be.dynamicDraw&&Be.bind(),xt&&xt.bind())},es.prototype.freshBind=function($,me,oe,xe,Be,Xe,lt){var xt,Nt=$.numAttributes,Qt=this.context,fr=Qt.gl;if(Qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Qt.extVertexArrayObject.createVertexArrayOES(),Qt.bindVertexArrayOES.set(this.vao),xt=0,this.boundProgram=$,this.boundLayoutVertexBuffer=me,this.boundPaintVertexBuffers=oe,this.boundIndexBuffer=xe,this.boundVertexOffset=Be,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=lt;else{xt=Qt.currentNumAttributes||0;for(var mr=Nt;mr<xt;mr++)fr.disableVertexAttribArray(mr)}me.enableAttributes(fr,$);for(var _r=0,Wr=oe;_r<Wr.length;_r+=1){var Yr=Wr[_r];Yr.enableAttributes(fr,$)}Xe&&Xe.enableAttributes(fr,$),lt&&lt.enableAttributes(fr,$),me.bind(),me.setVertexAttribPointers(fr,$,Be);for(var Vr=0,$r=oe;Vr<$r.length;Vr+=1){var ln=$r[Vr];ln.bind(),ln.setVertexAttribPointers(fr,$,Be)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(fr,$,Be)),xe&&xe.bind(),lt&&(lt.bind(),lt.setVertexAttribPointers(fr,$,Be)),Qt.currentNumAttributes=Nt},es.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Nl=function($,me,oe,xe,Be){var Xe=$.gl;this.program=Xe.createProgram();var lt=oe?oe.defines():[];Be&&lt.push("#define OVERDRAW_INSPECTOR;");var xt=lt.concat(ps.fragmentSource,me.fragmentSource).join(`
`),Nt=lt.concat(ps.vertexSource,me.vertexSource).join(`
`),Qt=Xe.createShader(Xe.FRAGMENT_SHADER);if(Xe.isContextLost()){this.failedToCreate=!0;return}Xe.shaderSource(Qt,xt),Xe.compileShader(Qt),Xe.attachShader(this.program,Qt);var fr=Xe.createShader(Xe.VERTEX_SHADER);if(Xe.isContextLost()){this.failedToCreate=!0;return}Xe.shaderSource(fr,Nt),Xe.compileShader(fr),Xe.attachShader(this.program,fr);for(var mr=oe?oe.layoutAttributes:[],_r=0;_r<mr.length;_r++)Xe.bindAttribLocation(this.program,_r,mr[_r].name);Xe.linkProgram(this.program),Xe.deleteShader(fr),Xe.deleteShader(Qt),this.numAttributes=Xe.getProgramParameter(this.program,Xe.ACTIVE_ATTRIBUTES),this.attributes={};for(var Wr={},Yr=0;Yr<this.numAttributes;Yr++){var Vr=Xe.getActiveAttrib(this.program,Yr);Vr&&(this.attributes[Vr.name]=Xe.getAttribLocation(this.program,Vr.name))}for(var $r=Xe.getProgramParameter(this.program,Xe.ACTIVE_UNIFORMS),ln=0;ln<$r;ln++){var En=Xe.getActiveUniform(this.program,ln);En&&(Wr[En.name]=Xe.getUniformLocation(this.program,En.name))}this.fixedUniforms=xe($,Wr),this.binderUniforms=oe?oe.getUniforms($,Wr):[]};Nl.prototype.draw=function($,me,oe,xe,Be,Xe,lt,xt,Nt,Qt,fr,mr,_r,Wr,Yr,Vr){var $r,ln=$.gl;if(!this.failedToCreate){$.program.set(this.program),$.setDepthMode(oe),$.setStencilMode(xe),$.setColorMode(Be),$.setCullFace(Xe);for(var En in this.fixedUniforms)this.fixedUniforms[En].set(lt[En]);Wr&&Wr.setUniforms($,this.binderUniforms,mr,{zoom:_r});for(var zn=($r={},$r[ln.LINES]=2,$r[ln.TRIANGLES]=3,$r[ln.LINE_STRIP]=1,$r)[me],jn=0,Xn=fr.get();jn<Xn.length;jn+=1){var Zn=Xn[jn],aa=Zn.vaos||(Zn.vaos={}),va=aa[xt]||(aa[xt]=new es);va.bind($,this,Nt,Wr?Wr.getPaintVertexBuffers():[],Qt,Zn.vertexOffset,Yr,Vr),ln.drawElements(me,Zn.primitiveLength*zn,ln.UNSIGNED_SHORT,Zn.primitiveOffset*zn*2)}}};function vl(ge,$,me){var oe=1/yn(me,1,$.transform.tileZoom),xe=Math.pow(2,me.tileID.overscaledZ),Be=me.tileSize*Math.pow(2,$.transform.tileZoom)/xe,Xe=Be*(me.tileID.canonical.x+me.tileID.wrap*xe),lt=Be*me.tileID.canonical.y;return{u_image:0,u_texsize:me.imageAtlasTexture.size,u_scale:[oe,ge.fromScale,ge.toScale],u_fade:ge.t,u_pixel_coord_upper:[Xe>>16,lt>>16],u_pixel_coord_lower:[Xe&65535,lt&65535]}}function Ef(ge,$,me,oe){var xe=me.imageManager.getPattern(ge.from.toString()),Be=me.imageManager.getPattern(ge.to.toString()),Xe=me.imageManager.getPixelSize(),lt=Xe.width,xt=Xe.height,Nt=Math.pow(2,oe.tileID.overscaledZ),Qt=oe.tileSize*Math.pow(2,me.transform.tileZoom)/Nt,fr=Qt*(oe.tileID.canonical.x+oe.tileID.wrap*Nt),mr=Qt*oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:xe.tl,u_pattern_br_a:xe.br,u_pattern_tl_b:Be.tl,u_pattern_br_b:Be.br,u_texsize:[lt,xt],u_mix:$.t,u_pattern_size_a:xe.displaySize,u_pattern_size_b:Be.displaySize,u_scale_a:$.fromScale,u_scale_b:$.toScale,u_tile_units_to_pixels:1/yn(oe,1,me.transform.tileZoom),u_pixel_coord_upper:[fr>>16,mr>>16],u_pixel_coord_lower:[fr&65535,mr&65535]}}var Ni=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_lightpos:new a.Uniform3f(ge,$.u_lightpos),u_lightintensity:new a.Uniform1f(ge,$.u_lightintensity),u_lightcolor:new a.Uniform3f(ge,$.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ge,$.u_vertical_gradient),u_opacity:new a.Uniform1f(ge,$.u_opacity)}},fu=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_lightpos:new a.Uniform3f(ge,$.u_lightpos),u_lightintensity:new a.Uniform1f(ge,$.u_lightintensity),u_lightcolor:new a.Uniform3f(ge,$.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ge,$.u_vertical_gradient),u_height_factor:new a.Uniform1f(ge,$.u_height_factor),u_image:new a.Uniform1i(ge,$.u_image),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ge,$.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ge,$.u_pixel_coord_lower),u_scale:new a.Uniform3f(ge,$.u_scale),u_fade:new a.Uniform1f(ge,$.u_fade),u_opacity:new a.Uniform1f(ge,$.u_opacity)}},Lo=function(ge,$,me,oe){var xe=$.style.light,Be=xe.properties.get("position"),Xe=[Be.x,Be.y,Be.z],lt=a.create$1();xe.properties.get("anchor")==="viewport"&&a.fromRotation(lt,-$.transform.angle),a.transformMat3(Xe,Xe,lt);var xt=xe.properties.get("color");return{u_matrix:ge,u_lightpos:Xe,u_lightintensity:xe.properties.get("intensity"),u_lightcolor:[xt.r,xt.g,xt.b],u_vertical_gradient:+me,u_opacity:oe}},ks=function(ge,$,me,oe,xe,Be,Xe){return a.extend(Lo(ge,$,me,oe),vl(Be,$,Xe),{u_height_factor:-Math.pow(2,xe.overscaledZ)/Xe.tileSize/8})},Fs=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix)}},Zs=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_image:new a.Uniform1i(ge,$.u_image),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ge,$.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ge,$.u_pixel_coord_lower),u_scale:new a.Uniform3f(ge,$.u_scale),u_fade:new a.Uniform1f(ge,$.u_fade)}},Xs=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_world:new a.Uniform2f(ge,$.u_world)}},Ks=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_world:new a.Uniform2f(ge,$.u_world),u_image:new a.Uniform1i(ge,$.u_image),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ge,$.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ge,$.u_pixel_coord_lower),u_scale:new a.Uniform3f(ge,$.u_scale),u_fade:new a.Uniform1f(ge,$.u_fade)}},ts=function(ge){return{u_matrix:ge}},gs=function(ge,$,me,oe){return a.extend(ts(ge),vl(me,$,oe))},cu=function(ge,$){return{u_matrix:ge,u_world:$}},hu=function(ge,$,me,oe,xe){return a.extend(gs(ge,$,me,oe),{u_world:xe})},Nu=function(ge,$){return{u_camera_to_center_distance:new a.Uniform1f(ge,$.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(ge,$.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(ge,$.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(ge,$.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(ge,$.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(ge,$.u_matrix)}},ph=function(ge,$,me,oe){var xe=ge.transform,Be,Xe;if(oe.paint.get("circle-pitch-alignment")==="map"){var lt=yn(me,1,xe.zoom);Be=!0,Xe=[lt,lt]}else Be=!1,Xe=xe.pixelsToGLUnits;return{u_camera_to_center_distance:xe.cameraToCenterDistance,u_scale_with_map:+(oe.paint.get("circle-pitch-scale")==="map"),u_matrix:ge.translatePosMatrix($.posMatrix,me,oe.paint.get("circle-translate"),oe.paint.get("circle-translate-anchor")),u_pitch_with_map:+Be,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Xe}},gh=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_camera_to_center_distance:new a.Uniform1f(ge,$.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(ge,$.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(ge,$.u_extrude_scale),u_overscale_factor:new a.Uniform1f(ge,$.u_overscale_factor)}},yh=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_inv_matrix:new a.UniformMatrix4f(ge,$.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(ge,$.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(ge,$.u_viewport_size)}},mh=function(ge,$,me){var oe=yn(me,1,$.zoom),xe=Math.pow(2,$.zoom-me.tileID.overscaledZ),Be=me.tileID.overscaleFactor();return{u_matrix:ge,u_camera_to_center_distance:$.cameraToCenterDistance,u_pixels_to_tile_units:oe,u_extrude_scale:[$.pixelsToGLUnits[0]/(oe*xe),$.pixelsToGLUnits[1]/(oe*xe)],u_overscale_factor:Be}},Uu=function(ge,$,me){return{u_matrix:ge,u_inv_matrix:$,u_camera_to_center_distance:me.cameraToCenterDistance,u_viewport_size:[me.width,me.height]}},lc=function(ge,$){return{u_color:new a.UniformColor(ge,$.u_color),u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_overlay:new a.Uniform1i(ge,$.u_overlay),u_overlay_scale:new a.Uniform1f(ge,$.u_overlay_scale)}},Ul=function(ge,$,me){return me===void 0&&(me=1),{u_matrix:ge,u_color:$,u_overlay:0,u_overlay_scale:me}},ao=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix)}},Po=function(ge){return{u_matrix:ge}},vu=function(ge,$){return{u_extrude_scale:new a.Uniform1f(ge,$.u_extrude_scale),u_intensity:new a.Uniform1f(ge,$.u_intensity),u_matrix:new a.UniformMatrix4f(ge,$.u_matrix)}},dl=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_world:new a.Uniform2f(ge,$.u_world),u_image:new a.Uniform1i(ge,$.u_image),u_color_ramp:new a.Uniform1i(ge,$.u_color_ramp),u_opacity:new a.Uniform1f(ge,$.u_opacity)}},du=function(ge,$,me,oe){return{u_matrix:ge,u_extrude_scale:yn($,1,me),u_intensity:oe}},Hu=function(ge,$,me,oe){var xe=a.create();a.ortho(xe,0,ge.width,ge.height,0,0,1);var Be=ge.context.gl;return{u_matrix:xe,u_world:[Be.drawingBufferWidth,Be.drawingBufferHeight],u_image:me,u_color_ramp:oe,u_opacity:$.paint.get("heatmap-opacity")}},xh=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_image:new a.Uniform1i(ge,$.u_image),u_latrange:new a.Uniform2f(ge,$.u_latrange),u_light:new a.Uniform2f(ge,$.u_light),u_shadow:new a.UniformColor(ge,$.u_shadow),u_highlight:new a.UniformColor(ge,$.u_highlight),u_accent:new a.UniformColor(ge,$.u_accent)}},uc=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_image:new a.Uniform1i(ge,$.u_image),u_dimension:new a.Uniform2f(ge,$.u_dimension),u_zoom:new a.Uniform1f(ge,$.u_zoom),u_maxzoom:new a.Uniform1f(ge,$.u_maxzoom),u_unpack:new a.Uniform4f(ge,$.u_unpack)}},fc=function(ge,$,me){var oe=me.paint.get("hillshade-shadow-color"),xe=me.paint.get("hillshade-highlight-color"),Be=me.paint.get("hillshade-accent-color"),Xe=me.paint.get("hillshade-illumination-direction")*(Math.PI/180);me.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=ge.transform.angle);var lt=!ge.options.moving;return{u_matrix:ge.transform.calculatePosMatrix($.tileID.toUnwrapped(),lt),u_image:0,u_latrange:Js(ge,$.tileID),u_light:[me.paint.get("hillshade-exaggeration"),Xe],u_shadow:oe,u_highlight:xe,u_accent:Be}},Cf=function(ge,$,me){var oe=$.stride,xe=a.create();return a.ortho(xe,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(xe,xe,[0,-a.EXTENT,0]),{u_matrix:xe,u_image:1,u_dimension:[oe,oe],u_zoom:ge.overscaledZ,u_maxzoom:me,u_unpack:$.getUnpackVector()}};function Js(ge,$){var me=Math.pow(2,$.canonical.z),oe=$.canonical.y;return[new a.MercatorCoordinate(0,oe/me).toLngLat().lat,new a.MercatorCoordinate(0,(oe+1)/me).toLngLat().lat]}var Ui=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_ratio:new a.Uniform1f(ge,$.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ge,$.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ge,$.u_units_to_pixels)}},ys=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_ratio:new a.Uniform1f(ge,$.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ge,$.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ge,$.u_units_to_pixels),u_image:new a.Uniform1i(ge,$.u_image)}},Lf=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_ratio:new a.Uniform1f(ge,$.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ge,$.u_device_pixel_ratio),u_image:new a.Uniform1i(ge,$.u_image),u_units_to_pixels:new a.Uniform2f(ge,$.u_units_to_pixels),u_scale:new a.Uniform3f(ge,$.u_scale),u_fade:new a.Uniform1f(ge,$.u_fade)}},cc=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_ratio:new a.Uniform1f(ge,$.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ge,$.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ge,$.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(ge,$.u_patternscale_a),u_patternscale_b:new a.Uniform2f(ge,$.u_patternscale_b),u_sdfgamma:new a.Uniform1f(ge,$.u_sdfgamma),u_image:new a.Uniform1i(ge,$.u_image),u_tex_y_a:new a.Uniform1f(ge,$.u_tex_y_a),u_tex_y_b:new a.Uniform1f(ge,$.u_tex_y_b),u_mix:new a.Uniform1f(ge,$.u_mix)}},pl=function(ge,$,me){var oe=ge.transform;return{u_matrix:zs(ge,$,me),u_ratio:1/yn($,1,oe.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/oe.pixelsToGLUnits[0],1/oe.pixelsToGLUnits[1]]}},Vu=function(ge,$,me){return a.extend(pl(ge,$,me),{u_image:0})},rs=function(ge,$,me,oe){var xe=ge.transform,Be=_s($,xe);return{u_matrix:zs(ge,$,me),u_texsize:$.imageAtlasTexture.size,u_ratio:1/yn($,1,xe.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Be,oe.fromScale,oe.toScale],u_fade:oe.t,u_units_to_pixels:[1/xe.pixelsToGLUnits[0],1/xe.pixelsToGLUnits[1]]}},Gu=function(ge,$,me,oe,xe){var Be=ge.transform,Xe=ge.lineAtlas,lt=_s($,Be),xt=me.layout.get("line-cap")==="round",Nt=Xe.getDash(oe.from,xt),Qt=Xe.getDash(oe.to,xt),fr=Nt.width*xe.fromScale,mr=Qt.width*xe.toScale;return a.extend(pl(ge,$,me),{u_patternscale_a:[lt/fr,-Nt.height/2],u_patternscale_b:[lt/mr,-Qt.height/2],u_sdfgamma:Xe.width/(Math.min(fr,mr)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Nt.y,u_tex_y_b:Qt.y,u_mix:xe.t})};function _s(ge,$){return 1/yn(ge,1,$.tileZoom)}function zs(ge,$,me){return ge.translatePosMatrix($.tileID.posMatrix,$,me.paint.get("line-translate"),me.paint.get("line-translate-anchor"))}var Pf=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_tl_parent:new a.Uniform2f(ge,$.u_tl_parent),u_scale_parent:new a.Uniform1f(ge,$.u_scale_parent),u_buffer_scale:new a.Uniform1f(ge,$.u_buffer_scale),u_fade_t:new a.Uniform1f(ge,$.u_fade_t),u_opacity:new a.Uniform1f(ge,$.u_opacity),u_image0:new a.Uniform1i(ge,$.u_image0),u_image1:new a.Uniform1i(ge,$.u_image1),u_brightness_low:new a.Uniform1f(ge,$.u_brightness_low),u_brightness_high:new a.Uniform1f(ge,$.u_brightness_high),u_saturation_factor:new a.Uniform1f(ge,$.u_saturation_factor),u_contrast_factor:new a.Uniform1f(ge,$.u_contrast_factor),u_spin_weights:new a.Uniform3f(ge,$.u_spin_weights)}},Hl=function(ge,$,me,oe,xe){return{u_matrix:ge,u_tl_parent:$,u_scale_parent:me,u_buffer_scale:1,u_fade_t:oe.mix,u_opacity:oe.opacity*xe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:xe.paint.get("raster-brightness-min"),u_brightness_high:xe.paint.get("raster-brightness-max"),u_saturation_factor:Wu(xe.paint.get("raster-saturation")),u_contrast_factor:yl(xe.paint.get("raster-contrast")),u_spin_weights:ui(xe.paint.get("raster-hue-rotate"))}};function ui(ge){ge*=Math.PI/180;var $=Math.sin(ge),me=Math.cos(ge);return[(2*me+1)/3,(-Math.sqrt(3)*$-me+1)/3,(Math.sqrt(3)*$-me+1)/3]}function yl(ge){return ge>0?1/(1-ge):1+ge}function Wu(ge){return ge>0?1-1/(1.001-ge):-ge}var Yu=function(ge,$){return{u_is_size_zoom_constant:new a.Uniform1i(ge,$.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ge,$.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ge,$.u_size_t),u_size:new a.Uniform1f(ge,$.u_size),u_camera_to_center_distance:new a.Uniform1f(ge,$.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ge,$.u_pitch),u_rotate_symbol:new a.Uniform1i(ge,$.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ge,$.u_aspect_ratio),u_fade_change:new a.Uniform1f(ge,$.u_fade_change),u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ge,$.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ge,$.u_coord_matrix),u_is_text:new a.Uniform1i(ge,$.u_is_text),u_pitch_with_map:new a.Uniform1i(ge,$.u_pitch_with_map),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_texture:new a.Uniform1i(ge,$.u_texture)}},Qs=function(ge,$){return{u_is_size_zoom_constant:new a.Uniform1i(ge,$.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ge,$.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ge,$.u_size_t),u_size:new a.Uniform1f(ge,$.u_size),u_camera_to_center_distance:new a.Uniform1f(ge,$.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ge,$.u_pitch),u_rotate_symbol:new a.Uniform1i(ge,$.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ge,$.u_aspect_ratio),u_fade_change:new a.Uniform1f(ge,$.u_fade_change),u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ge,$.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ge,$.u_coord_matrix),u_is_text:new a.Uniform1i(ge,$.u_is_text),u_pitch_with_map:new a.Uniform1i(ge,$.u_pitch_with_map),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_texture:new a.Uniform1i(ge,$.u_texture),u_gamma_scale:new a.Uniform1f(ge,$.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ge,$.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ge,$.u_is_halo)}},bh=function(ge,$){return{u_is_size_zoom_constant:new a.Uniform1i(ge,$.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ge,$.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ge,$.u_size_t),u_size:new a.Uniform1f(ge,$.u_size),u_camera_to_center_distance:new a.Uniform1f(ge,$.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ge,$.u_pitch),u_rotate_symbol:new a.Uniform1i(ge,$.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ge,$.u_aspect_ratio),u_fade_change:new a.Uniform1f(ge,$.u_fade_change),u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ge,$.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ge,$.u_coord_matrix),u_is_text:new a.Uniform1i(ge,$.u_is_text),u_pitch_with_map:new a.Uniform1i(ge,$.u_pitch_with_map),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_texsize_icon:new a.Uniform2f(ge,$.u_texsize_icon),u_texture:new a.Uniform1i(ge,$.u_texture),u_texture_icon:new a.Uniform1i(ge,$.u_texture_icon),u_gamma_scale:new a.Uniform1f(ge,$.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ge,$.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ge,$.u_is_halo)}},Rf=function(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt){var Qt=xe.transform;return{u_is_size_zoom_constant:+(ge==="constant"||ge==="source"),u_is_size_feature_constant:+(ge==="constant"||ge==="camera"),u_size_t:$?$.uSizeT:0,u_size:$?$.uSize:0,u_camera_to_center_distance:Qt.cameraToCenterDistance,u_pitch:Qt.pitch/360*2*Math.PI,u_rotate_symbol:+me,u_aspect_ratio:Qt.width/Qt.height,u_fade_change:xe.options.fadeDuration?xe.symbolFadeChange:1,u_matrix:Be,u_label_plane_matrix:Xe,u_coord_matrix:lt,u_is_text:+xt,u_pitch_with_map:+oe,u_texsize:Nt,u_texture:0}},Vl=function(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt,Qt){var fr=xe.transform;return a.extend(Rf(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt),{u_gamma_scale:oe?Math.cos(fr._pitch)*fr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Qt})},Df=function(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt){return a.extend(Vl(ge,$,me,oe,xe,Be,Xe,lt,!0,xt,!0),{u_texsize_icon:Nt,u_texture_icon:1})},hc=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_opacity:new a.Uniform1f(ge,$.u_opacity),u_color:new a.UniformColor(ge,$.u_color)}},Os=function(ge,$){return{u_matrix:new a.UniformMatrix4f(ge,$.u_matrix),u_opacity:new a.Uniform1f(ge,$.u_opacity),u_image:new a.Uniform1i(ge,$.u_image),u_pattern_tl_a:new a.Uniform2f(ge,$.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(ge,$.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(ge,$.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(ge,$.u_pattern_br_b),u_texsize:new a.Uniform2f(ge,$.u_texsize),u_mix:new a.Uniform1f(ge,$.u_mix),u_pattern_size_a:new a.Uniform2f(ge,$.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(ge,$.u_pattern_size_b),u_scale_a:new a.Uniform1f(ge,$.u_scale_a),u_scale_b:new a.Uniform1f(ge,$.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(ge,$.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ge,$.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(ge,$.u_tile_units_to_pixels)}},$s=function(ge,$,me){return{u_matrix:ge,u_opacity:$,u_color:me}},ml=function(ge,$,me,oe,xe,Be){return a.extend(Ef(oe,Be,me,xe),{u_matrix:ge,u_opacity:$})},xl={fillExtrusion:Ni,fillExtrusionPattern:fu,fill:Fs,fillPattern:Zs,fillOutline:Xs,fillOutlinePattern:Ks,circle:Nu,collisionBox:gh,collisionCircle:yh,debug:lc,clippingMask:ao,heatmap:vu,heatmapTexture:dl,hillshade:xh,hillshadePrepare:uc,line:Ui,lineGradient:ys,linePattern:Lf,lineSDF:cc,raster:Pf,symbolIcon:Yu,symbolSDF:Qs,symbolTextAndIcon:bh,background:hc,backgroundPattern:Os},Ro;function Oo(ge,$,me,oe,xe,Be,Xe){for(var lt=ge.context,xt=lt.gl,Nt=ge.useProgram("collisionBox"),Qt=[],fr=0,mr=0,_r=0;_r<oe.length;_r++){var Wr=oe[_r],Yr=$.getTile(Wr),Vr=Yr.getBucket(me);if(Vr){var $r=Wr.posMatrix;(xe[0]!==0||xe[1]!==0)&&($r=ge.translatePosMatrix(Wr.posMatrix,Yr,xe,Be));var ln=Xe?Vr.textCollisionBox:Vr.iconCollisionBox,En=Vr.collisionCircleArray;if(En.length>0){var zn=a.create(),jn=$r;a.mul(zn,Vr.placementInvProjMatrix,ge.transform.glCoordMatrix),a.mul(zn,zn,Vr.placementViewportMatrix),Qt.push({circleArray:En,circleOffset:mr,transform:jn,invTransform:zn}),fr+=En.length/4,mr=fr}ln&&Nt.draw(lt,xt.LINES,zr.disabled,jt.disabled,ge.colorModeForRenderPass(),Ct.disabled,mh($r,ge.transform,Yr),me.id,ln.layoutVertexBuffer,ln.indexBuffer,ln.segments,null,ge.transform.zoom,null,null,ln.collisionVertexBuffer)}}if(!(!Xe||!Qt.length)){var Xn=ge.useProgram("collisionCircle"),Zn=new a.StructArrayLayout2f1f2i16;Zn.resize(fr*4),Zn._trim();for(var aa=0,va=0,ha=Qt;va<ha.length;va+=1)for(var ma=ha[va],Aa=0;Aa<ma.circleArray.length/4;Aa++){var Fa=Aa*4,Ga=ma.circleArray[Fa+0],si=ma.circleArray[Fa+1],Ya=ma.circleArray[Fa+2],Ja=ma.circleArray[Fa+3];Zn.emplace(aa++,Ga,si,Ya,Ja,0),Zn.emplace(aa++,Ga,si,Ya,Ja,1),Zn.emplace(aa++,Ga,si,Ya,Ja,2),Zn.emplace(aa++,Ga,si,Ya,Ja,3)}(!Ro||Ro.length<fr*2)&&(Ro=bl(fr));for(var Ra=lt.createIndexBuffer(Ro,!0),li=lt.createVertexBuffer(Zn,a.collisionCircleLayout.members,!0),ci=0,vi=Qt;ci<vi.length;ci+=1){var Qa=vi[ci],Ai=Uu(Qa.transform,Qa.invTransform,ge.transform);Xn.draw(lt,xt.TRIANGLES,zr.disabled,jt.disabled,ge.colorModeForRenderPass(),Ct.disabled,Ai,me.id,li,Ra,a.SegmentVector.simpleSegment(0,Qa.circleOffset*2,Qa.circleArray.length,Qa.circleArray.length/2),null,ge.transform.zoom,null,null,null)}li.destroy(),Ra.destroy()}}function bl(ge){var $=ge*2,me=new a.StructArrayLayout3ui6;me.resize($),me._trim();for(var oe=0;oe<$;oe++){var xe=oe*6;me.uint16[xe+0]=oe*4+0,me.uint16[xe+1]=oe*4+1,me.uint16[xe+2]=oe*4+2,me.uint16[xe+3]=oe*4+2,me.uint16[xe+4]=oe*4+3,me.uint16[xe+5]=oe*4+0}return me}var vc=a.identity(new Float32Array(16));function Gl(ge,$,me,oe,xe){if(ge.renderPass==="translucent"){var Be=jt.disabled,Xe=ge.colorModeForRenderPass(),lt=me.layout.get("text-variable-anchor");lt&&dc(oe,ge,me,$,me.layout.get("text-rotation-alignment"),me.layout.get("text-pitch-alignment"),xe),me.paint.get("icon-opacity").constantOr(1)!==0&&qs(ge,$,me,oe,!1,me.paint.get("icon-translate"),me.paint.get("icon-translate-anchor"),me.layout.get("icon-rotation-alignment"),me.layout.get("icon-pitch-alignment"),me.layout.get("icon-keep-upright"),Be,Xe),me.paint.get("text-opacity").constantOr(1)!==0&&qs(ge,$,me,oe,!0,me.paint.get("text-translate"),me.paint.get("text-translate-anchor"),me.layout.get("text-rotation-alignment"),me.layout.get("text-pitch-alignment"),me.layout.get("text-keep-upright"),Be,Xe),$.map.showCollisionBoxes&&(Oo(ge,$,me,oe,me.paint.get("text-translate"),me.paint.get("text-translate-anchor"),!0),Oo(ge,$,me,oe,me.paint.get("icon-translate"),me.paint.get("icon-translate-anchor"),!1))}}function ju(ge,$,me,oe,xe,Be){var Xe=a.getAnchorAlignment(ge),lt=Xe.horizontalAlign,xt=Xe.verticalAlign,Nt=-(lt-.5)*$,Qt=-(xt-.5)*me,fr=a.evaluateVariableOffset(ge,oe);return new a.Point((Nt/xe+fr[0])*Be,(Qt/xe+fr[1])*Be)}function dc(ge,$,me,oe,xe,Be,Xe){for(var lt=$.transform,xt=xe==="map",Nt=Be==="map",Qt=0,fr=ge;Qt<fr.length;Qt+=1){var mr=fr[Qt],_r=oe.getTile(mr),Wr=_r.getBucket(me);if(!(!Wr||!Wr.text||!Wr.text.segments.get().length)){var Yr=Wr.textSizeData,Vr=a.evaluateSizeForZoom(Yr,lt.zoom),$r=yn(_r,1,$.transform.zoom),ln=Mr(mr.posMatrix,Nt,xt,$.transform,$r),En=me.layout.get("icon-text-fit")!=="none"&&Wr.hasIconData();if(Vr){var zn=Math.pow(2,lt.zoom-_r.tileID.overscaledZ);ns(Wr,xt,Nt,Xe,a.symbolSize,lt,ln,mr.posMatrix,zn,Vr,En)}}}}function ns(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt,Qt){var fr=ge.text.placedSymbolArray,mr=ge.text.dynamicLayoutVertexArray,_r=ge.icon.dynamicLayoutVertexArray,Wr={};mr.clear();for(var Yr=0;Yr<fr.length;Yr++){var Vr=fr.get(Yr),$r=ge.allowVerticalPlacement&&!Vr.placedOrientation,ln=!Vr.hidden&&Vr.crossTileID&&!$r?oe[Vr.crossTileID]:null;if(!ln)ra(Vr.numGlyphs,mr);else{var En=new a.Point(Vr.anchorX,Vr.anchorY),zn=Nr(En,me?lt:Xe),jn=en(Be.cameraToCenterDistance,zn.signedDistanceFromCamera),Xn=xe.evaluateSizeForFeature(ge.textSizeData,Nt,Vr)*jn/a.ONE_EM;me&&(Xn*=ge.tilePixelRatio/xt);for(var Zn=ln.width,aa=ln.height,va=ln.anchor,ha=ln.textOffset,ma=ln.textBoxScale,Aa=ju(va,Zn,aa,ha,ma,Xn),Fa=me?Nr(En.add(Aa),Xe).point:zn.point.add($?Aa.rotate(-Be.angle):Aa),Ga=ge.allowVerticalPlacement&&Vr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,si=0;si<Vr.numGlyphs;si++)a.addDynamicAttributes(mr,Fa,Ga);Qt&&Vr.associatedIconIndex>=0&&(Wr[Vr.associatedIconIndex]={shiftedAnchor:Fa,angle:Ga})}}if(Qt){_r.clear();for(var Ya=ge.icon.placedSymbolArray,Ja=0;Ja<Ya.length;Ja++){var Ra=Ya.get(Ja);if(Ra.hidden)ra(Ra.numGlyphs,_r);else{var li=Wr[Ja];if(!li)ra(Ra.numGlyphs,_r);else for(var ci=0;ci<Ra.numGlyphs;ci++)a.addDynamicAttributes(_r,li.shiftedAnchor,li.angle)}}ge.icon.dynamicLayoutVertexBuffer.updateData(_r)}ge.text.dynamicLayoutVertexBuffer.updateData(mr)}function If(ge,$,me){return me.iconsInText&&$?"symbolTextAndIcon":ge?"symbolSDF":"symbolIcon"}function qs(ge,$,me,oe,xe,Be,Xe,lt,xt,Nt,Qt,fr){for(var mr=ge.context,_r=mr.gl,Wr=ge.transform,Yr=lt==="map",Vr=xt==="map",$r=Yr&&me.layout.get("symbol-placement")!=="point",ln=Yr&&!Vr&&!$r,En=me.layout.get("symbol-sort-key").constantOr(1)!==void 0,zn=ge.depthModeForSublayer(0,zr.ReadOnly),jn=me.layout.get("text-variable-anchor"),Xn=[],Zn=0,aa=oe;Zn<aa.length;Zn+=1){var va=aa[Zn],ha=$.getTile(va),ma=ha.getBucket(me);if(ma){var Aa=xe?ma.text:ma.icon;if(!(!Aa||!Aa.segments.get().length)){var Fa=Aa.programConfigurations.get(me.id),Ga=xe||ma.sdfIcons,si=xe?ma.textSizeData:ma.iconSizeData,Ya=Vr||Wr.pitch!==0,Ja=ge.useProgram(If(Ga,xe,ma),Fa),Ra=a.evaluateSizeForZoom(si,Wr.zoom),li=void 0,ci=[0,0],vi=void 0,Qa=void 0,Ai=null,Wa=void 0;if(xe){if(vi=ha.glyphAtlasTexture,Qa=_r.LINEAR,li=ha.glyphAtlasTexture.size,ma.iconsInText){ci=ha.imageAtlasTexture.size,Ai=ha.imageAtlasTexture;var qa=si.kind==="composite"||si.kind==="camera";Wa=Ya||ge.options.rotating||ge.options.zooming||qa?_r.LINEAR:_r.NEAREST}}else{var Gi=me.layout.get("icon-size").constantOr(0)!==1||ma.iconsNeedLinear;vi=ha.imageAtlasTexture,Qa=Ga||ge.options.rotating||ge.options.zooming||Gi||Ya?_r.LINEAR:_r.NEAREST,li=ha.imageAtlasTexture.size}var io=yn(ha,1,ge.transform.zoom),tl=Mr(va.posMatrix,Vr,Yr,ge.transform,io),rl=Br(va.posMatrix,Vr,Yr,ge.transform,io),Wl=jn&&ma.hasTextData(),Yl=me.layout.get("icon-text-fit")!=="none"&&Wl&&ma.hasIconData();$r&&cn(ma,va.posMatrix,ge,xe,tl,rl,Vr,Nt);var Tu=ge.translatePosMatrix(va.posMatrix,ha,Be,Xe),jl=$r||xe&&jn||Yl?vc:tl,is=ge.translatePosMatrix(rl,ha,Be,Xe,!0),tf=Ga&&me.paint.get(xe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,No=void 0;Ga?ma.iconsInText?No=Df(si.kind,Ra,ln,Vr,ge,Tu,jl,is,li,ci):No=Vl(si.kind,Ra,ln,Vr,ge,Tu,jl,is,xe,li,!0):No=Rf(si.kind,Ra,ln,Vr,ge,Tu,jl,is,xe,li);var Ns={program:Ja,buffers:Aa,uniformValues:No,atlasTexture:vi,atlasTextureIcon:Ai,atlasInterpolation:Qa,atlasInterpolationIcon:Wa,isSDF:Ga,hasHalo:tf};if(En)for(var Zl=Aa.segments.get(),Al=0,Xl=Zl;Al<Xl.length;Al+=1){var qh=Xl[Al];Xn.push({segments:new a.SegmentVector([qh]),sortKey:qh.sortKey,state:Ns})}else Xn.push({segments:Aa.segments,sortKey:0,state:Ns})}}}En&&Xn.sort(function(ev,tv){return ev.sortKey-tv.sortKey});for(var Of=0,Do=Xn;Of<Do.length;Of+=1){var Eh=Do[Of],Zo=Eh.state;if(mr.activeTexture.set(_r.TEXTURE0),Zo.atlasTexture.bind(Zo.atlasInterpolation,_r.CLAMP_TO_EDGE),Zo.atlasTextureIcon&&(mr.activeTexture.set(_r.TEXTURE1),Zo.atlasTextureIcon&&Zo.atlasTextureIcon.bind(Zo.atlasInterpolationIcon,_r.CLAMP_TO_EDGE)),Zo.isSDF){var Ch=Zo.uniformValues;Zo.hasHalo&&(Ch.u_is_halo=1,pu(Zo.buffers,Eh.segments,me,ge,Zo.program,zn,Qt,fr,Ch)),Ch.u_is_halo=0}pu(Zo.buffers,Eh.segments,me,ge,Zo.program,zn,Qt,fr,Zo.uniformValues)}}function pu(ge,$,me,oe,xe,Be,Xe,lt,xt){var Nt=oe.context,Qt=Nt.gl;xe.draw(Nt,Qt.TRIANGLES,Be,Xe,lt,Ct.disabled,xt,me.id,ge.layoutVertexBuffer,ge.indexBuffer,$,me.paint,oe.transform.zoom,ge.programConfigurations.get(me.id),ge.dynamicLayoutVertexBuffer,ge.opacityVertexBuffer)}function Bs(ge,$,me,oe){if(ge.renderPass==="translucent"){var xe=me.paint.get("circle-opacity"),Be=me.paint.get("circle-stroke-width"),Xe=me.paint.get("circle-stroke-opacity"),lt=me.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(xe.constantOr(1)===0&&(Be.constantOr(1)===0||Xe.constantOr(1)===0))){for(var xt=ge.context,Nt=xt.gl,Qt=ge.depthModeForSublayer(0,zr.ReadOnly),fr=jt.disabled,mr=ge.colorModeForRenderPass(),_r=[],Wr=0;Wr<oe.length;Wr++){var Yr=oe[Wr],Vr=$.getTile(Yr),$r=Vr.getBucket(me);if($r){var ln=$r.programConfigurations.get(me.id),En=ge.useProgram("circle",ln),zn=$r.layoutVertexBuffer,jn=$r.indexBuffer,Xn=ph(ge,Yr,Vr,me),Zn={programConfiguration:ln,program:En,layoutVertexBuffer:zn,indexBuffer:jn,uniformValues:Xn};if(lt)for(var aa=$r.segments.get(),va=0,ha=aa;va<ha.length;va+=1){var ma=ha[va];_r.push({segments:new a.SegmentVector([ma]),sortKey:ma.sortKey,state:Zn})}else _r.push({segments:$r.segments,sortKey:0,state:Zn})}}lt&&_r.sort(function(Qa,Ai){return Qa.sortKey-Ai.sortKey});for(var Aa=0,Fa=_r;Aa<Fa.length;Aa+=1){var Ga=Fa[Aa],si=Ga.state,Ya=si.programConfiguration,Ja=si.program,Ra=si.layoutVertexBuffer,li=si.indexBuffer,ci=si.uniformValues,vi=Ga.segments;Ja.draw(xt,Nt.TRIANGLES,Qt,fr,mr,Ct.disabled,ci,me.id,Ra,li,vi,me.paint,ge.transform.zoom,Ya)}}}}function wh(ge,$,me,oe){if(me.paint.get("heatmap-opacity")!==0)if(ge.renderPass==="offscreen"){var xe=ge.context,Be=xe.gl,Xe=jt.disabled,lt=new ut([Be.ONE,Be.ONE],a.Color.transparent,[!0,!0,!0,!0]);kf(xe,ge,me),xe.clear({color:a.Color.transparent});for(var xt=0;xt<oe.length;xt++){var Nt=oe[xt];if(!$.hasRenderableParent(Nt)){var Qt=$.getTile(Nt),fr=Qt.getBucket(me);if(fr){var mr=fr.programConfigurations.get(me.id),_r=ge.useProgram("heatmap",mr),Wr=ge.transform,Yr=Wr.zoom;_r.draw(xe,Be.TRIANGLES,zr.disabled,Xe,lt,Ct.disabled,du(Nt.posMatrix,Qt,Yr,me.paint.get("heatmap-intensity")),me.id,fr.layoutVertexBuffer,fr.indexBuffer,fr.segments,me.paint,ge.transform.zoom,mr)}}}xe.viewport.set([0,0,ge.width,ge.height])}else ge.renderPass==="translucent"&&(ge.context.setColorMode(ge.colorModeForRenderPass()),go(ge,me))}function kf(ge,$,me){var oe=ge.gl;ge.activeTexture.set(oe.TEXTURE1),ge.viewport.set([0,0,$.width/4,$.height/4]);var xe=me.heatmapFbo;if(xe)oe.bindTexture(oe.TEXTURE_2D,xe.colorAttachment.get()),ge.bindFramebuffer.set(xe.framebuffer);else{var Be=oe.createTexture();oe.bindTexture(oe.TEXTURE_2D,Be),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_S,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_T,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MIN_FILTER,oe.LINEAR),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MAG_FILTER,oe.LINEAR),xe=me.heatmapFbo=ge.createFramebuffer($.width/4,$.height/4,!1),Zu(ge,$,Be,xe)}}function Zu(ge,$,me,oe){var xe=ge.gl,Be=ge.extRenderToTextureHalfFloat?ge.extTextureHalfFloat.HALF_FLOAT_OES:xe.UNSIGNED_BYTE;xe.texImage2D(xe.TEXTURE_2D,0,xe.RGBA,$.width/4,$.height/4,0,xe.RGBA,Be,null),oe.colorAttachment.set(me)}function go(ge,$){var me=ge.context,oe=me.gl,xe=$.heatmapFbo;if(xe){me.activeTexture.set(oe.TEXTURE0),oe.bindTexture(oe.TEXTURE_2D,xe.colorAttachment.get()),me.activeTexture.set(oe.TEXTURE1);var Be=$.colorRampTexture;Be||(Be=$.colorRampTexture=new a.Texture(me,$.colorRamp,oe.RGBA)),Be.bind(oe.LINEAR,oe.CLAMP_TO_EDGE),ge.useProgram("heatmapTexture").draw(me,oe.TRIANGLES,zr.disabled,jt.disabled,ge.colorModeForRenderPass(),Ct.disabled,Hu(ge,$,0,1),$.id,ge.viewportBuffer,ge.quadTriangleIndexBuffer,ge.viewportSegments,$.paint,ge.transform.zoom)}}function pc(ge,$,me,oe){if(ge.renderPass==="translucent"){var xe=me.paint.get("line-opacity"),Be=me.paint.get("line-width");if(!(xe.constantOr(1)===0||Be.constantOr(1)===0)){var Xe=ge.depthModeForSublayer(0,zr.ReadOnly),lt=ge.colorModeForRenderPass(),xt=me.paint.get("line-dasharray"),Nt=me.paint.get("line-pattern"),Qt=Nt.constantOr(1),fr=me.paint.get("line-gradient"),mr=me.getCrossfadeParameters(),_r=Qt?"linePattern":xt?"lineSDF":fr?"lineGradient":"line",Wr=ge.context,Yr=Wr.gl,Vr=!0;if(fr){Wr.activeTexture.set(Yr.TEXTURE0);var $r=me.gradientTexture;if(!me.gradient)return;$r||($r=me.gradientTexture=new a.Texture(Wr,me.gradient,Yr.RGBA)),$r.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE)}for(var ln=0,En=oe;ln<En.length;ln+=1){var zn=En[ln],jn=$.getTile(zn);if(!(Qt&&!jn.patternsLoaded())){var Xn=jn.getBucket(me);if(Xn){var Zn=Xn.programConfigurations.get(me.id),aa=ge.context.program.get(),va=ge.useProgram(_r,Zn),ha=Vr||va.program!==aa,ma=Nt.constantOr(null);if(ma&&jn.imageAtlas){var Aa=jn.imageAtlas,Fa=Aa.patternPositions[ma.to.toString()],Ga=Aa.patternPositions[ma.from.toString()];Fa&&Ga&&Zn.setConstantPatternPositions(Fa,Ga)}var si=Qt?rs(ge,jn,me,mr):xt?Gu(ge,jn,me,xt,mr):fr?Vu(ge,jn,me):pl(ge,jn,me);Qt?(Wr.activeTexture.set(Yr.TEXTURE0),jn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Zn.updatePaintBuffers(mr)):xt&&(ha||ge.lineAtlas.dirty)&&(Wr.activeTexture.set(Yr.TEXTURE0),ge.lineAtlas.bind(Wr)),va.draw(Wr,Yr.TRIANGLES,Xe,ge.stencilModeForClipping(zn),lt,Ct.disabled,si,me.id,Xn.layoutVertexBuffer,Xn.indexBuffer,Xn.segments,me.paint,ge.transform.zoom,Zn),Vr=!1}}}}}}function gu(ge,$,me,oe){var xe=me.paint.get("fill-color"),Be=me.paint.get("fill-opacity");if(Be.constantOr(1)!==0){var Xe=ge.colorModeForRenderPass(),lt=me.paint.get("fill-pattern"),xt=ge.opaquePassEnabledForLayer()&&!lt.constantOr(1)&&xe.constantOr(a.Color.transparent).a===1&&Be.constantOr(0)===1?"opaque":"translucent";if(ge.renderPass===xt){var Nt=ge.depthModeForSublayer(1,ge.renderPass==="opaque"?zr.ReadWrite:zr.ReadOnly);ms(ge,$,me,oe,Nt,Xe,!1)}if(ge.renderPass==="translucent"&&me.paint.get("fill-antialias")){var Qt=ge.depthModeForSublayer(me.getPaintProperty("fill-outline-color")?2:0,zr.ReadOnly);ms(ge,$,me,oe,Qt,Xe,!0)}}}function ms(ge,$,me,oe,xe,Be,Xe){var lt=ge.context.gl,xt=me.paint.get("fill-pattern"),Nt=xt&&xt.constantOr(1),Qt=me.getCrossfadeParameters(),fr,mr,_r,Wr,Yr;Xe?(mr=Nt&&!me.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=lt.LINES):(mr=Nt?"fillPattern":"fill",fr=lt.TRIANGLES);for(var Vr=0,$r=oe;Vr<$r.length;Vr+=1){var ln=$r[Vr],En=$.getTile(ln);if(!(Nt&&!En.patternsLoaded())){var zn=En.getBucket(me);if(zn){var jn=zn.programConfigurations.get(me.id),Xn=ge.useProgram(mr,jn);Nt&&(ge.context.activeTexture.set(lt.TEXTURE0),En.imageAtlasTexture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),jn.updatePaintBuffers(Qt));var Zn=xt.constantOr(null);if(Zn&&En.imageAtlas){var aa=En.imageAtlas,va=aa.patternPositions[Zn.to.toString()],ha=aa.patternPositions[Zn.from.toString()];va&&ha&&jn.setConstantPatternPositions(va,ha)}var ma=ge.translatePosMatrix(ln.posMatrix,En,me.paint.get("fill-translate"),me.paint.get("fill-translate-anchor"));if(!Xe)Wr=zn.indexBuffer,Yr=zn.segments,_r=Nt?gs(ma,ge,Qt,En):ts(ma);else{Wr=zn.indexBuffer2,Yr=zn.segments2;var Aa=[lt.drawingBufferWidth,lt.drawingBufferHeight];_r=mr==="fillOutlinePattern"&&Nt?hu(ma,ge,Qt,En,Aa):cu(ma,Aa)}Xn.draw(ge.context,fr,xe,ge.stencilModeForClipping(ln),Be,Ct.disabled,_r,me.id,zn.layoutVertexBuffer,Wr,Yr,me.paint,ge.transform.zoom,jn)}}}}function yu(ge,$,me,oe){var xe=me.paint.get("fill-extrusion-opacity");if(xe!==0&&ge.renderPass==="translucent"){var Be=new zr(ge.context.gl.LEQUAL,zr.ReadWrite,ge.depthRangeFor3D);if(xe===1&&!me.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=ge.colorModeForRenderPass();el(ge,$,me,oe,Be,jt.disabled,Xe)}else el(ge,$,me,oe,Be,jt.disabled,ut.disabled),el(ge,$,me,oe,Be,ge.stencilModeFor3D(),ge.colorModeForRenderPass())}}function el(ge,$,me,oe,xe,Be,Xe){for(var lt=ge.context,xt=lt.gl,Nt=me.paint.get("fill-extrusion-pattern"),Qt=Nt.constantOr(1),fr=me.getCrossfadeParameters(),mr=me.paint.get("fill-extrusion-opacity"),_r=0,Wr=oe;_r<Wr.length;_r+=1){var Yr=Wr[_r],Vr=$.getTile(Yr),$r=Vr.getBucket(me);if($r){var ln=$r.programConfigurations.get(me.id),En=ge.useProgram(Qt?"fillExtrusionPattern":"fillExtrusion",ln);Qt&&(ge.context.activeTexture.set(xt.TEXTURE0),Vr.imageAtlasTexture.bind(xt.LINEAR,xt.CLAMP_TO_EDGE),ln.updatePaintBuffers(fr));var zn=Nt.constantOr(null);if(zn&&Vr.imageAtlas){var jn=Vr.imageAtlas,Xn=jn.patternPositions[zn.to.toString()],Zn=jn.patternPositions[zn.from.toString()];Xn&&Zn&&ln.setConstantPatternPositions(Xn,Zn)}var aa=ge.translatePosMatrix(Yr.posMatrix,Vr,me.paint.get("fill-extrusion-translate"),me.paint.get("fill-extrusion-translate-anchor")),va=me.paint.get("fill-extrusion-vertical-gradient"),ha=Qt?ks(aa,ge,va,mr,Yr,fr,Vr):Lo(aa,ge,va,mr);En.draw(lt,lt.gl.TRIANGLES,xe,Be,Xe,Ct.backCCW,ha,me.id,$r.layoutVertexBuffer,$r.indexBuffer,$r.segments,me.paint,ge.transform.zoom,ln)}}}function Xu(ge,$,me,oe){if(!(ge.renderPass!=="offscreen"&&ge.renderPass!=="translucent")){for(var xe=ge.context,Be=$.getSource().maxzoom,Xe=ge.depthModeForSublayer(0,zr.ReadOnly),lt=ge.colorModeForRenderPass(),xt=ge.renderPass==="translucent"?ge.stencilConfigForOverlap(oe):[{},oe],Nt=xt[0],Qt=xt[1],fr=0,mr=Qt;fr<mr.length;fr+=1){var _r=mr[fr],Wr=$.getTile(_r);Wr.needsHillshadePrepare&&ge.renderPass==="offscreen"?Ff(ge,Wr,me,Be,Xe,jt.disabled,lt):ge.renderPass==="translucent"&&gc(ge,Wr,me,Xe,Nt[_r.overscaledZ],lt)}xe.viewport.set([0,0,ge.width,ge.height])}}function gc(ge,$,me,oe,xe,Be){var Xe=ge.context,lt=Xe.gl,xt=$.fbo;if(xt){var Nt=ge.useProgram("hillshade");Xe.activeTexture.set(lt.TEXTURE0),lt.bindTexture(lt.TEXTURE_2D,xt.colorAttachment.get());var Qt=fc(ge,$,me);Nt.draw(Xe,lt.TRIANGLES,oe,xe,Be,Ct.disabled,Qt,me.id,ge.rasterBoundsBuffer,ge.quadTriangleIndexBuffer,ge.rasterBoundsSegments)}}function Ff(ge,$,me,oe,xe,Be,Xe){var lt=ge.context,xt=lt.gl,Nt=$.dem;if(Nt&&Nt.data){var Qt=Nt.dim,fr=Nt.stride,mr=Nt.getPixels();if(lt.activeTexture.set(xt.TEXTURE1),lt.pixelStoreUnpackPremultiplyAlpha.set(!1),$.demTexture=$.demTexture||ge.getTileTexture(fr),$.demTexture){var _r=$.demTexture;_r.update(mr,{premultiply:!1}),_r.bind(xt.NEAREST,xt.CLAMP_TO_EDGE)}else $.demTexture=new a.Texture(lt,mr,xt.RGBA,{premultiply:!1}),$.demTexture.bind(xt.NEAREST,xt.CLAMP_TO_EDGE);lt.activeTexture.set(xt.TEXTURE0);var Wr=$.fbo;if(!Wr){var Yr=new a.Texture(lt,{width:Qt,height:Qt,data:null},xt.RGBA);Yr.bind(xt.LINEAR,xt.CLAMP_TO_EDGE),Wr=$.fbo=lt.createFramebuffer(Qt,Qt,!0),Wr.colorAttachment.set(Yr.texture)}lt.bindFramebuffer.set(Wr.framebuffer),lt.viewport.set([0,0,Qt,Qt]),ge.useProgram("hillshadePrepare").draw(lt,xt.TRIANGLES,xe,Be,Xe,Ct.disabled,Cf($.tileID,Nt,oe),me.id,ge.rasterBoundsBuffer,ge.quadTriangleIndexBuffer,ge.rasterBoundsSegments),$.needsHillshadePrepare=!1}}function _f(ge,$,me,oe){if(ge.renderPass==="translucent"&&me.paint.get("raster-opacity")!==0&&oe.length)for(var xe=ge.context,Be=xe.gl,Xe=$.getSource(),lt=ge.useProgram("raster"),xt=ge.colorModeForRenderPass(),Nt=Xe instanceof re?[{},oe]:ge.stencilConfigForOverlap(oe),Qt=Nt[0],fr=Nt[1],mr=fr[fr.length-1].overscaledZ,_r=!ge.options.moving,Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Vr=Yr[Wr],$r=ge.depthModeForSublayer(Vr.overscaledZ-mr,me.paint.get("raster-opacity")===1?zr.ReadWrite:zr.ReadOnly,Be.LESS),ln=$.getTile(Vr),En=ge.transform.calculatePosMatrix(Vr.toUnwrapped(),_r);ln.registerFadeDuration(me.paint.get("raster-fade-duration"));var zn=$.findLoadedParent(Vr,0),jn=wl(ln,zn,$,me,ge.transform),Xn=void 0,Zn=void 0,aa=me.paint.get("raster-resampling")==="nearest"?Be.NEAREST:Be.LINEAR;xe.activeTexture.set(Be.TEXTURE0),ln.texture.bind(aa,Be.CLAMP_TO_EDGE,Be.LINEAR_MIPMAP_NEAREST),xe.activeTexture.set(Be.TEXTURE1),zn?(zn.texture.bind(aa,Be.CLAMP_TO_EDGE,Be.LINEAR_MIPMAP_NEAREST),Xn=Math.pow(2,zn.tileID.overscaledZ-ln.tileID.overscaledZ),Zn=[ln.tileID.canonical.x*Xn%1,ln.tileID.canonical.y*Xn%1]):ln.texture.bind(aa,Be.CLAMP_TO_EDGE,Be.LINEAR_MIPMAP_NEAREST);var va=Hl(En,Zn||[0,0],Xn||1,jn,me);Xe instanceof re?lt.draw(xe,Be.TRIANGLES,$r,jt.disabled,xt,Ct.disabled,va,me.id,Xe.boundsBuffer,ge.quadTriangleIndexBuffer,Xe.boundsSegments):lt.draw(xe,Be.TRIANGLES,$r,Qt[Vr.overscaledZ],xt,Ct.disabled,va,me.id,ge.rasterBoundsBuffer,ge.quadTriangleIndexBuffer,ge.rasterBoundsSegments)}}function wl(ge,$,me,oe,xe){var Be=oe.paint.get("raster-fade-duration");if(Be>0){var Xe=a.browser.now(),lt=(Xe-ge.timeAdded)/Be,xt=$?(Xe-$.timeAdded)/Be:-1,Nt=me.getSource(),Qt=xe.coveringZoomLevel({tileSize:Nt.tileSize,roundZoom:Nt.roundZoom}),fr=!$||Math.abs($.tileID.overscaledZ-Qt)>Math.abs(ge.tileID.overscaledZ-Qt),mr=fr&&ge.refreshedUponExpiration?1:a.clamp(fr?lt:1-xt,0,1);return ge.refreshedUponExpiration&&lt>=1&&(ge.refreshedUponExpiration=!1),$?{opacity:1,mix:1-mr}:{opacity:mr,mix:0}}else return{opacity:1,mix:0}}function Ku(ge,$,me){var oe=me.paint.get("background-color"),xe=me.paint.get("background-opacity");if(xe!==0){var Be=ge.context,Xe=Be.gl,lt=ge.transform,xt=lt.tileSize,Nt=me.paint.get("background-pattern");if(!ge.isPatternMissing(Nt)){var Qt=!Nt&&oe.a===1&&xe===1&&ge.opaquePassEnabledForLayer()?"opaque":"translucent";if(ge.renderPass===Qt){var fr=jt.disabled,mr=ge.depthModeForSublayer(0,Qt==="opaque"?zr.ReadWrite:zr.ReadOnly),_r=ge.colorModeForRenderPass(),Wr=ge.useProgram(Nt?"backgroundPattern":"background"),Yr=lt.coveringTiles({tileSize:xt});Nt&&(Be.activeTexture.set(Xe.TEXTURE0),ge.imageManager.bind(ge.context));for(var Vr=me.getCrossfadeParameters(),$r=0,ln=Yr;$r<ln.length;$r+=1){var En=ln[$r],zn=ge.transform.calculatePosMatrix(En.toUnwrapped()),jn=Nt?ml(zn,xe,ge,Nt,{tileID:En,tileSize:xt},Vr):$s(zn,xe,oe);Wr.draw(Be,Xe.TRIANGLES,mr,fr,_r,Ct.disabled,jn,me.id,ge.tileExtentBuffer,ge.quadTriangleIndexBuffer,ge.tileExtentSegments)}}}}}var mu=new a.Color(1,0,0,1),yc=new a.Color(0,1,0,1),xu=new a.Color(0,0,1,1),mc=new a.Color(1,0,1,1),Qe=new a.Color(0,1,1,1);function at(ge){var $=ge.transform.padding,me=3;yt(ge,ge.transform.height-($.top||0),me,mu),yt(ge,$.bottom||0,me,yc),Ft(ge,$.left||0,me,xu),Ft(ge,ge.transform.width-($.right||0),me,mc);var oe=ge.transform.centerPoint;dt(ge,oe.x,ge.transform.height-oe.y,Qe)}function dt(ge,$,me,oe){var xe=20,Be=2;Rt(ge,$-Be/2,me-xe/2,Be,xe,oe),Rt(ge,$-xe/2,me-Be/2,xe,Be,oe)}function yt(ge,$,me,oe){Rt(ge,0,$+me/2,ge.transform.width,me,oe)}function Ft(ge,$,me,oe){Rt(ge,$-me/2,0,me,ge.transform.height,oe)}function Rt(ge,$,me,oe,xe,Be){var Xe=ge.context,lt=Xe.gl;lt.enable(lt.SCISSOR_TEST),lt.scissor($*a.browser.devicePixelRatio,me*a.browser.devicePixelRatio,oe*a.browser.devicePixelRatio,xe*a.browser.devicePixelRatio),Xe.clear({color:Be}),lt.disable(lt.SCISSOR_TEST)}function Bt(ge,$,me){for(var oe=0;oe<me.length;oe++)hr(ge,$,me[oe])}function hr(ge,$,me){var oe=ge.context,xe=oe.gl,Be=me.posMatrix,Xe=ge.useProgram("debug"),lt=zr.disabled,xt=jt.disabled,Nt=ge.colorModeForRenderPass(),Qt="$debug";oe.activeTexture.set(xe.TEXTURE0),ge.emptyTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),Xe.draw(oe,xe.LINE_STRIP,lt,xt,Nt,Ct.disabled,Ul(Be,a.Color.red),Qt,ge.debugBuffer,ge.tileBorderIndexBuffer,ge.debugSegments);var fr=$.getTileByID(me.key).latestRawTileData,mr=fr&&fr.byteLength||0,_r=Math.floor(mr/1024),Wr=$.getTile(me).tileSize,Yr=512/Math.min(Wr,512)*(me.overscaledZ/ge.transform.zoom)*.5,Vr=me.canonical.toString();me.overscaledZ!==me.canonical.z&&(Vr+=" => "+me.overscaledZ);var $r=Vr+" "+_r+"kb";yr(ge,$r),Xe.draw(oe,xe.TRIANGLES,lt,xt,ut.alphaBlended,Ct.disabled,Ul(Be,a.Color.transparent,Yr),Qt,ge.debugBuffer,ge.quadTriangleIndexBuffer,ge.debugSegments)}function yr(ge,$){ge.initDebugOverlayCanvas();var me=ge.debugOverlayCanvas,oe=ge.context.gl,xe=ge.debugOverlayCanvas.getContext("2d");xe.clearRect(0,0,me.width,me.height),xe.shadowColor="white",xe.shadowBlur=2,xe.lineWidth=1.5,xe.strokeStyle="white",xe.textBaseline="top",xe.font="bold 36px Open Sans, sans-serif",xe.fillText($,5,5),xe.strokeText($,5,5),ge.debugOverlayTexture.update(me),ge.debugOverlayTexture.bind(oe.LINEAR,oe.CLAMP_TO_EDGE)}function ir(ge,$,me){var oe=ge.context,xe=me.implementation;if(ge.renderPass==="offscreen"){var Be=xe.prerender;Be&&(ge.setCustomLayerDefaults(),oe.setColorMode(ge.colorModeForRenderPass()),Be.call(xe,oe.gl,ge.transform.customLayerMatrix()),oe.setDirty(),ge.setBaseState())}else if(ge.renderPass==="translucent"){ge.setCustomLayerDefaults(),oe.setColorMode(ge.colorModeForRenderPass()),oe.setStencilMode(jt.disabled);var Xe=xe.renderingMode==="3d"?new zr(ge.context.gl.LEQUAL,zr.ReadWrite,ge.depthRangeFor3D):ge.depthModeForSublayer(0,zr.ReadOnly);oe.setDepthMode(Xe),xe.render(oe.gl,ge.transform.customLayerMatrix()),oe.setDirty(),ge.setBaseState(),oe.bindFramebuffer.set(null)}}var Ar={symbol:Gl,circle:Bs,heatmap:wh,line:pc,fill:gu,"fill-extrusion":yu,hillshade:Xu,raster:_f,background:Ku,debug:Bt,custom:ir},Rr=function($,me){this.context=new St($),this.transform=me,this._tileTextures={},this.setup(),this.numSublayers=zt.maxUnderzooming+zt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sa,this.gpuTimers={}};Rr.prototype.resize=function($,me){if(this.width=$*a.browser.devicePixelRatio,this.height=me*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var oe=0,xe=this.style._order;oe<xe.length;oe+=1){var Be=xe[oe];this.style._layers[Be].resize()}},Rr.prototype.setup=function(){var $=this.context,me=new a.StructArrayLayout2i4;me.emplaceBack(0,0),me.emplaceBack(a.EXTENT,0),me.emplaceBack(0,a.EXTENT),me.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=$.createVertexBuffer(me,Eo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var oe=new a.StructArrayLayout2i4;oe.emplaceBack(0,0),oe.emplaceBack(a.EXTENT,0),oe.emplaceBack(0,a.EXTENT),oe.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=$.createVertexBuffer(oe,Eo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var xe=new a.StructArrayLayout4i8;xe.emplaceBack(0,0,0,0),xe.emplaceBack(a.EXTENT,0,a.EXTENT,0),xe.emplaceBack(0,a.EXTENT,0,a.EXTENT),xe.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=$.createVertexBuffer(xe,K.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Be=new a.StructArrayLayout2i4;Be.emplaceBack(0,0),Be.emplaceBack(1,0),Be.emplaceBack(0,1),Be.emplaceBack(1,1),this.viewportBuffer=$.createVertexBuffer(Be,Eo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Xe=new a.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=$.createIndexBuffer(Xe);var lt=new a.StructArrayLayout3ui6;lt.emplaceBack(0,1,2),lt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=$.createIndexBuffer(lt),this.emptyTexture=new a.Texture($,{width:1,height:1,data:new Uint8Array([0,0,0,0])},$.gl.RGBA);var xt=this.context.gl;this.stencilClearMode=new jt({func:xt.ALWAYS,mask:0},0,255,xt.ZERO,xt.ZERO,xt.ZERO)},Rr.prototype.clearStencil=function(){var $=this.context,me=$.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var oe=a.create();a.ortho(oe,0,this.width,this.height,0,0,1),a.scale(oe,oe,[me.drawingBufferWidth,me.drawingBufferHeight,0]),this.useProgram("clippingMask").draw($,me.TRIANGLES,zr.disabled,this.stencilClearMode,ut.disabled,Ct.disabled,Po(oe),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Rr.prototype._renderTileClippingMasks=function($,me){if(!(this.currentStencilSource===$.source||!$.isTileClipped()||!me||!me.length)){this.currentStencilSource=$.source;var oe=this.context,xe=oe.gl;this.nextStencilID+me.length>256&&this.clearStencil(),oe.setColorMode(ut.disabled),oe.setDepthMode(zr.disabled);var Be=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,lt=me;Xe<lt.length;Xe+=1){var xt=lt[Xe],Nt=this._tileClippingMaskIDs[xt.key]=this.nextStencilID++;Be.draw(oe,xe.TRIANGLES,zr.disabled,new jt({func:xe.ALWAYS,mask:0},Nt,255,xe.KEEP,xe.KEEP,xe.REPLACE),ut.disabled,Ct.disabled,Po(xt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Rr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var $=this.nextStencilID++,me=this.context.gl;return new jt({func:me.NOTEQUAL,mask:255},$,255,me.KEEP,me.KEEP,me.REPLACE)},Rr.prototype.stencilModeForClipping=function($){var me=this.context.gl;return new jt({func:me.EQUAL,mask:255},this._tileClippingMaskIDs[$.key],0,me.KEEP,me.KEEP,me.REPLACE)},Rr.prototype.stencilConfigForOverlap=function($){var me,oe=this.context.gl,xe=$.sort(function(Nt,Qt){return Qt.overscaledZ-Nt.overscaledZ}),Be=xe[xe.length-1].overscaledZ,Xe=xe[0].overscaledZ-Be+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var lt={},xt=0;xt<Xe;xt++)lt[xt+Be]=new jt({func:oe.GEQUAL,mask:255},xt+this.nextStencilID,255,oe.KEEP,oe.KEEP,oe.REPLACE);return this.nextStencilID+=Xe,[lt,xe]}return[(me={},me[Be]=jt.disabled,me),xe]},Rr.prototype.colorModeForRenderPass=function(){var $=this.context.gl;if(this._showOverdrawInspector){var me=8,oe=1/me;return new ut([$.CONSTANT_COLOR,$.ONE],new a.Color(oe,oe,oe,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ut.unblended:ut.alphaBlended},Rr.prototype.depthModeForSublayer=function($,me,oe){if(!this.opaquePassEnabledForLayer())return zr.disabled;var xe=1-((1+this.currentLayer)*this.numSublayers+$)*this.depthEpsilon;return new zr(oe||this.context.gl.LEQUAL,me,[xe,xe])},Rr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Rr.prototype.render=function($,me){var oe=this;this.style=$,this.options=me,this.lineAtlas=$.lineAtlas,this.imageManager=$.imageManager,this.glyphManager=$.glyphManager,this.symbolFadeChange=$.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var xe=this.style._order,Be=this.style.sourceCaches;for(var Xe in Be){var lt=Be[Xe];lt.used&&lt.prepare(this.context)}var xt={},Nt={},Qt={};for(var fr in Be){var mr=Be[fr];xt[fr]=mr.getVisibleCoordinates(),Nt[fr]=xt[fr].slice().reverse(),Qt[fr]=mr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var _r=0;_r<xe.length;_r++){var Wr=xe[_r];if(this.style._layers[Wr].is3D()){this.opaquePassCutoff=_r;break}}this.renderPass="offscreen";for(var Yr=0,Vr=xe;Yr<Vr.length;Yr+=1){var $r=Vr[Yr],ln=this.style._layers[$r];if(!(!ln.hasOffscreenPass()||ln.isHidden(this.transform.zoom))){var En=Nt[ln.source];ln.type!=="custom"&&!En.length||this.renderLayer(this,Be[ln.source],ln,En)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:me.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=me.showOverdrawInspector,this.depthRangeFor3D=[0,1-($._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=xe.length-1;this.currentLayer>=0;this.currentLayer--){var zn=this.style._layers[xe[this.currentLayer]],jn=Be[zn.source],Xn=xt[zn.source];this._renderTileClippingMasks(zn,Xn),this.renderLayer(this,jn,zn,Xn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<xe.length;this.currentLayer++){var Zn=this.style._layers[xe[this.currentLayer]],aa=Be[Zn.source],va=(Zn.type==="symbol"?Qt:Nt)[Zn.source];this._renderTileClippingMasks(Zn,xt[Zn.source]),this.renderLayer(this,aa,Zn,va)}if(this.options.showTileBoundaries){var ha,ma,Aa=a.values(this.style._layers);Aa.forEach(function(Fa){Fa.source&&!Fa.isHidden(oe.transform.zoom)&&(Fa.source!==(ma&&ma.id)&&(ma=oe.style.sourceCaches[Fa.source]),(!ha||ha.getSource().maxzoom<ma.getSource().maxzoom)&&(ha=ma))}),ha&&Ar.debug(this,ha,ha.getVisibleCoordinates())}this.options.showPadding&&at(this),this.context.setDefault()},Rr.prototype.renderLayer=function($,me,oe,xe){oe.isHidden(this.transform.zoom)||oe.type!=="background"&&oe.type!=="custom"&&!xe.length||(this.id=oe.id,this.gpuTimingStart(oe),Ar[oe.type]($,me,oe,xe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Rr.prototype.gpuTimingStart=function($){if(this.options.gpuTiming){var me=this.context.extTimerQuery,oe=this.gpuTimers[$.id];oe||(oe=this.gpuTimers[$.id]={calls:0,cpuTime:0,query:me.createQueryEXT()}),oe.calls++,me.beginQueryEXT(me.TIME_ELAPSED_EXT,oe.query)}},Rr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var $=this.context.extTimerQuery;$.endQueryEXT($.TIME_ELAPSED_EXT)}},Rr.prototype.collectGpuTimers=function(){var $=this.gpuTimers;return this.gpuTimers={},$},Rr.prototype.queryGpuTimers=function($){var me={};for(var oe in $){var xe=$[oe],Be=this.context.extTimerQuery,Xe=Be.getQueryObjectEXT(xe.query,Be.QUERY_RESULT_EXT)/(1e3*1e3);Be.deleteQueryEXT(xe.query),me[oe]=Xe}return me},Rr.prototype.translatePosMatrix=function($,me,oe,xe,Be){if(!oe[0]&&!oe[1])return $;var Xe=Be?xe==="map"?this.transform.angle:0:xe==="viewport"?-this.transform.angle:0;if(Xe){var lt=Math.sin(Xe),xt=Math.cos(Xe);oe=[oe[0]*xt-oe[1]*lt,oe[0]*lt+oe[1]*xt]}var Nt=[Be?oe[0]:yn(me,oe[0],this.transform.zoom),Be?oe[1]:yn(me,oe[1],this.transform.zoom),0],Qt=new Float32Array(16);return a.translate(Qt,$,Nt),Qt},Rr.prototype.saveTileTexture=function($){var me=this._tileTextures[$.size[0]];me?me.push($):this._tileTextures[$.size[0]]=[$]},Rr.prototype.getTileTexture=function($){var me=this._tileTextures[$];return me&&me.length>0?me.pop():null},Rr.prototype.isPatternMissing=function($){if(!$)return!1;if(!$.from||!$.to)return!0;var me=this.imageManager.getPattern($.from.toString()),oe=this.imageManager.getPattern($.to.toString());return!me||!oe},Rr.prototype.useProgram=function($,me){this.cache=this.cache||{};var oe=""+$+(me?me.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[oe]||(this.cache[oe]=new Nl(this.context,sc[$],me,xl[$],this._showOverdrawInspector)),this.cache[oe]},Rr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Rr.prototype.setBaseState=function(){var $=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set($.FUNC_ADD)},Rr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var $=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,$.RGBA)}},Rr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var jr=function($,me){this.points=$,this.planes=me};jr.fromInvProjectionMatrix=function($,me,oe){var xe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Be=Math.pow(2,oe),Xe=xe.map(function(Nt){return a.transformMat4([],Nt,$)}).map(function(Nt){return a.scale$1([],Nt,1/Nt[3]/me*Be)}),lt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],xt=lt.map(function(Nt){var Qt=a.sub([],Xe[Nt[0]],Xe[Nt[1]]),fr=a.sub([],Xe[Nt[2]],Xe[Nt[1]]),mr=a.normalize([],a.cross([],Qt,fr)),_r=-a.dot(mr,Xe[Nt[1]]);return mr.concat(_r)});return new jr(Xe,xt)};var Qr=function($,me){this.min=$,this.max=me,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};Qr.prototype.quadrant=function($){for(var me=[$%2===0,$<2],oe=a.clone$2(this.min),xe=a.clone$2(this.max),Be=0;Be<me.length;Be++)oe[Be]=me[Be]?this.min[Be]:this.center[Be],xe[Be]=me[Be]?this.center[Be]:this.max[Be];return xe[2]=this.max[2],new Qr(oe,xe)},Qr.prototype.distanceX=function($){var me=Math.max(Math.min(this.max[0],$[0]),this.min[0]);return me-$[0]},Qr.prototype.distanceY=function($){var me=Math.max(Math.min(this.max[1],$[1]),this.min[1]);return me-$[1]},Qr.prototype.intersects=function($){for(var me=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],oe=!0,xe=0;xe<$.planes.length;xe++){for(var Be=$.planes[xe],Xe=0,lt=0;lt<me.length;lt++)Xe+=a.dot$1(Be,me[lt])>=0;if(Xe===0)return 0;Xe!==me.length&&(oe=!1)}if(oe)return 2;for(var xt=0;xt<3;xt++){for(var Nt=Number.MAX_VALUE,Qt=-Number.MAX_VALUE,fr=0;fr<$.points.length;fr++){var mr=$.points[fr][xt]-this.min[xt];Nt=Math.min(Nt,mr),Qt=Math.max(Qt,mr)}if(Qt<0||Nt>this.max[xt]-this.min[xt])return 0}return 1};var xn=function($,me,oe,xe){if($===void 0&&($=0),me===void 0&&(me=0),oe===void 0&&(oe=0),xe===void 0&&(xe=0),isNaN($)||$<0||isNaN(me)||me<0||isNaN(oe)||oe<0||isNaN(xe)||xe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=$,this.bottom=me,this.left=oe,this.right=xe};xn.prototype.interpolate=function($,me,oe){return me.top!=null&&$.top!=null&&(this.top=a.number($.top,me.top,oe)),me.bottom!=null&&$.bottom!=null&&(this.bottom=a.number($.bottom,me.bottom,oe)),me.left!=null&&$.left!=null&&(this.left=a.number($.left,me.left,oe)),me.right!=null&&$.right!=null&&(this.right=a.number($.right,me.right,oe)),this},xn.prototype.getCenter=function($,me){var oe=a.clamp((this.left+$-this.right)/2,0,$),xe=a.clamp((this.top+me-this.bottom)/2,0,me);return new a.Point(oe,xe)},xn.prototype.equals=function($){return this.top===$.top&&this.bottom===$.bottom&&this.left===$.left&&this.right===$.right},xn.prototype.clone=function(){return new xn(this.top,this.bottom,this.left,this.right)},xn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var wn=function($,me,oe,xe,Be){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Be===void 0?!0:Be,this._minZoom=$||0,this._maxZoom=me||22,this._minPitch=oe??0,this._maxPitch=xe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new xn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Dn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};wn.prototype.clone=function(){var $=new wn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return $.tileSize=this.tileSize,$.latRange=this.latRange,$.width=this.width,$.height=this.height,$._center=this._center,$.zoom=this.zoom,$.angle=this.angle,$._fov=this._fov,$._pitch=this._pitch,$._unmodified=this._unmodified,$._edgeInsets=this._edgeInsets.clone(),$._calcMatrices(),$},Dn.minZoom.get=function(){return this._minZoom},Dn.minZoom.set=function(ge){this._minZoom!==ge&&(this._minZoom=ge,this.zoom=Math.max(this.zoom,ge))},Dn.maxZoom.get=function(){return this._maxZoom},Dn.maxZoom.set=function(ge){this._maxZoom!==ge&&(this._maxZoom=ge,this.zoom=Math.min(this.zoom,ge))},Dn.minPitch.get=function(){return this._minPitch},Dn.minPitch.set=function(ge){this._minPitch!==ge&&(this._minPitch=ge,this.pitch=Math.max(this.pitch,ge))},Dn.maxPitch.get=function(){return this._maxPitch},Dn.maxPitch.set=function(ge){this._maxPitch!==ge&&(this._maxPitch=ge,this.pitch=Math.min(this.pitch,ge))},Dn.renderWorldCopies.get=function(){return this._renderWorldCopies},Dn.renderWorldCopies.set=function(ge){ge===void 0?ge=!0:ge===null&&(ge=!1),this._renderWorldCopies=ge},Dn.worldSize.get=function(){return this.tileSize*this.scale},Dn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Dn.size.get=function(){return new a.Point(this.width,this.height)},Dn.bearing.get=function(){return-this.angle/Math.PI*180},Dn.bearing.set=function(ge){var $=-a.wrap(ge,-180,180)*Math.PI/180;this.angle!==$&&(this._unmodified=!1,this.angle=$,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Dn.pitch.get=function(){return this._pitch/Math.PI*180},Dn.pitch.set=function(ge){var $=a.clamp(ge,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==$&&(this._unmodified=!1,this._pitch=$,this._calcMatrices())},Dn.fov.get=function(){return this._fov/Math.PI*180},Dn.fov.set=function(ge){ge=Math.max(.01,Math.min(60,ge)),this._fov!==ge&&(this._unmodified=!1,this._fov=ge/180*Math.PI,this._calcMatrices())},Dn.zoom.get=function(){return this._zoom},Dn.zoom.set=function(ge){var $=Math.min(Math.max(ge,this.minZoom),this.maxZoom);this._zoom!==$&&(this._unmodified=!1,this._zoom=$,this.scale=this.zoomScale($),this.tileZoom=Math.floor($),this.zoomFraction=$-this.tileZoom,this._constrain(),this._calcMatrices())},Dn.center.get=function(){return this._center},Dn.center.set=function(ge){ge.lat===this._center.lat&&ge.lng===this._center.lng||(this._unmodified=!1,this._center=ge,this._constrain(),this._calcMatrices())},Dn.padding.get=function(){return this._edgeInsets.toJSON()},Dn.padding.set=function(ge){this._edgeInsets.equals(ge)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ge,1),this._calcMatrices())},Dn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},wn.prototype.isPaddingEqual=function($){return this._edgeInsets.equals($)},wn.prototype.interpolatePadding=function($,me,oe){this._unmodified=!1,this._edgeInsets.interpolate($,me,oe),this._constrain(),this._calcMatrices()},wn.prototype.coveringZoomLevel=function($){var me=($.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/$.tileSize));return Math.max(0,me)},wn.prototype.getVisibleUnwrappedCoordinates=function($){var me=[new a.UnwrappedTileID(0,$)];if(this._renderWorldCopies)for(var oe=this.pointCoordinate(new a.Point(0,0)),xe=this.pointCoordinate(new a.Point(this.width,0)),Be=this.pointCoordinate(new a.Point(this.width,this.height)),Xe=this.pointCoordinate(new a.Point(0,this.height)),lt=Math.floor(Math.min(oe.x,xe.x,Be.x,Xe.x)),xt=Math.floor(Math.max(oe.x,xe.x,Be.x,Xe.x)),Nt=1,Qt=lt-Nt;Qt<=xt+Nt;Qt++)Qt!==0&&me.push(new a.UnwrappedTileID(Qt,$));return me},wn.prototype.coveringTiles=function($){var me=this.coveringZoomLevel($),oe=me;if($.minzoom!==void 0&&me<$.minzoom)return[];$.maxzoom!==void 0&&me>$.maxzoom&&(me=$.maxzoom);var xe=a.MercatorCoordinate.fromLngLat(this.center),Be=Math.pow(2,me),Xe=[Be*xe.x,Be*xe.y,0],lt=jr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,me),xt=$.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(xt=me);var Nt=3,Qt=function(Aa){return{aabb:new Qr([Aa*Be,0,0],[(Aa+1)*Be,Be,0]),zoom:0,x:0,y:0,wrap:Aa,fullyVisible:!1}},fr=[],mr=[],_r=me,Wr=$.reparseOverscaled?oe:me;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)fr.push(Qt(-Yr)),fr.push(Qt(Yr));for(fr.push(Qt(0));fr.length>0;){var Vr=fr.pop(),$r=Vr.x,ln=Vr.y,En=Vr.fullyVisible;if(!En){var zn=Vr.aabb.intersects(lt);if(zn===0)continue;En=zn===2}var jn=Vr.aabb.distanceX(Xe),Xn=Vr.aabb.distanceY(Xe),Zn=Math.max(Math.abs(jn),Math.abs(Xn)),aa=Nt+(1<<_r-Vr.zoom)-2;if(Vr.zoom===_r||Zn>aa&&Vr.zoom>=xt){mr.push({tileID:new a.OverscaledTileID(Vr.zoom===_r?Wr:Vr.zoom,Vr.wrap,Vr.zoom,$r,ln),distanceSq:a.sqrLen([Xe[0]-.5-$r,Xe[1]-.5-ln])});continue}for(var va=0;va<4;va++){var ha=($r<<1)+va%2,ma=(ln<<1)+(va>>1);fr.push({aabb:Vr.aabb.quadrant(va),zoom:Vr.zoom+1,x:ha,y:ma,wrap:Vr.wrap,fullyVisible:En})}}return mr.sort(function(Aa,Fa){return Aa.distanceSq-Fa.distanceSq}).map(function(Aa){return Aa.tileID})},wn.prototype.resize=function($,me){this.width=$,this.height=me,this.pixelsToGLUnits=[2/$,-2/me],this._constrain(),this._calcMatrices()},Dn.unmodified.get=function(){return this._unmodified},wn.prototype.zoomScale=function($){return Math.pow(2,$)},wn.prototype.scaleZoom=function($){return Math.log($)/Math.LN2},wn.prototype.project=function($){var me=a.clamp($.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng($.lng)*this.worldSize,a.mercatorYfromLat(me)*this.worldSize)},wn.prototype.unproject=function($){return new a.MercatorCoordinate($.x/this.worldSize,$.y/this.worldSize).toLngLat()},Dn.point.get=function(){return this.project(this.center)},wn.prototype.setLocationAtPoint=function($,me){var oe=this.pointCoordinate(me),xe=this.pointCoordinate(this.centerPoint),Be=this.locationCoordinate($),Xe=new a.MercatorCoordinate(Be.x-(oe.x-xe.x),Be.y-(oe.y-xe.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},wn.prototype.locationPoint=function($){return this.coordinatePoint(this.locationCoordinate($))},wn.prototype.pointLocation=function($){return this.coordinateLocation(this.pointCoordinate($))},wn.prototype.locationCoordinate=function($){return a.MercatorCoordinate.fromLngLat($)},wn.prototype.coordinateLocation=function($){return $.toLngLat()},wn.prototype.pointCoordinate=function($){var me=0,oe=[$.x,$.y,0,1],xe=[$.x,$.y,1,1];a.transformMat4(oe,oe,this.pixelMatrixInverse),a.transformMat4(xe,xe,this.pixelMatrixInverse);var Be=oe[3],Xe=xe[3],lt=oe[0]/Be,xt=xe[0]/Xe,Nt=oe[1]/Be,Qt=xe[1]/Xe,fr=oe[2]/Be,mr=xe[2]/Xe,_r=fr===mr?0:(me-fr)/(mr-fr);return new a.MercatorCoordinate(a.number(lt,xt,_r)/this.worldSize,a.number(Nt,Qt,_r)/this.worldSize)},wn.prototype.coordinatePoint=function($){var me=[$.x*this.worldSize,$.y*this.worldSize,0,1];return a.transformMat4(me,me,this.pixelMatrix),new a.Point(me[0]/me[3],me[1]/me[3])},wn.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},wn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},wn.prototype.setMaxBounds=function($){$?(this.lngRange=[$.getWest(),$.getEast()],this.latRange=[$.getSouth(),$.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},wn.prototype.calculatePosMatrix=function($,me){me===void 0&&(me=!1);var oe=$.key,xe=me?this._alignedPosMatrixCache:this._posMatrixCache;if(xe[oe])return xe[oe];var Be=$.canonical,Xe=this.worldSize/this.zoomScale(Be.z),lt=Be.x+Math.pow(2,Be.z)*$.wrap,xt=a.identity(new Float64Array(16));return a.translate(xt,xt,[lt*Xe,Be.y*Xe,0]),a.scale(xt,xt,[Xe/a.EXTENT,Xe/a.EXTENT,1]),a.multiply(xt,me?this.alignedProjMatrix:this.projMatrix,xt),xe[oe]=new Float32Array(xt),xe[oe]},wn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},wn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var $=-90,me=90,oe=-180,xe=180,Be,Xe,lt,xt,Nt=this.size,Qt=this._unmodified;if(this.latRange){var fr=this.latRange;$=a.mercatorYfromLat(fr[1])*this.worldSize,me=a.mercatorYfromLat(fr[0])*this.worldSize,Be=me-$<Nt.y?Nt.y/(me-$):0}if(this.lngRange){var mr=this.lngRange;oe=a.mercatorXfromLng(mr[0])*this.worldSize,xe=a.mercatorXfromLng(mr[1])*this.worldSize,Xe=xe-oe<Nt.x?Nt.x/(xe-oe):0}var _r=this.point,Wr=Math.max(Xe||0,Be||0);if(Wr){this.center=this.unproject(new a.Point(Xe?(xe+oe)/2:_r.x,Be?(me+$)/2:_r.y)),this.zoom+=this.scaleZoom(Wr),this._unmodified=Qt,this._constraining=!1;return}if(this.latRange){var Yr=_r.y,Vr=Nt.y/2;Yr-Vr<$&&(xt=$+Vr),Yr+Vr>me&&(xt=me-Vr)}if(this.lngRange){var $r=_r.x,ln=Nt.x/2;$r-ln<oe&&(lt=oe+ln),$r+ln>xe&&(lt=xe-ln)}(lt!==void 0||xt!==void 0)&&(this.center=this.unproject(new a.Point(lt!==void 0?lt:_r.x,xt!==void 0?xt:_r.y))),this._unmodified=Qt,this._constraining=!1}},wn.prototype._calcMatrices=function(){if(this.height){var $=this._fov/2,me=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan($)*this.height;var oe=Math.PI/2+this._pitch,xe=this._fov*(.5+me.y/this.height),Be=Math.sin(xe)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-oe-xe,.01,Math.PI-.01)),Xe=this.point,lt=Xe.x,xt=Xe.y,Nt=Math.cos(Math.PI/2-this._pitch)*Be+this.cameraToCenterDistance,Qt=Nt*1.01,fr=this.height/50,mr=new Float64Array(16);a.perspective(mr,this._fov,this.width/this.height,fr,Qt),mr[8]=-me.x*2/this.width,mr[9]=me.y*2/this.height,a.scale(mr,mr,[1,-1,1]),a.translate(mr,mr,[0,0,-this.cameraToCenterDistance]),a.rotateX(mr,mr,this._pitch),a.rotateZ(mr,mr,this.angle),a.translate(mr,mr,[-lt,-xt,0]),this.mercatorMatrix=a.scale([],mr,[this.worldSize,this.worldSize,this.worldSize]),a.scale(mr,mr,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=mr,this.invProjMatrix=a.invert([],this.projMatrix);var _r=this.width%2/2,Wr=this.height%2/2,Yr=Math.cos(this.angle),Vr=Math.sin(this.angle),$r=lt-Math.round(lt)+Yr*_r+Vr*Wr,ln=xt-Math.round(xt)+Yr*Wr+Vr*_r,En=new Float64Array(mr);if(a.translate(En,En,[$r>.5?$r-1:$r,ln>.5?ln-1:ln,0]),this.alignedProjMatrix=En,mr=a.create(),a.scale(mr,mr,[this.width/2,-this.height/2,1]),a.translate(mr,mr,[1,-1,0]),this.labelPlaneMatrix=mr,mr=a.create(),a.scale(mr,mr,[1,-1,1]),a.translate(mr,mr,[-1,-1,0]),a.scale(mr,mr,[2/this.width,2/this.height,1]),this.glCoordMatrix=mr,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),mr=a.invert(new Float64Array(16),this.pixelMatrix),!mr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=mr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},wn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var $=this.pointCoordinate(new a.Point(0,0)),me=[$.x*this.worldSize,$.y*this.worldSize,0,1],oe=a.transformMat4(me,me,this.pixelMatrix);return oe[3]/this.cameraToCenterDistance},wn.prototype.getCameraPoint=function(){var $=this._pitch,me=Math.tan($)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,me))},wn.prototype.getCameraQueryGeometry=function($){var me=this.getCameraPoint();if($.length===1)return[$[0],me];for(var oe=me.x,xe=me.y,Be=me.x,Xe=me.y,lt=0,xt=$;lt<xt.length;lt+=1){var Nt=xt[lt];oe=Math.min(oe,Nt.x),xe=Math.min(xe,Nt.y),Be=Math.max(Be,Nt.x),Xe=Math.max(Xe,Nt.y)}return[new a.Point(oe,xe),new a.Point(Be,xe),new a.Point(Be,Xe),new a.Point(oe,Xe),new a.Point(oe,xe)]},Object.defineProperties(wn.prototype,Dn);function pa(ge,$){var me=!1,oe=null,xe=function(){oe=null,me&&(ge(),oe=setTimeout(xe,$),me=!1)};return function(){return me=!0,oe||xe(),oe}}var Pa=function($){this._hashName=$&&encodeURIComponent($),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=pa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Pa.prototype.addTo=function($){return this._map=$,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Pa.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Pa.prototype.getHashString=function($){var me=this._map.getCenter(),oe=Math.round(this._map.getZoom()*100)/100,xe=Math.ceil((oe*Math.LN2+Math.log(512/360/.5))/Math.LN10),Be=Math.pow(10,xe),Xe=Math.round(me.lng*Be)/Be,lt=Math.round(me.lat*Be)/Be,xt=this._map.getBearing(),Nt=this._map.getPitch(),Qt="";if($?Qt+="/"+Xe+"/"+lt+"/"+oe:Qt+=oe+"/"+lt+"/"+Xe,(xt||Nt)&&(Qt+="/"+Math.round(xt*10)/10),Nt&&(Qt+="/"+Math.round(Nt)),this._hashName){var fr=this._hashName,mr=!1,_r=a.window.location.hash.slice(1).split("&").map(function(Wr){var Yr=Wr.split("=")[0];return Yr===fr?(mr=!0,Yr+"="+Qt):Wr}).filter(function(Wr){return Wr});return mr||_r.push(fr+"="+Qt),"#"+_r.join("&")}return"#"+Qt},Pa.prototype._getCurrentHash=function(){var $=this,me=a.window.location.hash.replace("#","");if(this._hashName){var oe;return me.split("&").map(function(xe){return xe.split("=")}).forEach(function(xe){xe[0]===$._hashName&&(oe=xe)}),(oe&&oe[1]||"").split("/")}return me.split("/")},Pa.prototype._onHashChange=function(){var $=this._getCurrentHash();if($.length>=3&&!$.some(function(oe){return isNaN(oe)})){var me=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+($[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+$[2],+$[1]],zoom:+$[0],bearing:me,pitch:+($[4]||0)}),!0}return!1},Pa.prototype._updateHashUnthrottled=function(){var $=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",$)}catch{}};var Ia={linearity:.3,easing:a.bezier(0,0,.3,1)},ka=a.extend({deceleration:2500,maxSpeed:1400},Ia),_a=a.extend({deceleration:20,maxSpeed:1400},Ia),oi=a.extend({deceleration:1e3,maxSpeed:360},Ia),Ii=a.extend({deceleration:1e3,maxSpeed:90},Ia),gi=function($){this._map=$,this.clear()};gi.prototype.clear=function(){this._inertiaBuffer=[]},gi.prototype.record=function($){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:$})},gi.prototype._drainInertiaBuffer=function(){for(var $=this._inertiaBuffer,me=a.browser.now(),oe=160;$.length>0&&me-$[0].time>oe;)$.shift()},gi.prototype._onMoveEnd=function($){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var me={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},oe=0,xe=this._inertiaBuffer;oe<xe.length;oe+=1){var Be=xe[oe],Xe=Be.settings;me.zoom+=Xe.zoomDelta||0,me.bearing+=Xe.bearingDelta||0,me.pitch+=Xe.pitchDelta||0,Xe.panDelta&&me.pan._add(Xe.panDelta),Xe.around&&(me.around=Xe.around),Xe.pinchAround&&(me.pinchAround=Xe.pinchAround)}var lt=this._inertiaBuffer[this._inertiaBuffer.length-1],xt=lt.time-this._inertiaBuffer[0].time,Nt={};if(me.pan.mag()){var Qt=Pe(me.pan.mag(),xt,a.extend({},ka,$||{}));Nt.offset=me.pan.mult(Qt.amount/me.pan.mag()),Nt.center=this._map.transform.center,he(Nt,Qt)}if(me.zoom){var fr=Pe(me.zoom,xt,_a);Nt.zoom=this._map.transform.zoom+fr.amount,he(Nt,fr)}if(me.bearing){var mr=Pe(me.bearing,xt,oi);Nt.bearing=this._map.transform.bearing+a.clamp(mr.amount,-179,179),he(Nt,mr)}if(me.pitch){var _r=Pe(me.pitch,xt,Ii);Nt.pitch=this._map.transform.pitch+_r.amount,he(Nt,_r)}if(Nt.zoom||Nt.bearing){var Wr=me.pinchAround===void 0?me.around:me.pinchAround;Nt.around=Wr?this._map.unproject(Wr):this._map.getCenter()}return this.clear(),a.extend(Nt,{noMoveStart:!0})}};function he(ge,$){(!ge.duration||ge.duration<$.duration)&&(ge.duration=$.duration,ge.easing=$.easing)}function Pe(ge,$,me){var oe=me.maxSpeed,xe=me.linearity,Be=me.deceleration,Xe=a.clamp(ge*xe/($/1e3),-oe,oe),lt=Math.abs(Xe)/(Be*xe);return{easing:me.easing,duration:lt*1e3,amount:Xe*(lt/2)}}var Ge=function(ge){function $(oe,xe,Be,Xe){Xe===void 0&&(Xe={});var lt=x.mousePos(xe.getCanvasContainer(),Be),xt=xe.unproject(lt);ge.call(this,oe,a.extend({point:lt,lngLat:xt,originalEvent:Be},Xe)),this._defaultPrevented=!1,this.target=xe}ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$;var me={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,me),$}(a.Event),et=function(ge){function $(oe,xe,Be){var Xe=oe==="touchend"?Be.changedTouches:Be.touches,lt=x.touchPos(xe.getCanvasContainer(),Xe),xt=lt.map(function(fr){return xe.unproject(fr)}),Nt=lt.reduce(function(fr,mr,_r,Wr){return fr.add(mr.div(Wr.length))},new a.Point(0,0)),Qt=xe.unproject(Nt);ge.call(this,oe,{points:lt,point:Nt,lngLats:xt,lngLat:Qt,originalEvent:Be}),this._defaultPrevented=!1}ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$;var me={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,me),$}(a.Event),nt=function(ge){function $(oe,xe,Be){ge.call(this,oe,{originalEvent:Be}),this._defaultPrevented=!1}ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$;var me={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,me),$}(a.Event),st=function($,me){this._map=$,this._clickTolerance=me.clickTolerance};st.prototype.reset=function(){delete this._mousedownPos},st.prototype.wheel=function($){return this._firePreventable(new nt($.type,this._map,$))},st.prototype.mousedown=function($,me){return this._mousedownPos=me,this._firePreventable(new Ge($.type,this._map,$))},st.prototype.mouseup=function($){this._map.fire(new Ge($.type,this._map,$))},st.prototype.click=function($,me){this._mousedownPos&&this._mousedownPos.dist(me)>=this._clickTolerance||this._map.fire(new Ge($.type,this._map,$))},st.prototype.dblclick=function($){return this._firePreventable(new Ge($.type,this._map,$))},st.prototype.mouseover=function($){this._map.fire(new Ge($.type,this._map,$))},st.prototype.mouseout=function($){this._map.fire(new Ge($.type,this._map,$))},st.prototype.touchstart=function($){return this._firePreventable(new et($.type,this._map,$))},st.prototype.touchmove=function($){this._map.fire(new et($.type,this._map,$))},st.prototype.touchend=function($){this._map.fire(new et($.type,this._map,$))},st.prototype.touchcancel=function($){this._map.fire(new et($.type,this._map,$))},st.prototype._firePreventable=function($){if(this._map.fire($),$.defaultPrevented)return{}},st.prototype.isEnabled=function(){return!0},st.prototype.isActive=function(){return!1},st.prototype.enable=function(){},st.prototype.disable=function(){};var Dt=function($){this._map=$};Dt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Dt.prototype.mousemove=function($){this._map.fire(new Ge($.type,this._map,$))},Dt.prototype.mousedown=function(){this._delayContextMenu=!0},Dt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ge("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Dt.prototype.contextmenu=function($){this._delayContextMenu?this._contextMenuEvent=$:this._map.fire(new Ge($.type,this._map,$)),this._map.listens("contextmenu")&&$.preventDefault()},Dt.prototype.isEnabled=function(){return!0},Dt.prototype.isActive=function(){return!1},Dt.prototype.enable=function(){},Dt.prototype.disable=function(){};var vt=function($,me){this._map=$,this._el=$.getCanvasContainer(),this._container=$.getContainer(),this._clickTolerance=me.clickTolerance||1};vt.prototype.isEnabled=function(){return!!this._enabled},vt.prototype.isActive=function(){return!!this._active},vt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},vt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vt.prototype.mousedown=function($,me){this.isEnabled()&&$.shiftKey&&$.button===0&&(x.disableDrag(),this._startPos=this._lastPos=me,this._active=!0)},vt.prototype.mousemoveWindow=function($,me){if(this._active){var oe=me;if(!(this._lastPos.equals(oe)||!this._box&&oe.dist(this._startPos)<this._clickTolerance)){var xe=this._startPos;this._lastPos=oe,this._box||(this._box=x.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",$));var Be=Math.min(xe.x,oe.x),Xe=Math.max(xe.x,oe.x),lt=Math.min(xe.y,oe.y),xt=Math.max(xe.y,oe.y);x.setTransform(this._box,"translate("+Be+"px,"+lt+"px)"),this._box.style.width=Xe-Be+"px",this._box.style.height=xt-lt+"px"}}},vt.prototype.mouseupWindow=function($,me){var oe=this;if(this._active&&$.button===0){var xe=this._startPos,Be=me;if(this.reset(),x.suppressClick(),xe.x===Be.x&&xe.y===Be.y)this._fireEvent("boxzoomcancel",$);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:$})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(xe,Be,oe._map.getBearing(),{linear:!0})}}}},vt.prototype.keydown=function($){this._active&&$.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",$))},vt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(x.remove(this._box),this._box=null),x.enableDrag(),delete this._startPos,delete this._lastPos},vt.prototype._fireEvent=function($,me){return this._map.fire(new a.Event($,{originalEvent:me}))};function Ut(ge,$){for(var me={},oe=0;oe<ge.length;oe++)me[ge[oe].identifier]=$[oe];return me}function tr(ge){for(var $=new a.Point(0,0),me=0,oe=ge;me<oe.length;me+=1){var xe=oe[me];$._add(xe)}return $.div(ge.length)}var rr=500,Pr=500,Er=30,Jr=function($){this.reset(),this.numTouches=$.numTouches};Jr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Jr.prototype.touchstart=function($,me,oe){(this.centroid||oe.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=$.timeStamp),oe.length===this.numTouches&&(this.centroid=tr(me),this.touches=Ut(oe,me)))},Jr.prototype.touchmove=function($,me,oe){if(!(this.aborted||!this.centroid)){var xe=Ut(oe,me);for(var Be in this.touches){var Xe=this.touches[Be],lt=xe[Be];(!lt||lt.dist(Xe)>Er)&&(this.aborted=!0)}}},Jr.prototype.touchend=function($,me,oe){if((!this.centroid||$.timeStamp-this.startTime>Pr)&&(this.aborted=!0),oe.length===0){var xe=!this.aborted&&this.centroid;if(this.reset(),xe)return xe}};var tn=function($){this.singleTap=new Jr($),this.numTaps=$.numTaps,this.reset()};tn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},tn.prototype.touchstart=function($,me,oe){this.singleTap.touchstart($,me,oe)},tn.prototype.touchmove=function($,me,oe){this.singleTap.touchmove($,me,oe)},tn.prototype.touchend=function($,me,oe){var xe=this.singleTap.touchend($,me,oe);if(xe){var Be=$.timeStamp-this.lastTime<rr,Xe=!this.lastTap||this.lastTap.dist(xe)<Er;if((!Be||!Xe)&&this.reset(),this.count++,this.lastTime=$.timeStamp,this.lastTap=xe,this.count===this.numTaps)return this.reset(),xe}};var Ir=function(){this._zoomIn=new tn({numTouches:1,numTaps:2}),this._zoomOut=new tn({numTouches:2,numTaps:1}),this.reset()};Ir.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ir.prototype.touchstart=function($,me,oe){this._zoomIn.touchstart($,me,oe),this._zoomOut.touchstart($,me,oe)},Ir.prototype.touchmove=function($,me,oe){this._zoomIn.touchmove($,me,oe),this._zoomOut.touchmove($,me,oe)},Ir.prototype.touchend=function($,me,oe){var xe=this,Be=this._zoomIn.touchend($,me,oe),Xe=this._zoomOut.touchend($,me,oe);if(Be)return this._active=!0,$.preventDefault(),setTimeout(function(){return xe.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()+1,around:lt.unproject(Be)},{originalEvent:$})}};if(Xe)return this._active=!0,$.preventDefault(),setTimeout(function(){return xe.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()-1,around:lt.unproject(Xe)},{originalEvent:$})}}},Ir.prototype.touchcancel=function(){this.reset()},Ir.prototype.enable=function(){this._enabled=!0},Ir.prototype.disable=function(){this._enabled=!1,this.reset()},Ir.prototype.isEnabled=function(){return this._enabled},Ir.prototype.isActive=function(){return this._active};var Hr=0,Zr=2,rn=function($){this.reset(),this._clickTolerance=$.clickTolerance||1};rn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},rn.prototype._correctButton=function($,me){return!1},rn.prototype._move=function($,me){return{}},rn.prototype.mousedown=function($,me){if(!this._lastPoint){var oe=x.mouseButton($);this._correctButton($,oe)&&(this._lastPoint=me,this._eventButton=oe)}},rn.prototype.mousemoveWindow=function($,me){var oe=this._lastPoint;if(oe&&($.preventDefault(),!(!this._moved&&me.dist(oe)<this._clickTolerance)))return this._moved=!0,this._lastPoint=me,this._move(oe,me)},rn.prototype.mouseupWindow=function($){var me=x.mouseButton($);me===this._eventButton&&(this._moved&&x.suppressClick(),this.reset())},rn.prototype.enable=function(){this._enabled=!0},rn.prototype.disable=function(){this._enabled=!1,this.reset()},rn.prototype.isEnabled=function(){return this._enabled},rn.prototype.isActive=function(){return this._active};var un=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.mousedown=function(oe,xe){ge.prototype.mousedown.call(this,oe,xe),this._lastPoint&&(this._active=!0)},$.prototype._correctButton=function(oe,xe){return xe===Hr&&!oe.ctrlKey},$.prototype._move=function(oe,xe){return{around:xe,panDelta:xe.sub(oe)}},$}(rn),Xr=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(oe,xe){return xe===Hr&&oe.ctrlKey||xe===Zr},$.prototype._move=function(oe,xe){var Be=.8,Xe=(xe.x-oe.x)*Be;if(Xe)return this._active=!0,{bearingDelta:Xe}},$.prototype.contextmenu=function(oe){oe.preventDefault()},$}(rn),Nn=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(oe,xe){return xe===Hr&&oe.ctrlKey||xe===Zr},$.prototype._move=function(oe,xe){var Be=-.5,Xe=(xe.y-oe.y)*Be;if(Xe)return this._active=!0,{pitchDelta:Xe}},$.prototype.contextmenu=function(oe){oe.preventDefault()},$}(rn),Wn=function($){this._minTouches=1,this._clickTolerance=$.clickTolerance||1,this.reset()};Wn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Wn.prototype.touchstart=function($,me,oe){return this._calculateTransform($,me,oe)},Wn.prototype.touchmove=function($,me,oe){if(this._active)return $.preventDefault(),this._calculateTransform($,me,oe)},Wn.prototype.touchend=function($,me,oe){this._calculateTransform($,me,oe),this._active&&oe.length<this._minTouches&&this.reset()},Wn.prototype.touchcancel=function(){this.reset()},Wn.prototype._calculateTransform=function($,me,oe){oe.length>0&&(this._active=!0);var xe=Ut(oe,me),Be=new a.Point(0,0),Xe=new a.Point(0,0),lt=0;for(var xt in xe){var Nt=xe[xt],Qt=this._touches[xt];Qt&&(Be._add(Nt),Xe._add(Nt.sub(Qt)),lt++,xe[xt]=Nt)}if(this._touches=xe,!(lt<this._minTouches||!Xe.mag())){var fr=Xe.div(lt);if(this._sum._add(fr),!(this._sum.mag()<this._clickTolerance)){var mr=Be.div(lt);return{around:mr,panDelta:fr}}}},Wn.prototype.enable=function(){this._enabled=!0},Wn.prototype.disable=function(){this._enabled=!1,this.reset()},Wn.prototype.isEnabled=function(){return this._enabled},Wn.prototype.isActive=function(){return this._active};var Qn=function(){this.reset()};Qn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Qn.prototype._start=function($){},Qn.prototype._move=function($,me,oe){return{}},Qn.prototype.touchstart=function($,me,oe){this._firstTwoTouches||oe.length<2||(this._firstTwoTouches=[oe[0].identifier,oe[1].identifier],this._start([me[0],me[1]]))},Qn.prototype.touchmove=function($,me,oe){if(this._firstTwoTouches){$.preventDefault();var xe=this._firstTwoTouches,Be=xe[0],Xe=xe[1],lt=ia(oe,me,Be),xt=ia(oe,me,Xe);if(!(!lt||!xt)){var Nt=this._aroundCenter?null:lt.add(xt).div(2);return this._move([lt,xt],Nt,$)}}},Qn.prototype.touchend=function($,me,oe){if(this._firstTwoTouches){var xe=this._firstTwoTouches,Be=xe[0],Xe=xe[1],lt=ia(oe,me,Be),xt=ia(oe,me,Xe);lt&&xt||(this._active&&x.suppressClick(),this.reset())}},Qn.prototype.touchcancel=function(){this.reset()},Qn.prototype.enable=function($){this._enabled=!0,this._aroundCenter=!!$&&$.around==="center"},Qn.prototype.disable=function(){this._enabled=!1,this.reset()},Qn.prototype.isEnabled=function(){return this._enabled},Qn.prototype.isActive=function(){return this._active};function ia(ge,$,me){for(var oe=0;oe<ge.length;oe++)if(ge[oe].identifier===me)return $[oe]}var Ta=.1;function wa(ge,$){return Math.log(ge/$)/Math.LN2}var Va=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.reset=function(){ge.prototype.reset.call(this),delete this._distance,delete this._startDistance},$.prototype._start=function(oe){this._startDistance=this._distance=oe[0].dist(oe[1])},$.prototype._move=function(oe,xe){var Be=this._distance;if(this._distance=oe[0].dist(oe[1]),!(!this._active&&Math.abs(wa(this._distance,this._startDistance))<Ta))return this._active=!0,{zoomDelta:wa(this._distance,Be),pinchAround:xe}},$}(Qn),La=25;function Na(ge,$){return ge.angleWith($)*180/Math.PI}var $a=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.reset=function(){ge.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},$.prototype._start=function(oe){this._startVector=this._vector=oe[0].sub(oe[1]),this._minDiameter=oe[0].dist(oe[1])},$.prototype._move=function(oe,xe){var Be=this._vector;if(this._vector=oe[0].sub(oe[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Na(this._vector,Be),pinchAround:xe}},$.prototype._isBelowThreshold=function(oe){this._minDiameter=Math.min(this._minDiameter,oe.mag());var xe=Math.PI*this._minDiameter,Be=La/xe*360,Xe=Na(oe,this._startVector);return Math.abs(Xe)<Be},$}(Qn);function ri(ge){return Math.abs(ge.y)>Math.abs(ge.x)}var fi=100,Un=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.reset=function(){ge.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},$.prototype._start=function(oe){this._lastPoints=oe,ri(oe[0].sub(oe[1]))&&(this._valid=!1)},$.prototype._move=function(oe,xe,Be){var Xe=oe[0].sub(this._lastPoints[0]),lt=oe[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,lt,Be.timeStamp),!!this._valid){this._lastPoints=oe,this._active=!0;var xt=(Xe.y+lt.y)/2,Nt=-.5;return{pitchDelta:xt*Nt}}},$.prototype.gestureBeginsVertically=function(oe,xe,Be){if(this._valid!==void 0)return this._valid;var Xe=2,lt=oe.mag()>=Xe,xt=xe.mag()>=Xe;if(!(!lt&&!xt)){if(!lt||!xt)return this._firstMove===void 0&&(this._firstMove=Be),Be-this._firstMove<fi?void 0:!1;var Nt=oe.y>0==xe.y>0;return ri(oe)&&ri(xe)&&Nt}},$}(Qn),Ua={panStep:100,bearingStep:15,pitchStep:10},Oa=function(){var $=Ua;this._panStep=$.panStep,this._bearingStep=$.bearingStep,this._pitchStep=$.pitchStep};Oa.prototype.reset=function(){this._active=!1},Oa.prototype.keydown=function($){var me=this;if(!($.altKey||$.ctrlKey||$.metaKey)){var oe=0,xe=0,Be=0,Xe=0,lt=0;switch($.keyCode){case 61:case 107:case 171:case 187:oe=1;break;case 189:case 109:case 173:oe=-1;break;case 37:$.shiftKey?xe=-1:($.preventDefault(),Xe=-1);break;case 39:$.shiftKey?xe=1:($.preventDefault(),Xe=1);break;case 38:$.shiftKey?Be=1:($.preventDefault(),lt=-1);break;case 40:$.shiftKey?Be=-1:($.preventDefault(),lt=1);break;default:return}return{cameraAnimation:function(xt){var Nt=xt.getZoom();xt.easeTo({duration:300,easeId:"keyboardHandler",easing:Za,zoom:oe?Math.round(Nt)+oe*($.shiftKey?2:1):Nt,bearing:xt.getBearing()+xe*me._bearingStep,pitch:xt.getPitch()+Be*me._pitchStep,offset:[-Xe*me._panStep,-lt*me._panStep],center:xt.getCenter()},{originalEvent:$})}}}},Oa.prototype.enable=function(){this._enabled=!0},Oa.prototype.disable=function(){this._enabled=!1,this.reset()},Oa.prototype.isEnabled=function(){return this._enabled},Oa.prototype.isActive=function(){return this._active};function Za(ge){return ge*(2-ge)}var Ei=4.000244140625,Oi=1/100,Vi=1/450,bi=2,hi=function($,me){this._map=$,this._el=$.getCanvasContainer(),this._handler=me,this._delta=0,this._defaultZoomRate=Oi,this._wheelZoomRate=Vi,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};hi.prototype.setZoomRate=function($){this._defaultZoomRate=$},hi.prototype.setWheelZoomRate=function($){this._wheelZoomRate=$},hi.prototype.isEnabled=function(){return!!this._enabled},hi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},hi.prototype.isZooming=function(){return!!this._zooming},hi.prototype.enable=function($){this.isEnabled()||(this._enabled=!0,this._aroundCenter=$&&$.around==="center")},hi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},hi.prototype.wheel=function($){if(this.isEnabled()){var me=$.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?$.deltaY*40:$.deltaY,oe=a.browser.now(),xe=oe-(this._lastWheelEventTime||0);this._lastWheelEventTime=oe,me!==0&&me%Ei===0?this._type="wheel":me!==0&&Math.abs(me)<4?this._type="trackpad":xe>400?(this._type=null,this._lastValue=me,this._timeout=setTimeout(this._onTimeout,40,$)):this._type||(this._type=Math.abs(xe*me)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,me+=this._lastValue)),$.shiftKey&&me&&(me=me/4),this._type&&(this._lastWheelEvent=$,this._delta-=me,this._active||this._start($)),$.preventDefault()}},hi.prototype._onTimeout=function($){this._type="wheel",this._delta-=this._lastValue,this._active||this._start($)},hi.prototype._start=function($){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var me=x.mousePos(this._el,$);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(me)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},hi.prototype.renderFrame=function(){return this._onScrollFrame()},hi.prototype._onScrollFrame=function(){var $=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var me=this._map.transform;if(this._delta!==0){var oe=this._type==="wheel"&&Math.abs(this._delta)>Ei?this._wheelZoomRate:this._defaultZoomRate,xe=bi/(1+Math.exp(-Math.abs(this._delta*oe)));this._delta<0&&xe!==0&&(xe=1/xe);var Be=typeof this._targetZoom=="number"?me.zoomScale(this._targetZoom):me.scale;this._targetZoom=Math.min(me.maxZoom,Math.max(me.minZoom,me.scaleZoom(Be*xe))),this._type==="wheel"&&(this._startZoom=me.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:me.zoom,lt=this._startZoom,xt=this._easing,Nt=!1,Qt;if(this._type==="wheel"&&lt&&xt){var fr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),mr=xt(fr);Qt=a.number(lt,Xe,mr),fr<1?this._frameId||(this._frameId=!0):Nt=!0}else Qt=Xe,Nt=!0;return this._active=!0,Nt&&(this._active=!1,this._finishTimeout=setTimeout(function(){$._zooming=!1,$._handler._triggerRenderFrame(),delete $._targetZoom,delete $._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Nt,zoomDelta:Qt-me.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},hi.prototype._smoothOutEasing=function($){var me=a.ease;if(this._prevEase){var oe=this._prevEase,xe=(a.browser.now()-oe.start)/oe.duration,Be=oe.easing(xe+.01)-oe.easing(xe),Xe=.27/Math.sqrt(Be*Be+1e-4)*.01,lt=Math.sqrt(.27*.27-Xe*Xe);me=a.bezier(Xe,lt,.25,1)}return this._prevEase={start:a.browser.now(),duration:$,easing:me},me},hi.prototype.reset=function(){this._active=!1};var xa=function($,me){this._clickZoom=$,this._tapZoom=me};xa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},xa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},xa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},xa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ea=function(){this.reset()};Ea.prototype.reset=function(){this._active=!1},Ea.prototype.dblclick=function($,me){return $.preventDefault(),{cameraAnimation:function(oe){oe.easeTo({duration:300,zoom:oe.getZoom()+($.shiftKey?-1:1),around:oe.unproject(me)},{originalEvent:$})}}},Ea.prototype.enable=function(){this._enabled=!0},Ea.prototype.disable=function(){this._enabled=!1,this.reset()},Ea.prototype.isEnabled=function(){return this._enabled},Ea.prototype.isActive=function(){return this._active};var wi=function(){this._tap=new tn({numTouches:1,numTaps:1}),this.reset()};wi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},wi.prototype.touchstart=function($,me,oe){this._swipePoint||(this._tapTime&&$.timeStamp-this._tapTime>rr&&this.reset(),this._tapTime?oe.length>0&&(this._swipePoint=me[0],this._swipeTouch=oe[0].identifier):this._tap.touchstart($,me,oe))},wi.prototype.touchmove=function($,me,oe){if(!this._tapTime)this._tap.touchmove($,me,oe);else if(this._swipePoint){if(oe[0].identifier!==this._swipeTouch)return;var xe=me[0],Be=xe.y-this._swipePoint.y;return this._swipePoint=xe,$.preventDefault(),this._active=!0,{zoomDelta:Be/128}}},wi.prototype.touchend=function($,me,oe){if(this._tapTime)this._swipePoint&&oe.length===0&&this.reset();else{var xe=this._tap.touchend($,me,oe);xe&&(this._tapTime=$.timeStamp)}},wi.prototype.touchcancel=function(){this.reset()},wi.prototype.enable=function(){this._enabled=!0},wi.prototype.disable=function(){this._enabled=!1,this.reset()},wi.prototype.isEnabled=function(){return this._enabled},wi.prototype.isActive=function(){return this._active};var Hi=function($,me,oe){this._el=$,this._mousePan=me,this._touchPan=oe};Hi.prototype.enable=function($){this._inertiaOptions=$||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Hi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Hi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Hi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Bo=function($,me,oe){this._pitchWithRotate=$.pitchWithRotate,this._mouseRotate=me,this._mousePitch=oe};Bo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Bo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Bo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Bo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var eo=function($,me,oe,xe){this._el=$,this._touchZoom=me,this._touchRotate=oe,this._tapDragZoom=xe,this._rotationDisabled=!1,this._enabled=!0};eo.prototype.enable=function($){this._touchZoom.enable($),this._rotationDisabled||this._touchRotate.enable($),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},eo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},eo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},eo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},eo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},eo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var wo=function(ge){return ge.zoom||ge.drag||ge.pitch||ge.rotate},Li=function(ge){function $(){ge.apply(this,arguments)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$}(a.Event);function Yo(ge){return ge.panDelta&&ge.panDelta.mag()||ge.zoomDelta||ge.bearingDelta||ge.pitchDelta}var yi=function($,me){this._map=$,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new gi($),this._bearingSnap=me.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(me),a.bindAll(["handleEvent","handleWindowEvent"],this);var oe=this._el;this._listeners=[[oe,"touchstart",{passive:!1}],[oe,"touchmove",{passive:!1}],[oe,"touchend",void 0],[oe,"touchcancel",void 0],[oe,"mousedown",void 0],[oe,"mousemove",void 0],[oe,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[oe,"mouseover",void 0],[oe,"mouseout",void 0],[oe,"dblclick",void 0],[oe,"click",void 0],[oe,"keydown",{capture:!1}],[oe,"keyup",void 0],[oe,"wheel",{passive:!1}],[oe,"contextmenu",void 0],[a.window,"blur",void 0]];for(var xe=0,Be=this._listeners;xe<Be.length;xe+=1){var Xe=Be[xe],lt=Xe[0],xt=Xe[1],Nt=Xe[2];x.addEventListener(lt,xt,lt===a.window.document?this.handleWindowEvent:this.handleEvent,Nt)}};yi.prototype.destroy=function(){for(var $=0,me=this._listeners;$<me.length;$+=1){var oe=me[$],xe=oe[0],Be=oe[1],Xe=oe[2];x.removeEventListener(xe,Be,xe===a.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},yi.prototype._addDefaultHandlers=function($){var me=this._map,oe=me.getCanvasContainer();this._add("mapEvent",new st(me,$));var xe=me.boxZoom=new vt(me,$);this._add("boxZoom",xe);var Be=new Ir,Xe=new Ea;me.doubleClickZoom=new xa(Xe,Be),this._add("tapZoom",Be),this._add("clickZoom",Xe);var lt=new wi;this._add("tapDragZoom",lt);var xt=me.touchPitch=new Un;this._add("touchPitch",xt);var Nt=new Xr($),Qt=new Nn($);me.dragRotate=new Bo($,Nt,Qt),this._add("mouseRotate",Nt,["mousePitch"]),this._add("mousePitch",Qt,["mouseRotate"]);var fr=new un($),mr=new Wn($);me.dragPan=new Hi(oe,fr,mr),this._add("mousePan",fr),this._add("touchPan",mr,["touchZoom","touchRotate"]);var _r=new $a,Wr=new Va;me.touchZoomRotate=new eo(oe,Wr,_r,lt),this._add("touchRotate",_r,["touchPan","touchZoom"]),this._add("touchZoom",Wr,["touchPan","touchRotate"]);var Yr=me.scrollZoom=new hi(me,this);this._add("scrollZoom",Yr,["mousePan"]);var Vr=me.keyboard=new Oa;this._add("keyboard",Vr),this._add("blockableMapEvent",new Dt(me));for(var $r=0,ln=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];$r<ln.length;$r+=1){var En=ln[$r];$.interactive&&$[En]&&me[En].enable($[En])}},yi.prototype._add=function($,me,oe){this._handlers.push({handlerName:$,handler:me,allowed:oe}),this._handlersById[$]=me},yi.prototype.stop=function(){if(!this._updatingCamera){for(var $=0,me=this._handlers;$<me.length;$+=1){var oe=me[$],xe=oe.handler;xe.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},yi.prototype.isActive=function(){for(var $=0,me=this._handlers;$<me.length;$+=1){var oe=me[$],xe=oe.handler;if(xe.isActive())return!0}return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return!!wo(this._eventsInProgress)||this.isZooming()},yi.prototype._blockedByActive=function($,me,oe){for(var xe in $)if(xe!==oe&&(!me||me.indexOf(xe)<0))return!0;return!1},yi.prototype.handleWindowEvent=function($){this.handleEvent($,$.type+"Window")},yi.prototype._getMapTouches=function($){for(var me=[],oe=0,xe=$;oe<xe.length;oe+=1){var Be=xe[oe],Xe=Be.target;this._el.contains(Xe)&&me.push(Be)}return me},yi.prototype.handleEvent=function($,me){if($.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var oe=$.type==="renderFrame"?void 0:$,xe={needsRenderFrame:!1},Be={},Xe={},lt=$.touches?this._getMapTouches($.touches):void 0,xt=lt?x.touchPos(this._el,lt):x.mousePos(this._el,$),Nt=0,Qt=this._handlers;Nt<Qt.length;Nt+=1){var fr=Qt[Nt],mr=fr.handlerName,_r=fr.handler,Wr=fr.allowed;if(_r.isEnabled()){var Yr=void 0;this._blockedByActive(Xe,Wr,mr)?_r.reset():_r[me||$.type]&&(Yr=_r[me||$.type]($,xt,lt),this.mergeHandlerResult(xe,Be,Yr,mr,oe),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||_r.isActive())&&(Xe[mr]=_r)}}var Vr={};for(var $r in this._previousActiveHandlers)Xe[$r]||(Vr[$r]=oe);this._previousActiveHandlers=Xe,(Object.keys(Vr).length||Yo(xe))&&(this._changes.push([xe,Be,Vr]),this._triggerRenderFrame()),(Object.keys(Xe).length||Yo(xe))&&this._map._stop(!0),this._updatingCamera=!1;var ln=xe.cameraAnimation;ln&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],ln(this._map))},yi.prototype.mergeHandlerResult=function($,me,oe,xe,Be){if(oe){a.extend($,oe);var Xe={handlerName:xe,originalEvent:oe.originalEvent||Be};oe.zoomDelta!==void 0&&(me.zoom=Xe),oe.panDelta!==void 0&&(me.drag=Xe),oe.pitchDelta!==void 0&&(me.pitch=Xe),oe.bearingDelta!==void 0&&(me.rotate=Xe)}},yi.prototype._applyChanges=function(){for(var $={},me={},oe={},xe=0,Be=this._changes;xe<Be.length;xe+=1){var Xe=Be[xe],lt=Xe[0],xt=Xe[1],Nt=Xe[2];lt.panDelta&&($.panDelta=($.panDelta||new a.Point(0,0))._add(lt.panDelta)),lt.zoomDelta&&($.zoomDelta=($.zoomDelta||0)+lt.zoomDelta),lt.bearingDelta&&($.bearingDelta=($.bearingDelta||0)+lt.bearingDelta),lt.pitchDelta&&($.pitchDelta=($.pitchDelta||0)+lt.pitchDelta),lt.around!==void 0&&($.around=lt.around),lt.pinchAround!==void 0&&($.pinchAround=lt.pinchAround),lt.noInertia&&($.noInertia=lt.noInertia),a.extend(me,xt),a.extend(oe,Nt)}this._updateMapTransform($,me,oe),this._changes=[]},yi.prototype._updateMapTransform=function($,me,oe){var xe=this._map,Be=xe.transform;if(!Yo($))return this._fireEvents(me,oe);var Xe=$.panDelta,lt=$.zoomDelta,xt=$.bearingDelta,Nt=$.pitchDelta,Qt=$.around,fr=$.pinchAround;fr!==void 0&&(Qt=fr),xe._stop(!0),Qt=Qt||xe.transform.centerPoint;var mr=Be.pointLocation(Xe?Qt.sub(Xe):Qt);xt&&(Be.bearing+=xt),Nt&&(Be.pitch+=Nt),lt&&(Be.zoom+=lt),Be.setLocationAtPoint(mr,Qt),this._map._update(),$.noInertia||this._inertia.record($),this._fireEvents(me,oe)},yi.prototype._fireEvents=function($,me){var oe=this,xe=wo(this._eventsInProgress),Be=wo($),Xe={};for(var lt in $){var xt=$[lt],Nt=xt.originalEvent;this._eventsInProgress[lt]||(Xe[lt+"start"]=Nt),this._eventsInProgress[lt]=$[lt]}!xe&&Be&&this._fireEvent("movestart",Be.originalEvent);for(var Qt in Xe)this._fireEvent(Qt,Xe[Qt]);$.rotate&&(this._bearingChanged=!0),Be&&this._fireEvent("move",Be.originalEvent);for(var fr in $){var mr=$[fr],_r=mr.originalEvent;this._fireEvent(fr,_r)}var Wr={},Yr;for(var Vr in this._eventsInProgress){var $r=this._eventsInProgress[Vr],ln=$r.handlerName,En=$r.originalEvent;this._handlersById[ln].isActive()||(delete this._eventsInProgress[Vr],Yr=me[ln]||En,Wr[Vr+"end"]=Yr)}for(var zn in Wr)this._fireEvent(zn,Wr[zn]);var jn=wo(this._eventsInProgress);if((xe||Be)&&!jn){this._updatingCamera=!0;var Xn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Zn=function(aa){return aa!==0&&-oe._bearingSnap<aa&&aa<oe._bearingSnap};Xn?(Zn(Xn.bearing||this._map.getBearing())&&(Xn.bearing=0),this._map.easeTo(Xn,{originalEvent:Yr})):(this._map.fire(new a.Event("moveend",{originalEvent:Yr})),Zn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},yi.prototype._fireEvent=function($,me){this._map.fire(new a.Event($,me?{originalEvent:me}:{}))},yi.prototype._triggerRenderFrame=function(){var $=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(me){delete $._frameId,$.handleEvent(new Li("renderFrame",{timeStamp:me})),$._applyChanges()}))};var xs=function(ge){function $(me,oe){ge.call(this),this._moving=!1,this._zooming=!1,this.transform=me,this._bearingSnap=oe.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},$.prototype.setCenter=function(oe,xe){return this.jumpTo({center:oe},xe)},$.prototype.panBy=function(oe,xe,Be){return oe=a.Point.convert(oe).mult(-1),this.panTo(this.transform.center,a.extend({offset:oe},xe),Be)},$.prototype.panTo=function(oe,xe,Be){return this.easeTo(a.extend({center:oe},xe),Be)},$.prototype.getZoom=function(){return this.transform.zoom},$.prototype.setZoom=function(oe,xe){return this.jumpTo({zoom:oe},xe),this},$.prototype.zoomTo=function(oe,xe,Be){return this.easeTo(a.extend({zoom:oe},xe),Be)},$.prototype.zoomIn=function(oe,xe){return this.zoomTo(this.getZoom()+1,oe,xe),this},$.prototype.zoomOut=function(oe,xe){return this.zoomTo(this.getZoom()-1,oe,xe),this},$.prototype.getBearing=function(){return this.transform.bearing},$.prototype.setBearing=function(oe,xe){return this.jumpTo({bearing:oe},xe),this},$.prototype.getPadding=function(){return this.transform.padding},$.prototype.setPadding=function(oe,xe){return this.jumpTo({padding:oe},xe),this},$.prototype.rotateTo=function(oe,xe,Be){return this.easeTo(a.extend({bearing:oe},xe),Be)},$.prototype.resetNorth=function(oe,xe){return this.rotateTo(0,a.extend({duration:1e3},oe),xe),this},$.prototype.resetNorthPitch=function(oe,xe){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},oe),xe),this},$.prototype.snapToNorth=function(oe,xe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(oe,xe):this},$.prototype.getPitch=function(){return this.transform.pitch},$.prototype.setPitch=function(oe,xe){return this.jumpTo({pitch:oe},xe),this},$.prototype.cameraForBounds=function(oe,xe){return oe=a.LngLatBounds.convert(oe),this._cameraForBoxAndBearing(oe.getNorthWest(),oe.getSouthEast(),0,xe)},$.prototype._cameraForBoxAndBearing=function(oe,xe,Be,Xe){var lt={top:0,bottom:0,right:0,left:0};if(Xe=a.extend({padding:lt,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var xt=Xe.padding;Xe.padding={top:xt,bottom:xt,right:xt,left:xt}}Xe.padding=a.extend(lt,Xe.padding);var Nt=this.transform,Qt=Nt.padding,fr=Nt.project(a.LngLat.convert(oe)),mr=Nt.project(a.LngLat.convert(xe)),_r=fr.rotate(-Be*Math.PI/180),Wr=mr.rotate(-Be*Math.PI/180),Yr=new a.Point(Math.max(_r.x,Wr.x),Math.max(_r.y,Wr.y)),Vr=new a.Point(Math.min(_r.x,Wr.x),Math.min(_r.y,Wr.y)),$r=Yr.sub(Vr),ln=(Nt.width-(Qt.left+Qt.right+Xe.padding.left+Xe.padding.right))/$r.x,En=(Nt.height-(Qt.top+Qt.bottom+Xe.padding.top+Xe.padding.bottom))/$r.y;if(En<0||ln<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var zn=Math.min(Nt.scaleZoom(Nt.scale*Math.min(ln,En)),Xe.maxZoom),jn=a.Point.convert(Xe.offset),Xn=(Xe.padding.left-Xe.padding.right)/2,Zn=(Xe.padding.top-Xe.padding.bottom)/2,aa=new a.Point(jn.x+Xn,jn.y+Zn),va=aa.mult(Nt.scale/Nt.zoomScale(zn)),ha=Nt.unproject(fr.add(mr).div(2).sub(va));return{center:ha,zoom:zn,bearing:Be}},$.prototype.fitBounds=function(oe,xe,Be){return this._fitInternal(this.cameraForBounds(oe,xe),xe,Be)},$.prototype.fitScreenCoordinates=function(oe,xe,Be,Xe,lt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(oe)),this.transform.pointLocation(a.Point.convert(xe)),Be,Xe),Xe,lt)},$.prototype._fitInternal=function(oe,xe,Be){return oe?(xe=a.extend(oe,xe),delete xe.padding,xe.linear?this.easeTo(xe,Be):this.flyTo(xe,Be)):this},$.prototype.jumpTo=function(oe,xe){this.stop();var Be=this.transform,Xe=!1,lt=!1,xt=!1;return"zoom"in oe&&Be.zoom!==+oe.zoom&&(Xe=!0,Be.zoom=+oe.zoom),oe.center!==void 0&&(Be.center=a.LngLat.convert(oe.center)),"bearing"in oe&&Be.bearing!==+oe.bearing&&(lt=!0,Be.bearing=+oe.bearing),"pitch"in oe&&Be.pitch!==+oe.pitch&&(xt=!0,Be.pitch=+oe.pitch),oe.padding!=null&&!Be.isPaddingEqual(oe.padding)&&(Be.padding=oe.padding),this.fire(new a.Event("movestart",xe)).fire(new a.Event("move",xe)),Xe&&this.fire(new a.Event("zoomstart",xe)).fire(new a.Event("zoom",xe)).fire(new a.Event("zoomend",xe)),lt&&this.fire(new a.Event("rotatestart",xe)).fire(new a.Event("rotate",xe)).fire(new a.Event("rotateend",xe)),xt&&this.fire(new a.Event("pitchstart",xe)).fire(new a.Event("pitch",xe)).fire(new a.Event("pitchend",xe)),this.fire(new a.Event("moveend",xe))},$.prototype.easeTo=function(oe,xe){var Be=this;this._stop(!1,oe.easeId),oe=a.extend({offset:[0,0],duration:500,easing:a.ease},oe),(oe.animate===!1||!oe.essential&&a.browser.prefersReducedMotion)&&(oe.duration=0);var Xe=this.transform,lt=this.getZoom(),xt=this.getBearing(),Nt=this.getPitch(),Qt=this.getPadding(),fr="zoom"in oe?+oe.zoom:lt,mr="bearing"in oe?this._normalizeBearing(oe.bearing,xt):xt,_r="pitch"in oe?+oe.pitch:Nt,Wr="padding"in oe?oe.padding:Xe.padding,Yr=a.Point.convert(oe.offset),Vr=Xe.centerPoint.add(Yr),$r=Xe.pointLocation(Vr),ln=a.LngLat.convert(oe.center||$r);this._normalizeCenter(ln);var En=Xe.project($r),zn=Xe.project(ln).sub(En),jn=Xe.zoomScale(fr-lt),Xn,Zn;oe.around&&(Xn=a.LngLat.convert(oe.around),Zn=Xe.locationPoint(Xn));var aa={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fr!==lt,this._rotating=this._rotating||xt!==mr,this._pitching=this._pitching||_r!==Nt,this._padding=!Xe.isPaddingEqual(Wr),this._easeId=oe.easeId,this._prepareEase(xe,oe.noMoveStart,aa),clearTimeout(this._easeEndTimeoutID),this._ease(function(va){if(Be._zooming&&(Xe.zoom=a.number(lt,fr,va)),Be._rotating&&(Xe.bearing=a.number(xt,mr,va)),Be._pitching&&(Xe.pitch=a.number(Nt,_r,va)),Be._padding&&(Xe.interpolatePadding(Qt,Wr,va),Vr=Xe.centerPoint.add(Yr)),Xn)Xe.setLocationAtPoint(Xn,Zn);else{var ha=Xe.zoomScale(Xe.zoom-lt),ma=fr>lt?Math.min(2,jn):Math.max(.5,jn),Aa=Math.pow(ma,1-va),Fa=Xe.unproject(En.add(zn.mult(va*Aa)).mult(ha));Xe.setLocationAtPoint(Xe.renderWorldCopies?Fa.wrap():Fa,Vr)}Be._fireMoveEvents(xe)},function(va){Be._afterEase(xe,va)},oe),this},$.prototype._prepareEase=function(oe,xe,Be){Be===void 0&&(Be={}),this._moving=!0,!xe&&!Be.moving&&this.fire(new a.Event("movestart",oe)),this._zooming&&!Be.zooming&&this.fire(new a.Event("zoomstart",oe)),this._rotating&&!Be.rotating&&this.fire(new a.Event("rotatestart",oe)),this._pitching&&!Be.pitching&&this.fire(new a.Event("pitchstart",oe))},$.prototype._fireMoveEvents=function(oe){this.fire(new a.Event("move",oe)),this._zooming&&this.fire(new a.Event("zoom",oe)),this._rotating&&this.fire(new a.Event("rotate",oe)),this._pitching&&this.fire(new a.Event("pitch",oe))},$.prototype._afterEase=function(oe,xe){if(!(this._easeId&&xe&&this._easeId===xe)){delete this._easeId;var Be=this._zooming,Xe=this._rotating,lt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Be&&this.fire(new a.Event("zoomend",oe)),Xe&&this.fire(new a.Event("rotateend",oe)),lt&&this.fire(new a.Event("pitchend",oe)),this.fire(new a.Event("moveend",oe))}},$.prototype.flyTo=function(oe,xe){var Be=this;if(!oe.essential&&a.browser.prefersReducedMotion){var Xe=a.pick(oe,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,xe)}this.stop(),oe=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},oe);var lt=this.transform,xt=this.getZoom(),Nt=this.getBearing(),Qt=this.getPitch(),fr=this.getPadding(),mr="zoom"in oe?a.clamp(+oe.zoom,lt.minZoom,lt.maxZoom):xt,_r="bearing"in oe?this._normalizeBearing(oe.bearing,Nt):Nt,Wr="pitch"in oe?+oe.pitch:Qt,Yr="padding"in oe?oe.padding:lt.padding,Vr=lt.zoomScale(mr-xt),$r=a.Point.convert(oe.offset),ln=lt.centerPoint.add($r),En=lt.pointLocation(ln),zn=a.LngLat.convert(oe.center||En);this._normalizeCenter(zn);var jn=lt.project(En),Xn=lt.project(zn).sub(jn),Zn=oe.curve,aa=Math.max(lt.width,lt.height),va=aa/Vr,ha=Xn.mag();if("minZoom"in oe){var ma=a.clamp(Math.min(oe.minZoom,xt,mr),lt.minZoom,lt.maxZoom),Aa=aa/lt.zoomScale(ma-xt);Zn=Math.sqrt(Aa/ha*2)}var Fa=Zn*Zn;function Ga(Wa){var qa=(va*va-aa*aa+(Wa?-1:1)*Fa*Fa*ha*ha)/(2*(Wa?va:aa)*Fa*ha);return Math.log(Math.sqrt(qa*qa+1)-qa)}function si(Wa){return(Math.exp(Wa)-Math.exp(-Wa))/2}function Ya(Wa){return(Math.exp(Wa)+Math.exp(-Wa))/2}function Ja(Wa){return si(Wa)/Ya(Wa)}var Ra=Ga(0),li=function(Wa){return Ya(Ra)/Ya(Ra+Zn*Wa)},ci=function(Wa){return aa*((Ya(Ra)*Ja(Ra+Zn*Wa)-si(Ra))/Fa)/ha},vi=(Ga(1)-Ra)/Zn;if(Math.abs(ha)<1e-6||!isFinite(vi)){if(Math.abs(aa-va)<1e-6)return this.easeTo(oe,xe);var Qa=va<aa?-1:1;vi=Math.abs(Math.log(va/aa))/Zn,ci=function(){return 0},li=function(Wa){return Math.exp(Qa*Zn*Wa)}}if("duration"in oe)oe.duration=+oe.duration;else{var Ai="screenSpeed"in oe?+oe.screenSpeed/Zn:+oe.speed;oe.duration=1e3*vi/Ai}return oe.maxDuration&&oe.duration>oe.maxDuration&&(oe.duration=0),this._zooming=!0,this._rotating=Nt!==_r,this._pitching=Wr!==Qt,this._padding=!lt.isPaddingEqual(Yr),this._prepareEase(xe,!1),this._ease(function(Wa){var qa=Wa*vi,Gi=1/li(qa);lt.zoom=Wa===1?mr:xt+lt.scaleZoom(Gi),Be._rotating&&(lt.bearing=a.number(Nt,_r,Wa)),Be._pitching&&(lt.pitch=a.number(Qt,Wr,Wa)),Be._padding&&(lt.interpolatePadding(fr,Yr,Wa),ln=lt.centerPoint.add($r));var io=Wa===1?zn:lt.unproject(jn.add(Xn.mult(ci(qa))).mult(Gi));lt.setLocationAtPoint(lt.renderWorldCopies?io.wrap():io,ln),Be._fireMoveEvents(xe)},function(){return Be._afterEase(xe)},oe),this},$.prototype.isEasing=function(){return!!this._easeFrameId},$.prototype.stop=function(){return this._stop()},$.prototype._stop=function(oe,xe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Be=this._onEaseEnd;delete this._onEaseEnd,Be.call(this,xe)}if(!oe){var Xe=this.handlers;Xe&&Xe.stop()}return this},$.prototype._ease=function(oe,xe,Be){Be.animate===!1||Be.duration===0?(oe(1),xe()):(this._easeStart=a.browser.now(),this._easeOptions=Be,this._onEaseFrame=oe,this._onEaseEnd=xe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$.prototype._renderFrameCallback=function(){var oe=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(oe)),oe<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$.prototype._normalizeBearing=function(oe,xe){oe=a.wrap(oe,-180,180);var Be=Math.abs(oe-xe);return Math.abs(oe-360-xe)<Be&&(oe-=360),Math.abs(oe+360-xe)<Be&&(oe+=360),oe},$.prototype._normalizeCenter=function(oe){var xe=this.transform;if(!(!xe.renderWorldCopies||xe.lngRange)){var Be=oe.lng-xe.center.lng;oe.lng+=Be>180?-360:Be<-180?360:0}},$}(a.Evented),jo=function($){$===void 0&&($={}),this.options=$,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};jo.prototype.getDefaultPosition=function(){return"bottom-right"},jo.prototype.onAdd=function($){var me=this.options&&this.options.compact;return this._map=$,this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=x.create("div","mapboxgl-ctrl-attrib-inner",this._container),me&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),me===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},jo.prototype.onRemove=function(){x.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},jo.prototype._updateEditLink=function(){var $=this._editLink;$||($=this._editLink=this._container.querySelector(".mapbox-improve-map"));var me=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if($){var oe=me.reduce(function(xe,Be,Xe){return Be.value&&(xe+=Be.key+"="+Be.value+(Xe<me.length-1?"&":"")),xe},"?");$.href=a.config.FEEDBACK_URL+"/"+oe+(this._map._hash?this._map._hash.getHashString(!0):""),$.rel="noopener nofollow"}},jo.prototype._updateData=function($){$&&($.sourceDataType==="metadata"||$.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},jo.prototype._updateAttributions=function(){if(this._map.style){var $=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?$=$.concat(this.options.customAttribution.map(function(xt){return typeof xt!="string"?"":xt})):typeof this.options.customAttribution=="string"&&$.push(this.options.customAttribution)),this._map.style.stylesheet){var me=this._map.style.stylesheet;this.styleOwner=me.owner,this.styleId=me.id}var oe=this._map.style.sourceCaches;for(var xe in oe){var Be=oe[xe];if(Be.used){var Xe=Be.getSource();Xe.attribution&&$.indexOf(Xe.attribution)<0&&$.push(Xe.attribution)}}$.sort(function(xt,Nt){return xt.length-Nt.length}),$=$.filter(function(xt,Nt){for(var Qt=Nt+1;Qt<$.length;Qt++)if($[Qt].indexOf(xt)>=0)return!1;return!0});var lt=$.join(" | ");lt!==this._attribHTML&&(this._attribHTML=lt,$.length?(this._innerContainer.innerHTML=lt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},jo.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ka=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};Ka.prototype.onAdd=function($){this._map=$,this._container=x.create("div","mapboxgl-ctrl");var me=x.create("a","mapboxgl-ctrl-logo");return me.target="_blank",me.rel="noopener nofollow",me.href="https://www.mapbox.com/",me.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),me.setAttribute("rel","noopener nofollow"),this._container.appendChild(me),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ka.prototype.onRemove=function(){x.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ka.prototype.getDefaultPosition=function(){return"bottom-left"},Ka.prototype._updateLogo=function($){(!$||$.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Ka.prototype._logoRequired=function(){if(this._map.style){var $=this._map.style.sourceCaches;for(var me in $){var oe=$[me].getSource();if(oe.mapbox_logo)return!0}return!1}},Ka.prototype._updateCompact=function(){var $=this._container.children;if($.length){var me=$[0];this._map.getCanvasContainer().offsetWidth<250?me.classList.add("mapboxgl-compact"):me.classList.remove("mapboxgl-compact")}};var Ti=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ti.prototype.add=function($){var me=++this._id,oe=this._queue;return oe.push({callback:$,id:me,cancelled:!1}),me},Ti.prototype.remove=function($){for(var me=this._currentlyRunning,oe=me?this._queue.concat(me):this._queue,xe=0,Be=oe;xe<Be.length;xe+=1){var Xe=Be[xe];if(Xe.id===$){Xe.cancelled=!0;return}}},Ti.prototype.run=function($){$===void 0&&($=0);var me=this._currentlyRunning=this._queue;this._queue=[];for(var oe=0,xe=me;oe<xe.length;oe+=1){var Be=xe[oe];if(!Be.cancelled&&(Be.callback($),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ti.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xc={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},zf=a.window.HTMLImageElement,Th=a.window.HTMLElement,Ju=a.window.ImageBitmap,bc=-2,Jh=22,as=0,Qu=60,nd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:bc,maxZoom:Jh,minPitch:as,maxPitch:Qu,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ad=function(ge){function $(oe){var xe=this;if(oe=a.extend({},nd,oe),oe.minZoom!=null&&oe.maxZoom!=null&&oe.minZoom>oe.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(oe.minPitch!=null&&oe.maxPitch!=null&&oe.minPitch>oe.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(oe.minPitch!=null&&oe.minPitch<as)throw new Error("minPitch must be greater than or equal to "+as);if(oe.maxPitch!=null&&oe.maxPitch>Qu)throw new Error("maxPitch must be less than or equal to "+Qu);var Be=new wn(oe.minZoom,oe.maxZoom,oe.minPitch,oe.maxPitch,oe.renderWorldCopies);if(ge.call(this,Be,oe),this._interactive=oe.interactive,this._maxTileCacheSize=oe.maxTileCacheSize,this._failIfMajorPerformanceCaveat=oe.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=oe.preserveDrawingBuffer,this._antialias=oe.antialias,this._trackResize=oe.trackResize,this._bearingSnap=oe.bearingSnap,this._refreshExpiredTiles=oe.refreshExpiredTiles,this._fadeDuration=oe.fadeDuration,this._crossSourceCollisions=oe.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=oe.collectResourceTiming,this._renderTaskQueue=new Ti,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},xc,oe.locale),this._requestManager=new a.RequestManager(oe.transformRequest,oe.accessToken),typeof oe.container=="string"){if(this._container=a.window.document.getElementById(oe.container),!this._container)throw new Error("Container '"+oe.container+"' not found.")}else if(oe.container instanceof Th)this._container=oe.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(oe.maxBounds&&this.setMaxBounds(oe.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return xe._update(!1)}),this.on("moveend",function(){return xe._update(!1)}),this.on("zoom",function(){return xe._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new yi(this,oe);var Xe=typeof oe.hash=="string"&&oe.hash||void 0;this._hash=oe.hash&&new Pa(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:oe.center,zoom:oe.zoom,bearing:oe.bearing,pitch:oe.pitch}),oe.bounds&&(this.resize(),this.fitBounds(oe.bounds,a.extend({},oe.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=oe.localIdeographFontFamily,oe.style&&this.setStyle(oe.style,{localIdeographFontFamily:oe.localIdeographFontFamily}),oe.attributionControl&&this.addControl(new jo({customAttribution:oe.customAttribution})),this.addControl(new Ka,oe.logoPosition),this.on("style.load",function(){xe.transform.unmodified&&xe.jumpTo(xe.style.stylesheet)}),this.on("data",function(lt){xe._update(lt.dataType==="style"),xe.fire(new a.Event(lt.dataType+"data",lt))}),this.on("dataloading",function(lt){xe.fire(new a.Event(lt.dataType+"dataloading",lt))})}ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$;var me={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return $.prototype._getMapId=function(){return this._mapId},$.prototype.addControl=function(xe,Be){if(Be===void 0&&xe.getDefaultPosition&&(Be=xe.getDefaultPosition()),Be===void 0&&(Be="top-right"),!xe||!xe.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=xe.onAdd(this);this._controls.push(xe);var lt=this._controlPositions[Be];return Be.indexOf("bottom")!==-1?lt.insertBefore(Xe,lt.firstChild):lt.appendChild(Xe),this},$.prototype.removeControl=function(xe){if(!xe||!xe.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Be=this._controls.indexOf(xe);return Be>-1&&this._controls.splice(Be,1),xe.onRemove(this),this},$.prototype.resize=function(xe){var Be=this._containerDimensions(),Xe=Be[0],lt=Be[1];this._resizeCanvas(Xe,lt),this.transform.resize(Xe,lt),this.painter.resize(Xe,lt);var xt=!this._moving;return xt&&(this.stop(),this.fire(new a.Event("movestart",xe)).fire(new a.Event("move",xe))),this.fire(new a.Event("resize",xe)),xt&&this.fire(new a.Event("moveend",xe)),this},$.prototype.getBounds=function(){return this.transform.getBounds()},$.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},$.prototype.setMaxBounds=function(xe){return this.transform.setMaxBounds(a.LngLatBounds.convert(xe)),this._update()},$.prototype.setMinZoom=function(xe){if(xe=xe??bc,xe>=bc&&xe<=this.transform.maxZoom)return this.transform.minZoom=xe,this._update(),this.getZoom()<xe&&this.setZoom(xe),this;throw new Error("minZoom must be between "+bc+" and the current maxZoom, inclusive")},$.prototype.getMinZoom=function(){return this.transform.minZoom},$.prototype.setMaxZoom=function(xe){if(xe=xe??Jh,xe>=this.transform.minZoom)return this.transform.maxZoom=xe,this._update(),this.getZoom()>xe&&this.setZoom(xe),this;throw new Error("maxZoom must be greater than the current minZoom")},$.prototype.getMaxZoom=function(){return this.transform.maxZoom},$.prototype.setMinPitch=function(xe){if(xe=xe??as,xe<as)throw new Error("minPitch must be greater than or equal to "+as);if(xe>=as&&xe<=this.transform.maxPitch)return this.transform.minPitch=xe,this._update(),this.getPitch()<xe&&this.setPitch(xe),this;throw new Error("minPitch must be between "+as+" and the current maxPitch, inclusive")},$.prototype.getMinPitch=function(){return this.transform.minPitch},$.prototype.setMaxPitch=function(xe){if(xe=xe??Qu,xe>Qu)throw new Error("maxPitch must be less than or equal to "+Qu);if(xe>=this.transform.minPitch)return this.transform.maxPitch=xe,this._update(),this.getPitch()>xe&&this.setPitch(xe),this;throw new Error("maxPitch must be greater than the current minPitch")},$.prototype.getMaxPitch=function(){return this.transform.maxPitch},$.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},$.prototype.setRenderWorldCopies=function(xe){return this.transform.renderWorldCopies=xe,this._update()},$.prototype.project=function(xe){return this.transform.locationPoint(a.LngLat.convert(xe))},$.prototype.unproject=function(xe){return this.transform.pointLocation(a.Point.convert(xe))},$.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},$.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},$.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},$.prototype._createDelegatedListener=function(xe,Be,Xe){var lt=this,xt;if(xe==="mouseenter"||xe==="mouseover"){var Nt=!1,Qt=function(Vr){var $r=lt.getLayer(Be)?lt.queryRenderedFeatures(Vr.point,{layers:[Be]}):[];$r.length?Nt||(Nt=!0,Xe.call(lt,new Ge(xe,lt,Vr.originalEvent,{features:$r}))):Nt=!1},fr=function(){Nt=!1};return{layer:Be,listener:Xe,delegates:{mousemove:Qt,mouseout:fr}}}else if(xe==="mouseleave"||xe==="mouseout"){var mr=!1,_r=function(Vr){var $r=lt.getLayer(Be)?lt.queryRenderedFeatures(Vr.point,{layers:[Be]}):[];$r.length?mr=!0:mr&&(mr=!1,Xe.call(lt,new Ge(xe,lt,Vr.originalEvent)))},Wr=function(Vr){mr&&(mr=!1,Xe.call(lt,new Ge(xe,lt,Vr.originalEvent)))};return{layer:Be,listener:Xe,delegates:{mousemove:_r,mouseout:Wr}}}else{var Yr=function(Vr){var $r=lt.getLayer(Be)?lt.queryRenderedFeatures(Vr.point,{layers:[Be]}):[];$r.length&&(Vr.features=$r,Xe.call(lt,Vr),delete Vr.features)};return{layer:Be,listener:Xe,delegates:(xt={},xt[xe]=Yr,xt)}}},$.prototype.on=function(xe,Be,Xe){if(Xe===void 0)return ge.prototype.on.call(this,xe,Be);var lt=this._createDelegatedListener(xe,Be,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[xe]=this._delegatedListeners[xe]||[],this._delegatedListeners[xe].push(lt);for(var xt in lt.delegates)this.on(xt,lt.delegates[xt]);return this},$.prototype.once=function(xe,Be,Xe){if(Xe===void 0)return ge.prototype.once.call(this,xe,Be);var lt=this._createDelegatedListener(xe,Be,Xe);for(var xt in lt.delegates)this.once(xt,lt.delegates[xt]);return this},$.prototype.off=function(xe,Be,Xe){var lt=this;if(Xe===void 0)return ge.prototype.off.call(this,xe,Be);var xt=function(Nt){for(var Qt=Nt[xe],fr=0;fr<Qt.length;fr++){var mr=Qt[fr];if(mr.layer===Be&&mr.listener===Xe){for(var _r in mr.delegates)lt.off(_r,mr.delegates[_r]);return Qt.splice(fr,1),lt}}};return this._delegatedListeners&&this._delegatedListeners[xe]&&xt(this._delegatedListeners),this},$.prototype.queryRenderedFeatures=function(xe,Be){if(!this.style)return[];Be===void 0&&xe!==void 0&&!(xe instanceof a.Point)&&!Array.isArray(xe)&&(Be=xe,xe=void 0),Be=Be||{},xe=xe||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(xe instanceof a.Point||typeof xe[0]=="number")Xe=[a.Point.convert(xe)];else{var lt=a.Point.convert(xe[0]),xt=a.Point.convert(xe[1]);Xe=[lt,new a.Point(xt.x,lt.y),xt,new a.Point(lt.x,xt.y),lt]}return this.style.queryRenderedFeatures(Xe,Be,this.transform)},$.prototype.querySourceFeatures=function(xe,Be){return this.style.querySourceFeatures(xe,Be)},$.prototype.setStyle=function(xe,Be){return Be=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Be),Be.diff!==!1&&Be.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&xe?(this._diffStyle(xe,Be),this):(this._localIdeographFontFamily=Be.localIdeographFontFamily,this._updateStyle(xe,Be))},$.prototype._getUIString=function(xe){var Be=this._locale[xe];if(Be==null)throw new Error("Missing UI string '"+xe+"'");return Be},$.prototype._updateStyle=function(xe,Be){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),xe)this.style=new xo(this,Be||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof xe=="string"?this.style.loadURL(xe):this.style.loadJSON(xe),this},$.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new xo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},$.prototype._diffStyle=function(xe,Be){var Xe=this;if(typeof xe=="string"){var lt=this._requestManager.normalizeStyleURL(xe),xt=this._requestManager.transformRequest(lt,a.ResourceType.Style);a.getJSON(xt,function(Nt,Qt){Nt?Xe.fire(new a.ErrorEvent(Nt)):Qt&&Xe._updateDiff(Qt,Be)})}else typeof xe=="object"&&this._updateDiff(xe,Be)},$.prototype._updateDiff=function(xe,Be){try{this.style.setState(xe)&&this._update(!0)}catch(Xe){a.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(xe,Be)}},$.prototype.getStyle=function(){if(this.style)return this.style.serialize()},$.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},$.prototype.addSource=function(xe,Be){return this._lazyInitEmptyStyle(),this.style.addSource(xe,Be),this._update(!0)},$.prototype.isSourceLoaded=function(xe){var Be=this.style&&this.style.sourceCaches[xe];if(Be===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+xe+"'")));return}return Be.loaded()},$.prototype.areTilesLoaded=function(){var xe=this.style&&this.style.sourceCaches;for(var Be in xe){var Xe=xe[Be],lt=Xe._tiles;for(var xt in lt){var Nt=lt[xt];if(!(Nt.state==="loaded"||Nt.state==="errored"))return!1}}return!0},$.prototype.addSourceType=function(xe,Be,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(xe,Be,Xe)},$.prototype.removeSource=function(xe){return this.style.removeSource(xe),this._update(!0)},$.prototype.getSource=function(xe){return this.style.getSource(xe)},$.prototype.addImage=function(xe,Be,Xe){Xe===void 0&&(Xe={});var lt=Xe.pixelRatio;lt===void 0&&(lt=1);var xt=Xe.sdf;xt===void 0&&(xt=!1);var Nt=Xe.stretchX,Qt=Xe.stretchY,fr=Xe.content;this._lazyInitEmptyStyle();var mr=0;if(Be instanceof zf||Ju&&Be instanceof Ju){var _r=a.browser.getImageData(Be),Wr=_r.width,Yr=_r.height,Vr=_r.data;this.style.addImage(xe,{data:new a.RGBAImage({width:Wr,height:Yr},Vr),pixelRatio:lt,stretchX:Nt,stretchY:Qt,content:fr,sdf:xt,version:mr})}else{if(Be.width===void 0||Be.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var $r=Be.width,ln=Be.height,En=Be.data,zn=Be;this.style.addImage(xe,{data:new a.RGBAImage({width:$r,height:ln},new Uint8Array(En)),pixelRatio:lt,stretchX:Nt,stretchY:Qt,content:fr,sdf:xt,version:mr,userImage:zn}),zn.onAdd&&zn.onAdd(this,xe)}},$.prototype.updateImage=function(xe,Be){var Xe=this.style.getImage(xe);if(!Xe)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var lt=Be instanceof zf||Ju&&Be instanceof Ju?a.browser.getImageData(Be):Be,xt=lt.width,Nt=lt.height,Qt=lt.data;if(xt===void 0||Nt===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(xt!==Xe.data.width||Nt!==Xe.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var fr=!(Be instanceof zf||Ju&&Be instanceof Ju);Xe.data.replace(Qt,fr),this.style.updateImage(xe,Xe)},$.prototype.hasImage=function(xe){return xe?!!this.style.getImage(xe):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},$.prototype.removeImage=function(xe){this.style.removeImage(xe)},$.prototype.loadImage=function(xe,Be){a.getImage(this._requestManager.transformRequest(xe,a.ResourceType.Image),Be)},$.prototype.listImages=function(){return this.style.listImages()},$.prototype.addLayer=function(xe,Be){return this._lazyInitEmptyStyle(),this.style.addLayer(xe,Be),this._update(!0)},$.prototype.moveLayer=function(xe,Be){return this.style.moveLayer(xe,Be),this._update(!0)},$.prototype.removeLayer=function(xe){return this.style.removeLayer(xe),this._update(!0)},$.prototype.getLayer=function(xe){return this.style.getLayer(xe)},$.prototype.setLayerZoomRange=function(xe,Be,Xe){return this.style.setLayerZoomRange(xe,Be,Xe),this._update(!0)},$.prototype.setFilter=function(xe,Be,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(xe,Be,Xe),this._update(!0)},$.prototype.getFilter=function(xe){return this.style.getFilter(xe)},$.prototype.setPaintProperty=function(xe,Be,Xe,lt){return lt===void 0&&(lt={}),this.style.setPaintProperty(xe,Be,Xe,lt),this._update(!0)},$.prototype.getPaintProperty=function(xe,Be){return this.style.getPaintProperty(xe,Be)},$.prototype.setLayoutProperty=function(xe,Be,Xe,lt){return lt===void 0&&(lt={}),this.style.setLayoutProperty(xe,Be,Xe,lt),this._update(!0)},$.prototype.getLayoutProperty=function(xe,Be){return this.style.getLayoutProperty(xe,Be)},$.prototype.setLight=function(xe,Be){return Be===void 0&&(Be={}),this._lazyInitEmptyStyle(),this.style.setLight(xe,Be),this._update(!0)},$.prototype.getLight=function(){return this.style.getLight()},$.prototype.setFeatureState=function(xe,Be){return this.style.setFeatureState(xe,Be),this._update()},$.prototype.removeFeatureState=function(xe,Be){return this.style.removeFeatureState(xe,Be),this._update()},$.prototype.getFeatureState=function(xe){return this.style.getFeatureState(xe)},$.prototype.getContainer=function(){return this._container},$.prototype.getCanvasContainer=function(){return this._canvasContainer},$.prototype.getCanvas=function(){return this._canvas},$.prototype._containerDimensions=function(){var xe=0,Be=0;return this._container&&(xe=this._container.clientWidth||400,Be=this._container.clientHeight||300),[xe,Be]},$.prototype._detectMissingCSS=function(){var xe=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");xe!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},$.prototype._setupContainer=function(){var xe=this._container;xe.classList.add("mapboxgl-map");var Be=this._missingCSSCanary=x.create("div","mapboxgl-canary",xe);Be.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=x.create("div","mapboxgl-canvas-container",xe);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=x.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var lt=this._containerDimensions();this._resizeCanvas(lt[0],lt[1]);var xt=this._controlContainer=x.create("div","mapboxgl-control-container",xe),Nt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Qt){Nt[Qt]=x.create("div","mapboxgl-ctrl-"+Qt,xt)})},$.prototype._resizeCanvas=function(xe,Be){var Xe=a.browser.devicePixelRatio||1;this._canvas.width=Xe*xe,this._canvas.height=Xe*Be,this._canvas.style.width=xe+"px",this._canvas.style.height=Be+"px"},$.prototype._setupPainter=function(){var xe=a.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Be=this._canvas.getContext("webgl",xe)||this._canvas.getContext("experimental-webgl",xe);if(!Be){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Rr(Be,this.transform),a.webpSupported.testSupport(Be)},$.prototype._contextLost=function(xe){xe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:xe}))},$.prototype._contextRestored=function(xe){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:xe}))},$.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},$.prototype._update=function(xe){return this.style?(this._styleDirty=this._styleDirty||xe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},$.prototype._requestRenderFrame=function(xe){return this._update(),this._renderTaskQueue.add(xe)},$.prototype._cancelRenderFrame=function(xe){this._renderTaskQueue.remove(xe)},$.prototype._render=function(xe){var Be=this,Xe,lt=0,xt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=xt.createQueryEXT(),xt.beginQueryEXT(xt.TIME_ELAPSED_EXT,Xe),lt=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(xe),!this._removed){var Nt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Qt=this.transform.zoom,fr=a.browser.now();this.style.zoomHistory.update(Qt,fr);var mr=new a.EvaluationParameters(Qt,{now:fr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),_r=mr.crossFadingFactor();(_r!==1||_r!==this._crossFadingFactor)&&(Nt=!0,this._crossFadingFactor=_r),this.style.update(mr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Nt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Wr=a.browser.now()-lt;xt.endQueryEXT(xt.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var $r=xt.getQueryObjectEXT(Xe,xt.QUERY_RESULT_EXT)/1e6;xt.deleteQueryEXT(Xe),Be.fire(new a.Event("gpu-timing-frame",{cpuTime:Wr,gpuTime:$r}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var $r=Be.painter.queryGpuTimers(Yr);Be.fire(new a.Event("gpu-timing-layer",{layerTimes:$r}))},50)}var Vr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Vr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},$.prototype.remove=function(){this._hash&&this._hash.remove();for(var xe=0,Be=this._controls;xe<Be.length;xe+=1){var Xe=Be[xe];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var lt=this.painter.context.gl.getExtension("WEBGL_lose_context");lt&&lt.loseContext(),Ah(this._canvasContainer),Ah(this._controlContainer),Ah(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},$.prototype.triggerRepaint=function(){var xe=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(Be){xe._frame=null,xe._render(Be)}))},$.prototype._onWindowOnline=function(){this._update()},$.prototype._onWindowResize=function(xe){this._trackResize&&this.resize({originalEvent:xe})._update()},me.showTileBoundaries.get=function(){return!!this._showTileBoundaries},me.showTileBoundaries.set=function(oe){this._showTileBoundaries!==oe&&(this._showTileBoundaries=oe,this._update())},me.showPadding.get=function(){return!!this._showPadding},me.showPadding.set=function(oe){this._showPadding!==oe&&(this._showPadding=oe,this._update())},me.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},me.showCollisionBoxes.set=function(oe){this._showCollisionBoxes!==oe&&(this._showCollisionBoxes=oe,oe?this.style._generateCollisionBoxes():this._update())},me.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},me.showOverdrawInspector.set=function(oe){this._showOverdrawInspector!==oe&&(this._showOverdrawInspector=oe,this._update())},me.repaint.get=function(){return!!this._repaint},me.repaint.set=function(oe){this._repaint!==oe&&(this._repaint=oe,this.triggerRepaint())},me.vertices.get=function(){return!!this._vertices},me.vertices.set=function(oe){this._vertices=oe,this._update()},$.prototype._setCacheLimits=function(xe,Be){a.setCacheLimits(xe,Be)},me.version.get=function(){return a.version},Object.defineProperties($.prototype,me),$}(xs);function Ah(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}var Qh={showCompass:!0,showZoom:!0,visualizePitch:!1},bu=function($){var me=this;this.options=a.extend({},Qh,$),this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(oe){return oe.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(oe){return me._map.zoomIn({},{originalEvent:oe})}),x.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(oe){return me._map.zoomOut({},{originalEvent:oe})}),x.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(oe){me.options.visualizePitch?me._map.resetNorthPitch({},{originalEvent:oe}):me._map.resetNorth({},{originalEvent:oe})}),this._compassIcon=x.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};bu.prototype._updateZoomButtons=function(){var $=this._map.getZoom();this._zoomInButton.disabled=$===this._map.getMaxZoom(),this._zoomOutButton.disabled=$===this._map.getMinZoom()},bu.prototype._rotateCompassArrow=function(){var $=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=$},bu.prototype.onAdd=function($){return this._map=$,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new bs(this._map,this._compass,this.options.visualizePitch)),this._container},bu.prototype.onRemove=function(){x.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},bu.prototype._createButton=function($,me){var oe=x.create("button",$,this._container);return oe.type="button",oe.addEventListener("click",me),oe},bu.prototype._setButtonTitle=function($,me){var oe=this._map._getUIString("NavigationControl."+me);$.title=oe,$.setAttribute("aria-label",oe)};var bs=function($,me,oe){oe===void 0&&(oe=!1),this._clickTolerance=10,this.element=me,this.mouseRotate=new Xr({clickTolerance:$.dragRotate._mouseRotate._clickTolerance}),this.map=$,oe&&(this.mousePitch=new Nn({clickTolerance:$.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),x.addEventListener(me,"mousedown",this.mousedown),x.addEventListener(me,"touchstart",this.touchstart,{passive:!1}),x.addEventListener(me,"touchmove",this.touchmove),x.addEventListener(me,"touchend",this.touchend),x.addEventListener(me,"touchcancel",this.reset)};bs.prototype.down=function($,me){this.mouseRotate.mousedown($,me),this.mousePitch&&this.mousePitch.mousedown($,me),x.disableDrag()},bs.prototype.move=function($,me){var oe=this.map,xe=this.mouseRotate.mousemoveWindow($,me);if(xe&&xe.bearingDelta&&oe.setBearing(oe.getBearing()+xe.bearingDelta),this.mousePitch){var Be=this.mousePitch.mousemoveWindow($,me);Be&&Be.pitchDelta&&oe.setPitch(oe.getPitch()+Be.pitchDelta)}},bs.prototype.off=function(){var $=this.element;x.removeEventListener($,"mousedown",this.mousedown),x.removeEventListener($,"touchstart",this.touchstart,{passive:!1}),x.removeEventListener($,"touchmove",this.touchmove),x.removeEventListener($,"touchend",this.touchend),x.removeEventListener($,"touchcancel",this.reset),this.offTemp()},bs.prototype.offTemp=function(){x.enableDrag(),x.removeEventListener(a.window,"mousemove",this.mousemove),x.removeEventListener(a.window,"mouseup",this.mouseup)},bs.prototype.mousedown=function($){this.down(a.extend({},$,{ctrlKey:!0,preventDefault:function(){return $.preventDefault()}}),x.mousePos(this.element,$)),x.addEventListener(a.window,"mousemove",this.mousemove),x.addEventListener(a.window,"mouseup",this.mouseup)},bs.prototype.mousemove=function($){this.move($,x.mousePos(this.element,$))},bs.prototype.mouseup=function($){this.mouseRotate.mouseupWindow($),this.mousePitch&&this.mousePitch.mouseupWindow($),this.offTemp()},bs.prototype.touchstart=function($){$.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=x.touchPos(this.element,$.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return $.preventDefault()}},this._startPos))},bs.prototype.touchmove=function($){$.targetTouches.length!==1?this.reset():(this._lastPos=x.touchPos(this.element,$.targetTouches)[0],this.move({preventDefault:function(){return $.preventDefault()}},this._lastPos))},bs.prototype.touchend=function($){$.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},bs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function wu(ge,$,me){if(ge=new a.LngLat(ge.lng,ge.lat),$){var oe=new a.LngLat(ge.lng-360,ge.lat),xe=new a.LngLat(ge.lng+360,ge.lat),Be=me.locationPoint(ge).distSqr($);me.locationPoint(oe).distSqr($)<Be?ge=oe:me.locationPoint(xe).distSqr($)<Be&&(ge=xe)}for(;Math.abs(ge.lng-me.center.lng)>180;){var Xe=me.locationPoint(ge);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=me.width&&Xe.y<=me.height)break;ge.lng>me.center.lng?ge.lng-=360:ge.lng+=360}return ge}var Mh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function $h(ge,$,me){var oe=ge.classList;for(var xe in Mh)oe.remove("mapboxgl-"+me+"-anchor-"+xe);oe.add("mapboxgl-"+me+"-anchor-"+$)}var wc=function(ge){function $(me,oe){var xe=this;if(ge.call(this),(me instanceof a.window.HTMLElement||oe)&&(me=a.extend({element:me},oe)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=me&&me.anchor||"center",this._color=me&&me.color||"#3FB1CE",this._draggable=me&&me.draggable||!1,this._state="inactive",this._rotation=me&&me.rotation||0,this._rotationAlignment=me&&me.rotationAlignment||"auto",this._pitchAlignment=me&&me.pitchAlignment&&me.pitchAlignment!=="auto"?me.pitchAlignment:this._rotationAlignment,!me||!me.element){this._defaultMarker=!0,this._element=x.create("div"),this._element.setAttribute("aria-label","Map marker");var Be=x.createNS("http://www.w3.org/2000/svg","svg");Be.setAttributeNS(null,"display","block"),Be.setAttributeNS(null,"height","41px"),Be.setAttributeNS(null,"width","27px"),Be.setAttributeNS(null,"viewBox","0 0 27 41");var Xe=x.createNS("http://www.w3.org/2000/svg","g");Xe.setAttributeNS(null,"stroke","none"),Xe.setAttributeNS(null,"stroke-width","1"),Xe.setAttributeNS(null,"fill","none"),Xe.setAttributeNS(null,"fill-rule","evenodd");var lt=x.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"fill-rule","nonzero");var xt=x.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),xt.setAttributeNS(null,"fill","#000000");for(var Nt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],Qt=0,fr=Nt;Qt<fr.length;Qt+=1){var mr=fr[Qt],_r=x.createNS("http://www.w3.org/2000/svg","ellipse");_r.setAttributeNS(null,"opacity","0.04"),_r.setAttributeNS(null,"cx","10.5"),_r.setAttributeNS(null,"cy","5.80029008"),_r.setAttributeNS(null,"rx",mr.rx),_r.setAttributeNS(null,"ry",mr.ry),xt.appendChild(_r)}var Wr=x.createNS("http://www.w3.org/2000/svg","g");Wr.setAttributeNS(null,"fill",this._color);var Yr=x.createNS("http://www.w3.org/2000/svg","path");Yr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Wr.appendChild(Yr);var Vr=x.createNS("http://www.w3.org/2000/svg","g");Vr.setAttributeNS(null,"opacity","0.25"),Vr.setAttributeNS(null,"fill","#000000");var $r=x.createNS("http://www.w3.org/2000/svg","path");$r.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Vr.appendChild($r);var ln=x.createNS("http://www.w3.org/2000/svg","g");ln.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ln.setAttributeNS(null,"fill","#FFFFFF");var En=x.createNS("http://www.w3.org/2000/svg","g");En.setAttributeNS(null,"transform","translate(8.0, 8.0)");var zn=x.createNS("http://www.w3.org/2000/svg","circle");zn.setAttributeNS(null,"fill","#000000"),zn.setAttributeNS(null,"opacity","0.25"),zn.setAttributeNS(null,"cx","5.5"),zn.setAttributeNS(null,"cy","5.5"),zn.setAttributeNS(null,"r","5.4999962");var jn=x.createNS("http://www.w3.org/2000/svg","circle");jn.setAttributeNS(null,"fill","#FFFFFF"),jn.setAttributeNS(null,"cx","5.5"),jn.setAttributeNS(null,"cy","5.5"),jn.setAttributeNS(null,"r","5.4999962"),En.appendChild(zn),En.appendChild(jn),lt.appendChild(xt),lt.appendChild(Wr),lt.appendChild(Vr),lt.appendChild(ln),lt.appendChild(En),Be.appendChild(lt),this._element.appendChild(Be),this._offset=a.Point.convert(me&&me.offset||[0,-14])}else this._element=me.element,this._offset=a.Point.convert(me&&me.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Xn){Xn.preventDefault()}),this._element.addEventListener("mousedown",function(Xn){Xn.preventDefault()}),this._element.addEventListener("focus",function(){var Xn=xe._map.getContainer();Xn.scrollTop=0,Xn.scrollLeft=0}),$h(this._element,this._anchor,"marker"),this._popup=null}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.addTo=function(oe){return this.remove(),this._map=oe,oe.getCanvasContainer().appendChild(this._element),oe.on("move",this._update),oe.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},$.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),x.remove(this._element),this._popup&&this._popup.remove(),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(oe){return this._lngLat=a.LngLat.convert(oe),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},$.prototype.getElement=function(){return this._element},$.prototype.setPopup=function(oe){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),oe){if(!("offset"in oe.options)){var xe=38.1,Be=13.5,Xe=Math.sqrt(Math.pow(Be,2)/2);oe.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-xe],"bottom-left":[Xe,(xe-Be+Xe)*-1],"bottom-right":[-Xe,(xe-Be+Xe)*-1],left:[Be,(xe-Be)*-1],right:[-Be,(xe-Be)*-1]}:this._offset}this._popup=oe,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},$.prototype._onKeyPress=function(oe){var xe=oe.code,Be=oe.charCode||oe.keyCode;(xe==="Space"||xe==="Enter"||Be===32||Be===13)&&this.togglePopup()},$.prototype._onMapClick=function(oe){var xe=oe.originalEvent.target,Be=this._element;this._popup&&(xe===Be||Be.contains(xe))&&this.togglePopup()},$.prototype.getPopup=function(){return this._popup},$.prototype.togglePopup=function(){var oe=this._popup;if(oe)oe.isOpen()?oe.remove():oe.addTo(this._map);else return this;return this},$.prototype._update=function(oe){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=wu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var xe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?xe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(xe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Be="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Be="rotateX(0deg)":this._pitchAlignment==="map"&&(Be="rotateX("+this._map.getPitch()+"deg)"),(!oe||oe.type==="moveend")&&(this._pos=this._pos.round()),x.setTransform(this._element,Mh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Be+" "+xe)}},$.prototype.getOffset=function(){return this._offset},$.prototype.setOffset=function(oe){return this._offset=a.Point.convert(oe),this._update(),this},$.prototype._onMove=function(oe){this._pos=oe.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},$.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},$.prototype._addDragHandler=function(oe){this._element.contains(oe.originalEvent.target)&&(oe.preventDefault(),this._positionDelta=oe.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},$.prototype.setDraggable=function(oe){return this._draggable=!!oe,this._map&&(oe?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},$.prototype.isDraggable=function(){return this._draggable},$.prototype.setRotation=function(oe){return this._rotation=oe||0,this._update(),this},$.prototype.getRotation=function(){return this._rotation},$.prototype.setRotationAlignment=function(oe){return this._rotationAlignment=oe||"auto",this._update(),this},$.prototype.getRotationAlignment=function(){return this._rotationAlignment},$.prototype.setPitchAlignment=function(oe){return this._pitchAlignment=oe&&oe!=="auto"?oe:this._rotationAlignment,this._update(),this},$.prototype.getPitchAlignment=function(){return this._pitchAlignment},$}(a.Evented),id={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},$u;function Sh(ge){$u!==void 0?ge($u):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function($){$u=$.state!=="denied",ge($u)}):($u=!!a.window.navigator.geolocation,ge($u))}var Tc=0,qu=!1,od=function(ge){function $(me){ge.call(this),this.options=a.extend({},id,me),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(oe){return this._map=oe,this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Sh(this._setupUI),this._container},$.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),x.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Tc=0,qu=!1},$.prototype._isOutOfMapMaxBounds=function(oe){var xe=this._map.getMaxBounds(),Be=oe.coords;return xe&&(Be.longitude<xe.getWest()||Be.longitude>xe.getEast()||Be.latitude<xe.getSouth()||Be.latitude>xe.getNorth())},$.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},$.prototype._onSuccess=function(oe){if(this._map){if(this._isOutOfMapMaxBounds(oe)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",oe)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=oe,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(oe),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(oe),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",oe)),this._finish()}},$.prototype._updateCamera=function(oe){var xe=new a.LngLat(oe.coords.longitude,oe.coords.latitude),Be=oe.coords.accuracy,Xe=this._map.getBearing(),lt=a.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(xe.toBounds(Be),lt,{geolocateSource:!0})},$.prototype._updateMarker=function(oe){if(oe){var xe=new a.LngLat(oe.coords.longitude,oe.coords.latitude);this._accuracyCircleMarker.setLngLat(xe).addTo(this._map),this._userLocationDotMarker.setLngLat(xe).addTo(this._map),this._accuracy=oe.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},$.prototype._updateCircleRadius=function(){var oe=this._map._container.clientHeight/2,xe=this._map.unproject([0,oe]),Be=this._map.unproject([1,oe]),Xe=xe.distanceTo(Be),lt=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=lt+"px",this._circleElement.style.height=lt+"px"},$.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},$.prototype._onError=function(oe){if(this._map){if(this.options.trackUserLocation)if(oe.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var xe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=xe,this._geolocateButton.setAttribute("aria-label",xe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(oe.code===3&&qu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",oe)),this._finish()}},$.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},$.prototype._setupUI=function(oe){var xe=this;if(this._container.addEventListener("contextmenu",function(lt){return lt.preventDefault()}),this._geolocateButton=x.create("button","mapboxgl-ctrl-geolocate",this._container),x.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",oe===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Be=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Be,this._geolocateButton.setAttribute("aria-label",Be)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=x.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new wc(this._dotElement),this._circleElement=x.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new wc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(lt){var xt=lt.originalEvent&&lt.originalEvent.type==="resize";!lt.geolocateSource&&xe._watchState==="ACTIVE_LOCK"&&!xt&&(xe._watchState="BACKGROUND",xe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),xe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),xe.fire(new a.Event("trackuserlocationend")))})},$.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Tc--,qu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Tc++;var oe;Tc>1?(oe={maximumAge:6e5,timeout:0},qu=!0):(oe=this.options.positionOptions,qu=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,oe)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},$.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},$}(a.Evented),M0={maxWidth:100,unit:"metric"},ef=function($){this.options=a.extend({},M0,$),a.bindAll(["_onMove","setUnit"],this)};ef.prototype.getDefaultPosition=function(){return"bottom-left"},ef.prototype._onMove=function(){sd(this._map,this._container,this.options)},ef.prototype.onAdd=function($){return this._map=$,this._container=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",$.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ef.prototype.onRemove=function(){x.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ef.prototype.setUnit=function($){this.options.unit=$,sd(this._map,this._container,this.options)};function sd(ge,$,me){var oe=me&&me.maxWidth||100,xe=ge._container.clientHeight/2,Be=ge.unproject([0,xe]),Xe=ge.unproject([oe,xe]),lt=Be.distanceTo(Xe);if(me&&me.unit==="imperial"){var xt=3.2808*lt;if(xt>5280){var Nt=xt/5280;Ac($,oe,Nt,ge._getUIString("ScaleControl.Miles"))}else Ac($,oe,xt,ge._getUIString("ScaleControl.Feet"))}else if(me&&me.unit==="nautical"){var Qt=lt/1852;Ac($,oe,Qt,ge._getUIString("ScaleControl.NauticalMiles"))}else lt>=1e3?Ac($,oe,lt/1e3,ge._getUIString("ScaleControl.Kilometers")):Ac($,oe,lt,ge._getUIString("ScaleControl.Meters"))}function Ac(ge,$,me,oe){var xe=E0(me),Be=xe/me;ge.style.width=$*Be+"px",ge.innerHTML=xe+"&nbsp;"+oe}function S0(ge){var $=Math.pow(10,Math.ceil(-Math.log(ge)/Math.LN10));return Math.round(ge*$)/$}function E0(ge){var $=Math.pow(10,(""+Math.floor(ge)).length-1),me=ge/$;return me=me>=10?10:me>=5?5:me>=3?3:me>=2?2:me>=1?1:S0(me),$*me}var Tl=function($){this._fullscreen=!1,$&&$.container&&($.container instanceof a.window.HTMLElement?this._container=$.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Tl.prototype.onAdd=function($){return this._map=$,this._container||(this._container=this._map.getContainer()),this._controlContainer=x.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Tl.prototype.onRemove=function(){x.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Tl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Tl.prototype._setupUI=function(){var $=this._fullscreenButton=x.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);x.create("span","mapboxgl-ctrl-icon",$).setAttribute("aria-hidden",!0),$.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Tl.prototype._updateTitle=function(){var $=this._getTitle();this._fullscreenButton.setAttribute("aria-label",$),this._fullscreenButton.title=$},Tl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Tl.prototype._isFullscreen=function(){return this._fullscreen},Tl.prototype._changeIcon=function(){var $=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;$===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Tl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var C0={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},L0=function(ge){function $(me){ge.call(this),this.options=a.extend(Object.create(C0),me),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ge&&($.__proto__=ge),$.prototype=Object.create(ge&&ge.prototype),$.prototype.constructor=$,$.prototype.addTo=function(oe){return this._map&&this.remove(),this._map=oe,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},$.prototype.isOpen=function(){return!!this._map},$.prototype.remove=function(){return this._content&&x.remove(this._content),this._container&&(x.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(oe){return this._lngLat=a.LngLat.convert(oe),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},$.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},$.prototype.getElement=function(){return this._container},$.prototype.setText=function(oe){return this.setDOMContent(a.window.document.createTextNode(oe))},$.prototype.setHTML=function(oe){var xe=a.window.document.createDocumentFragment(),Be=a.window.document.createElement("body"),Xe;for(Be.innerHTML=oe;Xe=Be.firstChild,!!Xe;)xe.appendChild(Xe);return this.setDOMContent(xe)},$.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},$.prototype.setMaxWidth=function(oe){return this.options.maxWidth=oe,this._update(),this},$.prototype.setDOMContent=function(oe){return this._createContent(),this._content.appendChild(oe),this._update(),this},$.prototype.addClassName=function(oe){this._container&&this._container.classList.add(oe)},$.prototype.removeClassName=function(oe){this._container&&this._container.classList.remove(oe)},$.prototype.toggleClassName=function(oe){if(this._container)return this._container.classList.toggle(oe)},$.prototype._createContent=function(){this._content&&x.remove(this._content),this._content=x.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=x.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},$.prototype._onMouseUp=function(oe){this._update(oe.point)},$.prototype._onMouseMove=function(oe){this._update(oe.point)},$.prototype._onDrag=function(oe){this._update(oe.point)},$.prototype._update=function(oe){var xe=this,Be=this._lngLat||this._trackPointer;if(!(!this._map||!Be||!this._content)&&(this._container||(this._container=x.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=x.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_r){return xe._container.classList.add(_r)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=wu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!oe))){var Xe=this._pos=this._trackPointer&&oe?oe:this._map.project(this._lngLat),lt=this.options.anchor,xt=ld(this.options.offset);if(!lt){var Nt=this._container.offsetWidth,Qt=this._container.offsetHeight,fr;Xe.y+xt.bottom.y<Qt?fr=["top"]:Xe.y>this._map.transform.height-Qt?fr=["bottom"]:fr=[],Xe.x<Nt/2?fr.push("left"):Xe.x>this._map.transform.width-Nt/2&&fr.push("right"),fr.length===0?lt="bottom":lt=fr.join("-")}var mr=Xe.add(xt[lt]).round();x.setTransform(this._container,Mh[lt]+" translate("+mr.x+"px,"+mr.y+"px)"),$h(this._container,lt,"popup")}},$.prototype._onClose=function(){this.remove()},$}(a.Evented);function ld(ge){if(ge)if(typeof ge=="number"){var $=Math.round(Math.sqrt(.5*Math.pow(ge,2)));return{center:new a.Point(0,0),top:new a.Point(0,ge),"top-left":new a.Point($,$),"top-right":new a.Point(-$,$),bottom:new a.Point(0,-ge),"bottom-left":new a.Point($,-$),"bottom-right":new a.Point(-$,-$),left:new a.Point(ge,0),right:new a.Point(-ge,0)}}else if(ge instanceof a.Point||Array.isArray(ge)){var me=a.Point.convert(ge);return{center:me,top:me,"top-left":me,"top-right":me,bottom:me,"bottom-left":me,"bottom-right":me,left:me,right:me}}else return{center:a.Point.convert(ge.center||[0,0]),top:a.Point.convert(ge.top||[0,0]),"top-left":a.Point.convert(ge["top-left"]||[0,0]),"top-right":a.Point.convert(ge["top-right"]||[0,0]),bottom:a.Point.convert(ge.bottom||[0,0]),"bottom-left":a.Point.convert(ge["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(ge["bottom-right"]||[0,0]),left:a.Point.convert(ge.left||[0,0]),right:a.Point.convert(ge.right||[0,0])};else return ld(new a.Point(0,0))}var P0={version:a.version,supported:L,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:ad,NavigationControl:bu,GeolocateControl:od,AttributionControl:jo,ScaleControl:ef,FullscreenControl:Tl,Popup:L0,Marker:wc,Style:xo,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:_t,clearPrewarmedResources:Zt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(ge){a.config.ACCESS_TOKEN=ge},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(ge){a.config.API_URL=ge},get workerCount(){return Cr.workerCount},set workerCount(ge){Cr.workerCount=ge},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ge){a.config.MAX_PARALLEL_IMAGE_REQUESTS=ge},clearStorage:function($){a.clearTileCache($)},workerUrl:""};return P0}),y})},27084:function(W){W.exports=Math.log2||function(V){return Math.log(V)*Math.LOG2E}},16825:function(W,V,e){W.exports=C;var y=e(74311);function C(a,L){L||(L=a,a=window);var x=0,h=0,d=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function u(S){var M=!1;return"altKey"in S&&(M=M||S.altKey!==t.alt,t.alt=!!S.altKey),"shiftKey"in S&&(M=M||S.shiftKey!==t.shift,t.shift=!!S.shiftKey),"ctrlKey"in S&&(M=M||S.ctrlKey!==t.control,t.control=!!S.ctrlKey),"metaKey"in S&&(M=M||S.metaKey!==t.meta,t.meta=!!S.metaKey),M}function n(S,M){var R=y.x(M),T=y.y(M);"buttons"in M&&(S=M.buttons|0),(S!==x||R!==h||T!==d||u(M))&&(x=S|0,h=R||0,d=T||0,L&&L(x,h,d,t))}function i(S){n(0,S)}function s(){(x||h||d||t.shift||t.alt||t.meta||t.control)&&(h=d=0,x=0,t.shift=t.alt=t.control=t.meta=!1,L&&L(0,0,0,t))}function o(S){u(S)&&L&&L(x,h,d,t)}function m(S){y.buttons(S)===0?n(0,S):n(x,S)}function c(S){n(x|y.buttons(S),S)}function b(S){n(x&~y.buttons(S),S)}function v(){r||(r=!0,a.addEventListener("mousemove",m),a.addEventListener("mousedown",c),a.addEventListener("mouseup",b),a.addEventListener("mouseleave",i),a.addEventListener("mouseenter",i),a.addEventListener("mouseout",i),a.addEventListener("mouseover",i),a.addEventListener("blur",s),a.addEventListener("keyup",o),a.addEventListener("keydown",o),a.addEventListener("keypress",o),a!==window&&(window.addEventListener("blur",s),window.addEventListener("keyup",o),window.addEventListener("keydown",o),window.addEventListener("keypress",o)))}function l(){r&&(r=!1,a.removeEventListener("mousemove",m),a.removeEventListener("mousedown",c),a.removeEventListener("mouseup",b),a.removeEventListener("mouseleave",i),a.removeEventListener("mouseenter",i),a.removeEventListener("mouseout",i),a.removeEventListener("mouseover",i),a.removeEventListener("blur",s),a.removeEventListener("keyup",o),a.removeEventListener("keydown",o),a.removeEventListener("keypress",o),a!==window&&(window.removeEventListener("blur",s),window.removeEventListener("keyup",o),window.removeEventListener("keydown",o),window.removeEventListener("keypress",o)))}v();var p={element:a};return Object.defineProperties(p,{enabled:{get:function(){return r},set:function(S){S?v():l()},enumerable:!0},buttons:{get:function(){return x},enumerable:!0},x:{get:function(){return h},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),p}},48956:function(W){var V={left:0,top:0};W.exports=e;function e(C,a,L){a=a||C.currentTarget||C.srcElement,Array.isArray(L)||(L=[0,0]);var x=C.clientX||0,h=C.clientY||0,d=y(a);return L[0]=x-d.left,L[1]=h-d.top,L}function y(C){return C===window||C===document||C===document.body?V:C.getBoundingClientRect()}},74311:function(W,V){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var x=L.which;if(x===2)return 4;if(x===3)return 2;if(x>0)return 1<<x-1}else if("button"in L){var x=L.button;if(x===1)return 4;if(x===2)return 2;if(x>=0)return 1<<x}}return 0}V.buttons=e;function y(L){return L.target||L.srcElement||window}V.element=y;function C(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var x=y(L),h=x.getBoundingClientRect();return L.clientX-h.left}return 0}V.x=C;function a(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var x=y(L),h=x.getBoundingClientRect();return L.clientY-h.top}return 0}V.y=a},1195:function(W,V,e){var y=e(75686);W.exports=C;function C(a,L,x){typeof a=="function"&&(x=!!L,L=a,a=window);var h=y("ex",a),d=function(t){x&&t.preventDefault();var r=t.deltaX||0,u=t.deltaY||0,n=t.deltaZ||0,i=t.deltaMode,s=1;switch(i){case 1:s=h;break;case 2:s=window.innerHeight;break}if(r*=s,u*=s,n*=s,r||u||n)return L(r,u,n,t)};return a.addEventListener("wheel",d),d}},7417:function(W,V,e){var y;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,L,x){L[a]=L[a]||x(),W.exports?W.exports=L[a]:(y=(function(){return L[a]}).call(V,e,V,W),y!==void 0&&(W.exports=y))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,L,x,h=Object.prototype.toString,d=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(p,S,M,R){return Object.defineProperty(p,S,{value:M,writable:!0,configurable:R!==!1})}}catch{a=function(S,M,R){return S[M]=R,S}}x=function(){var p,S,M;function R(T,E){this.fn=T,this.self=E,this.next=void 0}return{add:function(E,A){M=new R(E,A),S?S.next=M:p=M,S=M,M=void 0},drain:function(){var E=p;for(p=S=L=void 0;E;)E.fn.call(E.self),E=E.next}}}();function t(l,p){x.add(l,p),L||(L=d(x.drain))}function r(l){var p,S=typeof l;return l!=null&&(S=="object"||S=="function")&&(p=l.then),typeof p=="function"?p:!1}function u(){for(var l=0;l<this.chain.length;l++)n(this,this.state===1?this.chain[l].success:this.chain[l].failure,this.chain[l]);this.chain.length=0}function n(l,p,S){var M,R;try{p===!1?S.reject(l.msg):(p===!0?M=l.msg:M=p.call(void 0,l.msg),M===S.promise?S.reject(TypeError("Promise-chain cycle")):(R=r(M))?R.call(M,S.resolve,S.reject):S.resolve(M))}catch(T){S.reject(T)}}function i(l){var p,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(p=r(l))?t(function(){var M=new m(S);try{p.call(l,function(){i.apply(M,arguments)},function(){s.apply(M,arguments)})}catch(R){s.call(M,R)}}):(S.msg=l,S.state=1,S.chain.length>0&&t(u,S))}catch(M){s.call(new m(S),M)}}}function s(l){var p=this;p.triggered||(p.triggered=!0,p.def&&(p=p.def),p.msg=l,p.state=2,p.chain.length>0&&t(u,p))}function o(l,p,S,M){for(var R=0;R<p.length;R++)(function(E){l.resolve(p[E]).then(function(f){S(E,f)},M)})(R)}function m(l){this.def=l,this.triggered=!1}function c(l){this.promise=l,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(l){if(typeof l!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var p=new c(this);this.then=function(M,R){var T={success:typeof M=="function"?M:!0,failure:typeof R=="function"?R:!1};return T.promise=new this.constructor(function(A,f){if(typeof A!="function"||typeof f!="function")throw TypeError("Not a function");T.resolve=A,T.reject=f}),p.chain.push(T),p.state!==0&&t(u,p),T.promise},this.catch=function(M){return this.then(void 0,M)};try{l.call(void 0,function(M){i.call(p,M)},function(M){s.call(p,M)})}catch(S){s.call(p,S)}}var v=a({},"constructor",b,!1);return b.prototype=v,a(v,"__NPO__",0,!1),a(b,"resolve",function(p){var S=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new S(function(R,T){if(typeof R!="function"||typeof T!="function")throw TypeError("Not a function");R(p)})}),a(b,"reject",function(p){return new this(function(M,R){if(typeof M!="function"||typeof R!="function")throw TypeError("Not a function");R(p)})}),a(b,"all",function(p){var S=this;return h.call(p)!="[object Array]"?S.reject(TypeError("Not an array")):p.length===0?S.resolve([]):new S(function(R,T){if(typeof R!="function"||typeof T!="function")throw TypeError("Not a function");var E=p.length,A=Array(E),f=0;o(S,p,function(w,z){A[w]=z,++f===E&&R(A)},T)})}),a(b,"race",function(p){var S=this;return h.call(p)!="[object Array]"?S.reject(TypeError("Not an array")):new S(function(R,T){if(typeof R!="function"||typeof T!="function")throw TypeError("Not a function");o(S,p,function(A,f){R(f)},T)})}),b})},18625:function(W){var V=Math.PI,e=h(120);W.exports=y;function y(d){for(var t,r=[],u=0,n=0,i=0,s=0,o=null,m=null,c=0,b=0,v=0,l=d.length;v<l;v++){var p=d[v],S=p[0];switch(S){case"M":i=p[1],s=p[2];break;case"A":p=L(c,b,p[1],p[2],h(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(r.push(p.splice(0,7)),p.unshift("C"));break;case"S":var M=c,R=b;(t=="C"||t=="S")&&(M+=M-u,R+=R-n),p=["C",M,R,p[1],p[2],p[3],p[4]];break;case"T":t=="Q"||t=="T"?(o=c*2-o,m=b*2-m):(o=c,m=b),p=a(c,b,o,m,p[1],p[2]);break;case"Q":o=p[1],m=p[2],p=a(c,b,p[1],p[2],p[3],p[4]);break;case"L":p=C(c,b,p[1],p[2]);break;case"H":p=C(c,b,p[1],b);break;case"V":p=C(c,b,c,p[1]);break;case"Z":p=C(c,b,i,s);break}t=S,c=p[p.length-2],b=p[p.length-1],p.length>4?(u=p[p.length-4],n=p[p.length-3]):(u=c,n=b),r.push(p)}return r}function C(d,t,r,u){return["C",d,t,r,u,r,u]}function a(d,t,r,u,n,i){return["C",d/3+.6666666666666666*r,t/3+.6666666666666666*u,n/3+.6666666666666666*r,i/3+.6666666666666666*u,n,i]}function L(d,t,r,u,n,i,s,o,m,c){if(c)A=c[0],f=c[1],T=c[2],E=c[3];else{var b=x(d,t,-n);d=b.x,t=b.y,b=x(o,m,-n),o=b.x,m=b.y;var v=(d-o)/2,l=(t-m)/2,p=v*v/(r*r)+l*l/(u*u);p>1&&(p=Math.sqrt(p),r=p*r,u=p*u);var S=r*r,M=u*u,R=(i==s?-1:1)*Math.sqrt(Math.abs((S*M-S*l*l-M*v*v)/(S*l*l+M*v*v)));R==1/0&&(R=1);var T=R*r*l/u+(d+o)/2,E=R*-u*v/r+(t+m)/2,A=Math.asin(((t-E)/u).toFixed(9)),f=Math.asin(((m-E)/u).toFixed(9));A=d<T?V-A:A,f=o<T?V-f:f,A<0&&(A=V*2+A),f<0&&(f=V*2+f),s&&A>f&&(A=A-V*2),!s&&f>A&&(f=f-V*2)}if(Math.abs(f-A)>e){var P=f,w=o,z=m;f=A+e*(s&&f>A?1:-1),o=T+r*Math.cos(f),m=E+u*Math.sin(f);var F=L(o,m,r,u,n,0,s,w,z,[f,P,T,E])}var H=Math.tan((f-A)/4),_=4/3*r*H,B=4/3*u*H,N=[2*d-(d+_*Math.sin(A)),2*t-(t-B*Math.cos(A)),o+_*Math.sin(f),m-B*Math.cos(f),o,m];if(c)return N;F&&(N=N.concat(F));for(var O=0;O<N.length;){var U=x(N[O],N[O+1],n);N[O++]=U.x,N[O++]=U.y}return N}function x(d,t,r){return{x:d*Math.cos(r)-t*Math.sin(r),y:d*Math.sin(r)+t*Math.cos(r)}}function h(d){return d*(V/180)}},56131:function(W){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function C(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function a(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var x={},h=0;h<10;h++)x["_"+String.fromCharCode(h)]=h;var d=Object.getOwnPropertyNames(x).map(function(r){return x[r]});if(d.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}W.exports=a()?Object.assign:function(L,x){for(var h,d=C(L),t,r=1;r<arguments.length;r++){h=Object(arguments[r]);for(var u in h)e.call(h,u)&&(d[u]=h[u]);if(V){t=V(h);for(var n=0;n<t.length;n++)y.call(h,t[n])&&(d[t[n]]=h[t[n]])}}return d}},65848:function(W){var V=function(e){return e!==e};W.exports=function(y,C){return y===0&&C===0?1/y===1/C:!!(y===C||V(y)&&V(C))}},64003:function(W,V,e){var y=e(17045),C=e(68222),a=e(65848),L=e(27015),x=e(55572),h=C(L(),Object);y(h,{getPolyfill:L,implementation:a,shim:x}),W.exports=h},27015:function(W,V,e){var y=e(65848);W.exports=function(){return typeof Object.is=="function"?Object.is:y}},55572:function(W,V,e){var y=e(27015),C=e(17045);W.exports=function(){var L=y();return C(Object,{is:L},{is:function(){return Object.is!==L}}),L}},99019:function(W,V,e){var y;if(!Object.keys){var C=Object.prototype.hasOwnProperty,a=Object.prototype.toString,L=e(64178),x=Object.prototype.propertyIsEnumerable,h=!x.call({toString:null},"toString"),d=x.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(s){var o=s.constructor;return o&&o.prototype===s},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var s in window)try{if(!u["$"+s]&&C.call(window,s)&&window[s]!==null&&typeof window[s]=="object")try{r(window[s])}catch{return!0}}catch{return!0}return!1}(),i=function(s){if(typeof window>"u"||!n)return r(s);try{return r(s)}catch{return!1}};y=function(o){var m=o!==null&&typeof o=="object",c=a.call(o)==="[object Function]",b=L(o),v=m&&a.call(o)==="[object String]",l=[];if(!m&&!c&&!b)throw new TypeError("Object.keys called on a non-object");var p=d&&c;if(v&&o.length>0&&!C.call(o,0))for(var S=0;S<o.length;++S)l.push(String(S));if(b&&o.length>0)for(var M=0;M<o.length;++M)l.push(String(M));else for(var R in o)!(p&&R==="prototype")&&C.call(o,R)&&l.push(String(R));if(h)for(var T=i(o),E=0;E<t.length;++E)!(T&&t[E]==="constructor")&&C.call(o,t[E])&&l.push(t[E]);return l}}W.exports=y},8709:function(W,V,e){var y=Array.prototype.slice,C=e(64178),a=Object.keys,L=a?function(d){return a(d)}:e(99019),x=Object.keys;L.shim=function(){if(Object.keys){var d=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);d||(Object.keys=function(r){return C(r)?x(y.call(r)):x(r)})}else Object.keys=L;return Object.keys||L},W.exports=L},64178:function(W){var V=Object.prototype.toString;W.exports=function(y){var C=V.call(y),a=C==="[object Arguments]";return a||(a=C!=="[object Array]"&&y!==null&&typeof y=="object"&&typeof y.length=="number"&&y.length>=0&&V.call(y.callee)==="[object Function]"),a}},88641:function(W){function V(C,a){if(typeof C!="string")return[C];var L=[C];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var x=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],h=a.escape||"___",d=!!a.flat;x.forEach(function(u){var n=new RegExp(["\\",u[0],"[^\\",u[0],"\\",u[1],"]*\\",u[1]].join("")),i=[];function s(o,m,c){var b=L.push(o.slice(u[0].length,-u[1].length))-1;return i.push(b),h+b+h}L.forEach(function(o,m){for(var c,b=0;o!=c;)if(c=o,o=o.replace(n,s),b++>1e4)throw Error("References have circular dependency. Please, check them.");L[m]=o}),i=i.reverse(),L=L.map(function(o){return i.forEach(function(m){o=o.replace(new RegExp("(\\"+h+m+"\\"+h+")","g"),u[0]+"$1"+u[1])}),o})});var t=new RegExp("\\"+h+"([0-9]+)\\"+h);function r(u,n,i){for(var s=[],o,m=0;o=t.exec(u);){if(m++>1e4)throw Error("Circular references in parenthesis");s.push(u.slice(0,o.index)),s.push(r(n[o[1]],n)),u=u.slice(o.index+o[0].length)}return s.push(u),s}return d?L:r(L[0],L)}function e(C,a){if(a&&a.flat){var L=a&&a.escape||"___",x=C[0],h;if(!x)return"";for(var d=new RegExp("\\"+L+"([0-9]+)\\"+L),t=0;x!=h;){if(t++>1e4)throw Error("Circular references in "+C);h=x,x=x.replace(d,r)}return x}return C.reduce(function u(n,i){return Array.isArray(i)&&(i=i.reduce(u,"")),n+i},"");function r(u,n){if(C[n]==null)throw Error("Reference "+n+"is undefined");return C[n]}}function y(C,a){return Array.isArray(C)?e(C,a):V(C,a)}y.parse=V,y.stringify=e,W.exports=y},18863:function(W,V,e){var y=e(71299);W.exports=C;function C(a){var L;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?L={width:a[0],height:a[0],x:0,y:0}:a.length===2?L={width:a[0],height:a[1],x:0,y:0}:L={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=y(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:a.left||0,y:a.top||0},a.width==null?a.right?L.width=a.right-L.x:L.width=0:L.width=a.width,a.height==null?a.bottom?L.height=a.bottom-L.y:L.height=0:L.height=a.height),L}},95616:function(W){W.exports=y;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function y(L){var x=[];return L.replace(e,function(h,d,t){var r=d.toLowerCase();for(t=a(t),r=="m"&&t.length>2&&(x.push([d].concat(t.splice(0,2))),r="l",d=d=="m"?"l":"L");;){if(t.length==V[r])return t.unshift(d),x.push(t);if(t.length<V[r])throw new Error("malformed path data");x.push([d].concat(t.splice(0,V[r])))}}),x}var C=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(L){var x=L.match(C);return x?x.map(Number):[]}},25677:function(W){W.exports=function(e,y){y||(y=[0,""]),e=String(e);var C=parseFloat(e,10);return y[0]=C,y[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",y}},9748:function(W,V,e){var y=e(90386);(function(){var C,a,L,x,h,d;typeof performance<"u"&&performance!==null&&performance.now?W.exports=function(){return performance.now()}:typeof y<"u"&&y!==null&&y.hrtime?(W.exports=function(){return(C()-h)/1e6},a=y.hrtime,C=function(){var t;return t=a(),t[0]*1e9+t[1]},x=C(),d=y.uptime()*1e9,h=x-d):Date.now?(W.exports=function(){return Date.now()-L},L=Date.now()):(W.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},71299:function(W){W.exports=function(C,a,L){var x={},h,d;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var t={};for(d=0;d<a.length;d++)t[a[d]]=!0;a=t}for(h in a)a[h]=e(a[h]);var r={};for(h in a){var u=a[h];if(Array.isArray(u))for(d=0;d<u.length;d++){var n=u[d];if(L&&(r[n]=!0),n in C){if(x[h]=C[n],L)for(var i=d;i<u.length;i++)r[u[i]]=!0;break}}else h in C&&(a[h]&&(x[h]=C[h]),L&&(r[h]=!0))}if(L)for(h in C)r[h]||(x[h]=C[h]);return x};var V={};function e(y){return V[y]?V[y]:(typeof y=="string"&&(y=V[y]=y.split(/\s*,\s*|\s+/)),y)}},38258:function(W){W.exports=function(e,y,C,a){var L=e[0],x=e[1],h=!1;C===void 0&&(C=0),a===void 0&&(a=y.length);for(var d=a-C,t=0,r=d-1;t<d;r=t++){var u=y[t+C][0],n=y[t+C][1],i=y[r+C][0],s=y[r+C][1],o=n>x!=s>x&&L<(i-u)*(x-n)/(s-n)+u;o&&(h=!h)}return h}},52142:function(W,V,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var y=e(69444),C=e(29023),a=e(87263),L=e(11328),x=e(55968),h=e(10670),d=!1,t=C(),r;r={buildLog:function(n){return n===!0?d=y():n===!1&&(d=!1),d===!1?!1:d.list},epsilon:function(n){return t.epsilon(n)},segments:function(n){var i=a(!0,t,d);return n.regions.forEach(i.addRegion),{segments:i.calculate(n.inverted),inverted:n.inverted}},combine:function(n,i){var s=a(!1,t,d);return{combined:s.calculate(n.segments,n.inverted,i.segments,i.inverted),inverted1:n.inverted,inverted2:i.inverted}},selectUnion:function(n){return{segments:x.union(n.combined,d),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:x.intersect(n.combined,d),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:x.difference(n.combined,d),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:x.differenceRev(n.combined,d),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:x.xor(n.combined,d),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,t,d),inverted:n.inverted}},polygonFromGeoJSON:function(n){return h.toPolygon(r,n)},polygonToGeoJSON:function(n){return h.fromPolygon(r,t,n)},union:function(n,i){return u(n,i,r.selectUnion)},intersect:function(n,i){return u(n,i,r.selectIntersect)},difference:function(n,i){return u(n,i,r.selectDifference)},differenceRev:function(n,i){return u(n,i,r.selectDifferenceRev)},xor:function(n,i){return u(n,i,r.selectXor)}};function u(n,i,s){var o=r.segments(n),m=r.segments(i),c=r.combine(o,m),b=s(c);return r.polygon(b)}typeof window=="object"&&(window.PolyBool=r),W.exports=r},69444:function(W){function V(){var e,y=0,C=!1;function a(L,x){return e.list.push({type:L,data:x?JSON.parse(JSON.stringify(x)):void 0}),e}return e={list:[],segmentId:function(){return y++},checkIntersection:function(L,x){return a("check",{seg1:L,seg2:x})},segmentChop:function(L,x){return a("div_seg",{seg:L,pt:x}),a("chop",{seg:L,pt:x})},statusRemove:function(L){return a("pop_seg",{seg:L})},segmentUpdate:function(L){return a("seg_update",{seg:L})},segmentNew:function(L,x){return a("new_seg",{seg:L,primary:x})},segmentRemove:function(L){return a("rem_seg",{seg:L})},tempStatus:function(L,x,h){return a("temp_status",{seg:L,above:x,below:h})},rewind:function(L){return a("rewind",{seg:L})},status:function(L,x,h){return a("status",{seg:L,above:x,below:h})},vert:function(L){return L===C?e:(C=L,a("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),a("log",{txt:L})},reset:function(){return a("reset")},selected:function(L){return a("selected",{segs:L})},chainStart:function(L){return a("chain_start",{seg:L})},chainRemoveHead:function(L,x){return a("chain_rem_head",{index:L,pt:x})},chainRemoveTail:function(L,x){return a("chain_rem_tail",{index:L,pt:x})},chainNew:function(L,x){return a("chain_new",{pt1:L,pt2:x})},chainMatch:function(L){return a("chain_match",{index:L})},chainClose:function(L){return a("chain_close",{index:L})},chainAddHead:function(L,x){return a("chain_add_head",{index:L,pt:x})},chainAddTail:function(L,x){return a("chain_add_tail",{index:L,pt:x})},chainConnect:function(L,x){return a("chain_con",{index1:L,index2:x})},chainReverse:function(L){return a("chain_rev",{index:L})},chainJoin:function(L,x){return a("chain_join",{index1:L,index2:x})},done:function(){return a("done")}},e}W.exports=V},29023:function(W){function V(e){typeof e!="number"&&(e=1e-10);var y={epsilon:function(C){return typeof C=="number"&&(e=C),e},pointAboveOrOnLine:function(C,a,L){var x=a[0],h=a[1],d=L[0],t=L[1],r=C[0],u=C[1];return(d-x)*(u-h)-(t-h)*(r-x)>=-e},pointBetween:function(C,a,L){var x=C[1]-a[1],h=L[0]-a[0],d=C[0]-a[0],t=L[1]-a[1],r=d*h+x*t;if(r<e)return!1;var u=h*h+t*t;return!(r-u>-e)},pointsSameX:function(C,a){return Math.abs(C[0]-a[0])<e},pointsSameY:function(C,a){return Math.abs(C[1]-a[1])<e},pointsSame:function(C,a){return y.pointsSameX(C,a)&&y.pointsSameY(C,a)},pointsCompare:function(C,a){return y.pointsSameX(C,a)?y.pointsSameY(C,a)?0:C[1]<a[1]?-1:1:C[0]<a[0]?-1:1},pointsCollinear:function(C,a,L){var x=C[0]-a[0],h=C[1]-a[1],d=a[0]-L[0],t=a[1]-L[1];return Math.abs(x*t-d*h)<e},linesIntersect:function(C,a,L,x){var h=a[0]-C[0],d=a[1]-C[1],t=x[0]-L[0],r=x[1]-L[1],u=h*r-d*t;if(Math.abs(u)<e)return!1;var n=C[0]-L[0],i=C[1]-L[1],s=(t*i-r*n)/u,o=(h*i-d*n)/u,m={alongA:0,alongB:0,pt:[C[0]+s*h,C[1]+s*d]};return s<=-e?m.alongA=-2:s<e?m.alongA=-1:s-1<=-e?m.alongA=0:s-1<e?m.alongA=1:m.alongA=2,o<=-e?m.alongB=-2:o<e?m.alongB=-1:o-1<=-e?m.alongB=0:o-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(C,a){for(var L=C[0],x=C[1],h=a[a.length-1][0],d=a[a.length-1][1],t=!1,r=0;r<a.length;r++){var u=a[r][0],n=a[r][1];n-x>e!=d-x>e&&(h-u)*(x-n)/(d-n)+u-L>e&&(t=!t),h=u,d=n}return t}};return y}W.exports=V},10670:function(W){var V={toPolygon:function(e,y){function C(x){if(x.length<=0)return e.segments({inverted:!1,regions:[]});function h(r){var u=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[u]})}for(var d=h(x[0]),t=1;t<x.length;t++)d=e.selectDifference(e.combine(d,h(x[t])));return d}if(y.type==="Polygon")return e.polygon(C(y.coordinates));if(y.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),L=0;L<y.coordinates.length;L++)a=e.selectUnion(e.combine(a,C(y.coordinates[L])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,y,C){C=e.polygon(e.segments(C));function a(s,o){return y.pointInsideRegion([(s[0][0]+s[1][0])*.5,(s[0][1]+s[1][1])*.5],o)}function L(s){return{region:s,children:[]}}var x=L(null);function h(s,o){for(var m=0;m<s.children.length;m++){var c=s.children[m];if(a(o,c.region)){h(c,o);return}}for(var b=L(o),m=0;m<s.children.length;m++){var c=s.children[m];a(c.region,o)&&(b.children.push(c),s.children.splice(m,1),m--)}s.children.push(b)}for(var d=0;d<C.regions.length;d++){var t=C.regions[d];t.length<3||h(x,t)}function r(s,o){for(var m=0,c=s[s.length-1][0],b=s[s.length-1][1],v=[],l=0;l<s.length;l++){var p=s[l][0],S=s[l][1];v.push([p,S]),m+=S*c-p*b,c=p,b=S}var M=m<0;return M!==o&&v.reverse(),v.push([v[0][0],v[0][1]]),v}var u=[];function n(s){var o=[r(s.region,!1)];u.push(o);for(var m=0;m<s.children.length;m++)o.push(i(s.children[m]))}function i(s){for(var o=0;o<s.children.length;o++)n(s.children[o]);return r(s.region,!0)}for(var d=0;d<x.children.length;d++)n(x.children[d]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};W.exports=V},87263:function(W,V,e){var y=e(26859);function C(a,L,x){function h(b,v){return{id:x?x.segmentId():-1,start:b,end:v,myFill:{above:null,below:null},otherFill:null}}function d(b,v,l){return{id:x?x.segmentId():-1,start:b,end:v,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var t=y.create();function r(b,v,l,p,S,M){var R=L.pointsCompare(v,S);return R!==0?R:L.pointsSame(l,M)?0:b!==p?b?1:-1:L.pointAboveOrOnLine(l,p?S:M,p?M:S)?1:-1}function u(b,v){t.insertBefore(b,function(l){var p=r(b.isStart,b.pt,v,l.isStart,l.pt,l.other.pt);return p<0})}function n(b,v){var l=y.node({isStart:!0,pt:b.start,seg:b,primary:v,other:null,status:null});return u(l,b.end),l}function i(b,v,l){var p=y.node({isStart:!1,pt:v.end,seg:v,primary:l,other:b,status:null});b.other=p,u(p,b.pt)}function s(b,v){var l=n(b,v);return i(l,b,v),l}function o(b,v){x&&x.segmentChop(b.seg,v),b.other.remove(),b.seg.end=v,b.other.pt=v,u(b.other,b.pt)}function m(b,v){var l=d(v,b.seg.end,b.seg);return o(b,v),s(l,b.primary)}function c(b,v){var l=y.create();function p(B,N){var O=B.seg.start,U=B.seg.end,K=N.seg.start,re=N.seg.end;return L.pointsCollinear(O,K,re)?L.pointsCollinear(U,K,re)||L.pointAboveOrOnLine(U,K,re)?1:-1:L.pointAboveOrOnLine(O,K,re)?1:-1}function S(B){return l.findTransition(function(N){var O=p(B,N.ev);return O>0})}function M(B,N){var O=B.seg,U=N.seg,K=O.start,re=O.end,ae=U.start,ue=U.end;x&&x.checkIntersection(O,U);var ve=L.linesIntersect(K,re,ae,ue);if(ve===!1){if(!L.pointsCollinear(K,re,ae)||L.pointsSame(K,ue)||L.pointsSame(re,ae))return!1;var ee=L.pointsSame(K,ae),J=L.pointsSame(re,ue);if(ee&&J)return N;var Q=!ee&&L.pointBetween(K,ae,ue),X=!J&&L.pointBetween(re,ae,ue);if(ee)return X?m(N,re):m(B,ue),N;Q&&(J||(X?m(N,re):m(B,ue)),m(N,K))}else ve.alongA===0&&(ve.alongB===-1?m(B,ae):ve.alongB===0?m(B,ve.pt):ve.alongB===1&&m(B,ue)),ve.alongB===0&&(ve.alongA===-1?m(N,K):ve.alongA===0?m(N,ve.pt):ve.alongA===1&&m(N,re));return!1}for(var R=[];!t.isEmpty();){var T=t.getHead();if(x&&x.vert(T.pt[0]),T.isStart){let B=function(){if(A){var N=M(T,A);if(N)return N}return f?M(T,f):!1};var _=B;x&&x.segmentNew(T.seg,T.primary);var E=S(T),A=E.before?E.before.ev:null,f=E.after?E.after.ev:null;x&&x.tempStatus(T.seg,A?A.seg:!1,f?f.seg:!1);var P=B();if(P){if(a){var w;T.seg.myFill.below===null?w=!0:w=T.seg.myFill.above!==T.seg.myFill.below,w&&(P.seg.myFill.above=!P.seg.myFill.above)}else P.seg.otherFill=T.seg.myFill;x&&x.segmentUpdate(P.seg),T.other.remove(),T.remove()}if(t.getHead()!==T){x&&x.rewind(T.seg);continue}if(a){var w;T.seg.myFill.below===null?w=!0:w=T.seg.myFill.above!==T.seg.myFill.below,f?T.seg.myFill.below=f.seg.myFill.above:T.seg.myFill.below=b,w?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){var z;f?T.primary===f.primary?z=f.seg.otherFill.above:z=f.seg.myFill.above:z=T.primary?v:b,T.seg.otherFill={above:z,below:z}}x&&x.status(T.seg,A?A.seg:!1,f?f.seg:!1),T.other.status=E.insert(y.node({ev:T}))}else{var F=T.status;if(F===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(F.prev)&&l.exists(F.next)&&M(F.prev.ev,F.next.ev),x&&x.statusRemove(F.ev.seg),F.remove(),!T.primary){var H=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=H}R.push(T.seg)}t.getHead().remove()}return x&&x.done(),R}return a?{addRegion:function(b){for(var v,l=b[b.length-1],p=0;p<b.length;p++){v=l,l=b[p];var S=L.pointsCompare(v,l);S!==0&&s(h(S<0?v:l,S<0?l:v),!0)}},calculate:function(b){return c(b,!1)}}:{calculate:function(b,v,l,p){return b.forEach(function(S){s(d(S.start,S.end,S),!0)}),l.forEach(function(S){s(d(S.start,S.end,S),!1)}),c(v,p)}}}W.exports=C},26859:function(W){var V={create:function(){var e={root:{root:!0,next:null},exists:function(y){return!(y===null||y===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(y,C){for(var a=e.root,L=e.root.next;L!==null;){if(C(L)){y.prev=L.prev,y.next=L,L.prev.next=y,L.prev=y;return}a=L,L=L.next}a.next=y,y.prev=a,y.next=null},findTransition:function(y){for(var C=e.root,a=e.root.next;a!==null&&!y(a);)C=a,a=a.next;return{before:C===e.root?null:C,after:a,insert:function(L){return L.prev=C,L.next=a,C.next=L,a!==null&&(a.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};W.exports=V},11328:function(W){function V(e,y,C){var a=[],L=[];return e.forEach(function(x){var h=x.start,d=x.end;if(y.pointsSame(h,d)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}C&&C.chainStart(x);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},u=t;function n(P,w,z){return u.index=P,u.matches_head=w,u.matches_pt1=z,u===t?(u=r,!1):(u=null,!0)}for(var i=0;i<a.length;i++){var s=a[i],o=s[0];s[1];var m=s[s.length-1];if(s[s.length-2],y.pointsSame(o,h)){if(n(i,!0,!0))break}else if(y.pointsSame(o,d)){if(n(i,!0,!1))break}else if(y.pointsSame(m,h)){if(n(i,!1,!0))break}else if(y.pointsSame(m,d)&&n(i,!1,!1))break}if(u===t){a.push([h,d]),C&&C.chainNew(h,d);return}if(u===r){C&&C.chainMatch(t.index);var c=t.index,b=t.matches_pt1?d:h,v=t.matches_head,s=a[c],l=v?s[0]:s[s.length-1],p=v?s[1]:s[s.length-2],S=v?s[s.length-1]:s[0],M=v?s[s.length-2]:s[1];if(y.pointsCollinear(p,l,b)&&(v?(C&&C.chainRemoveHead(t.index,b),s.shift()):(C&&C.chainRemoveTail(t.index,b),s.pop()),l=p),y.pointsSame(S,b)){a.splice(c,1),y.pointsCollinear(M,S,l)&&(v?(C&&C.chainRemoveTail(t.index,l),s.pop()):(C&&C.chainRemoveHead(t.index,l),s.shift())),C&&C.chainClose(t.index),L.push(s);return}v?(C&&C.chainAddHead(t.index,b),s.unshift(b)):(C&&C.chainAddTail(t.index,b),s.push(b));return}function R(P){C&&C.chainReverse(P),a[P].reverse()}function T(P,w){var z=a[P],F=a[w],H=z[z.length-1],_=z[z.length-2],B=F[0],N=F[1];y.pointsCollinear(_,H,B)&&(C&&C.chainRemoveTail(P,H),z.pop(),H=_),y.pointsCollinear(H,B,N)&&(C&&C.chainRemoveHead(w,B),F.shift()),C&&C.chainJoin(P,w),a[P]=z.concat(F),a.splice(w,1)}var E=t.index,A=r.index;C&&C.chainConnect(E,A);var f=a[E].length<a[A].length;t.matches_head?r.matches_head?f?(R(E),T(E,A)):(R(A),T(A,E)):T(A,E):r.matches_head?T(E,A):f?(R(E),T(A,E)):(R(A),T(E,A))}),L}W.exports=V},55968:function(W){function V(y,C,a){var L=[];return y.forEach(function(x){var h=(x.myFill.above?8:0)+(x.myFill.below?4:0)+(x.otherFill&&x.otherFill.above?2:0)+(x.otherFill&&x.otherFill.below?1:0);C[h]!==0&&L.push({id:a?a.segmentId():-1,start:x.start,end:x.end,myFill:{above:C[h]===1,below:C[h]===2},otherFill:null})}),a&&a.selected(L),L}var e={union:function(y,C){return V(y,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],C)},intersect:function(y,C){return V(y,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],C)},difference:function(y,C){return V(y,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],C)},differenceRev:function(y,C){return V(y,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],C)},xor:function(y,C){return V(y,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],C)}};W.exports=e},14847:function(W,V,e){var y=e(21630).Transform,C=e(90715);function a(){y.call(this,{readableObjectMode:!0})}a.prototype=Object.create(y.prototype),a.prototype.constructor=a,C(a.prototype),V.OF=function(x,h,d){for(var t=h,r=0;r<d.length;)if(x[t++]!==d[r++])return!1;return!0},V.eG=function(x,h){var d=[],t=0;if(h&&h==="hex")for(;t<x.length;)d.push(parseInt(x.slice(t,t+2),16)),t+=2;else for(;t<x.length;t++)d.push(x.charCodeAt(t)&255);return d},V.mP=function(x,h){return x[h]|x[h+1]<<8},V.n8=function(x,h){return x[h+1]|x[h]<<8},V.nm=function(x,h){return x[h]|x[h+1]<<8|x[h+2]<<16|x[h+3]*16777216},V.Ag=function(x,h){return x[h+3]|x[h+2]<<8|x[h+1]<<16|x[h]*16777216};function L(x,h,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=x,h&&(this.code=h),d&&(this.statusCode=d)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},71371:function(W){function V(C,a){var L=new Error(C);return L.code=a,L}function e(C){try{return decodeURIComponent(escape(C))}catch{return C}}function y(C,a,L){this.input=C.subarray(a,L),this.start=a;var x=String.fromCharCode.apply(null,this.input.subarray(0,4));if(x!=="II*\0"&&x!=="MM\0*")throw V("invalid TIFF signature","EBADDATA");this.big_endian=x[0]==="M"}y.prototype.each=function(C){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,C)}},y.prototype.read_uint16=function(C){var a=this.input;if(C+2>a.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?a[C]*256+a[C+1]:a[C]+a[C+1]*256},y.prototype.read_uint32=function(C){var a=this.input;if(C+4>a.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?a[C]*16777216+a[C+1]*65536+a[C+2]*256+a[C+3]:a[C]+a[C+1]*256+a[C+2]*65536+a[C+3]*16777216},y.prototype.is_subifd_link=function(C,a){return C===0&&a===34665||C===0&&a===34853||C===34665&&a===40965},y.prototype.exif_format_length=function(C){switch(C){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},y.prototype.exif_format_read=function(C,a){var L;switch(C){case 1:case 2:return L=this.input[a],L;case 6:return L=this.input[a],L|(L&128)*33554430;case 3:return L=this.read_uint16(a),L;case 8:return L=this.read_uint16(a),L|(L&32768)*131070;case 4:return L=this.read_uint32(a),L;case 9:return L=this.read_uint32(a),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},y.prototype.scan_ifd=function(C,a,L){var x=this.read_uint16(a);a+=2;for(var h=0;h<x;h++){var d=this.read_uint16(a),t=this.read_uint16(a+2),r=this.read_uint32(a+4),u=this.exif_format_length(t),n=r*u,i=n<=4?a+8:this.read_uint32(a+8),s=!1;if(i+n>this.input.length)throw V("unexpected EOF","EBADDATA");for(var o=[],m=i,c=0;c<r;c++,m+=u){var b=this.exif_format_read(t,m);if(b===null){o=null;break}o.push(b)}Array.isArray(o)&&t===2&&(o=e(String.fromCharCode.apply(null,o)),o&&o[o.length-1]==="\0"&&(o=o.slice(0,-1))),this.is_subifd_link(C,d)&&Array.isArray(o)&&Number.isInteger(o[0])&&o[0]>0&&(this.ifds_to_read.push({id:d,offset:o[0]}),s=!0);var v={is_big_endian:this.big_endian,ifd:C,tag:d,format:t,count:r,entry_offset:a+this.start,data_length:n,data_offset:i+this.start,value:o,is_subifd_link:s};if(L(v)===!1){this.aborted=!0;return}a+=12}C===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},W.exports.ExifParser=y,W.exports.get_orientation=function(C){var a=0;try{return new y(C,0,C.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return a=L.value[0],!1}),a}catch{return-1}}},76767:function(W,V,e){var y=e(14847).n8,C=e(14847).Ag;function a(n,i){if(n.length<4+i)return null;var s=C(n,i);return n.length<s+i||s<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(i+4,i+8)),data:n.slice(i+8,i+s),end:i+s}}W.exports.unbox=a;function L(n,i){for(var s=0;;){var o=a(n,s);if(!o)break;switch(o.boxtype){case"ispe":i.sizes.push({width:C(o.data,4),height:C(o.data,8)});break;case"irot":i.transforms.push({type:"irot",value:o.data[0]&3});break;case"imir":i.transforms.push({type:"imir",value:o.data[0]&1});break}s=o.end}}function x(n,i,s){for(var o=0,m=0;m<s;m++)o=o*256+(n[i+m]||0);return o}function h(n,i){for(var s=n[4]>>4&15,o=n[4]&15,m=n[5]>>4&15,c=y(n,6),b=8,v=0;v<c;v++){var l=y(n,b);b+=2;var p=y(n,b);b+=2;var S=x(n,b,m);b+=m;var M=y(n,b);if(b+=2,p===0&&M===1){var R=x(n,b,s),T=x(n,b+s,o);i.item_loc[l]={length:T,offset:R+S}}b+=M*(s+o)}}function d(n,i){for(var s=y(n,4),o=6,m=0;m<s;m++){var c=a(n,o);if(!c)break;if(c.boxtype==="infe"){for(var b=y(c.data,4),v="",l=8;l<c.data.length&&c.data[l];l++)v+=String.fromCharCode(c.data[l]);i.item_inf[v]=b}o=c.end}}function t(n,i){for(var s=0;;){var o=a(n,s);if(!o)break;o.boxtype==="ipco"&&L(o.data,i),s=o.end}}function r(n,i){for(var s=4;;){var o=a(n,s);if(!o)break;o.boxtype==="iprp"&&t(o.data,i),o.boxtype==="iloc"&&h(o.data,i),o.boxtype==="iinf"&&d(o.data,i),s=o.end}}function u(n){var i=n.reduce(function(m,c){return m.width>c.width||m.width===c.width&&m.height>c.height?m:c}),s=n.reduce(function(m,c){return m.height>c.height||m.height===c.height&&m.width>c.width?m:c}),o;return i.width>s.height||i.width===s.height&&i.height>s.width?o=i:o=s,o}W.exports.readSizeFromMeta=function(n){var i={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(n,i),!!i.sizes.length){var s=u(i.sizes),o=1;i.transforms.forEach(function(c){var b={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},v={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?o=v[o]:(o=v[o],o=b[o],o=b[o])),c.type==="irot")for(var l=0;l<c.value;l++)o=b[o]});var m=null;return i.item_inf.Exif&&(m=i.item_loc[i.item_inf.Exif]),{width:s.width,height:s.height,orientation:i.transforms.length?o:null,variants:i.sizes,exif_location:m}}},W.exports.getMimeType=function(n){var i=String.fromCharCode.apply(null,n.slice(0,4)),s={};s[i]=!0;for(var o=8;o<n.length;o+=4)s[String.fromCharCode.apply(null,n.slice(o,o+4))]=!0;if(!(!s.mif1&&!s.msf1&&!s.miaf))return i==="avif"||i==="avis"||i==="avio"?{type:"avif",mime:"image/avif"}:i==="heic"||i==="heix"?{type:"heic",mime:"image/heic"}:i==="hevc"||i==="hevx"?{type:"heic",mime:"image/heic-sequence"}:s.avif||s.avis?{type:"avif",mime:"image/avif"}:s.heic||s.heix||s.hevc||s.hevx||s.heis?s.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(W,V,e){var y=e(14847).eG,C=e(14847).OF,a=e(14847).Ag,L=e(76767),x=e(71371),h=y("ftyp");W.exports=function(d){if(C(d,4,h)){var t=L.unbox(d,0);if(t){var r=L.getMimeType(t.data);if(r){for(var u,n=t.end;;){var i=L.unbox(d,n);if(!i)break;if(n=i.end,i.boxtype==="mdat")return;if(i.boxtype==="meta"){u=i.data;break}}if(u){var s=L.readSizeFromMeta(u);if(s){var o={width:s.width,height:s.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(s.variants.length>1&&(o.variants=s.variants),s.orientation&&(o.orientation=s.orientation),s.exif_location&&s.exif_location.offset+s.exif_location.length<=d.length){var m=a(d,s.exif_location.offset),c=d.slice(s.exif_location.offset+m+4,s.exif_location.offset+s.exif_location.length),b=x.get_orientation(c);b>0&&(o.orientation=b)}return o}}}}}}},2504:function(W,V,e){var y=e(14847).eG,C=e(14847).OF,a=e(14847).mP,L=y("BM");W.exports=function(x){if(!(x.length<26)&&C(x,0,L))return{width:a(x,18),height:a(x,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(W,V,e){var y=e(14847).eG,C=e(14847).OF,a=e(14847).mP,L=y("GIF87a"),x=y("GIF89a");W.exports=function(h){if(!(h.length<10)&&!(!C(h,0,L)&&!C(h,0,x)))return{width:a(h,6),height:a(h,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(W,V,e){var y=e(14847).mP,C=0,a=1,L=16;W.exports=function(x){var h=y(x,0),d=y(x,2),t=y(x,4);if(!(h!==C||d!==a||!t)){for(var r=[],u={width:0,height:0},n=0;n<t;n++){var i=x[6+L*n]||256,s=x[6+L*n+1]||256,o={width:i,height:s};r.push(o),(i>u.width||s>u.height)&&(u=o)}return{width:u.width,height:u.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(W,V,e){var y=e(14847).n8,C=e(14847).eG,a=e(14847).OF,L=e(71371),x=C("Exif\0\0");W.exports=function(h){if(!(h.length<2)&&!(h[0]!==255||h[1]!==216||h[2]!==255))for(var d=2;;){for(;;){if(h.length-d<2)return;if(h[d++]===255)break}for(var t=h[d++],r;t===255;)t=h[d++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(h.length-d<2)return;r=y(h,d)-2,d+=2}else return;if(t===217||t===218)return;var u;if(t===225&&r>=10&&a(h,d,x)&&(u=L.get_orientation(h.slice(d+6,d+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(h.length-d<r)return;var n={width:y(h,d+3),height:y(h,d+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return u>0&&(n.orientation=u),n}d+=r}}},6303:function(W,V,e){var y=e(14847).eG,C=e(14847).OF,a=e(14847).Ag,L=y(`PNG\r

`),x=y("IHDR");W.exports=function(h){if(!(h.length<24)&&C(h,0,L)&&C(h,12,x))return{width:a(h,16),height:a(h,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(W,V,e){var y=e(14847).eG,C=e(14847).OF,a=e(14847).Ag,L=y("8BPS\0");W.exports=function(x){if(!(x.length<22)&&C(x,0,L))return{width:a(x,18),height:a(x,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(W){function V(u){return u===32||u===9||u===13||u===10}function e(u){return typeof u=="number"&&isFinite(u)&&u>0}function y(u){var n=0,i=u.length;for(u[0]===239&&u[1]===187&&u[2]===191&&(n=3);n<i&&V(u[n]);)n++;return n===i?!1:u[n]===60}var C=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,x=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,h=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,d=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(u){var n=u.match(L),i=u.match(x),s=u.match(h);return{width:n&&(n[1]||n[2]),height:i&&(i[1]||i[2]),viewbox:s&&(s[1]||s[2])}}function r(u){return d.test(u)?u.match(d)[0]:"px"}W.exports=function(u){if(y(u)){for(var n="",i=0;i<u.length;i++)n+=String.fromCharCode(u[i]);var s=(n.match(C)||[""])[0];if(a.test(s)){var o=t(s),m=parseFloat(o.width),c=parseFloat(o.height);if(o.width&&o.height)return!e(m)||!e(c)?void 0:{width:m,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(o.width),hUnits:r(o.height)};var b=(o.viewbox||"").split(" "),v={width:b[2],height:b[3]},l=parseFloat(v.width),p=parseFloat(v.height);if(!(!e(l)||!e(p))&&r(v.width)===r(v.height)){var S=l/p;return o.width?e(m)?{width:m,height:m/S,type:"svg",mime:"image/svg+xml",wUnits:r(o.width),hUnits:r(o.width)}:void 0:o.height?e(c)?{width:c*S,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(o.height),hUnits:r(o.height)}:void 0:{width:l,height:p,type:"svg",mime:"image/svg+xml",wUnits:r(v.width),hUnits:r(v.height)}}}}}},66278:function(W,V,e){var y=e(14847).eG,C=e(14847).OF,a=e(14847).mP,L=e(14847).n8,x=e(14847).nm,h=e(14847).Ag,d=y("II*\0"),t=y("MM\0*");function r(i,s,o){return o?L(i,s):a(i,s)}function u(i,s,o){return o?h(i,s):x(i,s)}function n(i,s,o){var m=r(i,s+2,o),c=u(i,s+4,o);return c!==1||m!==3&&m!==4?null:m===3?r(i,s+8,o):u(i,s+8,o)}W.exports=function(i){if(!(i.length<8)&&!(!C(i,0,d)&&!C(i,0,t))){var s=i[0]===77,o=u(i,4,s)-8;if(!(o<0)){var m=o+8;if(!(i.length-m<2)){var c=r(i,m+0,s)*12;if(!(c<=0)&&(m+=2,!(i.length-m<c))){var b,v,l,p;for(b=0;b<c;b+=12)p=r(i,m+b,s),p===256?v=n(i,m+b,s):p===257&&(l=n(i,m+b,s));if(v&&l)return{width:v,height:l,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(W,V,e){var y=e(14847).eG,C=e(14847).OF,a=e(14847).mP,L=e(14847).nm,x=e(71371),h=y("RIFF"),d=y("WEBP");function t(n,i){if(!(n[i+3]!==157||n[i+4]!==1||n[i+5]!==42))return{width:a(n,i+6)&16383,height:a(n,i+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(n,i){if(n[i]===47){var s=L(n,i+1);return{width:(s&16383)+1,height:(s>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function u(n,i){return{width:(n[i+6]<<16|n[i+5]<<8|n[i+4])+1,height:(n[i+9]<<i|n[i+8]<<8|n[i+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}W.exports=function(n){if(!(n.length<16)&&!(!C(n,0,h)&&!C(n,8,d))){var i=12,s=null,o=0,m=L(n,4)+8;if(!(m>n.length)){for(;i+8<m;){if(n[i]===0){i++;continue}var c=String.fromCharCode.apply(null,n.slice(i,i+4)),b=L(n,i+4);c==="VP8 "&&b>=10?s=s||t(n,i+8):c==="VP8L"&&b>=9?s=s||r(n,i+8):c==="VP8X"&&b>=10?s=s||u(n,i+8):c==="EXIF"&&(o=x.get_orientation(n.slice(i+8,i+8+b)),i=1/0),i+=8+b}if(s)return o>0&&(s.orientation=o),s}}}},91497:function(W,V,e){W.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(W,V,e){var y=e(91497);function C(a){for(var L=Object.keys(y),x=0;x<L.length;x++){var h=y[L[x]](a);if(h)return h}return null}W.exports=function(L){return C(L)},W.exports.parsers=y},90386:function(W){var V=W.exports={},e,y;function C(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=C}catch{e=C}try{typeof clearTimeout=="function"?y=clearTimeout:y=a}catch{y=a}})();function L(o){if(e===setTimeout)return setTimeout(o,0);if((e===C||!e)&&setTimeout)return e=setTimeout,setTimeout(o,0);try{return e(o,0)}catch{try{return e.call(null,o,0)}catch{return e.call(this,o,0)}}}function x(o){if(y===clearTimeout)return clearTimeout(o);if((y===a||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(o);try{return y(o)}catch{try{return y.call(null,o)}catch{return y.call(this,o)}}}var h=[],d=!1,t,r=-1;function u(){!d||!t||(d=!1,t.length?h=t.concat(h):r=-1,h.length&&n())}function n(){if(!d){var o=L(u);d=!0;for(var m=h.length;m;){for(t=h,h=[];++r<m;)t&&t[r].run();r=-1,m=h.length}t=null,d=!1,x(o)}}V.nextTick=function(o){var m=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)m[c-1]=arguments[c];h.push(new i(o,m)),h.length===1&&!d&&L(n)};function i(o,m){this.fun=o,this.array=m}i.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function s(){}V.on=s,V.addListener=s,V.once=s,V.off=s,V.removeListener=s,V.removeAllListeners=s,V.emit=s,V.prependListener=s,V.prependOnceListener=s,V.listeners=function(o){return[]},V.binding=function(o){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(o){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},5877:function(W,V,e){for(var y=e(9748),C=typeof window>"u"?e.g:window,a=["moz","webkit"],L="AnimationFrame",x=C["request"+L],h=C["cancel"+L]||C["cancelRequest"+L],d=0;!x&&d<a.length;d++)x=C[a[d]+"Request"+L],h=C[a[d]+"Cancel"+L]||C[a[d]+"CancelRequest"+L];if(!x||!h){var t=0,r=0,u=[],n=1e3/60;x=function(i){if(u.length===0){var s=y(),o=Math.max(0,n-(s-t));t=o+s,setTimeout(function(){var m=u.slice(0);u.length=0;for(var c=0;c<m.length;c++)if(!m[c].cancelled)try{m[c].callback(t)}catch(b){setTimeout(function(){throw b},0)}},Math.round(o))}return u.push({handle:++r,callback:i,cancelled:!1}),r},h=function(i){for(var s=0;s<u.length;s++)u[s].handle===i&&(u[s].cancelled=!0)}}W.exports=function(i){return x.call(C,i)},W.exports.cancel=function(){h.apply(C,arguments)},W.exports.polyfill=function(i){i||(i=C),i.requestAnimationFrame=x,i.cancelAnimationFrame=h}},3593:function(W,V,e){var y=e(21527),C=e(25075),a=e(93447),L=e(71299),x=e(56131),h=e(30120),d=e(57060),t=d.float32,r=d.fract32;W.exports=n;var u=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(i,s){if(typeof i=="function"?(s||(s={}),s.regl=i):s=i,s.length&&(s.positions=s),i=s.regl,!i.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var o=i._gl,m,c,b,v,l,p,S={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},M=[];return v=i.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),b=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),l=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=i.buffer({usage:"static",type:"float",data:u}),A(s),m=i({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:i.prop("range"),lineWidth:i.prop("lineWidth"),capSize:i.prop("capSize"),opacity:i.prop("opacity"),scale:i.prop("scale"),translate:i.prop("translate"),scaleFract:i.prop("scaleFract"),translateFract:i.prop("translateFract"),viewport:function(P,w){return[w.viewport.x,w.viewport.y,P.viewportWidth,P.viewportHeight]}},attributes:{color:{buffer:v,offset:function(P,w){return w.offset*4},divisor:1},position:{buffer:c,offset:function(P,w){return w.offset*8},divisor:1},positionFract:{buffer:b,offset:function(P,w){return w.offset*8},divisor:1},error:{buffer:l,offset:function(P,w){return w.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:!1,instances:i.prop("count"),count:u.length}),x(R,{update:A,draw:T,destroy:f,regl:i,gl:o,canvas:o.canvas,groups:M}),R;function R(P){P?A(P):P===null&&f(),T()}function T(P){if(typeof P=="number")return E(P);P&&!Array.isArray(P)&&(P=[P]),i._refresh(),M.forEach(function(w,z){if(w){if(P&&(P[z]?w.draw=!0:w.draw=!1),!w.draw){w.draw=!0;return}E(z)}})}function E(P){typeof P=="number"&&(P=M[P]),P!=null&&P&&P.count&&P.color&&P.opacity&&P.positions&&P.positions.length>1&&(P.scaleRatio=[P.scale[0]*P.viewport.width,P.scale[1]*P.viewport.height],m(P),P.after&&P.after(P))}function A(P){if(P){P.length!=null?typeof P[0]=="number"&&(P=[{positions:P}]):Array.isArray(P)||(P=[P]);var w=0,z=0;if(R.groups=M=P.map(function(U,K){var re=M[K];if(U)typeof U=="function"?U={after:U}:typeof U[0]=="number"&&(U={positions:U});else return re;return U=L(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),re||(M[K]=re={id:K,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=x({},S,U)),a(re,U,[{lineWidth:function(ae){return+ae*.5},capSize:function(ae){return+ae*.5},opacity:parseFloat,errors:function(ae){return ae=h(ae),z+=ae.length,ae},positions:function(ae,ue){return ae=h(ae,"float64"),ue.count=Math.floor(ae.length/2),ue.bounds=y(ae,2),ue.offset=w,w+=ue.count,ae}},{color:function(ae,ue){var ve=ue.count;if(ae||(ae="transparent"),!Array.isArray(ae)||typeof ae[0]=="number"){var ee=ae;ae=Array(ve);for(var J=0;J<ve;J++)ae[J]=ee}if(ae.length<ve)throw Error("Not enough colors");for(var Q=new Uint8Array(ve*4),X=0;X<ve;X++){var q=C(ae[X],"uint8");Q.set(q,X*4)}return Q},range:function(ae,ue,ve){var ee=ue.bounds;return ae||(ae=ee),ue.scale=[1/(ae[2]-ae[0]),1/(ae[3]-ae[1])],ue.translate=[-ae[0],-ae[1]],ue.scaleFract=r(ue.scale),ue.translateFract=r(ue.translate),ae},viewport:function(ae){var ue;return Array.isArray(ae)?ue={x:ae[0],y:ae[1],width:ae[2]-ae[0],height:ae[3]-ae[1]}:ae?(ue={x:ae.x||ae.left||0,y:ae.y||ae.top||0},ae.right?ue.width=ae.right-ue.x:ue.width=ae.w||ae.width||0,ae.bottom?ue.height=ae.bottom-ue.y:ue.height=ae.h||ae.height||0):ue={x:0,y:0,width:o.drawingBufferWidth,height:o.drawingBufferHeight},ue}}]),re}),w||z){var F=M.reduce(function(U,K,re){return U+(K?K.count:0)},0),H=new Float64Array(F*2),_=new Uint8Array(F*4),B=new Float32Array(F*4);M.forEach(function(U,K){if(U){var re=U.positions,ae=U.count,ue=U.offset,ve=U.color,ee=U.errors;ae&&(_.set(ve,ue*4),B.set(ee,ue*4),H.set(re,ue*2))}});var N=t(H);c(N);var O=r(H,N);b(O),v(_),l(B)}}}function f(){c.destroy(),b.destroy(),v.destroy(),l.destroy(),p.destroy()}}},46075:function(W,V,e){var y=e(25075),C=e(21527),a=e(56131),L=e(56068),x=e(71299),h=e(30120),d=e(11474),t=e(54),r=e(57060),u=r.float32,n=r.fract32,i=e(83522),s=e(18863),o=e(6851);W.exports=m;function m(c,b){if(!(this instanceof m))return new m(c,b);if(typeof c=="function"?(b||(b={}),b.regl=c):b=c,b.length&&(b.positions=b),c=b.regl,!c.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=m.shaders.has(c)?m.shaders.get(c):m.shaders.set(c,m.createShaders(c)).get(c),this.update(b)}m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new i,m.createShaders=function(c){var b=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),v={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(M,R){return R.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(M,R){return[R.viewport.x,R.viewport.y,M.viewportWidth,M.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(M,R){return!R.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},l=c(a({vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},v)),p;try{p=c(a({cull:{enable:!0,face:"back"},vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},v))}catch{p=l}var S=c({primitive:"triangle",elements:function(M,R){return R.triangles},offset:0,vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(M,R){return[R.viewport.x,R.viewport.y,M.viewportWidth,M.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:v.blend,depth:{enable:!1},scissor:v.scissor,stencil:v.stencil,viewport:v.viewport});return{fill:S,rect:l,miter:p}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var c,b=[],v=arguments.length;v--;)b[v]=arguments[v];b.length&&(c=this).update.apply(c,b),this.draw()},m.prototype.draw=function(){for(var c=this,b=[],v=arguments.length;v--;)b[v]=arguments[v];return(b.length?b:this.passes).forEach(function(l,p){var S;if(l&&Array.isArray(l))return(S=c).draw.apply(S,l);typeof l=="number"&&(l=c.passes[l]),l&&l.count>1&&l.opacity&&(c.regl._refresh(),l.fill&&l.triangles&&l.triangles.length>2&&c.shaders.fill(l),l.thickness&&(l.scale[0]*l.viewport.width>m.precisionThreshold||l.scale[1]*l.viewport.height>m.precisionThreshold||l.join==="rect"||!l.join&&(l.thickness<=2||l.count>=m.maxPoints)?c.shaders.rect(l):c.shaders.miter(l)))}),this},m.prototype.update=function(c){var b=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var v=this,l=v.regl,p=v.gl;if(c.forEach(function(E,A){var f=b.passes[A];if(E!==void 0){if(E===null){b.passes[A]=null;return}if(typeof E[0]=="number"&&(E={positions:E}),E=x(E,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),f||(b.passes[A]=f={id:A,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:l.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},E=a({},m.defaults,E)),E.thickness!=null&&(f.thickness=parseFloat(E.thickness)),E.opacity!=null&&(f.opacity=parseFloat(E.opacity)),E.miterLimit!=null&&(f.miterLimit=parseFloat(E.miterLimit)),E.overlay!=null&&(f.overlay=!!E.overlay,A<m.maxLines&&(f.depth=2*(m.maxLines-1-A%m.maxLines)/m.maxLines-1)),E.join!=null&&(f.join=E.join),E.hole!=null&&(f.hole=E.hole),E.fill!=null&&(f.fill=E.fill?y(E.fill,"uint8"):null),E.viewport!=null&&(f.viewport=s(E.viewport)),f.viewport||(f.viewport=s([p.drawingBufferWidth,p.drawingBufferHeight])),E.close!=null&&(f.close=E.close),E.positions===null&&(E.positions=[]),E.positions){var P,w;if(E.positions.x&&E.positions.y){var z=E.positions.x,F=E.positions.y;w=f.count=Math.max(z.length,F.length),P=new Float64Array(w*2);for(var H=0;H<w;H++)P[H*2]=z[H],P[H*2+1]=F[H]}else P=h(E.positions,"float64"),w=f.count=Math.floor(P.length/2);var _=f.bounds=C(P,2);if(f.fill){for(var B=[],N={},O=0,U=0,K=0,re=f.count;U<re;U++){var ae=P[U*2],ue=P[U*2+1];isNaN(ae)||isNaN(ue)||ae==null||ue==null?(ae=P[O*2],ue=P[O*2+1],N[U]=O):O=U,B[K++]=ae,B[K++]=ue}if(E.splitNull){f.count-1 in N||(N[f.count]=f.count-1);var ve=Object.keys(N).map(Number).sort(function(Ue,ke){return Ue-ke}),ee=[],J=0,Q=f.hole!=null?f.hole[0]:null;if(Q!=null){var X=o(ve,function(Ue){return Ue>=Q});ve=ve.slice(0,X),ve.push(Q)}for(var q=function(Ue){var ke=B.slice(J*2,ve[Ue]*2).concat(Q?B.slice(Q*2):[]),Me=(f.hole||[]).map(function(be){return be-Q+(ve[Ue]-J)}),ce=d(ke,Me);ce=ce.map(function(be){return be+J+(be+J<ve[Ue]?0:Q-ve[Ue])}),ee.push.apply(ee,ce),J=ve[Ue]+1},se=0;se<ve.length;se++)q(se);for(var Y=0,Z=ee.length;Y<Z;Y++)N[ee[Y]]!=null&&(ee[Y]=N[ee[Y]]);f.triangles=ee}else{for(var ie=d(B,f.hole||[]),te=0,fe=ie.length;te<fe;te++)N[ie[te]]!=null&&(ie[te]=N[ie[te]]);f.triangles=ie}}var de=new Float64Array(P);t(de,2,_);var we=new Float64Array(w*2+6);f.close?P[0]===P[w*2-2]&&P[1]===P[w*2-1]?(we[0]=de[w*2-4],we[1]=de[w*2-3]):(we[0]=de[w*2-2],we[1]=de[w*2-1]):(we[0]=de[0],we[1]=de[1]),we.set(de,2),f.close?P[0]===P[w*2-2]&&P[1]===P[w*2-1]?(we[w*2+2]=de[2],we[w*2+3]=de[3],f.count-=1):(we[w*2+2]=de[0],we[w*2+3]=de[1],we[w*2+4]=de[2],we[w*2+5]=de[3]):(we[w*2+2]=de[w*2-2],we[w*2+3]=de[w*2-1],we[w*2+4]=de[w*2-2],we[w*2+5]=de[w*2-1]);var Ae=u(we);f.positionBuffer(Ae);var Re=n(we,Ae);f.positionFractBuffer(Re)}if(E.range?f.range=E.range:f.range||(f.range=f.bounds),(E.range||E.positions)&&f.count){var Fe=f.bounds,Se=Fe[2]-Fe[0],Te=Fe[3]-Fe[1],Ee=f.range[2]-f.range[0],Ne=f.range[3]-f.range[1];f.scale=[Se/Ee,Te/Ne],f.translate=[-f.range[0]/Ee+Fe[0]/Ee||0,-f.range[1]/Ne+Fe[1]/Ne||0],f.scaleFract=n(f.scale),f.translateFract=n(f.translate)}if(E.dashes){var He=0,_e;if(!E.dashes||E.dashes.length<2)He=1,_e=new Uint8Array([255,255,255,255,255,255,255,255]);else{He=0;for(var We=0;We<E.dashes.length;++We)He+=E.dashes[We];_e=new Uint8Array(He*m.dashMult);for(var tt=0,Ke=255,qe=0;qe<2;qe++)for(var rt=0;rt<E.dashes.length;++rt){for(var ft=0,pt=E.dashes[rt]*m.dashMult*.5;ft<pt;++ft)_e[tt++]=Ke;Ke^=255}}f.dashLength=He,f.dashTexture({channels:1,data:_e,width:_e.length,height:1,mag:"linear",min:"linear"},0,0)}if(E.color){var gt=f.count,Mt=E.color;Mt||(Mt="transparent");var Lt=new Uint8Array(gt*4+4);if(!Array.isArray(Mt)||typeof Mt[0]=="number")for(var Wt=y(Mt,"uint8"),Je=0;Je<gt+1;Je++)Lt.set(Wt,Je*4);else{for(var ze=0;ze<gt;ze++){var Oe=y(Mt[ze],"uint8");Lt.set(Oe,ze*4)}Lt.set(y(Mt[0],"uint8"),gt*4)}f.colorBuffer({usage:"dynamic",type:"uint8",data:Lt})}}}),c.length<this.passes.length){for(var S=c.length;S<this.passes.length;S++){var M=this.passes[S];M&&(M.colorBuffer.destroy(),M.positionBuffer.destroy(),M.dashTexture.destroy())}this.passes.length=c.length}for(var R=[],T=0;T<this.passes.length;T++)this.passes[T]!==null&&R.push(this.passes[T]);return this.passes=R,this}},m.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(W,V,e){function y(f,P){var w=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(w!=null){var z,F,H,_,B=[],N=!0,O=!1;try{if(H=(w=w.call(f)).next,P===0){if(Object(w)!==w)return;N=!1}else for(;!(N=(z=H.call(w)).done)&&(B.push(z.value),B.length!==P);N=!0);}catch(U){O=!0,F=U}finally{try{if(!N&&w.return!=null&&(_=w.return(),Object(_)!==_))return}finally{if(O)throw F}}return B}}function C(f,P){return x(f)||y(f,P)||d(f,P)||u()}function a(f){return L(f)||h(f)||d(f)||r()}function L(f){if(Array.isArray(f))return t(f)}function x(f){if(Array.isArray(f))return f}function h(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function d(f,P){if(f){if(typeof f=="string")return t(f,P);var w=Object.prototype.toString.call(f).slice(8,-1);if(w==="Object"&&f.constructor&&(w=f.constructor.name),w==="Map"||w==="Set")return Array.from(f);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return t(f,P)}}function t(f,P){(P==null||P>f.length)&&(P=f.length);for(var w=0,z=new Array(P);w<P;w++)z[w]=f[w];return z}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),i=e(21527),s=e(6475),o=e(88294),m=e(56131),c=e(56068),b=e(71299),v=e(93447),l=e(30120),p=e(62683),S=e(57060),M=e(18863),R=T;function T(f,P){var w=this;if(!(this instanceof T))return new T(f,P);typeof f=="function"?(P||(P={}),P.regl=f):(P=f,f=null),P&&P.length&&(P.positions=P),f=P.regl;var z=f._gl,F,H=[],_={},B=[],N=[null],O=[null],U=255,K=100;this.tooManyColors=p,F=f.texture({data:new Uint8Array(U*4),width:U,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:f,gl:z,groups:B,markerCache:O,markerTextures:N,palette:H,paletteIds:_,paletteTexture:F,maxColors:U,maxSize:K,canvas:z.canvas}),this.update(P);var re={uniforms:{constPointSize:!!P.constPointSize,opacity:f.prop("opacity"),paletteSize:function(ee,J){return[w.tooManyColors?0:U,F.height]},pixelRatio:f.context("pixelRatio"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translate:f.prop("translate"),translateFract:f.prop("translateFract"),markerTexture:f.prop("markerTexture"),paletteTexture:F},attributes:{x:function(ee,J){return J.xAttr||{buffer:J.positionBuffer,stride:8,offset:0}},y:function(ee,J){return J.yAttr||{buffer:J.positionBuffer,stride:8,offset:4}},xFract:function(ee,J){return J.xAttr?{constant:[0,0]}:{buffer:J.positionFractBuffer,stride:8,offset:0}},yFract:function(ee,J){return J.yAttr?{constant:[0,0]}:{buffer:J.positionFractBuffer,stride:8,offset:4}},size:function(ee,J){return J.size.length?{buffer:J.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(J.size*255/w.maxSize)]}},borderSize:function(ee,J){return J.borderSize.length?{buffer:J.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(J.borderSize*255/w.maxSize)]}},colorId:function(ee,J){return J.color.length?{buffer:J.colorBuffer,stride:w.tooManyColors?8:4,offset:0}:{constant:w.tooManyColors?H.slice(J.color*4,J.color*4+4):[J.color]}},borderColorId:function(ee,J){return J.borderColor.length?{buffer:J.colorBuffer,stride:w.tooManyColors?8:4,offset:w.tooManyColors?4:2}:{constant:w.tooManyColors?H.slice(J.borderColor*4,J.borderColor*4+4):[J.borderColor]}},isActive:function(ee,J){return J.activation===!0?{constant:[1]}:J.activation?J.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:f.prop("elements"),count:f.prop("count"),offset:f.prop("offset"),primitive:"points"},ae=m({},re);ae.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ae.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=f(ae);var ue=m({},re);ue.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ue.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(ue.frag=ue.frag.replace("smoothstep","smoothStep"),ae.frag=ae.frag.replace("smoothstep","smoothStep")),this.drawCircle=f(ue)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var f=this,P=arguments.length,w=new Array(P),z=0;z<P;z++)w[z]=arguments[z];var F=this.groups;if(w.length===1&&Array.isArray(w[0])&&(w[0][0]===null||Array.isArray(w[0][0]))&&(w=w[0]),this.regl._refresh(),w.length)for(var H=0;H<w.length;H++)this.drawItem(H,w[H]);else F.forEach(function(_,B){f.drawItem(B)});return this},T.prototype.drawItem=function(f,P){var w=this.groups,z=w[f];if(typeof P=="number"&&(f=P,z=w[P],P=null),!!(z&&z.count&&z.opacity)){z.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,z,P));for(var F=[],H=1;H<z.activation.length;H++)!z.activation[H]||z.activation[H]!==!0&&!z.activation[H].data.length||F.push.apply(F,a(this.getMarkerDrawOptions(H,z,P)));F.length&&this.drawMarker(F)}},T.prototype.getMarkerDrawOptions=function(f,P,w){var z=P.range,F=P.tree,H=P.viewport,_=P.activation,B=P.selectionBuffer,N=P.count;if(this.regl,!F)return w?[m({},P,{markerTexture:this.markerTextures[f],activation:_[f],count:w.length,elements:w,offset:0})]:[m({},P,{markerTexture:this.markerTextures[f],activation:_[f],offset:0})];var O=[],U=F.range(z,{lod:!0,px:[(z[2]-z[0])/H.width,(z[3]-z[1])/H.height]});if(w){for(var K=_[f],re=K.data,ae=new Uint8Array(N),ue=0;ue<w.length;ue++){var ve=w[ue];ae[ve]=re?re[ve]:1}B.subdata(ae)}for(var ee=U.length;ee--;){var J=C(U[ee],2),Q=J[0],X=J[1];O.push(m({},P,{markerTexture:this.markerTextures[f],activation:w?B:_[f],offset:Q,count:X-Q}))}return O},T.prototype.update=function(){for(var f=this,P=arguments.length,w=new Array(P),z=0;z<P;z++)w[z]=arguments[z];if(w.length){w.length===1&&Array.isArray(w[0])&&(w=w[0]);var F=this.groups,H=this.gl,_=this.regl,B=this.maxSize,N=this.maxColors,O=this.palette;this.groups=F=w.map(function(U,K){var re=F[K];if(U===void 0)return re;U===null?U={positions:null}:typeof U=="function"?U={ondraw:U}:typeof U[0]=="number"&&(U={positions:U}),U=b(U,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),U.positions===null&&(U.positions=[]),U.tooManyColors!=null&&(f.tooManyColors=U.tooManyColors),re||(F[K]=re={id:K,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:_.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:_.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},U=m({},T.defaults,U)),U.positions&&!("marker"in U)&&(U.marker=re.marker,delete re.marker),U.marker&&!("positions"in U)&&(U.positions=re.positions,delete re.positions);var ae=0,ue=0;if(v(re,U,[{snap:!0,size:function(Te,Ee){return Te==null&&(Te=T.defaults.size),ae+=Te&&Te.length?1:0,Te},borderSize:function(Te,Ee){return Te==null&&(Te=T.defaults.borderSize),ae+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,Ee){return Te==null&&(Te=T.defaults.color),Te=f.updateColor(Te),ue++,Te},borderColor:function(Te,Ee){return Te==null&&(Te=T.defaults.borderColor),Te=f.updateColor(Te),ue++,Te},bounds:function(Te,Ee,Ne){return"range"in Ne||(Ne.range=null),Te},positions:function(Te,Ee,Ne){var He=Ee.snap,_e=Ee.positionBuffer,We=Ee.positionFractBuffer,tt=Ee.selectionBuffer;if(Te.x||Te.y)return Te.x.length?Ee.xAttr={buffer:_.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:Ee.xAttr={buffer:Te.x.buffer,offset:Te.x.offset*4||0,stride:(Te.x.stride||1)*4,count:Te.x.count},Te.y.length?Ee.yAttr={buffer:_.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:Ee.yAttr={buffer:Te.y.buffer,offset:Te.y.offset*4||0,stride:(Te.y.stride||1)*4,count:Te.y.count},Ee.count=Math.max(Ee.xAttr.count,Ee.yAttr.count),Te;Te=l(Te,"float64");var Ke=Ee.count=Math.floor(Te.length/2),qe=Ee.bounds=Ke?i(Te,2):null;if(!Ne.range&&!Ee.range&&(delete Ee.range,Ne.range=qe),!Ne.marker&&!Ee.marker&&(delete Ee.marker,Ne.marker=null),He&&(He===!0||Ke>He)?Ee.tree=o(Te,{bounds:qe}):He&&He.length&&(Ee.tree=He),Ee.tree){var rt={primitive:"points",usage:"static",data:Ee.tree,type:"uint32"};Ee.elements?Ee.elements(rt):Ee.elements=_.elements(rt)}var ft=S.float32(Te);_e({data:ft,usage:"dynamic"});var pt=S.fract32(Te,ft);return We({data:pt,usage:"dynamic"}),tt({data:new Uint8Array(Ke),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,Ee,Ne){var He=Ee.activation;if(He.forEach(function(pt){return pt&&pt.destroy&&pt.destroy()}),He.length=0,!Te||typeof Te[0]=="number"){var _e=f.addMarker(Te);He[_e]=!0}else{for(var We=[],tt=0,Ke=Math.min(Te.length,Ee.count);tt<Ke;tt++){var qe=f.addMarker(Te[tt]);We[qe]||(We[qe]=new Uint8Array(Ee.count)),We[qe][tt]=1}for(var rt=0;rt<We.length;rt++)if(We[rt]){var ft={data:We[rt],type:"uint8",usage:"static"};He[rt]?He[rt](ft):He[rt]=_.buffer(ft),He[rt].data=We[rt]}}return Te},range:function(Te,Ee,Ne){var He=Ee.bounds;if(He)return Te||(Te=He),Ee.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],Ee.translate=[-Te[0],-Te[1]],Ee.scaleFract=S.fract(Ee.scale),Ee.translateFract=S.fract(Ee.translate),Te},viewport:function(Te){var Ee=M(Te||[H.drawingBufferWidth,H.drawingBufferHeight]);return Ee}}]),ae){var ve=re,ee=ve.count,J=ve.size,Q=ve.borderSize,X=ve.sizeBuffer,q=new Uint8Array(ee*2);if(J.length||Q.length)for(var se=0;se<ee;se++)q[se*2]=Math.round((J[se]==null?J:J[se])*255/B),q[se*2+1]=Math.round((Q[se]==null?Q:Q[se])*255/B);X({data:q,usage:"dynamic"})}if(ue){var Y=re,Z=Y.count,ie=Y.color,te=Y.borderColor,fe=Y.colorBuffer,de;if(f.tooManyColors){if(ie.length||te.length){de=new Uint8Array(Z*8);for(var we=0;we<Z;we++){var Ae=ie[we];de[we*8]=O[Ae*4],de[we*8+1]=O[Ae*4+1],de[we*8+2]=O[Ae*4+2],de[we*8+3]=O[Ae*4+3];var Re=te[we];de[we*8+4]=O[Re*4],de[we*8+5]=O[Re*4+1],de[we*8+6]=O[Re*4+2],de[we*8+7]=O[Re*4+3]}}}else if(ie.length||te.length){de=new Uint8Array(Z*4+2);for(var Fe=0;Fe<Z;Fe++)ie[Fe]!=null&&(de[Fe*4]=ie[Fe]%N,de[Fe*4+1]=Math.floor(ie[Fe]/N)),te[Fe]!=null&&(de[Fe*4+2]=te[Fe]%N,de[Fe*4+3]=Math.floor(te[Fe]/N))}fe({data:de||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return re})}},T.prototype.addMarker=function(f){var P=this.markerTextures,w=this.regl,z=this.markerCache,F=f==null?0:z.indexOf(f);if(F>=0)return F;var H;if(f instanceof Uint8Array||f instanceof Uint8ClampedArray)H=f;else{H=new Uint8Array(f.length);for(var _=0,B=f.length;_<B;_++)H[_]=f[_]*255}var N=Math.floor(Math.sqrt(H.length));return F=P.length,z.push(f),P.push(w.texture({channels:1,data:H,radius:N,mag:"linear",min:"linear"})),F},T.prototype.updateColor=function(f){var P=this.paletteIds,w=this.palette,z=this.maxColors;Array.isArray(f)||(f=[f]);var F=[];if(typeof f[0]=="number"){var H=[];if(Array.isArray(f))for(var _=0;_<f.length;_+=4)H.push(f.slice(_,_+4));else for(var B=0;B<f.length;B+=4)H.push(f.subarray(B,B+4));f=H}for(var N=0;N<f.length;N++){var O=f[N];O=n(O,"uint8");var U=s(O,!1);if(P[U]==null){var K=w.length;P[U]=Math.floor(K/4),w[K]=O[0],w[K+1]=O[1],w[K+2]=O[2],w[K+3]=O[3]}F[N]=P[U]}return!this.tooManyColors&&w.length>z*4&&(this.tooManyColors=!0),this.updatePalette(w),F.length===1?F[0]:F},T.prototype.updatePalette=function(f){if(!this.tooManyColors){var P=this.maxColors,w=this.paletteTexture,z=Math.ceil(f.length*.25/P);if(z>1){f=f.slice();for(var F=f.length*.25%P;F<z*P;F++)f.push(0,0,0,0)}w.height<z&&w.resize(P,z),w.subimage({width:Math.min(f.length*.25,P),height:z,data:f},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(f){f.sizeBuffer.destroy(),f.positionBuffer.destroy(),f.positionFractBuffer.destroy(),f.colorBuffer.destroy(),f.activation.forEach(function(P){return P&&P.destroy&&P.destroy()}),f.selectionBuffer.destroy(),f.elements&&f.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(f){return f&&f.destroy&&f.destroy()}),this};var E=e(56131),A=function(P,w){var z=new R(P,w),F=z.render.bind(z);return E(F,{render:F,update:z.update.bind(z),draw:z.draw.bind(z),destroy:z.destroy.bind(z),regl:z.regl,gl:z.gl,canvas:z.gl.canvas,groups:z.groups,markers:z.markerCache,palette:z.palette}),F};W.exports=A},60487:function(W,V,e){var y=e(11870),C=e(71299),a=e(21527),L=e(5877),x=e(57471),h=e(18863),d=e(30120);W.exports=t;function t(i,s){if(!(this instanceof t))return new t(i);this.traces=[],this.passes={},this.regl=i,this.scatter=y(i),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var i=this,s,o=[],m=arguments.length;m--;)o[m]=arguments[m];return o.length&&(s=this).update.apply(s,o),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){i.draw(),i.dirty=!0,i.planned=null})):(this.draw(),this.dirty=!0,L(function(){i.dirty=!1})),this)},t.prototype.update=function(){for(var i,s=[],o=arguments.length;o--;)s[o]=arguments[o];if(s.length){for(var m=0;m<s.length;m++)this.updateItem(m,s[m]);this.traces=this.traces.filter(Boolean);for(var c=[],b=0,v=0;v<this.traces.length;v++){for(var l=this.traces[v],p=this.traces[v].passes,S=0;S<p.length;S++)c.push(this.passes[p[S]]);l.passOffset=b,b+=l.passes.length}return(i=this.scatter).update.apply(i,c),this}},t.prototype.updateItem=function(i,s){var o=this,m=o.regl;if(s===null)return this.traces[i]=null,this;if(!s)return this;var c=C(s,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),b=this.traces[i]||(this.traces[i]={id:i,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:h([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(b.color=c.color),c.size!=null&&(b.size=c.size),c.marker!=null&&(b.marker=c.marker),c.borderColor!=null&&(b.borderColor=c.borderColor),c.borderSize!=null&&(b.borderSize=c.borderSize),c.opacity!=null&&(b.opacity=c.opacity),c.viewport&&(b.viewport=h(c.viewport)),c.diagonal!=null&&(b.diagonal=c.diagonal),c.upper!=null&&(b.upper=c.upper),c.lower!=null&&(b.lower=c.lower),c.data){b.buffer(d(c.data)),b.columns=c.data.length,b.count=c.data[0].length,b.bounds=[];for(var v=0;v<b.columns;v++)b.bounds[v]=a(c.data[v],1)}var l;c.range&&(b.range=c.range,l=b.range&&typeof b.range[0]!="number"),c.domain&&(b.domain=c.domain);var p=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===b.columns&&typeof c.padding[c.padding.length-1]=="number"?(b.padding=c.padding.map(n),p=!0):b.padding=n(c.padding));var S=b.columns,M=b.count,R=b.viewport.width,T=b.viewport.height,E=b.viewport.x,A=b.viewport.y,f=R/S,P=T/S;b.passes=[];for(var w=0;w<S;w++)for(var z=0;z<S;z++)if(!(!b.diagonal&&z===w)&&!(!b.upper&&w>z)&&!(!b.lower&&w<z)){var F=r(b.id,w,z),H=this.passes[F]||(this.passes[F]={});if(c.data&&(c.transpose?H.positions={x:{buffer:b.buffer,offset:z,count:M,stride:S},y:{buffer:b.buffer,offset:w,count:M,stride:S}}:H.positions={x:{buffer:b.buffer,offset:z*M,count:M},y:{buffer:b.buffer,offset:w*M,count:M}},H.bounds=u(b.bounds,w,z)),c.domain||c.viewport||c.data){var _=p?u(b.padding,w,z):b.padding;if(b.domain){var B=u(b.domain,w,z),N=B[0],O=B[1],U=B[2],K=B[3];H.viewport=[E+N*R+_[0],A+O*T+_[1],E+U*R-_[2],A+K*T-_[3]]}else H.viewport=[E+z*f+f*_[0],A+w*P+P*_[1],E+(z+1)*f-f*_[2],A+(w+1)*P-P*_[3]]}c.color&&(H.color=b.color),c.size&&(H.size=b.size),c.marker&&(H.marker=b.marker),c.borderSize&&(H.borderSize=b.borderSize),c.borderColor&&(H.borderColor=b.borderColor),c.opacity&&(H.opacity=b.opacity),c.range&&(H.range=l?u(b.range,w,z):b.range||H.bounds),b.passes.push(F)}return this},t.prototype.draw=function(){for(var i,s=[],o=arguments.length;o--;)s[o]=arguments[o];if(!s.length)this.scatter.draw();else{for(var m=[],c=0;c<s.length;c++)if(typeof s[c]=="number"){var b=this.traces[s[c]],v=b.passes,l=b.passOffset;m.push.apply(m,x(l,l+v.length))}else if(s[c].length){var p=s[c],S=this.traces[c],M=S.passes,R=S.passOffset;M=M.map(function(T,E){m[R+E]=p})}(i=this.scatter).draw.apply(i,m)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(i){i.buffer&&i.buffer.destroy&&i.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(i,s,o){var m=i.id!=null?i.id:i,c=s,b=o,v=m<<16|(c&255)<<8|b&255;return v}function u(i,s,o){var m,c,b,v,l=i[s],p=i[o];return l.length>2?(l[0],l[2],m=l[1],c=l[3]):l.length?(m=l[0],c=l[1]):(l.x,m=l.y,l.x+l.width,c=l.y+l.height),p.length>2?(b=p[0],v=p[2],p[1],p[3]):p.length?(b=p[0],v=p[1]):(b=p.x,p.y,v=p.x+p.width,p.y+p.height),[b,m,v,c]}function n(i){if(typeof i=="number")return[i,i,i,i];if(i.length===2)return[i[0],i[1],i[0],i[1]];var s=h(i);return[s.x,s.y,s.x+s.width,s.y+s.height]}},98580:function(W){(function(V,e){W.exports=e()})(this,function(){function V(mt,Kt){this.id=fe++,this.type=mt,this.data=Kt}function e(mt){if(mt.length===0)return[];var Kt=mt.charAt(0),jt=mt.charAt(mt.length-1);if(1<mt.length&&Kt===jt&&(Kt==='"'||Kt==="'"))return['"'+mt.substr(1,mt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Kt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(mt))return e(mt.substr(0,Kt.index)).concat(e(Kt[1])).concat(e(mt.substr(Kt.index+Kt[0].length)));if(Kt=mt.split("."),Kt.length===1)return['"'+mt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(mt=[],jt=0;jt<Kt.length;++jt)mt=mt.concat(e(Kt[jt]));return mt}function y(mt){return"["+e(mt).join("][")+"]"}function C(mt,Kt){if(typeof mt=="function")return new V(0,mt);if(typeof mt=="number"||typeof mt=="boolean")return new V(5,mt);if(Array.isArray(mt))return new V(6,mt.map(function(jt,wr){return C(jt)}));if(mt instanceof V)return mt}function a(){var mt={"":0},Kt=[""];return{id:function(jt){var wr=mt[jt];return wr||(wr=mt[jt]=Kt.length,Kt.push(jt),wr)},str:function(jt){return Kt[jt]}}}function L(mt,Kt,jt){function wr(){var ut=window.innerWidth,bt=window.innerHeight;mt!==document.body&&(bt=vr.getBoundingClientRect(),ut=bt.right-bt.left,bt=bt.bottom-bt.top),vr.width=jt*ut,vr.height=jt*bt}var vr=document.createElement("canvas");te(vr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),mt.appendChild(vr),mt===document.body&&(vr.style.position="absolute",te(mt.style,{margin:0,padding:0}));var ct;return mt!==document.body&&typeof ResizeObserver=="function"?(ct=new ResizeObserver(function(){setTimeout(wr)}),ct.observe(mt)):window.addEventListener("resize",wr,!1),wr(),{canvas:vr,onDestroy:function(){ct?ct.disconnect():window.removeEventListener("resize",wr),mt.removeChild(vr)}}}function x(mt,Kt){function jt(wr){try{return mt.getContext(wr,Kt)}catch{return null}}return jt("webgl")||jt("experimental-webgl")||jt("webgl-experimental")}function h(mt){return typeof mt=="string"?mt.split():mt}function d(mt){return typeof mt=="string"?document.querySelector(mt):mt}function t(mt){var Kt=mt||{},jt,wr,vr,ct;mt={};var ut=[],bt=[],At=typeof window>"u"?1:window.devicePixelRatio,Ct=!1,St={},zt=function(qt){},Vt=function(){};if(typeof Kt=="string"?jt=document.querySelector(Kt):typeof Kt=="object"&&(typeof Kt.nodeName=="string"&&typeof Kt.appendChild=="function"&&typeof Kt.getBoundingClientRect=="function"?jt=Kt:typeof Kt.drawArrays=="function"||typeof Kt.drawElements=="function"?(ct=Kt,vr=ct.canvas):("gl"in Kt?ct=Kt.gl:"canvas"in Kt?vr=d(Kt.canvas):"container"in Kt&&(wr=d(Kt.container)),"attributes"in Kt&&(mt=Kt.attributes),"extensions"in Kt&&(ut=h(Kt.extensions)),"optionalExtensions"in Kt&&(bt=h(Kt.optionalExtensions)),"onDone"in Kt&&(zt=Kt.onDone),"profile"in Kt&&(Ct=!!Kt.profile),"pixelRatio"in Kt&&(At=+Kt.pixelRatio),"cachedCode"in Kt&&(St=Kt.cachedCode))),jt&&(jt.nodeName.toLowerCase()==="canvas"?vr=jt:wr=jt),!ct){if(!vr){if(jt=L(wr||document.body,zt,At),!jt)return null;vr=jt.canvas,Vt=jt.onDestroy}mt.premultipliedAlpha===void 0&&(mt.premultipliedAlpha=!0),ct=x(vr,mt)}return ct?{gl:ct,canvas:vr,container:wr,extensions:ut,optionalExtensions:bt,pixelRatio:At,profile:Ct,cachedCode:St,onDone:zt,onDestroy:Vt}:(Vt(),zt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(mt,Kt){function jt(ut){ut=ut.toLowerCase();var bt;try{bt=wr[ut]=mt.getExtension(ut)}catch{}return!!bt}for(var wr={},vr=0;vr<Kt.extensions.length;++vr){var ct=Kt.extensions[vr];if(!jt(ct))return Kt.onDestroy(),Kt.onDone('"'+ct+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Kt.optionalExtensions.forEach(jt),{extensions:wr,restore:function(){Object.keys(wr).forEach(function(ut){if(wr[ut]&&!jt(ut))throw Error("(regl): error restoring extension "+ut)})}}}function u(mt,Kt){for(var jt=Array(mt),wr=0;wr<mt;++wr)jt[wr]=Kt(wr);return jt}function n(mt){var Kt,jt;return Kt=(65535<mt)<<4,mt>>>=Kt,jt=(255<mt)<<3,mt>>>=jt,Kt|=jt,jt=(15<mt)<<2,mt>>>=jt,Kt|=jt,jt=(3<mt)<<1,Kt|jt|mt>>>jt>>1}function i(){function mt(wr){e:{for(var vr=16;268435456>=vr;vr*=16)if(wr<=vr){wr=vr;break e}wr=0}return vr=jt[n(wr)>>2],0<vr.length?vr.pop():new ArrayBuffer(wr)}function Kt(wr){jt[n(wr.byteLength)>>2].push(wr)}var jt=u(8,function(){return[]});return{alloc:mt,free:Kt,allocType:function(wr,vr){var ct=null;switch(wr){case 5120:ct=new Int8Array(mt(vr),0,vr);break;case 5121:ct=new Uint8Array(mt(vr),0,vr);break;case 5122:ct=new Int16Array(mt(2*vr),0,vr);break;case 5123:ct=new Uint16Array(mt(2*vr),0,vr);break;case 5124:ct=new Int32Array(mt(4*vr),0,vr);break;case 5125:ct=new Uint32Array(mt(4*vr),0,vr);break;case 5126:ct=new Float32Array(mt(4*vr),0,vr);break;default:return null}return ct.length!==vr?ct.subarray(0,vr):ct},freeType:function(wr){Kt(wr.buffer)}}}function s(mt){return!!mt&&typeof mt=="object"&&Array.isArray(mt.shape)&&Array.isArray(mt.stride)&&typeof mt.offset=="number"&&mt.shape.length===mt.stride.length&&(Array.isArray(mt.data)||Se(mt.data))}function o(mt,Kt,jt,wr,vr,ct){for(var ut=0;ut<Kt;++ut)for(var bt=mt[ut],At=0;At<jt;++At)for(var Ct=bt[At],St=0;St<wr;++St)vr[ct++]=Ct[St]}function m(mt,Kt,jt,wr,vr){for(var ct=1,ut=jt+1;ut<Kt.length;++ut)ct*=Kt[ut];var bt=Kt[jt];if(Kt.length-jt===4){var At=Kt[jt+1],Ct=Kt[jt+2];for(Kt=Kt[jt+3],ut=0;ut<bt;++ut)o(mt[ut],At,Ct,Kt,wr,vr),vr+=ct}else for(ut=0;ut<bt;++ut)m(mt[ut],Kt,jt+1,wr,vr),vr+=ct}function c(mt){return Ne[Object.prototype.toString.call(mt)]|0}function b(mt,Kt){for(var jt=0;jt<Kt.length;++jt)mt[jt]=Kt[jt]}function v(mt,Kt,jt,wr,vr,ct,ut){for(var bt=0,At=0;At<jt;++At)for(var Ct=0;Ct<wr;++Ct)mt[bt++]=Kt[vr*At+ct*Ct+ut]}function l(mt,Kt,jt,wr){function vr(zt){this.id=At++,this.buffer=mt.createBuffer(),this.type=zt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,jt.profile&&(this.stats={size:0})}function ct(zt,Vt,qt){zt.byteLength=Vt.byteLength,mt.bufferData(zt.type,Vt,qt)}function ut(zt,Vt,qt,$t,sr,Cr){if(zt.usage=qt,Array.isArray(Vt)){if(zt.dtype=$t||5126,0<Vt.length)if(Array.isArray(Vt[0])){sr=tt(Vt);for(var Ze=$t=1;Ze<sr.length;++Ze)$t*=sr[Ze];zt.dimension=$t,Vt=We(Vt,sr,zt.dtype),ct(zt,Vt,qt),Cr?zt.persistentData=Vt:Re.freeType(Vt)}else typeof Vt[0]=="number"?(zt.dimension=sr,sr=Re.allocType(zt.dtype,Vt.length),b(sr,Vt),ct(zt,sr,qt),Cr?zt.persistentData=sr:Re.freeType(sr)):Se(Vt[0])&&(zt.dimension=Vt[0].length,zt.dtype=$t||c(Vt[0])||5126,Vt=We(Vt,[Vt.length,Vt[0].length],zt.dtype),ct(zt,Vt,qt),Cr?zt.persistentData=Vt:Re.freeType(Vt))}else if(Se(Vt))zt.dtype=$t||c(Vt),zt.dimension=sr,ct(zt,Vt,qt),Cr&&(zt.persistentData=new Uint8Array(new Uint8Array(Vt.buffer)));else if(s(Vt)){sr=Vt.shape;var je=Vt.stride,Ze=Vt.offset,kt=0,_t=0,Zt=0,ar=0;sr.length===1?(kt=sr[0],_t=1,Zt=je[0],ar=0):sr.length===2&&(kt=sr[0],_t=sr[1],Zt=je[0],ar=je[1]),zt.dtype=$t||c(Vt.data)||5126,zt.dimension=_t,sr=Re.allocType(zt.dtype,kt*_t),v(sr,Vt.data,kt,_t,Zt,ar,Ze),ct(zt,sr,qt),Cr?zt.persistentData=sr:Re.freeType(sr)}else Vt instanceof ArrayBuffer&&(zt.dtype=5121,zt.dimension=sr,ct(zt,Vt,qt),Cr&&(zt.persistentData=new Uint8Array(new Uint8Array(Vt))))}function bt(zt){Kt.bufferCount--,wr(zt),mt.deleteBuffer(zt.buffer),zt.buffer=null,delete Ct[zt.id]}var At=0,Ct={};vr.prototype.bind=function(){mt.bindBuffer(this.type,this.buffer)},vr.prototype.destroy=function(){bt(this)};var St=[];return jt.profile&&(Kt.getTotalBufferSize=function(){var zt=0;return Object.keys(Ct).forEach(function(Vt){zt+=Ct[Vt].stats.size}),zt}),{create:function(zt,Vt,qt,$t){function sr(Ze){var je=35044,kt=null,_t=0,Zt=0,ar=1;return Array.isArray(Ze)||Se(Ze)||s(Ze)||Ze instanceof ArrayBuffer?kt=Ze:typeof Ze=="number"?_t=Ze|0:Ze&&("data"in Ze&&(kt=Ze.data),"usage"in Ze&&(je=_e[Ze.usage]),"type"in Ze&&(Zt=He[Ze.type]),"dimension"in Ze&&(ar=Ze.dimension|0),"length"in Ze&&(_t=Ze.length|0)),Cr.bind(),kt?ut(Cr,kt,je,Zt,ar,$t):(_t&&mt.bufferData(Cr.type,_t,je),Cr.dtype=Zt||5121,Cr.usage=je,Cr.dimension=ar,Cr.byteLength=_t),jt.profile&&(Cr.stats.size=Cr.byteLength*Ke[Cr.dtype]),sr}Kt.bufferCount++;var Cr=new vr(Vt);return Ct[Cr.id]=Cr,qt||sr(zt),sr._reglType="buffer",sr._buffer=Cr,sr.subdata=function(Ze,je){var kt=(je||0)|0,_t;if(Cr.bind(),Se(Ze)||Ze instanceof ArrayBuffer)mt.bufferSubData(Cr.type,kt,Ze);else if(Array.isArray(Ze)){if(0<Ze.length)if(typeof Ze[0]=="number"){var Zt=Re.allocType(Cr.dtype,Ze.length);b(Zt,Ze),mt.bufferSubData(Cr.type,kt,Zt),Re.freeType(Zt)}else(Array.isArray(Ze[0])||Se(Ze[0]))&&(_t=tt(Ze),Zt=We(Ze,_t,Cr.dtype),mt.bufferSubData(Cr.type,kt,Zt),Re.freeType(Zt))}else if(s(Ze)){_t=Ze.shape;var ar=Ze.stride,ur=Zt=0,nr=0,Ot=0;_t.length===1?(Zt=_t[0],ur=1,nr=ar[0],Ot=0):_t.length===2&&(Zt=_t[0],ur=_t[1],nr=ar[0],Ot=ar[1]),_t=Array.isArray(Ze.data)?Cr.dtype:c(Ze.data),_t=Re.allocType(_t,Zt*ur),v(_t,Ze.data,Zt,ur,nr,Ot,Ze.offset),mt.bufferSubData(Cr.type,kt,_t),Re.freeType(_t)}return sr},jt.profile&&(sr.stats=Cr.stats),sr.destroy=function(){bt(Cr)},sr},createStream:function(zt,Vt){var qt=St.pop();return qt||(qt=new vr(zt)),qt.bind(),ut(qt,Vt,35040,0,1,!1),qt},destroyStream:function(zt){St.push(zt)},clear:function(){Te(Ct).forEach(bt),St.forEach(bt)},getBuffer:function(zt){return zt&&zt._buffer instanceof vr?zt._buffer:null},restore:function(){Te(Ct).forEach(function(zt){zt.buffer=mt.createBuffer(),mt.bindBuffer(zt.type,zt.buffer),mt.bufferData(zt.type,zt.persistentData||zt.byteLength,zt.usage)})},_initBuffer:ut}}function p(mt,Kt,jt,wr){function vr(zt){this.id=At++,bt[this.id]=this,this.buffer=zt,this.primType=4,this.type=this.vertCount=0}function ct(zt,Vt,qt,$t,sr,Cr,Ze){zt.buffer.bind();var je;if(Vt?((je=Ze)||Se(Vt)&&(!s(Vt)||Se(Vt.data))||(je=Kt.oes_element_index_uint?5125:5123),jt._initBuffer(zt.buffer,Vt,qt,je,3)):(mt.bufferData(34963,Cr,qt),zt.buffer.dtype=je||5121,zt.buffer.usage=qt,zt.buffer.dimension=3,zt.buffer.byteLength=Cr),je=Ze,!Ze){switch(zt.buffer.dtype){case 5121:case 5120:je=5121;break;case 5123:case 5122:je=5123;break;case 5125:case 5124:je=5125}zt.buffer.dtype=je}zt.type=je,Vt=sr,0>Vt&&(Vt=zt.buffer.byteLength,je===5123?Vt>>=1:je===5125&&(Vt>>=2)),zt.vertCount=Vt,Vt=$t,0>$t&&(Vt=4,$t=zt.buffer.dimension,$t===1&&(Vt=0),$t===2&&(Vt=1),$t===3&&(Vt=4)),zt.primType=Vt}function ut(zt){wr.elementsCount--,delete bt[zt.id],zt.buffer.destroy(),zt.buffer=null}var bt={},At=0,Ct={uint8:5121,uint16:5123};Kt.oes_element_index_uint&&(Ct.uint32=5125),vr.prototype.bind=function(){this.buffer.bind()};var St=[];return{create:function(zt,Vt){function qt(Cr){if(Cr)if(typeof Cr=="number")$t(Cr),sr.primType=4,sr.vertCount=Cr|0,sr.type=5121;else{var Ze=null,je=35044,kt=-1,_t=-1,Zt=0,ar=0;Array.isArray(Cr)||Se(Cr)||s(Cr)?Ze=Cr:("data"in Cr&&(Ze=Cr.data),"usage"in Cr&&(je=_e[Cr.usage]),"primitive"in Cr&&(kt=qe[Cr.primitive]),"count"in Cr&&(_t=Cr.count|0),"type"in Cr&&(ar=Ct[Cr.type]),"length"in Cr?Zt=Cr.length|0:(Zt=_t,ar===5123||ar===5122?Zt*=2:(ar===5125||ar===5124)&&(Zt*=4))),ct(sr,Ze,je,kt,_t,Zt,ar)}else $t(),sr.primType=4,sr.vertCount=0,sr.type=5121;return qt}var $t=jt.create(null,34963,!0),sr=new vr($t._buffer);return wr.elementsCount++,qt(zt),qt._reglType="elements",qt._elements=sr,qt.subdata=function(Cr,Ze){return $t.subdata(Cr,Ze),qt},qt.destroy=function(){ut(sr)},qt},createStream:function(zt){var Vt=St.pop();return Vt||(Vt=new vr(jt.create(null,34963,!0,!1)._buffer)),ct(Vt,zt,35040,-1,-1,0,0),Vt},destroyStream:function(zt){St.push(zt)},getElements:function(zt){return typeof zt=="function"&&zt._elements instanceof vr?zt._elements:null},clear:function(){Te(bt).forEach(ut)}}}function S(mt){for(var Kt=Re.allocType(5123,mt.length),jt=0;jt<mt.length;++jt)if(isNaN(mt[jt]))Kt[jt]=65535;else if(mt[jt]===1/0)Kt[jt]=31744;else if(mt[jt]===-1/0)Kt[jt]=64512;else{rt[0]=mt[jt];var ct=ft[0],wr=ct>>>31<<15,vr=(ct<<1>>>24)-127,ct=ct>>13&1023;Kt[jt]=-24>vr?wr:-14>vr?wr+(ct+1024>>-14-vr):15<vr?wr+31744:wr+(vr+15<<10)+ct}return Kt}function M(mt){return Array.isArray(mt)||Se(mt)}function R(mt){return"[object "+mt+"]"}function T(mt){return Array.isArray(mt)&&(mt.length===0||typeof mt[0]=="number")}function E(mt){return!!(Array.isArray(mt)&&mt.length!==0&&M(mt[0]))}function A(mt){return Object.prototype.toString.call(mt)}function f(mt){if(!mt)return!1;var Kt=A(mt);return 0<=ke.indexOf(Kt)?!0:T(mt)||E(mt)||s(mt)}function P(mt,Kt){mt.type===36193?(mt.data=S(Kt),Re.freeType(Kt)):mt.data=Kt}function w(mt,Kt,jt,wr,vr,ct){if(mt=typeof ce[mt]<"u"?ce[mt]:Mt[mt]*Me[Kt],ct&&(mt*=6),vr){for(wr=0;1<=jt;)wr+=mt*jt*jt,jt/=2;return wr}return mt*jt*wr}function z(mt,Kt,jt,wr,vr,ct,ut){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function At(Sr,sn){Sr.internalformat=sn.internalformat,Sr.format=sn.format,Sr.type=sn.type,Sr.compressed=sn.compressed,Sr.premultiplyAlpha=sn.premultiplyAlpha,Sr.flipY=sn.flipY,Sr.unpackAlignment=sn.unpackAlignment,Sr.colorSpace=sn.colorSpace,Sr.width=sn.width,Sr.height=sn.height,Sr.channels=sn.channels}function Ct(Sr,sn){if(typeof sn=="object"&&sn){"premultiplyAlpha"in sn&&(Sr.premultiplyAlpha=sn.premultiplyAlpha),"flipY"in sn&&(Sr.flipY=sn.flipY),"alignment"in sn&&(Sr.unpackAlignment=sn.alignment),"colorSpace"in sn&&(Sr.colorSpace=gn[sn.colorSpace]),"type"in sn&&(Sr.type=Kr[sn.type]);var an=Sr.width,yn=Sr.height,Hn=Sr.channels,Cn=!1;"shape"in sn?(an=sn.shape[0],yn=sn.shape[1],sn.shape.length===3&&(Hn=sn.shape[2],Cn=!0)):("radius"in sn&&(an=yn=sn.radius),"width"in sn&&(an=sn.width),"height"in sn&&(yn=sn.height),"channels"in sn&&(Hn=sn.channels,Cn=!0)),Sr.width=an|0,Sr.height=yn|0,Sr.channels=Hn|0,an=!1,"format"in sn&&(an=sn.format,yn=Sr.internalformat=kn[an],Sr.format=An[yn],an in Kr&&!("type"in sn)&&(Sr.type=Kr[an]),an in In&&(Sr.compressed=!0),an=!0),!Cn&&an?Sr.channels=Mt[Sr.format]:Cn&&!an&&Sr.channels!==gt[Sr.format]&&(Sr.format=Sr.internalformat=gt[Sr.channels])}}function St(Sr){mt.pixelStorei(37440,Sr.flipY),mt.pixelStorei(37441,Sr.premultiplyAlpha),mt.pixelStorei(37443,Sr.colorSpace),mt.pixelStorei(3317,Sr.unpackAlignment)}function zt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Vt(Sr,sn){var an=null;if(f(sn)?an=sn:sn&&(Ct(Sr,sn),"x"in sn&&(Sr.xOffset=sn.x|0),"y"in sn&&(Sr.yOffset=sn.y|0),f(sn.data)&&(an=sn.data)),sn.copy){var yn=vr.viewportWidth,Hn=vr.viewportHeight;Sr.width=Sr.width||yn-Sr.xOffset,Sr.height=Sr.height||Hn-Sr.yOffset,Sr.needsCopy=!0}else if(!an)Sr.width=Sr.width||1,Sr.height=Sr.height||1,Sr.channels=Sr.channels||4;else if(Se(an))Sr.channels=Sr.channels||4,Sr.data=an,"type"in sn||Sr.type!==5121||(Sr.type=Ne[Object.prototype.toString.call(an)]|0);else if(T(an)){switch(Sr.channels=Sr.channels||4,yn=an,Hn=yn.length,Sr.type){case 5121:case 5123:case 5125:case 5126:Hn=Re.allocType(Sr.type,Hn),Hn.set(yn),Sr.data=Hn;break;case 36193:Sr.data=S(yn)}Sr.alignment=1,Sr.needsFree=!0}else if(s(an)){yn=an.data,Array.isArray(yn)||Sr.type!==5121||(Sr.type=Ne[Object.prototype.toString.call(yn)]|0);var Hn=an.shape,Cn=an.stride,Ln,Gn,oa,Da;Hn.length===3?(oa=Hn[2],Da=Cn[2]):Da=oa=1,Ln=Hn[0],Gn=Hn[1],Hn=Cn[0],Cn=Cn[1],Sr.alignment=1,Sr.width=Ln,Sr.height=Gn,Sr.channels=oa,Sr.format=Sr.internalformat=gt[oa],Sr.needsFree=!0,Ln=Da,an=an.offset,oa=Sr.width,Da=Sr.height,Gn=Sr.channels;for(var Xa=Re.allocType(Sr.type===36193?5126:Sr.type,oa*Da*Gn),Xt=0,Tr=0;Tr<Da;++Tr)for(var on=0;on<oa;++on)for(var hn=0;hn<Gn;++hn)Xa[Xt++]=yn[Hn*on+Cn*Tr+Ln*hn+an];P(Sr,Xa)}else if(A(an)===Lt||A(an)===Wt||A(an)===Je)A(an)===Lt||A(an)===Wt?Sr.element=an:Sr.element=an.canvas,Sr.width=Sr.element.width,Sr.height=Sr.element.height,Sr.channels=4;else if(A(an)===ze)Sr.element=an,Sr.width=an.width,Sr.height=an.height,Sr.channels=4;else if(A(an)===Oe)Sr.element=an,Sr.width=an.naturalWidth,Sr.height=an.naturalHeight,Sr.channels=4;else if(A(an)===Ue)Sr.element=an,Sr.width=an.videoWidth,Sr.height=an.videoHeight,Sr.channels=4;else if(E(an)){for(yn=Sr.width||an[0].length,Hn=Sr.height||an.length,Cn=Sr.channels,Cn=M(an[0][0])?Cn||an[0][0].length:Cn||1,Ln=Ee.shape(an),oa=1,Da=0;Da<Ln.length;++Da)oa*=Ln[Da];oa=Re.allocType(Sr.type===36193?5126:Sr.type,oa),Ee.flatten(an,Ln,"",oa),P(Sr,oa),Sr.alignment=1,Sr.width=yn,Sr.height=Hn,Sr.channels=Cn,Sr.format=Sr.internalformat=gt[Cn],Sr.needsFree=!0}}function qt(Sr,sn,an,yn,Hn){var Cn=Sr.element,Ln=Sr.data,Gn=Sr.internalformat,oa=Sr.format,Da=Sr.type,Xa=Sr.width,Xt=Sr.height;St(Sr),Cn?mt.texSubImage2D(sn,Hn,an,yn,oa,Da,Cn):Sr.compressed?mt.compressedTexSubImage2D(sn,Hn,an,yn,Gn,Xa,Xt,Ln):Sr.needsCopy?(wr(),mt.copyTexSubImage2D(sn,Hn,an,yn,Sr.xOffset,Sr.yOffset,Xa,Xt)):mt.texSubImage2D(sn,Hn,an,yn,Xa,Xt,oa,Da,Ln)}function $t(){return Rn.pop()||new zt}function sr(Sr){Sr.needsFree&&Re.freeType(Sr.data),zt.call(Sr),Rn.push(Sr)}function Cr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ze(Sr,sn,an){var yn=Sr.images[0]=$t();Sr.mipmask=1,yn.width=Sr.width=sn,yn.height=Sr.height=an,yn.channels=Sr.channels=4}function je(Sr,sn){var an=null;if(f(sn))an=Sr.images[0]=$t(),At(an,Sr),Vt(an,sn),Sr.mipmask=1;else if(Ct(Sr,sn),Array.isArray(sn.mipmap))for(var yn=sn.mipmap,Hn=0;Hn<yn.length;++Hn)an=Sr.images[Hn]=$t(),At(an,Sr),an.width>>=Hn,an.height>>=Hn,Vt(an,yn[Hn]),Sr.mipmask|=1<<Hn;else an=Sr.images[0]=$t(),At(an,Sr),Vt(an,sn),Sr.mipmask=1;At(Sr,Sr.images[0])}function kt(Sr,sn){for(var an=Sr.images,yn=0;yn<an.length&&an[yn];++yn){var Hn=an[yn],Cn=sn,Ln=yn,Gn=Hn.element,oa=Hn.data,Da=Hn.internalformat,Xa=Hn.format,Xt=Hn.type,Tr=Hn.width,on=Hn.height;St(Hn),Gn?mt.texImage2D(Cn,Ln,Xa,Xa,Xt,Gn):Hn.compressed?mt.compressedTexImage2D(Cn,Ln,Da,Tr,on,0,oa):Hn.needsCopy?(wr(),mt.copyTexImage2D(Cn,Ln,Xa,Hn.xOffset,Hn.yOffset,Tr,on,0)):mt.texImage2D(Cn,Ln,Xa,Tr,on,0,Xa,Xt,oa||null)}}function _t(){var Sr=Jn.pop()||new Cr;bt.call(Sr);for(var sn=Sr.mipmask=0;16>sn;++sn)Sr.images[sn]=null;return Sr}function Zt(Sr){for(var sn=Sr.images,an=0;an<sn.length;++an)sn[an]&&sr(sn[an]),sn[an]=null;Jn.push(Sr)}function ar(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(Sr,sn){"min"in sn&&(Sr.minFilter=Fr[sn.min],0<=pt.indexOf(Sr.minFilter)&&!("faces"in sn)&&(Sr.genMipmaps=!0)),"mag"in sn&&(Sr.magFilter=kr[sn.mag]);var an=Sr.wrapS,yn=Sr.wrapT;if("wrap"in sn){var Hn=sn.wrap;typeof Hn=="string"?an=yn=Gr[Hn]:Array.isArray(Hn)&&(an=Gr[Hn[0]],yn=Gr[Hn[1]])}else"wrapS"in sn&&(an=Gr[sn.wrapS]),"wrapT"in sn&&(yn=Gr[sn.wrapT]);if(Sr.wrapS=an,Sr.wrapT=yn,"anisotropic"in sn&&(Sr.anisotropic=sn.anisotropic),"mipmap"in sn){switch(an=!1,typeof sn.mipmap){case"string":Sr.mipmapHint=dr[sn.mipmap],an=Sr.genMipmaps=!0;break;case"boolean":an=Sr.genMipmaps=sn.mipmap;break;case"object":Sr.genMipmaps=!1,an=!0}!an||"min"in sn||(Sr.minFilter=9984)}}function nr(Sr,sn){mt.texParameteri(sn,10241,Sr.minFilter),mt.texParameteri(sn,10240,Sr.magFilter),mt.texParameteri(sn,10242,Sr.wrapS),mt.texParameteri(sn,10243,Sr.wrapT),Kt.ext_texture_filter_anisotropic&&mt.texParameteri(sn,34046,Sr.anisotropic),Sr.genMipmaps&&(mt.hint(33170,Sr.mipmapHint),mt.generateMipmap(sn))}function Ot(Sr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ta++,this.refCount=1,this.target=Sr,this.texture=mt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ar,ut.profile&&(this.stats={size:0})}function cr(Sr){mt.activeTexture(33984),mt.bindTexture(Sr.target,Sr.texture)}function pr(){var Sr=ra[0];Sr?mt.bindTexture(Sr.target,Sr.texture):mt.bindTexture(3553,null)}function gr(Sr){var sn=Sr.texture,an=Sr.unit,yn=Sr.target;0<=an&&(mt.activeTexture(33984+an),mt.bindTexture(yn,null),ra[an]=null),mt.deleteTexture(sn),Sr.texture=null,Sr.params=null,Sr.pixels=null,Sr.refCount=0,delete fa[Sr.id],ct.textureCount--}var dr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Gr={repeat:10497,clamp:33071,mirror:33648},kr={nearest:9728,linear:9729},Fr=te({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kr),gn={none:0,browser:37444},Kr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},kn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},In={};Kt.ext_srgb&&(kn.srgb=35904,kn.srgba=35906),Kt.oes_texture_float&&(Kr.float32=Kr.float=5126),Kt.oes_texture_half_float&&(Kr.float16=Kr["half float"]=36193),Kt.webgl_depth_texture&&(te(kn,{depth:6402,"depth stencil":34041}),te(Kr,{uint16:5123,uint32:5125,"depth stencil":34042})),Kt.webgl_compressed_texture_s3tc&&te(In,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Kt.webgl_compressed_texture_atc&&te(In,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Kt.webgl_compressed_texture_pvrtc&&te(In,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Kt.webgl_compressed_texture_etc1&&(In["rgb etc1"]=36196);var br=Array.prototype.slice.call(mt.getParameter(34467));Object.keys(In).forEach(function(Sr){var sn=In[Sr];0<=br.indexOf(sn)&&(kn[Sr]=sn)});var Mr=Object.keys(kn);jt.textureFormats=Mr;var Br=[];Object.keys(kn).forEach(function(Sr){Br[kn[Sr]]=Sr});var Nr=[];Object.keys(Kr).forEach(function(Sr){Nr[Kr[Sr]]=Sr});var en=[];Object.keys(kr).forEach(function(Sr){en[kr[Sr]]=Sr});var dn=[];Object.keys(Fr).forEach(function(Sr){dn[Fr[Sr]]=Sr});var cn=[];Object.keys(Gr).forEach(function(Sr){cn[Gr[Sr]]=Sr});var An=Mr.reduce(function(Sr,sn){var an=kn[sn];return an===6409||an===6406||an===6409||an===6410||an===6402||an===34041||Kt.ext_srgb&&(an===35904||an===35906)?Sr[an]=an:an===32855||0<=sn.indexOf("rgba")?Sr[an]=6408:Sr[an]=6407,Sr},{}),Rn=[],Jn=[],ta=0,fa={},na=jt.maxTextureUnits,ra=Array(na).map(function(){return null});return te(Ot.prototype,{bind:function(){this.bindCount+=1;var Sr=this.unit;if(0>Sr){for(var sn=0;sn<na;++sn){var an=ra[sn];if(an){if(0<an.bindCount)continue;an.unit=-1}ra[sn]=this,Sr=sn;break}ut.profile&&ct.maxTextureUnits<Sr+1&&(ct.maxTextureUnits=Sr+1),this.unit=Sr,mt.activeTexture(33984+Sr),mt.bindTexture(this.target,this.texture)}return Sr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&gr(this)}}),ut.profile&&(ct.getTotalTextureSize=function(){var Sr=0;return Object.keys(fa).forEach(function(sn){Sr+=fa[sn].stats.size}),Sr}),{create2D:function(Sr,sn){function an(Hn,Cn){var Ln=yn.texInfo;ar.call(Ln);var Gn=_t();return typeof Hn=="number"?typeof Cn=="number"?Ze(Gn,Hn|0,Cn|0):Ze(Gn,Hn|0,Hn|0):Hn?(ur(Ln,Hn),je(Gn,Hn)):Ze(Gn,1,1),Ln.genMipmaps&&(Gn.mipmask=(Gn.width<<1)-1),yn.mipmask=Gn.mipmask,At(yn,Gn),yn.internalformat=Gn.internalformat,an.width=Gn.width,an.height=Gn.height,cr(yn),kt(Gn,3553),nr(Ln,3553),pr(),Zt(Gn),ut.profile&&(yn.stats.size=w(yn.internalformat,yn.type,Gn.width,Gn.height,Ln.genMipmaps,!1)),an.format=Br[yn.internalformat],an.type=Nr[yn.type],an.mag=en[Ln.magFilter],an.min=dn[Ln.minFilter],an.wrapS=cn[Ln.wrapS],an.wrapT=cn[Ln.wrapT],an}var yn=new Ot(3553);return fa[yn.id]=yn,ct.textureCount++,an(Sr,sn),an.subimage=function(Hn,Cn,Ln,Gn){Cn|=0,Ln|=0,Gn|=0;var oa=$t();return At(oa,yn),oa.width=0,oa.height=0,Vt(oa,Hn),oa.width=oa.width||(yn.width>>Gn)-Cn,oa.height=oa.height||(yn.height>>Gn)-Ln,cr(yn),qt(oa,3553,Cn,Ln,Gn),pr(),sr(oa),an},an.resize=function(Hn,Cn){var Ln=Hn|0,Gn=Cn|0||Ln;if(Ln===yn.width&&Gn===yn.height)return an;an.width=yn.width=Ln,an.height=yn.height=Gn,cr(yn);for(var oa=0;yn.mipmask>>oa;++oa){var Da=Ln>>oa,Xa=Gn>>oa;if(!Da||!Xa)break;mt.texImage2D(3553,oa,yn.format,Da,Xa,0,yn.format,yn.type,null)}return pr(),ut.profile&&(yn.stats.size=w(yn.internalformat,yn.type,Ln,Gn,!1,!1)),an},an._reglType="texture2d",an._texture=yn,ut.profile&&(an.stats=yn.stats),an.destroy=function(){yn.decRef()},an},createCube:function(Sr,sn,an,yn,Hn,Cn){function Ln(Da,Xa,Xt,Tr,on,hn){var vn,Pn=Gn.texInfo;for(ar.call(Pn),vn=0;6>vn;++vn)oa[vn]=_t();if(typeof Da=="number"||!Da)for(Da=Da|0||1,vn=0;6>vn;++vn)Ze(oa[vn],Da,Da);else if(typeof Da=="object")if(Xa)je(oa[0],Da),je(oa[1],Xa),je(oa[2],Xt),je(oa[3],Tr),je(oa[4],on),je(oa[5],hn);else if(ur(Pn,Da),Ct(Gn,Da),"faces"in Da)for(Da=Da.faces,vn=0;6>vn;++vn)At(oa[vn],Gn),je(oa[vn],Da[vn]);else for(vn=0;6>vn;++vn)je(oa[vn],Da);for(At(Gn,oa[0]),Gn.mipmask=Pn.genMipmaps?(oa[0].width<<1)-1:oa[0].mipmask,Gn.internalformat=oa[0].internalformat,Ln.width=oa[0].width,Ln.height=oa[0].height,cr(Gn),vn=0;6>vn;++vn)kt(oa[vn],34069+vn);for(nr(Pn,34067),pr(),ut.profile&&(Gn.stats.size=w(Gn.internalformat,Gn.type,Ln.width,Ln.height,Pn.genMipmaps,!0)),Ln.format=Br[Gn.internalformat],Ln.type=Nr[Gn.type],Ln.mag=en[Pn.magFilter],Ln.min=dn[Pn.minFilter],Ln.wrapS=cn[Pn.wrapS],Ln.wrapT=cn[Pn.wrapT],vn=0;6>vn;++vn)Zt(oa[vn]);return Ln}var Gn=new Ot(34067);fa[Gn.id]=Gn,ct.cubeCount++;var oa=Array(6);return Ln(Sr,sn,an,yn,Hn,Cn),Ln.subimage=function(Da,Xa,Xt,Tr,on){Xt|=0,Tr|=0,on|=0;var hn=$t();return At(hn,Gn),hn.width=0,hn.height=0,Vt(hn,Xa),hn.width=hn.width||(Gn.width>>on)-Xt,hn.height=hn.height||(Gn.height>>on)-Tr,cr(Gn),qt(hn,34069+Da,Xt,Tr,on),pr(),sr(hn),Ln},Ln.resize=function(Da){if(Da|=0,Da!==Gn.width){Ln.width=Gn.width=Da,Ln.height=Gn.height=Da,cr(Gn);for(var Xa=0;6>Xa;++Xa)for(var Xt=0;Gn.mipmask>>Xt;++Xt)mt.texImage2D(34069+Xa,Xt,Gn.format,Da>>Xt,Da>>Xt,0,Gn.format,Gn.type,null);return pr(),ut.profile&&(Gn.stats.size=w(Gn.internalformat,Gn.type,Ln.width,Ln.height,!1,!0)),Ln}},Ln._reglType="textureCube",Ln._texture=Gn,ut.profile&&(Ln.stats=Gn.stats),Ln.destroy=function(){Gn.decRef()},Ln},clear:function(){for(var Sr=0;Sr<na;++Sr)mt.activeTexture(33984+Sr),mt.bindTexture(3553,null),ra[Sr]=null;Te(fa).forEach(gr),ct.cubeCount=0,ct.textureCount=0},getTexture:function(Sr){return null},restore:function(){for(var Sr=0;Sr<na;++Sr){var sn=ra[Sr];sn&&(sn.bindCount=0,sn.unit=-1,ra[Sr]=null)}Te(fa).forEach(function(an){an.texture=mt.createTexture(),mt.bindTexture(an.target,an.texture);for(var yn=0;32>yn;++yn)if(an.mipmask&1<<yn)if(an.target===3553)mt.texImage2D(3553,yn,an.internalformat,an.width>>yn,an.height>>yn,0,an.internalformat,an.type,null);else for(var Hn=0;6>Hn;++Hn)mt.texImage2D(34069+Hn,yn,an.internalformat,an.width>>yn,an.height>>yn,0,an.internalformat,an.type,null);nr(an.texInfo,an.target)})},refresh:function(){for(var Sr=0;Sr<na;++Sr){var sn=ra[Sr];sn&&(sn.bindCount=0,sn.unit=-1,ra[Sr]=null),mt.activeTexture(33984+Sr),mt.bindTexture(3553,null),mt.bindTexture(34067,null)}}}}function F(mt,Kt,jt,wr,vr,ct){function ut(Ot,cr,pr){this.target=Ot,this.texture=cr,this.renderbuffer=pr;var gr=Ot=0;cr?(Ot=cr.width,gr=cr.height):pr&&(Ot=pr.width,gr=pr.height),this.width=Ot,this.height=gr}function bt(Ot){Ot&&(Ot.texture&&Ot.texture._texture.decRef(),Ot.renderbuffer&&Ot.renderbuffer._renderbuffer.decRef())}function At(Ot,cr,pr){Ot&&(Ot.texture?Ot.texture._texture.refCount+=1:Ot.renderbuffer._renderbuffer.refCount+=1)}function Ct(Ot,cr){cr&&(cr.texture?mt.framebufferTexture2D(36160,Ot,cr.target,cr.texture._texture.texture,0):mt.framebufferRenderbuffer(36160,Ot,36161,cr.renderbuffer._renderbuffer.renderbuffer))}function St(Ot){var cr=3553,pr=null,gr=null,dr=Ot;return typeof Ot=="object"&&(dr=Ot.data,"target"in Ot&&(cr=Ot.target|0)),Ot=dr._reglType,Ot==="texture2d"||Ot==="textureCube"?pr=dr:Ot==="renderbuffer"&&(gr=dr,cr=36161),new ut(cr,pr,gr)}function zt(Ot,cr,pr,gr,dr){return pr?(Ot=wr.create2D({width:Ot,height:cr,format:gr,type:dr}),Ot._texture.refCount=0,new ut(3553,Ot,null)):(Ot=vr.create({width:Ot,height:cr,format:gr}),Ot._renderbuffer.refCount=0,new ut(36161,null,Ot))}function Vt(Ot){return Ot&&(Ot.texture||Ot.renderbuffer)}function qt(Ot,cr,pr){Ot&&(Ot.texture?Ot.texture.resize(cr,pr):Ot.renderbuffer&&Ot.renderbuffer.resize(cr,pr),Ot.width=cr,Ot.height=pr)}function $t(){this.id=ur++,nr[this.id]=this,this.framebuffer=mt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function sr(Ot){Ot.colorAttachments.forEach(bt),bt(Ot.depthAttachment),bt(Ot.stencilAttachment),bt(Ot.depthStencilAttachment)}function Cr(Ot){mt.deleteFramebuffer(Ot.framebuffer),Ot.framebuffer=null,ct.framebufferCount--,delete nr[Ot.id]}function Ze(Ot){var cr;mt.bindFramebuffer(36160,Ot.framebuffer);var pr=Ot.colorAttachments;for(cr=0;cr<pr.length;++cr)Ct(36064+cr,pr[cr]);for(cr=pr.length;cr<jt.maxColorAttachments;++cr)mt.framebufferTexture2D(36160,36064+cr,3553,null,0);mt.framebufferTexture2D(36160,33306,3553,null,0),mt.framebufferTexture2D(36160,36096,3553,null,0),mt.framebufferTexture2D(36160,36128,3553,null,0),Ct(36096,Ot.depthAttachment),Ct(36128,Ot.stencilAttachment),Ct(33306,Ot.depthStencilAttachment),mt.checkFramebufferStatus(36160),mt.isContextLost(),mt.bindFramebuffer(36160,kt.next?kt.next.framebuffer:null),kt.cur=kt.next,mt.getError()}function je(Ot,cr){function pr(dr,Gr){var kr,Fr=0,gn=0,Kr=!0,kn=!0;kr=null;var In=!0,br="rgba",Mr="uint8",Br=1,Nr=null,en=null,dn=null,cn=!1;typeof dr=="number"?(Fr=dr|0,gn=Gr|0||Fr):dr?("shape"in dr?(gn=dr.shape,Fr=gn[0],gn=gn[1]):("radius"in dr&&(Fr=gn=dr.radius),"width"in dr&&(Fr=dr.width),"height"in dr&&(gn=dr.height)),("color"in dr||"colors"in dr)&&(kr=dr.color||dr.colors),kr||("colorCount"in dr&&(Br=dr.colorCount|0),"colorTexture"in dr&&(In=!!dr.colorTexture,br="rgba4"),"colorType"in dr&&(Mr=dr.colorType,!In)&&(Mr==="half float"||Mr==="float16"?br="rgba16f":(Mr==="float"||Mr==="float32")&&(br="rgba32f")),"colorFormat"in dr&&(br=dr.colorFormat,0<=_t.indexOf(br)?In=!0:0<=Zt.indexOf(br)&&(In=!1))),("depthTexture"in dr||"depthStencilTexture"in dr)&&(cn=!(!dr.depthTexture&&!dr.depthStencilTexture)),"depth"in dr&&(typeof dr.depth=="boolean"?Kr=dr.depth:(Nr=dr.depth,kn=!1)),"stencil"in dr&&(typeof dr.stencil=="boolean"?kn=dr.stencil:(en=dr.stencil,Kr=!1)),"depthStencil"in dr&&(typeof dr.depthStencil=="boolean"?Kr=kn=dr.depthStencil:(dn=dr.depthStencil,kn=Kr=!1))):Fr=gn=1;var An=null,Rn=null,Jn=null,ta=null;if(Array.isArray(kr))An=kr.map(St);else if(kr)An=[St(kr)];else for(An=Array(Br),kr=0;kr<Br;++kr)An[kr]=zt(Fr,gn,In,br,Mr);for(Fr=Fr||An[0].width,gn=gn||An[0].height,Nr?Rn=St(Nr):Kr&&!kn&&(Rn=zt(Fr,gn,cn,"depth","uint32")),en?Jn=St(en):kn&&!Kr&&(Jn=zt(Fr,gn,!1,"stencil","uint8")),dn?ta=St(dn):!Nr&&!en&&kn&&Kr&&(ta=zt(Fr,gn,cn,"depth stencil","depth stencil")),Kr=null,kr=0;kr<An.length;++kr)At(An[kr]),An[kr]&&An[kr].texture&&(kn=Ve[An[kr].texture._texture.format]*it[An[kr].texture._texture.type],Kr===null&&(Kr=kn));return At(Rn),At(Jn),At(ta),sr(gr),gr.width=Fr,gr.height=gn,gr.colorAttachments=An,gr.depthAttachment=Rn,gr.stencilAttachment=Jn,gr.depthStencilAttachment=ta,pr.color=An.map(Vt),pr.depth=Vt(Rn),pr.stencil=Vt(Jn),pr.depthStencil=Vt(ta),pr.width=gr.width,pr.height=gr.height,Ze(gr),pr}var gr=new $t;return ct.framebufferCount++,pr(Ot,cr),te(pr,{resize:function(dr,Gr){var kr=Math.max(dr|0,1),Fr=Math.max(Gr|0||kr,1);if(kr===gr.width&&Fr===gr.height)return pr;for(var gn=gr.colorAttachments,Kr=0;Kr<gn.length;++Kr)qt(gn[Kr],kr,Fr);return qt(gr.depthAttachment,kr,Fr),qt(gr.stencilAttachment,kr,Fr),qt(gr.depthStencilAttachment,kr,Fr),gr.width=pr.width=kr,gr.height=pr.height=Fr,Ze(gr),pr},_reglType:"framebuffer",_framebuffer:gr,destroy:function(){Cr(gr),sr(gr)},use:function(dr){kt.setFBO({framebuffer:pr},dr)}})}var kt={cur:null,next:null,dirty:!1,setFBO:null},_t=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];Kt.ext_srgb&&Zt.push("srgba"),Kt.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),Kt.webgl_color_buffer_float&&Zt.push("rgba32f");var ar=["uint8"];Kt.oes_texture_half_float&&ar.push("half float","float16"),Kt.oes_texture_float&&ar.push("float","float32");var ur=0,nr={};return te(kt,{getFramebuffer:function(Ot){return typeof Ot=="function"&&Ot._reglType==="framebuffer"&&(Ot=Ot._framebuffer,Ot instanceof $t)?Ot:null},create:je,createCube:function(Ot){function cr(gr){var dr,Gr={color:null},kr=0,Fr=null;dr="rgba";var gn="uint8",Kr=1;if(typeof gr=="number"?kr=gr|0:gr?("shape"in gr?kr=gr.shape[0]:("radius"in gr&&(kr=gr.radius|0),"width"in gr?kr=gr.width|0:"height"in gr&&(kr=gr.height|0)),("color"in gr||"colors"in gr)&&(Fr=gr.color||gr.colors),Fr||("colorCount"in gr&&(Kr=gr.colorCount|0),"colorType"in gr&&(gn=gr.colorType),"colorFormat"in gr&&(dr=gr.colorFormat)),"depth"in gr&&(Gr.depth=gr.depth),"stencil"in gr&&(Gr.stencil=gr.stencil),"depthStencil"in gr&&(Gr.depthStencil=gr.depthStencil)):kr=1,Fr)if(Array.isArray(Fr))for(gr=[],dr=0;dr<Fr.length;++dr)gr[dr]=Fr[dr];else gr=[Fr];else for(gr=Array(Kr),Fr={radius:kr,format:dr,type:gn},dr=0;dr<Kr;++dr)gr[dr]=wr.createCube(Fr);for(Gr.color=Array(gr.length),dr=0;dr<gr.length;++dr)Kr=gr[dr],kr=kr||Kr.width,Gr.color[dr]={target:34069,data:gr[dr]};for(dr=0;6>dr;++dr){for(Kr=0;Kr<gr.length;++Kr)Gr.color[Kr].target=34069+dr;0<dr&&(Gr.depth=pr[0].depth,Gr.stencil=pr[0].stencil,Gr.depthStencil=pr[0].depthStencil),pr[dr]?pr[dr](Gr):pr[dr]=je(Gr)}return te(cr,{width:kr,height:kr,color:gr})}var pr=Array(6);return cr(Ot),te(cr,{faces:pr,resize:function(gr){var dr=gr|0;if(dr===cr.width)return cr;var Gr=cr.color;for(gr=0;gr<Gr.length;++gr)Gr[gr].resize(dr);for(gr=0;6>gr;++gr)pr[gr].resize(dr);return cr.width=cr.height=dr,cr},_reglType:"framebufferCube",destroy:function(){pr.forEach(function(gr){gr.destroy()})}})},clear:function(){Te(nr).forEach(Cr)},restore:function(){kt.cur=null,kt.next=null,kt.dirty=!0,Te(nr).forEach(function(Ot){Ot.framebuffer=mt.createFramebuffer(),Ze(Ot)})}})}function H(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function _(mt,Kt,jt,wr,vr,ct,ut){function bt(Ze){if(Ze!==Cr.currentVAO){var je=Kt.oes_vertex_array_object;Ze?je.bindVertexArrayOES(Ze.vao):je.bindVertexArrayOES(null),Cr.currentVAO=Ze}}function At(Ze){if(Ze!==Cr.currentVAO){if(Ze)Ze.bindAttrs();else{for(var je=Kt.angle_instanced_arrays,kt=0;kt<qt.length;++kt){var _t=qt[kt];_t.buffer?(mt.enableVertexAttribArray(kt),_t.buffer.bind(),mt.vertexAttribPointer(kt,_t.size,_t.type,_t.normalized,_t.stride,_t.offfset),je&&_t.divisor&&je.vertexAttribDivisorANGLE(kt,_t.divisor)):(mt.disableVertexAttribArray(kt),mt.vertexAttrib4f(kt,_t.x,_t.y,_t.z,_t.w))}ut.elements?mt.bindBuffer(34963,ut.elements.buffer.buffer):mt.bindBuffer(34963,null)}Cr.currentVAO=Ze}}function Ct(){Te(sr).forEach(function(Ze){Ze.destroy()})}function St(){this.id=++$t,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ze=Kt.oes_vertex_array_object;this.vao=Ze?Ze.createVertexArrayOES():null,sr[this.id]=this,this.buffers=[]}function zt(){Kt.oes_vertex_array_object&&Te(sr).forEach(function(Ze){Ze.refresh()})}var Vt=jt.maxAttributes,qt=Array(Vt);for(jt=0;jt<Vt;++jt)qt[jt]=new H;var $t=0,sr={},Cr={Record:H,scope:{},state:qt,currentVAO:null,targetVAO:null,restore:Kt.oes_vertex_array_object?zt:function(){},createVAO:function(Ze){function je(_t){var Zt;Array.isArray(_t)?(Zt=_t,kt.elements&&kt.ownsElements&&kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1,kt.offset=0,kt.count=0,kt.instances=-1,kt.primitive=4):(_t.elements?(Zt=_t.elements,kt.ownsElements?(typeof Zt=="function"&&Zt._reglType==="elements"?kt.elements.destroy():kt.elements(Zt),kt.ownsElements=!1):ct.getElements(_t.elements)?(kt.elements=_t.elements,kt.ownsElements=!1):(kt.elements=ct.create(_t.elements),kt.ownsElements=!0)):(kt.elements=null,kt.ownsElements=!1),Zt=_t.attributes,kt.offset=0,kt.count=-1,kt.instances=-1,kt.primitive=4,kt.elements&&(kt.count=kt.elements._elements.vertCount,kt.primitive=kt.elements._elements.primType),"offset"in _t&&(kt.offset=_t.offset|0),"count"in _t&&(kt.count=_t.count|0),"instances"in _t&&(kt.instances=_t.instances|0),"primitive"in _t&&(kt.primitive=qe[_t.primitive])),_t={};var ar=kt.attributes;ar.length=Zt.length;for(var ur=0;ur<Zt.length;++ur){var nr=Zt[ur],Ot=ar[ur]=new H,cr=nr.data||nr;if(Array.isArray(cr)||Se(cr)||s(cr)){var pr;kt.buffers[ur]&&(pr=kt.buffers[ur],Se(cr)&&pr._buffer.byteLength>=cr.byteLength?pr.subdata(cr):(pr.destroy(),kt.buffers[ur]=null)),kt.buffers[ur]||(pr=kt.buffers[ur]=vr.create(nr,34962,!1,!0)),Ot.buffer=vr.getBuffer(pr),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1,_t[ur]=1}else vr.getBuffer(nr)?(Ot.buffer=vr.getBuffer(nr),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1):vr.getBuffer(nr.buffer)?(Ot.buffer=vr.getBuffer(nr.buffer),Ot.size=(+nr.size||Ot.buffer.dimension)|0,Ot.normalized=!!nr.normalized||!1,Ot.type="type"in nr?He[nr.type]:Ot.buffer.dtype,Ot.offset=(nr.offset||0)|0,Ot.stride=(nr.stride||0)|0,Ot.divisor=(nr.divisor||0)|0,Ot.state=1):"x"in nr&&(Ot.x=+nr.x||0,Ot.y=+nr.y||0,Ot.z=+nr.z||0,Ot.w=+nr.w||0,Ot.state=2)}for(pr=0;pr<kt.buffers.length;++pr)!_t[pr]&&kt.buffers[pr]&&(kt.buffers[pr].destroy(),kt.buffers[pr]=null);return kt.refresh(),je}var kt=new St;return wr.vaoCount+=1,je.destroy=function(){for(var _t=0;_t<kt.buffers.length;++_t)kt.buffers[_t]&&kt.buffers[_t].destroy();kt.buffers.length=0,kt.ownsElements&&(kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1),kt.destroy()},je._vao=kt,je._reglType="vao",je(Ze)},getVAO:function(Ze){return typeof Ze=="function"&&Ze._vao?Ze._vao:null},destroyBuffer:function(Ze){for(var je=0;je<qt.length;++je){var kt=qt[je];kt.buffer===Ze&&(mt.disableVertexAttribArray(je),kt.buffer=null)}},setVAO:Kt.oes_vertex_array_object?bt:At,clear:Kt.oes_vertex_array_object?Ct:function(){}};return St.prototype.bindAttrs=function(){for(var Ze=Kt.angle_instanced_arrays,je=this.attributes,kt=0;kt<je.length;++kt){var _t=je[kt];_t.buffer?(mt.enableVertexAttribArray(kt),mt.bindBuffer(34962,_t.buffer.buffer),mt.vertexAttribPointer(kt,_t.size,_t.type,_t.normalized,_t.stride,_t.offset),Ze&&_t.divisor&&Ze.vertexAttribDivisorANGLE(kt,_t.divisor)):(mt.disableVertexAttribArray(kt),mt.vertexAttrib4f(kt,_t.x,_t.y,_t.z,_t.w))}for(Ze=je.length;Ze<Vt;++Ze)mt.disableVertexAttribArray(Ze);(Ze=ct.getElements(this.elements))?mt.bindBuffer(34963,Ze.buffer.buffer):mt.bindBuffer(34963,null)},St.prototype.refresh=function(){var Ze=Kt.oes_vertex_array_object;Ze&&(Ze.bindVertexArrayOES(this.vao),this.bindAttrs(),Cr.currentVAO=null,Ze.bindVertexArrayOES(null))},St.prototype.destroy=function(){if(this.vao){var Ze=Kt.oes_vertex_array_object;this===Cr.currentVAO&&(Cr.currentVAO=null,Ze.bindVertexArrayOES(null)),Ze.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),sr[this.id]&&(delete sr[this.id],--wr.vaoCount)},Cr}function B(mt,Kt,jt,wr){function vr($t,sr,Cr,Ze){this.name=$t,this.id=sr,this.location=Cr,this.info=Ze}function ct($t,sr){for(var Cr=0;Cr<$t.length;++Cr)if($t[Cr].id===sr.id){$t[Cr].location=sr.location;return}$t.push(sr)}function ut($t,sr,Cr){Cr=$t===35632?Ct:St;var Ze=Cr[sr];if(!Ze){var je=Kt.str(sr),Ze=mt.createShader($t);mt.shaderSource(Ze,je),mt.compileShader(Ze),Cr[sr]=Ze}return Ze}function bt($t,sr){this.id=qt++,this.fragId=$t,this.vertId=sr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,wr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function At($t,sr,Cr){var Ze;Ze=ut(35632,$t.fragId);var je=ut(35633,$t.vertId);if(sr=$t.program=mt.createProgram(),mt.attachShader(sr,Ze),mt.attachShader(sr,je),Cr)for(Ze=0;Ze<Cr.length;++Ze)je=Cr[Ze],mt.bindAttribLocation(sr,je[0],je[1]);mt.linkProgram(sr),je=mt.getProgramParameter(sr,35718),wr.profile&&($t.stats.uniformsCount=je);var kt=$t.uniforms;for(Ze=0;Ze<je;++Ze)if(Cr=mt.getActiveUniform(sr,Ze))if(1<Cr.size)for(var _t=0;_t<Cr.size;++_t){var Zt=Cr.name.replace("[0]","["+_t+"]");ct(kt,new vr(Zt,Kt.id(Zt),mt.getUniformLocation(sr,Zt),Cr))}else ct(kt,new vr(Cr.name,Kt.id(Cr.name),mt.getUniformLocation(sr,Cr.name),Cr));for(je=mt.getProgramParameter(sr,35721),wr.profile&&($t.stats.attributesCount=je),$t=$t.attributes,Ze=0;Ze<je;++Ze)(Cr=mt.getActiveAttrib(sr,Ze))&&ct($t,new vr(Cr.name,Kt.id(Cr.name),mt.getAttribLocation(sr,Cr.name),Cr))}var Ct={},St={},zt={},Vt=[],qt=0;return wr.profile&&(jt.getMaxUniformsCount=function(){var $t=0;return Vt.forEach(function(sr){sr.stats.uniformsCount>$t&&($t=sr.stats.uniformsCount)}),$t},jt.getMaxAttributesCount=function(){var $t=0;return Vt.forEach(function(sr){sr.stats.attributesCount>$t&&($t=sr.stats.attributesCount)}),$t}),{clear:function(){var $t=mt.deleteShader.bind(mt);Te(Ct).forEach($t),Ct={},Te(St).forEach($t),St={},Vt.forEach(function(sr){mt.deleteProgram(sr.program)}),Vt.length=0,zt={},jt.shaderCount=0},program:function($t,sr,Cr,Ze){var je=zt[sr];je||(je=zt[sr]={});var kt=je[$t];if(kt&&(kt.refCount++,!Ze))return kt;var _t=new bt(sr,$t);return jt.shaderCount++,At(_t,Cr,Ze),kt||(je[$t]=_t),Vt.push(_t),te(_t,{destroy:function(){if(_t.refCount--,0>=_t.refCount){mt.deleteProgram(_t.program);var Zt=Vt.indexOf(_t);Vt.splice(Zt,1),jt.shaderCount--}0>=je[_t.vertId].refCount&&(mt.deleteShader(St[_t.vertId]),delete St[_t.vertId],delete zt[_t.fragId][_t.vertId]),Object.keys(zt[_t.fragId]).length||(mt.deleteShader(Ct[_t.fragId]),delete Ct[_t.fragId],delete zt[_t.fragId])}})},restore:function(){Ct={},St={};for(var $t=0;$t<Vt.length;++$t)At(Vt[$t],null,Vt[$t].attributes.map(function(sr){return[sr.location,sr.name]}))},shader:ut,frag:-1,vert:-1}}function N(mt,Kt,jt,wr,vr,ct,ut){function bt(Ct){var St;St=Kt.next===null?5121:Kt.next.colorAttachments[0].texture._texture.type;var zt=0,Vt=0,qt=wr.framebufferWidth,$t=wr.framebufferHeight,sr=null;return Se(Ct)?sr=Ct:Ct&&(zt=Ct.x|0,Vt=Ct.y|0,qt=(Ct.width||wr.framebufferWidth-zt)|0,$t=(Ct.height||wr.framebufferHeight-Vt)|0,sr=Ct.data||null),jt(),Ct=qt*$t*4,sr||(St===5121?sr=new Uint8Array(Ct):St===5126&&(sr=sr||new Float32Array(Ct))),mt.pixelStorei(3333,4),mt.readPixels(zt,Vt,qt,$t,6408,St,sr),sr}function At(Ct){var St;return Kt.setFBO({framebuffer:Ct.framebuffer},function(){St=bt(Ct)}),St}return function(Ct){return Ct&&"framebuffer"in Ct?At(Ct):bt(Ct)}}function O(mt){for(var Kt=Array(mt.length>>2),wr=0;wr<Kt.length;wr++)Kt[wr]=0;for(wr=0;wr<8*mt.length;wr+=8)Kt[wr>>5]|=(mt.charCodeAt(wr/8)&255)<<24-wr%32;var jt=8*mt.length;mt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var wr=Array(64),vr,ct,ut,bt,At,Ct,St,zt,Vt,qt,$t;for(Kt[jt>>5]|=128<<24-jt%32,Kt[(jt+64>>9<<4)+15]=jt,zt=0;zt<Kt.length;zt+=16){for(jt=mt[0],vr=mt[1],ct=mt[2],ut=mt[3],bt=mt[4],At=mt[5],Ct=mt[6],St=mt[7],Vt=0;64>Vt;Vt++){if(16>Vt)wr[Vt]=Kt[Vt+zt];else{qt=Vt,$t=wr[Vt-2],$t=re($t,17)^re($t,19)^$t>>>10,$t=ae($t,wr[Vt-7]);var sr;sr=wr[Vt-15],sr=re(sr,7)^re(sr,18)^sr>>>3,wr[qt]=ae(ae($t,sr),wr[Vt-16])}qt=bt,qt=re(qt,6)^re(qt,11)^re(qt,25),qt=ae(ae(ae(ae(St,qt),bt&At^~bt&Ct),ot[Vt]),wr[Vt]),St=jt,St=re(St,2)^re(St,13)^re(St,22),$t=ae(St,jt&vr^jt&ct^vr&ct),St=Ct,Ct=At,At=bt,bt=ae(ut,qt),ut=ct,ct=vr,vr=jt,jt=ae(qt,$t)}mt[0]=ae(jt,mt[0]),mt[1]=ae(vr,mt[1]),mt[2]=ae(ct,mt[2]),mt[3]=ae(ut,mt[3]),mt[4]=ae(bt,mt[4]),mt[5]=ae(At,mt[5]),mt[6]=ae(Ct,mt[6]),mt[7]=ae(St,mt[7])}for(Kt="",wr=0;wr<32*mt.length;wr+=8)Kt+=String.fromCharCode(mt[wr>>5]>>>24-wr%32&255);return Kt}function U(mt){for(var Kt="",jt,wr=0;wr<mt.length;wr++)jt=mt.charCodeAt(wr),Kt+="0123456789abcdef".charAt(jt>>>4&15)+"0123456789abcdef".charAt(jt&15);return Kt}function K(mt){for(var Kt="",jt=-1,wr,vr;++jt<mt.length;)wr=mt.charCodeAt(jt),vr=jt+1<mt.length?mt.charCodeAt(jt+1):0,55296<=wr&&56319>=wr&&56320<=vr&&57343>=vr&&(wr=65536+((wr&1023)<<10)+(vr&1023),jt++),127>=wr?Kt+=String.fromCharCode(wr):2047>=wr?Kt+=String.fromCharCode(192|wr>>>6&31,128|wr&63):65535>=wr?Kt+=String.fromCharCode(224|wr>>>12&15,128|wr>>>6&63,128|wr&63):2097151>=wr&&(Kt+=String.fromCharCode(240|wr>>>18&7,128|wr>>>12&63,128|wr>>>6&63,128|wr&63));return Kt}function re(mt,Kt){return mt>>>Kt|mt<<32-Kt}function ae(mt,Kt){var jt=(mt&65535)+(Kt&65535);return(mt>>16)+(Kt>>16)+(jt>>16)<<16|jt&65535}function ue(mt){return Array.prototype.slice.call(mt)}function ve(mt){return ue(mt).join("")}function ee(mt){function Kt(){var St=[],zt=[];return te(function(){St.push.apply(St,ue(arguments))},{def:function(){var Vt="v"+vr++;return zt.push(Vt),0<arguments.length&&(St.push(Vt,"="),St.push.apply(St,ue(arguments)),St.push(";")),Vt},toString:function(){return ve([0<zt.length?"var "+zt.join(",")+";":"",ve(St)])}})}function jt(){function St(sr,Cr){Vt(sr,Cr,"=",zt.def(sr,Cr),";")}var zt=Kt(),Vt=Kt(),qt=zt.toString,$t=Vt.toString;return te(function(){zt.apply(zt,ue(arguments))},{def:zt.def,entry:zt,exit:Vt,save:St,set:function(sr,Cr,Ze){St(sr,Cr),zt(sr,Cr,"=",Ze,";")},toString:function(){return qt()+$t()}})}var wr=mt&&mt.cache,vr=0,ct=[],ut=[],bt=[],At=Kt(),Ct={};return{global:At,link:function(St,zt){var Vt=zt&&zt.stable;if(!Vt){for(var qt=0;qt<ut.length;++qt)if(ut[qt]===St&&!bt[qt])return ct[qt]}return qt="g"+vr++,ct.push(qt),ut.push(St),bt.push(Vt),qt},block:Kt,proc:function(St,zt){function Vt(){var Cr="a"+qt.length;return qt.push(Cr),Cr}var qt=[];zt=zt||0;for(var $t=0;$t<zt;++$t)Vt();var $t=jt(),sr=$t.toString;return Ct[St]=te($t,{arg:Vt,toString:function(){return ve(["function(",qt.join(),"){",sr(),"}"])}})},scope:jt,cond:function(){var St=ve(arguments),zt=jt(),Vt=jt(),qt=zt.toString,$t=Vt.toString;return te(zt,{then:function(){return zt.apply(zt,ue(arguments)),this},else:function(){return Vt.apply(Vt,ue(arguments)),this},toString:function(){var sr=$t();return sr&&(sr="else{"+sr+"}"),ve(["if(",St,"){",qt(),"}",sr])}})},compile:function(){var St=['"use strict";',At,"return {"];Object.keys(Ct).forEach(function(qt){St.push('"',qt,'":',Ct[qt].toString(),",")}),St.push("}");var zt=ve(St).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Vt;return wr&&(Vt=U(O(K(zt))),wr[Vt])?wr[Vt].apply(null,ut):(zt=Function.apply(null,ct.concat(zt)),wr&&(wr[Vt]=zt),zt.apply(null,ut))}}}function J(mt){return Array.isArray(mt)||Se(mt)||s(mt)}function Q(mt){return mt.sort(function(Kt,jt){return Kt==="viewport"?-1:jt==="viewport"?1:Kt<jt?-1:1})}function X(mt,Kt,jt,wr){this.thisDep=mt,this.contextDep=Kt,this.propDep=jt,this.append=wr}function q(mt){return mt&&!(mt.thisDep||mt.contextDep||mt.propDep)}function se(mt){return new X(!1,!1,!1,mt)}function Y(mt,Kt){var jt=mt.type;if(jt===0)return jt=mt.data.length,new X(!0,1<=jt,2<=jt,Kt);if(jt===4)return jt=mt.data,new X(jt.thisDep,jt.contextDep,jt.propDep,Kt);if(jt===5)return new X(!1,!1,!1,Kt);if(jt===6){for(var wr=jt=!1,vr=!1,ct=0;ct<mt.data.length;++ct){var ut=mt.data[ct];ut.type===1?vr=!0:ut.type===2?wr=!0:ut.type===3?jt=!0:ut.type===0?(jt=!0,ut=ut.data,1<=ut&&(wr=!0),2<=ut&&(vr=!0)):ut.type===4&&(jt=jt||ut.data.thisDep,wr=wr||ut.data.contextDep,vr=vr||ut.data.propDep)}return new X(jt,wr,vr,Kt)}return new X(jt===3,jt===2,jt===1,Kt)}function Z(mt,Kt,jt,wr,vr,ct,ut,bt,At,Ct,St,zt,Vt,qt,$t,sr){function Cr(Xt){return Xt.replace(".","_")}function Ze(Xt,Tr,on){var hn=Cr(Xt);Cn.push(Xt),Hn[hn]=yn[hn]=!!on,Ln[hn]=Tr}function je(Xt,Tr,on){var hn=Cr(Xt);Cn.push(Xt),Array.isArray(on)?(yn[hn]=on.slice(),Hn[hn]=on.slice()):yn[hn]=Hn[hn]=on,Gn[hn]=Tr}function kt(){var Xt=ee({cache:$t}),Tr=Xt.link,on=Xt.global;Xt.id=Xa++,Xt.batchId="0";var hn=Tr(oa),vn=Xt.shared={props:"a0"};Object.keys(oa).forEach(function(Lr){vn[Lr]=on.def(hn,".",Lr)});var Pn=Xt.next={},Tn=Xt.current={};Object.keys(Gn).forEach(function(Lr){Array.isArray(yn[Lr])&&(Pn[Lr]=on.def(vn.next,".",Lr),Tn[Lr]=on.def(vn.current,".",Lr))});var fn=Xt.constants={};Object.keys(Da).forEach(function(Lr){fn[Lr]=on.def(JSON.stringify(Da[Lr]))}),Xt.invoke=function(Lr,Or){switch(Or.type){case 0:var pn=["this",vn.context,vn.props,Xt.batchId];return Lr.def(Tr(Or.data),".call(",pn.slice(0,Math.max(Or.data.length+1,4)),")");case 1:return Lr.def(vn.props,Or.data);case 2:return Lr.def(vn.context,Or.data);case 3:return Lr.def("this",Or.data);case 4:return Or.data.append(Xt,Lr),Or.data.ref;case 5:return Or.data.toString();case 6:return Or.data.map(function(_n){return Xt.invoke(Lr,_n)})}},Xt.attribCache={};var Dr={};return Xt.scopeAttrib=function(Lr){if(Lr=Kt.id(Lr),Lr in Dr)return Dr[Lr];var Or=Ct.scope[Lr];return Or||(Or=Ct.scope[Lr]=new na),Dr[Lr]=Tr(Or)},Xt}function _t(Xt){var Tr=Xt.static;Xt=Xt.dynamic;var on;if("profile"in Tr){var hn=!!Tr.profile;on=se(function(Pn,Tn){return hn}),on.enable=hn}else if("profile"in Xt){var vn=Xt.profile;on=Y(vn,function(Pn,Tn){return Pn.invoke(Tn,vn)})}return on}function Zt(Xt,Tr){var on=Xt.static,hn=Xt.dynamic;if("framebuffer"in on){var vn=on.framebuffer;return vn?(vn=bt.getFramebuffer(vn),se(function(Tn,fn){var Dr=Tn.link(vn),Lr=Tn.shared;return fn.set(Lr.framebuffer,".next",Dr),Lr=Lr.context,fn.set(Lr,".framebufferWidth",Dr+".width"),fn.set(Lr,".framebufferHeight",Dr+".height"),Dr})):se(function(Tn,fn){var Dr=Tn.shared;return fn.set(Dr.framebuffer,".next","null"),Dr=Dr.context,fn.set(Dr,".framebufferWidth",Dr+".drawingBufferWidth"),fn.set(Dr,".framebufferHeight",Dr+".drawingBufferHeight"),"null"})}if("framebuffer"in hn){var Pn=hn.framebuffer;return Y(Pn,function(Tn,fn){var Or=Tn.invoke(fn,Pn),Dr=Tn.shared,Lr=Dr.framebuffer,Or=fn.def(Lr,".getFramebuffer(",Or,")");return fn.set(Lr,".next",Or),Dr=Dr.context,fn.set(Dr,".framebufferWidth",Or+"?"+Or+".width:"+Dr+".drawingBufferWidth"),fn.set(Dr,".framebufferHeight",Or+"?"+Or+".height:"+Dr+".drawingBufferHeight"),Or})}return null}function ar(Xt,Tr,on){function hn(fn){if(fn in vn){var Dr=vn[fn];fn=!0;var Lr=Dr.x|0,Or=Dr.y|0,pn,_n;return"width"in Dr?pn=Dr.width|0:fn=!1,"height"in Dr?_n=Dr.height|0:fn=!1,new X(!fn&&Tr&&Tr.thisDep,!fn&&Tr&&Tr.contextDep,!fn&&Tr&&Tr.propDep,function(mn,On){var ea=mn.shared.context,ca=pn;"width"in Dr||(ca=On.def(ea,".","framebufferWidth","-",Lr));var sa=_n;return"height"in Dr||(sa=On.def(ea,".","framebufferHeight","-",Or)),[Lr,Or,ca,sa]})}if(fn in Pn){var Yn=Pn[fn];return fn=Y(Yn,function(mn,On){var ya=mn.invoke(On,Yn),ea=mn.shared.context,ca=On.def(ya,".x|0"),sa=On.def(ya,".y|0"),la=On.def('"width" in ',ya,"?",ya,".width|0:","(",ea,".","framebufferWidth","-",ca,")"),ya=On.def('"height" in ',ya,"?",ya,".height|0:","(",ea,".","framebufferHeight","-",sa,")");return[ca,sa,la,ya]}),Tr&&(fn.thisDep=fn.thisDep||Tr.thisDep,fn.contextDep=fn.contextDep||Tr.contextDep,fn.propDep=fn.propDep||Tr.propDep),fn}return Tr?new X(Tr.thisDep,Tr.contextDep,Tr.propDep,function(mn,On){var ea=mn.shared.context;return[0,0,On.def(ea,".","framebufferWidth"),On.def(ea,".","framebufferHeight")]}):null}var vn=Xt.static,Pn=Xt.dynamic;if(Xt=hn("viewport")){var Tn=Xt;Xt=new X(Xt.thisDep,Xt.contextDep,Xt.propDep,function(fn,Dr){var Lr=Tn.append(fn,Dr),Or=fn.shared.context;return Dr.set(Or,".viewportWidth",Lr[2]),Dr.set(Or,".viewportHeight",Lr[3]),Lr})}return{viewport:Xt,scissor_box:hn("scissor.box")}}function ur(Xt,Tr){var on=Xt.static;if(typeof on.frag=="string"&&typeof on.vert=="string"){if(0<Object.keys(Tr.dynamic).length)return null;var on=Tr.static,hn=Object.keys(on);if(0<hn.length&&typeof on[hn[0]]=="number"){for(var vn=[],Pn=0;Pn<hn.length;++Pn)vn.push([on[hn[Pn]]|0,hn[Pn]]);return vn}}return null}function nr(Xt,Tr,on){function hn(Lr){if(Lr in vn){var Or=Kt.id(vn[Lr]);return Lr=se(function(){return Or}),Lr.id=Or,Lr}if(Lr in Pn){var pn=Pn[Lr];return Y(pn,function(_n,Yn){var mn=_n.invoke(Yn,pn);return Yn.def(_n.shared.strings,".id(",mn,")")})}return null}var vn=Xt.static,Pn=Xt.dynamic,Tn=hn("frag"),fn=hn("vert"),Dr=null;return q(Tn)&&q(fn)?(Dr=St.program(fn.id,Tn.id,null,on),Xt=se(function(Lr,Or){return Lr.link(Dr)})):Xt=new X(Tn&&Tn.thisDep||fn&&fn.thisDep,Tn&&Tn.contextDep||fn&&fn.contextDep,Tn&&Tn.propDep||fn&&fn.propDep,function(Lr,Or){var pn=Lr.shared.shader,_n;_n=Tn?Tn.append(Lr,Or):Or.def(pn,".","frag");var Yn;return Yn=fn?fn.append(Lr,Or):Or.def(pn,".","vert"),Or.def(pn+".program("+Yn+","+_n+")")}),{frag:Tn,vert:fn,progVar:Xt,program:Dr}}function Ot(Xt,Tr){function on(mn,On){if(mn in hn){var ea=hn[mn]|0;return On?Pn.offset=ea:Pn.instances=ea,se(function(sa,la){return On&&(sa.OFFSET=ea),ea})}if(mn in vn){var ca=vn[mn];return Y(ca,function(sa,la){var ya=sa.invoke(la,ca);return On&&(sa.OFFSET=ya),ya})}if(On){if(Dr)return se(function(sa,la){return sa.OFFSET=0});if(Tn)return new X(fn.thisDep,fn.contextDep,fn.propDep,function(sa,la){return la.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.offset:0")})}else if(Tn)return new X(fn.thisDep,fn.contextDep,fn.propDep,function(sa,la){return la.def(sa.shared.vao+".currentVAO?"+sa.shared.vao+".currentVAO.instances:-1")});return null}var hn=Xt.static,vn=Xt.dynamic,Pn={},Tn=!1,fn=function(){if("vao"in hn){var mn=hn.vao;return mn!==null&&Ct.getVAO(mn)===null&&(mn=Ct.createVAO(mn)),Tn=!0,Pn.vao=mn,se(function(ea){var ca=Ct.getVAO(mn);return ca?ea.link(ca):"null"})}if("vao"in vn){Tn=!0;var On=vn.vao;return Y(On,function(ea,ca){var sa=ea.invoke(ca,On);return ca.def(ea.shared.vao+".getVAO("+sa+")")})}return null}(),Dr=!1,Lr=function(){if("elements"in hn){var mn=hn.elements;if(Pn.elements=mn,J(mn)){var On=Pn.elements=ct.create(mn,!0),mn=ct.getElements(On);Dr=!0}else mn&&(mn=ct.getElements(mn),Dr=!0);return On=se(function(ca,sa){if(mn){var la=ca.link(mn);return ca.ELEMENTS=la}return ca.ELEMENTS=null}),On.value=mn,On}if("elements"in vn){Dr=!0;var ea=vn.elements;return Y(ea,function(ca,sa){var la=ca.shared,Qi=la.isBufferArgs,la=la.elements,vo=ca.invoke(sa,ea),ya=sa.def("null"),Qi=sa.def(Qi,"(",vo,")"),vo=ca.cond(Qi).then(ya,"=",la,".createStream(",vo,");").else(ya,"=",la,".getElements(",vo,");");return sa.entry(vo),sa.exit(ca.cond(Qi).then(la,".destroyStream(",ya,");")),ca.ELEMENTS=ya})}return Tn?new X(fn.thisDep,fn.contextDep,fn.propDep,function(ca,sa){return sa.def(ca.shared.vao+".currentVAO?"+ca.shared.elements+".getElements("+ca.shared.vao+".currentVAO.elements):null")}):null}(),Or=on("offset",!0),pn=function(){if("primitive"in hn){var mn=hn.primitive;return Pn.primitive=mn,se(function(ea,ca){return qe[mn]})}if("primitive"in vn){var On=vn.primitive;return Y(On,function(ea,ca){var sa=ea.constants.primTypes,la=ea.invoke(ca,On);return ca.def(sa,"[",la,"]")})}return Dr?q(Lr)?Lr.value?se(function(ea,ca){return ca.def(ea.ELEMENTS,".primType")}):se(function(){return 4}):new X(Lr.thisDep,Lr.contextDep,Lr.propDep,function(ea,ca){var sa=ea.ELEMENTS;return ca.def(sa,"?",sa,".primType:",4)}):Tn?new X(fn.thisDep,fn.contextDep,fn.propDep,function(ea,ca){return ca.def(ea.shared.vao+".currentVAO?"+ea.shared.vao+".currentVAO.primitive:4")}):null}(),_n=function(){if("count"in hn){var mn=hn.count|0;return Pn.count=mn,se(function(){return mn})}if("count"in vn){var On=vn.count;return Y(On,function(ea,ca){return ea.invoke(ca,On)})}return Dr?q(Lr)?Lr?Or?new X(Or.thisDep,Or.contextDep,Or.propDep,function(ea,ca){return ca.def(ea.ELEMENTS,".vertCount-",ea.OFFSET)}):se(function(ea,ca){return ca.def(ea.ELEMENTS,".vertCount")}):se(function(){return-1}):new X(Lr.thisDep||Or.thisDep,Lr.contextDep||Or.contextDep,Lr.propDep||Or.propDep,function(ea,ca){var sa=ea.ELEMENTS;return ea.OFFSET?ca.def(sa,"?",sa,".vertCount-",ea.OFFSET,":-1"):ca.def(sa,"?",sa,".vertCount:-1")}):Tn?new X(fn.thisDep,fn.contextDep,fn.propDep,function(ea,ca){return ca.def(ea.shared.vao,".currentVAO?",ea.shared.vao,".currentVAO.count:-1")}):null}(),Yn=on("instances",!1);return{elements:Lr,primitive:pn,count:_n,instances:Yn,offset:Or,vao:fn,vaoActive:Tn,elementsActive:Dr,static:Pn}}function cr(Xt,Tr){var on=Xt.static,hn=Xt.dynamic,vn={};return Cn.forEach(function(Pn){function Tn(Dr,Lr){if(Pn in on){var Or=Dr(on[Pn]);vn[fn]=se(function(){return Or})}else if(Pn in hn){var pn=hn[Pn];vn[fn]=Y(pn,function(_n,Yn){return Lr(_n,Yn,_n.invoke(Yn,pn))})}}var fn=Cr(Pn);switch(Pn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return Tn(function(Dr){return Dr},function(Dr,Lr,Or){return Or});case"depth.func":return Tn(function(Dr){return Gt[Dr]},function(Dr,Lr,Or){return Lr.def(Dr.constants.compareFuncs,"[",Or,"]")});case"depth.range":return Tn(function(Dr){return Dr},function(Dr,Lr,Or){return Dr=Lr.def("+",Or,"[0]"),Lr=Lr.def("+",Or,"[1]"),[Dr,Lr]});case"blend.func":return Tn(function(Dr){return[Ht["srcRGB"in Dr?Dr.srcRGB:Dr.src],Ht["dstRGB"in Dr?Dr.dstRGB:Dr.dst],Ht["srcAlpha"in Dr?Dr.srcAlpha:Dr.src],Ht["dstAlpha"in Dr?Dr.dstAlpha:Dr.dst]]},function(Dr,Lr,Or){function pn(On,ea){return Lr.def('"',On,ea,'" in ',Or,"?",Or,".",On,ea,":",Or,".",On)}Dr=Dr.constants.blendFuncs;var _n=pn("src","RGB"),mn=pn("dst","RGB"),_n=Lr.def(Dr,"[",_n,"]"),Yn=Lr.def(Dr,"[",pn("src","Alpha"),"]"),mn=Lr.def(Dr,"[",mn,"]");return Dr=Lr.def(Dr,"[",pn("dst","Alpha"),"]"),[_n,mn,Yn,Dr]});case"blend.equation":return Tn(function(Dr){if(typeof Dr=="string")return[ra[Dr],ra[Dr]];if(typeof Dr=="object")return[ra[Dr.rgb],ra[Dr.alpha]]},function(Dr,Lr,Or){var pn=Dr.constants.blendEquations,_n=Lr.def(),Yn=Lr.def();return Dr=Dr.cond("typeof ",Or,'==="string"'),Dr.then(_n,"=",Yn,"=",pn,"[",Or,"];"),Dr.else(_n,"=",pn,"[",Or,".rgb];",Yn,"=",pn,"[",Or,".alpha];"),Lr(Dr),[_n,Yn]});case"blend.color":return Tn(function(Dr){return u(4,function(Lr){return+Dr[Lr]})},function(Dr,Lr,Or){return u(4,function(pn){return Lr.def("+",Or,"[",pn,"]")})});case"stencil.mask":return Tn(function(Dr){return Dr|0},function(Dr,Lr,Or){return Lr.def(Or,"|0")});case"stencil.func":return Tn(function(Dr){return[Gt[Dr.cmp||"keep"],Dr.ref||0,"mask"in Dr?Dr.mask:-1]},function(Dr,Lr,Or){Dr=Lr.def('"cmp" in ',Or,"?",Dr.constants.compareFuncs,"[",Or,".cmp]",":",7680);var pn=Lr.def(Or,".ref|0");return Lr=Lr.def('"mask" in ',Or,"?",Or,".mask|0:-1"),[Dr,pn,Lr]});case"stencil.opFront":case"stencil.opBack":return Tn(function(Dr){return[Pn==="stencil.opBack"?1029:1028,Pt[Dr.fail||"keep"],Pt[Dr.zfail||"keep"],Pt[Dr.zpass||"keep"]]},function(Dr,Lr,Or){function pn(Yn){return Lr.def('"',Yn,'" in ',Or,"?",_n,"[",Or,".",Yn,"]:",7680)}var _n=Dr.constants.stencilOps;return[Pn==="stencil.opBack"?1029:1028,pn("fail"),pn("zfail"),pn("zpass")]});case"polygonOffset.offset":return Tn(function(Dr){return[Dr.factor|0,Dr.units|0]},function(Dr,Lr,Or){return Dr=Lr.def(Or,".factor|0"),Lr=Lr.def(Or,".units|0"),[Dr,Lr]});case"cull.face":return Tn(function(Dr){var Lr=0;return Dr==="front"?Lr=1028:Dr==="back"&&(Lr=1029),Lr},function(Dr,Lr,Or){return Lr.def(Or,'==="front"?',1028,":",1029)});case"lineWidth":return Tn(function(Dr){return Dr},function(Dr,Lr,Or){return Or});case"frontFace":return Tn(function(Dr){return Jt[Dr]},function(Dr,Lr,Or){return Lr.def(Or+'==="cw"?2304:2305')});case"colorMask":return Tn(function(Dr){return Dr.map(function(Lr){return!!Lr})},function(Dr,Lr,Or){return u(4,function(pn){return"!!"+Or+"["+pn+"]"})});case"sample.coverage":return Tn(function(Dr){return["value"in Dr?Dr.value:1,!!Dr.invert]},function(Dr,Lr,Or){return Dr=Lr.def('"value" in ',Or,"?+",Or,".value:1"),Lr=Lr.def("!!",Or,".invert"),[Dr,Lr]})}}),vn}function pr(Xt,Tr){var on=Xt.static,hn=Xt.dynamic,vn={};return Object.keys(on).forEach(function(Pn){var Tn=on[Pn],fn;if(typeof Tn=="number"||typeof Tn=="boolean")fn=se(function(){return Tn});else if(typeof Tn=="function"){var Dr=Tn._reglType;Dr==="texture2d"||Dr==="textureCube"?fn=se(function(Lr){return Lr.link(Tn)}):(Dr==="framebuffer"||Dr==="framebufferCube")&&(fn=se(function(Lr){return Lr.link(Tn.color[0])}))}else M(Tn)&&(fn=se(function(Lr){return Lr.global.def("[",u(Tn.length,function(Or){return Tn[Or]}),"]")}));fn.value=Tn,vn[Pn]=fn}),Object.keys(hn).forEach(function(Pn){var Tn=hn[Pn];vn[Pn]=Y(Tn,function(fn,Dr){return fn.invoke(Dr,Tn)})}),vn}function gr(Xt,Tr){var on=Xt.static,hn=Xt.dynamic,vn={};return Object.keys(on).forEach(function(Pn){var Tn=on[Pn],fn=Kt.id(Pn),Dr=new na;if(J(Tn))Dr.state=1,Dr.buffer=vr.getBuffer(vr.create(Tn,34962,!1,!0)),Dr.type=0;else{var Lr=vr.getBuffer(Tn);if(Lr)Dr.state=1,Dr.buffer=Lr,Dr.type=0;else if("constant"in Tn){var Or=Tn.constant;Dr.buffer="null",Dr.state=2,typeof Or=="number"?Dr.x=Or:Tt.forEach(function(ea,ca){ca<Or.length&&(Dr[ea]=Or[ca])})}else{var Lr=J(Tn.buffer)?vr.getBuffer(vr.create(Tn.buffer,34962,!1,!0)):vr.getBuffer(Tn.buffer),pn=Tn.offset|0,_n=Tn.stride|0,Yn=Tn.size|0,mn=!!Tn.normalized,On=0;"type"in Tn&&(On=He[Tn.type]),Tn=Tn.divisor|0,Dr.buffer=Lr,Dr.state=1,Dr.size=Yn,Dr.normalized=mn,Dr.type=On||Lr.dtype,Dr.offset=pn,Dr.stride=_n,Dr.divisor=Tn}}vn[Pn]=se(function(ea,ca){var sa=ea.attribCache;if(fn in sa)return sa[fn];var la={isStream:!1};return Object.keys(Dr).forEach(function(ya){la[ya]=Dr[ya]}),Dr.buffer&&(la.buffer=ea.link(Dr.buffer),la.type=la.type||la.buffer+".dtype"),sa[fn]=la})}),Object.keys(hn).forEach(function(Pn){var Tn=hn[Pn];vn[Pn]=Y(Tn,function(fn,Dr){function Lr(sa){Dr(mn[sa],"=",Or,".",sa,"|0;")}var Or=fn.invoke(Dr,Tn),Yn=fn.shared,pn=fn.constants,_n=Yn.isBufferArgs,Yn=Yn.buffer,mn={isStream:Dr.def(!1)},On=new na;On.state=1,Object.keys(On).forEach(function(sa){mn[sa]=Dr.def(""+On[sa])});var ea=mn.buffer,ca=mn.type;return Dr("if(",_n,"(",Or,")){",mn.isStream,"=true;",ea,"=",Yn,".createStream(",34962,",",Or,");",ca,"=",ea,".dtype;","}else{",ea,"=",Yn,".getBuffer(",Or,");","if(",ea,"){",ca,"=",ea,".dtype;",'}else if("constant" in ',Or,"){",mn.state,"=",2,";","if(typeof "+Or+'.constant === "number"){',mn[Tt[0]],"=",Or,".constant;",Tt.slice(1).map(function(sa){return mn[sa]}).join("="),"=0;","}else{",Tt.map(function(sa,la){return mn[sa]+"="+Or+".constant.length>"+la+"?"+Or+".constant["+la+"]:0;"}).join(""),"}}else{","if(",_n,"(",Or,".buffer)){",ea,"=",Yn,".createStream(",34962,",",Or,".buffer);","}else{",ea,"=",Yn,".getBuffer(",Or,".buffer);","}",ca,'="type" in ',Or,"?",pn.glTypes,"[",Or,".type]:",ea,".dtype;",mn.normalized,"=!!",Or,".normalized;"),Lr("size"),Lr("offset"),Lr("stride"),Lr("divisor"),Dr("}}"),Dr.exit("if(",mn.isStream,"){",Yn,".destroyStream(",ea,");","}"),mn})}),vn}function dr(Xt){var Tr=Xt.static,on=Xt.dynamic,hn={};return Object.keys(Tr).forEach(function(vn){var Pn=Tr[vn];hn[vn]=se(function(Tn,fn){return typeof Pn=="number"||typeof Pn=="boolean"?""+Pn:Tn.link(Pn)})}),Object.keys(on).forEach(function(vn){var Pn=on[vn];hn[vn]=Y(Pn,function(Tn,fn){return Tn.invoke(fn,Pn)})}),hn}function Gr(Xt,Tr,on,hn,vn){function Pn(On){var ea=fn[On];ea&&(Lr[On]=ea)}var Tn=ur(Xt,Tr),_n=Zt(Xt),fn=ar(Xt,_n),Dr=Ot(Xt),Lr=cr(Xt),Or=nr(Xt,vn,Tn);Pn("viewport"),Pn(Cr("scissor.box"));var pn=0<Object.keys(Lr).length,_n={framebuffer:_n,draw:Dr,shader:Or,state:Lr,dirty:pn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(_n.profile=_t(Xt),_n.uniforms=pr(on),_n.drawVAO=_n.scopeVAO=Dr.vao,!_n.drawVAO&&Or.program&&!Tn&&jt.angle_instanced_arrays&&Dr.static.elements){var Yn=!0;if(Xt=Or.program.attributes.map(function(On){return On=Tr.static[On],Yn=Yn&&!!On,On}),Yn&&0<Xt.length){var mn=Ct.getVAO(Ct.createVAO({attributes:Xt,elements:Dr.static.elements}));_n.drawVAO=new X(null,null,null,function(On,ea){return On.link(mn)}),_n.useVAO=!0}}return Tn?_n.useVAO=!0:_n.attributes=gr(Tr),_n.context=dr(hn),_n}function kr(Xt,Tr,on){var hn=Xt.shared.context,vn=Xt.scope();Object.keys(on).forEach(function(Pn){Tr.save(hn,"."+Pn);var Tn=on[Pn].append(Xt,Tr);Array.isArray(Tn)?vn(hn,".",Pn,"=[",Tn.join(),"];"):vn(hn,".",Pn,"=",Tn,";")}),Tr(vn)}function Fr(Xt,Tr,on,hn){var fn=Xt.shared,vn=fn.gl,Pn=fn.framebuffer,Tn;sn&&(Tn=Tr.def(fn.extensions,".webgl_draw_buffers"));var Dr=Xt.constants,fn=Dr.drawBuffer,Dr=Dr.backBuffer;Xt=on?on.append(Xt,Tr):Tr.def(Pn,".next"),hn||Tr("if(",Xt,"!==",Pn,".cur){"),Tr("if(",Xt,"){",vn,".bindFramebuffer(",36160,",",Xt,".framebuffer);"),sn&&Tr(Tn,".drawBuffersWEBGL(",fn,"[",Xt,".colorAttachments.length]);"),Tr("}else{",vn,".bindFramebuffer(",36160,",null);"),sn&&Tr(Tn,".drawBuffersWEBGL(",Dr,");"),Tr("}",Pn,".cur=",Xt,";"),hn||Tr("}")}function gn(Xt,Tr,on){var hn=Xt.shared,vn=hn.gl,Pn=Xt.current,Tn=Xt.next,fn=hn.current,Dr=hn.next,Lr=Xt.cond(fn,".dirty");Cn.forEach(function(Or){if(Or=Cr(Or),!(Or in on.state)){var pn,_n;if(Or in Tn){pn=Tn[Or],_n=Pn[Or];var Yn=u(yn[Or].length,function(mn){return Lr.def(pn,"[",mn,"]")});Lr(Xt.cond(Yn.map(function(mn,On){return mn+"!=="+_n+"["+On+"]"}).join("||")).then(vn,".",Gn[Or],"(",Yn,");",Yn.map(function(mn,On){return _n+"["+On+"]="+mn}).join(";"),";"))}else pn=Lr.def(Dr,".",Or),Yn=Xt.cond(pn,"!==",fn,".",Or),Lr(Yn),Or in Ln?Yn(Xt.cond(pn).then(vn,".enable(",Ln[Or],");").else(vn,".disable(",Ln[Or],");"),fn,".",Or,"=",pn,";"):Yn(vn,".",Gn[Or],"(",pn,");",fn,".",Or,"=",pn,";")}}),Object.keys(on.state).length===0&&Lr(fn,".dirty=false;"),Tr(Lr)}function Kr(Xt,Tr,on,hn){var vn=Xt.shared,Pn=Xt.current,Tn=vn.current,fn=vn.gl,Dr;Q(Object.keys(on)).forEach(function(Lr){var Or=on[Lr];if(!hn||hn(Or)){var pn=Or.append(Xt,Tr);if(Ln[Lr]){var _n=Ln[Lr];q(Or)?(Dr=Xt.link(pn,{stable:!0}),Tr(Xt.cond(Dr).then(fn,".enable(",_n,");").else(fn,".disable(",_n,");")),Tr(Tn,".",Lr,"=",Dr,";")):(Tr(Xt.cond(pn).then(fn,".enable(",_n,");").else(fn,".disable(",_n,");")),Tr(Tn,".",Lr,"=",pn,";"))}else if(M(pn)){var Yn=Pn[Lr];Tr(fn,".",Gn[Lr],"(",pn,");",pn.map(function(mn,On){return Yn+"["+On+"]="+mn}).join(";"),";")}else q(Or)?(Dr=Xt.link(pn,{stable:!0}),Tr(fn,".",Gn[Lr],"(",Dr,");",Tn,".",Lr,"=",Dr,";")):Tr(fn,".",Gn[Lr],"(",pn,");",Tn,".",Lr,"=",pn,";")}})}function kn(Xt,Tr){Sr&&(Xt.instancing=Tr.def(Xt.shared.extensions,".angle_instanced_arrays"))}function In(Xt,Tr,on,hn,vn){function Pn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Tn(On){Yn=Tr.def(),On(Yn,"=",Pn(),";"),typeof vn=="string"?On(Or,".count+=",vn,";"):On(Or,".count++;"),qt&&(hn?(mn=Tr.def(),On(mn,"=",_n,".getNumPendingQueries();")):On(_n,".beginQuery(",Or,");"))}function fn(On){On(Or,".cpuTime+=",Pn(),"-",Yn,";"),qt&&(hn?On(_n,".pushScopeStats(",mn,",",_n,".getNumPendingQueries(),",Or,");"):On(_n,".endQuery();"))}function Dr(On){var ea=Tr.def(pn,".profile");Tr(pn,".profile=",On,";"),Tr.exit(pn,".profile=",ea,";")}var Lr=Xt.shared,Or=Xt.stats,pn=Lr.current,_n=Lr.timer;on=on.profile;var Yn,mn;if(on){if(q(on)){on.enable?(Tn(Tr),fn(Tr.exit),Dr("true")):Dr("false");return}on=on.append(Xt,Tr),Dr(on)}else on=Tr.def(pn,".profile");Lr=Xt.block(),Tn(Lr),Tr("if(",on,"){",Lr,"}"),Xt=Xt.block(),fn(Xt),Tr.exit("if(",on,"){",Xt,"}")}function br(Xt,Tr,on,hn,vn){function Pn(Dr){switch(Dr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function Tn(Dr,Lr,Or){function pn(){Tr("if(!",On,".buffer){",Yn,".enableVertexAttribArray(",mn,");}");var la=Or.type,ya;ya=Or.size?Tr.def(Or.size,"||",Lr):Lr,Tr("if(",On,".type!==",la,"||",On,".size!==",ya,"||",sa.map(function(Qi){return On+"."+Qi+"!=="+Or[Qi]}).join("||"),"){",Yn,".bindBuffer(",34962,",",ea,".buffer);",Yn,".vertexAttribPointer(",[mn,ya,la,Or.normalized,Or.stride,Or.offset],");",On,".type=",la,";",On,".size=",ya,";",sa.map(function(Qi){return On+"."+Qi+"="+Or[Qi]+";"}).join(""),"}"),Sr&&(la=Or.divisor,Tr("if(",On,".divisor!==",la,"){",Xt.instancing,".vertexAttribDivisorANGLE(",[mn,la],");",On,".divisor=",la,";}"))}function _n(){Tr("if(",On,".buffer){",Yn,".disableVertexAttribArray(",mn,");",On,".buffer=null;","}if(",Tt.map(function(la,ya){return On+"."+la+"!=="+ca[ya]}).join("||"),"){",Yn,".vertexAttrib4f(",mn,",",ca,");",Tt.map(function(la,ya){return On+"."+la+"="+ca[ya]+";"}).join(""),"}")}var Yn=fn.gl,mn=Tr.def(Dr,".location"),On=Tr.def(fn.attributes,"[",mn,"]");Dr=Or.state;var ea=Or.buffer,ca=[Or.x,Or.y,Or.z,Or.w],sa=["buffer","normalized","offset","stride"];Dr===1?pn():Dr===2?_n():(Tr("if(",Dr,"===",1,"){"),pn(),Tr("}else{"),_n(),Tr("}"))}var fn=Xt.shared;hn.forEach(function(Dr){var Lr=Dr.name,Or=on.attributes[Lr],pn;if(Or){if(!vn(Or))return;pn=Or.append(Xt,Tr)}else{if(!vn(or))return;var _n=Xt.scopeAttrib(Lr);pn={},Object.keys(new na).forEach(function(Yn){pn[Yn]=Tr.def(_n,".",Yn)})}Tn(Xt.link(Dr),Pn(Dr.info.type),pn)})}function Mr(Xt,Tr,on,hn,vn,Pn){for(var Tn=Xt.shared,fn=Tn.gl,Dr,Lr=0;Lr<hn.length;++Lr){var Yn=hn[Lr],Or=Yn.name,pn=Yn.info.type,_n=on.uniforms[Or],Yn=Xt.link(Yn)+".location",mn;if(_n){if(!vn(_n))continue;if(q(_n)){if(Or=_n.value,pn===35678||pn===35680)pn=Xt.link(Or._texture||Or.color[0]._texture),Tr(fn,".uniform1i(",Yn,",",pn+".bind());"),Tr.exit(pn,".unbind();");else if(pn===35674||pn===35675||pn===35676)Or=Xt.global.def("new Float32Array(["+Array.prototype.slice.call(Or)+"])"),_n=2,pn===35675?_n=3:pn===35676&&(_n=4),Tr(fn,".uniformMatrix",_n,"fv(",Yn,",false,",Or,");");else{switch(pn){case 5126:Dr="1f";break;case 35664:Dr="2f";break;case 35665:Dr="3f";break;case 35666:Dr="4f";break;case 35670:Dr="1i";break;case 5124:Dr="1i";break;case 35671:Dr="2i";break;case 35667:Dr="2i";break;case 35672:Dr="3i";break;case 35668:Dr="3i";break;case 35673:Dr="4i";break;case 35669:Dr="4i"}Tr(fn,".uniform",Dr,"(",Yn,",",M(Or)?Array.prototype.slice.call(Or):Or,");")}continue}else mn=_n.append(Xt,Tr)}else{if(!vn(or))continue;mn=Tr.def(Tn.uniforms,"[",Kt.id(Or),"]")}switch(pn===35678?Tr("if(",mn,"&&",mn,'._reglType==="framebuffer"){',mn,"=",mn,".color[0];","}"):pn===35680&&Tr("if(",mn,"&&",mn,'._reglType==="framebufferCube"){',mn,"=",mn,".color[0];","}"),Or=1,pn){case 35678:case 35680:pn=Tr.def(mn,"._texture"),Tr(fn,".uniform1i(",Yn,",",pn,".bind());"),Tr.exit(pn,".unbind();");continue;case 5124:case 35670:Dr="1i";break;case 35667:case 35671:Dr="2i",Or=2;break;case 35668:case 35672:Dr="3i",Or=3;break;case 35669:case 35673:Dr="4i",Or=4;break;case 5126:Dr="1f";break;case 35664:Dr="2f",Or=2;break;case 35665:Dr="3f",Or=3;break;case 35666:Dr="4f",Or=4;break;case 35674:Dr="Matrix2fv";break;case 35675:Dr="Matrix3fv";break;case 35676:Dr="Matrix4fv"}if(Dr.charAt(0)==="M"){Tr(fn,".uniform",Dr,"(",Yn,",");var Yn=Math.pow(pn-35674+2,2),On=Xt.global.def("new Float32Array(",Yn,")");Array.isArray(mn)?Tr("false,(",u(Yn,function(sa){return On+"["+sa+"]="+mn[sa]}),",",On,")"):Tr("false,(Array.isArray(",mn,")||",mn," instanceof Float32Array)?",mn,":(",u(Yn,function(sa){return On+"["+sa+"]="+mn+"["+sa+"]"}),",",On,")"),Tr(");")}else{if(1<Or){for(var pn=[],ea=[],_n=0;_n<Or;++_n)Array.isArray(mn)?ea.push(mn[_n]):ea.push(Tr.def(mn+"["+_n+"]")),Pn&&pn.push(Tr.def());Pn&&Tr("if(!",Xt.batchId,"||",pn.map(function(ca,sa){return ca+"!=="+ea[sa]}).join("||"),"){",pn.map(function(ca,sa){return ca+"="+ea[sa]+";"}).join("")),Tr(fn,".uniform",Dr,"(",Yn,",",ea.join(","),");")}else Pn&&(pn=Tr.def(),Tr("if(!",Xt.batchId,"||",pn,"!==",mn,"){",pn,"=",mn,";")),Tr(fn,".uniform",Dr,"(",Yn,",",mn,");");Pn&&Tr("}")}}}function Br(Xt,Tr,on,hn){function vn(la){var ya=Or[la];return ya?ya.contextDep&&hn.contextDynamic||ya.propDep?ya.append(Xt,on):ya.append(Xt,Tr):Tr.def(Lr,".",la)}function Pn(){function la(){on(ea,".drawElementsInstancedANGLE(",[_n,mn,ca,Yn+"<<(("+ca+"-5121)>>1)",On],");")}function ya(){on(ea,".drawArraysInstancedANGLE(",[_n,Yn,mn,On],");")}pn&&pn!=="null"?sa?la():(on("if(",pn,"){"),la(),on("}else{"),ya(),on("}")):ya()}function Tn(){function la(){on(Dr+".drawElements("+[_n,mn,ca,Yn+"<<(("+ca+"-5121)>>1)"]+");")}function ya(){on(Dr+".drawArrays("+[_n,Yn,mn]+");")}pn&&pn!=="null"?sa?la():(on("if(",pn,"){"),la(),on("}else{"),ya(),on("}")):ya()}var fn=Xt.shared,Dr=fn.gl,Lr=fn.draw,Or=hn.draw,pn=function(){var la=Or.elements,ya=Tr;return la?((la.contextDep&&hn.contextDynamic||la.propDep)&&(ya=on),la=la.append(Xt,ya),Or.elementsActive&&ya("if("+la+")"+Dr+".bindBuffer(34963,"+la+".buffer.buffer);")):(la=ya.def(),ya(la,"=",Lr,".","elements",";","if(",la,"){",Dr,".bindBuffer(",34963,",",la,".buffer.buffer);}","else if(",fn.vao,".currentVAO){",la,"=",Xt.shared.elements+".getElements("+fn.vao,".currentVAO.elements);",an?"":"if("+la+")"+Dr+".bindBuffer(34963,"+la+".buffer.buffer);","}")),la}(),_n=vn("primitive"),Yn=vn("offset"),mn=function(){var la=Or.count,ya=Tr;return la?((la.contextDep&&hn.contextDynamic||la.propDep)&&(ya=on),la=la.append(Xt,ya)):la=ya.def(Lr,".","count"),la}();if(typeof mn=="number"){if(mn===0)return}else on("if(",mn,"){"),on.exit("}");var On,ea;Sr&&(On=vn("instances"),ea=Xt.instancing);var ca=pn+".type",sa=Or.elements&&q(Or.elements)&&!Or.vaoActive;Sr&&(typeof On!="number"||0<=On)?typeof On=="string"?(on("if(",On,">0){"),Pn(),on("}else if(",On,"<0){"),Tn(),on("}")):Pn():Tn()}function Nr(Xt,Tr,on,hn,vn){return Tr=kt(),vn=Tr.proc("body",vn),Sr&&(Tr.instancing=vn.def(Tr.shared.extensions,".angle_instanced_arrays")),Xt(Tr,vn,on,hn),Tr.compile().body}function en(Xt,Tr,on,hn){kn(Xt,Tr),on.useVAO?on.drawVAO?Tr(Xt.shared.vao,".setVAO(",on.drawVAO.append(Xt,Tr),");"):Tr(Xt.shared.vao,".setVAO(",Xt.shared.vao,".targetVAO);"):(Tr(Xt.shared.vao,".setVAO(null);"),br(Xt,Tr,on,hn.attributes,function(){return!0})),Mr(Xt,Tr,on,hn.uniforms,function(){return!0},!1),Br(Xt,Tr,Tr,on)}function dn(Xt,Tr){var on=Xt.proc("draw",1);kn(Xt,on),kr(Xt,on,Tr.context),Fr(Xt,on,Tr.framebuffer),gn(Xt,on,Tr),Kr(Xt,on,Tr.state),In(Xt,on,Tr,!1,!0);var hn=Tr.shader.progVar.append(Xt,on);if(on(Xt.shared.gl,".useProgram(",hn,".program);"),Tr.shader.program)en(Xt,on,Tr,Tr.shader.program);else{on(Xt.shared.vao,".setVAO(null);");var vn=Xt.global.def("{}"),Pn=on.def(hn,".id"),Tn=on.def(vn,"[",Pn,"]");on(Xt.cond(Tn).then(Tn,".call(this,a0);").else(Tn,"=",vn,"[",Pn,"]=",Xt.link(function(fn){return Nr(en,Xt,Tr,fn,1)}),"(",hn,");",Tn,".call(this,a0);"))}0<Object.keys(Tr.state).length&&on(Xt.shared.current,".dirty=true;"),Xt.shared.vao&&on(Xt.shared.vao,".setVAO(null);")}function cn(Xt,Tr,on,hn){function vn(){return!0}Xt.batchId="a1",kn(Xt,Tr),br(Xt,Tr,on,hn.attributes,vn),Mr(Xt,Tr,on,hn.uniforms,vn,!1),Br(Xt,Tr,Tr,on)}function An(Xt,Tr,on,hn){function vn(pn){return pn.contextDep&&Tn||pn.propDep}function Pn(pn){return!vn(pn)}kn(Xt,Tr);var Tn=on.contextDep,fn=Tr.def(),Dr=Tr.def();Xt.shared.props=Dr,Xt.batchId=fn;var Lr=Xt.scope(),Or=Xt.scope();Tr(Lr.entry,"for(",fn,"=0;",fn,"<","a1",";++",fn,"){",Dr,"=","a0","[",fn,"];",Or,"}",Lr.exit),on.needsContext&&kr(Xt,Or,on.context),on.needsFramebuffer&&Fr(Xt,Or,on.framebuffer),Kr(Xt,Or,on.state,vn),on.profile&&vn(on.profile)&&In(Xt,Or,on,!1,!0),hn?(on.useVAO?on.drawVAO?vn(on.drawVAO)?Or(Xt.shared.vao,".setVAO(",on.drawVAO.append(Xt,Or),");"):Lr(Xt.shared.vao,".setVAO(",on.drawVAO.append(Xt,Lr),");"):Lr(Xt.shared.vao,".setVAO(",Xt.shared.vao,".targetVAO);"):(Lr(Xt.shared.vao,".setVAO(null);"),br(Xt,Lr,on,hn.attributes,Pn),br(Xt,Or,on,hn.attributes,vn)),Mr(Xt,Lr,on,hn.uniforms,Pn,!1),Mr(Xt,Or,on,hn.uniforms,vn,!0),Br(Xt,Lr,Or,on)):(Tr=Xt.global.def("{}"),hn=on.shader.progVar.append(Xt,Or),Dr=Or.def(hn,".id"),Lr=Or.def(Tr,"[",Dr,"]"),Or(Xt.shared.gl,".useProgram(",hn,".program);","if(!",Lr,"){",Lr,"=",Tr,"[",Dr,"]=",Xt.link(function(pn){return Nr(cn,Xt,on,pn,2)}),"(",hn,");}",Lr,".call(this,a0[",fn,"],",fn,");"))}function Rn(Xt,Tr){function on(Lr){return Lr.contextDep&&vn||Lr.propDep}var hn=Xt.proc("batch",2);Xt.batchId="0",kn(Xt,hn);var vn=!1,Pn=!0;Object.keys(Tr.context).forEach(function(Lr){vn=vn||Tr.context[Lr].propDep}),vn||(kr(Xt,hn,Tr.context),Pn=!1);var Tn=Tr.framebuffer,fn=!1;if(Tn?(Tn.propDep?vn=fn=!0:Tn.contextDep&&vn&&(fn=!0),fn||Fr(Xt,hn,Tn)):Fr(Xt,hn,null),Tr.state.viewport&&Tr.state.viewport.propDep&&(vn=!0),gn(Xt,hn,Tr),Kr(Xt,hn,Tr.state,function(Lr){return!on(Lr)}),Tr.profile&&on(Tr.profile)||In(Xt,hn,Tr,!1,"a1"),Tr.contextDep=vn,Tr.needsContext=Pn,Tr.needsFramebuffer=fn,Pn=Tr.shader.progVar,Pn.contextDep&&vn||Pn.propDep)An(Xt,hn,Tr,null);else if(Pn=Pn.append(Xt,hn),hn(Xt.shared.gl,".useProgram(",Pn,".program);"),Tr.shader.program)An(Xt,hn,Tr,Tr.shader.program);else{hn(Xt.shared.vao,".setVAO(null);");var Tn=Xt.global.def("{}"),fn=hn.def(Pn,".id"),Dr=hn.def(Tn,"[",fn,"]");hn(Xt.cond(Dr).then(Dr,".call(this,a0,a1);").else(Dr,"=",Tn,"[",fn,"]=",Xt.link(function(pn){return Nr(An,Xt,Tr,pn,2)}),"(",Pn,");",Dr,".call(this,a0,a1);"))}0<Object.keys(Tr.state).length&&hn(Xt.shared.current,".dirty=true;"),Xt.shared.vao&&hn(Xt.shared.vao,".setVAO(null);")}function Jn(Xt,Tr){function on(fn){var Dr=Tr.shader[fn];Dr&&(Dr=Dr.append(Xt,hn),isNaN(Dr)?hn.set(vn.shader,"."+fn,Dr):hn.set(vn.shader,"."+fn,Xt.link(Dr,{stable:!0})))}var hn=Xt.proc("scope",3);Xt.batchId="a2";var vn=Xt.shared,Pn=vn.current;if(kr(Xt,hn,Tr.context),Tr.framebuffer&&Tr.framebuffer.append(Xt,hn),Q(Object.keys(Tr.state)).forEach(function(fn){var Dr=Tr.state[fn],Lr=Dr.append(Xt,hn);M(Lr)?Lr.forEach(function(Or,pn){isNaN(Or)?hn.set(Xt.next[fn],"["+pn+"]",Or):hn.set(Xt.next[fn],"["+pn+"]",Xt.link(Or,{stable:!0}))}):q(Dr)?hn.set(vn.next,"."+fn,Xt.link(Lr,{stable:!0})):hn.set(vn.next,"."+fn,Lr)}),In(Xt,hn,Tr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(fn){var Dr=Tr.draw[fn];Dr&&(Dr=Dr.append(Xt,hn),isNaN(Dr)?hn.set(vn.draw,"."+fn,Dr):hn.set(vn.draw,"."+fn,Xt.link(Dr),{stable:!0}))}),Object.keys(Tr.uniforms).forEach(function(fn){var Dr=Tr.uniforms[fn].append(Xt,hn);Array.isArray(Dr)&&(Dr="["+Dr.map(function(Lr){return isNaN(Lr)?Lr:Xt.link(Lr,{stable:!0})})+"]"),hn.set(vn.uniforms,"["+Xt.link(Kt.id(fn),{stable:!0})+"]",Dr)}),Object.keys(Tr.attributes).forEach(function(fn){var Dr=Tr.attributes[fn].append(Xt,hn),Lr=Xt.scopeAttrib(fn);Object.keys(new na).forEach(function(Or){hn.set(Lr,"."+Or,Dr[Or])})}),Tr.scopeVAO){var Tn=Tr.scopeVAO.append(Xt,hn);isNaN(Tn)?hn.set(vn.vao,".targetVAO",Tn):hn.set(vn.vao,".targetVAO",Xt.link(Tn,{stable:!0}))}on("vert"),on("frag"),0<Object.keys(Tr.state).length&&(hn(Pn,".dirty=true;"),hn.exit(Pn,".dirty=true;")),hn("a1(",Xt.shared.context,",a0,",Xt.batchId,");")}function ta(Xt){if(typeof Xt=="object"&&!M(Xt)){for(var Tr=Object.keys(Xt),on=0;on<Tr.length;++on)if(de.isDynamic(Xt[Tr[on]]))return!0;return!1}}function fa(Xt,Tr,on){function hn(pn,_n){Tn.forEach(function(Yn){var mn=vn[Yn];de.isDynamic(mn)&&(mn=pn.invoke(_n,mn),_n(Or,".",Yn,"=",mn,";"))})}var vn=Tr.static[on];if(vn&&ta(vn)){var Pn=Xt.global,Tn=Object.keys(vn),fn=!1,Dr=!1,Lr=!1,Or=Xt.global.def("{}");Tn.forEach(function(pn){var _n=vn[pn];if(de.isDynamic(_n))typeof _n=="function"&&(_n=vn[pn]=de.unbox(_n)),pn=Y(_n,null),fn=fn||pn.thisDep,Lr=Lr||pn.propDep,Dr=Dr||pn.contextDep;else{switch(Pn(Or,".",pn,"="),typeof _n){case"number":Pn(_n);break;case"string":Pn('"',_n,'"');break;case"object":Array.isArray(_n)&&Pn("[",_n.join(),"]");break;default:Pn(Xt.link(_n))}Pn(";")}}),Tr.dynamic[on]=new de.DynamicVariable(4,{thisDep:fn,contextDep:Dr,propDep:Lr,ref:Or,append:hn}),delete Tr.static[on]}}var na=Ct.Record,ra={add:32774,subtract:32778,"reverse subtract":32779};jt.ext_blend_minmax&&(ra.min=32775,ra.max=32776);var Sr=jt.angle_instanced_arrays,sn=jt.webgl_draw_buffers,an=jt.oes_vertex_array_object,yn={dirty:!0,profile:sr.profile},Hn={},Cn=[],Ln={},Gn={};Ze("dither",3024),Ze("blend.enable",3042),je("blend.color","blendColor",[0,0,0,0]),je("blend.equation","blendEquationSeparate",[32774,32774]),je("blend.func","blendFuncSeparate",[1,0,1,0]),Ze("depth.enable",2929,!0),je("depth.func","depthFunc",513),je("depth.range","depthRange",[0,1]),je("depth.mask","depthMask",!0),je("colorMask","colorMask",[!0,!0,!0,!0]),Ze("cull.enable",2884),je("cull.face","cullFace",1029),je("frontFace","frontFace",2305),je("lineWidth","lineWidth",1),Ze("polygonOffset.enable",32823),je("polygonOffset.offset","polygonOffset",[0,0]),Ze("sample.alpha",32926),Ze("sample.enable",32928),je("sample.coverage","sampleCoverage",[1,!1]),Ze("stencil.enable",2960),je("stencil.mask","stencilMask",-1),je("stencil.func","stencilFunc",[519,0,-1]),je("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),je("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ze("scissor.enable",3089),je("scissor.box","scissor",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]),je("viewport","viewport",[0,0,mt.drawingBufferWidth,mt.drawingBufferHeight]);var oa={gl:mt,context:Vt,strings:Kt,next:Hn,current:yn,draw:zt,elements:ct,buffer:vr,shader:St,attributes:Ct.state,vao:Ct,uniforms:At,framebuffer:bt,extensions:jt,timer:qt,isBufferArgs:J},Da={primTypes:qe,compareFuncs:Gt,blendFuncs:Ht,blendEquations:ra,stencilOps:Pt,glTypes:He,orientationType:Jt};sn&&(Da.backBuffer=[1029],Da.drawBuffer=u(wr.maxDrawbuffers,function(Xt){return Xt===0?[0]:u(Xt,function(Tr){return 36064+Tr})}));var Xa=0;return{next:Hn,current:yn,procs:function(){var Xt=kt(),Tr=Xt.proc("poll"),on=Xt.proc("refresh"),hn=Xt.block();Tr(hn),on(hn);var Dr=Xt.shared,vn=Dr.gl,Pn=Dr.next,Tn=Dr.current;hn(Tn,".dirty=false;"),Fr(Xt,Tr),Fr(Xt,on,null,!0);var fn;Sr&&(fn=Xt.link(Sr)),jt.oes_vertex_array_object&&on(Xt.link(jt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Dr=on.def(Dr.attributes),Lr=on.def(0),Or=Xt.cond(Lr,".buffer");Or.then(vn,".enableVertexAttribArray(i);",vn,".bindBuffer(",34962,",",Lr,".buffer.buffer);",vn,".vertexAttribPointer(i,",Lr,".size,",Lr,".type,",Lr,".normalized,",Lr,".stride,",Lr,".offset);").else(vn,".disableVertexAttribArray(i);",vn,".vertexAttrib4f(i,",Lr,".x,",Lr,".y,",Lr,".z,",Lr,".w);",Lr,".buffer=null;");var pn=Xt.link(wr.maxAttributes,{stable:!0});return on("for(var i=0;i<",pn,";++i){",Lr,"=",Dr,"[i];",Or,"}"),Sr&&on("for(var i=0;i<",pn,";++i){",fn,".vertexAttribDivisorANGLE(i,",Dr,"[i].divisor);","}"),on(Xt.shared.vao,".currentVAO=null;",Xt.shared.vao,".setVAO(",Xt.shared.vao,".targetVAO);"),Object.keys(Ln).forEach(function(_n){var Yn=Ln[_n],mn=hn.def(Pn,".",_n),On=Xt.block();On("if(",mn,"){",vn,".enable(",Yn,")}else{",vn,".disable(",Yn,")}",Tn,".",_n,"=",mn,";"),on(On),Tr("if(",mn,"!==",Tn,".",_n,"){",On,"}")}),Object.keys(Gn).forEach(function(_n){var Yn=Gn[_n],mn=yn[_n],On,ea,ca=Xt.block();ca(vn,".",Yn,"("),M(mn)?(Yn=mn.length,On=Xt.global.def(Pn,".",_n),ea=Xt.global.def(Tn,".",_n),ca(u(Yn,function(sa){return On+"["+sa+"]"}),");",u(Yn,function(sa){return ea+"["+sa+"]="+On+"["+sa+"];"}).join("")),Tr("if(",u(Yn,function(sa){return On+"["+sa+"]!=="+ea+"["+sa+"]"}).join("||"),"){",ca,"}")):(On=hn.def(Pn,".",_n),ea=hn.def(Tn,".",_n),ca(On,");",Tn,".",_n,"=",On,";"),Tr("if(",On,"!==",ea,"){",ca,"}")),on(ca)}),Xt.compile()}(),compile:function(Xt,Tr,on,hn,vn){var Pn=kt();Pn.stats=Pn.link(vn),Object.keys(Tr.static).forEach(function(fn){fa(Pn,Tr,fn)}),It.forEach(function(fn){fa(Pn,Xt,fn)});var Tn=Gr(Xt,Tr,on,hn,Pn);return Tn.shader.program&&(Tn.shader.program.attributes.sort(function(fn,Dr){return fn.name<Dr.name?-1:1}),Tn.shader.program.uniforms.sort(function(fn,Dr){return fn.name<Dr.name?-1:1})),dn(Pn,Tn),Jn(Pn,Tn),Rn(Pn,Tn),te(Pn.compile(),{destroy:function(){Tn.shader.program.destroy()}})}}}function ie(mt,Kt){for(var jt=0;jt<mt.length;++jt)if(mt[jt]===Kt)return jt;return-1}var te=function(mt,Kt){for(var jt=Object.keys(Kt),wr=0;wr<jt.length;++wr)mt[jt[wr]]=Kt[jt[wr]];return mt},fe=0,de={DynamicVariable:V,define:function(mt,Kt){return new V(mt,y(Kt+""))},isDynamic:function(mt){return typeof mt=="function"&&!mt._reglType||mt instanceof V},unbox:C,accessor:y},we={next:typeof requestAnimationFrame=="function"?function(mt){return requestAnimationFrame(mt)}:function(mt){return setTimeout(mt,16)},cancel:typeof cancelAnimationFrame=="function"?function(mt){return cancelAnimationFrame(mt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Re=i();Re.zero=i();var Fe=function(mt,Kt){var jt=1;Kt.ext_texture_filter_anisotropic&&(jt=mt.getParameter(34047));var wr=1,vr=1;Kt.webgl_draw_buffers&&(wr=mt.getParameter(34852),vr=mt.getParameter(36063));var ct=!!Kt.oes_texture_float;if(ct){ct=mt.createTexture(),mt.bindTexture(3553,ct),mt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=mt.createFramebuffer();if(mt.bindFramebuffer(36160,ut),mt.framebufferTexture2D(36160,36064,3553,ct,0),mt.bindTexture(3553,null),mt.checkFramebufferStatus(36160)!==36053)ct=!1;else{mt.viewport(0,0,1,1),mt.clearColor(1,0,0,1),mt.clear(16384);var bt=Re.allocType(5126,4);mt.readPixels(0,0,1,1,6408,5126,bt),mt.getError()?ct=!1:(mt.deleteFramebuffer(ut),mt.deleteTexture(ct),ct=bt[0]===1),Re.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=mt.createTexture(),ut=Re.allocType(5121,36),mt.activeTexture(33984),mt.bindTexture(34067,bt),mt.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),Re.freeType(ut),mt.bindTexture(34067,null),mt.deleteTexture(bt),bt=!mt.getError()),{colorBits:[mt.getParameter(3410),mt.getParameter(3411),mt.getParameter(3412),mt.getParameter(3413)],depthBits:mt.getParameter(3414),stencilBits:mt.getParameter(3415),subpixelBits:mt.getParameter(3408),extensions:Object.keys(Kt).filter(function(At){return!!Kt[At]}),maxAnisotropic:jt,maxDrawbuffers:wr,maxColorAttachments:vr,pointSizeDims:mt.getParameter(33901),lineWidthDims:mt.getParameter(33902),maxViewportDims:mt.getParameter(3386),maxCombinedTextureUnits:mt.getParameter(35661),maxCubeMapSize:mt.getParameter(34076),maxRenderbufferSize:mt.getParameter(34024),maxTextureUnits:mt.getParameter(34930),maxTextureSize:mt.getParameter(3379),maxAttributes:mt.getParameter(34921),maxVertexUniforms:mt.getParameter(36347),maxVertexTextureUnits:mt.getParameter(35660),maxVaryingVectors:mt.getParameter(36348),maxFragmentUniforms:mt.getParameter(36349),glsl:mt.getParameter(35724),renderer:mt.getParameter(7937),vendor:mt.getParameter(7936),version:mt.getParameter(7938),readFloat:ct,npotTextureCube:bt}},Se=function(mt){return mt instanceof Uint8Array||mt instanceof Uint16Array||mt instanceof Uint32Array||mt instanceof Int8Array||mt instanceof Int16Array||mt instanceof Int32Array||mt instanceof Float32Array||mt instanceof Float64Array||mt instanceof Uint8ClampedArray},Te=function(mt){return Object.keys(mt).map(function(Kt){return mt[Kt]})},Ee={shape:function(mt){for(var Kt=[];mt.length;mt=mt[0])Kt.push(mt.length);return Kt},flatten:function(mt,Kt,jt,wr){var vr=1;if(Kt.length)for(var ct=0;ct<Kt.length;++ct)vr*=Kt[ct];else vr=0;switch(jt=wr||Re.allocType(jt,vr),Kt.length){case 0:break;case 1:for(wr=Kt[0],Kt=0;Kt<wr;++Kt)jt[Kt]=mt[Kt];break;case 2:for(wr=Kt[0],Kt=Kt[1],ct=vr=0;ct<wr;++ct)for(var ut=mt[ct],bt=0;bt<Kt;++bt)jt[vr++]=ut[bt];break;case 3:o(mt,Kt[0],Kt[1],Kt[2],jt,0);break;default:m(mt,Kt,0,jt,0)}return jt}},Ne={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},He={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},_e={dynamic:35048,stream:35040,static:35044},We=Ee.flatten,tt=Ee.shape,Ke=[];Ke[5120]=1,Ke[5122]=2,Ke[5124]=4,Ke[5121]=1,Ke[5123]=2,Ke[5125]=4,Ke[5126]=4;var qe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},rt=new Float32Array(1),ft=new Uint32Array(rt.buffer),pt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],Mt={};Mt[6409]=Mt[6406]=Mt[6402]=1,Mt[34041]=Mt[6410]=2,Mt[6407]=Mt[35904]=3,Mt[6408]=Mt[35906]=4;var Lt=R("HTMLCanvasElement"),Wt=R("OffscreenCanvas"),Je=R("CanvasRenderingContext2D"),ze=R("ImageBitmap"),Oe=R("HTMLImageElement"),Ue=R("HTMLVideoElement"),ke=Object.keys(Ne).concat([Lt,Wt,Je,ze,Oe,Ue]),Me=[];Me[5121]=1,Me[5126]=4,Me[36193]=2,Me[5123]=2,Me[5125]=4;var ce=[];ce[32854]=2,ce[32855]=2,ce[36194]=2,ce[34041]=4,ce[33776]=.5,ce[33777]=.5,ce[33778]=1,ce[33779]=1,ce[35986]=.5,ce[35987]=1,ce[34798]=1,ce[35840]=.5,ce[35841]=.25,ce[35842]=.5,ce[35843]=.25,ce[36196]=.5;var be=[];be[32854]=2,be[32855]=2,be[36194]=2,be[33189]=2,be[36168]=1,be[34041]=4,be[35907]=4,be[34836]=16,be[34842]=8,be[34843]=6;var De=function(mt,Kt,jt,wr,vr){function ct(zt){this.id=Ct++,this.refCount=1,this.renderbuffer=zt,this.format=32854,this.height=this.width=0,vr.profile&&(this.stats={size:0})}function ut(zt){var Vt=zt.renderbuffer;mt.bindRenderbuffer(36161,null),mt.deleteRenderbuffer(Vt),zt.renderbuffer=null,zt.refCount=0,delete St[zt.id],wr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Kt.ext_srgb&&(bt.srgba=35907),Kt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Kt.webgl_color_buffer_float&&(bt.rgba32f=34836);var At=[];Object.keys(bt).forEach(function(zt){At[bt[zt]]=zt});var Ct=0,St={};return ct.prototype.decRef=function(){0>=--this.refCount&&ut(this)},vr.profile&&(wr.getTotalRenderbufferSize=function(){var zt=0;return Object.keys(St).forEach(function(Vt){zt+=St[Vt].stats.size}),zt}),{create:function(zt,Vt){function qt(sr,Cr){var Ze=0,je=0,kt=32854;if(typeof sr=="object"&&sr?("shape"in sr?(je=sr.shape,Ze=je[0]|0,je=je[1]|0):("radius"in sr&&(Ze=je=sr.radius|0),"width"in sr&&(Ze=sr.width|0),"height"in sr&&(je=sr.height|0)),"format"in sr&&(kt=bt[sr.format])):typeof sr=="number"?(Ze=sr|0,je=typeof Cr=="number"?Cr|0:Ze):sr||(Ze=je=1),Ze!==$t.width||je!==$t.height||kt!==$t.format)return qt.width=$t.width=Ze,qt.height=$t.height=je,$t.format=kt,mt.bindRenderbuffer(36161,$t.renderbuffer),mt.renderbufferStorage(36161,kt,Ze,je),vr.profile&&($t.stats.size=be[$t.format]*$t.width*$t.height),qt.format=At[$t.format],qt}var $t=new ct(mt.createRenderbuffer());return St[$t.id]=$t,wr.renderbufferCount++,qt(zt,Vt),qt.resize=function(sr,Cr){var Ze=sr|0,je=Cr|0||Ze;return Ze===$t.width&&je===$t.height||(qt.width=$t.width=Ze,qt.height=$t.height=je,mt.bindRenderbuffer(36161,$t.renderbuffer),mt.renderbufferStorage(36161,$t.format,Ze,je),vr.profile&&($t.stats.size=be[$t.format]*$t.width*$t.height)),qt},qt._reglType="renderbuffer",qt._renderbuffer=$t,vr.profile&&(qt.stats=$t.stats),qt.destroy=function(){$t.decRef()},qt},clear:function(){Te(St).forEach(ut)},restore:function(){Te(St).forEach(function(zt){zt.renderbuffer=mt.createRenderbuffer(),mt.bindRenderbuffer(36161,zt.renderbuffer),mt.renderbufferStorage(36161,zt.format,zt.width,zt.height)}),mt.bindRenderbuffer(36161,null)}}},Ve=[];Ve[6408]=4,Ve[6407]=3;var it=[];it[5121]=1,it[5126]=4,it[36193]=2;var ot=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Tt=["x","y","z","w"],It="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ht={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Gt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Pt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Jt={cw:2304,ccw:2305},or=new X(!1,!1,!1,function(){}),zr=function(mt,Kt){function jt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function wr(St,zt,Vt){var qt=ut.pop()||new jt;qt.startQueryIndex=St,qt.endQueryIndex=zt,qt.sum=0,qt.stats=Vt,bt.push(qt)}if(!Kt.ext_disjoint_timer_query)return null;var vr=[],ct=[],ut=[],bt=[],At=[],Ct=[];return{beginQuery:function(St){var zt=vr.pop()||Kt.ext_disjoint_timer_query.createQueryEXT();Kt.ext_disjoint_timer_query.beginQueryEXT(35007,zt),ct.push(zt),wr(ct.length-1,ct.length,St)},endQuery:function(){Kt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:wr,update:function(){var St,zt;if(St=ct.length,St!==0){Ct.length=Math.max(Ct.length,St+1),At.length=Math.max(At.length,St+1),At[0]=0;var Vt=Ct[0]=0;for(zt=St=0;zt<ct.length;++zt){var qt=ct[zt];Kt.ext_disjoint_timer_query.getQueryObjectEXT(qt,34919)?(Vt+=Kt.ext_disjoint_timer_query.getQueryObjectEXT(qt,34918),vr.push(qt)):ct[St++]=qt,At[zt+1]=Vt,Ct[zt+1]=St}for(ct.length=St,zt=St=0;zt<bt.length;++zt){var Vt=bt[zt],$t=Vt.startQueryIndex,qt=Vt.endQueryIndex;Vt.sum+=At[qt]-At[$t],$t=Ct[$t],qt=Ct[qt],qt===$t?(Vt.stats.gpuTime+=Vt.sum/1e6,ut.push(Vt)):(Vt.startQueryIndex=$t,Vt.endQueryIndex=qt,bt[St++]=Vt)}bt.length=St}},getNumPendingQueries:function(){return ct.length},clear:function(){vr.push.apply(vr,ct);for(var St=0;St<vr.length;St++)Kt.ext_disjoint_timer_query.deleteQueryEXT(vr[St]);ct.length=0,vr.length=0},restore:function(){ct.length=0,vr.length=0}}};return function(mt){function Kt(){if(In.length===0)kt&&kt.update(),Nr=null;else{Nr=we.next(Kt),St();for(var dn=In.length-1;0<=dn;--dn){var cn=In[dn];cn&&cn(ar,null,0)}qt.flush(),kt&&kt.update()}}function jt(){!Nr&&0<In.length&&(Nr=we.next(Kt))}function wr(){Nr&&(we.cancel(Kt),Nr=null)}function vr(dn){dn.preventDefault(),wr(),br.forEach(function(cn){cn()})}function ct(dn){qt.getError(),sr.restore(),gr.restore(),Ot.restore(),dr.restore(),Gr.restore(),kr.restore(),pr.restore(),kt&&kt.restore(),Fr.procs.refresh(),jt(),Mr.forEach(function(cn){cn()})}function ut(dn){function cn(yn,Hn){var Cn={},Ln={};return Object.keys(yn).forEach(function(Gn){var oa=yn[Gn];if(de.isDynamic(oa))Ln[Gn]=de.unbox(oa,Gn);else{if(Hn&&Array.isArray(oa)){for(var Da=0;Da<oa.length;++Da)if(de.isDynamic(oa[Da])){Ln[Gn]=de.unbox(oa,Gn);return}}Cn[Gn]=oa}}),{dynamic:Ln,static:Cn}}function An(yn){for(;an.length<yn;)an.push(null);return an}var Rn=cn(dn.context||{},!0),Jn=cn(dn.uniforms||{},!0),ta=cn(dn.attributes||{},!1);dn=cn(function(yn){function Hn(Ln){if(Ln in Cn){var Gn=Cn[Ln];delete Cn[Ln],Object.keys(Gn).forEach(function(oa){Cn[Ln+"."+oa]=Gn[oa]})}}var Cn=te({},yn);return delete Cn.uniforms,delete Cn.attributes,delete Cn.context,delete Cn.vao,"stencil"in Cn&&Cn.stencil.op&&(Cn.stencil.opBack=Cn.stencil.opFront=Cn.stencil.op,delete Cn.stencil.op),Hn("blend"),Hn("depth"),Hn("cull"),Hn("stencil"),Hn("polygonOffset"),Hn("scissor"),Hn("sample"),"vao"in yn&&(Cn.vao=yn.vao),Cn}(dn),!1);var fa={gpuTime:0,cpuTime:0,count:0},na=Fr.compile(dn,ta,Jn,Rn,fa),ra=na.draw,Sr=na.batch,sn=na.scope,an=[];return te(function(yn,Hn){var Cn;if(typeof yn=="function")return sn.call(this,null,yn,0);if(typeof Hn=="function")if(typeof yn=="number")for(Cn=0;Cn<yn;++Cn)sn.call(this,null,Hn,Cn);else if(Array.isArray(yn))for(Cn=0;Cn<yn.length;++Cn)sn.call(this,yn[Cn],Hn,Cn);else return sn.call(this,yn,Hn,0);else if(typeof yn=="number"){if(0<yn)return Sr.call(this,An(yn|0),yn|0)}else if(Array.isArray(yn)){if(yn.length)return Sr.call(this,yn,yn.length)}else return ra.call(this,yn)},{stats:fa,destroy:function(){na.destroy()}})}function bt(dn,cn){var An=0;Fr.procs.poll();var Rn=cn.color;Rn&&(qt.clearColor(+Rn[0]||0,+Rn[1]||0,+Rn[2]||0,+Rn[3]||0),An|=16384),"depth"in cn&&(qt.clearDepth(+cn.depth),An|=256),"stencil"in cn&&(qt.clearStencil(cn.stencil|0),An|=1024),qt.clear(An)}function At(dn){return In.push(dn),jt(),{cancel:function(){function cn(){var Rn=ie(In,cn);In[Rn]=In[In.length-1],--In.length,0>=In.length&&wr()}var An=ie(In,dn);In[An]=cn}}}function Ct(){var dn=Kr.viewport,cn=Kr.scissor_box;dn[0]=dn[1]=cn[0]=cn[1]=0,ar.viewportWidth=ar.framebufferWidth=ar.drawingBufferWidth=dn[2]=cn[2]=qt.drawingBufferWidth,ar.viewportHeight=ar.framebufferHeight=ar.drawingBufferHeight=dn[3]=cn[3]=qt.drawingBufferHeight}function St(){ar.tick+=1,ar.time=Vt(),Ct(),Fr.procs.poll()}function zt(){dr.refresh(),Ct(),Fr.procs.refresh(),kt&&kt.update()}function Vt(){return(Ae()-_t)/1e3}if(mt=t(mt),!mt)return null;var qt=mt.gl,$t=qt.getContextAttributes();qt.isContextLost();var sr=r(qt,mt);if(!sr)return null;var gn=a(),Cr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ze=mt.cachedCode||{},je=sr.extensions,kt=zr(qt,je),_t=Ae(),ur=qt.drawingBufferWidth,Zt=qt.drawingBufferHeight,ar={tick:0,time:0,viewportWidth:ur,viewportHeight:Zt,framebufferWidth:ur,framebufferHeight:Zt,drawingBufferWidth:ur,drawingBufferHeight:Zt,pixelRatio:mt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},nr=Fe(qt,je),Ot=l(qt,Cr,mt,function(dn){return pr.destroyBuffer(dn)}),cr=p(qt,je,Ot,Cr),pr=_(qt,je,nr,Cr,Ot,cr,ur),gr=B(qt,gn,Cr,mt),dr=z(qt,je,nr,function(){Fr.procs.poll()},ar,Cr,mt),Gr=De(qt,je,nr,Cr,mt),kr=F(qt,je,nr,dr,Gr,Cr),Fr=Z(qt,gn,je,nr,Ot,cr,dr,kr,{},pr,gr,ur,ar,kt,Ze,mt),gn=N(qt,kr,Fr.procs.poll,ar),Kr=Fr.next,kn=qt.canvas,In=[],br=[],Mr=[],Br=[mt.onDestroy],Nr=null;kn&&(kn.addEventListener("webglcontextlost",vr,!1),kn.addEventListener("webglcontextrestored",ct,!1));var en=kr.setFBO=ut({framebuffer:de.define.call(null,1,"framebuffer")});return zt(),$t=te(ut,{clear:function(dn){if("framebuffer"in dn)if(dn.framebuffer&&dn.framebuffer_reglType==="framebufferCube")for(var cn=0;6>cn;++cn)en(te({framebuffer:dn.framebuffer.faces[cn]},dn),bt);else en(dn,bt);else bt(null,dn)},prop:de.define.bind(null,1),context:de.define.bind(null,2),this:de.define.bind(null,3),draw:ut({}),buffer:function(dn){return Ot.create(dn,34962,!1,!1)},elements:function(dn){return cr.create(dn,!1)},texture:dr.create2D,cube:dr.createCube,renderbuffer:Gr.create,framebuffer:kr.create,framebufferCube:kr.createCube,vao:pr.createVAO,attributes:$t,frame:At,on:function(dn,cn){var An;switch(dn){case"frame":return At(cn);case"lost":An=br;break;case"restore":An=Mr;break;case"destroy":An=Br}return An.push(cn),{cancel:function(){for(var Rn=0;Rn<An.length;++Rn)if(An[Rn]===cn){An[Rn]=An[An.length-1],An.pop();break}}}},limits:nr,hasExtension:function(dn){return 0<=nr.extensions.indexOf(dn.toLowerCase())},read:gn,destroy:function(){In.length=0,wr(),kn&&(kn.removeEventListener("webglcontextlost",vr),kn.removeEventListener("webglcontextrestored",ct)),gr.clear(),kr.clear(),Gr.clear(),pr.clear(),dr.clear(),cr.clear(),Ot.clear(),kt&&kt.clear(),Br.forEach(function(dn){dn()})},_gl:qt,_refresh:zt,poll:function(){St(),kt&&kt.update()},now:Vt,stats:Cr,getCachedCode:function(){return Ze},preloadCachedCode:function(dn){Object.entries(dn).forEach(function(cn){Ze[cn[0]]=cn[1]})}}),mt.onDone(null,$t),$t}})},71665:function(W,V,e){var y=e(12856),C=y.Buffer;function a(x,h){for(var d in x)h[d]=x[d]}C.from&&C.alloc&&C.allocUnsafe&&C.allocUnsafeSlow?W.exports=y:(a(y,V),V.Buffer=L);function L(x,h,d){return C(x,h,d)}L.prototype=Object.create(C.prototype),a(C,L),L.from=function(x,h,d){if(typeof x=="number")throw new TypeError("Argument must not be a number");return C(x,h,d)},L.alloc=function(x,h,d){if(typeof x!="number")throw new TypeError("Argument must be a number");var t=C(x);return h!==void 0?typeof d=="string"?t.fill(h,d):t.fill(h):t.fill(0),t},L.allocUnsafe=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return C(x)},L.allocUnsafeSlow=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(x)}},21630:function(W,V,e){W.exports=a;var y=e(15398).EventEmitter,C=e(42018);C(a,y),a.Readable=e(40410),a.Writable=e(37493),a.Duplex=e(37865),a.Transform=e(74308),a.PassThrough=e(66897),a.finished=e(12726),a.pipeline=e(10168),a.Stream=a;function a(){y.call(this)}a.prototype.pipe=function(L,x){var h=this;function d(o){L.writable&&L.write(o)===!1&&h.pause&&h.pause()}h.on("data",d);function t(){h.readable&&h.resume&&h.resume()}L.on("drain",t),!L._isStdio&&(!x||x.end!==!1)&&(h.on("end",u),h.on("close",n));var r=!1;function u(){r||(r=!0,L.end())}function n(){r||(r=!0,typeof L.destroy=="function"&&L.destroy())}function i(o){if(s(),y.listenerCount(this,"error")===0)throw o}h.on("error",i),L.on("error",i);function s(){h.removeListener("data",d),L.removeListener("drain",t),h.removeListener("end",u),h.removeListener("close",n),h.removeListener("error",i),L.removeListener("error",i),h.removeListener("end",s),h.removeListener("close",s),L.removeListener("close",s)}return h.on("end",s),h.on("close",s),L.on("close",s),L.emit("pipe",h),L}},74322:function(W){function V(h,d){h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.__proto__=d}var e={};function y(h,d,t){t||(t=Error);function r(n,i,s){return typeof d=="string"?d:d(n,i,s)}var u=function(n){V(i,n);function i(s,o,m){return n.call(this,r(s,o,m))||this}return i}(t);u.prototype.name=t.name,u.prototype.code=h,e[h]=u}function C(h,d){if(Array.isArray(h)){var t=h.length;return h=h.map(function(r){return String(r)}),t>2?"one of ".concat(d," ").concat(h.slice(0,t-1).join(", "),", or ")+h[t-1]:t===2?"one of ".concat(d," ").concat(h[0]," or ").concat(h[1]):"of ".concat(d," ").concat(h[0])}else return"of ".concat(d," ").concat(String(h))}function a(h,d,t){return h.substr(!t||t<0?0:+t,d.length)===d}function L(h,d,t){return(t===void 0||t>h.length)&&(t=h.length),h.substring(t-d.length,t)===d}function x(h,d,t){return typeof t!="number"&&(t=0),t+d.length>h.length?!1:h.indexOf(d,t)!==-1}y("ERR_INVALID_OPT_VALUE",function(h,d){return'The value "'+d+'" is invalid for option "'+h+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(h,d,t){var r;typeof d=="string"&&a(d,"not ")?(r="must not be",d=d.replace(/^not /,"")):r="must be";var u;if(L(h," argument"))u="The ".concat(h," ").concat(r," ").concat(C(d,"type"));else{var n=x(h,".")?"property":"argument";u='The "'.concat(h,'" ').concat(n," ").concat(r," ").concat(C(d,"type"))}return u+=". Received type ".concat(typeof t),u},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.q=e},37865:function(W,V,e){var y=e(90386),C=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};W.exports=t;var a=e(40410),L=e(37493);e(42018)(t,a);for(var x=C(L.prototype),h=0;h<x.length;h++){var d=x[h];t.prototype[d]||(t.prototype[d]=L.prototype[d])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||y.nextTick(u,this)}function u(n){n.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(i){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=i,this._writableState.destroyed=i)}})},66897:function(W,V,e){W.exports=C;var y=e(74308);e(42018)(C,y);function C(a){if(!(this instanceof C))return new C(a);y.call(this,a)}C.prototype._transform=function(a,L,x){x(null,a)}},40410:function(W,V,e){var y=e(90386);W.exports=f;var C;f.ReadableState=A,e(15398).EventEmitter;var a=function(Z,ie){return Z.listeners(ie).length},L=e(71405),x=e(12856).Buffer,h=e.g.Uint8Array||function(){};function d(Y){return x.from(Y)}function t(Y){return x.isBuffer(Y)||Y instanceof h}var r=e(40964),u;r&&r.debuglog?u=r.debuglog("stream"):u=function(){};var n=e(31125),i=e(65756),s=e(56306),o=s.getHighWaterMark,m=e(74322).q,c=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,l=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,S,M;e(42018)(f,L);var R=i.errorOrDestroy,T=["error","close","destroy","pause","resume"];function E(Y,Z,ie){if(typeof Y.prependListener=="function")return Y.prependListener(Z,ie);!Y._events||!Y._events[Z]?Y.on(Z,ie):Array.isArray(Y._events[Z])?Y._events[Z].unshift(ie):Y._events[Z]=[ie,Y._events[Z]]}function A(Y,Z,ie){C=C||e(37865),Y=Y||{},typeof ie!="boolean"&&(ie=Z instanceof C),this.objectMode=!!Y.objectMode,ie&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=o(this,Y,"readableHighWaterMark",ie),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(p||(p=e(68019).s),this.decoder=new p(Y.encoding),this.encoding=Y.encoding)}function f(Y){if(C=C||e(37865),!(this instanceof f))return new f(Y);var Z=this instanceof C;this._readableState=new A(Y,this,Z),this.readable=!0,Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy)),L.call(this)}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),f.prototype.destroy=i.destroy,f.prototype._undestroy=i.undestroy,f.prototype._destroy=function(Y,Z){Z(Y)},f.prototype.push=function(Y,Z){var ie=this._readableState,te;return ie.objectMode?te=!0:typeof Y=="string"&&(Z=Z||ie.defaultEncoding,Z!==ie.encoding&&(Y=x.from(Y,Z),Z=""),te=!0),P(this,Y,Z,!1,te)},f.prototype.unshift=function(Y){return P(this,Y,null,!0,!1)};function P(Y,Z,ie,te,fe){u("readableAddChunk",Z);var de=Y._readableState;if(Z===null)de.reading=!1,B(Y,de);else{var we;if(fe||(we=z(de,Z)),we)R(Y,we);else if(de.objectMode||Z&&Z.length>0)if(typeof Z!="string"&&!de.objectMode&&Object.getPrototypeOf(Z)!==x.prototype&&(Z=d(Z)),te)de.endEmitted?R(Y,new l):w(Y,de,Z,!0);else if(de.ended)R(Y,new b);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!ie?(Z=de.decoder.write(Z),de.objectMode||Z.length!==0?w(Y,de,Z,!1):U(Y,de)):w(Y,de,Z,!1)}else te||(de.reading=!1,U(Y,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function w(Y,Z,ie,te){Z.flowing&&Z.length===0&&!Z.sync?(Z.awaitDrain=0,Y.emit("data",ie)):(Z.length+=Z.objectMode?1:ie.length,te?Z.buffer.unshift(ie):Z.buffer.push(ie),Z.needReadable&&N(Y)),U(Y,Z)}function z(Y,Z){var ie;return!t(Z)&&typeof Z!="string"&&Z!==void 0&&!Y.objectMode&&(ie=new c("chunk",["string","Buffer","Uint8Array"],Z)),ie}f.prototype.isPaused=function(){return this._readableState.flowing===!1},f.prototype.setEncoding=function(Y){p||(p=e(68019).s);var Z=new p(Y);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var ie=this._readableState.buffer.head,te="";ie!==null;)te+=Z.write(ie.data),ie=ie.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var F=1073741824;function H(Y){return Y>=F?Y=F:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}function _(Y,Z){return Y<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:Y!==Y?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(Y>Z.highWaterMark&&(Z.highWaterMark=H(Y)),Y<=Z.length?Y:Z.ended?Z.length:(Z.needReadable=!0,0))}f.prototype.read=function(Y){u("read",Y),Y=parseInt(Y,10);var Z=this._readableState,ie=Y;if(Y!==0&&(Z.emittedReadable=!1),Y===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return u("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?X(this):N(this),null;if(Y=_(Y,Z),Y===0&&Z.ended)return Z.length===0&&X(this),null;var te=Z.needReadable;u("need readable",te),(Z.length===0||Z.length-Y<Z.highWaterMark)&&(te=!0,u("length less than watermark",te)),Z.ended||Z.reading?(te=!1,u("reading or ended",te)):te&&(u("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(Y=_(ie,Z)));var fe;return Y>0?fe=Q(Y,Z):fe=null,fe===null?(Z.needReadable=Z.length<=Z.highWaterMark,Y=0):(Z.length-=Y,Z.awaitDrain=0),Z.length===0&&(Z.ended||(Z.needReadable=!0),ie!==Y&&Z.ended&&X(this)),fe!==null&&this.emit("data",fe),fe};function B(Y,Z){if(u("onEofChunk"),!Z.ended){if(Z.decoder){var ie=Z.decoder.end();ie&&ie.length&&(Z.buffer.push(ie),Z.length+=Z.objectMode?1:ie.length)}Z.ended=!0,Z.sync?N(Y):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,O(Y)))}}function N(Y){var Z=Y._readableState;u("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(u("emitReadable",Z.flowing),Z.emittedReadable=!0,y.nextTick(O,Y))}function O(Y){var Z=Y._readableState;u("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended)&&(Y.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,J(Y)}function U(Y,Z){Z.readingMore||(Z.readingMore=!0,y.nextTick(K,Y,Z))}function K(Y,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){var ie=Z.length;if(u("maybeReadMore read 0"),Y.read(0),ie===Z.length)break}Z.readingMore=!1}f.prototype._read=function(Y){R(this,new v("_read()"))},f.prototype.pipe=function(Y,Z){var ie=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=Y;break;case 1:te.pipes=[te.pipes,Y];break;default:te.pipes.push(Y);break}te.pipesCount+=1,u("pipe count=%d opts=%j",te.pipesCount,Z);var fe=(!Z||Z.end!==!1)&&Y!==y.stdout&&Y!==y.stderr,de=fe?Ae:_e;te.endEmitted?y.nextTick(de):ie.once("end",de),Y.on("unpipe",we);function we(We,tt){u("onunpipe"),We===ie&&tt&&tt.hasUnpiped===!1&&(tt.hasUnpiped=!0,Se())}function Ae(){u("onend"),Y.end()}var Re=re(ie);Y.on("drain",Re);var Fe=!1;function Se(){u("cleanup"),Y.removeListener("close",Ne),Y.removeListener("finish",He),Y.removeListener("drain",Re),Y.removeListener("error",Ee),Y.removeListener("unpipe",we),ie.removeListener("end",Ae),ie.removeListener("end",_e),ie.removeListener("data",Te),Fe=!0,te.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&Re()}ie.on("data",Te);function Te(We){u("ondata");var tt=Y.write(We);u("dest.write",tt),tt===!1&&((te.pipesCount===1&&te.pipes===Y||te.pipesCount>1&&se(te.pipes,Y)!==-1)&&!Fe&&(u("false write response, pause",te.awaitDrain),te.awaitDrain++),ie.pause())}function Ee(We){u("onerror",We),_e(),Y.removeListener("error",Ee),a(Y,"error")===0&&R(Y,We)}E(Y,"error",Ee);function Ne(){Y.removeListener("finish",He),_e()}Y.once("close",Ne);function He(){u("onfinish"),Y.removeListener("close",Ne),_e()}Y.once("finish",He);function _e(){u("unpipe"),ie.unpipe(Y)}return Y.emit("pipe",ie),te.flowing||(u("pipe resume"),ie.resume()),Y};function re(Y){return function(){var ie=Y._readableState;u("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&a(Y,"data")&&(ie.flowing=!0,J(Y))}}f.prototype.unpipe=function(Y){var Z=this._readableState,ie={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return Y&&Y!==Z.pipes?this:(Y||(Y=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,Y&&Y.emit("unpipe",this,ie),this);if(!Y){var te=Z.pipes,fe=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var de=0;de<fe;de++)te[de].emit("unpipe",this,{hasUnpiped:!1});return this}var we=se(Z.pipes,Y);return we===-1?this:(Z.pipes.splice(we,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),Y.emit("unpipe",this,ie),this)},f.prototype.on=function(Y,Z){var ie=L.prototype.on.call(this,Y,Z),te=this._readableState;return Y==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):Y==="readable"&&!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,u("on readable",te.length,te.reading),te.length?N(this):te.reading||y.nextTick(ue,this)),ie},f.prototype.addListener=f.prototype.on,f.prototype.removeListener=function(Y,Z){var ie=L.prototype.removeListener.call(this,Y,Z);return Y==="readable"&&y.nextTick(ae,this),ie},f.prototype.removeAllListeners=function(Y){var Z=L.prototype.removeAllListeners.apply(this,arguments);return(Y==="readable"||Y===void 0)&&y.nextTick(ae,this),Z};function ae(Y){var Z=Y._readableState;Z.readableListening=Y.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:Y.listenerCount("data")>0&&Y.resume()}function ue(Y){u("readable nexttick read 0"),Y.read(0)}f.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(u("resume"),Y.flowing=!Y.readableListening,ve(this,Y)),Y.paused=!1,this};function ve(Y,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,y.nextTick(ee,Y,Z))}function ee(Y,Z){u("resume",Z.reading),Z.reading||Y.read(0),Z.resumeScheduled=!1,Y.emit("resume"),J(Y),Z.flowing&&!Z.reading&&Y.read(0)}f.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(Y){var Z=Y._readableState;for(u("flow",Z.flowing);Z.flowing&&Y.read()!==null;);}f.prototype.wrap=function(Y){var Z=this,ie=this._readableState,te=!1;Y.on("end",function(){if(u("wrapped end"),ie.decoder&&!ie.ended){var we=ie.decoder.end();we&&we.length&&Z.push(we)}Z.push(null)}),Y.on("data",function(we){if(u("wrapped data"),ie.decoder&&(we=ie.decoder.write(we)),!(ie.objectMode&&we==null)&&!(!ie.objectMode&&(!we||!we.length))){var Ae=Z.push(we);Ae||(te=!0,Y.pause())}});for(var fe in Y)this[fe]===void 0&&typeof Y[fe]=="function"&&(this[fe]=function(Ae){return function(){return Y[Ae].apply(Y,arguments)}}(fe));for(var de=0;de<T.length;de++)Y.on(T[de],this.emit.bind(this,T[de]));return this._read=function(we){u("wrapped _read",we),te&&(te=!1,Y.resume())},this},typeof Symbol=="function"&&(f.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=e(68221)),S(this)}),Object.defineProperty(f.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(f.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(f.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}}),f._fromList=Q,Object.defineProperty(f.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Q(Y,Z){if(Z.length===0)return null;var ie;return Z.objectMode?ie=Z.buffer.shift():!Y||Y>=Z.length?(Z.decoder?ie=Z.buffer.join(""):Z.buffer.length===1?ie=Z.buffer.first():ie=Z.buffer.concat(Z.length),Z.buffer.clear()):ie=Z.buffer.consume(Y,Z.decoder),ie}function X(Y){var Z=Y._readableState;u("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,y.nextTick(q,Z,Y))}function q(Y,Z){if(u("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&Y.length===0&&(Y.endEmitted=!0,Z.readable=!1,Z.emit("end"),Y.autoDestroy)){var ie=Z._writableState;(!ie||ie.autoDestroy&&ie.finished)&&Z.destroy()}}typeof Symbol=="function"&&(f.from=function(Y,Z){return M===void 0&&(M=e(31748)),M(f,Y,Z)});function se(Y,Z){for(var ie=0,te=Y.length;ie<te;ie++)if(Y[ie]===Z)return ie;return-1}},74308:function(W,V,e){W.exports=t;var y=e(74322).q,C=y.ERR_METHOD_NOT_IMPLEMENTED,a=y.ERR_MULTIPLE_CALLBACK,L=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,x=y.ERR_TRANSFORM_WITH_LENGTH_0,h=e(37865);e(42018)(t,h);function d(n,i){var s=this._transformState;s.transforming=!1;var o=s.writecb;if(o===null)return this.emit("error",new a);s.writechunk=null,s.writecb=null,i!=null&&this.push(i),o(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);h.call(this,n),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",r)}function r(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(i,s){u(n,i,s)}):u(this,null,null)}t.prototype.push=function(n,i){return this._transformState.needTransform=!1,h.prototype.push.call(this,n,i)},t.prototype._transform=function(n,i,s){s(new C("_transform()"))},t.prototype._write=function(n,i,s){var o=this._transformState;if(o.writecb=s,o.writechunk=n,o.writeencoding=i,!o.transforming){var m=this._readableState;(o.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},t.prototype._read=function(n){var i=this._transformState;i.writechunk!==null&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0},t.prototype._destroy=function(n,i){h.prototype._destroy.call(this,n,function(s){i(s)})};function u(n,i,s){if(i)return n.emit("error",i);if(s!=null&&n.push(s),n._writableState.length)throw new x;if(n._transformState.transforming)throw new L;return n.push(null)}},37493:function(W,V,e){var y=e(90386);W.exports=A;function C(J){var Q=this;this.next=null,this.entry=null,this.finish=function(){ee(Q,J)}}var a;A.WritableState=T;var L={deprecate:e(20588)},x=e(71405),h=e(12856).Buffer,d=e.g.Uint8Array||function(){};function t(J){return h.from(J)}function r(J){return h.isBuffer(J)||J instanceof d}var u=e(65756),n=e(56306),i=n.getHighWaterMark,s=e(74322).q,o=s.ERR_INVALID_ARG_TYPE,m=s.ERR_METHOD_NOT_IMPLEMENTED,c=s.ERR_MULTIPLE_CALLBACK,b=s.ERR_STREAM_CANNOT_PIPE,v=s.ERR_STREAM_DESTROYED,l=s.ERR_STREAM_NULL_VALUES,p=s.ERR_STREAM_WRITE_AFTER_END,S=s.ERR_UNKNOWN_ENCODING,M=u.errorOrDestroy;e(42018)(A,x);function R(){}function T(J,Q,X){a=a||e(37865),J=J||{},typeof X!="boolean"&&(X=Q instanceof a),this.objectMode=!!J.objectMode,X&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=i(this,J,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=J.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){B(Q,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new C(this)}T.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,X=[];Q;)X.push(Q),Q=Q.next;return X},function(){try{Object.defineProperty(T.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(Q){return E.call(this,Q)?!0:this!==A?!1:Q&&Q._writableState instanceof T}})):E=function(Q){return Q instanceof this};function A(J){a=a||e(37865);var Q=this instanceof a;if(!Q&&!E.call(A,this))return new A(J);this._writableState=new T(J,this,Q),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),x.call(this)}A.prototype.pipe=function(){M(this,new b)};function f(J,Q){var X=new p;M(J,X),y.nextTick(Q,X)}function P(J,Q,X,q){var se;return X===null?se=new l:typeof X!="string"&&!Q.objectMode&&(se=new o("chunk",["string","Buffer"],X)),se?(M(J,se),y.nextTick(q,se),!1):!0}A.prototype.write=function(J,Q,X){var q=this._writableState,se=!1,Y=!q.objectMode&&r(J);return Y&&!h.isBuffer(J)&&(J=t(J)),typeof Q=="function"&&(X=Q,Q=null),Y?Q="buffer":Q||(Q=q.defaultEncoding),typeof X!="function"&&(X=R),q.ending?f(this,X):(Y||P(this,q,J,X))&&(q.pendingcb++,se=z(this,q,Y,J,Q,X)),se},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&U(this,J))},A.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new S(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function w(J,Q,X){return!J.objectMode&&J.decodeStrings!==!1&&typeof Q=="string"&&(Q=h.from(Q,X)),Q}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(J,Q,X,q,se,Y){if(!X){var Z=w(Q,q,se);q!==Z&&(X=!0,se="buffer",q=Z)}var ie=Q.objectMode?1:q.length;Q.length+=ie;var te=Q.length<Q.highWaterMark;if(te||(Q.needDrain=!0),Q.writing||Q.corked){var fe=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:q,encoding:se,isBuf:X,callback:Y,next:null},fe?fe.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else F(J,Q,!1,ie,q,se,Y);return te}function F(J,Q,X,q,se,Y,Z){Q.writelen=q,Q.writecb=Z,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new v("write")):X?J._writev(se,Q.onwrite):J._write(se,Y,Q.onwrite),Q.sync=!1}function H(J,Q,X,q,se){--Q.pendingcb,X?(y.nextTick(se,q),y.nextTick(ue,J,Q),J._writableState.errorEmitted=!0,M(J,q)):(se(q),J._writableState.errorEmitted=!0,M(J,q),ue(J,Q))}function _(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function B(J,Q){var X=J._writableState,q=X.sync,se=X.writecb;if(typeof se!="function")throw new c;if(_(X),Q)H(J,X,q,Q,se);else{var Y=K(X)||J.destroyed;!Y&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&U(J,X),q?y.nextTick(N,J,X,Y,se):N(J,X,Y,se)}}function N(J,Q,X,q){X||O(J,Q),Q.pendingcb--,q(),ue(J,Q)}function O(J,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,J.emit("drain"))}function U(J,Q){Q.bufferProcessing=!0;var X=Q.bufferedRequest;if(J._writev&&X&&X.next){var q=Q.bufferedRequestCount,se=new Array(q),Y=Q.corkedRequestsFree;Y.entry=X;for(var Z=0,ie=!0;X;)se[Z]=X,X.isBuf||(ie=!1),X=X.next,Z+=1;se.allBuffers=ie,F(J,Q,!0,Q.length,se,"",Y.finish),Q.pendingcb++,Q.lastBufferedRequest=null,Y.next?(Q.corkedRequestsFree=Y.next,Y.next=null):Q.corkedRequestsFree=new C(Q),Q.bufferedRequestCount=0}else{for(;X;){var te=X.chunk,fe=X.encoding,de=X.callback,we=Q.objectMode?1:te.length;if(F(J,Q,!1,we,te,fe,de),X=X.next,Q.bufferedRequestCount--,Q.writing)break}X===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=X,Q.bufferProcessing=!1}A.prototype._write=function(J,Q,X){X(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(J,Q,X){var q=this._writableState;return typeof J=="function"?(X=J,J=null,Q=null):typeof Q=="function"&&(X=Q,Q=null),J!=null&&this.write(J,Q),q.corked&&(q.corked=1,this.uncork()),q.ending||ve(this,q,X),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function K(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function re(J,Q){J._final(function(X){Q.pendingcb--,X&&M(J,X),Q.prefinished=!0,J.emit("prefinish"),ue(J,Q)})}function ae(J,Q){!Q.prefinished&&!Q.finalCalled&&(typeof J._final=="function"&&!Q.destroyed?(Q.pendingcb++,Q.finalCalled=!0,y.nextTick(re,J,Q)):(Q.prefinished=!0,J.emit("prefinish")))}function ue(J,Q){var X=K(Q);if(X&&(ae(J,Q),Q.pendingcb===0&&(Q.finished=!0,J.emit("finish"),Q.autoDestroy))){var q=J._readableState;(!q||q.autoDestroy&&q.endEmitted)&&J.destroy()}return X}function ve(J,Q,X){Q.ending=!0,ue(J,Q),X&&(Q.finished?y.nextTick(X):J.once("finish",X)),Q.ended=!0,J.writable=!1}function ee(J,Q,X){var q=J.entry;for(J.entry=null;q;){var se=q.callback;Q.pendingcb--,se(X),q=q.next}Q.corkedRequestsFree.next=J}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),A.prototype.destroy=u.destroy,A.prototype._undestroy=u.undestroy,A.prototype._destroy=function(J,Q){Q(J)}},68221:function(W,V,e){var y=e(90386),C;function a(l,p,S){return p in l?Object.defineProperty(l,p,{value:S,enumerable:!0,configurable:!0,writable:!0}):l[p]=S,l}var L=e(12726),x=Symbol("lastResolve"),h=Symbol("lastReject"),d=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),u=Symbol("handlePromise"),n=Symbol("stream");function i(l,p){return{value:l,done:p}}function s(l){var p=l[x];if(p!==null){var S=l[n].read();S!==null&&(l[r]=null,l[x]=null,l[h]=null,p(i(S,!1)))}}function o(l){y.nextTick(s,l)}function m(l,p){return function(S,M){l.then(function(){if(p[t]){S(i(void 0,!0));return}p[u](S,M)},M)}}var c=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((C={get stream(){return this[n]},next:function(){var p=this,S=this[d];if(S!==null)return Promise.reject(S);if(this[t])return Promise.resolve(i(void 0,!0));if(this[n].destroyed)return new Promise(function(E,A){y.nextTick(function(){p[d]?A(p[d]):E(i(void 0,!0))})});var M=this[r],R;if(M)R=new Promise(m(M,this));else{var T=this[n].read();if(T!==null)return Promise.resolve(i(T,!1));R=new Promise(this[u])}return this[r]=R,R}},a(C,Symbol.asyncIterator,function(){return this}),a(C,"return",function(){var p=this;return new Promise(function(S,M){p[n].destroy(null,function(R){if(R){M(R);return}S(i(void 0,!0))})})}),C),c),v=function(p){var S,M=Object.create(b,(S={},a(S,n,{value:p,writable:!0}),a(S,x,{value:null,writable:!0}),a(S,h,{value:null,writable:!0}),a(S,d,{value:null,writable:!0}),a(S,t,{value:p._readableState.endEmitted,writable:!0}),a(S,u,{value:function(T,E){var A=M[n].read();A?(M[r]=null,M[x]=null,M[h]=null,T(i(A,!1))):(M[x]=T,M[h]=E)},writable:!0}),S));return M[r]=null,L(p,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var T=M[h];T!==null&&(M[r]=null,M[x]=null,M[h]=null,T(R)),M[d]=R;return}var E=M[x];E!==null&&(M[r]=null,M[x]=null,M[h]=null,E(i(void 0,!0))),M[t]=!0}),p.on("readable",o.bind(null,M)),M};W.exports=v},31125:function(W,V,e){function y(s,o){var m=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);o&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(s,b).enumerable})),m.push.apply(m,c)}return m}function C(s){for(var o=1;o<arguments.length;o++){var m=arguments[o]!=null?arguments[o]:{};o%2?y(Object(m),!0).forEach(function(c){a(s,c,m[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(m)):y(Object(m)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(m,c))})}return s}function a(s,o,m){return o in s?Object.defineProperty(s,o,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[o]=m,s}function L(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function x(s,o){for(var m=0;m<o.length;m++){var c=o[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}function h(s,o,m){return o&&x(s.prototype,o),m&&x(s,m),s}var d=e(12856),t=d.Buffer,r=e(69862),u=r.inspect,n=u&&u.custom||"inspect";function i(s,o,m){t.prototype.copy.call(s,o,m)}W.exports=function(){function s(){L(this,s),this.head=null,this.tail=null,this.length=0}return h(s,[{key:"push",value:function(m){var c={data:m,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(m){var c={data:m,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var c=this.head,b=""+c.data;c=c.next;)b+=m+c.data;return b}},{key:"concat",value:function(m){if(this.length===0)return t.alloc(0);for(var c=t.allocUnsafe(m>>>0),b=this.head,v=0;b;)i(b.data,c,v),v+=b.data.length,b=b.next;return c}},{key:"consume",value:function(m,c){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?b=this.shift():b=c?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var c=this.head,b=1,v=c.data;for(m-=v.length;c=c.next;){var l=c.data,p=m>l.length?l.length:m;if(p===l.length?v+=l:v+=l.slice(0,m),m-=p,m===0){p===l.length?(++b,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=l.slice(p));break}++b}return this.length-=b,v}},{key:"_getBuffer",value:function(m){var c=t.allocUnsafe(m),b=this.head,v=1;for(b.data.copy(c),m-=b.data.length;b=b.next;){var l=b.data,p=m>l.length?l.length:m;if(l.copy(c,c.length-m,0,p),m-=p,m===0){p===l.length?(++v,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=l.slice(p));break}++v}return this.length-=v,c}},{key:n,value:function(m,c){return u(this,C({},c,{depth:0,customInspect:!1}))}}]),s}()},65756:function(W,V,e){var y=e(90386);function C(t,r){var u=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(h,this,t)):y.nextTick(h,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!r&&s?u._writableState?u._writableState.errorEmitted?y.nextTick(L,u):(u._writableState.errorEmitted=!0,y.nextTick(a,u,s)):y.nextTick(a,u,s):r?(y.nextTick(L,u),r(s)):y.nextTick(L,u)}),this)}function a(t,r){h(t,r),L(t)}function L(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(t,r){t.emit("error",r)}function d(t,r){var u=t._readableState,n=t._writableState;u&&u.autoDestroy||n&&n.autoDestroy?t.destroy(r):t.emit("error",r)}W.exports={destroy:C,undestroy:x,errorOrDestroy:d}},12726:function(W,V,e){var y=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function C(h){var d=!1;return function(){if(!d){d=!0;for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];h.apply(this,r)}}}function a(){}function L(h){return h.setHeader&&typeof h.abort=="function"}function x(h,d,t){if(typeof d=="function")return x(h,null,d);d||(d={}),t=C(t||a);var r=d.readable||d.readable!==!1&&h.readable,u=d.writable||d.writable!==!1&&h.writable,n=function(){h.writable||s()},i=h._writableState&&h._writableState.finished,s=function(){u=!1,i=!0,r||t.call(h)},o=h._readableState&&h._readableState.endEmitted,m=function(){r=!1,o=!0,u||t.call(h)},c=function(p){t.call(h,p)},b=function(){var p;if(r&&!o)return(!h._readableState||!h._readableState.ended)&&(p=new y),t.call(h,p);if(u&&!i)return(!h._writableState||!h._writableState.ended)&&(p=new y),t.call(h,p)},v=function(){h.req.on("finish",s)};return L(h)?(h.on("complete",s),h.on("abort",b),h.req?v():h.on("request",v)):u&&!h._writableState&&(h.on("end",n),h.on("close",n)),h.on("end",m),h.on("finish",s),d.error!==!1&&h.on("error",c),h.on("close",b),function(){h.removeListener("complete",s),h.removeListener("abort",b),h.removeListener("request",v),h.req&&h.req.removeListener("finish",s),h.removeListener("end",n),h.removeListener("close",n),h.removeListener("finish",s),h.removeListener("end",m),h.removeListener("error",c),h.removeListener("close",b)}}W.exports=x},31748:function(W){W.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(W,V,e){var y;function C(s){var o=!1;return function(){o||(o=!0,s.apply(void 0,arguments))}}var a=e(74322).q,L=a.ERR_MISSING_ARGS,x=a.ERR_STREAM_DESTROYED;function h(s){if(s)throw s}function d(s){return s.setHeader&&typeof s.abort=="function"}function t(s,o,m,c){c=C(c);var b=!1;s.on("close",function(){b=!0}),y===void 0&&(y=e(12726)),y(s,{readable:o,writable:m},function(l){if(l)return c(l);b=!0,c()});var v=!1;return function(l){if(!b&&!v){if(v=!0,d(s))return s.abort();if(typeof s.destroy=="function")return s.destroy();c(l||new x("pipe"))}}}function r(s){s()}function u(s,o){return s.pipe(o)}function n(s){return!s.length||typeof s[s.length-1]!="function"?h:s.pop()}function i(){for(var s=arguments.length,o=new Array(s),m=0;m<s;m++)o[m]=arguments[m];var c=n(o);if(Array.isArray(o[0])&&(o=o[0]),o.length<2)throw new L("streams");var b,v=o.map(function(l,p){var S=p<o.length-1,M=p>0;return t(l,S,M,function(R){b||(b=R),R&&v.forEach(r),!S&&(v.forEach(r),c(b))})});return o.reduce(u)}W.exports=i},56306:function(W,V,e){var y=e(74322).q.ERR_INVALID_OPT_VALUE;function C(L,x,h){return L.highWaterMark!=null?L.highWaterMark:x?L[h]:null}function a(L,x,h,d){var t=C(x,d,h);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=d?h:"highWaterMark";throw new y(r,t)}return Math.floor(t)}return L.objectMode?16:16384}W.exports={getHighWaterMark:a}},71405:function(W,V,e){W.exports=e(15398).EventEmitter},68019:function(W,V,e){var y=e(71665).Buffer,C=y.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(v){if(!v)return"utf8";for(var l;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(l)return;v=(""+v).toLowerCase(),l=!0}}function L(v){var l=a(v);if(typeof l!="string"&&(y.isEncoding===C||!C(v)))throw new Error("Unknown encoding: "+v);return l||v}V.s=x;function x(v){this.encoding=L(v);var l;switch(this.encoding){case"utf16le":this.text=i,this.end=s,l=4;break;case"utf8":this.fillLast=r,l=4;break;case"base64":this.text=o,this.end=m,l=3;break;default:this.write=c,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(l)}x.prototype.write=function(v){if(v.length===0)return"";var l,p;if(this.lastNeed){if(l=this.fillLast(v),l===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<v.length?l?l+this.text(v,p):this.text(v,p):l||""},x.prototype.end=n,x.prototype.text=u,x.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function h(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function d(v,l,p){var S=l.length-1;if(S<p)return 0;var M=h(l[S]);return M>=0?(M>0&&(v.lastNeed=M-1),M):--S<p||M===-2?0:(M=h(l[S]),M>=0?(M>0&&(v.lastNeed=M-2),M):--S<p||M===-2?0:(M=h(l[S]),M>=0?(M>0&&(M===2?M=0:v.lastNeed=M-3),M):0))}function t(v,l,p){if((l[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&l.length>1){if((l[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&l.length>2&&(l[2]&192)!==128)return v.lastNeed=2,""}}function r(v){var l=this.lastTotal-this.lastNeed,p=t(this,v);if(p!==void 0)return p;if(this.lastNeed<=v.length)return v.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,l,0,v.length),this.lastNeed-=v.length}function u(v,l){var p=d(this,v,l);if(!this.lastNeed)return v.toString("utf8",l);this.lastTotal=p;var S=v.length-(p-this.lastNeed);return v.copy(this.lastChar,0,S),v.toString("utf8",l,S)}function n(v){var l=v&&v.length?this.write(v):"";return this.lastNeed?l+"":l}function i(v,l){if((v.length-l)%2===0){var p=v.toString("utf16le",l);if(p){var S=p.charCodeAt(p.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",l,v.length-1)}function s(v){var l=v&&v.length?this.write(v):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,p)}return l}function o(v,l){var p=(v.length-l)%3;return p===0?v.toString("base64",l):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",l,v.length-p))}function m(v){var l=v&&v.length?this.write(v):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function c(v){return v.toString(this.encoding)}function b(v){return v&&v.length?this.write(v):""}},90715:function(W,V,e){var y=e(32791),C=e(41633)("stream-parser");W.exports=d;var a=-1,L=0,x=1,h=2;function d(v){var l=v&&typeof v._transform=="function",p=v&&typeof v._write=="function";if(!l&&!p)throw new Error("must pass a Writable or Transform stream in");C("extending Parser into stream"),v._bytes=r,v._skipBytes=u,l&&(v._passthrough=n),l?v._transform=s:v._write=i}function t(v){C("initializing parser stream"),v._parserBytesLeft=0,v._parserBuffers=[],v._parserBuffered=0,v._parserState=a,v._parserCallback=null,typeof v.push=="function"&&(v._parserOutput=v.push.bind(v)),v._parserInit=!0}function r(v,l){y(!this._parserCallback,'there is already a "callback" set!'),y(isFinite(v)&&v>0,'can only buffer a finite number of bytes > 0, got "'+v+'"'),this._parserInit||t(this),C("buffering %o bytes",v),this._parserBytesLeft=v,this._parserCallback=l,this._parserState=L}function u(v,l){y(!this._parserCallback,'there is already a "callback" set!'),y(v>0,'can only skip > 0 bytes, got "'+v+'"'),this._parserInit||t(this),C("skipping %o bytes",v),this._parserBytesLeft=v,this._parserCallback=l,this._parserState=x}function n(v,l){y(!this._parserCallback,'There is already a "callback" set!'),y(v>0,'can only pass through > 0 bytes, got "'+v+'"'),this._parserInit||t(this),C("passing through %o bytes",v),this._parserBytesLeft=v,this._parserCallback=l,this._parserState=h}function i(v,l,p){this._parserInit||t(this),C("write(%o bytes)",v.length),typeof l=="function"&&(p=l),c(this,v,null,p)}function s(v,l,p){this._parserInit||t(this),C("transform(%o bytes)",v.length),typeof l!="function"&&(l=this._parserOutput),c(this,v,l,p)}function o(v,l,p,S){return v._parserBytesLeft<=0?S(new Error("got data but not currently parsing anything")):l.length<=v._parserBytesLeft?function(){return m(v,l,p,S)}:function(){var M=l.slice(0,v._parserBytesLeft);return m(v,M,p,function(R){if(R)return S(R);if(l.length>M.length)return function(){return o(v,l.slice(M.length),p,S)}})}}function m(v,l,p,S){if(v._parserBytesLeft-=l.length,C("%o bytes left for stream piece",v._parserBytesLeft),v._parserState===L?(v._parserBuffers.push(l),v._parserBuffered+=l.length):v._parserState===h&&p(l),v._parserBytesLeft===0){var M=v._parserCallback;if(M&&v._parserState===L&&v._parserBuffers.length>1&&(l=Buffer.concat(v._parserBuffers,v._parserBuffered)),v._parserState!==L&&(l=null),v._parserCallback=null,v._parserBuffered=0,v._parserState=a,v._parserBuffers.splice(0),M){var R=[];l&&R.push(l),p&&R.push(p);var T=M.length>R.length;T&&R.push(b(S));var E=M.apply(v,R);if(!T||S===E)return S}}else return S}var c=b(o);function b(v){return function(){for(var l=v.apply(this,arguments);typeof l=="function";)l=l();return l}}},41633:function(W,V,e){var y=e(90386);V=W.exports=e(74469),V.log=L,V.formatArgs=a,V.save=x,V.load=h,V.useColors=C,V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function C(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}V.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function a(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+V.humanize(this.diff),!!r){var u="color: "+this.color;t.splice(1,0,u,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(s){s!=="%%"&&(n++,s==="%c"&&(i=n))}),t.splice(i,0,u)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function x(t){try{t==null?V.storage.removeItem("debug"):V.storage.debug=t}catch{}}function h(){var t;try{t=V.storage.debug}catch{}return!t&&typeof y<"u"&&"env"in y&&(t={}.DEBUG),t}V.enable(h());function d(){try{return window.localStorage}catch{}}},74469:function(W,V,e){V=W.exports=a.debug=a.default=a,V.coerce=d,V.disable=x,V.enable=L,V.enabled=h,V.humanize=e(11375),V.names=[],V.skips=[],V.formatters={};var y;function C(t){var r=0,u;for(u in t)r=(r<<5)-r+t.charCodeAt(u),r|=0;return V.colors[Math.abs(r)%V.colors.length]}function a(t){function r(){if(r.enabled){var u=r,n=+new Date,i=n-(y||n);u.diff=i,u.prev=y,u.curr=n,y=n;for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];s[0]=V.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var m=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(b,v){if(b==="%%")return b;m++;var l=V.formatters[v];if(typeof l=="function"){var p=s[m];b=l.call(u,p),s.splice(m,1),m--}return b}),V.formatArgs.call(u,s);var c=r.log||V.log||console.log.bind(console);c.apply(u,s)}}return r.namespace=t,r.enabled=V.enabled(t),r.useColors=V.useColors(),r.color=C(t),typeof V.init=="function"&&V.init(r),r}function L(t){V.save(t),V.names=[],V.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),u=r.length,n=0;n<u;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),t[0]==="-"?V.skips.push(new RegExp("^"+t.substr(1)+"$")):V.names.push(new RegExp("^"+t+"$")))}function x(){V.enable("")}function h(t){var r,u;for(r=0,u=V.skips.length;r<u;r++)if(V.skips[r].test(t))return!1;for(r=0,u=V.names.length;r<u;r++)if(V.names[r].test(t))return!0;return!1}function d(t){return t instanceof Error?t.stack||t.message:t}},11375:function(W){var V=1e3,e=V*60,y=e*60,C=y*24,a=C*365.25;W.exports=function(t,r){r=r||{};var u=typeof t;if(u==="string"&&t.length>0)return L(t);if(u==="number"&&isNaN(t)===!1)return r.long?h(t):x(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function L(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var u=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"days":case"day":case"d":return u*C;case"hours":case"hour":case"hrs":case"hr":case"h":return u*y;case"minutes":case"minute":case"mins":case"min":case"m":return u*e;case"seconds":case"second":case"secs":case"sec":case"s":return u*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function x(t){return t>=C?Math.round(t/C)+"d":t>=y?Math.round(t/y)+"h":t>=e?Math.round(t/e)+"m":t>=V?Math.round(t/V)+"s":t+"ms"}function h(t){return d(t,C,"day")||d(t,y,"hour")||d(t,e,"minute")||d(t,V,"second")||t+" ms"}function d(t,r,u){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+u:Math.ceil(t/r)+" "+u+"s"}},99011:function(W,V,e){var y=e(88641);W.exports=function(a,L,x){if(a==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");x?(typeof x=="string"||Array.isArray(x))&&(x={ignore:x}):x={},x.escape==null&&(x.escape=!0),x.ignore==null?x.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof x.ignore=="string"&&(x.ignore=[x.ignore]),x.ignore=x.ignore.map(function(s){return s.length===1&&(s=s+s),s}));var h=y.parse(a,{flat:!0,brackets:x.ignore}),d=h[0],t=d.split(L);if(x.escape){for(var r=[],u=0;u<t.length;u++){var n=t[u],i=t[u+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(r.push(n+L+i),u++):r.push(n)}t=r}for(var u=0;u<t.length;u++)h[0]=t[u],t[u]=y.stringify(h,{flat:!0});return t}},68664:function(W){W.exports=V;function V(e){for(var y=e.length,C=new Array(y),a=new Array(y),L=new Array(y),x=new Array(y),h=new Array(y),d=new Array(y),t=0;t<y;++t)C[t]=-1,a[t]=0,L[t]=!1,x[t]=0,h[t]=-1,d[t]=[];var r=0,u=[],n=[];function i(c){var b=[c],v=[c];for(C[c]=a[c]=r,L[c]=!0,r+=1;v.length>0;){c=v[v.length-1];var l=e[c];if(x[c]<l.length){for(var p=x[c];p<l.length;++p){var S=l[p];if(C[S]<0){C[S]=a[S]=r,L[S]=!0,r+=1,b.push(S),v.push(S);break}else L[S]&&(a[c]=Math.min(a[c],a[S])|0);h[S]>=0&&d[c].push(h[S])}x[c]=p}else{if(a[c]===C[c]){for(var M=[],R=[],T=0,p=b.length-1;p>=0;--p){var E=b[p];if(L[E]=!1,M.push(E),R.push(d[E]),T+=d[E].length,h[E]=u.length,E===c){b.length=p;break}}u.push(M);for(var A=new Array(T),p=0;p<R.length;p++)for(var f=0;f<R[p].length;f++)A[--T]=R[p][f];n.push(A)}v.pop()}}}for(var t=0;t<y;++t)C[t]<0&&i(t);for(var s,t=0;t<n.length;t++){var o=n[t];if(o.length!==0){o.sort(function(b,v){return b-v}),s=[o[0]];for(var m=1;m<o.length;m++)o[m]!==o[m-1]&&s.push(o[m]);n[t]=s}}return{components:u,adjacencyList:n}}},7095:function(W,V,e){e.r(V);var y=function(){function t(r,u){var n=[],i=!0,s=!1,o=void 0;try{for(var m=r[Symbol.iterator](),c;!(i=(c=m.next()).done)&&(n.push(c.value),!(u&&n.length===u));i=!0);}catch(b){s=!0,o=b}finally{try{!i&&m.return&&m.return()}finally{if(s)throw o}}return n}return function(r,u){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=Math.PI*2,a=function(r,u,n,i,s,o,m){var c=r.x,b=r.y;c*=u,b*=n;var v=i*c-s*b,l=s*c+i*b;return{x:v+o,y:l+m}},L=function(r,u){var n=u===1.5707963267948966?.551915024494:u===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(u/4),i=Math.cos(r),s=Math.sin(r),o=Math.cos(r+u),m=Math.sin(r+u);return[{x:i-s*n,y:s+i*n},{x:o+m*n,y:m-o*n},{x:o,y:m}]},x=function(r,u,n,i){var s=r*i-u*n<0?-1:1,o=r*n+u*i;return o>1&&(o=1),o<-1&&(o=-1),s*Math.acos(o)},h=function(r,u,n,i,s,o,m,c,b,v,l,p){var S=Math.pow(s,2),M=Math.pow(o,2),R=Math.pow(l,2),T=Math.pow(p,2),E=S*M-S*T-M*R;E<0&&(E=0),E/=S*T+M*R,E=Math.sqrt(E)*(m===c?-1:1);var A=E*s/o*p,f=E*-o/s*l,P=v*A-b*f+(r+n)/2,w=b*A+v*f+(u+i)/2,z=(l-A)/s,F=(p-f)/o,H=(-l-A)/s,_=(-p-f)/o,B=x(1,0,z,F),N=x(z,F,H,_);return c===0&&N>0&&(N-=C),c===1&&N<0&&(N+=C),[P,w,B,N]},d=function(r){var u=r.px,n=r.py,i=r.cx,s=r.cy,o=r.rx,m=r.ry,c=r.xAxisRotation,b=c===void 0?0:c,v=r.largeArcFlag,l=v===void 0?0:v,p=r.sweepFlag,S=p===void 0?0:p,M=[];if(o===0||m===0)return[];var R=Math.sin(b*C/360),T=Math.cos(b*C/360),E=T*(u-i)/2+R*(n-s)/2,A=-R*(u-i)/2+T*(n-s)/2;if(E===0&&A===0)return[];o=Math.abs(o),m=Math.abs(m);var f=Math.pow(E,2)/Math.pow(o,2)+Math.pow(A,2)/Math.pow(m,2);f>1&&(o*=Math.sqrt(f),m*=Math.sqrt(f));var P=h(u,n,i,s,o,m,l,S,R,T,E,A),w=y(P,4),z=w[0],F=w[1],H=w[2],_=w[3],B=Math.abs(_)/(C/4);Math.abs(1-B)<1e-7&&(B=1);var N=Math.max(Math.ceil(B),1);_/=N;for(var O=0;O<N;O++)M.push(L(H,_)),H+=_;return M.map(function(U){var K=a(U[0],o,m,T,R,z,F),re=K.x,ae=K.y,ue=a(U[1],o,m,T,R,z,F),ve=ue.x,ee=ue.y,J=a(U[2],o,m,T,R,z,F),Q=J.x,X=J.y;return{x1:re,y1:ae,x2:ve,y2:ee,x:Q,y:X}})};V.default=d},1750:function(W,V,e){var y=e(95616),C=e(65185),a=e(29988),L=e(89546),x=e(32791);W.exports=h;function h(d){if(Array.isArray(d)&&d.length===1&&typeof d[0]=="string"&&(d=d[0]),typeof d=="string"&&(x(L(d),"String is not an SVG path."),d=y(d)),x(Array.isArray(d),"Argument should be a string or an array of path segments."),d=C(d),d=a(d),!d.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,u=d.length;r<u;r++)for(var n=d[r].slice(1),i=0;i<n.length;i+=2)n[i+0]<t[0]&&(t[0]=n[i+0]),n[i+1]<t[1]&&(t[1]=n[i+1]),n[i+0]>t[2]&&(t[2]=n[i+0]),n[i+1]>t[3]&&(t[3]=n[i+1]);return t}},29988:function(W,V,e){W.exports=C;var y=e(7095);function C(x){for(var h,d=[],t=0,r=0,u=0,n=0,i=null,s=null,o=0,m=0,c=0,b=x.length;c<b;c++){var v=x[c],l=v[0];switch(l){case"M":u=v[1],n=v[2];break;case"A":var p=y({px:o,py:m,cx:v[6],cy:v[7],rx:v[1],ry:v[2],xAxisRotation:v[3],largeArcFlag:v[4],sweepFlag:v[5]});if(!p.length)continue;for(var S=0,M;S<p.length;S++)M=p[S],v=["C",M.x1,M.y1,M.x2,M.y2,M.x,M.y],S<p.length-1&&d.push(v);break;case"S":var R=o,T=m;(h=="C"||h=="S")&&(R+=R-t,T+=T-r),v=["C",R,T,v[1],v[2],v[3],v[4]];break;case"T":h=="Q"||h=="T"?(i=o*2-i,s=m*2-s):(i=o,s=m),v=L(o,m,i,s,v[1],v[2]);break;case"Q":i=v[1],s=v[2],v=L(o,m,v[1],v[2],v[3],v[4]);break;case"L":v=a(o,m,v[1],v[2]);break;case"H":v=a(o,m,v[1],m);break;case"V":v=a(o,m,o,v[1]);break;case"Z":v=a(o,m,u,n);break}h=l,o=v[v.length-2],m=v[v.length-1],v.length>4?(t=v[v.length-4],r=v[v.length-3]):(t=o,r=m),d.push(v)}return d}function a(x,h,d,t){return["C",x,h,d,t,d,t]}function L(x,h,d,t,r,u){return["C",x/3+.6666666666666666*d,h/3+.6666666666666666*t,r/3+.6666666666666666*d,u/3+.6666666666666666*t,r,u]}},82019:function(W,V,e){var y=e(1750),C=e(95616),a=e(31457),L=e(89546),x=e(44781),h=document.createElement("canvas"),d=h.getContext("2d");W.exports=t;function t(n,i){if(!L(n))throw Error("Argument should be valid svg path string");i||(i={});var s,o;i.shape?(s=i.shape[0],o=i.shape[1]):(s=h.width=i.w||i.width||200,o=h.height=i.h||i.height||200);var m=Math.min(s,o),c=i.stroke||0,b=i.viewbox||i.viewBox||y(n),v=[s/(b[2]-b[0]),o/(b[3]-b[1])],l=Math.min(v[0]||0,v[1]||0)/2;if(d.fillStyle="black",d.fillRect(0,0,s,o),d.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?d.strokeStyle="white":d.strokeStyle="black",d.lineWidth=Math.abs(c)),d.translate(s*.5,o*.5),d.scale(l,l),u()){var p=new Path2D(n);d.fill(p),c&&d.stroke(p)}else{var S=C(n);a(d,S),d.fill(),c&&d.stroke()}d.setTransform(1,0,0,1,0,0);var M=x(d,{cutoff:i.cutoff!=null?i.cutoff:.5,radius:i.radius!=null?i.radius:m*.5});return M}var r;function u(){if(r!=null)return r;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return r=!1;var i=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(i);var s=n.getImageData(0,0,1,1);return r=s&&s.data&&s.data[3]===255}},84267:function(W,V,e){var y;(function(C){var a=/^\s+/,L=/\s+$/,x=0,h=C.round,d=C.min,t=C.max,r=C.random;function u(Z,ie){if(Z=Z||"",ie=ie||{},Z instanceof u)return Z;if(!(this instanceof u))return new u(Z,ie);var te=n(Z);this._originalInput=Z,this._r=te.r,this._g=te.g,this._b=te.b,this._a=te.a,this._roundA=h(100*this._a)/100,this._format=ie.format||te.format,this._gradientType=ie.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=te.ok,this._tc_id=x++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Z=this.toRgb();return(Z.r*299+Z.g*587+Z.b*114)/1e3},getLuminance:function(){var Z=this.toRgb(),ie,te,fe,de,we,Ae;return ie=Z.r/255,te=Z.g/255,fe=Z.b/255,ie<=.03928?de=ie/12.92:de=C.pow((ie+.055)/1.055,2.4),te<=.03928?we=te/12.92:we=C.pow((te+.055)/1.055,2.4),fe<=.03928?Ae=fe/12.92:Ae=C.pow((fe+.055)/1.055,2.4),.2126*de+.7152*we+.0722*Ae},setAlpha:function(Z){return this._a=O(Z),this._roundA=h(100*this._a)/100,this},toHsv:function(){var Z=m(this._r,this._g,this._b);return{h:Z.h*360,s:Z.s,v:Z.v,a:this._a}},toHsvString:function(){var Z=m(this._r,this._g,this._b),ie=h(Z.h*360),te=h(Z.s*100),fe=h(Z.v*100);return this._a==1?"hsv("+ie+", "+te+"%, "+fe+"%)":"hsva("+ie+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var Z=s(this._r,this._g,this._b);return{h:Z.h*360,s:Z.s,l:Z.l,a:this._a}},toHslString:function(){var Z=s(this._r,this._g,this._b),ie=h(Z.h*360),te=h(Z.s*100),fe=h(Z.l*100);return this._a==1?"hsl("+ie+", "+te+"%, "+fe+"%)":"hsla("+ie+", "+te+"%, "+fe+"%, "+this._roundA+")"},toHex:function(Z){return b(this._r,this._g,this._b,Z)},toHexString:function(Z){return"#"+this.toHex(Z)},toHex8:function(Z){return v(this._r,this._g,this._b,this._a,Z)},toHex8String:function(Z){return"#"+this.toHex8(Z)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(U(this._r,255)*100)+"%",g:h(U(this._g,255)*100)+"%",b:h(U(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+h(U(this._r,255)*100)+"%, "+h(U(this._g,255)*100)+"%, "+h(U(this._b,255)*100)+"%)":"rgba("+h(U(this._r,255)*100)+"%, "+h(U(this._g,255)*100)+"%, "+h(U(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:B[b(this._r,this._g,this._b,!0)]||!1},toFilter:function(Z){var ie="#"+l(this._r,this._g,this._b,this._a),te=ie,fe=this._gradientType?"GradientType = 1, ":"";if(Z){var de=u(Z);te="#"+l(de._r,de._g,de._b,de._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+ie+",endColorstr="+te+")"},toString:function(Z){var ie=!!Z;Z=Z||this._format;var te=!1,fe=this._a<1&&this._a>=0,de=!ie&&fe&&(Z==="hex"||Z==="hex6"||Z==="hex3"||Z==="hex4"||Z==="hex8"||Z==="name");return de?Z==="name"&&this._a===0?this.toName():this.toRgbString():(Z==="rgb"&&(te=this.toRgbString()),Z==="prgb"&&(te=this.toPercentageRgbString()),(Z==="hex"||Z==="hex6")&&(te=this.toHexString()),Z==="hex3"&&(te=this.toHexString(!0)),Z==="hex4"&&(te=this.toHex8String(!0)),Z==="hex8"&&(te=this.toHex8String()),Z==="name"&&(te=this.toName()),Z==="hsl"&&(te=this.toHslString()),Z==="hsv"&&(te=this.toHsvString()),te||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(Z,ie){var te=Z.apply(null,[this].concat([].slice.call(ie)));return this._r=te._r,this._g=te._g,this._b=te._b,this.setAlpha(te._a),this},lighten:function(){return this._applyModification(R,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(Z,ie){return Z.apply(null,[this].concat([].slice.call(ie)))},analogous:function(){return this._applyCombination(F,arguments)},complement:function(){return this._applyCombination(f,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},u.fromRatio=function(Z,ie){if(typeof Z=="object"){var te={};for(var fe in Z)Z.hasOwnProperty(fe)&&(fe==="a"?te[fe]=Z[fe]:te[fe]=ee(Z[fe]));Z=te}return u(Z,ie)};function n(Z){var ie={r:0,g:0,b:0},te=1,fe=null,de=null,we=null,Ae=!1,Re=!1;return typeof Z=="string"&&(Z=se(Z)),typeof Z=="object"&&(q(Z.r)&&q(Z.g)&&q(Z.b)?(ie=i(Z.r,Z.g,Z.b),Ae=!0,Re=String(Z.r).substr(-1)==="%"?"prgb":"rgb"):q(Z.h)&&q(Z.s)&&q(Z.v)?(fe=ee(Z.s),de=ee(Z.v),ie=c(Z.h,fe,de),Ae=!0,Re="hsv"):q(Z.h)&&q(Z.s)&&q(Z.l)&&(fe=ee(Z.s),we=ee(Z.l),ie=o(Z.h,fe,we),Ae=!0,Re="hsl"),Z.hasOwnProperty("a")&&(te=Z.a)),te=O(te),{ok:Ae,format:Z.format||Re,r:d(255,t(ie.r,0)),g:d(255,t(ie.g,0)),b:d(255,t(ie.b,0)),a:te}}function i(Z,ie,te){return{r:U(Z,255)*255,g:U(ie,255)*255,b:U(te,255)*255}}function s(Z,ie,te){Z=U(Z,255),ie=U(ie,255),te=U(te,255);var fe=t(Z,ie,te),de=d(Z,ie,te),we,Ae,Re=(fe+de)/2;if(fe==de)we=Ae=0;else{var Fe=fe-de;switch(Ae=Re>.5?Fe/(2-fe-de):Fe/(fe+de),fe){case Z:we=(ie-te)/Fe+(ie<te?6:0);break;case ie:we=(te-Z)/Fe+2;break;case te:we=(Z-ie)/Fe+4;break}we/=6}return{h:we,s:Ae,l:Re}}function o(Z,ie,te){var fe,de,we;Z=U(Z,360),ie=U(ie,100),te=U(te,100);function Ae(Se,Te,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<.16666666666666666?Se+(Te-Se)*6*Ee:Ee<.5?Te:Ee<.6666666666666666?Se+(Te-Se)*(.6666666666666666-Ee)*6:Se}if(ie===0)fe=de=we=te;else{var Re=te<.5?te*(1+ie):te+ie-te*ie,Fe=2*te-Re;fe=Ae(Fe,Re,Z+.3333333333333333),de=Ae(Fe,Re,Z),we=Ae(Fe,Re,Z-.3333333333333333)}return{r:fe*255,g:de*255,b:we*255}}function m(Z,ie,te){Z=U(Z,255),ie=U(ie,255),te=U(te,255);var fe=t(Z,ie,te),de=d(Z,ie,te),we,Ae,Re=fe,Fe=fe-de;if(Ae=fe===0?0:Fe/fe,fe==de)we=0;else{switch(fe){case Z:we=(ie-te)/Fe+(ie<te?6:0);break;case ie:we=(te-Z)/Fe+2;break;case te:we=(Z-ie)/Fe+4;break}we/=6}return{h:we,s:Ae,v:Re}}function c(Z,ie,te){Z=U(Z,360)*6,ie=U(ie,100),te=U(te,100);var fe=C.floor(Z),de=Z-fe,we=te*(1-ie),Ae=te*(1-de*ie),Re=te*(1-(1-de)*ie),Fe=fe%6,Se=[te,Ae,we,we,Re,te][Fe],Te=[Re,te,te,Ae,we,we][Fe],Ee=[we,we,Re,te,te,Ae][Fe];return{r:Se*255,g:Te*255,b:Ee*255}}function b(Z,ie,te,fe){var de=[ve(h(Z).toString(16)),ve(h(ie).toString(16)),ve(h(te).toString(16))];return fe&&de[0].charAt(0)==de[0].charAt(1)&&de[1].charAt(0)==de[1].charAt(1)&&de[2].charAt(0)==de[2].charAt(1)?de[0].charAt(0)+de[1].charAt(0)+de[2].charAt(0):de.join("")}function v(Z,ie,te,fe,de){var we=[ve(h(Z).toString(16)),ve(h(ie).toString(16)),ve(h(te).toString(16)),ve(J(fe))];return de&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}function l(Z,ie,te,fe){var de=[ve(J(fe)),ve(h(Z).toString(16)),ve(h(ie).toString(16)),ve(h(te).toString(16))];return de.join("")}u.equals=function(Z,ie){return!Z||!ie?!1:u(Z).toRgbString()==u(ie).toRgbString()},u.random=function(){return u.fromRatio({r:r(),g:r(),b:r()})};function p(Z,ie){ie=ie===0?0:ie||10;var te=u(Z).toHsl();return te.s-=ie/100,te.s=K(te.s),u(te)}function S(Z,ie){ie=ie===0?0:ie||10;var te=u(Z).toHsl();return te.s+=ie/100,te.s=K(te.s),u(te)}function M(Z){return u(Z).desaturate(100)}function R(Z,ie){ie=ie===0?0:ie||10;var te=u(Z).toHsl();return te.l+=ie/100,te.l=K(te.l),u(te)}function T(Z,ie){ie=ie===0?0:ie||10;var te=u(Z).toRgb();return te.r=t(0,d(255,te.r-h(255*-(ie/100)))),te.g=t(0,d(255,te.g-h(255*-(ie/100)))),te.b=t(0,d(255,te.b-h(255*-(ie/100)))),u(te)}function E(Z,ie){ie=ie===0?0:ie||10;var te=u(Z).toHsl();return te.l-=ie/100,te.l=K(te.l),u(te)}function A(Z,ie){var te=u(Z).toHsl(),fe=(te.h+ie)%360;return te.h=fe<0?360+fe:fe,u(te)}function f(Z){var ie=u(Z).toHsl();return ie.h=(ie.h+180)%360,u(ie)}function P(Z){var ie=u(Z).toHsl(),te=ie.h;return[u(Z),u({h:(te+120)%360,s:ie.s,l:ie.l}),u({h:(te+240)%360,s:ie.s,l:ie.l})]}function w(Z){var ie=u(Z).toHsl(),te=ie.h;return[u(Z),u({h:(te+90)%360,s:ie.s,l:ie.l}),u({h:(te+180)%360,s:ie.s,l:ie.l}),u({h:(te+270)%360,s:ie.s,l:ie.l})]}function z(Z){var ie=u(Z).toHsl(),te=ie.h;return[u(Z),u({h:(te+72)%360,s:ie.s,l:ie.l}),u({h:(te+216)%360,s:ie.s,l:ie.l})]}function F(Z,ie,te){ie=ie||6,te=te||30;var fe=u(Z).toHsl(),de=360/te,we=[u(Z)];for(fe.h=(fe.h-(de*ie>>1)+720)%360;--ie;)fe.h=(fe.h+de)%360,we.push(u(fe));return we}function H(Z,ie){ie=ie||6;for(var te=u(Z).toHsv(),fe=te.h,de=te.s,we=te.v,Ae=[],Re=1/ie;ie--;)Ae.push(u({h:fe,s:de,v:we})),we=(we+Re)%1;return Ae}u.mix=function(Z,ie,te){te=te===0?0:te||50;var fe=u(Z).toRgb(),de=u(ie).toRgb(),we=te/100,Ae={r:(de.r-fe.r)*we+fe.r,g:(de.g-fe.g)*we+fe.g,b:(de.b-fe.b)*we+fe.b,a:(de.a-fe.a)*we+fe.a};return u(Ae)},u.readability=function(Z,ie){var te=u(Z),fe=u(ie);return(C.max(te.getLuminance(),fe.getLuminance())+.05)/(C.min(te.getLuminance(),fe.getLuminance())+.05)},u.isReadable=function(Z,ie,te){var fe=u.readability(Z,ie),de,we;switch(we=!1,de=Y(te),de.level+de.size){case"AAsmall":case"AAAlarge":we=fe>=4.5;break;case"AAlarge":we=fe>=3;break;case"AAAsmall":we=fe>=7;break}return we},u.mostReadable=function(Z,ie,te){var fe=null,de=0,we,Ae,Re,Fe;te=te||{},Ae=te.includeFallbackColors,Re=te.level,Fe=te.size;for(var Se=0;Se<ie.length;Se++)we=u.readability(Z,ie[Se]),we>de&&(de=we,fe=u(ie[Se]));return u.isReadable(Z,fe,{level:Re,size:Fe})||!Ae?fe:(te.includeFallbackColors=!1,u.mostReadable(Z,["#fff","#000"],te))};var _=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=u.hexNames=N(_);function N(Z){var ie={};for(var te in Z)Z.hasOwnProperty(te)&&(ie[Z[te]]=te);return ie}function O(Z){return Z=parseFloat(Z),(isNaN(Z)||Z<0||Z>1)&&(Z=1),Z}function U(Z,ie){ae(Z)&&(Z="100%");var te=ue(Z);return Z=d(ie,t(0,parseFloat(Z))),te&&(Z=parseInt(Z*ie,10)/100),C.abs(Z-ie)<1e-6?1:Z%ie/parseFloat(ie)}function K(Z){return d(1,t(0,Z))}function re(Z){return parseInt(Z,16)}function ae(Z){return typeof Z=="string"&&Z.indexOf(".")!=-1&&parseFloat(Z)===1}function ue(Z){return typeof Z=="string"&&Z.indexOf("%")!=-1}function ve(Z){return Z.length==1?"0"+Z:""+Z}function ee(Z){return Z<=1&&(Z=Z*100+"%"),Z}function J(Z){return C.round(parseFloat(Z)*255).toString(16)}function Q(Z){return re(Z)/255}var X=function(){var Z="[-\\+]?\\d+%?",ie="[-\\+]?\\d*\\.\\d+%?",te="(?:"+ie+")|(?:"+Z+")",fe="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?",de="[\\s|\\(]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")[,|\\s]+("+te+")\\s*\\)?";return{CSS_UNIT:new RegExp(te),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+de),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+de),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+de),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(Z){return!!X.CSS_UNIT.exec(Z)}function se(Z){Z=Z.replace(a,"").replace(L,"").toLowerCase();var ie=!1;if(_[Z])Z=_[Z],ie=!0;else if(Z=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var te;return(te=X.rgb.exec(Z))?{r:te[1],g:te[2],b:te[3]}:(te=X.rgba.exec(Z))?{r:te[1],g:te[2],b:te[3],a:te[4]}:(te=X.hsl.exec(Z))?{h:te[1],s:te[2],l:te[3]}:(te=X.hsla.exec(Z))?{h:te[1],s:te[2],l:te[3],a:te[4]}:(te=X.hsv.exec(Z))?{h:te[1],s:te[2],v:te[3]}:(te=X.hsva.exec(Z))?{h:te[1],s:te[2],v:te[3],a:te[4]}:(te=X.hex8.exec(Z))?{r:re(te[1]),g:re(te[2]),b:re(te[3]),a:Q(te[4]),format:ie?"name":"hex8"}:(te=X.hex6.exec(Z))?{r:re(te[1]),g:re(te[2]),b:re(te[3]),format:ie?"name":"hex"}:(te=X.hex4.exec(Z))?{r:re(te[1]+""+te[1]),g:re(te[2]+""+te[2]),b:re(te[3]+""+te[3]),a:Q(te[4]+""+te[4]),format:ie?"name":"hex8"}:(te=X.hex3.exec(Z))?{r:re(te[1]+""+te[1]),g:re(te[2]+""+te[2]),b:re(te[3]+""+te[3]),format:ie?"name":"hex"}:!1}function Y(Z){var ie,te;return Z=Z||{level:"AA",size:"small"},ie=(Z.level||"AA").toUpperCase(),te=(Z.size||"small").toLowerCase(),ie!=="AA"&&ie!=="AAA"&&(ie="AA"),te!=="small"&&te!=="large"&&(te="small"),{level:ie,size:te}}W.exports?W.exports=u:(y=(function(){return u}).call(V,e,V,W),y!==void 0&&(W.exports=y))})(Math)},57060:function(W){W.exports=y,W.exports.float32=W.exports.float=y,W.exports.fract32=W.exports.fract=e;var V=new Float32Array(1);function e(C,a){if(C.length){if(C instanceof Float32Array)return new Float32Array(C.length);a instanceof Float32Array||(a=y(C));for(var L=0,x=a.length;L<x;L++)a[L]=C[L]-a[L];return a}return y(C-y(C))}function y(C){return C.length?C instanceof Float32Array?C:new Float32Array(C):(V[0]=C,V[0])}},75686:function(W,V,e){var y=e(25677);W.exports=x;var C=96;function a(h,d){var t=y(getComputedStyle(h).getPropertyValue(d));return t[0]*x(t[1],h)}function L(h,d){var t=document.createElement("div");t.style["font-size"]="128"+h,d.appendChild(t);var r=a(t,"font-size")/128;return d.removeChild(t),r}function x(h,d){switch(d=d||document.body,h=(h||"px").trim().toLowerCase(),(d===window||d===document)&&(d=document.body),h){case"%":return d.clientHeight/100;case"ch":case"ex":return L(h,d);case"em":return a(d,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return C;case"cm":return C/2.54;case"mm":return C/25.4;case"pt":return C/72;case"pc":return C/6}return 1}},96892:function(W,V,e){e.d(V,{zL:function(){return L}});function y(d,t){for(var r,u=d.length,n=u-t;n<--u;)r=d[n],d[n++]=d[u],d[u]=r}function C(d){return d}function a(d){if(d==null)return C;var t,r,u=d.scale[0],n=d.scale[1],i=d.translate[0],s=d.translate[1];return function(o,m){m||(t=r=0);var c=2,b=o.length,v=new Array(b);for(v[0]=(t+=o[0])*u+i,v[1]=(r+=o[1])*n+s;c<b;)v[c]=o[c],++c;return v}}function L(d,t){return typeof t=="string"&&(t=d.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return x(d,r)})}:x(d,t)}function x(d,t){var r=t.id,u=t.bbox,n=t.properties==null?{}:t.properties,i=h(d,t);return r==null&&u==null?{type:"Feature",properties:n,geometry:i}:u==null?{type:"Feature",id:r,properties:n,geometry:i}:{type:"Feature",id:r,bbox:u,properties:n,geometry:i}}function h(d,t){var r=a(d.transform),u=d.arcs;function n(b,v){v.length&&v.pop();for(var l=u[b<0?~b:b],p=0,S=l.length;p<S;++p)v.push(r(l[p],p));b<0&&y(v,S)}function i(b){return r(b)}function s(b){for(var v=[],l=0,p=b.length;l<p;++l)n(b[l],v);return v.length<2&&v.push(v[0]),v}function o(b){for(var v=s(b);v.length<4;)v.push(v[0]);return v}function m(b){return b.map(o)}function c(b){var v=b.type,l;switch(v){case"GeometryCollection":return{type:v,geometries:b.geometries.map(c)};case"Point":l=i(b.coordinates);break;case"MultiPoint":l=b.coordinates.map(i);break;case"LineString":l=s(b.arcs);break;case"MultiLineString":l=b.arcs.map(s);break;case"Polygon":l=m(b.arcs);break;case"MultiPolygon":l=b.arcs.map(m);break;default:return null}return{type:v,coordinates:l}}return c(t)}},73116:function(W,V,e){var y=e(24511);W.exports=function(C){if(typeof C!="function"||!hasOwnProperty.call(C,"length"))return!1;try{if(typeof C.length!="number"||typeof C.call!="function"||typeof C.apply!="function")return!1}catch{return!1}return!y(C)}},69190:function(W,V,e){var y=e(24582),C=e(47403),a=e(9234),L=e(6048),x=function(h,d){return h.replace("%v",L(d))};W.exports=function(h,d,t){if(!C(t))throw new TypeError(x(d,h));if(!y(h)){if("default"in t)return t.default;if(t.isOptional)return null}var r=a(t.errorMessage);throw y(r)||(r=d),new TypeError(x(r,h))}},18497:function(W){W.exports=function(V){try{return V.toString()}catch{try{return String(V)}catch{return null}}}},6048:function(W,V,e){var y=e(18497),C=/[\n\r\u2028\u2029]/g;W.exports=function(a){var L=y(a);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+""),L=L.replace(C,function(x){switch(x){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},47403:function(W,V,e){var y=e(24582),C={object:!0,function:!0,undefined:!0};W.exports=function(a){return y(a)?hasOwnProperty.call(C,typeof a):!1}},82527:function(W,V,e){var y=e(69190),C=e(84985);W.exports=function(a){return C(a)?a:y(a,"%v is not a plain function",arguments[1])}},84985:function(W,V,e){var y=e(73116),C=/^\s*class[\s{/}]/,a=Function.prototype.toString;W.exports=function(L){return!(!y(L)||C.test(a.call(L)))}},24511:function(W,V,e){var y=e(47403);W.exports=function(C){if(!y(C))return!1;try{return C.constructor?C.constructor.prototype===C:!1}catch{return!1}}},9234:function(W,V,e){var y=e(24582),C=e(47403),a=Object.prototype.toString;W.exports=function(L){if(!y(L))return null;if(C(L)){var x=L.toString;if(typeof x!="function"||x===a)return null}try{return""+L}catch{return null}}},10424:function(W,V,e){var y=e(69190),C=e(24582);W.exports=function(a){return C(a)?a:y(a,"Cannot use %v",arguments[1])}},24582:function(W){var V=void 0;W.exports=function(e){return e!==V&&e!==null}},58404:function(W,V,e){var y=e(13547),C=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:C([32,0]),UINT16:C([32,0]),UINT32:C([32,0]),BIGUINT64:C([32,0]),INT8:C([32,0]),INT16:C([32,0]),INT32:C([32,0]),BIGINT64:C([32,0]),FLOAT:C([32,0]),DOUBLE:C([32,0]),DATA:C([32,0]),UINT8C:C([32,0]),BUFFER:C([32,0])});var L=typeof Uint8ClampedArray<"u",x=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",d=e.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=C([32,0])),d.BIGUINT64||(d.BIGUINT64=C([32,0])),d.BIGINT64||(d.BIGINT64=C([32,0])),d.BUFFER||(d.BUFFER=C([32,0]));var t=d.DATA,r=d.BUFFER;V.free=function(f){if(a.isBuffer(f))r[y.log2(f.length)].push(f);else{if(Object.prototype.toString.call(f)!=="[object ArrayBuffer]"&&(f=f.buffer),!f)return;var P=f.length||f.byteLength,w=y.log2(P)|0;t[w].push(f)}};function u(A){if(A){var f=A.length||A.byteLength,P=y.log2(f);t[P].push(A)}}function n(A){u(A.buffer)}V.freeUint8=V.freeUint16=V.freeUint32=V.freeBigUint64=V.freeInt8=V.freeInt16=V.freeInt32=V.freeBigInt64=V.freeFloat32=V.freeFloat=V.freeFloat64=V.freeDouble=V.freeUint8Clamped=V.freeDataView=n,V.freeArrayBuffer=u,V.freeBuffer=function(f){r[y.log2(f.length)].push(f)},V.malloc=function(f,P){if(P===void 0||P==="arraybuffer")return i(f);switch(P){case"uint8":return s(f);case"uint16":return o(f);case"uint32":return m(f);case"int8":return c(f);case"int16":return b(f);case"int32":return v(f);case"float":case"float32":return l(f);case"double":case"float64":return p(f);case"uint8_clamped":return S(f);case"bigint64":return R(f);case"biguint64":return M(f);case"buffer":return E(f);case"data":case"dataview":return T(f);default:return null}return null};function i(f){var f=y.nextPow2(f),P=y.log2(f),w=t[P];return w.length>0?w.pop():new ArrayBuffer(f)}V.mallocArrayBuffer=i;function s(A){return new Uint8Array(i(A),0,A)}V.mallocUint8=s;function o(A){return new Uint16Array(i(2*A),0,A)}V.mallocUint16=o;function m(A){return new Uint32Array(i(4*A),0,A)}V.mallocUint32=m;function c(A){return new Int8Array(i(A),0,A)}V.mallocInt8=c;function b(A){return new Int16Array(i(2*A),0,A)}V.mallocInt16=b;function v(A){return new Int32Array(i(4*A),0,A)}V.mallocInt32=v;function l(A){return new Float32Array(i(4*A),0,A)}V.mallocFloat32=V.mallocFloat=l;function p(A){return new Float64Array(i(8*A),0,A)}V.mallocFloat64=V.mallocDouble=p;function S(A){return L?new Uint8ClampedArray(i(A),0,A):s(A)}V.mallocUint8Clamped=S;function M(A){return x?new BigUint64Array(i(8*A),0,A):null}V.mallocBigUint64=M;function R(A){return h?new BigInt64Array(i(8*A),0,A):null}V.mallocBigInt64=R;function T(A){return new DataView(i(A),0,A)}V.mallocDataView=T;function E(A){A=y.nextPow2(A);var f=y.log2(A),P=r[f];return P.length>0?P.pop():new a(A)}V.mallocBuffer=E,V.clearCache=function(){for(var f=0;f<32;++f)d.UINT8[f].length=0,d.UINT16[f].length=0,d.UINT32[f].length=0,d.INT8[f].length=0,d.INT16[f].length=0,d.INT32[f].length=0,d.FLOAT[f].length=0,d.DOUBLE[f].length=0,d.BIGUINT64[f].length=0,d.BIGINT64[f].length=0,d.UINT8C[f].length=0,t[f].length=0,r[f].length=0}},90448:function(W){var V=/[\'\"]/;W.exports=function(y){return y?(V.test(y.charAt(0))&&(y=y.substr(1)),V.test(y.charAt(y.length-1))&&(y=y.substr(0,y.length-1)),y):""}},93447:function(W){W.exports=function(e,y,C){Array.isArray(C)||(C=[].slice.call(arguments,2));for(var a=0,L=C.length;a<L;a++){var x=C[a];for(var h in x)if(!(y[h]!==void 0&&!Array.isArray(y[h])&&e[h]===y[h])&&h in y){var d;if(x[h]===!0)d=y[h];else{if(x[h]===!1)continue;if(typeof x[h]=="function"&&(d=x[h](y[h],e,y),d===void 0))continue}e[h]=d}}return e}},20588:function(W,V,e){W.exports=y;function y(a,L){if(C("noDeprecation"))return a;var x=!1;function h(){if(!x){if(C("throwDeprecation"))throw new Error(L);C("traceDeprecation")?console.trace(L):console.warn(L),x=!0}return a.apply(this,arguments)}return h}function C(a){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[a];return L==null?!1:String(L).toLowerCase()==="true"}},45920:function(W){W.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(W,V,e){var y=e(47216),C=e(65481),a=e(21099),L=e(9187);function x(we){return we.call.bind(we)}var h=typeof BigInt<"u",d=typeof Symbol<"u",t=x(Object.prototype.toString),r=x(Number.prototype.valueOf),u=x(String.prototype.valueOf),n=x(Boolean.prototype.valueOf);if(h)var i=x(BigInt.prototype.valueOf);if(d)var s=x(Symbol.prototype.valueOf);function o(we,Ae){if(typeof we!="object")return!1;try{return Ae(we),!0}catch{return!1}}V.isArgumentsObject=y,V.isGeneratorFunction=C,V.isTypedArray=L;function m(we){return typeof Promise<"u"&&we instanceof Promise||we!==null&&typeof we=="object"&&typeof we.then=="function"&&typeof we.catch=="function"}V.isPromise=m;function c(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):L(we)||re(we)}V.isArrayBufferView=c;function b(we){return a(we)==="Uint8Array"}V.isUint8Array=b;function v(we){return a(we)==="Uint8ClampedArray"}V.isUint8ClampedArray=v;function l(we){return a(we)==="Uint16Array"}V.isUint16Array=l;function p(we){return a(we)==="Uint32Array"}V.isUint32Array=p;function S(we){return a(we)==="Int8Array"}V.isInt8Array=S;function M(we){return a(we)==="Int16Array"}V.isInt16Array=M;function R(we){return a(we)==="Int32Array"}V.isInt32Array=R;function T(we){return a(we)==="Float32Array"}V.isFloat32Array=T;function E(we){return a(we)==="Float64Array"}V.isFloat64Array=E;function A(we){return a(we)==="BigInt64Array"}V.isBigInt64Array=A;function f(we){return a(we)==="BigUint64Array"}V.isBigUint64Array=f;function P(we){return t(we)==="[object Map]"}P.working=typeof Map<"u"&&P(new Map);function w(we){return typeof Map>"u"?!1:P.working?P(we):we instanceof Map}V.isMap=w;function z(we){return t(we)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function F(we){return typeof Set>"u"?!1:z.working?z(we):we instanceof Set}V.isSet=F;function H(we){return t(we)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function _(we){return typeof WeakMap>"u"?!1:H.working?H(we):we instanceof WeakMap}V.isWeakMap=_;function B(we){return t(we)==="[object WeakSet]"}B.working=typeof WeakSet<"u"&&B(new WeakSet);function N(we){return B(we)}V.isWeakSet=N;function O(we){return t(we)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function U(we){return typeof ArrayBuffer>"u"?!1:O.working?O(we):we instanceof ArrayBuffer}V.isArrayBuffer=U;function K(we){return t(we)==="[object DataView]"}K.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&K(new DataView(new ArrayBuffer(1),0,1));function re(we){return typeof DataView>"u"?!1:K.working?K(we):we instanceof DataView}V.isDataView=re;var ae=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ue(we){return t(we)==="[object SharedArrayBuffer]"}function ve(we){return typeof ae>"u"?!1:(typeof ue.working>"u"&&(ue.working=ue(new ae)),ue.working?ue(we):we instanceof ae)}V.isSharedArrayBuffer=ve;function ee(we){return t(we)==="[object AsyncFunction]"}V.isAsyncFunction=ee;function J(we){return t(we)==="[object Map Iterator]"}V.isMapIterator=J;function Q(we){return t(we)==="[object Set Iterator]"}V.isSetIterator=Q;function X(we){return t(we)==="[object Generator]"}V.isGeneratorObject=X;function q(we){return t(we)==="[object WebAssembly.Module]"}V.isWebAssemblyCompiledModule=q;function se(we){return o(we,r)}V.isNumberObject=se;function Y(we){return o(we,u)}V.isStringObject=Y;function Z(we){return o(we,n)}V.isBooleanObject=Z;function ie(we){return h&&o(we,i)}V.isBigIntObject=ie;function te(we){return d&&o(we,s)}V.isSymbolObject=te;function fe(we){return se(we)||Y(we)||Z(we)||ie(we)||te(we)}V.isBoxedPrimitive=fe;function de(we){return typeof Uint8Array<"u"&&(U(we)||ve(we))}V.isAnyArrayBuffer=de,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(V,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})},43827:function(W,V,e){var y=e(90386),C=Object.getOwnPropertyDescriptors||function(ae){for(var ue=Object.keys(ae),ve={},ee=0;ee<ue.length;ee++)ve[ue[ee]]=Object.getOwnPropertyDescriptor(ae,ue[ee]);return ve},a=/%[sdj%]/g;V.format=function(re){if(!M(re)){for(var ae=[],ue=0;ue<arguments.length;ue++)ae.push(d(arguments[ue]));return ae.join(" ")}for(var ue=1,ve=arguments,ee=ve.length,J=String(re).replace(a,function(X){if(X==="%%")return"%";if(ue>=ee)return X;switch(X){case"%s":return String(ve[ue++]);case"%d":return Number(ve[ue++]);case"%j":try{return JSON.stringify(ve[ue++])}catch{return"[Circular]"}default:return X}}),Q=ve[ue];ue<ee;Q=ve[++ue])l(Q)||!A(Q)?J+=" "+Q:J+=" "+d(Q);return J},V.deprecate=function(re,ae){if(typeof y<"u"&&y.noDeprecation===!0)return re;if(typeof y>"u")return function(){return V.deprecate(re,ae).apply(this,arguments)};var ue=!1;function ve(){if(!ue){if(y.throwDeprecation)throw new Error(ae);y.traceDeprecation?console.trace(ae):console.error(ae),ue=!0}return re.apply(this,arguments)}return ve};var L={},x=/^$/;if({}.NODE_DEBUG){var h={}.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),x=new RegExp("^"+h+"$","i")}V.debuglog=function(re){if(re=re.toUpperCase(),!L[re])if(x.test(re)){var ae=y.pid;L[re]=function(){var ue=V.format.apply(V,arguments);console.error("%s %d: %s",re,ae,ue)}}else L[re]=function(){};return L[re]};function d(re,ae){var ue={seen:[],stylize:r};return arguments.length>=3&&(ue.depth=arguments[2]),arguments.length>=4&&(ue.colors=arguments[3]),v(ae)?ue.showHidden=ae:ae&&V._extend(ue,ae),T(ue.showHidden)&&(ue.showHidden=!1),T(ue.depth)&&(ue.depth=2),T(ue.colors)&&(ue.colors=!1),T(ue.customInspect)&&(ue.customInspect=!0),ue.colors&&(ue.stylize=t),n(ue,re,ue.depth)}V.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(re,ae){var ue=d.styles[ae];return ue?"\x1B["+d.colors[ue][0]+"m"+re+"\x1B["+d.colors[ue][1]+"m":re}function r(re,ae){return re}function u(re){var ae={};return re.forEach(function(ue,ve){ae[ue]=!0}),ae}function n(re,ae,ue){if(re.customInspect&&ae&&w(ae.inspect)&&ae.inspect!==V.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var ve=ae.inspect(ue,re);return M(ve)||(ve=n(re,ve,ue)),ve}var ee=i(re,ae);if(ee)return ee;var J=Object.keys(ae),Q=u(J);if(re.showHidden&&(J=Object.getOwnPropertyNames(ae)),P(ae)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return s(ae);if(J.length===0){if(w(ae)){var X=ae.name?": "+ae.name:"";return re.stylize("[Function"+X+"]","special")}if(E(ae))return re.stylize(RegExp.prototype.toString.call(ae),"regexp");if(f(ae))return re.stylize(Date.prototype.toString.call(ae),"date");if(P(ae))return s(ae)}var q="",se=!1,Y=["{","}"];if(b(ae)&&(se=!0,Y=["[","]"]),w(ae)){var Z=ae.name?": "+ae.name:"";q=" [Function"+Z+"]"}if(E(ae)&&(q=" "+RegExp.prototype.toString.call(ae)),f(ae)&&(q=" "+Date.prototype.toUTCString.call(ae)),P(ae)&&(q=" "+s(ae)),J.length===0&&(!se||ae.length==0))return Y[0]+q+Y[1];if(ue<0)return E(ae)?re.stylize(RegExp.prototype.toString.call(ae),"regexp"):re.stylize("[Object]","special");re.seen.push(ae);var ie;return se?ie=o(re,ae,ue,Q,J):ie=J.map(function(te){return m(re,ae,ue,Q,te,se)}),re.seen.pop(),c(ie,q,Y)}function i(re,ae){if(T(ae))return re.stylize("undefined","undefined");if(M(ae)){var ue="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return re.stylize(ue,"string")}if(S(ae))return re.stylize(""+ae,"number");if(v(ae))return re.stylize(""+ae,"boolean");if(l(ae))return re.stylize("null","null")}function s(re){return"["+Error.prototype.toString.call(re)+"]"}function o(re,ae,ue,ve,ee){for(var J=[],Q=0,X=ae.length;Q<X;++Q)N(ae,String(Q))?J.push(m(re,ae,ue,ve,String(Q),!0)):J.push("");return ee.forEach(function(q){q.match(/^\d+$/)||J.push(m(re,ae,ue,ve,q,!0))}),J}function m(re,ae,ue,ve,ee,J){var Q,X,q;if(q=Object.getOwnPropertyDescriptor(ae,ee)||{value:ae[ee]},q.get?q.set?X=re.stylize("[Getter/Setter]","special"):X=re.stylize("[Getter]","special"):q.set&&(X=re.stylize("[Setter]","special")),N(ve,ee)||(Q="["+ee+"]"),X||(re.seen.indexOf(q.value)<0?(l(ue)?X=n(re,q.value,null):X=n(re,q.value,ue-1),X.indexOf(`
`)>-1&&(J?X=X.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(se){return"   "+se}).join(`
`))):X=re.stylize("[Circular]","special")),T(Q)){if(J&&ee.match(/^\d+$/))return X;Q=JSON.stringify(""+ee),Q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Q=Q.slice(1,-1),Q=re.stylize(Q,"name")):(Q=Q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Q=re.stylize(Q,"string"))}return Q+": "+X}function c(re,ae,ue){var ve=re.reduce(function(ee,J){return J.indexOf(`
`)>=0,ee+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?ue[0]+(ae===""?"":ae+`
 `)+" "+re.join(`,
  `)+" "+ue[1]:ue[0]+ae+" "+re.join(", ")+" "+ue[1]}V.types=e(4936);function b(re){return Array.isArray(re)}V.isArray=b;function v(re){return typeof re=="boolean"}V.isBoolean=v;function l(re){return re===null}V.isNull=l;function p(re){return re==null}V.isNullOrUndefined=p;function S(re){return typeof re=="number"}V.isNumber=S;function M(re){return typeof re=="string"}V.isString=M;function R(re){return typeof re=="symbol"}V.isSymbol=R;function T(re){return re===void 0}V.isUndefined=T;function E(re){return A(re)&&F(re)==="[object RegExp]"}V.isRegExp=E,V.types.isRegExp=E;function A(re){return typeof re=="object"&&re!==null}V.isObject=A;function f(re){return A(re)&&F(re)==="[object Date]"}V.isDate=f,V.types.isDate=f;function P(re){return A(re)&&(F(re)==="[object Error]"||re instanceof Error)}V.isError=P,V.types.isNativeError=P;function w(re){return typeof re=="function"}V.isFunction=w;function z(re){return re===null||typeof re=="boolean"||typeof re=="number"||typeof re=="string"||typeof re=="symbol"||typeof re>"u"}V.isPrimitive=z,V.isBuffer=e(45920);function F(re){return Object.prototype.toString.call(re)}function H(re){return re<10?"0"+re.toString(10):re.toString(10)}var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var re=new Date,ae=[H(re.getHours()),H(re.getMinutes()),H(re.getSeconds())].join(":");return[re.getDate(),_[re.getMonth()],ae].join(" ")}V.log=function(){console.log("%s - %s",B(),V.format.apply(V,arguments))},V.inherits=e(42018),V._extend=function(re,ae){if(!ae||!A(ae))return re;for(var ue=Object.keys(ae),ve=ue.length;ve--;)re[ue[ve]]=ae[ue[ve]];return re};function N(re,ae){return Object.prototype.hasOwnProperty.call(re,ae)}var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&ae[O]){var ue=ae[O];if(typeof ue!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ue,O,{value:ue,enumerable:!1,writable:!1,configurable:!0}),ue}function ue(){for(var ve,ee,J=new Promise(function(q,se){ve=q,ee=se}),Q=[],X=0;X<arguments.length;X++)Q.push(arguments[X]);Q.push(function(q,se){q?ee(q):ve(se)});try{ae.apply(this,Q)}catch(q){ee(q)}return J}return Object.setPrototypeOf(ue,Object.getPrototypeOf(ae)),O&&Object.defineProperty(ue,O,{value:ue,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ue,C(ae))},V.promisify.custom=O;function U(re,ae){if(!re){var ue=new Error("Promise was rejected with a falsy value");ue.reason=re,re=ue}return ae(re)}function K(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var ue=[],ve=0;ve<arguments.length;ve++)ue.push(arguments[ve]);var ee=ue.pop();if(typeof ee!="function")throw new TypeError("The last argument must be of type Function");var J=this,Q=function(){return ee.apply(J,arguments)};re.apply(this,ue).then(function(X){y.nextTick(Q.bind(null,null,X))},function(X){y.nextTick(U.bind(null,X,Q))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf(re)),Object.defineProperties(ae,C(re)),ae}V.callbackify=K},40372:function(W,V,e){var y=e(86249);W.exports=function(a){return y("webgl",a)}},21099:function(W,V,e){var y=e(31353),C=e(72077),a=e(6614),L=e(40383),x=a("Object.prototype.toString"),h=e(84543)(),d=typeof globalThis>"u"?e.g:globalThis,t=C(),r=a("String.prototype.slice"),u={},n=Object.getPrototypeOf;h&&L&&n&&y(t,function(o){if(typeof d[o]=="function"){var m=new d[o];if(Symbol.toStringTag in m){var c=n(m),b=L(c,Symbol.toStringTag);if(!b){var v=n(c);b=L(v,Symbol.toStringTag)}u[o]=b.get}}});var i=function(m){var c=!1;return y(u,function(b,v){if(!c)try{var l=b.call(m);l===v&&(c=l)}catch{}}),c},s=e(9187);W.exports=function(m){return s(m)?!h||!(Symbol.toStringTag in m)?r(x(m),8,-1):i(m):!1}},3961:function(W,V,e){var y=e(63489),C=e(56131),a=y.instance();function L(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,C(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(s,o){if(typeof s=="string"){var m=s.match(h);return m?m[0]:""}var c=this._validateYear(s),b=s.month(),v=""+this.toChineseMonth(c,b);return o&&v.length<2&&(v="0"+v),this.isIntercalaryMonth(c,b)&&(v+="i"),v},monthNames:function(s){if(typeof s=="string"){var o=s.match(d);return o?o[0]:""}var m=this._validateYear(s),c=s.month(),b=this.toChineseMonth(m,c),v=["","","","","","","","","","","",""][b-1];return this.isIntercalaryMonth(m,c)&&(v=""+v),v},monthNamesShort:function(s){if(typeof s=="string"){var o=s.match(t);return o?o[0]:""}var m=this._validateYear(s),c=s.month(),b=this.toChineseMonth(m,c),v=["","","","","","","","","","","",""][b-1];return this.isIntercalaryMonth(m,c)&&(v=""+v),v},parseMonth:function(s,o){s=this._validateYear(s);var m=parseInt(o),c;if(isNaN(m))o[0]===""&&(c=!0,o=o.substring(1)),o[o.length-1]===""&&(o=o.substring(0,o.length-1)),m=1+["","","","","","","","","","","",""].indexOf(o);else{var b=o[o.length-1];c=b==="i"||b==="I"}var v=this.toMonthIndex(s,m,c);return v},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(s,o){if(s.year&&(s=s.year()),typeof s!="number"||s<1888||s>2111)throw o.replace(/\{0\}/,this.local.name);return s},toMonthIndex:function(s,o,m){var c=this.intercalaryMonth(s),b=m&&o!==c;if(b||o<1||o>12)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var v;return c?!m&&o<=c?v=o-1:v=o:v=o-1,v},toChineseMonth:function(s,o){s.year&&(s=s.year(),o=s.month());var m=this.intercalaryMonth(s),c=m?12:11;if(o<0||o>c)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var b;return m?o<m?b=o+1:b=o:b=o+1,b},intercalaryMonth:function(s){s=this._validateYear(s);var o=r[s-r[0]],m=o>>13;return m},isIntercalaryMonth:function(s,o){s.year&&(s=s.year(),o=s.month());var m=this.intercalaryMonth(s);return!!m&&m===o},leapYear:function(s){return this.intercalaryMonth(s)!==0},weekOfYear:function(s,o,m){var c=this._validateYear(s,y.local.invalidyear),b=u[c-u[0]],v=b>>9&4095,l=b>>5&15,p=b&31,S;S=a.newDate(v,l,p),S.add(4-(S.dayOfWeek()||7),"d");var M=this.toJD(s,o,m)-S.toJD();return 1+Math.floor(M/7)},monthsInYear:function(s){return this.leapYear(s)?13:12},daysInMonth:function(s,o){s.year&&(o=s.month(),s=s.year()),s=this._validateYear(s);var m=r[s-r[0]],c=m>>13,b=c?12:11;if(o>b)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var v=m&1<<12-o?30:29;return v},weekDay:function(s,o,m){return(this.dayOfWeek(s,o,m)||7)<6},toJD:function(s,o,m){var c=this._validate(s,v,m,y.local.invalidDate);s=this._validateYear(c.year()),o=c.month(),m=c.day();var b=this.isIntercalaryMonth(s,o),v=this.toChineseMonth(s,o),l=i(s,v,m,b);return a.toJD(l.year,l.month,l.day)},fromJD:function(s){var o=a.fromJD(s),m=n(o.year(),o.month(),o.day()),c=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,c,m.day)},fromString:function(s){var o=s.match(x),m=this._validateYear(+o[1]),c=+o[2],b=!!o[3],v=this.toMonthIndex(m,c,b),l=+o[4];return this.newDate(m,v,l)},add:function(s,o,m){var c=s.year(),b=s.month(),v=this.isIntercalaryMonth(c,b),l=this.toChineseMonth(c,b),p=Object.getPrototypeOf(L.prototype).add.call(this,s,o,m);if(m==="y"){var S=p.year(),M=p.month(),R=this.isIntercalaryMonth(S,l),T=v&&R?this.toMonthIndex(S,l,!0):this.toMonthIndex(S,l,!1);T!==M&&p.month(T)}return p}});var x=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,h=/^\d?\d[iI]?/m,d=/^??[]?/m,t=/^??[]?/m;y.calendars.chinese=L;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],u=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(s,o,m,c){var b,v;if(typeof s=="object")b=s,v=o||{};else{var l=typeof s=="number"&&s>=1888&&s<=2111;if(!l)throw new Error("Solar year outside range 1888-2111");var p=typeof o=="number"&&o>=1&&o<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var S=typeof m=="number"&&m>=1&&m<=31;if(!S)throw new Error("Solar day outside range 1 - 31");b={year:s,month:o,day:m},v=c||{}}var M=u[b.year-u[0]],R=b.year<<9|b.month<<5|b.day;v.year=R>=M?b.year:b.year-1,M=u[v.year-u[0]];var T=M>>9&4095,E=M>>5&15,A=M&31,f,P=new Date(T,E-1,A),w=new Date(b.year,b.month-1,b.day);f=Math.round((w-P)/864e5);var z=r[v.year-r[0]],F;for(F=0;F<13;F++){var H=z&1<<12-F?30:29;if(f<H)break;f-=H}var _=z>>13;return!_||F<_?(v.isIntercalary=!1,v.month=1+F):F===_?(v.isIntercalary=!0,v.month=F):(v.isIntercalary=!1,v.month=F),v.day=1+f,v}function i(s,o,m,c,b){var v,l;if(typeof s=="object")l=s,v=o||{};else{var p=typeof s=="number"&&s>=1888&&s<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var S=typeof o=="number"&&o>=1&&o<=12;if(!S)throw new Error("Lunar month outside range 1 - 12");var M=typeof m=="number"&&m>=1&&m<=30;if(!M)throw new Error("Lunar day outside range 1 - 30");var R;typeof c=="object"?(R=!1,v=c):(R=!!c,v=b||{}),l={year:s,month:o,day:m,isIntercalary:R}}var T;T=l.day-1;var E=r[l.year-r[0]],A=E>>13,f;A&&(l.month>A||l.isIntercalary)?f=l.month:f=l.month-1;for(var P=0;P<f;P++){var w=E&1<<12-P?30:29;T+=w}var z=u[l.year-u[0]],F=z>>9&4095,H=z>>5&15,_=z&31,B=new Date(F,H-1,_+T);return v.year=B.getFullYear(),v.month=1+B.getMonth(),v.day=B.getDate(),v}},38751:function(W,V,e){var y=e(63489),C=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var x=this._validate(h,this.minMonth,this.minDay,y.local.invalidYear),h=x.year()+(x.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(L,x,h){var d=this.newDate(L,x,h);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,x){var h=this._validate(L,x,this.minDay,y.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(L,x,h){return(this.dayOfWeek(L,x,h)||7)<6},toJD:function(L,x,h){var d=this._validate(L,x,h,y.local.invalidDate);return L=d.year(),L<0&&L++,d.day()+(d.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var x=Math.floor(L)+.5-this.jdEpoch,h=Math.floor((x-Math.floor((x+366)/1461))/365)+1;h<=0&&h--,x=Math.floor(L)+.5-this.newDate(h,1,1).toJD();var d=Math.floor(x/30)+1,t=x-(d-1)*30+1;return this.newDate(h,d,t)}}),y.calendars.coptic=a},86825:function(W,V,e){var y=e(63489),C=e(56131);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(x){return this._validate(x,this.minMonth,this.minDay,y.local.invalidYear),!1},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,y.local.invalidYear),13},daysInYear:function(x){return this._validate(x,this.minMonth,this.minDay,y.local.invalidYear),400},weekOfYear:function(x,h,d){var t=this.newDate(x,h,d);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(x,h){var d=this._validate(x,h,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(x,h,d){var t=this._validate(x,h,d,y.local.invalidDate);return(t.day()+1)%8},weekDay:function(x,h,d){var t=this.dayOfWeek(x,h,d);return t>=2&&t<=6},extraInfo:function(x,h,d){var t=this._validate(x,h,d,y.local.invalidDate);return{century:L[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(x,h,d){var t=this._validate(x,h,d,y.local.invalidDate);return x=t.year()+(t.year()<0?1:0),h=t.month(),d=t.day(),d+(h>1?16:0)+(h>2?(h-2)*32:0)+(x-1)*400+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x+.5)-Math.floor(this.jdEpoch)-1;var h=Math.floor(x/400)+1;x-=(h-1)*400,x+=x>15?16:0;var d=Math.floor(x/32)+1,t=x-(d-1)*32+1;return this.newDate(h<=0?h-1:h,d,t)}});var L={20:"Fruitbat",21:"Anchovy"};y.calendars.discworld=a},37715:function(W,V,e){var y=e(63489),C=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var x=this._validate(h,this.minMonth,this.minDay,y.local.invalidYear),h=x.year()+(x.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(L,x,h){var d=this.newDate(L,x,h);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,x){var h=this._validate(L,x,this.minDay,y.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(L,x,h){return(this.dayOfWeek(L,x,h)||7)<6},toJD:function(L,x,h){var d=this._validate(L,x,h,y.local.invalidDate);return L=d.year(),L<0&&L++,d.day()+(d.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var x=Math.floor(L)+.5-this.jdEpoch,h=Math.floor((x-Math.floor((x+366)/1461))/365)+1;h<=0&&h--,x=Math.floor(L)+.5-this.newDate(h,1,1).toJD();var d=Math.floor(x/30)+1,t=x-(d-1)*30+1;return this.newDate(h,d,t)}}),y.calendars.ethiopian=a},99384:function(W,V,e){var y=e(63489),C=e(56131);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var h=this._validate(x,this.minMonth,this.minDay,y.local.invalidYear);return this._leapYear(h.year())},_leapYear:function(x){return x=x<0?x+1:x,L(x*7+1,19)<7},monthsInYear:function(x){return this._validate(x,this.minMonth,this.minDay,y.local.invalidYear),this._leapYear(x.year?x.year():x)?13:12},weekOfYear:function(x,h,d){var t=this.newDate(x,h,d);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(x){var h=this._validate(x,this.minMonth,this.minDay,y.local.invalidYear);return x=h.year(),this.toJD(x===-1?1:x+1,7,1)-this.toJD(x,7,1)},daysInMonth:function(x,h){return x.year&&(h=x.month(),x=x.year()),this._validate(x,h,this.minDay,y.local.invalidMonth),h===12&&this.leapYear(x)||h===8&&L(this.daysInYear(x),10)===5?30:h===9&&L(this.daysInYear(x),10)===3?29:this.daysPerMonth[h-1]},weekDay:function(x,h,d){return this.dayOfWeek(x,h,d)!==6},extraInfo:function(x,h,d){var t=this._validate(x,h,d,y.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(x,h,d){var t=this._validate(x,h,d,y.local.invalidDate);x=t.year(),h=t.month(),d=t.day();var r=x<=0?x+1:x,u=this.jdEpoch+this._delay1(r)+this._delay2(r)+d+1;if(h<7){for(var n=7;n<=this.monthsInYear(x);n++)u+=this.daysInMonth(x,n);for(var n=1;n<h;n++)u+=this.daysInMonth(x,n)}else for(var n=7;n<h;n++)u+=this.daysInMonth(x,n);return u},_delay1:function(x){var h=Math.floor((235*x-234)/19),d=12084+13753*h,t=h*29+Math.floor(d/25920);return L(3*(t+1),7)<3&&t++,t},_delay2:function(x){var h=this._delay1(x-1),d=this._delay1(x),t=this._delay1(x+1);return t-d===356?2:d-h===382?1:0},fromJD:function(x){x=Math.floor(x)+.5;for(var h=Math.floor((x-this.jdEpoch)*98496/35975351)-1;x>=this.toJD(h===-1?1:h+1,7,1);)h++;for(var d=x<this.toJD(h,1,1)?7:1;x>this.toJD(h,d,this.daysInMonth(h,d));)d++;var t=x-this.toJD(h,d,1)+1;return this.newDate(h,d,t)}});function L(x,h){return x-h*Math.floor(x/h)}y.calendars.hebrew=a},43805:function(W,V,e){var y=e(63489),C=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var x=this._validate(L,this.minMonth,this.minDay,y.local.invalidYear);return(x.year()*11+14)%30<11},weekOfYear:function(L,x,h){var d=this.newDate(L,x,h);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,x){var h=this._validate(L,x,this.minDay,y.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(L,x,h){return this.dayOfWeek(L,x,h)!==5},toJD:function(L,x,h){var d=this._validate(L,x,h,y.local.invalidDate);return L=d.year(),x=d.month(),h=d.day(),L=L<=0?L+1:L,h+Math.ceil(29.5*(x-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var x=Math.floor((30*(L-this.jdEpoch)+10646)/10631);x=x<=0?x-1:x;var h=Math.min(12,Math.ceil((L-29-this.toJD(x,1,1))/29.5)+1),d=L-this.toJD(x,h,1)+1;return this.newDate(x,h,d)}}),y.calendars.islamic=a},88874:function(W,V,e){var y=e(63489),C=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var x=this._validate(h,this.minMonth,this.minDay,y.local.invalidYear),h=x.year()<0?x.year()+1:x.year();return h%4===0},weekOfYear:function(L,x,h){var d=this.newDate(L,x,h);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(L,x){var h=this._validate(L,x,this.minDay,y.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(L,x,h){return(this.dayOfWeek(L,x,h)||7)<6},toJD:function(L,x,h){var d=this._validate(L,x,h,y.local.invalidDate);return L=d.year(),x=d.month(),h=d.day(),L<0&&L++,x<=2&&(L--,x+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(x+1))+h-1524.5},fromJD:function(L){var x=Math.floor(L+.5),h=x+1524,d=Math.floor((h-122.1)/365.25),t=Math.floor(365.25*d),r=Math.floor((h-t)/30.6001),u=r-Math.floor(r<14?1:13),n=d-Math.floor(u>2?4716:4715),i=h-t-Math.floor(30.6001*r);return n<=0&&n--,this.newDate(n,u,i)}}),y.calendars.julian=a},83290:function(W,V,e){var y=e(63489),C=e(56131);function a(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,y.local.invalidYear),!1},formatYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,y.local.invalidYear);h=d.year();var t=Math.floor(h/400);h=h%400,h+=h<0?400:0;var r=Math.floor(h/20);return t+"."+r+"."+h%20},forYear:function(h){if(h=h.split("."),h.length<3)throw"Invalid Mayan year";for(var d=0,t=0;t<h.length;t++){var r=parseInt(h[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";d=d*20+r}return d},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,y.local.invalidYear),18},weekOfYear:function(h,d,t){return this._validate(h,d,t,y.local.invalidDate),0},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,y.local.invalidYear),360},daysInMonth:function(h,d){return this._validate(h,d,this.minDay,y.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(h,d,t){var r=this._validate(h,d,t,y.local.invalidDate);return r.day()},weekDay:function(h,d,t){return this._validate(h,d,t,y.local.invalidDate),!0},extraInfo:function(h,d,t){var r=this._validate(h,d,t,y.local.invalidDate),u=r.toJD(),n=this._toHaab(u),i=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(h){h-=this.jdEpoch;var d=L(h+8+(18-1)*20,365);return[Math.floor(d/20)+1,L(d,20)]},_toTzolkin:function(h){return h-=this.jdEpoch,[x(h+20,20),x(h+4,13)]},toJD:function(h,d,t){var r=this._validate(h,d,t,y.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(h){h=Math.floor(h)+.5-this.jdEpoch;var d=Math.floor(h/360);h=h%360,h+=h<0?360:0;var t=Math.floor(h/20),r=h%20;return this.newDate(d,t,r)}});function L(h,d){return h-d*Math.floor(h/d)}function x(h,d){return L(h-1,d)+1}y.calendars.mayan=a},29108:function(W,V,e){var y=e(63489),C=e(56131);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar;var L=y.instance("gregorian");C(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var h=this._validate(x,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return L.leapYear(h.year()+(h.year()<1?1:0)+1469)},weekOfYear:function(x,h,d){var t=this.newDate(x,h,d);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(x,h){var d=this._validate(x,h,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(x,h,d){return(this.dayOfWeek(x,h,d)||7)<6},toJD:function(r,h,d){var t=this._validate(r,h,d,y.local.invalidMonth),r=t.year();r<0&&r++;for(var u=t.day(),n=1;n<t.month();n++)u+=this.daysPerMonth[n-1];return u+L.toJD(r+1468,3,13)},fromJD:function(x){x=Math.floor(x+.5);for(var h=Math.floor((x-(this.jdEpoch-1))/366);x>=this.toJD(h+1,1,1);)h++;for(var d=x-Math.floor(this.toJD(h,1,1)+.5)+1,t=1;d>this.daysInMonth(h,t);)d-=this.daysInMonth(h,t),t++;return this.newDate(h,t,d)}}),y.calendars.nanakshahi=a},55422:function(W,V,e){var y=e(63489),C=e(56131);function a(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,x,h){var d=this.newDate(L,x,h);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(L){var x=this._validate(L,this.minMonth,this.minDay,y.local.invalidYear);if(L=x.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var h=0,d=this.minMonth;d<=12;d++)h+=this.NEPALI_CALENDAR_DATA[L][d];return h},daysInMonth:function(L,x){return L.year&&(x=L.month(),L=L.year()),this._validate(L,x,this.minDay,y.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[x-1]:this.NEPALI_CALENDAR_DATA[L][x]},weekDay:function(L,x,h){return this.dayOfWeek(L,x,h)!==6},toJD:function(L,x,h){var d=this._validate(L,x,h,y.local.invalidDate);L=d.year(),x=d.month(),h=d.day();var t=y.instance(),r=0,u=x,n=L;this._createMissingCalendarData(L);var i=L-(u>9||u===9&&h>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(x!==9&&(r=h,u--);u!==9;)u<=0&&(u=12,n--),r+=this.NEPALI_CALENDAR_DATA[n][u],u--;return x===9?(r+=h-this.NEPALI_CALENDAR_DATA[n][0],r<0&&(r+=t.daysInYear(i))):r+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(i,1,1).add(r,"d").toJD()},fromJD:function(L){var x=y.instance(),h=x.fromJD(L),d=h.year(),t=h.dayOfYear(),r=d+56;this._createMissingCalendarData(r);for(var u=9,n=this.NEPALI_CALENDAR_DATA[r][0],i=this.NEPALI_CALENDAR_DATA[r][u]-n+1;t>i;)u++,u>12&&(u=1,r++),i+=this.NEPALI_CALENDAR_DATA[r][u];var s=this.NEPALI_CALENDAR_DATA[r][u]-(i-t);return this.newDate(r,u,s)},_createMissingCalendarData:function(L){var x=this.daysPerMonth.slice(0);x.unshift(17);for(var h=L-1;h<L+2;h++)typeof this.NEPALI_CALENDAR_DATA[h]>"u"&&(this.NEPALI_CALENDAR_DATA[h]=x)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),y.calendars.nepali=a},94320:function(W,V,e){var y=e(63489),C=e(56131);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(x){var h=this._validate(x,this.minMonth,this.minDay,y.local.invalidYear);return((h.year()-(h.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(x,h,d){var t=this.newDate(x,h,d);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(x,h){var d=this._validate(x,h,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(x,h,d){return this.dayOfWeek(x,h,d)!==5},toJD:function(x,h,d){var t=this._validate(x,h,d,y.local.invalidDate);x=t.year(),h=t.month(),d=t.day();var r=x-(x>=0?474:473),u=474+L(r,2820);return d+(h<=7?(h-1)*31:(h-1)*30+6)+Math.floor((u*682-110)/2816)+(u-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(x){x=Math.floor(x)+.5;var h=x-this.toJD(475,1,1),d=Math.floor(h/1029983),t=L(h,1029983),r=2820;if(t!==1029982){var u=Math.floor(t/366),n=L(t,366);r=Math.floor((2134*u+2816*n+2815)/1028522)+u+1}var i=r+2820*d+474;i=i<=0?i-1:i;var s=x-this.toJD(i,1,1)+1,o=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),m=x-this.toJD(i,o,1)+1;return this.newDate(i,o,m)}});function L(x,h){return x-h*Math.floor(x/h)}y.calendars.persian=a,y.calendars.jalali=a},31320:function(W,V,e){var y=e(63489),C=e(56131),a=y.instance();function L(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,C(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(d){var h=this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),d=this._t2gYear(h.year());return a.leapYear(d)},weekOfYear:function(r,h,d){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(x,h){var d=this._validate(x,h,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(x,h,d){return(this.dayOfWeek(x,h,d)||7)<6},toJD:function(r,h,d){var t=this._validate(r,h,d,y.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(x){var h=a.fromJD(x),d=this._g2tYear(h.year());return this.newDate(d,h.month(),h.day())},_t2gYear:function(x){return x+this.yearsOffset+(x>=-this.yearsOffset&&x<=-1?1:0)},_g2tYear:function(x){return x-this.yearsOffset-(x>=1&&x<=this.yearsOffset?1:0)}}),y.calendars.taiwan=L},51367:function(W,V,e){var y=e(63489),C=e(56131),a=y.instance();function L(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,C(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var h=this._validate(d,this.minMonth,this.minDay,y.local.invalidYear),d=this._t2gYear(h.year());return a.leapYear(d)},weekOfYear:function(r,h,d){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(x,h){var d=this._validate(x,h,this.minDay,y.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(x,h,d){return(this.dayOfWeek(x,h,d)||7)<6},toJD:function(r,h,d){var t=this._validate(r,h,d,y.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(x){var h=a.fromJD(x),d=this._g2tYear(h.year());return this.newDate(d,h.month(),h.day())},_t2gYear:function(x){return x-this.yearsOffset-(x>=1&&x<=this.yearsOffset?1:0)},_g2tYear:function(x){return x+this.yearsOffset+(x>=-this.yearsOffset&&x<=-1?1:0)}}),y.calendars.thai=L},21457:function(W,V,e){var y=e(63489),C=e(56131);function a(x){this.local=this.regionalOptions[x||""]||this.regionalOptions[""]}a.prototype=new y.baseCalendar,C(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(x){var h=this._validate(x,this.minMonth,this.minDay,y.local.invalidYear);return this.daysInYear(h.year())===355},weekOfYear:function(x,h,d){var t=this.newDate(x,h,d);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(x){for(var h=0,d=1;d<=12;d++)h+=this.daysInMonth(x,d);return h},daysInMonth:function(x,h){for(var d=this._validate(x,h,this.minDay,y.local.invalidMonth),t=d.toJD()-24e5+.5,r=0,u=0;u<L.length;u++){if(L[u]>t)return L[r]-L[r-1];r++}return 30},weekDay:function(x,h,d){return this.dayOfWeek(x,h,d)!==5},toJD:function(x,h,d){var t=this._validate(x,h,d,y.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,u=t.day()+L[r-1]-1;return u+24e5-.5},fromJD:function(x){for(var h=x-24e5+.5,d=0,t=0;t<L.length&&!(L[t]>h);t++)d++;var r=d+15292,u=Math.floor((r-1)/12),n=u+1,i=r-12*u,s=h-L[d-1]+1;return this.newDate(n,i,s)},isValid:function(x,h,d){var t=y.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(x=x.year!=null?x.year:x,t=x>=1276&&x<=1500),t},_validate:function(x,h,d,t){var r=y.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),y.calendars.ummalqura=a;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(W,V,e){var y=e(56131);function C(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}y(C.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var u=this._localCals[t+"-"+r];if(!u&&this.calendars[t]&&(u=new this.calendars[t](r),this._localCals[t+"-"+r]=u),!u)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return u},newDate:function(t,r,u,n,i){return n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,i):n)||this.instance(),n.newDate(t,r,u)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(u){return t[u]})}},substituteChineseDigits:function(t,r){return function(u){for(var n="",i=0;u>0;){var s=u%10;n=(s===0?"":t[s]+r[i])+n,i++,u=Math.floor(u/10)}return n.indexOf(t[1]+r[1])===0&&(n=n.substr(1)),n||t[0]}}});function a(t,r,u,n){if(this._calendar=t,this._year=r,this._month=u,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}y(a.prototype,{newDate:function(t,r,u){return this._calendar.newDate(t??this,r,u)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,u){if(!this._calendar.isValid(t,r,u))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=u,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function x(){this.shortYearCutoff="+10"}y(x.prototype,{_validateLevel:0,newDate:function(t,r,u){return t==null?this.today():(t.year&&(this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate),u=t.day(),r=t.month(),t=t.year()),new a(this,t,r,u))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+L(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var u=this._validate(t,r,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(u.month()+this.monthsInYear(u)-this.firstMonth)%this.monthsInYear(u)+this.minMonth},fromMonthOfYear:function(t,r){var u=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),u},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,r,u){return this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(t,r,u){return this._validate(t,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,u),r,u)},_add:function(t,r,u){if(this._validateLevel++,u==="d"||u==="w"){var n=t.toJD()+r*(u==="w"?this.daysInWeek():1),i=t.calendar().fromJD(n);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var s=t.year()+(u==="y"?r:0),o=t.monthOfYear()+(u==="m"?r:0),i=t.day(),m=function(v){for(;o<v.minMonth;)s--,o+=v.monthsInYear(s);for(var l=v.monthsInYear(s);o>l-1+v.minMonth;)s++,o-=l,l=v.monthsInYear(s)};u==="y"?(t.month()!==this.fromMonthOfYear(s,o)&&(o=this.newDate(s,t.month(),this.minDay).monthOfYear()),o=Math.min(o,this.monthsInYear(s)),i=Math.min(i,this.daysInMonth(s,this.fromMonthOfYear(s,o)))):u==="m"&&(m(this),i=Math.min(i,this.daysInMonth(s,this.fromMonthOfYear(s,o))));var c=[s,this.fromMonthOfYear(s,o),i];return this._validateLevel--,c}catch(b){throw this._validateLevel--,b}},_correctAdd:function(t,r,u,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],s=u<0?-1:1;r=this._add(t,u*i[0]+s*i[1],i[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,u){this._validate(t,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var n=u==="y"?r:t.year(),i=u==="m"?r:t.month(),s=u==="d"?r:t.day();return(u==="y"||u==="m")&&(s=Math.min(s,this.daysInMonth(n,i))),t.date(n,i,s)},isValid:function(t,r,u){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var i=this.newDate(t,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(i)&&u>=this.minDay&&u-this.minDay<this.daysInMonth(i)}return this._validateLevel--,n},toJSDate:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(d.instance().fromJSDate(t).toJD())},_validate:function(t,r,u,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,u))throw n.replace(/\{0\}/,this.local.name);var i=this.newDate(t,r,u);return this._validateLevel--,i}catch(s){throw this._validateLevel--,s}}});function h(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}h.prototype=new x,y(h.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var r=this._validate(u,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),u=r.year()+(r.year()<0?1:0);return u%4===0&&(u%100!==0||u%400===0)},weekOfYear:function(t,r,u){var n=this.newDate(t,r,u);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var u=this._validate(t,r,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(t,r,u){return(this.dayOfWeek(t,r,u)||7)<6},toJD:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate);t=n.year(),r=n.month(),u=n.day(),t<0&&t++,r<3&&(r+=12,t--);var i=Math.floor(t/100),s=2-i+Math.floor(i/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+u+s-1524.5},fromJD:function(t){var r=Math.floor(t+.5),u=Math.floor((r-186721625e-2)/36524.25);u=r+1+u-Math.floor(u/4);var n=u+1524,i=Math.floor((n-122.1)/365.25),s=Math.floor(365.25*i),o=Math.floor((n-s)/30.6001),m=n-s-Math.floor(o*30.6001),c=o-(o>13.5?13:1),b=i-(c>2.5?4716:4715);return b<=0&&b--,this.newDate(b,c,m)},toJSDate:function(t,r,u){var n=this._validate(t,r,u,d.local.invalidDate||d.regionalOptions[""].invalidDate),i=new Date(n.year(),n.month()-1,n.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var d=W.exports=new C;d.cdate=a,d.baseCalendar=x,d.calendars.gregorian=h},94338:function(W,V,e){var y=e(56131),C=e(63489);y(C.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),C.local=C.regionalOptions[""],y(C.cdate.prototype,{formatDate:function(a,L){return typeof a!="string"&&(L=a,a=""),this._calendar.formatDate(a||"",this,L)}}),y(C.baseCalendar.prototype,{UNIX_EPOCH:C.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:C.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,L,x){if(typeof a!="string"&&(x=L,L=a,a=""),!L)return"";if(L.calendar()!==this)throw C.local.invalidFormat||C.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,x=x||{};var h=x.dayNamesShort||this.local.dayNamesShort,d=x.dayNames||this.local.dayNames,t=x.monthNumbers||this.local.monthNumbers,r=x.monthNamesShort||this.local.monthNamesShort,u=x.monthNames||this.local.monthNames;x.calculateWeek||this.local.calculateWeek;for(var n=function(M,R){for(var T=1;S+T<a.length&&a.charAt(S+T)===M;)T++;return S+=T-1,Math.floor(T/(R||1))>1},i=function(M,R,T,E){var A=""+R;if(n(M,E))for(;A.length<T;)A="0"+A;return A},s=function(M,R,T,E){return n(M)?E[R]:T[R]},o=this,m=function(M){return typeof t=="function"?t.call(o,M,n("m")):v(i("m",M.month(),2))},c=function(M,R){return R?typeof u=="function"?u.call(o,M):u[M.month()-o.minMonth]:typeof r=="function"?r.call(o,M):r[M.month()-o.minMonth]},b=this.local.digits,v=function(M){return x.localNumbers&&b?b(M):M},l="",p=!1,S=0;S<a.length;S++)if(p)a.charAt(S)==="'"&&!n("'")?p=!1:l+=a.charAt(S);else switch(a.charAt(S)){case"d":l+=v(i("d",L.day(),2));break;case"D":l+=s("D",L.dayOfWeek(),h,d);break;case"o":l+=i("o",L.dayOfYear(),3);break;case"w":l+=i("w",L.weekOfYear(),2);break;case"m":l+=m(L);break;case"M":l+=c(L,n("M"));break;case"y":l+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),l+=L.formatYear();break;case"J":l+=L.toJD();break;case"@":l+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":l+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?l+="'":p=!0;break;default:l+=a.charAt(S)}return l},parseDate:function(a,L,x){if(L==null)throw C.local.invalidArguments||C.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;a=a||this.local.dateFormat,x=x||{};var h=x.shortYearCutoff||this.shortYearCutoff;h=typeof h!="string"?h:this.today().year()%100+parseInt(h,10);for(var d=x.dayNamesShort||this.local.dayNamesShort,t=x.dayNames||this.local.dayNames,r=x.parseMonth||this.local.parseMonth,u=x.monthNumbers||this.local.monthNumbers,n=x.monthNamesShort||this.local.monthNamesShort,i=x.monthNames||this.local.monthNames,s=-1,o=-1,m=-1,c=-1,b=-1,v=!1,l=!1,p=function(F,H){for(var _=1;P+_<a.length&&a.charAt(P+_)===F;)_++;return P+=_-1,Math.floor(_/(H||1))>1},S=function(F,H){var _=p(F,H),B=[2,3,_?4:2,_?4:2,10,11,20]["oyYJ@!".indexOf(F)+1],N=new RegExp("^-?\\d{1,"+B+"}"),O=L.substring(f).match(N);if(!O)throw(C.local.missingNumberAt||C.regionalOptions[""].missingNumberAt).replace(/\{0\}/,f);return f+=O[0].length,parseInt(O[0],10)},M=this,R=function(){if(typeof u=="function"){p("m");var F=u.call(M,L.substring(f));return f+=F.length,F}return S("m")},T=function(F,H,_,B){for(var N=p(F,B)?_:H,O=0;O<N.length;O++)if(L.substr(f,N[O].length).toLowerCase()===N[O].toLowerCase())return f+=N[O].length,O+M.minMonth;throw(C.local.unknownNameAt||C.regionalOptions[""].unknownNameAt).replace(/\{0\}/,f)},E=function(){if(typeof i=="function"){var F=p("M")?i.call(M,L.substring(f)):n.call(M,L.substring(f));return f+=F.length,F}return T("M",n,i)},A=function(){if(L.charAt(f)!==a.charAt(P))throw(C.local.unexpectedLiteralAt||C.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,f);f++},f=0,P=0;P<a.length;P++)if(l)a.charAt(P)==="'"&&!p("'")?l=!1:A();else switch(a.charAt(P)){case"d":c=S("d");break;case"D":T("D",d,t);break;case"o":b=S("o");break;case"w":S("w");break;case"m":m=R();break;case"M":m=E();break;case"y":var w=P;v=!p("y",2),P=w,o=S("y",2);break;case"Y":o=S("Y",2);break;case"J":s=S("J")+.5,L.charAt(f)==="."&&(f++,S("J"));break;case"@":s=S("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":s=S("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":f=L.length;break;case"'":p("'")?A():l=!0;break;default:A()}if(f<L.length)throw C.local.unexpectedText||C.regionalOptions[""].unexpectedText;if(o===-1?o=this.today().year():o<100&&v&&(o+=h===-1?1900:this.today().year()-this.today().year()%100-(o<=h?0:100)),typeof m=="string"&&(m=r.call(this,o,m)),b>-1){m=1,c=b;for(var z=this.daysInMonth(o,m);c>z;z=this.daysInMonth(o,m))m++,c-=z}return s>-1?this.fromJD(s):this.newDate(o,m,c)},determineDate:function(a,L,x,h,d){x&&typeof x!="object"&&(d=h,h=x,x=null),typeof h!="string"&&(d=h,h="");var t=this,r=function(u){try{return t.parseDate(h,u,d)}catch{}u=u.toLowerCase();for(var n=(u.match(/^c/)&&x?x.newDate():null)||t.today(),i=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=i.exec(u);s;)n.add(parseInt(s[1],10),s[2]||"d"),s=i.exec(u);return n};return L=L?L.newDate():null,a=a==null?L:typeof a=="string"?r(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?L:t.today().add(a,"d"):t.newDate(a),a}})},69862:function(){},40964:function(){},72077:function(W,V,e){var y=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?e.g:globalThis;W.exports=function(){for(var L=[],x=0;x<y.length;x++)typeof C[y[x]]=="function"&&(L[L.length]=y[x]);return L}},81684:function(W,V,e){e.d(V,{sX:function(){return Se},k4:function(){return se}});function y(Te,Ee,Ne){Te.prototype=Ee.prototype=Ne,Ne.constructor=Te}function C(Te,Ee){var Ne=Object.create(Te.prototype);for(var He in Ee)Ne[He]=Ee[He];return Ne}function a(){}var L=.7,x=1/L,h="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\(".concat(h,",").concat(h,",").concat(h,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),i=new RegExp("^rgba\\(".concat(h,",").concat(h,",").concat(h,",").concat(d,"\\)$")),s=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(d,"\\)$")),o=new RegExp("^hsl\\(".concat(d,",").concat(t,",").concat(t,"\\)$")),m=new RegExp("^hsla\\(".concat(d,",").concat(t,",").concat(t,",").concat(d,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y(a,S,{copy:function(Ee){return Object.assign(new this.constructor,this,Ee)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:v,formatHsl:l,formatRgb:p,toString:p});function b(){return this.rgb().formatHex()}function v(){return this.rgb().formatHex8()}function l(){return B(this).formatHsl()}function p(){return this.rgb().formatRgb()}function S(Te){var Ee,Ne;return Te=(Te+"").trim().toLowerCase(),(Ee=r.exec(Te))?(Ne=Ee[1].length,Ee=parseInt(Ee[1],16),Ne===6?M(Ee):Ne===3?new A(Ee>>8&15|Ee>>4&240,Ee>>4&15|Ee&240,(Ee&15)<<4|Ee&15,1):Ne===8?R(Ee>>24&255,Ee>>16&255,Ee>>8&255,(Ee&255)/255):Ne===4?R(Ee>>12&15|Ee>>8&240,Ee>>8&15|Ee>>4&240,Ee>>4&15|Ee&240,((Ee&15)<<4|Ee&15)/255):null):(Ee=u.exec(Te))?new A(Ee[1],Ee[2],Ee[3],1):(Ee=n.exec(Te))?new A(Ee[1]*255/100,Ee[2]*255/100,Ee[3]*255/100,1):(Ee=i.exec(Te))?R(Ee[1],Ee[2],Ee[3],Ee[4]):(Ee=s.exec(Te))?R(Ee[1]*255/100,Ee[2]*255/100,Ee[3]*255/100,Ee[4]):(Ee=o.exec(Te))?_(Ee[1],Ee[2]/100,Ee[3]/100,1):(Ee=m.exec(Te))?_(Ee[1],Ee[2]/100,Ee[3]/100,Ee[4]):c.hasOwnProperty(Te)?M(c[Te]):Te==="transparent"?new A(NaN,NaN,NaN,0):null}function M(Te){return new A(Te>>16&255,Te>>8&255,Te&255,1)}function R(Te,Ee,Ne,He){return He<=0&&(Te=Ee=Ne=NaN),new A(Te,Ee,Ne,He)}function T(Te){return Te instanceof a||(Te=S(Te)),Te?(Te=Te.rgb(),new A(Te.r,Te.g,Te.b,Te.opacity)):new A}function E(Te,Ee,Ne,He){return arguments.length===1?T(Te):new A(Te,Ee,Ne,He??1)}function A(Te,Ee,Ne,He){this.r=+Te,this.g=+Ee,this.b=+Ne,this.opacity=+He}y(A,E,C(a,{brighter:function(Ee){return Ee=Ee==null?x:Math.pow(x,Ee),new A(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},darker:function(Ee){return Ee=Ee==null?L:Math.pow(L,Ee),new A(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},rgb:function(){return this},clamp:function(){return new A(F(this.r),F(this.g),F(this.b),z(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:P,formatRgb:w,toString:w}));function f(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b))}function P(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b)).concat(H((isNaN(this.opacity)?1:this.opacity)*255))}function w(){var Te=z(this.opacity);return"".concat(Te===1?"rgb(":"rgba(").concat(F(this.r),", ").concat(F(this.g),", ").concat(F(this.b)).concat(Te===1?")":", ".concat(Te,")"))}function z(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function F(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function H(Te){return Te=F(Te),(Te<16?"0":"")+Te.toString(16)}function _(Te,Ee,Ne,He){return He<=0?Te=Ee=Ne=NaN:Ne<=0||Ne>=1?Te=Ee=NaN:Ee<=0&&(Te=NaN),new O(Te,Ee,Ne,He)}function B(Te){if(Te instanceof O)return new O(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof a||(Te=S(Te)),!Te)return new O;if(Te instanceof O)return Te;Te=Te.rgb();var Ee=Te.r/255,Ne=Te.g/255,He=Te.b/255,_e=Math.min(Ee,Ne,He),We=Math.max(Ee,Ne,He),tt=NaN,Ke=We-_e,qe=(We+_e)/2;return Ke?(Ee===We?tt=(Ne-He)/Ke+(Ne<He)*6:Ne===We?tt=(He-Ee)/Ke+2:tt=(Ee-Ne)/Ke+4,Ke/=qe<.5?We+_e:2-We-_e,tt*=60):Ke=qe>0&&qe<1?0:tt,new O(tt,Ke,qe,Te.opacity)}function N(Te,Ee,Ne,He){return arguments.length===1?B(Te):new O(Te,Ee,Ne,He??1)}function O(Te,Ee,Ne,He){this.h=+Te,this.s=+Ee,this.l=+Ne,this.opacity=+He}y(O,N,C(a,{brighter:function(Ee){return Ee=Ee==null?x:Math.pow(x,Ee),new O(this.h,this.s,this.l*Ee,this.opacity)},darker:function(Ee){return Ee=Ee==null?L:Math.pow(L,Ee),new O(this.h,this.s,this.l*Ee,this.opacity)},rgb:function(){var Ee=this.h%360+(this.h<0)*360,Ne=isNaN(Ee)||isNaN(this.s)?0:this.s,He=this.l,_e=He+(He<.5?He:1-He)*Ne,We=2*He-_e;return new A(re(Ee>=240?Ee-240:Ee+120,We,_e),re(Ee,We,_e),re(Ee<120?Ee+240:Ee-120,We,_e),this.opacity)},clamp:function(){return new O(U(this.h),K(this.s),K(this.l),z(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ee=z(this.opacity);return"".concat(Ee===1?"hsl(":"hsla(").concat(U(this.h),", ").concat(K(this.s)*100,"%, ").concat(K(this.l)*100,"%").concat(Ee===1?")":", ".concat(Ee,")"))}}));function U(Te){return Te=(Te||0)%360,Te<0?Te+360:Te}function K(Te){return Math.max(0,Math.min(1,Te||0))}function re(Te,Ee,Ne){return(Te<60?Ee+(Ne-Ee)*Te/60:Te<180?Ne:Te<240?Ee+(Ne-Ee)*(240-Te)/60:Ee)*255}var ae=function(Te){return function(){return Te}};function ue(Te,Ee){return function(Ne){return Te+Ne*Ee}}function ve(Te,Ee,Ne){return Te=Math.pow(Te,Ne),Ee=Math.pow(Ee,Ne)-Te,Ne=1/Ne,function(He){return Math.pow(Te+He*Ee,Ne)}}function ee(Te){return(Te=+Te)==1?J:function(Ee,Ne){return Ne-Ee?ve(Ee,Ne,Te):ae(isNaN(Ee)?Ne:Ee)}}function J(Te,Ee){var Ne=Ee-Te;return Ne?ue(Te,Ne):ae(isNaN(Te)?Ee:Te)}var Q=function Te(Ee){var Ne=ee(Ee);function He(_e,We){var tt=Ne((_e=E(_e)).r,(We=E(We)).r),Ke=Ne(_e.g,We.g),qe=Ne(_e.b,We.b),rt=J(_e.opacity,We.opacity);return function(ft){return _e.r=tt(ft),_e.g=Ke(ft),_e.b=qe(ft),_e.opacity=rt(ft),_e+""}}return He.gamma=Te,He}(1);function X(Te,Ee){var Ne=Ee?Ee.length:0,He=Te?Math.min(Ne,Te.length):0,_e=new Array(He),We=new Array(Ne),tt;for(tt=0;tt<He;++tt)_e[tt]=Se(Te[tt],Ee[tt]);for(;tt<Ne;++tt)We[tt]=Ee[tt];return function(Ke){for(tt=0;tt<He;++tt)We[tt]=_e[tt](Ke);return We}}function q(Te,Ee){var Ne=new Date;return Te=+Te,Ee=+Ee,function(He){return Ne.setTime(Te*(1-He)+Ee*He),Ne}}function se(Te,Ee){return Te=+Te,Ee=+Ee,function(Ne){return Te*(1-Ne)+Ee*Ne}}function Y(Te){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},Y(Te)}function Z(Te,Ee){var Ne={},He={},_e;(Te===null||Y(Te)!=="object")&&(Te={}),(Ee===null||Y(Ee)!=="object")&&(Ee={});for(_e in Ee)_e in Te?Ne[_e]=Se(Te[_e],Ee[_e]):He[_e]=Ee[_e];return function(We){for(_e in Ne)He[_e]=Ne[_e](We);return He}}var ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(ie.source,"g");function fe(Te){return function(){return Te}}function de(Te){return function(Ee){return Te(Ee)+""}}function we(Te,Ee){var Ne=ie.lastIndex=te.lastIndex=0,He,_e,We,tt=-1,Ke=[],qe=[];for(Te=Te+"",Ee=Ee+"";(He=ie.exec(Te))&&(_e=te.exec(Ee));)(We=_e.index)>Ne&&(We=Ee.slice(Ne,We),Ke[tt]?Ke[tt]+=We:Ke[++tt]=We),(He=He[0])===(_e=_e[0])?Ke[tt]?Ke[tt]+=_e:Ke[++tt]=_e:(Ke[++tt]=null,qe.push({i:tt,x:se(He,_e)})),Ne=te.lastIndex;return Ne<Ee.length&&(We=Ee.slice(Ne),Ke[tt]?Ke[tt]+=We:Ke[++tt]=We),Ke.length<2?qe[0]?de(qe[0].x):fe(Ee):(Ee=qe.length,function(rt){for(var ft=0,pt;ft<Ee;++ft)Ke[(pt=qe[ft]).i]=pt.x(rt);return Ke.join("")})}function Ae(Te,Ee){Ee||(Ee=[]);var Ne=Te?Math.min(Ee.length,Te.length):0,He=Ee.slice(),_e;return function(We){for(_e=0;_e<Ne;++_e)He[_e]=Te[_e]*(1-We)+Ee[_e]*We;return He}}function Re(Te){return ArrayBuffer.isView(Te)&&!(Te instanceof DataView)}function Fe(Te){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},Fe(Te)}function Se(Te,Ee){var Ne=Fe(Ee),He;return Ee==null||Ne==="boolean"?ae(Ee):(Ne==="number"?se:Ne==="string"?(He=S(Ee))?(Ee=He,Q):we:Ee instanceof S?Q:Ee instanceof Date?q:Re(Ee)?Ae:Array.isArray(Ee)?X:typeof Ee.valueOf!="function"&&typeof Ee.toString!="function"||isNaN(Ee)?Z:se)(Te,Ee)}},40402:function(W){W.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(W){W.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(W){W.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(W){W.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(W){W.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(W){W.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},pe={};function Le(W){var V=pe[W];if(V!==void 0)return V.exports;var e=pe[W]={exports:{}};return ne[W].call(e.exports,e,e.exports,Le),e.exports}(function(){Le.n=function(W){var V=W&&W.__esModule?function(){return W.default}:function(){return W};return Le.d(V,{a:V}),V}})(),function(){Le.d=function(W,V){for(var e in V)Le.o(V,e)&&!Le.o(W,e)&&Object.defineProperty(W,e,{enumerable:!0,get:V[e]})}}(),function(){Le.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Le.o=function(W,V){return Object.prototype.hasOwnProperty.call(W,V)}}(),function(){Le.r=function(W){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})}}();var Ye=Le(27909);return Ye}()})})(bA);var A7=bA.exports;(function(k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var G=pe(gA),ne=pe(A7);function pe(W){return W&&W.__esModule?W:{default:W}}var Le=(0,G.default)(ne.default),Ye=Le;k.default=Ye})(m7);var M7={"aria-busy":!0,role:"status"},A3=globalThis&&globalThis.__assign||function(){return A3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},A3.apply(this,arguments)},M3=globalThis&&globalThis.__assign||function(){return M3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},M3.apply(this,arguments)},S3=globalThis&&globalThis.__assign||function(){return S3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},S3.apply(this,arguments)},E3=globalThis&&globalThis.__assign||function(){return E3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},E3.apply(this,arguments)},C3=globalThis&&globalThis.__assign||function(){return C3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},C3.apply(this,arguments)},L3=globalThis&&globalThis.__assign||function(){return L3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},L3.apply(this,arguments)},P3=globalThis&&globalThis.__assign||function(){return P3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},P3.apply(this,arguments)},wA={exports:{}},_i={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=typeof Symbol=="function"&&Symbol.for,Ex=qo?Symbol.for("react.element"):60103,Cx=qo?Symbol.for("react.portal"):60106,Fg=qo?Symbol.for("react.fragment"):60107,_g=qo?Symbol.for("react.strict_mode"):60108,zg=qo?Symbol.for("react.profiler"):60114,Og=qo?Symbol.for("react.provider"):60109,Bg=qo?Symbol.for("react.context"):60110,Lx=qo?Symbol.for("react.async_mode"):60111,Ng=qo?Symbol.for("react.concurrent_mode"):60111,Ug=qo?Symbol.for("react.forward_ref"):60112,Hg=qo?Symbol.for("react.suspense"):60113,S7=qo?Symbol.for("react.suspense_list"):60120,Vg=qo?Symbol.for("react.memo"):60115,Gg=qo?Symbol.for("react.lazy"):60116,E7=qo?Symbol.for("react.block"):60121,C7=qo?Symbol.for("react.fundamental"):60117,L7=qo?Symbol.for("react.responder"):60118,P7=qo?Symbol.for("react.scope"):60119;function Dl(k){if(typeof k=="object"&&k!==null){var G=k.$$typeof;switch(G){case Ex:switch(k=k.type,k){case Lx:case Ng:case Fg:case zg:case _g:case Hg:return k;default:switch(k=k&&k.$$typeof,k){case Bg:case Ug:case Gg:case Vg:case Og:return k;default:return G}}case Cx:return G}}}function TA(k){return Dl(k)===Ng}_i.AsyncMode=Lx;_i.ConcurrentMode=Ng;_i.ContextConsumer=Bg;_i.ContextProvider=Og;_i.Element=Ex;_i.ForwardRef=Ug;_i.Fragment=Fg;_i.Lazy=Gg;_i.Memo=Vg;_i.Portal=Cx;_i.Profiler=zg;_i.StrictMode=_g;_i.Suspense=Hg;_i.isAsyncMode=function(k){return TA(k)||Dl(k)===Lx};_i.isConcurrentMode=TA;_i.isContextConsumer=function(k){return Dl(k)===Bg};_i.isContextProvider=function(k){return Dl(k)===Og};_i.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===Ex};_i.isForwardRef=function(k){return Dl(k)===Ug};_i.isFragment=function(k){return Dl(k)===Fg};_i.isLazy=function(k){return Dl(k)===Gg};_i.isMemo=function(k){return Dl(k)===Vg};_i.isPortal=function(k){return Dl(k)===Cx};_i.isProfiler=function(k){return Dl(k)===zg};_i.isStrictMode=function(k){return Dl(k)===_g};_i.isSuspense=function(k){return Dl(k)===Hg};_i.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===Fg||k===Ng||k===zg||k===_g||k===Hg||k===S7||typeof k=="object"&&k!==null&&(k.$$typeof===Gg||k.$$typeof===Vg||k.$$typeof===Og||k.$$typeof===Bg||k.$$typeof===Ug||k.$$typeof===C7||k.$$typeof===L7||k.$$typeof===P7||k.$$typeof===E7)};_i.typeOf=Dl;wA.exports=_i;var Px=wA.exports;function R7(k){function G(z,F,H,_,B){for(var N=0,O=0,U=0,K=0,re,ae,ue=0,ve=0,ee,J=ee=re=0,Q=0,X=0,q=0,se=0,Y=H.length,Z=Y-1,ie,te="",fe="",de="",we="",Ae;Q<Y;){if(ae=H.charCodeAt(Q),Q===Z&&O+K+U+N!==0&&(O!==0&&(ae=O===47?10:47),K=U=N=0,Y++,Z++),O+K+U+N===0){if(Q===Z&&(0<X&&(te=te.replace(L,"")),0<te.trim().length)){switch(ae){case 32:case 9:case 59:case 13:case 10:break;default:te+=H.charAt(Q)}ae=59}switch(ae){case 123:for(te=te.trim(),re=te.charCodeAt(0),ee=1,se=++Q;Q<Y;){switch(ae=H.charCodeAt(Q)){case 123:ee++;break;case 125:ee--;break;case 47:switch(ae=H.charCodeAt(Q+1)){case 42:case 47:e:{for(J=Q+1;J<Z;++J)switch(H.charCodeAt(J)){case 47:if(ae===42&&H.charCodeAt(J-1)===42&&Q+2!==J){Q=J+1;break e}break;case 10:if(ae===47){Q=J+1;break e}}Q=J}}break;case 91:ae++;case 40:ae++;case 34:case 39:for(;Q++<Z&&H.charCodeAt(Q)!==ae;);}if(ee===0)break;Q++}switch(ee=H.substring(se,Q),re===0&&(re=(te=te.replace(a,"").trim()).charCodeAt(0)),re){case 64:switch(0<X&&(te=te.replace(L,"")),ae=te.charCodeAt(1),ae){case 100:case 109:case 115:case 45:X=F;break;default:X=T}if(ee=G(F,X,ee,ae,B+1),se=ee.length,0<A&&(X=ne(T,te,q),Ae=V(3,ee,X,F,S,p,se,ae,B,_),te=X.join(""),Ae!==void 0&&(se=(ee=Ae.trim()).length)===0&&(ae=0,ee="")),0<se)switch(ae){case 115:te=te.replace(o,W);case 100:case 109:case 45:ee=te+"{"+ee+"}";break;case 107:te=te.replace(u,"$1 $2"),ee=te+"{"+ee+"}",ee=R===1||R===2&&Ye("@"+ee,3)?"@-webkit-"+ee+"@"+ee:"@"+ee;break;default:ee=te+ee,_===112&&(ee=(fe+=ee,""))}else ee="";break;default:ee=G(F,ne(F,te,q),ee,_,B+1)}de+=ee,ee=q=X=J=re=0,te="",ae=H.charCodeAt(++Q);break;case 125:case 59:if(te=(0<X?te.replace(L,""):te).trim(),1<(se=te.length))switch(J===0&&(re=te.charCodeAt(0),re===45||96<re&&123>re)&&(se=(te=te.replace(" ",":")).length),0<A&&(Ae=V(1,te,F,z,S,p,fe.length,_,B,_))!==void 0&&(se=(te=Ae.trim()).length)===0&&(te="\0\0"),re=te.charCodeAt(0),ae=te.charCodeAt(1),re){case 0:break;case 64:if(ae===105||ae===99){we+=te+H.charAt(Q);break}default:te.charCodeAt(se-1)!==58&&(fe+=Le(te,re,ae,te.charCodeAt(2)))}q=X=J=re=0,te="",ae=H.charCodeAt(++Q)}}switch(ae){case 13:case 10:O===47?O=0:1+re===0&&_!==107&&0<te.length&&(X=1,te+="\0"),0<A*P&&V(0,te,F,z,S,p,fe.length,_,B,_),p=1,S++;break;case 59:case 125:if(O+K+U+N===0){p++;break}default:switch(p++,ie=H.charAt(Q),ae){case 9:case 32:if(K+N+O===0)switch(ue){case 44:case 58:case 9:case 32:ie="";break;default:ae!==32&&(ie=" ")}break;case 0:ie="\\0";break;case 12:ie="\\f";break;case 11:ie="\\v";break;case 38:K+O+N===0&&(X=q=1,ie="\f"+ie);break;case 108:if(K+O+N+M===0&&0<J)switch(Q-J){case 2:ue===112&&H.charCodeAt(Q-3)===58&&(M=ue);case 8:ve===111&&(M=ve)}break;case 58:K+O+N===0&&(J=Q);break;case 44:O+U+K+N===0&&(X=1,ie+="\r");break;case 34:case 39:O===0&&(K=K===ae?0:K===0?ae:K);break;case 91:K+O+U===0&&N++;break;case 93:K+O+U===0&&N--;break;case 41:K+O+N===0&&U--;break;case 40:if(K+O+N===0){if(re===0)switch(2*ue+3*ve){case 533:break;default:re=1}U++}break;case 64:O+U+K+N+J+ee===0&&(ee=1);break;case 42:case 47:if(!(0<K+N+U))switch(O){case 0:switch(2*ae+3*H.charCodeAt(Q+1)){case 235:O=47;break;case 220:se=Q,O=42}break;case 42:ae===47&&ue===42&&se+2!==Q&&(H.charCodeAt(se+2)===33&&(fe+=H.substring(se,Q+1)),ie="",O=0)}}O===0&&(te+=ie)}ve=ue,ue=ae,Q++}if(se=fe.length,0<se){if(X=F,0<A&&(Ae=V(2,fe,X,z,S,p,se,_,B,_),Ae!==void 0&&(fe=Ae).length===0))return we+fe+de;if(fe=X.join(",")+"{"+fe+"}",R*M!==0){switch(R!==2||Ye(fe,2)||(M=0),M){case 111:fe=fe.replace(i,":-moz-$1")+fe;break;case 112:fe=fe.replace(n,"::-webkit-input-$1")+fe.replace(n,"::-moz-$1")+fe.replace(n,":-ms-input-$1")+fe}M=0}}return we+fe+de}function ne(z,F,H){var _=F.trim().split(t);F=_;var B=_.length,N=z.length;switch(N){case 0:case 1:var O=0;for(z=N===0?"":z[0]+" ";O<B;++O)F[O]=pe(z,F[O],H).trim();break;default:var U=O=0;for(F=[];O<B;++O)for(var K=0;K<N;++K)F[U++]=pe(z[K]+" ",_[O],H).trim()}return F}function pe(z,F,H){var _=F.charCodeAt(0);switch(33>_&&(_=(F=F.trim()).charCodeAt(0)),_){case 38:return F.replace(r,"$1"+z.trim());case 58:return z.trim()+F.replace(r,"$1"+z.trim());default:if(0<1*H&&0<F.indexOf("\f"))return F.replace(r,(z.charCodeAt(0)===58?"":"$1")+z.trim())}return z+F}function Le(z,F,H,_){var B=z+";",N=2*F+3*H+4*_;if(N===944){z=B.indexOf(":",9)+1;var O=B.substring(z,B.length-1).trim();return O=B.substring(0,z).trim()+O+";",R===1||R===2&&Ye(O,1)?"-webkit-"+O+O:O}if(R===0||R===2&&!Ye(B,1))return B;switch(N){case 1015:return B.charCodeAt(10)===97?"-webkit-"+B+B:B;case 951:return B.charCodeAt(3)===116?"-webkit-"+B+B:B;case 963:return B.charCodeAt(5)===110?"-webkit-"+B+B:B;case 1009:if(B.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+B+B;case 978:return"-webkit-"+B+"-moz-"+B+B;case 1019:case 983:return"-webkit-"+B+"-moz-"+B+"-ms-"+B+B;case 883:if(B.charCodeAt(8)===45)return"-webkit-"+B+B;if(0<B.indexOf("image-set(",11))return B.replace(l,"$1-webkit-$2")+B;break;case 932:if(B.charCodeAt(4)===45)switch(B.charCodeAt(5)){case 103:return"-webkit-box-"+B.replace("-grow","")+"-webkit-"+B+"-ms-"+B.replace("grow","positive")+B;case 115:return"-webkit-"+B+"-ms-"+B.replace("shrink","negative")+B;case 98:return"-webkit-"+B+"-ms-"+B.replace("basis","preferred-size")+B}return"-webkit-"+B+"-ms-"+B+B;case 964:return"-webkit-"+B+"-ms-flex-"+B+B;case 1023:if(B.charCodeAt(8)!==99)break;return O=B.substring(B.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+O+"-webkit-"+B+"-ms-flex-pack"+O+B;case 1005:return h.test(B)?B.replace(x,":-webkit-")+B.replace(x,":-moz-")+B:B;case 1e3:switch(O=B.substring(13).trim(),F=O.indexOf("-")+1,O.charCodeAt(0)+O.charCodeAt(F)){case 226:O=B.replace(s,"tb");break;case 232:O=B.replace(s,"tb-rl");break;case 220:O=B.replace(s,"lr");break;default:return B}return"-webkit-"+B+"-ms-"+O+B;case 1017:if(B.indexOf("sticky",9)===-1)break;case 975:switch(F=(B=z).length-10,O=(B.charCodeAt(F)===33?B.substring(0,F):B).substring(z.indexOf(":",7)+1).trim(),N=O.charCodeAt(0)+(O.charCodeAt(7)|0)){case 203:if(111>O.charCodeAt(8))break;case 115:B=B.replace(O,"-webkit-"+O)+";"+B;break;case 207:case 102:B=B.replace(O,"-webkit-"+(102<N?"inline-":"")+"box")+";"+B.replace(O,"-webkit-"+O)+";"+B.replace(O,"-ms-"+O+"box")+";"+B}return B+";";case 938:if(B.charCodeAt(5)===45)switch(B.charCodeAt(6)){case 105:return O=B.replace("-items",""),"-webkit-"+B+"-webkit-box-"+O+"-ms-flex-"+O+B;case 115:return"-webkit-"+B+"-ms-flex-item-"+B.replace(c,"")+B;default:return"-webkit-"+B+"-ms-flex-line-pack"+B.replace("align-content","").replace(c,"")+B}break;case 973:case 989:if(B.charCodeAt(3)!==45||B.charCodeAt(4)===122)break;case 931:case 953:if(v.test(z)===!0)return(O=z.substring(z.indexOf(":")+1)).charCodeAt(0)===115?Le(z.replace("stretch","fill-available"),F,H,_).replace(":fill-available",":stretch"):B.replace(O,"-webkit-"+O)+B.replace(O,"-moz-"+O.replace("fill-",""))+B;break;case 962:if(B="-webkit-"+B+(B.charCodeAt(5)===102?"-ms-"+B:"")+B,H+_===211&&B.charCodeAt(13)===105&&0<B.indexOf("transform",10))return B.substring(0,B.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+B}return B}function Ye(z,F){var H=z.indexOf(F===1?":":"{"),_=z.substring(0,F!==3?H:10);return H=z.substring(H+1,z.length-1),f(F!==2?_:_.replace(b,"$1"),H,F)}function W(z,F){var H=Le(F,F.charCodeAt(0),F.charCodeAt(1),F.charCodeAt(2));return H!==F+";"?H.replace(m," or ($1)").substring(4):"("+F+")"}function V(z,F,H,_,B,N,O,U,K,re){for(var ae=0,ue=F,ve;ae<A;++ae)switch(ve=E[ae].call(C,z,ue,H,_,B,N,O,U,K,re)){case void 0:case!1:case!0:case null:break;default:ue=ve}if(ue!==F)return ue}function e(z){switch(z){case void 0:case null:A=E.length=0;break;default:if(typeof z=="function")E[A++]=z;else if(typeof z=="object")for(var F=0,H=z.length;F<H;++F)e(z[F]);else P=!!z|0}return e}function y(z){return z=z.prefix,z!==void 0&&(f=null,z?typeof z!="function"?R=1:(R=2,f=z):R=0),y}function C(z,F){var H=z;if(33>H.charCodeAt(0)&&(H=H.trim()),w=H,H=[w],0<A){var _=V(-1,F,H,H,S,p,0,0,0,0);_!==void 0&&typeof _=="string"&&(F=_)}var B=G(T,H,F,0,0);return 0<A&&(_=V(-2,B,H,H,S,p,B.length,0,0,0),_!==void 0&&(B=_)),w="",M=0,p=S=1,B}var a=/^\0+/g,L=/[\0\r\f]/g,x=/: */g,h=/zoo|gra/,d=/([,: ])(transform)/g,t=/,\r+?/g,r=/([\t\r\n ])*\f?&/g,u=/@(k\w+)\s*(\S*)\s*/,n=/::(place)/g,i=/:(read-only)/g,s=/[svh]\w+-[tblr]{2}/,o=/\(\s*(.*)\s*\)/g,m=/([\s\S]*?);/g,c=/-self|flex-/g,b=/[^]*?(:[rp][el]a[\w-]+)[^]*/,v=/stretch|:\s*\w+\-(?:conte|avail)/,l=/([^-])(image-set\()/,p=1,S=1,M=0,R=1,T=[],E=[],A=0,f=null,P=0,w="";return C.use=e,C.set=y,k!==void 0&&y(k),C}var D7={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function I7(k){var G=Object.create(null);return function(ne){return G[ne]===void 0&&(G[ne]=k(ne)),G[ne]}}var k7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R3=I7(function(k){return k7.test(k)||k.charCodeAt(0)===111&&k.charCodeAt(1)===110&&k.charCodeAt(2)<91}),Rx=Px,F7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},z7={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Dx={};Dx[Rx.ForwardRef]=z7;Dx[Rx.Memo]=AA;function D3(k){return Rx.isMemo(k)?AA:Dx[k.$$typeof]||F7}var O7=Object.defineProperty,B7=Object.getOwnPropertyNames,I3=Object.getOwnPropertySymbols,N7=Object.getOwnPropertyDescriptor,U7=Object.getPrototypeOf,k3=Object.prototype;function MA(k,G,ne){if(typeof G!="string"){if(k3){var pe=U7(G);pe&&pe!==k3&&MA(k,pe,ne)}var Le=B7(G);I3&&(Le=Le.concat(I3(G)));for(var Ye=D3(k),W=D3(G),V=0;V<Le.length;++V){var e=Le[V];if(!_7[e]&&!(ne&&ne[e])&&!(W&&W[e])&&!(Ye&&Ye[e])){var y=N7(G,e);try{O7(k,e,y)}catch{}}}}return k}var H7=MA;const V7=Sw(H7);function jf(){return(jf=Object.assign||function(k){for(var G=1;G<arguments.length;G++){var ne=arguments[G];for(var pe in ne)Object.prototype.hasOwnProperty.call(ne,pe)&&(k[pe]=ne[pe])}return k}).apply(this,arguments)}var F3=function(k,G){for(var ne=[k[0]],pe=0,Le=G.length;pe<Le;pe+=1)ne.push(G[pe],k[pe+1]);return ne},tm=function(k){return k!==null&&typeof k=="object"&&(k.toString?k.toString():Object.prototype.toString.call(k))==="[object Object]"&&!Px.typeOf(k)},sg=Object.freeze([]),Jc=Object.freeze({});function v0(k){return typeof k=="function"}function _3(k){return k.displayName||k.name||"Component"}function Ix(k){return k&&typeof k.styledComponentId=="string"}var Jv=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",kx=typeof window<"u"&&"HTMLElement"in window,G7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function T0(k){for(var G=arguments.length,ne=new Array(G>1?G-1:0),pe=1;pe<G;pe++)ne[pe-1]=arguments[pe];throw new Error("An error occurred. See https://git.io/JUIaE#"+k+" for more information."+(ne.length>0?" Args: "+ne.join(", "):""))}var W7=function(){function k(ne){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=ne}var G=k.prototype;return G.indexOfGroup=function(ne){for(var pe=0,Le=0;Le<ne;Le++)pe+=this.groupSizes[Le];return pe},G.insertRules=function(ne,pe){if(ne>=this.groupSizes.length){for(var Le=this.groupSizes,Ye=Le.length,W=Ye;ne>=W;)(W<<=1)<0&&T0(16,""+ne);this.groupSizes=new Uint32Array(W),this.groupSizes.set(Le),this.length=W;for(var V=Ye;V<W;V++)this.groupSizes[V]=0}for(var e=this.indexOfGroup(ne+1),y=0,C=pe.length;y<C;y++)this.tag.insertRule(e,pe[y])&&(this.groupSizes[ne]++,e++)},G.clearGroup=function(ne){if(ne<this.length){var pe=this.groupSizes[ne],Le=this.indexOfGroup(ne),Ye=Le+pe;this.groupSizes[ne]=0;for(var W=Le;W<Ye;W++)this.tag.deleteRule(Le)}},G.getGroup=function(ne){var pe="";if(ne>=this.length||this.groupSizes[ne]===0)return pe;for(var Le=this.groupSizes[ne],Ye=this.indexOfGroup(ne),W=Ye+Le,V=Ye;V<W;V++)pe+=this.tag.getRule(V)+`/*!sc*/
`;return pe},k}(),kp=new Map,lg=new Map,Zd=1,pp=function(k){if(kp.has(k))return kp.get(k);for(;lg.has(Zd);)Zd++;var G=Zd++;return kp.set(k,G),lg.set(G,k),G},Y7=function(k){return lg.get(k)},j7=function(k,G){G>=Zd&&(Zd=G+1),kp.set(k,G),lg.set(G,k)},Z7="style["+Jv+'][data-styled-version="5.3.11"]',X7=new RegExp("^"+Jv+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),K7=function(k,G,ne){for(var pe,Le=ne.split(","),Ye=0,W=Le.length;Ye<W;Ye++)(pe=Le[Ye])&&k.registerName(G,pe)},J7=function(k,G){for(var ne=(G.textContent||"").split(`/*!sc*/
`),pe=[],Le=0,Ye=ne.length;Le<Ye;Le++){var W=ne[Le].trim();if(W){var V=W.match(X7);if(V){var e=0|parseInt(V[1],10),y=V[2];e!==0&&(j7(y,e),K7(k,y,V[3]),k.getTag().insertRules(e,pe)),pe.length=0}else pe.push(W)}}},Q7=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},SA=function(k){var G=document.head,ne=k||G,pe=document.createElement("style"),Le=function(V){for(var e=V.childNodes,y=e.length;y>=0;y--){var C=e[y];if(C&&C.nodeType===1&&C.hasAttribute(Jv))return C}}(ne),Ye=Le!==void 0?Le.nextSibling:null;pe.setAttribute(Jv,"active"),pe.setAttribute("data-styled-version","5.3.11");var W=Q7();return W&&pe.setAttribute("nonce",W),ne.insertBefore(pe,Ye),pe},$7=function(){function k(ne){var pe=this.element=SA(ne);pe.appendChild(document.createTextNode("")),this.sheet=function(Le){if(Le.sheet)return Le.sheet;for(var Ye=document.styleSheets,W=0,V=Ye.length;W<V;W++){var e=Ye[W];if(e.ownerNode===Le)return e}T0(17)}(pe),this.length=0}var G=k.prototype;return G.insertRule=function(ne,pe){try{return this.sheet.insertRule(pe,ne),this.length++,!0}catch{return!1}},G.deleteRule=function(ne){this.sheet.deleteRule(ne),this.length--},G.getRule=function(ne){var pe=this.sheet.cssRules[ne];return pe!==void 0&&typeof pe.cssText=="string"?pe.cssText:""},k}(),q7=function(){function k(ne){var pe=this.element=SA(ne);this.nodes=pe.childNodes,this.length=0}var G=k.prototype;return G.insertRule=function(ne,pe){if(ne<=this.length&&ne>=0){var Le=document.createTextNode(pe),Ye=this.nodes[ne];return this.element.insertBefore(Le,Ye||null),this.length++,!0}return!1},G.deleteRule=function(ne){this.element.removeChild(this.nodes[ne]),this.length--},G.getRule=function(ne){return ne<this.length?this.nodes[ne].textContent:""},k}(),e9=function(){function k(ne){this.rules=[],this.length=0}var G=k.prototype;return G.insertRule=function(ne,pe){return ne<=this.length&&(this.rules.splice(ne,0,pe),this.length++,!0)},G.deleteRule=function(ne){this.rules.splice(ne,1),this.length--},G.getRule=function(ne){return ne<this.length?this.rules[ne]:""},k}(),z3=kx,t9={isServer:!kx,useCSSOMInjection:!G7},EA=function(){function k(ne,pe,Le){ne===void 0&&(ne=Jc),pe===void 0&&(pe={}),this.options=jf({},t9,{},ne),this.gs=pe,this.names=new Map(Le),this.server=!!ne.isServer,!this.server&&kx&&z3&&(z3=!1,function(Ye){for(var W=document.querySelectorAll(Z7),V=0,e=W.length;V<e;V++){var y=W[V];y&&y.getAttribute(Jv)!=="active"&&(J7(Ye,y),y.parentNode&&y.parentNode.removeChild(y))}}(this))}k.registerId=function(ne){return pp(ne)};var G=k.prototype;return G.reconstructWithOptions=function(ne,pe){return pe===void 0&&(pe=!0),new k(jf({},this.options,{},ne),this.gs,pe&&this.names||void 0)},G.allocateGSInstance=function(ne){return this.gs[ne]=(this.gs[ne]||0)+1},G.getTag=function(){return this.tag||(this.tag=(Le=(pe=this.options).isServer,Ye=pe.useCSSOMInjection,W=pe.target,ne=Le?new e9(W):Ye?new $7(W):new q7(W),new W7(ne)));var ne,pe,Le,Ye,W},G.hasNameForId=function(ne,pe){return this.names.has(ne)&&this.names.get(ne).has(pe)},G.registerName=function(ne,pe){if(pp(ne),this.names.has(ne))this.names.get(ne).add(pe);else{var Le=new Set;Le.add(pe),this.names.set(ne,Le)}},G.insertRules=function(ne,pe,Le){this.registerName(ne,pe),this.getTag().insertRules(pp(ne),Le)},G.clearNames=function(ne){this.names.has(ne)&&this.names.get(ne).clear()},G.clearRules=function(ne){this.getTag().clearGroup(pp(ne)),this.clearNames(ne)},G.clearTag=function(){this.tag=void 0},G.toString=function(){return function(ne){for(var pe=ne.getTag(),Le=pe.length,Ye="",W=0;W<Le;W++){var V=Y7(W);if(V!==void 0){var e=ne.names.get(V),y=pe.getGroup(W);if(e&&y&&e.size){var C=Jv+".g"+W+'[id="'+V+'"]',a="";e!==void 0&&e.forEach(function(L){L.length>0&&(a+=L+",")}),Ye+=""+y+C+'{content:"'+a+`"}/*!sc*/
`}}}return Ye}(this)},k}(),r9=/(a)(d)/gi,O3=function(k){return String.fromCharCode(k+(k>25?39:97))};function rm(k){var G,ne="";for(G=Math.abs(k);G>52;G=G/52|0)ne=O3(G%52)+ne;return(O3(G%52)+ne).replace(r9,"$1-$2")}var _v=function(k,G){for(var ne=G.length;ne;)k=33*k^G.charCodeAt(--ne);return k},CA=function(k){return _v(5381,k)};function n9(k){for(var G=0;G<k.length;G+=1){var ne=k[G];if(v0(ne)&&!Ix(ne))return!1}return!0}var a9=CA("5.3.11"),i9=function(){function k(G,ne,pe){this.rules=G,this.staticRulesId="",this.isStatic=(pe===void 0||pe.isStatic)&&n9(G),this.componentId=ne,this.baseHash=_v(a9,ne),this.baseStyle=pe,EA.registerId(ne)}return k.prototype.generateAndInjectStyles=function(G,ne,pe){var Le=this.componentId,Ye=[];if(this.baseStyle&&Ye.push(this.baseStyle.generateAndInjectStyles(G,ne,pe)),this.isStatic&&!pe.hash)if(this.staticRulesId&&ne.hasNameForId(Le,this.staticRulesId))Ye.push(this.staticRulesId);else{var W=Qv(this.rules,G,ne,pe).join(""),V=rm(_v(this.baseHash,W)>>>0);if(!ne.hasNameForId(Le,V)){var e=pe(W,"."+V,void 0,Le);ne.insertRules(Le,V,e)}Ye.push(V),this.staticRulesId=V}else{for(var y=this.rules.length,C=_v(this.baseHash,pe.hash),a="",L=0;L<y;L++){var x=this.rules[L];if(typeof x=="string")a+=x;else if(x){var h=Qv(x,G,ne,pe),d=Array.isArray(h)?h.join(""):h;C=_v(C,d+L),a+=d}}if(a){var t=rm(C>>>0);if(!ne.hasNameForId(Le,t)){var r=pe(a,"."+t,void 0,Le);ne.insertRules(Le,t,r)}Ye.push(t)}}return Ye.join(" ")},k}(),o9=/^\s*\/\/.*$/gm,s9=[":","[",".","#"];function l9(k){var G,ne,pe,Le,Ye=k===void 0?Jc:k,W=Ye.options,V=W===void 0?Jc:W,e=Ye.plugins,y=e===void 0?sg:e,C=new R7(V),a=[],L=function(d){function t(r){if(r)try{d(r+"}")}catch{}}return function(r,u,n,i,s,o,m,c,b,v){switch(r){case 1:if(b===0&&u.charCodeAt(0)===64)return d(u+";"),"";break;case 2:if(c===0)return u+"/*|*/";break;case 3:switch(c){case 102:case 112:return d(n[0]+u),"";default:return u+(v===0?"/*|*/":"")}case-2:u.split("/*|*/}").forEach(t)}}}(function(d){a.push(d)}),x=function(d,t,r){return t===0&&s9.indexOf(r[ne.length])!==-1||r.match(Le)?d:"."+G};function h(d,t,r,u){u===void 0&&(u="&");var n=d.replace(o9,""),i=t&&r?r+" "+t+" { "+n+" }":n;return G=u,ne=t,pe=new RegExp("\\"+ne+"\\b","g"),Le=new RegExp("(\\"+ne+"\\b){2,}"),C(r||!t?"":t,i)}return C.use([].concat(y,[function(d,t,r){d===2&&r.length&&r[0].lastIndexOf(ne)>0&&(r[0]=r[0].replace(pe,x))},L,function(d){if(d===-2){var t=a;return a=[],t}}])),h.hash=y.length?y.reduce(function(d,t){return t.name||T0(15),_v(d,t.name)},5381).toString():"",h}var LA=Bi.createContext();LA.Consumer;var PA=Bi.createContext(),u9=(PA.Consumer,new EA),nm=l9();function f9(){return ua.useContext(LA)||u9}function c9(){return ua.useContext(PA)||nm}var RA=function(){function k(G,ne){var pe=this;this.inject=function(Le,Ye){Ye===void 0&&(Ye=nm);var W=pe.name+Ye.hash;Le.hasNameForId(pe.id,W)||Le.insertRules(pe.id,W,Ye(pe.rules,W,"@keyframes"))},this.toString=function(){return T0(12,String(pe.name))},this.name=G,this.id="sc-keyframes-"+G,this.rules=ne}return k.prototype.getName=function(G){return G===void 0&&(G=nm),this.name+G.hash},k}(),h9=/([A-Z])/,v9=/([A-Z])/g,d9=/^ms-/,p9=function(k){return"-"+k.toLowerCase()};function B3(k){return h9.test(k)?k.replace(v9,p9).replace(d9,"-ms-"):k}var N3=function(k){return k==null||k===!1||k===""};function Qv(k,G,ne,pe){if(Array.isArray(k)){for(var Le,Ye=[],W=0,V=k.length;W<V;W+=1)(Le=Qv(k[W],G,ne,pe))!==""&&(Array.isArray(Le)?Ye.push.apply(Ye,Le):Ye.push(Le));return Ye}if(N3(k))return"";if(Ix(k))return"."+k.styledComponentId;if(v0(k)){if(typeof(y=k)!="function"||y.prototype&&y.prototype.isReactComponent||!G)return k;var e=k(G);return Qv(e,G,ne,pe)}var y;return k instanceof RA?ne?(k.inject(ne,pe),k.getName(pe)):k:tm(k)?function C(a,L){var x,h,d=[];for(var t in a)a.hasOwnProperty(t)&&!N3(a[t])&&(Array.isArray(a[t])&&a[t].isCss||v0(a[t])?d.push(B3(t)+":",a[t],";"):tm(a[t])?d.push.apply(d,C(a[t],t)):d.push(B3(t)+": "+(x=t,(h=a[t])==null||typeof h=="boolean"||h===""?"":typeof h!="number"||h===0||x in D7||x.startsWith("--")?String(h).trim():h+"px")+";"));return L?[L+" {"].concat(d,["}"]):d}(k):k.toString()}var U3=function(k){return Array.isArray(k)&&(k.isCss=!0),k};function DA(k){for(var G=arguments.length,ne=new Array(G>1?G-1:0),pe=1;pe<G;pe++)ne[pe-1]=arguments[pe];return v0(k)||tm(k)?U3(Qv(F3(sg,[k].concat(ne)))):ne.length===0&&k.length===1&&typeof k[0]=="string"?k:U3(Qv(F3(k,ne)))}var g9=function(k,G,ne){return ne===void 0&&(ne=Jc),k.theme!==ne.theme&&k.theme||G||ne.theme},y9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,m9=/(^-|-$)/g;function $y(k){return k.replace(y9,"-").replace(m9,"")}var IA=function(k){return rm(CA(k)>>>0)};function gp(k){return typeof k=="string"&&!0}var am=function(k){return typeof k=="function"||typeof k=="object"&&k!==null&&!Array.isArray(k)},x9=function(k){return k!=="__proto__"&&k!=="constructor"&&k!=="prototype"};function b9(k,G,ne){var pe=k[ne];am(G)&&am(pe)?kA(pe,G):k[ne]=G}function kA(k){for(var G=arguments.length,ne=new Array(G>1?G-1:0),pe=1;pe<G;pe++)ne[pe-1]=arguments[pe];for(var Le=0,Ye=ne;Le<Ye.length;Le++){var W=Ye[Le];if(am(W))for(var V in W)x9(V)&&b9(k,W[V],V)}return k}var FA=Bi.createContext();FA.Consumer;var qy={};function _A(k,G,ne){var pe=Ix(k),Le=!gp(k),Ye=G.attrs,W=Ye===void 0?sg:Ye,V=G.componentId,e=V===void 0?function(u,n){var i=typeof u!="string"?"sc":$y(u);qy[i]=(qy[i]||0)+1;var s=i+"-"+IA("5.3.11"+i+qy[i]);return n?n+"-"+s:s}(G.displayName,G.parentComponentId):V,y=G.displayName,C=y===void 0?function(u){return gp(u)?"styled."+u:"Styled("+_3(u)+")"}(k):y,a=G.displayName&&G.componentId?$y(G.displayName)+"-"+G.componentId:G.componentId||e,L=pe&&k.attrs?Array.prototype.concat(k.attrs,W).filter(Boolean):W,x=G.shouldForwardProp;pe&&k.shouldForwardProp&&(x=G.shouldForwardProp?function(u,n,i){return k.shouldForwardProp(u,n,i)&&G.shouldForwardProp(u,n,i)}:k.shouldForwardProp);var h,d=new i9(ne,a,pe?k.componentStyle:void 0),t=d.isStatic&&W.length===0,r=function(u,n){return function(i,s,o,m){var c=i.attrs,b=i.componentStyle,v=i.defaultProps,l=i.foldedComponentIds,p=i.shouldForwardProp,S=i.styledComponentId,M=i.target,R=function(_,B,N){_===void 0&&(_=Jc);var O=jf({},B,{theme:_}),U={};return N.forEach(function(K){var re,ae,ue,ve=K;for(re in v0(ve)&&(ve=ve(O)),ve)O[re]=U[re]=re==="className"?(ae=U[re],ue=ve[re],ae&&ue?ae+" "+ue:ae||ue):ve[re]}),[O,U]}(g9(s,ua.useContext(FA),v)||Jc,s,c),T=R[0],E=R[1],A=function(_,B,N,O){var U=f9(),K=c9(),re=B?_.generateAndInjectStyles(Jc,U,K):_.generateAndInjectStyles(N,U,K);return re}(b,m,T),f=o,P=E.$as||s.$as||E.as||s.as||M,w=gp(P),z=E!==s?jf({},s,{},E):s,F={};for(var H in z)H[0]!=="$"&&H!=="as"&&(H==="forwardedAs"?F.as=z[H]:(p?p(H,R3,P):!w||R3(H))&&(F[H]=z[H]));return s.style&&E.style!==s.style&&(F.style=jf({},s.style,{},E.style)),F.className=Array.prototype.concat(l,S,A!==S?A:null,s.className,E.className).filter(Boolean).join(" "),F.ref=f,ua.createElement(P,F)}(h,u,n,t)};return r.displayName=C,(h=Bi.forwardRef(r)).attrs=L,h.componentStyle=d,h.displayName=C,h.shouldForwardProp=x,h.foldedComponentIds=pe?Array.prototype.concat(k.foldedComponentIds,k.styledComponentId):sg,h.styledComponentId=a,h.target=pe?k.target:k,h.withComponent=function(u){var n=G.componentId,i=function(o,m){if(o==null)return{};var c,b,v={},l=Object.keys(o);for(b=0;b<l.length;b++)c=l[b],m.indexOf(c)>=0||(v[c]=o[c]);return v}(G,["componentId"]),s=n&&n+"-"+(gp(u)?u:$y(_3(u)));return _A(u,jf({},i,{attrs:L,componentId:s}),ne)},Object.defineProperty(h,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(u){this._foldedDefaultProps=pe?kA({},k.defaultProps,u):u}}),Object.defineProperty(h,"toString",{value:function(){return"."+h.styledComponentId}}),Le&&V7(h,k,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),h}var im=function(k){return function G(ne,pe,Le){if(Le===void 0&&(Le=Jc),!Px.isValidElementType(pe))return T0(1,String(pe));var Ye=function(){return ne(pe,Le,DA.apply(void 0,arguments))};return Ye.withConfig=function(W){return G(ne,pe,jf({},Le,{},W))},Ye.attrs=function(W){return G(ne,pe,jf({},Le,{attrs:Array.prototype.concat(Le.attrs,W).filter(Boolean)}))},Ye}(_A,k)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(k){im[k]=im(k)});function Fx(k){for(var G=arguments.length,ne=new Array(G>1?G-1:0),pe=1;pe<G;pe++)ne[pe-1]=arguments[pe];var Le=DA.apply(void 0,[k].concat(ne)).join(""),Ye=IA(Le);return new RA(Ye,Le)}const A0=im;var zA=globalThis&&globalThis.__makeTemplateObject||function(k,G){return Object.defineProperty?Object.defineProperty(k,"raw",{value:G}):k.raw=G,k},Cu=242.776657104492,w9=1.6,T9=Fx(H3||(H3=zA([`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`],[`
  12.5% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  43.75% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
  100% {
    stroke-dasharray: `,"px, ",`px;
    stroke-dashoffset: -`,`px;
  }
`])),Cu*.14,Cu,Cu*.11,Cu*.35,Cu,Cu*.35,Cu*.01,Cu,Cu*.99);A0.path(V3||(V3=zA([`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`],[`
  stroke-dasharray: `,"px, ",`;
  stroke-dashoffset: 0;
  animation: `," ",`s linear infinite;
`])),Cu*.01,Cu,T9,w9);var H3,V3,G3=globalThis&&globalThis.__assign||function(){return G3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},G3.apply(this,arguments)},W3=globalThis&&globalThis.__assign||function(){return W3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},W3.apply(this,arguments)},Y3=globalThis&&globalThis.__assign||function(){return Y3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},Y3.apply(this,arguments)},j3=globalThis&&globalThis.__assign||function(){return j3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},j3.apply(this,arguments)},Z3=globalThis&&globalThis.__assign||function(){return Z3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},Z3.apply(this,arguments)},X3=globalThis&&globalThis.__assign||function(){return X3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},X3.apply(this,arguments)},K3=globalThis&&globalThis.__assign||function(){return K3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},K3.apply(this,arguments)},A9=function(G,ne){return function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof pe[G]<"u")return pe[G];if(G&&G.indexOf(".")>0){for(var Le=G.split("."),Ye=Le.length,W=pe[Le[0]],V=1;W!=null&&V<Ye;)W=W[Le[V]],V+=1;if(typeof W<"u")return W}return ne}},_x=globalThis&&globalThis.__makeTemplateObject||function(k,G){return Object.defineProperty?Object.defineProperty(k,"raw",{value:G}):k.raw=G,k},J3=globalThis&&globalThis.__assign||function(){return J3=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},J3.apply(this,arguments)},M9=Fx(Q3||(Q3=_x([`
 to {
    transform: rotate(360deg);
  }
`],[`
 to {
    transform: rotate(360deg);
  }
`])));A0.svg($3||($3=_x([`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`],[`
  animation: `,` 0.75s steps(12, end) infinite;
  animation-duration: `,`s;
`])),M9,A9("speed","0.75"));A0.polyline(q3||(q3=_x([`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`],[`
  stroke-width: `,`px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`])),function(k){return k.width});var Q3,$3,q3,ew=globalThis&&globalThis.__assign||function(){return ew=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},ew.apply(this,arguments)},tw=globalThis&&globalThis.__assign||function(){return tw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},tw.apply(this,arguments)},rw=globalThis&&globalThis.__assign||function(){return rw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},rw.apply(this,arguments)},zx=globalThis&&globalThis.__makeTemplateObject||function(k,G){return Object.defineProperty?Object.defineProperty(k,"raw",{value:G}):k.raw=G,k},nw=globalThis&&globalThis.__assign||function(){return nw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},nw.apply(this,arguments)},S9=Fx(aw||(aw=zx([`
 to {
    stroke-dashoffset: 136;
  }
`],[`
 to {
    stroke-dashoffset: 136;
  }
`])));A0.polygon(iw||(iw=zx([`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`],[`
  stroke-dasharray: 17;
  animation: `,` 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`])),S9);A0.svg(ow||(ow=zx([`
  transform-origin: 50% 65%;
`],[`
  transform-origin: 50% 65%;
`])));var aw,iw,ow,sw=globalThis&&globalThis.__assign||function(){return sw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},sw.apply(this,arguments)},lw=globalThis&&globalThis.__assign||function(){return lw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},lw.apply(this,arguments)},uw=globalThis&&globalThis.__assign||function(){return uw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},uw.apply(this,arguments)},fw=globalThis&&globalThis.__assign||function(){return fw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},fw.apply(this,arguments)},cw=globalThis&&globalThis.__assign||function(){return cw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},cw.apply(this,arguments)},hw=globalThis&&globalThis.__assign||function(){return hw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},hw.apply(this,arguments)},vw=globalThis&&globalThis.__assign||function(){return vw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},vw.apply(this,arguments)},dw=globalThis&&globalThis.__assign||function(){return dw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},dw.apply(this,arguments)},pw=globalThis&&globalThis.__assign||function(){return pw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},pw.apply(this,arguments)},gw=globalThis&&globalThis.__assign||function(){return gw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},gw.apply(this,arguments)},om=globalThis&&globalThis.__assign||function(){return om=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},om.apply(this,arguments)};function E9(k){var G=k.visible,ne=G===void 0?!0:G,pe=k.width,Le=pe===void 0?"80":pe,Ye=k.height,W=Ye===void 0?"80":Ye,V=k.colors,e=V===void 0?["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]:V,y=k.wrapperClass,C=y===void 0?"":y,a=k.wrapperStyle,L=a===void 0?{}:a,x=k.ariaLabel,h=x===void 0?"color-ring-loading":x;return ne?Bi.createElement("svg",om({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:Le,height:W,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:C,style:L,"aria-label":h,"data-testid":"color-ring-svg"},M7),Bi.createElement("defs",null,Bi.createElement("mask",{id:"ldio-4offds5dlws-mask"},Bi.createElement("circle",{cx:"50",cy:"50",r:"26",stroke:"#fff",strokeLinecap:"round",strokeDasharray:"122.52211349000194 40.840704496667314",strokeWidth:"9",transform:"rotate(198.018 50 50)"},Bi.createElement("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"})))),Bi.createElement("g",{mask:"url(#ldio-4offds5dlws-mask)"},Bi.createElement("rect",{x:"14.5",y:"0",width:"15",height:"100",fill:e[0]},Bi.createElement("animate",{attributeName:"fill",values:e.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.8s"})),Bi.createElement("rect",{x:"28.5",y:"0",width:"15",height:"100",fill:e[1]},Bi.createElement("animate",{attributeName:"fill",values:e.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.6s"})),Bi.createElement("rect",{x:"42.5",y:"0",width:"15",height:"100",fill:e[2]},Bi.createElement("animate",{attributeName:"fill",values:e.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.4s"})),Bi.createElement("rect",{x:"56.5",y:"0",width:"15",height:"100",fill:e[3]},Bi.createElement("animate",{attributeName:"fill",values:e.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.2s"})),Bi.createElement("rect",{x:"70.5",y:"0",width:"15",height:"100",fill:e[4]},Bi.createElement("animate",{attributeName:"fill",values:e.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"0s"})))):null}var yw=globalThis&&globalThis.__assign||function(){return yw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},yw.apply(this,arguments)},mw=globalThis&&globalThis.__assign||function(){return mw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},mw.apply(this,arguments)},xw=globalThis&&globalThis.__assign||function(){return xw=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},xw.apply(this,arguments)};const Ox=()=>Bn.jsx(E9,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#0056b3","#0056b3","#0056b3","#0056b3","#0056b3"]});var sm={exports:{}},lm={exports:{}},um={exports:{}},fm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});var ne={overlay:function(Le){return{position:"fixed",zIndex:1e3,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.3)",opacity:Le?1:0,MozTransform:Le?"":"translate3d(100%, 0, 0)",MsTransform:Le?"":"translate3d(100%, 0, 0)",OTransform:Le?"":"translate3d(100%, 0, 0)",WebkitTransform:Le?"":"translate3d(100%, 0, 0)",transform:Le?"":"translate3d(100%, 0, 0)",transition:Le?"opacity 0.3s":"opacity 0.3s, transform 0s 0.3s"}},menuWrap:function(Le,Ye,W){return{position:"fixed",right:W?0:"inherit",zIndex:1100,width:Ye,height:"100%",MozTransform:Le?"":W?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",MsTransform:Le?"":W?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",OTransform:Le?"":W?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",WebkitTransform:Le?"":W?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",transform:Le?"":W?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",transition:"all 0.5s"}},menu:function(){return{height:"100%",boxSizing:"border-box",overflow:"auto"}},itemList:function(){return{height:"100%"}},item:function(){return{display:"block"}}};G.default=ne,k.exports=G.default})(fm,fm.exports);var C9=fm.exports,ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.focusOnFirstMenuItem=OA;ec.focusOnLastMenuItem=BA;ec.focusOnCrossButton=NA;ec.focusOnMenuButton=L9;ec.focusOnMenuItem=Bx;ec.focusOnNextMenuItem=P9;ec.focusOnPreviousMenuItem=R9;function OA(){var k=Array.from(document.getElementsByClassName("bm-item")).shift();k&&k.focus()}function BA(){var k=Array.from(document.getElementsByClassName("bm-item")).pop();k&&k.focus()}function NA(){var k=document.getElementById("react-burger-cross-btn");k&&k.focus()}function L9(){var k=document.getElementById("react-burger-menu-btn");k&&k.focus()}function Bx(k){if(document.activeElement.className.includes("bm-item")){var G=document.activeElement[k];G?G.focus():NA()}else k==="previousElementSibling"?BA():OA()}function P9(){Bx("nextElementSibling")}function R9(){Bx("previousElementSibling")}var cm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});var ne=Object.assign||function(x){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(x[t]=d[t])}return x},pe=function(){function x(h,d){for(var t=0;t<d.length;t++){var r=d[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(h,r.key,r)}}return function(h,d,t){return d&&x(h.prototype,d),t&&x(h,t),h}}(),Le=function(h,d,t){var r=!0;e:for(;r;){var u=h,n=d,i=t;r=!1,u===null&&(u=Function.prototype);var s=Object.getOwnPropertyDescriptor(u,n);if(s===void 0){var o=Object.getPrototypeOf(u);if(o===null)return;h=o,d=n,t=i,r=!0,s=o=void 0;continue e}else{if("value"in s)return s.value;var m=s.get;return m===void 0?void 0:m.call(i)}}};function Ye(x){return x&&x.__esModule?x:{default:x}}function W(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}function V(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);x.prototype=Object.create(h&&h.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(x,h):x.__proto__=h)}var e=ua,y=Ye(e),C=kg,a=Ye(C),L=function(x){V(h,x);function h(d){W(this,h),Le(Object.getPrototypeOf(h.prototype),"constructor",this).call(this,d),this.state={hover:!1}}return pe(h,[{key:"getLineStyle",value:function(t){return ne({position:"absolute",height:"20%",left:0,right:0,top:20*(t*2)+"%",opacity:this.state.hover?.6:1},this.state.hover&&this.props.styles.bmBurgerBarsHover)}},{key:"render",value:function(){var t=this,r=void 0,u={position:"absolute",left:0,top:0,zIndex:1,width:"100%",height:"100%",margin:0,padding:0,border:"none",fontSize:0,background:"transparent",cursor:"pointer"};if(this.props.customIcon){var n={className:("bm-icon "+(this.props.customIcon.props.className||"")).trim(),style:ne({width:"100%",height:"100%"},this.props.styles.bmIcon)};r=y.default.cloneElement(this.props.customIcon,n)}else r=y.default.createElement("span",null,[0,1,2].map(function(i){return y.default.createElement("span",{key:i,className:("bm-burger-bars "+t.props.barClassName+" "+(t.state.hover?"bm-burger-bars-hover":"")).trim(),style:ne({},t.getLineStyle(i),t.props.styles.bmBurgerBars)})}));return y.default.createElement("div",{className:("bm-burger-button "+this.props.className).trim(),style:ne({zIndex:1e3},this.props.styles.bmBurgerButton)},y.default.createElement("button",{type:"button",id:"react-burger-menu-btn",onClick:this.props.onClick,onMouseOver:function(){t.setState({hover:!0}),t.props.onIconHoverChange&&t.props.onIconHoverChange({isMouseIn:!0})},onMouseOut:function(){t.setState({hover:!1}),t.props.onIconHoverChange&&t.props.onIconHoverChange({isMouseIn:!1})},style:u},"Open Menu"),r)}}]),h}(e.Component);G.default=L,L.propTypes={barClassName:a.default.string,customIcon:a.default.element,styles:a.default.object},L.defaultProps={barClassName:"",className:"",styles:{}},k.exports=G.default})(cm,cm.exports);var D9=cm.exports,hm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});var ne=Object.assign||function(x){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(x[t]=d[t])}return x},pe=function(){function x(h,d){for(var t=0;t<d.length;t++){var r=d[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(h,r.key,r)}}return function(h,d,t){return d&&x(h.prototype,d),t&&x(h,t),h}}(),Le=function(h,d,t){var r=!0;e:for(;r;){var u=h,n=d,i=t;r=!1,u===null&&(u=Function.prototype);var s=Object.getOwnPropertyDescriptor(u,n);if(s===void 0){var o=Object.getPrototypeOf(u);if(o===null)return;h=o,d=n,t=i,r=!0,s=o=void 0;continue e}else{if("value"in s)return s.value;var m=s.get;return m===void 0?void 0:m.call(i)}}};function Ye(x){return x&&x.__esModule?x:{default:x}}function W(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}function V(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);x.prototype=Object.create(h&&h.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(x,h):x.__proto__=h)}var e=ua,y=Ye(e),C=kg,a=Ye(C),L=function(x){V(h,x);function h(){W(this,h),Le(Object.getPrototypeOf(h.prototype),"constructor",this).apply(this,arguments)}return pe(h,[{key:"getCrossStyle",value:function(t){return{position:"absolute",width:3,height:14,transform:t==="before"?"rotate(45deg)":"rotate(-45deg)"}}},{key:"render",value:function(){var t=this,r,u={position:"absolute",width:24,height:24,right:8,top:8},n={position:"absolute",left:0,top:0,zIndex:1,width:"100%",height:"100%",margin:0,padding:0,border:"none",fontSize:0,background:"transparent",cursor:"pointer"};if(this.props.customIcon){var i={className:("bm-cross "+(this.props.customIcon.props.className||"")).trim(),style:ne({width:"100%",height:"100%"},this.props.styles.bmCross)};r=y.default.cloneElement(this.props.customIcon,i)}else r=y.default.createElement("span",{style:{position:"absolute",top:"6px",right:"14px"}},["before","after"].map(function(s,o){return y.default.createElement("span",{key:o,className:("bm-cross "+t.props.crossClassName).trim(),style:ne({},t.getCrossStyle(s),t.props.styles.bmCross)})}));return y.default.createElement("div",{className:("bm-cross-button "+this.props.className).trim(),style:ne({},u,this.props.styles.bmCrossButton)},y.default.createElement("button",ne({type:"button",id:"react-burger-cross-btn",onClick:this.props.onClick,style:n},!this.props.isOpen&&{tabIndex:-1}),"Close Menu"),r)}}]),h}(e.Component);G.default=L,L.propTypes={crossClassName:a.default.string,customIcon:a.default.element,isOpen:a.default.bool,styles:a.default.object},L.defaultProps={crossClassName:"",className:"",styles:{},isOpen:!1},k.exports=G.default})(hm,hm.exports);var I9=hm.exports;(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});var ne=function(){function r(u,n){var i=[],s=!0,o=!1,m=void 0;try{for(var c=u[Symbol.iterator](),b;!(s=(b=c.next()).done)&&(i.push(b.value),!(n&&i.length===n));s=!0);}catch(v){o=!0,m=v}finally{try{!s&&c.return&&c.return()}finally{if(o)throw m}}return i}return function(u,n){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return r(u,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pe=Object.assign||function(r){for(var u=1;u<arguments.length;u++){var n=arguments[u];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r};function Le(r){return r&&r.__esModule?r:{default:r}}var Ye=ua,W=Le(Ye),V=N5;Le(V);var e=kg,y=Le(e),C=C9,a=Le(C),L=ec,x=D9,h=Le(x),d=I9,t=Le(d);G.default=function(r){if(!r)throw new Error("No styles supplied");var u="ArrowDown",n="ArrowUp",i="Escape",s=" ",o="Home",m="End";function c(v){var l=W.default.useRef(v);return W.default.useEffect(function(){l.current=v}),l.current}var b=function(l){var p=W.default.useState(!1),S=ne(p,2),M=S[0],R=S[1],T=W.default.useRef(),E=W.default.useRef({}),A=c(l.isOpen);W.default.useEffect(function(){return l.isOpen&&f({isOpen:!0,noStateChange:!0}),function(){_(!1),B()}},[]),W.default.useEffect(function(){var K=typeof l.isOpen<"u"&&l.isOpen!==M&&l.isOpen!==A;if(K){f();return}r.svg&&function(){var re=document.getElementById("bm-morph-shape"),ae=r.svg.lib(re).select("path");M?r.svg.animate(ae):setTimeout(function(){ae.attr("d",r.svg.pathInitial)},300)}()}),W.default.useEffect(function(){var K=E.current,re=K.noStateChange,ae=K.focusOnLastItem;re||l.onStateChange({isOpen:M}),l.disableAutoFocus||(M?ae?(0,L.focusOnLastMenuItem)():(0,L.focusOnFirstMenuItem)():document.activeElement?document.activeElement.blur():document.body.blur()),B(),T.current=setTimeout(function(){T.current=null,M||_(!1)},500);var ue=M?N:O,ve=l.customOnKeyDown||ue;return window.addEventListener("keydown",ve),function(){window.removeEventListener("keydown",ve)}},[M]);function f(){var K=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];E.current=K,_(),setTimeout(function(){R(function(re){return typeof K.isOpen<"u"?K.isOpen:!re})})}function P(){typeof l.onOpen=="function"?l.onOpen():f()}function w(){typeof l.onClose=="function"?l.onClose():f()}function z(K,re){var ae=l.width,ue=l.right,ve=typeof ae!="string"?ae+"px":ae;return K(M,ve,ue,re)}function F(K,re,ae){var ue="bm"+K.replace(K.charAt(0),K.charAt(0).toUpperCase()),ve=a.default[K]?z(a.default[K]):{};return r[K]&&(ve=pe({},ve,z(r[K],re+1))),l.styles[ue]&&(ve=pe({},ve,l.styles[ue])),ae&&(ve=pe({},ve,ae)),l.noTransition&&delete ve.transition,ve}function H(K,re,ae){var ue=document.getElementById(K);if(!ue){console.error("Element with ID '"+K+"' not found");return}var ve=z(re);for(var ee in ve)ve.hasOwnProperty(ee)&&(ue.style[ee]=ae?ve[ee]:"");var J=function(X){return X.style["overflow-x"]=ae?"hidden":""};l.htmlClassName||J(document.querySelector("html")),l.bodyClassName||J(document.querySelector("body"))}function _(){var K=arguments.length<=0||arguments[0]===void 0?!0:arguments[0],re=function(ve,ee){return ve.classList[K?"add":"remove"](ee)};l.htmlClassName&&re(document.querySelector("html"),l.htmlClassName),l.bodyClassName&&re(document.querySelector("body"),l.bodyClassName),r.pageWrap&&l.pageWrapId&&H(l.pageWrapId,r.pageWrap,K),r.outerContainer&&l.outerContainerId&&H(l.outerContainerId,r.outerContainer,K);var ae=document.querySelector(".bm-menu-wrap");ae&&(K?ae.removeAttribute("hidden"):ae.setAttribute("hidden",!0))}function B(){T.current&&clearTimeout(T.current)}function N(K){switch(K=K||window.event,K.key){case i:l.disableCloseOnEsc||(w(),(0,L.focusOnMenuButton)());break;case u:(0,L.focusOnNextMenuItem)();break;case n:(0,L.focusOnPreviousMenuItem)();break;case o:(0,L.focusOnFirstMenuItem)();break;case m:(0,L.focusOnLastMenuItem)();break}}function O(K){if(K=K||window.event,K.target===document.getElementById("react-burger-menu-btn"))switch(K.key){case u:case s:f();break;case n:f({focusOnLastItem:!0});break}}function U(){l.disableOverlayClick===!0||typeof l.disableOverlayClick=="function"&&l.disableOverlayClick()||w()}return W.default.createElement("div",null,!l.noOverlay&&W.default.createElement("div",{className:("bm-overlay "+l.overlayClassName).trim(),onClick:U,style:F("overlay")}),l.customBurgerIcon!==!1&&W.default.createElement("div",{style:F("burgerIcon")},W.default.createElement(h.default,{onClick:P,styles:l.styles,customIcon:l.customBurgerIcon,className:l.burgerButtonClassName,barClassName:l.burgerBarClassName,onIconStateChange:l.onIconStateChange})),W.default.createElement("div",{id:l.id,className:("bm-menu-wrap "+l.className).trim(),style:F("menuWrap"),"aria-hidden":!M},r.svg&&W.default.createElement("div",{id:"bm-morph-shape",className:("bm-morph-shape "+l.morphShapeClassName).trim(),style:F("morphShape")},W.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 100 800",preserveAspectRatio:"none"},W.default.createElement("path",{d:r.svg.pathInitial}))),W.default.createElement("div",{className:("bm-menu "+l.menuClassName).trim(),style:F("menu")},W.default.createElement(l.itemListElement,{className:("bm-item-list "+l.itemListClassName).trim(),style:F("itemList")},W.default.Children.map(l.children,function(K,re){if(K){var ae=["bm-item",l.itemClassName,K.props.className].filter(function(ve){return!!ve}).join(" "),ue=pe({key:re,className:ae,style:F("item",re,K.props.style)},!M&&{tabIndex:-1});return W.default.cloneElement(K,ue)}}))),l.customCrossIcon!==!1&&W.default.createElement("div",{style:F("closeButton")},W.default.createElement(t.default,{onClick:w,styles:l.styles,customIcon:l.customCrossIcon,className:l.crossButtonClassName,crossClassName:l.crossClassName,isOpen:M}))))};return b.propTypes={bodyClassName:y.default.string,burgerBarClassName:y.default.string,burgerButtonClassName:y.default.string,className:y.default.string,crossButtonClassName:y.default.string,crossClassName:y.default.string,customBurgerIcon:y.default.oneOfType([y.default.element,y.default.oneOf([!1])]),customCrossIcon:y.default.oneOfType([y.default.element,y.default.oneOf([!1])]),customOnKeyDown:y.default.func,disableAutoFocus:y.default.bool,disableCloseOnEsc:y.default.bool,disableOverlayClick:y.default.oneOfType([y.default.bool,y.default.func]),htmlClassName:y.default.string,id:y.default.string,isOpen:y.default.bool,itemClassName:y.default.string,itemListClassName:y.default.string,itemListElement:y.default.oneOf(["div","nav"]),menuClassName:y.default.string,morphShapeClassName:y.default.string,noOverlay:y.default.bool,noTransition:y.default.bool,onClose:y.default.func,onIconHoverChange:y.default.func,onOpen:y.default.func,onStateChange:y.default.func,outerContainerId:r&&r.outerContainer?y.default.string.isRequired:y.default.string,overlayClassName:y.default.string,pageWrapId:r&&r.pageWrap?y.default.string.isRequired:y.default.string,right:y.default.bool,styles:y.default.object,width:y.default.oneOfType([y.default.number,y.default.string])},b.defaultProps={bodyClassName:"",burgerBarClassName:"",burgerButtonClassName:"",className:"",crossButtonClassName:"",crossClassName:"",disableAutoFocus:!1,disableCloseOnEsc:!1,htmlClassName:"",id:"",itemClassName:"",itemListClassName:"",menuClassName:"",morphShapeClassName:"",noOverlay:!1,noTransition:!1,onStateChange:function(){},outerContainerId:"",overlayClassName:"",pageWrapId:"",styles:{},width:300,onIconHoverChange:function(){},itemListElement:"nav"},b},k.exports=G.default})(um,um.exports);var cf=um.exports;(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={};G.default=(0,Le.default)(Ye),k.exports=G.default})(lm,lm.exports);var k9=lm.exports,vm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={menuWrap:function(V,e,y){return{MozTransform:V?"":y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)",MsTransform:V?"":y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)",OTransform:V?"":y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)",WebkitTransform:V?"":y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)",transform:V?"":y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)",transition:V?"transform 0.8s cubic-bezier(0.7, 0, 0.3, 1)":"transform 0.4s cubic-bezier(0.7, 0, 0.3, 1)"}},item:function(V,e,y,C){return{MozTransform:V?"":"translate3d(0, "+C*500+"px, 0)",MsTransform:V?"":"translate3d(0, "+C*500+"px, 0)",OTransform:V?"":"translate3d(0, "+C*500+"px, 0)",WebkitTransform:V?"":"translate3d(0, "+C*500+"px, 0)",transform:V?"":"translate3d(0, "+C*500+"px, 0)",transition:V?"transform 0.8s cubic-bezier(0.7, 0, 0.3, 1)":"transform 0s 0.2s cubic-bezier(0.7, 0, 0.3, 1)"}}};G.default=(0,Le.default)(Ye),k.exports=G.default})(vm,vm.exports);var F9=vm.exports,dm={exports:{}},pm={exports:{}},e1={exports:{}},bw;function _9(){return bw||(bw=1,function(k){(function(G){var ne="0.5.4",pe="hasOwnProperty",Le=/[\.\/]/,Ye=/\s*,\s*/,W="*",V=function(r,u){return r-u},e,y,C={n:{}},a=function(){for(var r=0,u=this.length;r<u;r++)if(typeof this[r]<"u")return this[r]},L=function(){for(var r=this.length;--r;)if(typeof this[r]<"u")return this[r]},x=Object.prototype.toString,h=String,d=Array.isArray||function(r){return r instanceof Array||x.call(r)=="[object Array]"},t=function(r,u){var n=y,i=Array.prototype.slice.call(arguments,2),s=t.listeners(r),o=0,m,c=[],b={},v=[],l=e;v.firstDefined=a,v.lastDefined=L,e=r,y=0;for(var p=0,S=s.length;p<S;p++)"zIndex"in s[p]&&(c.push(s[p].zIndex),s[p].zIndex<0&&(b[s[p].zIndex]=s[p]));for(c.sort(V);c[o]<0;)if(m=b[c[o++]],v.push(m.apply(u,i)),y)return y=n,v;for(p=0;p<S;p++)if(m=s[p],"zIndex"in m)if(m.zIndex==c[o]){if(v.push(m.apply(u,i)),y)break;do if(o++,m=b[c[o]],m&&v.push(m.apply(u,i)),y)break;while(m)}else b[m.zIndex]=m;else if(v.push(m.apply(u,i)),y)break;return y=n,e=l,v};t._events=C,t.listeners=function(r){var u=d(r)?r:r.split(Le),n=C,i,s,o,m,c,b,v,l,p=[n],S=[];for(m=0,c=u.length;m<c;m++){for(l=[],b=0,v=p.length;b<v;b++)for(n=p[b].n,s=[n[u[m]],n[W]],o=2;o--;)i=s[o],i&&(l.push(i),S=S.concat(i.f||[]));p=l}return S},t.separator=function(r){r?(r=h(r).replace(/(?=[\.\^\]\[\-])/g,"\\"),r="["+r+"]",Le=new RegExp(r)):Le=/[\.\/]/},t.on=function(r,u){if(typeof u!="function")return function(){};for(var n=d(r)?d(r[0])?r:[r]:h(r).split(Ye),i=0,s=n.length;i<s;i++)(function(o){for(var m=d(o)?o:h(o).split(Le),c=C,b,v=0,l=m.length;v<l;v++)c=c.n,c=c.hasOwnProperty(m[v])&&c[m[v]]||(c[m[v]]={n:{}});for(c.f=c.f||[],v=0,l=c.f.length;v<l;v++)if(c.f[v]==u){b=!0;break}!b&&c.f.push(u)})(n[i]);return function(o){+o==+o&&(u.zIndex=+o)}},t.f=function(r){var u=[].slice.call(arguments,1);return function(){t.apply(null,[r,null].concat(u).concat([].slice.call(arguments,0)))}},t.stop=function(){y=1},t.nt=function(r){var u=d(e)?e.join("."):e;return r?new RegExp("(?:\\.|\\/|^)"+r+"(?:\\.|\\/|$)").test(u):u},t.nts=function(){return d(e)?e:e.split(Le)},t.off=t.unbind=function(r,u){if(!r){t._events=C={n:{}};return}var n=d(r)?d(r[0])?r:[r]:h(r).split(Ye);if(n.length>1){for(var m=0,c=n.length;m<c;m++)t.off(n[m],u);return}n=d(r)?r:h(r).split(Le);var i,s,o,m,c,b,v,l=[C],p=[];for(m=0,c=n.length;m<c;m++)for(b=0;b<l.length;b+=o.length-2){if(o=[b,1],i=l[b].n,n[m]!=W)i[n[m]]&&(o.push(i[n[m]]),p.unshift({n:i,name:n[m]}));else for(s in i)i[pe](s)&&(o.push(i[s]),p.unshift({n:i,name:s}));l.splice.apply(l,o)}for(m=0,c=l.length;m<c;m++)for(i=l[m];i.n;){if(u){if(i.f){for(b=0,v=i.f.length;b<v;b++)if(i.f[b]==u){i.f.splice(b,1);break}!i.f.length&&delete i.f}for(s in i.n)if(i.n[pe](s)&&i.n[s].f){var S=i.n[s].f;for(b=0,v=S.length;b<v;b++)if(S[b]==u){S.splice(b,1);break}!S.length&&delete i.n[s].f}}else{delete i.f;for(s in i.n)i.n[pe](s)&&i.n[s].f&&delete i.n[s].f}i=i.n}e:for(m=0,c=p.length;m<c;m++){i=p[m];for(s in i.n[i.name].f)continue e;for(s in i.n[i.name].n)continue e;delete i.n[i.name]}},t.once=function(r,u){var n=function(){return t.off(r,n),u.apply(this,arguments)};return t.on(r,n)},t.version=ne,t.toString=function(){return"You are running Eve "+ne},G.eve=t,k.exports?k.exports=t:G.eve=t})(typeof window<"u"?window:Mw)}(e1)),e1.exports}var t1,ww;function z9(){if(ww)return t1;ww=1,window.eve=_9();var k=function(ne){var pe={},Le=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){return setTimeout(i,16,new Date().getTime()),!0},Ye,W=Array.isArray||function(i){return i instanceof Array||Object.prototype.toString.call(i)=="[object Array]"},V=0,e="M"+(+new Date).toString(36),y=function(){return e+(V++).toString(36)},C=Date.now||function(){return+new Date},a=function(i){var s=this;if(i==null)return s.s;var o=s.s-i;s.b+=s.dur*o,s.B+=s.dur*o,s.s=i},L=function(i){var s=this;if(i==null)return s.spd;s.spd=i},x=function(i){var s=this;if(i==null)return s.dur;s.s=s.s*i/s.dur,s.dur=i},h=function(){var i=this;delete pe[i.id],i.update(),ne("mina.stop."+i.id,i)},d=function(){var i=this;i.pdif||(delete pe[i.id],i.update(),i.pdif=i.get()-i.b)},t=function(){var i=this;i.pdif&&(i.b=i.get()-i.pdif,delete i.pdif,pe[i.id]=i,u())},r=function(){var i=this,s;if(W(i.start)){s=[];for(var o=0,m=i.start.length;o<m;o++)s[o]=+i.start[o]+(i.end[o]-i.start[o])*i.easing(i.s)}else s=+i.start+(i.end-i.start)*i.easing(i.s);i.set(s)},u=function(i){if(!i){Ye||(Ye=Le(u));return}var s=0;for(var o in pe)if(pe.hasOwnProperty(o)){var m=pe[o],c=m.get();s++,m.s=(c-m.b)/(m.dur/m.spd),m.s>=1&&(delete pe[o],m.s=1,s--,function(b){setTimeout(function(){ne("mina.finish."+b.id,b)})}(m)),m.update()}Ye=s?Le(u):!1},n=function(i,s,o,m,c,b,v){var l={id:y(),start:i,end:s,b:o,s:0,dur:m-o,spd:1,get:c,set:b,easing:v||n.linear,status:a,speed:L,duration:x,stop:h,pause:d,resume:t,update:r};pe[l.id]=l;var p=0,S;for(S in pe)if(pe.hasOwnProperty(S)&&(p++,p==2))break;return p==1&&u(),l};return n.time=C,n.getById=function(i){return pe[i]||null},n.linear=function(i){return i},n.easeout=function(i){return Math.pow(i,1.7)},n.easein=function(i){return Math.pow(i,.48)},n.easeinout=function(i){if(i==1)return 1;if(i==0)return 0;var s=.48-i/1.04,o=Math.sqrt(.1734+s*s),m=o-s,c=Math.pow(Math.abs(m),1/3)*(m<0?-1:1),b=-o-s,v=Math.pow(Math.abs(b),1/3)*(b<0?-1:1),l=c+v+.5;return(1-l)*3*l*l+l*l*l},n.backin=function(i){if(i==1)return 1;var s=1.70158;return i*i*((s+1)*i-s)},n.backout=function(i){if(i==0)return 0;i=i-1;var s=1.70158;return i*i*((s+1)*i+s)+1},n.elastic=function(i){return i==!!i?i:Math.pow(2,-10*i)*Math.sin((i-.075)*(2*Math.PI)/.3)+1},n.bounce=function(i){var s=7.5625,o=2.75,m;return i<1/o?m=s*i*i:i<2/o?(i-=1.5/o,m=s*i*i+.75):i<2.5/o?(i-=2.25/o,m=s*i*i+.9375):(i-=2.625/o,m=s*i*i+.984375),m},window.mina=n,n}(typeof eve>"u"?function(){}:eve),G=function(ne){pe.version="0.5.1";function pe(Y,Z){if(Y){if(Y.nodeType)return Q(Y);if(S(Y,"array")&&pe.set)return pe.set.apply(pe,Y);if(Y instanceof ue)return Y;if(Z==null)try{return Y=Le.doc.querySelector(String(Y)),Q(Y)}catch{return null}}return Y=Y??"100%",Z=Z??"100%",new J(Y,Z)}pe.toString=function(){return"Snap v"+this.version},pe._={};var Le={win:ne.window,doc:ne.window.document};pe._.glob=Le;var Ye="hasOwnProperty",W=String,V=parseFloat,e=parseInt,y=Math,C=y.max,a=y.min,L=y.abs,x=y.PI,h="",d=Object.prototype.toString,t=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;pe._.separator=/[,\s]+/;var r=/[\s]*,[\s]*/,u={hs:1,rg:1},n=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,i=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,s=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/ig,o=0,m="S"+(+new Date).toString(36),c=function(Y){return(Y&&Y.type?Y.type:h)+m+(o++).toString(36)},b="http://www.w3.org/1999/xlink",v="http://www.w3.org/2000/svg",l={};pe.url=function(Y){return"url('#"+Y+"')"};function p(Y,Z){if(Z){if(Y=="#text"&&(Y=Le.doc.createTextNode(Z.text||Z["#text"]||"")),Y=="#comment"&&(Y=Le.doc.createComment(Z.text||Z["#text"]||"")),typeof Y=="string"&&(Y=p(Y)),typeof Z=="string")return Y.nodeType==1?Z.substring(0,6)=="xlink:"?Y.getAttributeNS(b,Z.substring(6)):Z.substring(0,4)=="xml:"?Y.getAttributeNS(v,Z.substring(4)):Y.getAttribute(Z):Z=="text"?Y.nodeValue:null;if(Y.nodeType==1){for(var ie in Z)if(Z[Ye](ie)){var te=W(Z[ie]);te?ie.substring(0,6)=="xlink:"?Y.setAttributeNS(b,ie.substring(6),te):ie.substring(0,4)=="xml:"?Y.setAttributeNS(v,ie.substring(4),te):Y.setAttribute(ie,te):Y.removeAttribute(ie)}}else"text"in Z&&(Y.nodeValue=Z.text)}else Y=Le.doc.createElementNS(v,Y);return Y}pe._.$=p,pe._.id=c;function S(Y,Z){return Z=W.prototype.toLowerCase.call(Z),Z=="finite"?isFinite(Y):Z=="array"&&(Y instanceof Array||Array.isArray&&Array.isArray(Y))?!0:Z=="null"&&Y===null||Z==typeof Y&&Y!==null||Z=="object"&&Y===Object(Y)||d.call(Y).slice(8,-1).toLowerCase()==Z}pe.format=function(){var Y=/\{([^\}]+)\}/g,Z=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,ie=function(te,fe,de){var we=de;return fe.replace(Z,function(Ae,Re,Fe,Se,Te){Re=Re||Se,we&&(Re in we&&(we=we[Re]),typeof we=="function"&&Te&&(we=we()))}),we=(we==null||we==de?te:we)+"",we};return function(te,fe){return W(te).replace(Y,function(de,we){return ie(de,we,fe)})}}();function M(Y){if(typeof Y=="function"||Object(Y)!==Y)return Y;var Z=new Y.constructor;for(var ie in Y)Y[Ye](ie)&&(Z[ie]=M(Y[ie]));return Z}pe._.clone=M;function R(Y,Z){for(var ie=0,te=Y.length;ie<te;ie++)if(Y[ie]===Z)return Y.push(Y.splice(ie,1)[0])}function T(Y,Z,ie){function te(){var fe=Array.prototype.slice.call(arguments,0),de=fe.join(""),we=te.cache=te.cache||{},Ae=te.count=te.count||[];return we[Ye](de)?(R(Ae,de),ie?ie(we[de]):we[de]):(Ae.length>=1e3&&delete we[Ae.shift()],Ae.push(de),we[de]=Y.apply(Z,fe),ie?ie(we[de]):we[de])}return te}pe._.cacher=T;function E(Y,Z,ie,te,fe,de){if(fe==null){var we=Y-ie,Ae=Z-te;return!we&&!Ae?0:(180+y.atan2(-Ae,-we)*180/x+360)%360}else return E(Y,Z,fe,de)-E(ie,te,fe,de)}function A(Y){return Y%360*x/180}function f(Y){return Y*180/x%360}pe.rad=A,pe.deg=f,pe.sin=function(Y){return y.sin(pe.rad(Y))},pe.tan=function(Y){return y.tan(pe.rad(Y))},pe.cos=function(Y){return y.cos(pe.rad(Y))},pe.asin=function(Y){return pe.deg(y.asin(Y))},pe.acos=function(Y){return pe.deg(y.acos(Y))},pe.atan=function(Y){return pe.deg(y.atan(Y))},pe.atan2=function(Y){return pe.deg(y.atan2(Y))},pe.angle=E,pe.len=function(Y,Z,ie,te){return Math.sqrt(pe.len2(Y,Z,ie,te))},pe.len2=function(Y,Z,ie,te){return(Y-ie)*(Y-ie)+(Z-te)*(Z-te)},pe.closestPoint=function(Y,Z,ie){function te(qe){var rt=qe.x-Z,ft=qe.y-ie;return rt*rt+ft*ft}for(var fe=Y.node,de=fe.getTotalLength(),we=de/fe.pathSegList.numberOfItems*.125,Ae,Re,Fe=1/0,Se,Te=0,Ee;Te<=de;Te+=we)(Ee=te(Se=fe.getPointAtLength(Te)))<Fe&&(Ae=Se,Re=Te,Fe=Ee);for(we*=.5;we>.5;){var Ne,He,_e,We,tt,Ke;(_e=Re-we)>=0&&(tt=te(Ne=fe.getPointAtLength(_e)))<Fe?(Ae=Ne,Re=_e,Fe=tt):(We=Re+we)<=de&&(Ke=te(He=fe.getPointAtLength(We)))<Fe?(Ae=He,Re=We,Fe=Ke):we*=.5}return Ae={x:Ae.x,y:Ae.y,length:Re,distance:Math.sqrt(Fe)},Ae},pe.is=S,pe.snapTo=function(Y,Z,ie){if(ie=S(ie,"finite")?ie:10,S(Y,"array")){for(var te=Y.length;te--;)if(L(Y[te]-Z)<=ie)return Y[te]}else{Y=+Y;var fe=Z%Y;if(fe<ie)return Z-fe;if(fe>Y-ie)return Z-fe+Y}return Z},pe.getRGB=T(function(Y){if(!Y||(Y=W(Y)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:F};if(Y=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:F};if(!(u[Ye](Y.toLowerCase().substring(0,2))||Y.charAt()=="#")&&(Y=P(Y)),!Y)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:F};var Z,ie,te,fe,de,we,Ae=Y.match(t);return Ae?(Ae[2]&&(te=e(Ae[2].substring(5),16),ie=e(Ae[2].substring(3,5),16),Z=e(Ae[2].substring(1,3),16)),Ae[3]&&(te=e((de=Ae[3].charAt(3))+de,16),ie=e((de=Ae[3].charAt(2))+de,16),Z=e((de=Ae[3].charAt(1))+de,16)),Ae[4]&&(we=Ae[4].split(r),Z=V(we[0]),we[0].slice(-1)=="%"&&(Z*=2.55),ie=V(we[1]),we[1].slice(-1)=="%"&&(ie*=2.55),te=V(we[2]),we[2].slice(-1)=="%"&&(te*=2.55),Ae[1].toLowerCase().slice(0,4)=="rgba"&&(fe=V(we[3])),we[3]&&we[3].slice(-1)=="%"&&(fe/=100)),Ae[5]?(we=Ae[5].split(r),Z=V(we[0]),we[0].slice(-1)=="%"&&(Z/=100),ie=V(we[1]),we[1].slice(-1)=="%"&&(ie/=100),te=V(we[2]),we[2].slice(-1)=="%"&&(te/=100),(we[0].slice(-3)=="deg"||we[0].slice(-1)=="")&&(Z/=360),Ae[1].toLowerCase().slice(0,4)=="hsba"&&(fe=V(we[3])),we[3]&&we[3].slice(-1)=="%"&&(fe/=100),pe.hsb2rgb(Z,ie,te,fe)):Ae[6]?(we=Ae[6].split(r),Z=V(we[0]),we[0].slice(-1)=="%"&&(Z/=100),ie=V(we[1]),we[1].slice(-1)=="%"&&(ie/=100),te=V(we[2]),we[2].slice(-1)=="%"&&(te/=100),(we[0].slice(-3)=="deg"||we[0].slice(-1)=="")&&(Z/=360),Ae[1].toLowerCase().slice(0,4)=="hsla"&&(fe=V(we[3])),we[3]&&we[3].slice(-1)=="%"&&(fe/=100),pe.hsl2rgb(Z,ie,te,fe)):(Z=a(y.round(Z),255),ie=a(y.round(ie),255),te=a(y.round(te),255),fe=a(C(fe,0),1),Ae={r:Z,g:ie,b:te,toString:F},Ae.hex="#"+(16777216|te|ie<<8|Z<<16).toString(16).slice(1),Ae.opacity=S(fe,"finite")?fe:1,Ae)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:F}},pe),pe.hsb=T(function(Y,Z,ie){return pe.hsb2rgb(Y,Z,ie).hex}),pe.hsl=T(function(Y,Z,ie){return pe.hsl2rgb(Y,Z,ie).hex}),pe.rgb=T(function(Y,Z,ie,te){if(S(te,"finite")){var fe=y.round;return"rgba("+[fe(Y),fe(Z),fe(ie),+te.toFixed(2)]+")"}return"#"+(16777216|ie|Z<<8|Y<<16).toString(16).slice(1)});var P=function(Y){var Z=Le.doc.getElementsByTagName("head")[0]||Le.doc.getElementsByTagName("svg")[0],ie="rgb(255, 0, 0)";return P=T(function(te){if(te.toLowerCase()=="red")return ie;Z.style.color=ie,Z.style.color=te;var fe=Le.doc.defaultView.getComputedStyle(Z,h).getPropertyValue("color");return fe==ie?null:fe}),P(Y)},w=function(){return"hsb("+[this.h,this.s,this.b]+")"},z=function(){return"hsl("+[this.h,this.s,this.l]+")"},F=function(){return this.opacity==1||this.opacity==null?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},H=function(Y,Z,ie){if(Z==null&&S(Y,"object")&&"r"in Y&&"g"in Y&&"b"in Y&&(ie=Y.b,Z=Y.g,Y=Y.r),Z==null&&S(Y,string)){var te=pe.getRGB(Y);Y=te.r,Z=te.g,ie=te.b}return(Y>1||Z>1||ie>1)&&(Y/=255,Z/=255,ie/=255),[Y,Z,ie]},_=function(Y,Z,ie,te){Y=y.round(Y*255),Z=y.round(Z*255),ie=y.round(ie*255);var fe={r:Y,g:Z,b:ie,opacity:S(te,"finite")?te:1,hex:pe.rgb(Y,Z,ie),toString:F};return S(te,"finite")&&(fe.opacity=te),fe};pe.color=function(Y){var Z;return S(Y,"object")&&"h"in Y&&"s"in Y&&"b"in Y?(Z=pe.hsb2rgb(Y),Y.r=Z.r,Y.g=Z.g,Y.b=Z.b,Y.opacity=1,Y.hex=Z.hex):S(Y,"object")&&"h"in Y&&"s"in Y&&"l"in Y?(Z=pe.hsl2rgb(Y),Y.r=Z.r,Y.g=Z.g,Y.b=Z.b,Y.opacity=1,Y.hex=Z.hex):(S(Y,"string")&&(Y=pe.getRGB(Y)),S(Y,"object")&&"r"in Y&&"g"in Y&&"b"in Y&&!("error"in Y)?(Z=pe.rgb2hsl(Y),Y.h=Z.h,Y.s=Z.s,Y.l=Z.l,Z=pe.rgb2hsb(Y),Y.v=Z.b):(Y={hex:"none"},Y.r=Y.g=Y.b=Y.h=Y.s=Y.v=Y.l=-1,Y.error=1)),Y.toString=F,Y},pe.hsb2rgb=function(Y,Z,ie,te){S(Y,"object")&&"h"in Y&&"s"in Y&&"b"in Y&&(ie=Y.b,Z=Y.s,te=Y.o,Y=Y.h),Y*=360;var fe,de,we,Ae,Re;return Y=Y%360/60,Re=ie*Z,Ae=Re*(1-L(Y%2-1)),fe=de=we=ie-Re,Y=~~Y,fe+=[Re,Ae,0,0,Ae,Re][Y],de+=[Ae,Re,Re,Ae,0,0][Y],we+=[0,0,Ae,Re,Re,Ae][Y],_(fe,de,we,te)},pe.hsl2rgb=function(Y,Z,ie,te){S(Y,"object")&&"h"in Y&&"s"in Y&&"l"in Y&&(ie=Y.l,Z=Y.s,Y=Y.h),(Y>1||Z>1||ie>1)&&(Y/=360,Z/=100,ie/=100),Y*=360;var fe,de,we,Ae,Re;return Y=Y%360/60,Re=2*Z*(ie<.5?ie:1-ie),Ae=Re*(1-L(Y%2-1)),fe=de=we=ie-Re/2,Y=~~Y,fe+=[Re,Ae,0,0,Ae,Re][Y],de+=[Ae,Re,Re,Ae,0,0][Y],we+=[0,0,Ae,Re,Re,Ae][Y],_(fe,de,we,te)},pe.rgb2hsb=function(Y,Z,ie){ie=H(Y,Z,ie),Y=ie[0],Z=ie[1],ie=ie[2];var te,fe,de,we;return de=C(Y,Z,ie),we=de-a(Y,Z,ie),te=we==0?null:de==Y?(Z-ie)/we:de==Z?(ie-Y)/we+2:(Y-Z)/we+4,te=(te+360)%6*60/360,fe=we==0?0:we/de,{h:te,s:fe,b:de,toString:w}},pe.rgb2hsl=function(Y,Z,ie){ie=H(Y,Z,ie),Y=ie[0],Z=ie[1],ie=ie[2];var te,fe,de,we,Ae,Re;return we=C(Y,Z,ie),Ae=a(Y,Z,ie),Re=we-Ae,te=Re==0?null:we==Y?(Z-ie)/Re:we==Z?(ie-Y)/Re+2:(Y-Z)/Re+4,te=(te+360)%6*60/360,de=(we+Ae)/2,fe=Re==0?0:de<.5?Re/(2*de):Re/(2-2*de),{h:te,s:fe,l:de,toString:z}},pe.parsePathString=function(Y){if(!Y)return null;var Z=pe.path(Y);if(Z.arr)return pe.path.clone(Z.arr);var ie={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},te=[];return S(Y,"array")&&S(Y[0],"array")&&(te=pe.path.clone(Y)),te.length||W(Y).replace(n,function(fe,de,we){var Ae=[],Re=de.toLowerCase();if(we.replace(s,function(Fe,Se){Se&&Ae.push(+Se)}),Re=="m"&&Ae.length>2&&(te.push([de].concat(Ae.splice(0,2))),Re="l",de=de=="m"?"l":"L"),Re=="o"&&Ae.length==1&&te.push([de,Ae[0]]),Re=="r")te.push([de].concat(Ae));else for(;Ae.length>=ie[Re]&&(te.push([de].concat(Ae.splice(0,ie[Re]))),!!ie[Re]););}),te.toString=pe.path.toString,Z.arr=pe.path.clone(te),te};var B=pe.parseTransformString=function(Y){if(!Y)return null;var Z=[];return S(Y,"array")&&S(Y[0],"array")&&(Z=pe.path.clone(Y)),Z.length||W(Y).replace(i,function(ie,te,fe){var de=[];te.toLowerCase(),fe.replace(s,function(we,Ae){Ae&&de.push(+Ae)}),Z.push([te].concat(de))}),Z.toString=pe.path.toString,Z};function N(Y){var Z=[];return Y=Y.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(ie,te,fe){return fe=fe.split(/\s*,\s*|\s+/),te=="rotate"&&fe.length==1&&fe.push(0,0),te=="scale"&&(fe.length>2?fe=fe.slice(0,2):fe.length==2&&fe.push(0,0),fe.length==1&&fe.push(fe[0],0,0)),te=="skewX"?Z.push(["m",1,0,y.tan(A(fe[0])),1,0,0]):te=="skewY"?Z.push(["m",1,y.tan(A(fe[0])),0,1,0,0]):Z.push([te.charAt(0)].concat(fe)),ie}),Z}pe._.svgTransform2string=N,pe._.rgTransform=/^[a-z][\s]*-?\.?\d/i;function O(Y,Z){var ie=B(Y),te=new pe.Matrix;if(ie)for(var fe=0,de=ie.length;fe<de;fe++){var we=ie[fe],Ae=we.length,Re=W(we[0]).toLowerCase(),Fe=we[0]!=Re,Se=Fe?te.invert():0,Te,Ee,Ne,He,_e;Re=="t"&&Ae==2?te.translate(we[1],0):Re=="t"&&Ae==3?Fe?(Te=Se.x(0,0),Ee=Se.y(0,0),Ne=Se.x(we[1],we[2]),He=Se.y(we[1],we[2]),te.translate(Ne-Te,He-Ee)):te.translate(we[1],we[2]):Re=="r"?Ae==2?(_e=_e||Z,te.rotate(we[1],_e.x+_e.width/2,_e.y+_e.height/2)):Ae==4&&(Fe?(Ne=Se.x(we[2],we[3]),He=Se.y(we[2],we[3]),te.rotate(we[1],Ne,He)):te.rotate(we[1],we[2],we[3])):Re=="s"?Ae==2||Ae==3?(_e=_e||Z,te.scale(we[1],we[Ae-1],_e.x+_e.width/2,_e.y+_e.height/2)):Ae==4?Fe?(Ne=Se.x(we[2],we[3]),He=Se.y(we[2],we[3]),te.scale(we[1],we[1],Ne,He)):te.scale(we[1],we[1],we[2],we[3]):Ae==5&&(Fe?(Ne=Se.x(we[3],we[4]),He=Se.y(we[3],we[4]),te.scale(we[1],we[2],Ne,He)):te.scale(we[1],we[2],we[3],we[4])):Re=="m"&&Ae==7&&te.add(we[1],we[2],we[3],we[4],we[5],we[6])}return te}pe._.transform2matrix=O,pe._unit2px=re,Le.doc.contains||Le.doc.compareDocumentPosition;function U(Y){var Z=Y.node.ownerSVGElement&&Q(Y.node.ownerSVGElement)||Y.node.parentNode&&Q(Y.node.parentNode)||pe.select("svg")||pe(0,0),ie=Z.select("defs"),te=ie==null?!1:ie.node;return te||(te=ee("defs",Z.node).node),te}function K(Y){return Y.node.ownerSVGElement&&Q(Y.node.ownerSVGElement)||pe.select("svg")}pe._.getSomeDefs=U,pe._.getSomeSVG=K;function re(Y,Z,ie){var te=K(Y).node,fe={},de=te.querySelector(".svg---mgr");de||(de=p("rect"),p(de,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),te.appendChild(de));function we(Fe){if(Fe==null)return h;if(Fe==+Fe)return Fe;p(de,{width:Fe});try{return de.getBBox().width}catch{return 0}}function Ae(Fe){if(Fe==null)return h;if(Fe==+Fe)return Fe;p(de,{height:Fe});try{return de.getBBox().height}catch{return 0}}function Re(Fe,Se){Z==null?fe[Fe]=Se(Y.attr(Fe)||0):Fe==Z&&(fe=Se(ie??(Y.attr(Fe)||0)))}switch(Y.type){case"rect":Re("rx",we),Re("ry",Ae);case"image":Re("width",we),Re("height",Ae);case"text":Re("x",we),Re("y",Ae);break;case"circle":Re("cx",we),Re("cy",Ae),Re("r",we);break;case"ellipse":Re("cx",we),Re("cy",Ae),Re("rx",we),Re("ry",Ae);break;case"line":Re("x1",we),Re("x2",we),Re("y1",Ae),Re("y2",Ae);break;case"marker":Re("refX",we),Re("markerWidth",we),Re("refY",Ae),Re("markerHeight",Ae);break;case"radialGradient":Re("fx",we),Re("fy",Ae);break;case"tspan":Re("dx",we),Re("dy",Ae);break;default:Re(Z,we)}return te.removeChild(de),fe}pe.select=function(Y){return Y=W(Y).replace(/([^\\]):/g,"$1\\:"),Q(Le.doc.querySelector(Y))},pe.selectAll=function(Y){for(var Z=Le.doc.querySelectorAll(Y),ie=(pe.set||Array)(),te=0;te<Z.length;te++)ie.push(Q(Z[te]));return ie};function ae(Y){S(Y,"array")||(Y=Array.prototype.slice.call(arguments,0));for(var Z=0,ie=0,te=this.node;this[Z];)delete this[Z++];for(Z=0;Z<Y.length;Z++)Y[Z].type=="set"?Y[Z].forEach(function(de){te.appendChild(de.node)}):te.appendChild(Y[Z].node);var fe=te.childNodes;for(Z=0;Z<fe.length;Z++)this[ie++]=Q(fe[Z]);return this}setInterval(function(){for(var Y in l)if(l[Ye](Y)){var Z=l[Y],ie=Z.node;(Z.type!="svg"&&!ie.ownerSVGElement||Z.type=="svg"&&(!ie.parentNode||"ownerSVGElement"in ie.parentNode&&!ie.ownerSVGElement))&&delete l[Y]}},1e4);function ue(Y){if(Y.snap in l)return l[Y.snap];var Z;try{Z=Y.ownerSVGElement}catch{}this.node=Y,Z&&(this.paper=new J(Z)),this.type=Y.tagName||Y.nodeName;var ie=this.id=c(this);if(this.anims={},this._={transform:[]},Y.snap=ie,l[ie]=this,this.type=="g"&&(this.add=ae),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var te in J.prototype)J.prototype[Ye](te)&&(this[te]=J.prototype[te])}ue.prototype.attr=function(Y,Z){var ie=this,te=ie.node;if(!Y){if(te.nodeType!=1)return{text:te.nodeValue};for(var fe=te.attributes,de={},we=0,Ae=fe.length;we<Ae;we++)de[fe[we].nodeName]=fe[we].nodeValue;return de}if(S(Y,"string"))if(arguments.length>1){var Re={};Re[Y]=Z,Y=Re}else return eve("snap.util.getattr."+Y,ie).firstDefined();for(var Fe in Y)Y[Ye](Fe)&&eve("snap.util.attr."+Fe,ie,Y[Fe]);return ie},pe.parse=function(Y){var Z=Le.doc.createDocumentFragment(),ie=!0,te=Le.doc.createElement("div");if(Y=W(Y),Y.match(/^\s*<\s*svg(?:\s|>)/)||(Y="<svg>"+Y+"</svg>",ie=!1),te.innerHTML=Y,Y=te.getElementsByTagName("svg")[0],Y)if(ie)Z=Y;else for(;Y.firstChild;)Z.appendChild(Y.firstChild);return new ve(Z)};function ve(Y){this.node=Y}pe.fragment=function(){for(var Y=Array.prototype.slice.call(arguments,0),Z=Le.doc.createDocumentFragment(),ie=0,te=Y.length;ie<te;ie++){var fe=Y[ie];fe.node&&fe.node.nodeType&&Z.appendChild(fe.node),fe.nodeType&&Z.appendChild(fe),typeof fe=="string"&&Z.appendChild(pe.parse(fe).node)}return new ve(Z)};function ee(Y,Z){var ie=p(Y);Z.appendChild(ie);var te=Q(ie);return te}function J(Y,Z){var ie,te,fe,de=J.prototype;if(Y&&Y.tagName&&Y.tagName.toLowerCase()=="svg"){if(Y.snap in l)return l[Y.snap];var we=Y.ownerDocument;ie=new ue(Y),te=Y.getElementsByTagName("desc")[0],fe=Y.getElementsByTagName("defs")[0],te||(te=p("desc"),te.appendChild(we.createTextNode("Created with Snap")),ie.node.appendChild(te)),fe||(fe=p("defs"),ie.node.appendChild(fe)),ie.defs=fe;for(var Ae in de)de[Ye](Ae)&&(ie[Ae]=de[Ae]);ie.paper=ie.root=ie}else ie=ee("svg",Le.doc.body),p(ie.node,{height:Z,version:1.1,width:Y,xmlns:v});return ie}function Q(Y){return!Y||Y instanceof ue||Y instanceof ve?Y:Y.tagName&&Y.tagName.toLowerCase()=="svg"?new J(Y):Y.tagName&&Y.tagName.toLowerCase()=="object"&&Y.type=="image/svg+xml"?new J(Y.contentDocument.getElementsByTagName("svg")[0]):new ue(Y)}pe._.make=ee,pe._.wrap=Q,J.prototype.el=function(Y,Z){var ie=ee(Y,this.node);return Z&&ie.attr(Z),ie},ue.prototype.children=function(){for(var Y=[],Z=this.node.childNodes,ie=0,te=Z.length;ie<te;ie++)Y[ie]=pe(Z[ie]);return Y};function X(Y,Z){for(var ie=0,te=Y.length;ie<te;ie++){var fe={type:Y[ie].type,attr:Y[ie].attr()},de=Y[ie].children();Z.push(fe),de.length&&X(de,fe.childNodes=[])}}ue.prototype.toJSON=function(){var Y=[];return X([this],Y),Y[0]},eve.on("snap.util.getattr",function(){var Y=eve.nt();Y=Y.substring(Y.lastIndexOf(".")+1);var Z=Y.replace(/[A-Z]/g,function(ie){return"-"+ie.toLowerCase()});return q[Ye](Z)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(Z):p(this.node,Y)});var q={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};eve.on("snap.util.attr",function(Y){var Z=eve.nt(),ie={};Z=Z.substring(Z.lastIndexOf(".")+1),ie[Z]=Y;var te=Z.replace(/-(\w)/gi,function(de,we){return we.toUpperCase()}),fe=Z.replace(/[A-Z]/g,function(de){return"-"+de.toLowerCase()});q[Ye](fe)?this.node.style[te]=Y??h:p(this.node,ie)}),pe.ajax=function(Y,Z,ie,te){var fe=new XMLHttpRequest,de=c();if(fe){if(S(Z,"function"))te=ie,ie=Z,Z=null;else if(S(Z,"object")){var we=[];for(var Ae in Z)Z.hasOwnProperty(Ae)&&we.push(encodeURIComponent(Ae)+"="+encodeURIComponent(Z[Ae]));Z=we.join("&")}return fe.open(Z?"POST":"GET",Y,!0),Z&&(fe.setRequestHeader("X-Requested-With","XMLHttpRequest"),fe.setRequestHeader("Content-type","application/x-www-form-urlencoded")),ie&&(eve.once("snap.ajax."+de+".0",ie),eve.once("snap.ajax."+de+".200",ie),eve.once("snap.ajax."+de+".304",ie)),fe.onreadystatechange=function(){fe.readyState==4&&eve("snap.ajax."+de+"."+fe.status,te,fe)},fe.readyState==4||fe.send(Z),fe}},pe.load=function(Y,Z,ie){pe.ajax(Y,function(te){var fe=pe.parse(te.responseText);ie?Z.call(ie,fe):Z(fe)})};var se=function(Y){var Z=Y.getBoundingClientRect(),ie=Y.ownerDocument,te=ie.body,fe=ie.documentElement,de=fe.clientTop||te.clientTop||0,we=fe.clientLeft||te.clientLeft||0,Ae=Z.top+(g.win.pageYOffset||fe.scrollTop||te.scrollTop)-de,Re=Z.left+(g.win.pageXOffset||fe.scrollLeft||te.scrollLeft)-we;return{y:Ae,x:Re}};return pe.getElementByPoint=function(Y,Z){var ie=this;ie.canvas;var te=Le.doc.elementFromPoint(Y,Z);if(Le.win.opera&&te.tagName=="svg"){var fe=se(te),de=te.createSVGRect();de.x=Y-fe.x,de.y=Z-fe.y,de.width=de.height=1;var we=te.getIntersectionList(de,null);we.length&&(te=we[we.length-1])}return te?Q(te):null},pe.plugin=function(Y){Y(pe,ue,J,Le,ve)},Le.win.Snap=pe,pe}(window||Mw);return G.plugin(function(ne,pe,Le,Ye,W){var V=pe.prototype,e=ne.is,y=String,C=ne._unit2px,a=ne._.$,L=ne._.make,x=ne._.getSomeDefs,h="hasOwnProperty",d=ne._.wrap;V.getBBox=function(s){if(this.type=="tspan")return ne._.box(this.node.getClientRects().item(0));if(!ne.Matrix||!ne.path)return this.node.getBBox();var o=this,m=new ne.Matrix;if(o.removed)return ne._.box();for(;o.type=="use";)if(s||(m=m.add(o.transform().localMatrix.translate(o.attr("x")||0,o.attr("y")||0))),o.original)o=o.original;else{var c=o.attr("xlink:href");o=o.original=o.node.ownerDocument.getElementById(c.substring(c.indexOf("#")+1))}var b=o._,v=ne.path.get[o.type]||ne.path.get.deflt;try{return s?(b.bboxwt=v?ne.path.getBBox(o.realPath=v(o)):ne._.box(o.node.getBBox()),ne._.box(b.bboxwt)):(o.realPath=v(o),o.matrix=o.transform().localMatrix,b.bbox=ne.path.getBBox(ne.path.map(o.realPath,m.add(o.matrix))),ne._.box(b.bbox))}catch{return ne._.box()}};var t=function(){return this.string};function r(s,o){if(o==null){var m=!0;if(s.type=="linearGradient"||s.type=="radialGradient"?o=s.node.getAttribute("gradientTransform"):s.type=="pattern"?o=s.node.getAttribute("patternTransform"):o=s.node.getAttribute("transform"),!o)return new ne.Matrix;o=ne._.svgTransform2string(o)}else ne._.rgTransform.test(o)?o=y(o).replace(/\.{3}|\u2026/g,s._.transform||""):o=ne._.svgTransform2string(o),e(o,"array")&&(o=ne.path?ne.path.toString.call(o):y(o)),s._.transform=o;var c=ne._.transform2matrix(o,s.getBBox(1));if(m)return c;s.matrix=c}V.transform=function(s){var o=this._;if(s==null){for(var m=this,c=new ne.Matrix(this.node.getCTM()),b=r(this),v=[b],l=new ne.Matrix,p,S=b.toTransformString(),M=y(b)==y(this.matrix)?y(o.transform):S;m.type!="svg"&&(m=m.parent());)v.push(r(m));for(p=v.length;p--;)l.add(v[p]);return{string:M,globalMatrix:c,totalMatrix:l,localMatrix:b,diffMatrix:c.clone().add(b.invert()),global:c.toTransformString(),total:l.toTransformString(),local:S,toString:t}}return s instanceof ne.Matrix?(this.matrix=s,this._.transform=s.toTransformString()):r(this,s),this.node&&(this.type=="linearGradient"||this.type=="radialGradient"?a(this.node,{gradientTransform:this.matrix}):this.type=="pattern"?a(this.node,{patternTransform:this.matrix}):a(this.node,{transform:this.matrix})),this},V.parent=function(){return d(this.node.parentNode)},V.append=V.add=function(s){if(s){if(s.type=="set"){var o=this;return s.forEach(function(m){o.add(m)}),this}s=d(s),this.node.appendChild(s.node),s.paper=this.paper}return this},V.appendTo=function(s){return s&&(s=d(s),s.append(this)),this},V.prepend=function(s){if(s){if(s.type=="set"){var o=this,m;return s.forEach(function(b){m?m.after(b):o.prepend(b),m=b}),this}s=d(s);var c=s.parent();this.node.insertBefore(s.node,this.node.firstChild),this.add&&this.add(),s.paper=this.paper,this.parent()&&this.parent().add(),c&&c.add()}return this},V.prependTo=function(s){return s=d(s),s.prepend(this),this},V.before=function(s){if(s.type=="set"){var o=this;return s.forEach(function(c){var b=c.parent();o.node.parentNode.insertBefore(c.node,o.node),b&&b.add()}),this.parent().add(),this}s=d(s);var m=s.parent();return this.node.parentNode.insertBefore(s.node,this.node),this.parent()&&this.parent().add(),m&&m.add(),s.paper=this.paper,this},V.after=function(s){s=d(s);var o=s.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(s.node,this.node.nextSibling):this.node.parentNode.appendChild(s.node),this.parent()&&this.parent().add(),o&&o.add(),s.paper=this.paper,this},V.insertBefore=function(s){s=d(s);var o=this.parent();return s.node.parentNode.insertBefore(this.node,s.node),this.paper=s.paper,o&&o.add(),s.parent()&&s.parent().add(),this},V.insertAfter=function(s){s=d(s);var o=this.parent();return s.node.parentNode.insertBefore(this.node,s.node.nextSibling),this.paper=s.paper,o&&o.add(),s.parent()&&s.parent().add(),this},V.remove=function(){var s=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,s&&s.add(),this},V.select=function(s){return d(this.node.querySelector(s))},V.selectAll=function(s){for(var o=this.node.querySelectorAll(s),m=(ne.set||Array)(),c=0;c<o.length;c++)m.push(d(o[c]));return m},V.asPX=function(s,o){return o==null&&(o=this.attr(s)),+C(this,s,o)},V.use=function(){var s,o=this.node.id;return o||(o=this.id,a(this.node,{id:o})),this.type=="linearGradient"||this.type=="radialGradient"||this.type=="pattern"?s=L(this.type,this.node.parentNode):s=L("use",this.node.parentNode),a(s.node,{"xlink:href":"#"+o}),s.original=this,s};function u(s){var o=s.selectAll("*"),m,c=/^\s*url\(("|'|)(.*)\1\)\s*$/,b=[],v={};function l(f,P){var w=a(f.node,P);if(w=w&&w.match(c),w=w&&w[2],w&&w.charAt()=="#")w=w.substring(1);else return;w&&(v[w]=(v[w]||[]).concat(function(z){var F={};F[P]=ne.url(z),a(f.node,F)}))}function p(f){var P=a(f.node,"xlink:href");if(P&&P.charAt()=="#")P=P.substring(1);else return;P&&(v[P]=(v[P]||[]).concat(function(w){f.attr("xlink:href","#"+w)}))}for(var S=0,M=o.length;S<M;S++){m=o[S],l(m,"fill"),l(m,"stroke"),l(m,"filter"),l(m,"mask"),l(m,"clip-path"),p(m);var R=a(m.node,"id");R&&(a(m.node,{id:m.id}),b.push({old:R,id:m.id}))}for(S=0,M=b.length;S<M;S++){var T=v[b[S].old];if(T)for(var E=0,A=T.length;E<A;E++)T[E](b[S].id)}}V.clone=function(){var s=d(this.node.cloneNode(!0));return a(s.node,"id")&&a(s.node,{id:s.id}),u(s),s.insertAfter(this),s},V.toDefs=function(){var s=x(this);return s.appendChild(this.node),this},V.pattern=V.toPattern=function(s,o,m,c){var b=L("pattern",x(this));return s==null&&(s=this.getBBox()),e(s,"object")&&"x"in s&&(o=s.y,m=s.width,c=s.height,s=s.x),a(b.node,{x:s,y:o,width:m,height:c,patternUnits:"userSpaceOnUse",id:b.id,viewBox:[s,o,m,c].join(" ")}),b.node.appendChild(this.node),b},V.marker=function(s,o,m,c,b,v){var l=L("marker",x(this));return s==null&&(s=this.getBBox()),e(s,"object")&&"x"in s&&(o=s.y,m=s.width,c=s.height,b=s.refX||s.cx,v=s.refY||s.cy,s=s.x),a(l.node,{viewBox:[s,o,m,c].join(" "),markerWidth:m,markerHeight:c,orient:"auto",refX:b||0,refY:v||0,id:l.id}),l.node.appendChild(this.node),l};var n={};V.data=function(s,o){var m=n[this.id]=n[this.id]||{};if(arguments.length==0)return eve("snap.data.get."+this.id,this,m,null),m;if(arguments.length==1){if(ne.is(s,"object")){for(var c in s)s[h](c)&&this.data(c,s[c]);return this}return eve("snap.data.get."+this.id,this,m[s],s),m[s]}return m[s]=o,eve("snap.data.set."+this.id,this,o,s),this},V.removeData=function(s){return s==null?n[this.id]={}:n[this.id]&&delete n[this.id][s],this},V.outerSVG=V.toString=i(1),V.innerSVG=i();function i(s){return function(){var o=s?"<"+this.type:"",m=this.node.attributes,c=this.node.childNodes;if(s)for(var b=0,v=m.length;b<v;b++)o+=" "+m[b].name+'="'+m[b].value.replace(/"/g,'\\"')+'"';if(c.length){for(s&&(o+=">"),b=0,v=c.length;b<v;b++)c[b].nodeType==3?o+=c[b].nodeValue:c[b].nodeType==1&&(o+=d(c[b]).toString());s&&(o+="</"+this.type+">")}else s&&(o+="/>");return o}}V.toDataURL=function(){if(window&&window.btoa){var s=this.getBBox(),o=ne.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+s.x.toFixed(3),y:+s.y.toFixed(3),width:+s.width.toFixed(3),height:+s.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(o)))}},W.prototype.select=V.select,W.prototype.selectAll=V.selectAll}),G.plugin(function(ne,pe,Le,Ye,W){var V=Object.prototype.toString,e=String,y=Math,C="";function a(L,x,h,d,t,r){if(x==null&&V.call(L)=="[object SVGMatrix]"){this.a=L.a,this.b=L.b,this.c=L.c,this.d=L.d,this.e=L.e,this.f=L.f;return}L!=null?(this.a=+L,this.b=+x,this.c=+h,this.d=+d,this.e=+t,this.f=+r):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}(function(L){L.add=function(d,t,r,u,n,i){if(d&&d instanceof a)return this.add(d.a,d.b,d.c,d.d,d.e,d.f);var s=d*this.a+t*this.c,o=d*this.b+t*this.d;return this.e+=n*this.a+i*this.c,this.f+=n*this.b+i*this.d,this.c=r*this.a+u*this.c,this.d=r*this.b+u*this.d,this.a=s,this.b=o,this},a.prototype.multLeft=function(d,t,r,u,n,i){if(d&&d instanceof a)return this.multLeft(d.a,d.b,d.c,d.d,d.e,d.f);var s=d*this.a+r*this.b,o=d*this.c+r*this.d,m=d*this.e+r*this.f+n;return this.b=t*this.a+u*this.b,this.d=t*this.c+u*this.d,this.f=t*this.e+u*this.f+i,this.a=s,this.c=o,this.e=m,this},L.invert=function(){var d=this,t=d.a*d.d-d.b*d.c;return new a(d.d/t,-d.b/t,-d.c/t,d.a/t,(d.c*d.f-d.d*d.e)/t,(d.b*d.e-d.a*d.f)/t)},L.clone=function(){return new a(this.a,this.b,this.c,this.d,this.e,this.f)},L.translate=function(d,t){return this.e+=d*this.a+t*this.c,this.f+=d*this.b+t*this.d,this},L.scale=function(d,t,r,u){return t==null&&(t=d),(r||u)&&this.translate(r,u),this.a*=d,this.b*=d,this.c*=t,this.d*=t,(r||u)&&this.translate(-r,-u),this},L.rotate=function(d,t,r){d=ne.rad(d),t=t||0,r=r||0;var u=+y.cos(d).toFixed(9),n=+y.sin(d).toFixed(9);return this.add(u,n,-n,u,t,r),this.add(1,0,0,1,-t,-r)},L.skewX=function(d){return this.skew(d,0)},L.skewY=function(d){return this.skew(0,d)},L.skew=function(d,t){d=d||0,t=t||0,d=ne.rad(d),t=ne.rad(t);var r=y.tan(d).toFixed(9),u=y.tan(t).toFixed(9);return this.add(1,u,r,1,0,0)},L.x=function(d,t){return d*this.a+t*this.c+this.e},L.y=function(d,t){return d*this.b+t*this.d+this.f},L.get=function(d){return+this[e.fromCharCode(97+d)].toFixed(4)},L.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},L.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};function x(d){return d[0]*d[0]+d[1]*d[1]}function h(d){var t=y.sqrt(x(d));d[0]&&(d[0]/=t),d[1]&&(d[1]/=t)}L.determinant=function(){return this.a*this.d-this.b*this.c},L.split=function(){var d={};d.dx=this.e,d.dy=this.f;var t=[[this.a,this.b],[this.c,this.d]];d.scalex=y.sqrt(x(t[0])),h(t[0]),d.shear=t[0][0]*t[1][0]+t[0][1]*t[1][1],t[1]=[t[1][0]-t[0][0]*d.shear,t[1][1]-t[0][1]*d.shear],d.scaley=y.sqrt(x(t[1])),h(t[1]),d.shear/=d.scaley,this.determinant()<0&&(d.scalex=-d.scalex);var r=t[0][1],u=t[1][1];return u<0?(d.rotate=ne.deg(y.acos(u)),r<0&&(d.rotate=360-d.rotate)):d.rotate=ne.deg(y.asin(r)),d.isSimple=!+d.shear.toFixed(9)&&(d.scalex.toFixed(9)==d.scaley.toFixed(9)||!d.rotate),d.isSuperSimple=!+d.shear.toFixed(9)&&d.scalex.toFixed(9)==d.scaley.toFixed(9)&&!d.rotate,d.noRotation=!+d.shear.toFixed(9)&&!d.rotate,d},L.toTransformString=function(d){var t=d||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:C)+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:C)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:C))}})(a.prototype),ne.Matrix=a,ne.matrix=function(L,x,h,d,t,r){return new a(L,x,h,d,t,r)}}),G.plugin(function(ne,pe,Le,Ye,W){var V=ne._.make,e=ne._.wrap,y=ne.is,C=ne._.getSomeDefs,a=/^url\((['"]?)([^)]+)\1\)$/,L=ne._.$,x=ne.url,h=String,d=ne._.separator,t="";ne.deurl=function(o){var m=String(o).match(a);return m?m[2]:o},eve.on("snap.util.attr.mask",function(o){if(o instanceof pe||o instanceof W){if(eve.stop(),o instanceof W&&o.node.childNodes.length==1&&(o=o.node.firstChild,C(this).appendChild(o),o=e(o)),o.type=="mask")var m=o;else m=V("mask",C(this)),m.node.appendChild(o.node);!m.node.id&&L(m.node,{id:m.id}),L(this.node,{mask:x(m.id)})}}),function(o){eve.on("snap.util.attr.clip",o),eve.on("snap.util.attr.clip-path",o),eve.on("snap.util.attr.clipPath",o)}(function(o){if(o instanceof pe||o instanceof W){eve.stop();for(var m,c=o.node;c;){if(c.nodeName==="clipPath"){m=new pe(c);break}if(c.nodeName==="svg"){m=void 0;break}c=c.parentNode}m||(m=V("clipPath",C(this)),m.node.appendChild(o.node),!m.node.id&&L(m.node,{id:m.id})),L(this.node,{"clip-path":x(m.node.id||m.id)})}});function r(o){return function(m){if(eve.stop(),m instanceof W&&m.node.childNodes.length==1&&(m.node.firstChild.tagName=="radialGradient"||m.node.firstChild.tagName=="linearGradient"||m.node.firstChild.tagName=="pattern")&&(m=m.node.firstChild,C(this).appendChild(m),m=e(m)),m instanceof pe)if(m.type=="radialGradient"||m.type=="linearGradient"||m.type=="pattern"){m.node.id||L(m.node,{id:m.id});var c=x(m.node.id)}else c=m.attr(o);else if(c=ne.color(m),c.error){var b=ne(C(this).ownerSVGElement).gradient(m);b?(b.node.id||L(b.node,{id:b.id}),c=x(b.node.id)):c=m}else c=h(c);var v={};v[o]=c,L(this.node,v),this.node.style[o]=t}}eve.on("snap.util.attr.fill",r("fill")),eve.on("snap.util.attr.stroke",r("stroke"));var u=/^([lr])(?:\(([^)]*)\))?(.*)$/i;eve.on("snap.util.grad.parse",function(m){m=h(m);var c=m.match(u);if(!c)return null;var b=c[1],v=c[2],l=c[3];v=v.split(/\s*,\s*/).map(function(E){return+E==E?+E:E}),v.length==1&&v[0]==0&&(v=[]),l=l.split("-"),l=l.map(function(E){E=E.split(":");var A={color:E[0]};return E[1]&&(A.offset=parseFloat(E[1])),A});var p=l.length,S=0,M=0;function R(E,A){for(var f=(A-S)/(E-M),P=M;P<E;P++)l[P].offset=+(+S+f*(P-M)).toFixed(2);M=E,S=A}p--;for(var T=0;T<p;T++)"offset"in l[T]&&R(T,l[T].offset);return l[p].offset=l[p].offset||100,R(p,l[p].offset),{type:b,params:v,stops:l}}),eve.on("snap.util.attr.d",function(o){eve.stop(),y(o,"array")&&y(o[0],"array")&&(o=ne.path.toString.call(o)),o=h(o),o.match(/[ruo]/i)&&(o=ne.path.toAbsolute(o)),L(this.node,{d:o})})(-1),eve.on("snap.util.attr.#text",function(o){eve.stop(),o=h(o);for(var m=Ye.doc.createTextNode(o);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(m)})(-1),eve.on("snap.util.attr.path",function(o){eve.stop(),this.attr({d:o})})(-1),eve.on("snap.util.attr.class",function(o){eve.stop(),this.node.className.baseVal=o})(-1),eve.on("snap.util.attr.viewBox",function(o){var m;y(o,"object")&&"x"in o?m=[o.x,o.y,o.width,o.height].join(" "):y(o,"array")?m=o.join(" "):m=o,L(this.node,{viewBox:m}),eve.stop()})(-1),eve.on("snap.util.attr.transform",function(o){this.transform(o),eve.stop()})(-1),eve.on("snap.util.attr.r",function(o){this.type=="rect"&&(eve.stop(),L(this.node,{rx:o,ry:o}))})(-1),eve.on("snap.util.attr.textpath",function(o){if(eve.stop(),this.type=="text"){var m,c,b;if(!o&&this.textPath){for(c=this.textPath;c.node.firstChild;)this.node.appendChild(c.node.firstChild);c.remove(),delete this.textPath;return}if(y(o,"string")){var v=C(this),l=e(v.parentNode).path(o);v.appendChild(l.node),m=l.id,l.attr({id:m})}else o=e(o),o instanceof pe&&(m=o.attr("id"),m||(m=o.id,o.attr({id:m})));if(m)if(c=this.textPath,b=this.node,c)c.attr({"xlink:href":"#"+m});else{for(c=L("textPath",{"xlink:href":"#"+m});b.firstChild;)c.appendChild(b.firstChild);b.appendChild(c),this.textPath=e(c)}}})(-1),eve.on("snap.util.attr.text",function(o){if(this.type=="text"){for(var m=this.node,c=function(v){var l=L("tspan");if(y(v,"array"))for(var p=0;p<v.length;p++)l.appendChild(c(v[p]));else l.appendChild(Ye.doc.createTextNode(v));return l.normalize&&l.normalize(),l};m.firstChild;)m.removeChild(m.firstChild);for(var b=c(o);b.firstChild;)m.appendChild(b.firstChild)}eve.stop()})(-1);function n(o){eve.stop(),o==+o&&(o+="px"),this.node.style.fontSize=o}eve.on("snap.util.attr.fontSize",n)(-1),eve.on("snap.util.attr.font-size",n)(-1),eve.on("snap.util.getattr.transform",function(){return eve.stop(),this.transform()})(-1),eve.on("snap.util.getattr.textpath",function(){return eve.stop(),this.textPath})(-1),function(){function o(c){return function(){eve.stop();var b=Ye.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return b=="none"?b:ne(Ye.doc.getElementById(b.match(a)[1]))}}function m(c){return function(b){eve.stop();var v="marker"+c.charAt(0).toUpperCase()+c.substring(1);if(b==""||!b){this.node.style[v]="none";return}if(b.type=="marker"){var l=b.node.id;l||L(b.node,{id:b.id}),this.node.style[v]=x(l);return}}}eve.on("snap.util.getattr.marker-end",o("end"))(-1),eve.on("snap.util.getattr.markerEnd",o("end"))(-1),eve.on("snap.util.getattr.marker-start",o("start"))(-1),eve.on("snap.util.getattr.markerStart",o("start"))(-1),eve.on("snap.util.getattr.marker-mid",o("mid"))(-1),eve.on("snap.util.getattr.markerMid",o("mid"))(-1),eve.on("snap.util.attr.marker-end",m("end"))(-1),eve.on("snap.util.attr.markerEnd",m("end"))(-1),eve.on("snap.util.attr.marker-start",m("start"))(-1),eve.on("snap.util.attr.markerStart",m("start"))(-1),eve.on("snap.util.attr.marker-mid",m("mid"))(-1),eve.on("snap.util.attr.markerMid",m("mid"))(-1)}(),eve.on("snap.util.getattr.r",function(){if(this.type=="rect"&&L(this.node,"rx")==L(this.node,"ry"))return eve.stop(),L(this.node,"rx")})(-1);function i(o){for(var m=[],c=o.childNodes,b=0,v=c.length;b<v;b++){var l=c[b];l.nodeType==3&&m.push(l.nodeValue),l.tagName=="tspan"&&(l.childNodes.length==1&&l.firstChild.nodeType==3?m.push(l.firstChild.nodeValue):m.push(i(l)))}return m}eve.on("snap.util.getattr.text",function(){if(this.type=="text"||this.type=="tspan"){eve.stop();var o=i(this.node);return o.length==1?o[0]:o}})(-1),eve.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),eve.on("snap.util.getattr.fill",function(o){if(!o){eve.stop();var m=eve("snap.util.getattr.fill",this,!0).firstDefined();return ne(ne.deurl(m))||m}})(-1),eve.on("snap.util.getattr.stroke",function(o){if(!o){eve.stop();var m=eve("snap.util.getattr.stroke",this,!0).firstDefined();return ne(ne.deurl(m))||m}})(-1),eve.on("snap.util.getattr.viewBox",function(){eve.stop();var o=L(this.node,"viewBox");if(o)return o=o.split(d),ne._.box(+o[0],+o[1],+o[2],+o[3])})(-1),eve.on("snap.util.getattr.points",function(){var o=L(this.node,"points");if(eve.stop(),o)return o.split(d)})(-1),eve.on("snap.util.getattr.path",function(){var o=L(this.node,"d");return eve.stop(),o})(-1),eve.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);function s(){return eve.stop(),this.node.style.fontSize}eve.on("snap.util.getattr.fontSize",s)(-1),eve.on("snap.util.getattr.font-size",s)(-1)}),G.plugin(function(ne,pe,Le,Ye,W){var V=/\S+/g,e=String,y=pe.prototype;y.addClass=function(C){var a=e(C||"").match(V)||[],L=this.node,x=L.className.baseVal,h=x.match(V)||[],d,t,r,u;if(a.length){for(d=0;r=a[d++];)t=h.indexOf(r),~t||h.push(r);u=h.join(" "),x!=u&&(L.className.baseVal=u)}return this},y.removeClass=function(C){var a=e(C||"").match(V)||[],L=this.node,x=L.className.baseVal,h=x.match(V)||[],d,t,r,u;if(h.length){for(d=0;r=a[d++];)t=h.indexOf(r),~t&&h.splice(t,1);u=h.join(" "),x!=u&&(L.className.baseVal=u)}return this},y.hasClass=function(C){var a=this.node,L=a.className.baseVal,x=L.match(V)||[];return!!~x.indexOf(C)},y.toggleClass=function(C,a){if(a!=null)return a?this.addClass(C):this.removeClass(C);var L=(C||"").match(V)||[],x=this.node,h=x.className.baseVal,d=h.match(V)||[],t,r,u,n;for(t=0;u=L[t++];)r=d.indexOf(u),~r?d.splice(r,1):d.push(u);return n=d.join(" "),h!=n&&(x.className.baseVal=n),this}}),G.plugin(function(ne,pe,Le,Ye,W){var V={"+":function(x,h){return x+h},"-":function(x,h){return x-h},"/":function(x,h){return x/h},"*":function(x,h){return x*h}},e=String,y=/[a-z]+$/i,C=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;function a(x){return x}function L(x){return function(h){return+h.toFixed(3)+x}}eve.on("snap.util.attr",function(x){var h=e(x).match(C);if(h){var d=eve.nt(),t=d.substring(d.lastIndexOf(".")+1),r=this.attr(t),u={};eve.stop();var n=h[3]||"",i=r.match(y),s=V[h[1]];if(i&&i==n?x=s(parseFloat(r),+h[2]):(r=this.asPX(t),x=s(this.asPX(t),this.asPX(t,h[2]+n))),isNaN(r)||isNaN(x))return;u[t]=x,this.attr(u)}})(-10),eve.on("snap.util.equal",function(x,h){var d=e(this.attr(x)||""),t=e(h).match(C);if(t){eve.stop();var r=t[3]||"",u=d.match(y),n=V[t[1]];return u&&u==r?{from:parseFloat(d),to:n(parseFloat(d),+t[2]),f:L(u)}:(d=this.asPX(x),{from:d,to:n(d,this.asPX(x,t[2]+r)),f:a})}})(-10)}),G.plugin(function(ne,pe,Le,Ye,W){var V=Le.prototype,e=ne.is;V.rect=function(C,a,L,x,h,d){var t;return d==null&&(d=h),e(C,"object")&&C=="[object Object]"?t=C:C!=null&&(t={x:C,y:a,width:L,height:x},h!=null&&(t.rx=h,t.ry=d)),this.el("rect",t)},V.circle=function(C,a,L){var x;return e(C,"object")&&C=="[object Object]"?x=C:C!=null&&(x={cx:C,cy:a,r:L}),this.el("circle",x)};var y=function(){function C(){this.parentNode.removeChild(this)}return function(a,L){var x=Ye.doc.createElement("img"),h=Ye.doc.body;x.style.cssText="position:absolute;left:-9999em;top:-9999em",x.onload=function(){L.call(x),x.onload=x.onerror=null,h.removeChild(x)},x.onerror=C,h.appendChild(x),x.src=a}}();V.image=function(C,a,L,x,h){var d=this.el("image");if(e(C,"object")&&"src"in C)d.attr(C);else if(C!=null){var t={"xlink:href":C,preserveAspectRatio:"none"};a!=null&&L!=null&&(t.x=a,t.y=L),x!=null&&h!=null?(t.width=x,t.height=h):y(C,function(){ne._.$(d.node,{width:this.offsetWidth,height:this.offsetHeight})}),ne._.$(d.node,t)}return d},V.ellipse=function(C,a,L,x){var h;return e(C,"object")&&C=="[object Object]"?h=C:C!=null&&(h={cx:C,cy:a,rx:L,ry:x}),this.el("ellipse",h)},V.path=function(C){var a;return e(C,"object")&&!e(C,"array")?a=C:C&&(a={d:C}),this.el("path",a)},V.group=V.g=function(C){var a=this.el("g");return arguments.length==1&&C&&!C.type?a.attr(C):arguments.length&&a.add(Array.prototype.slice.call(arguments,0)),a},V.svg=function(C,a,L,x,h,d,t,r){var u={};return e(C,"object")&&a==null?u=C:(C!=null&&(u.x=C),a!=null&&(u.y=a),L!=null&&(u.width=L),x!=null&&(u.height=x),h!=null&&d!=null&&t!=null&&r!=null&&(u.viewBox=[h,d,t,r])),this.el("svg",u)},V.mask=function(C){var a=this.el("mask");return arguments.length==1&&C&&!C.type?a.attr(C):arguments.length&&a.add(Array.prototype.slice.call(arguments,0)),a},V.ptrn=function(C,a,L,x,h,d,t,r){if(e(C,"object"))var u=C;else u={patternUnits:"userSpaceOnUse"},C&&(u.x=C),a&&(u.y=a),L!=null&&(u.width=L),x!=null&&(u.height=x),h!=null&&d!=null&&t!=null&&r!=null?u.viewBox=[h,d,t,r]:u.viewBox=[C||0,a||0,L||0,x||0];return this.el("pattern",u)},V.use=function(C){return C!=null?(C instanceof pe&&(C.attr("id")||C.attr({id:ne._.id(C)}),C=C.attr("id")),String(C).charAt()=="#"&&(C=C.substring(1)),this.el("use",{"xlink:href":"#"+C})):pe.prototype.use.call(this)},V.symbol=function(C,a,L,x){var h={};return C!=null&&a!=null&&L!=null&&x!=null&&(h.viewBox=[C,a,L,x]),this.el("symbol",h)},V.text=function(C,a,L){var x={};return e(C,"object")?x=C:C!=null&&(x={x:C,y:a,text:L||""}),this.el("text",x)},V.line=function(C,a,L,x){var h={};return e(C,"object")?h=C:C!=null&&(h={x1:C,x2:L,y1:a,y2:x}),this.el("line",h)},V.polyline=function(C){arguments.length>1&&(C=Array.prototype.slice.call(arguments,0));var a={};return e(C,"object")&&!e(C,"array")?a=C:C!=null&&(a={points:C}),this.el("polyline",a)},V.polygon=function(C){arguments.length>1&&(C=Array.prototype.slice.call(arguments,0));var a={};return e(C,"object")&&!e(C,"array")?a=C:C!=null&&(a={points:C}),this.el("polygon",a)},function(){var C=ne._.$;function a(){return this.selectAll("stop")}function L(u,n){var i=C("stop"),s={offset:+n+"%"};u=ne.color(u),s["stop-color"]=u.hex,u.opacity<1&&(s["stop-opacity"]=u.opacity),C(i,s);for(var o=this.stops(),m,c=0;c<o.length;c++){var b=parseFloat(o[c].attr("offset"));if(b>n){this.node.insertBefore(i,o[c].node),m=!0;break}}return m||this.node.appendChild(i),this}function x(){if(this.type=="linearGradient"){var u=C(this.node,"x1")||0,n=C(this.node,"x2")||1,i=C(this.node,"y1")||0,s=C(this.node,"y2")||0;return ne._.box(u,i,math.abs(n-u),math.abs(s-i))}else{var o=this.node.cx||.5,m=this.node.cy||.5,c=this.node.r||0;return ne._.box(o-c,m-c,c*2,c*2)}}function h(u){var n=u,i=this.stops();if(typeof u=="string"&&(n=eve("snap.util.grad.parse",null,"l(0,0,0,1)"+u).firstDefined().stops),!!ne.is(n,"array")){for(var s=0;s<i.length;s++)if(n[s]){var o=ne.color(n[s].color),m={offset:n[s].offset+"%"};m["stop-color"]=o.hex,o.opacity<1&&(m["stop-opacity"]=o.opacity),i[s].attr(m)}else i[s].remove();for(s=i.length;s<n.length;s++)this.addStop(n[s].color,n[s].offset);return this}}function d(u,n){var i=eve("snap.util.grad.parse",null,n).firstDefined(),s;if(!i)return null;i.params.unshift(u),i.type.toLowerCase()=="l"?s=t.apply(0,i.params):s=r.apply(0,i.params),i.type!=i.type.toLowerCase()&&C(s.node,{gradientUnits:"userSpaceOnUse"});for(var o=i.stops,m=o.length,c=0;c<m;c++){var b=o[c];s.addStop(b.color,b.offset)}return s}function t(u,n,i,s,o){var m=ne._.make("linearGradient",u);return m.stops=a,m.addStop=L,m.getBBox=x,m.setStops=h,n!=null&&C(m.node,{x1:n,y1:i,x2:s,y2:o}),m}function r(u,n,i,s,o,m){var c=ne._.make("radialGradient",u);return c.stops=a,c.addStop=L,c.getBBox=x,n!=null&&C(c.node,{cx:n,cy:i,r:s}),o!=null&&m!=null&&C(c.node,{fx:o,fy:m}),c}V.gradient=function(u){return d(this.defs,u)},V.gradientLinear=function(u,n,i,s){return t(this.defs,u,n,i,s)},V.gradientRadial=function(u,n,i,s,o){return r(this.defs,u,n,i,s,o)},V.toString=function(){var u=this.node.ownerDocument,n=u.createDocumentFragment(),i=u.createElement("div"),s=this.node.cloneNode(!0),o;return n.appendChild(i),i.appendChild(s),ne._.$(s,{xmlns:"http://www.w3.org/2000/svg"}),o=i.innerHTML,n.removeChild(n.firstChild),o},V.toDataURL=function(){if(window&&window.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},V.clear=function(){for(var u=this.node.firstChild,n;u;)n=u.nextSibling,u.tagName!="defs"?u.parentNode.removeChild(u):V.clear.call({node:u}),u=n}}()}),G.plugin(function(ne,pe,Le,Ye){var W=pe.prototype,V=ne.is,e=ne._.clone,y="hasOwnProperty",C=/,?([a-z]),?/gi,a=parseFloat,L=Math,x=L.PI,h=L.min,d=L.max,t=L.pow,r=L.abs;function u(X){var q=u.ps=u.ps||{};return q[X]?q[X].sleep=100:q[X]={sleep:100},setTimeout(function(){for(var se in q)q[y](se)&&se!=X&&(q[se].sleep--,!q[se].sleep&&delete q[se])}),q[X]}function n(X,q,se,Y){return X==null&&(X=q=se=Y=0),q==null&&(q=X.y,se=X.width,Y=X.height,X=X.x),{x:X,y:q,width:se,w:se,height:Y,h:Y,x2:X+se,y2:q+Y,cx:X+se/2,cy:q+Y/2,r1:L.min(se,Y)/2,r2:L.max(se,Y)/2,r0:L.sqrt(se*se+Y*Y)/2,path:_(X,q,se,Y),vb:[X,q,se,Y].join(" ")}}function i(){return this.join(",").replace(C,"$1")}function s(X){var q=e(X);return q.toString=i,q}function o(X,q,se,Y,Z,ie,te,fe,de){return de==null?T(X,q,se,Y,Z,ie,te,fe):l(X,q,se,Y,Z,ie,te,fe,E(X,q,se,Y,Z,ie,te,fe,de))}function m(X,q){function se(Y){return+(+Y).toFixed(3)}return ne._.cacher(function(Y,Z,ie){Y instanceof pe&&(Y=Y.attr("d")),Y=ee(Y);for(var te,fe,de,we,Ae="",Re={},Fe,Se=0,Te=0,Ee=Y.length;Te<Ee;Te++){if(de=Y[Te],de[0]=="M")te=+de[1],fe=+de[2];else{if(we=o(te,fe,de[1],de[2],de[3],de[4],de[5],de[6]),Se+we>Z){if(q&&!Re.start){if(Fe=o(te,fe,de[1],de[2],de[3],de[4],de[5],de[6],Z-Se),Ae+=["C"+se(Fe.start.x),se(Fe.start.y),se(Fe.m.x),se(Fe.m.y),se(Fe.x),se(Fe.y)],ie)return Ae;Re.start=Ae,Ae=["M"+se(Fe.x),se(Fe.y)+"C"+se(Fe.n.x),se(Fe.n.y),se(Fe.end.x),se(Fe.end.y),se(de[5]),se(de[6])].join(),Se+=we,te=+de[5],fe=+de[6];continue}if(!X&&!q)return Fe=o(te,fe,de[1],de[2],de[3],de[4],de[5],de[6],Z-Se),Fe}Se+=we,te=+de[5],fe=+de[6]}Ae+=de.shift()+de}return Re.end=Ae,Fe=X?Se:q?Re:l(te,fe,de[0],de[1],de[2],de[3],de[4],de[5],1),Fe},null,ne._.clone)}var c=m(1),b=m(),v=m(0,1);function l(X,q,se,Y,Z,ie,te,fe,de){var we=1-de,Ae=t(we,3),Re=t(we,2),Fe=de*de,Se=Fe*de,Te=Ae*X+Re*3*de*se+we*3*de*de*Z+Se*te,Ee=Ae*q+Re*3*de*Y+we*3*de*de*ie+Se*fe,Ne=X+2*de*(se-X)+Fe*(Z-2*se+X),He=q+2*de*(Y-q)+Fe*(ie-2*Y+q),_e=se+2*de*(Z-se)+Fe*(te-2*Z+se),We=Y+2*de*(ie-Y)+Fe*(fe-2*ie+Y),tt=we*X+de*se,Ke=we*q+de*Y,qe=we*Z+de*te,rt=we*ie+de*fe,ft=90-L.atan2(Ne-_e,He-We)*180/x;return{x:Te,y:Ee,m:{x:Ne,y:He},n:{x:_e,y:We},start:{x:tt,y:Ke},end:{x:qe,y:rt},alpha:ft}}function p(X,q,se,Y,Z,ie,te,fe){ne.is(X,"array")||(X=[X,q,se,Y,Z,ie,te,fe]);var de=ve.apply(null,X);return n(de.min.x,de.min.y,de.max.x-de.min.x,de.max.y-de.min.y)}function S(X,q,se){return q>=X.x&&q<=X.x+X.width&&se>=X.y&&se<=X.y+X.height}function M(X,q){return X=n(X),q=n(q),S(q,X.x,X.y)||S(q,X.x2,X.y)||S(q,X.x,X.y2)||S(q,X.x2,X.y2)||S(X,q.x,q.y)||S(X,q.x2,q.y)||S(X,q.x,q.y2)||S(X,q.x2,q.y2)||(X.x<q.x2&&X.x>q.x||q.x<X.x2&&q.x>X.x)&&(X.y<q.y2&&X.y>q.y||q.y<X.y2&&q.y>X.y)}function R(X,q,se,Y,Z){var ie=-3*q+9*se-9*Y+3*Z,te=X*ie+6*q-12*se+6*Y;return X*te-3*q+3*se}function T(X,q,se,Y,Z,ie,te,fe,de){de==null&&(de=1),de=de>1?1:de<0?0:de;for(var we=de/2,Ae=12,Re=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Fe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Se=0,Te=0;Te<Ae;Te++){var Ee=we*Re[Te]+we,Ne=R(Ee,X,se,Z,te),He=R(Ee,q,Y,ie,fe),_e=Ne*Ne+He*He;Se+=Fe[Te]*L.sqrt(_e)}return we*Se}function E(X,q,se,Y,Z,ie,te,fe,de){if(!(de<0||T(X,q,se,Y,Z,ie,te,fe)<de)){var we=1,Ae=we/2,Re=we-Ae,Fe,Se=.01;for(Fe=T(X,q,se,Y,Z,ie,te,fe,Re);r(Fe-de)>Se;)Ae/=2,Re+=(Fe<de?1:-1)*Ae,Fe=T(X,q,se,Y,Z,ie,te,fe,Re);return Re}}function A(X,q,se,Y,Z,ie,te,fe){if(!(d(X,se)<h(Z,te)||h(X,se)>d(Z,te)||d(q,Y)<h(ie,fe)||h(q,Y)>d(ie,fe))){var de=(X*Y-q*se)*(Z-te)-(X-se)*(Z*fe-ie*te),we=(X*Y-q*se)*(ie-fe)-(q-Y)*(Z*fe-ie*te),Ae=(X-se)*(ie-fe)-(q-Y)*(Z-te);if(Ae){var Re=de/Ae,Fe=we/Ae,Se=+Re.toFixed(2),Te=+Fe.toFixed(2);if(!(Se<+h(X,se).toFixed(2)||Se>+d(X,se).toFixed(2)||Se<+h(Z,te).toFixed(2)||Se>+d(Z,te).toFixed(2)||Te<+h(q,Y).toFixed(2)||Te>+d(q,Y).toFixed(2)||Te<+h(ie,fe).toFixed(2)||Te>+d(ie,fe).toFixed(2)))return{x:Re,y:Fe}}}}function f(X,q,se){var Y=p(X),Z=p(q);if(!M(Y,Z))return se?0:[];for(var ie=T.apply(0,X),te=T.apply(0,q),fe=~~(ie/8),de=~~(te/8),we=[],Ae=[],Re={},Fe=se?0:[],Se=0;Se<fe+1;Se++){var Te=l.apply(0,X.concat(Se/fe));we.push({x:Te.x,y:Te.y,t:Se/fe})}for(Se=0;Se<de+1;Se++)Te=l.apply(0,q.concat(Se/de)),Ae.push({x:Te.x,y:Te.y,t:Se/de});for(Se=0;Se<fe;Se++)for(var Ee=0;Ee<de;Ee++){var Ne=we[Se],He=we[Se+1],_e=Ae[Ee],We=Ae[Ee+1],tt=r(He.x-Ne.x)<.001?"y":"x",Ke=r(We.x-_e.x)<.001?"y":"x",qe=A(Ne.x,Ne.y,He.x,He.y,_e.x,_e.y,We.x,We.y);if(qe){if(Re[qe.x.toFixed(4)]==qe.y.toFixed(4))continue;Re[qe.x.toFixed(4)]=qe.y.toFixed(4);var rt=Ne.t+r((qe[tt]-Ne[tt])/(He[tt]-Ne[tt]))*(He.t-Ne.t),ft=_e.t+r((qe[Ke]-_e[Ke])/(We[Ke]-_e[Ke]))*(We.t-_e.t);rt>=0&&rt<=1&&ft>=0&&ft<=1&&(se?Fe++:Fe.push({x:qe.x,y:qe.y,t1:rt,t2:ft}))}}return Fe}function P(X,q){return z(X,q)}function w(X,q){return z(X,q,1)}function z(X,q,se){X=ee(X),q=ee(q);for(var Y,Z,ie,te,fe,de,we,Ae,Re,Fe,Se=se?0:[],Te=0,Ee=X.length;Te<Ee;Te++){var Ne=X[Te];if(Ne[0]=="M")Y=fe=Ne[1],Z=de=Ne[2];else{Ne[0]=="C"?(Re=[Y,Z].concat(Ne.slice(1)),Y=Re[6],Z=Re[7]):(Re=[Y,Z,Y,Z,fe,de,fe,de],Y=fe,Z=de);for(var He=0,_e=q.length;He<_e;He++){var We=q[He];if(We[0]=="M")ie=we=We[1],te=Ae=We[2];else{We[0]=="C"?(Fe=[ie,te].concat(We.slice(1)),ie=Fe[6],te=Fe[7]):(Fe=[ie,te,ie,te,we,Ae,we,Ae],ie=we,te=Ae);var tt=f(Re,Fe,se);if(se)Se+=tt;else{for(var Ke=0,qe=tt.length;Ke<qe;Ke++)tt[Ke].segment1=Te,tt[Ke].segment2=He,tt[Ke].bez1=Re,tt[Ke].bez2=Fe;Se=Se.concat(tt)}}}}}return Se}function F(X,q,se){var Y=H(X);return S(Y,q,se)&&z(X,[["M",q,se],["H",Y.x2+10]],1)%2==1}function H(X){var q=u(X);if(q.bbox)return e(q.bbox);if(!X)return n();X=ee(X);for(var se=0,Y=0,Z=[],ie=[],te,fe=0,de=X.length;fe<de;fe++)if(te=X[fe],te[0]=="M")se=te[1],Y=te[2],Z.push(se),ie.push(Y);else{var we=ve(se,Y,te[1],te[2],te[3],te[4],te[5],te[6]);Z=Z.concat(we.min.x,we.max.x),ie=ie.concat(we.min.y,we.max.y),se=te[5],Y=te[6]}var Ae=h.apply(0,Z),Re=h.apply(0,ie),Fe=d.apply(0,Z),Se=d.apply(0,ie),Te=n(Ae,Re,Fe-Ae,Se-Re);return q.bbox=e(Te),Te}function _(X,q,se,Y,Z){if(Z)return[["M",+X+ +Z,q],["l",se-Z*2,0],["a",Z,Z,0,0,1,Z,Z],["l",0,Y-Z*2],["a",Z,Z,0,0,1,-Z,Z],["l",Z*2-se,0],["a",Z,Z,0,0,1,-Z,-Z],["l",0,Z*2-Y],["a",Z,Z,0,0,1,Z,-Z],["z"]];var ie=[["M",X,q],["l",se,0],["l",0,Y],["l",-se,0],["z"]];return ie.toString=i,ie}function B(X,q,se,Y,Z){if(Z==null&&Y==null&&(Y=se),X=+X,q=+q,se=+se,Y=+Y,Z!=null)var ie=Math.PI/180,te=X+se*Math.cos(-Y*ie),fe=X+se*Math.cos(-Z*ie),de=q+se*Math.sin(-Y*ie),we=q+se*Math.sin(-Z*ie),Ae=[["M",te,de],["A",se,se,0,+(Z-Y>180),0,fe,we]];else Ae=[["M",X,q],["m",0,-Y],["a",se,Y,0,1,1,0,2*Y],["a",se,Y,0,1,1,0,-2*Y],["z"]];return Ae.toString=i,Ae}var N=ne._unit2px,O={path:function(X){return X.attr("path")},circle:function(X){var q=N(X);return B(q.cx,q.cy,q.r)},ellipse:function(X){var q=N(X);return B(q.cx||0,q.cy||0,q.rx,q.ry)},rect:function(X){var q=N(X);return _(q.x||0,q.y||0,q.width,q.height,q.rx,q.ry)},image:function(X){var q=N(X);return _(q.x||0,q.y||0,q.width,q.height)},line:function(X){return"M"+[X.attr("x1")||0,X.attr("y1")||0,X.attr("x2"),X.attr("y2")]},polyline:function(X){return"M"+X.attr("points")},polygon:function(X){return"M"+X.attr("points")+"z"},deflt:function(X){var q=X.node.getBBox();return _(q.x,q.y,q.width,q.height)}};function U(X){var q=u(X),se=String.prototype.toLowerCase;if(q.rel)return s(q.rel);(!ne.is(X,"array")||!ne.is(X&&X[0],"array"))&&(X=ne.parsePathString(X));var Y=[],Z=0,ie=0,te=0,fe=0,de=0;X[0][0]=="M"&&(Z=X[0][1],ie=X[0][2],te=Z,fe=ie,de++,Y.push(["M",Z,ie]));for(var we=de,Ae=X.length;we<Ae;we++){var Re=Y[we]=[],Fe=X[we];if(Fe[0]!=se.call(Fe[0]))switch(Re[0]=se.call(Fe[0]),Re[0]){case"a":Re[1]=Fe[1],Re[2]=Fe[2],Re[3]=Fe[3],Re[4]=Fe[4],Re[5]=Fe[5],Re[6]=+(Fe[6]-Z).toFixed(3),Re[7]=+(Fe[7]-ie).toFixed(3);break;case"v":Re[1]=+(Fe[1]-ie).toFixed(3);break;case"m":te=Fe[1],fe=Fe[2];default:for(var Se=1,Te=Fe.length;Se<Te;Se++)Re[Se]=+(Fe[Se]-(Se%2?Z:ie)).toFixed(3)}else{Re=Y[we]=[],Fe[0]=="m"&&(te=Fe[1]+Z,fe=Fe[2]+ie);for(var Ee=0,Ne=Fe.length;Ee<Ne;Ee++)Y[we][Ee]=Fe[Ee]}var He=Y[we].length;switch(Y[we][0]){case"z":Z=te,ie=fe;break;case"h":Z+=+Y[we][He-1];break;case"v":ie+=+Y[we][He-1];break;default:Z+=+Y[we][He-2],ie+=+Y[we][He-1]}}return Y.toString=i,q.rel=s(Y),Y}function K(X){var q=u(X);if(q.abs)return s(q.abs);if((!V(X,"array")||!V(X&&X[0],"array"))&&(X=ne.parsePathString(X)),!X||!X.length)return[["M",0,0]];var se=[],Y=0,Z=0,ie=0,te=0,fe=0,de;X[0][0]=="M"&&(Y=+X[0][1],Z=+X[0][2],ie=Y,te=Z,fe++,se[0]=["M",Y,Z]);for(var we=X.length==3&&X[0][0]=="M"&&X[1][0].toUpperCase()=="R"&&X[2][0].toUpperCase()=="Z",Ae,Re,Fe=fe,Se=X.length;Fe<Se;Fe++){if(se.push(Ae=[]),Re=X[Fe],de=Re[0],de!=de.toUpperCase())switch(Ae[0]=de.toUpperCase(),Ae[0]){case"A":Ae[1]=Re[1],Ae[2]=Re[2],Ae[3]=Re[3],Ae[4]=Re[4],Ae[5]=Re[5],Ae[6]=+Re[6]+Y,Ae[7]=+Re[7]+Z;break;case"V":Ae[1]=+Re[1]+Z;break;case"H":Ae[1]=+Re[1]+Y;break;case"R":for(var Te=[Y,Z].concat(Re.slice(1)),Ee=2,Ne=Te.length;Ee<Ne;Ee++)Te[Ee]=+Te[Ee]+Y,Te[++Ee]=+Te[Ee]+Z;se.pop(),se=se.concat(Q(Te,we));break;case"O":se.pop(),Te=B(Y,Z,Re[1],Re[2]),Te.push(Te[0]),se=se.concat(Te);break;case"U":se.pop(),se=se.concat(B(Y,Z,Re[1],Re[2],Re[3])),Ae=["U"].concat(se[se.length-1].slice(-2));break;case"M":ie=+Re[1]+Y,te=+Re[2]+Z;default:for(Ee=1,Ne=Re.length;Ee<Ne;Ee++)Ae[Ee]=+Re[Ee]+(Ee%2?Y:Z)}else if(de=="R")Te=[Y,Z].concat(Re.slice(1)),se.pop(),se=se.concat(Q(Te,we)),Ae=["R"].concat(Re.slice(-2));else if(de=="O")se.pop(),Te=B(Y,Z,Re[1],Re[2]),Te.push(Te[0]),se=se.concat(Te);else if(de=="U")se.pop(),se=se.concat(B(Y,Z,Re[1],Re[2],Re[3])),Ae=["U"].concat(se[se.length-1].slice(-2));else for(var He=0,_e=Re.length;He<_e;He++)Ae[He]=Re[He];if(de=de.toUpperCase(),de!="O")switch(Ae[0]){case"Z":Y=+ie,Z=+te;break;case"H":Y=Ae[1];break;case"V":Z=Ae[1];break;case"M":ie=Ae[Ae.length-2],te=Ae[Ae.length-1];default:Y=Ae[Ae.length-2],Z=Ae[Ae.length-1]}}return se.toString=i,q.abs=s(se),se}function re(X,q,se,Y){return[X,q,se,Y,se,Y]}function ae(X,q,se,Y,Z,ie){var te=.3333333333333333,fe=2/3;return[te*X+fe*se,te*q+fe*Y,te*Z+fe*se,te*ie+fe*Y,Z,ie]}function ue(X,q,se,Y,Z,ie,te,fe,de,we){var Ae=x*120/180,Re=x/180*(+Z||0),Fe=[],Se,Te=ne._.cacher(function(It,Ht,Gt){var Pt=It*L.cos(Gt)-Ht*L.sin(Gt),Jt=It*L.sin(Gt)+Ht*L.cos(Gt);return{x:Pt,y:Jt}});if(!se||!Y)return[X,q,fe,de,fe,de];if(we)rt=we[0],ft=we[1],Ke=we[2],qe=we[3];else{Se=Te(X,q,-Re),X=Se.x,q=Se.y,Se=Te(fe,de,-Re),fe=Se.x,de=Se.y;var Ee=(X-fe)/2,Ne=(q-de)/2,He=Ee*Ee/(se*se)+Ne*Ne/(Y*Y);He>1&&(He=L.sqrt(He),se=He*se,Y=He*Y);var _e=se*se,We=Y*Y,tt=(ie==te?-1:1)*L.sqrt(r((_e*We-_e*Ne*Ne-We*Ee*Ee)/(_e*Ne*Ne+We*Ee*Ee))),Ke=tt*se*Ne/Y+(X+fe)/2,qe=tt*-Y*Ee/se+(q+de)/2,rt=L.asin(((q-qe)/Y).toFixed(9)),ft=L.asin(((de-qe)/Y).toFixed(9));rt=X<Ke?x-rt:rt,ft=fe<Ke?x-ft:ft,rt<0&&(rt=x*2+rt),ft<0&&(ft=x*2+ft),te&&rt>ft&&(rt=rt-x*2),!te&&ft>rt&&(ft=ft-x*2)}var pt=ft-rt;if(r(pt)>Ae){var gt=ft,Mt=fe,Lt=de;ft=rt+Ae*(te&&ft>rt?1:-1),fe=Ke+se*L.cos(ft),de=qe+Y*L.sin(ft),Fe=ue(fe,de,se,Y,Z,0,te,Mt,Lt,[ft,gt,Ke,qe])}pt=ft-rt;var Wt=L.cos(rt),Je=L.sin(rt),ze=L.cos(ft),Oe=L.sin(ft),Ue=L.tan(pt/4),ke=4/3*se*Ue,Me=4/3*Y*Ue,ce=[X,q],be=[X+ke*Je,q-Me*Wt],De=[fe+ke*Oe,de-Me*ze],Ve=[fe,de];if(be[0]=2*ce[0]-be[0],be[1]=2*ce[1]-be[1],we)return[be,De,Ve].concat(Fe);Fe=[be,De,Ve].concat(Fe).join().split(",");for(var it=[],ot=0,Tt=Fe.length;ot<Tt;ot++)it[ot]=ot%2?Te(Fe[ot-1],Fe[ot],Re).y:Te(Fe[ot],Fe[ot+1],Re).x;return it}function ve(X,q,se,Y,Z,ie,te,fe){for(var de=[],we=[[],[]],Ae,Re,Fe,Se,Te,Ee,Ne,He,_e=0;_e<2;++_e){if(_e==0?(Re=6*X-12*se+6*Z,Ae=-3*X+9*se-9*Z+3*te,Fe=3*se-3*X):(Re=6*q-12*Y+6*ie,Ae=-3*q+9*Y-9*ie+3*fe,Fe=3*Y-3*q),r(Ae)<1e-12){if(r(Re)<1e-12)continue;Se=-Fe/Re,0<Se&&Se<1&&de.push(Se);continue}Ne=Re*Re-4*Fe*Ae,He=L.sqrt(Ne),!(Ne<0)&&(Te=(-Re+He)/(2*Ae),0<Te&&Te<1&&de.push(Te),Ee=(-Re-He)/(2*Ae),0<Ee&&Ee<1&&de.push(Ee))}for(var We=de.length,tt=We,Ke;We--;)Se=de[We],Ke=1-Se,we[0][We]=Ke*Ke*Ke*X+3*Ke*Ke*Se*se+3*Ke*Se*Se*Z+Se*Se*Se*te,we[1][We]=Ke*Ke*Ke*q+3*Ke*Ke*Se*Y+3*Ke*Se*Se*ie+Se*Se*Se*fe;return we[0][tt]=X,we[1][tt]=q,we[0][tt+1]=te,we[1][tt+1]=fe,we[0].length=we[1].length=tt+2,{min:{x:h.apply(0,we[0]),y:h.apply(0,we[1])},max:{x:d.apply(0,we[0]),y:d.apply(0,we[1])}}}function ee(X,q){var se=!q&&u(X);if(!q&&se.curve)return s(se.curve);for(var Y=K(X),Z=q&&K(q),ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},fe=function(tt,Ke,qe){var rt,ft;if(!tt)return["C",Ke.x,Ke.y,Ke.x,Ke.y,Ke.x,Ke.y];switch(!(tt[0]in{T:1,Q:1})&&(Ke.qx=Ke.qy=null),tt[0]){case"M":Ke.X=tt[1],Ke.Y=tt[2];break;case"A":tt=["C"].concat(ue.apply(0,[Ke.x,Ke.y].concat(tt.slice(1))));break;case"S":qe=="C"||qe=="S"?(rt=Ke.x*2-Ke.bx,ft=Ke.y*2-Ke.by):(rt=Ke.x,ft=Ke.y),tt=["C",rt,ft].concat(tt.slice(1));break;case"T":qe=="Q"||qe=="T"?(Ke.qx=Ke.x*2-Ke.qx,Ke.qy=Ke.y*2-Ke.qy):(Ke.qx=Ke.x,Ke.qy=Ke.y),tt=["C"].concat(ae(Ke.x,Ke.y,Ke.qx,Ke.qy,tt[1],tt[2]));break;case"Q":Ke.qx=tt[1],Ke.qy=tt[2],tt=["C"].concat(ae(Ke.x,Ke.y,tt[1],tt[2],tt[3],tt[4]));break;case"L":tt=["C"].concat(re(Ke.x,Ke.y,tt[1],tt[2]));break;case"H":tt=["C"].concat(re(Ke.x,Ke.y,tt[1],Ke.y));break;case"V":tt=["C"].concat(re(Ke.x,Ke.y,Ke.x,tt[1]));break;case"Z":tt=["C"].concat(re(Ke.x,Ke.y,Ke.X,Ke.Y));break}return tt},de=function(tt,Ke){if(tt[Ke].length>7){tt[Ke].shift();for(var qe=tt[Ke];qe.length;)Ae[Ke]="A",Z&&(Re[Ke]="A"),tt.splice(Ke++,0,["C"].concat(qe.splice(0,6)));tt.splice(Ke,1),Ee=d(Y.length,Z&&Z.length||0)}},we=function(tt,Ke,qe,rt,ft){tt&&Ke&&tt[ft][0]=="M"&&Ke[ft][0]!="M"&&(Ke.splice(ft,0,["M",rt.x,rt.y]),qe.bx=0,qe.by=0,qe.x=tt[ft][1],qe.y=tt[ft][2],Ee=d(Y.length,Z&&Z.length||0))},Ae=[],Re=[],Fe="",Se="",Te=0,Ee=d(Y.length,Z&&Z.length||0);Te<Ee;Te++){Y[Te]&&(Fe=Y[Te][0]),Fe!="C"&&(Ae[Te]=Fe,Te&&(Se=Ae[Te-1])),Y[Te]=fe(Y[Te],ie,Se),Ae[Te]!="A"&&Fe=="C"&&(Ae[Te]="C"),de(Y,Te),Z&&(Z[Te]&&(Fe=Z[Te][0]),Fe!="C"&&(Re[Te]=Fe,Te&&(Se=Re[Te-1])),Z[Te]=fe(Z[Te],te,Se),Re[Te]!="A"&&Fe=="C"&&(Re[Te]="C"),de(Z,Te)),we(Y,Z,ie,te,Te),we(Z,Y,te,ie,Te);var Ne=Y[Te],He=Z&&Z[Te],_e=Ne.length,We=Z&&He.length;ie.x=Ne[_e-2],ie.y=Ne[_e-1],ie.bx=a(Ne[_e-4])||ie.x,ie.by=a(Ne[_e-3])||ie.y,te.bx=Z&&(a(He[We-4])||te.x),te.by=Z&&(a(He[We-3])||te.y),te.x=Z&&He[We-2],te.y=Z&&He[We-1]}return Z||(se.curve=s(Y)),Z?[Y,Z]:Y}function J(X,q){if(!q)return X;var se,Y,Z,ie,te,fe,de;for(X=ee(X),Z=0,te=X.length;Z<te;Z++)for(de=X[Z],ie=1,fe=de.length;ie<fe;ie+=2)se=q.x(de[ie],de[ie+1]),Y=q.y(de[ie],de[ie+1]),de[ie]=se,de[ie+1]=Y;return X}function Q(X,q){for(var se=[],Y=0,Z=X.length;Z-2*!q>Y;Y+=2){var ie=[{x:+X[Y-2],y:+X[Y-1]},{x:+X[Y],y:+X[Y+1]},{x:+X[Y+2],y:+X[Y+3]},{x:+X[Y+4],y:+X[Y+5]}];q?Y?Z-4==Y?ie[3]={x:+X[0],y:+X[1]}:Z-2==Y&&(ie[2]={x:+X[0],y:+X[1]},ie[3]={x:+X[2],y:+X[3]}):ie[0]={x:+X[Z-2],y:+X[Z-1]}:Z-4==Y?ie[3]=ie[2]:Y||(ie[0]={x:+X[Y],y:+X[Y+1]}),se.push(["C",(-ie[0].x+6*ie[1].x+ie[2].x)/6,(-ie[0].y+6*ie[1].y+ie[2].y)/6,(ie[1].x+6*ie[2].x-ie[3].x)/6,(ie[1].y+6*ie[2].y-ie[3].y)/6,ie[2].x,ie[2].y])}return se}ne.path=u,ne.path.getTotalLength=c,ne.path.getPointAtLength=b,ne.path.getSubpath=function(X,q,se){if(this.getTotalLength(X)-se<1e-6)return v(X,q).end;var Y=v(X,se,1);return q?v(Y,q).end:Y},W.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},W.getPointAtLength=function(X){return b(this.attr("d"),X)},W.getSubpath=function(X,q){return ne.path.getSubpath(this.attr("d"),X,q)},ne._.box=n,ne.path.findDotsAtSegment=l,ne.path.bezierBBox=p,ne.path.isPointInsideBBox=S,ne.closest=function(X,q,se,Y){for(var Z=100,ie=n(X-Z/2,q-Z/2,Z,Z),te=[],fe=se[0].hasOwnProperty("x")?function(Ee){return{x:se[Ee].x,y:se[Ee].y}}:function(Ee){return{x:se[Ee],y:Y[Ee]}},de=0;Z<=1e6&&!de;){for(var we=0,Ae=se.length;we<Ae;we++){var Re=fe(we);if(S(ie,Re.x,Re.y)){de++,te.push(Re);break}}de||(Z*=2,ie=n(X-Z/2,q-Z/2,Z,Z))}if(Z!=1e6){var Fe=1/0,Se;for(we=0,Ae=te.length;we<Ae;we++){var Te=ne.len(X,q,te[we].x,te[we].y);Fe>Te&&(Fe=Te,te[we].len=Te,Se=te[we])}return Se}},ne.path.isBBoxIntersect=M,ne.path.intersection=P,ne.path.intersectionNumber=w,ne.path.isPointInside=F,ne.path.getBBox=H,ne.path.get=O,ne.path.toRelative=U,ne.path.toAbsolute=K,ne.path.toCubic=ee,ne.path.map=J,ne.path.toString=i,ne.path.clone=s}),G.plugin(function(ne,pe,Le,Ye){var W=Math.max,V=Math.min,e=function(C){if(this.items=[],this.bindings={},this.length=0,this.type="set",C)for(var a=0,L=C.length;a<L;a++)C[a]&&(this[this.items.length]=this.items[this.items.length]=C[a],this.length++)},y=e.prototype;y.push=function(){for(var C,a,L=0,x=arguments.length;L<x;L++)C=arguments[L],C&&(a=this.items.length,this[a]=this.items[a]=C,this.length++);return this},y.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},y.forEach=function(C,a){for(var L=0,x=this.items.length;L<x;L++)if(C.call(a,this.items[L],L)===!1)return this;return this},y.animate=function(C,a,L,x){typeof L=="function"&&!L.length&&(x=L,L=k.linear),C instanceof ne._.Animation&&(x=C.callback,L=C.easing,a=L.dur,C=C.attr);var h=arguments;if(ne.is(C,"array")&&ne.is(h[h.length-1],"array"))var d=!0;var t,r=function(){t?this.b=t:t=this.b},u=0,n=this,i=x&&function(){++u==n.length&&x.call(this)};return this.forEach(function(s,o){eve.once("snap.animcreated."+s.id,r),d?h[o]&&s.animate.apply(s,h[o]):s.animate(C,a,L,i)})},y.remove=function(){for(;this.length;)this.pop().remove();return this},y.bind=function(C,a,L){var x={};if(typeof a=="function")this.bindings[C]=a;else{var h=L||C;this.bindings[C]=function(d){x[h]=d,a.attr(x)}}return this},y.attr=function(C){var a={};for(var L in C)this.bindings[L]?this.bindings[L](C[L]):a[L]=C[L];for(var x=0,h=this.items.length;x<h;x++)this.items[x].attr(a);return this},y.clear=function(){for(;this.length;)this.pop()},y.splice=function(C,a,L){C=C<0?W(this.length+C,0):C,a=W(0,V(this.length-C,a));var x=[],h=[],d=[],t;for(t=2;t<arguments.length;t++)d.push(arguments[t]);for(t=0;t<a;t++)h.push(this[C+t]);for(;t<this.length-C;t++)x.push(this[C+t]);var r=d.length;for(t=0;t<r+x.length;t++)this.items[C+t]=this[C+t]=t<r?d[t]:x[t-r];for(t=this.items.length=this.length-=a-r;this[t];)delete this[t++];return new e(h)},y.exclude=function(C){for(var a=0,L=this.length;a<L;a++)if(this[a]==C)return this.splice(a,1),!0;return!1},y.insertAfter=function(C){for(var a=this.items.length;a--;)this.items[a].insertAfter(C);return this},y.getBBox=function(){for(var C=[],a=[],L=[],x=[],h=this.items.length;h--;)if(!this.items[h].removed){var d=this.items[h].getBBox();C.push(d.x),a.push(d.y),L.push(d.x+d.width),x.push(d.y+d.height)}return C=V.apply(0,C),a=V.apply(0,a),L=W.apply(0,L),x=W.apply(0,x),{x:C,y:a,x2:L,y2:x,width:L-C,height:x-a,cx:C+(L-C)/2,cy:a+(x-a)/2}},y.clone=function(C){C=new e;for(var a=0,L=this.items.length;a<L;a++)C.push(this.items[a].clone());return C},y.toString=function(){return"Snaps set"},y.type="set",ne.Set=e,ne.set=function(){var C=new e;return arguments.length&&C.push.apply(C,Array.prototype.slice.call(arguments,0)),C}}),G.plugin(function(ne,pe,Le,Ye){var W={},V=/[%a-z]+$/i,e=String;W.stroke=W.fill="colour";function y(n){var i=n[0];switch(i.toLowerCase()){case"t":return[i,0,0];case"m":return[i,1,0,0,1,0,0];case"r":return n.length==4?[i,0,n[2],n[3]]:[i,0];case"s":return n.length==5?[i,1,1,n[3],n[4]]:n.length==3?[i,1,1]:[i,1]}}function C(n,i,s){n=n||new ne.Matrix,i=i||new ne.Matrix,n=ne.parseTransformString(n.toTransformString())||[],i=ne.parseTransformString(i.toTransformString())||[];for(var o=Math.max(n.length,i.length),m=[],c=[],b=0,v,l,p,S;b<o;b++){if(p=n[b]||y(i[b]),S=i[b]||y(p),p[0]!=S[0]||p[0].toLowerCase()=="r"&&(p[2]!=S[2]||p[3]!=S[3])||p[0].toLowerCase()=="s"&&(p[3]!=S[3]||p[4]!=S[4])){n=ne._.transform2matrix(n,s()),i=ne._.transform2matrix(i,s()),m=[["m",n.a,n.b,n.c,n.d,n.e,n.f]],c=[["m",i.a,i.b,i.c,i.d,i.e,i.f]];break}for(m[b]=[],c[b]=[],v=0,l=Math.max(p.length,S.length);v<l;v++)v in p&&(m[b][v]=p[v]),v in S&&(c[b][v]=S[v])}return{from:t(m),to:t(c),f:d(m)}}function a(n){return n}function L(n){return function(i){return+i.toFixed(3)+n}}function x(n){return n.join(" ")}function h(n){return ne.rgb(n[0],n[1],n[2],n[3])}function d(n){var i=0,s,o,m,c,b,v,l=[];for(s=0,o=n.length;s<o;s++){for(b="[",v=['"'+n[s][0]+'"'],m=1,c=n[s].length;m<c;m++)v[m]="val["+i+++"]";b+=v+"]",l[s]=b}return Function("val","return Snap.path.toString.call(["+l+"])")}function t(n){for(var i=[],s=0,o=n.length;s<o;s++)for(var m=1,c=n[s].length;m<c;m++)i.push(n[s][m]);return i}function r(n){return isFinite(n)}function u(n,i){return!ne.is(n,"array")||!ne.is(i,"array")?!1:n.toString()==i.toString()}pe.prototype.equal=function(n,i){return eve("snap.util.equal",this,n,i).firstDefined()},eve.on("snap.util.equal",function(n,i){var s,o,m=e(this.attr(n)||""),c=this;if(W[n]=="colour")return s=ne.color(m),o=ne.color(i),{from:[s.r,s.g,s.b,s.opacity],to:[o.r,o.g,o.b,o.opacity],f:h};if(n=="viewBox")return s=this.attr(n).vb.split(" ").map(Number),o=i.split(" ").map(Number),{from:s,to:o,f:x};if(n=="transform"||n=="gradientTransform"||n=="patternTransform")return typeof i=="string"&&(i=e(i).replace(/\.{3}|\u2026/g,m)),m=this.matrix,ne._.rgTransform.test(i)?i=ne._.transform2matrix(i,this.getBBox()):i=ne._.transform2matrix(ne._.svgTransform2string(i),this.getBBox()),C(m,i,function(){return c.getBBox(1)});if(n=="d"||n=="path")return s=ne.path.toCubic(m,i),{from:t(s[0]),to:t(s[1]),f:d(s[0])};if(n=="points")return s=e(m).split(ne._.separator),o=e(i).split(ne._.separator),{from:s,to:o,f:function(l){return l}};if(r(m)&&r(i))return{from:parseFloat(m),to:parseFloat(i),f:a};var b=m.match(V),v=e(i).match(V);return b&&u(b,v)?{from:parseFloat(m),to:parseFloat(i),f:L(b)}:{from:this.asPX(n),to:this.asPX(n,i),f:a}})}),G.plugin(function(ne,pe,Le,Ye){for(var W=pe.prototype,V="hasOwnProperty",e=("createTouch"in Ye.doc),y=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],C={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},a=function(i,s){var o=i=="y"?"scrollTop":"scrollLeft",m=s&&s.node?s.node.ownerDocument:Ye.doc;return m[o in m.documentElement?"documentElement":"body"][o]},L=function(){return this.originalEvent.preventDefault()},x=function(){return this.originalEvent.stopPropagation()},h=function(i,s,o,m){var c=e&&C[s]?C[s]:s,b=function(v){var l=a("y",m),p=a("x",m);if(e&&C[V](s)){for(var S=0,M=v.targetTouches&&v.targetTouches.length;S<M;S++)if(v.targetTouches[S].target==i||i.contains(v.targetTouches[S].target)){var R=v;v=v.targetTouches[S],v.originalEvent=R,v.preventDefault=L,v.stopPropagation=x;break}}var T=v.clientX+p,E=v.clientY+l;return o.call(m,v,T,E)};return s!==c&&i.addEventListener(s,b,!1),i.addEventListener(c,b,!1),function(){return s!==c&&i.removeEventListener(s,b,!1),i.removeEventListener(c,b,!1),!0}},d=[],t=function(i){for(var s=i.clientX,o=i.clientY,m=a("y"),c=a("x"),b,v=d.length;v--;){if(b=d[v],e){for(var l=i.touches&&i.touches.length,p;l--;)if(p=i.touches[l],p.identifier==b.el._drag.id||b.el.node.contains(p.target)){s=p.clientX,o=p.clientY,(i.originalEvent?i.originalEvent:i).preventDefault();break}}else i.preventDefault();var S=b.el.node;S.nextSibling,S.parentNode,S.style.display,s+=c,o+=m,eve("snap.drag.move."+b.el.id,b.move_scope||b.el,s-b.el._drag.x,o-b.el._drag.y,s,o,i)}},r=function(i){ne.unmousemove(t).unmouseup(r);for(var s=d.length,o;s--;)o=d[s],o.el._drag={},eve("snap.drag.end."+o.el.id,o.end_scope||o.start_scope||o.move_scope||o.el,i),eve.off("snap.drag.*."+o.el.id);d=[]},u=y.length;u--;)(function(i){ne[i]=W[i]=function(s,o){if(ne.is(s,"function"))this.events=this.events||[],this.events.push({name:i,f:s,unbind:h(this.node||document,i,s,o||this)});else for(var m=0,c=this.events.length;m<c;m++)if(this.events[m].name==i)try{this.events[m].f.call(this)}catch{}return this},ne["un"+i]=W["un"+i]=function(s){for(var o=this.events||[],m=o.length;m--;)if(o[m].name==i&&(o[m].f==s||!s))return o[m].unbind(),o.splice(m,1),!o.length&&delete this.events,this;return this}})(y[u]);W.hover=function(i,s,o,m){return this.mouseover(i,o).mouseout(s,m||o)},W.unhover=function(i,s){return this.unmouseover(i).unmouseout(s)};var n=[];W.drag=function(i,s,o,m,c,b){var v=this;if(!arguments.length){var l;return v.drag(function(M,R){this.attr({transform:l+(l?"T":"t")+[M,R]})},function(){l=this.transform().local})}function p(M,R,T){(M.originalEvent||M).preventDefault(),v._drag.x=R,v._drag.y=T,v._drag.id=M.identifier,!d.length&&ne.mousemove(t).mouseup(r),d.push({el:v,move_scope:m,start_scope:c,end_scope:b}),s&&eve.on("snap.drag.start."+v.id,s),i&&eve.on("snap.drag.move."+v.id,i),o&&eve.on("snap.drag.end."+v.id,o),eve("snap.drag.start."+v.id,c||m||v,R,T,M)}function S(M,R,T){eve("snap.draginit."+v.id,v,M,R,T)}return eve.on("snap.draginit."+v.id,p),v._drag={},n.push({el:v,start:p,init:S}),v.mousedown(S),v},W.undrag=function(){for(var i=n.length;i--;)n[i].el==this&&(this.unmousedown(n[i].init),n.splice(i,1),eve.unbind("snap.drag.*."+this.id),eve.unbind("snap.draginit."+this.id));return!n.length&&ne.unmousemove(t).unmouseup(r),this}}),G.plugin(function(ne,pe,Le,Ye){pe.prototype;var W=Le.prototype,V=/^\s*url\((.+)\)/,e=String,y=ne._.$;ne.filter={},W.filter=function(C){var a=this;a.type!="svg"&&(a=a.paper);var L=ne.parse(e(C)),x=ne._.id();a.node.offsetWidth,a.node.offsetHeight;var h=y("filter");return y(h,{id:x,filterUnits:"userSpaceOnUse"}),h.appendChild(L.node),a.defs.appendChild(h),new pe(h)},eve.on("snap.util.getattr.filter",function(){eve.stop();var C=y(this.node,"filter");if(C){var a=e(C).match(V);return a&&ne.select(a[1])}}),eve.on("snap.util.attr.filter",function(C){if(C instanceof pe&&C.type=="filter"){eve.stop();var a=C.node.id;a||(y(C.node,{id:C.id}),a=C.id),y(this.node,{filter:ne.url(a)})}(!C||C=="none")&&(eve.stop(),this.node.removeAttribute("filter"))}),ne.filter.blur=function(C,a){C==null&&(C=2);var L=a==null?C:[C,a];return ne.format('<feGaussianBlur stdDeviation="{def}"/>',{def:L})},ne.filter.blur.toString=function(){return this()},ne.filter.shadow=function(C,a,L,x,h){return h==null&&(x==null?(h=L,L=4,x="#000"):(h=x,x=L,L=4)),L==null&&(L=4),h==null&&(h=1),C==null&&(C=0,a=2),a==null&&(a=C),x=ne.color(x),ne.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:x,dx:C,dy:a,blur:L,opacity:h})},ne.filter.shadow.toString=function(){return this()},ne.filter.grayscale=function(C){return C==null&&(C=1),ne.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-C),b:.7152-.7152*(1-C),c:.0722-.0722*(1-C),d:.2126-.2126*(1-C),e:.7152+.2848*(1-C),f:.0722-.0722*(1-C),g:.2126-.2126*(1-C),h:.0722+.9278*(1-C)})},ne.filter.grayscale.toString=function(){return this()},ne.filter.sepia=function(C){return C==null&&(C=1),ne.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-C),b:.769-.769*(1-C),c:.189-.189*(1-C),d:.349-.349*(1-C),e:.686+.314*(1-C),f:.168-.168*(1-C),g:.272-.272*(1-C),h:.534-.534*(1-C),i:.131+.869*(1-C)})},ne.filter.sepia.toString=function(){return this()},ne.filter.saturate=function(C){return C==null&&(C=1),ne.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-C})},ne.filter.saturate.toString=function(){return this()},ne.filter.hueRotate=function(C){return C=C||0,ne.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:C})},ne.filter.hueRotate.toString=function(){return this()},ne.filter.invert=function(C){return C==null&&(C=1),ne.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:C,amount2:1-C})},ne.filter.invert.toString=function(){return this()},ne.filter.brightness=function(C){return C==null&&(C=1),ne.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:C})},ne.filter.brightness.toString=function(){return this()},ne.filter.contrast=function(C){return C==null&&(C=1),ne.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:C,amount2:.5-C/2})},ne.filter.contrast.toString=function(){return this()}}),G.plugin(function(ne,pe,Le,Ye,W){var V=ne._.box,e=ne.is,y=/^[^a-z]*([tbmlrc])/i,C=function(){return"T"+this.dx+","+this.dy};pe.prototype.getAlign=function(a,L){L==null&&e(a,"string")&&(L=a,a=null),a=a||this.paper;var x=a.getBBox?a.getBBox():V(a),h=this.getBBox(),d={};switch(L=L&&L.match(y),L=L?L[1].toLowerCase():"c",L){case"t":d.dx=0,d.dy=x.y-h.y;break;case"b":d.dx=0,d.dy=x.y2-h.y2;break;case"m":d.dx=0,d.dy=x.cy-h.cy;break;case"l":d.dx=x.x-h.x,d.dy=0;break;case"r":d.dx=x.x2-h.x2,d.dy=0;break;default:d.dx=x.cx-h.cx,d.dy=0;break}return d.toString=C,d},pe.prototype.align=function(a,L){return this.transform("..."+this.getAlign(a,L))}}),G.plugin(function(ne,pe,Le,Ye,W){var V=pe.prototype,e=ne.is,y=String,C="hasOwnProperty";function a(x,h,d){return function(t){var r=t.slice(x,h);return r.length==1&&(r=r[0]),d?d(r):r}}var L=function(x,h,d,t){typeof d=="function"&&!d.length&&(t=d,d=k.linear),this.attr=x,this.dur=h,d&&(this.easing=d),t&&(this.callback=t)};ne._.Animation=L,ne.animation=function(x,h,d,t){return new L(x,h,d,t)},V.inAnim=function(){var x=this,h=[];for(var d in x.anims)x.anims[C](d)&&function(t){h.push({anim:new L(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(r){return t.status(r)},stop:function(){t.stop()}})}(x.anims[d]);return h},ne.animate=function(x,h,d,t,r,u){typeof r=="function"&&!r.length&&(u=r,r=k.linear);var n=k.time(),i=k(x,h,n,n+t,k.time,d,r);return u&&eve.once("mina.finish."+i.id,u),i},V.stop=function(){for(var x=this.inAnim(),h=0,d=x.length;h<d;h++)x[h].stop();return this},V.animate=function(x,h,d,t){typeof d=="function"&&!d.length&&(t=d,d=k.linear),x instanceof L&&(t=x.callback,d=x.easing,h=x.dur,x=x.attr);var r=[],u=[],n={},i,s,o,m,c=this;for(var b in x)if(x[C](b)){c.equal?(m=c.equal(b,y(x[b])),i=m.from,s=m.to,o=m.f):(i=+c.attr(b),s=+x[b]);var v=e(i,"array")?i.length:1;n[b]=a(r.length,r.length+v,o),r=r.concat(i),u=u.concat(s)}var l=k.time(),p=k(r,u,l,l+h,k.time,function(S){var M={};for(var R in n)n[C](R)&&(M[R]=n[R](S));c.attr(M)},d);return c.anims[p.id]=p,p._attrs=x,p._callback=t,eve("snap.animcreated."+c.id,p),eve.once("mina.finish."+p.id,function(){eve.off("mina.*."+p.id),delete c.anims[p.id],t&&t.call(c)}),eve.once("mina.stop."+p.id,function(){eve.off("mina.*."+p.id),delete c.anims[p.id]}),c}}),G.plugin(function(ne,pe,Le,Ye){var W="#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000",V="#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162",e="#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF",y="#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA",C="#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE",a="#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF",L="#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA",x="#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4",h="#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5",d="#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853",t="#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17",r="#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00",u="#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600",n="#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00",i="#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00",s="#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00",o="#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723",m="#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121",c="#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238";ne.mui={},ne.flat={};function b(v){v=v.split(/(?=#)/);var l=new String(v[5]);return l[50]=v[0],l[100]=v[1],l[200]=v[2],l[300]=v[3],l[400]=v[4],l[500]=v[5],l[600]=v[6],l[700]=v[7],l[800]=v[8],l[900]=v[9],v[10]&&(l.A100=v[10],l.A200=v[11],l.A400=v[12],l.A700=v[13]),l}ne.mui.red=b(W),ne.mui.pink=b(V),ne.mui.purple=b(e),ne.mui.deeppurple=b(y),ne.mui.indigo=b(C),ne.mui.blue=b(a),ne.mui.lightblue=b(L),ne.mui.cyan=b(x),ne.mui.teal=b(h),ne.mui.green=b(d),ne.mui.lightgreen=b(t),ne.mui.lime=b(r),ne.mui.yellow=b(u),ne.mui.amber=b(n),ne.mui.orange=b(i),ne.mui.deeporange=b(s),ne.mui.brown=b(o),ne.mui.grey=b(m),ne.mui.bluegrey=b(c),ne.flat.turquoise="#1abc9c",ne.flat.greensea="#16a085",ne.flat.sunflower="#f1c40f",ne.flat.orange="#f39c12",ne.flat.emerland="#2ecc71",ne.flat.nephritis="#27ae60",ne.flat.carrot="#e67e22",ne.flat.pumpkin="#d35400",ne.flat.peterriver="#3498db",ne.flat.belizehole="#2980b9",ne.flat.alizarin="#e74c3c",ne.flat.pomegranate="#c0392b",ne.flat.amethyst="#9b59b6",ne.flat.wisteria="#8e44ad",ne.flat.clouds="#ecf0f1",ne.flat.silver="#bdc3c7",ne.flat.wetasphalt="#34495e",ne.flat.midnightblue="#2c3e50",ne.flat.concrete="#95a5a6",ne.flat.asbestos="#7f8c8d",ne.importMUIColors=function(){for(var v in ne.mui)ne.mui.hasOwnProperty(v)&&(window[v]=ne.mui[v])}}),t1=G,t1}(function(k,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(){var ne=void 0;try{ne=z9()}finally{return ne}},k.exports=G.default})(pm,pm.exports);var UA=pm.exports,Wg={};Object.defineProperty(Wg,"__esModule",{value:!0});var O9=function(G){return parseInt(G.slice(0,-2),10)};Wg.pxToNum=O9;(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(C){return C&&C.__esModule?C:{default:C}}var pe=UA,Le=ne(pe),Ye=cf,W=ne(Ye),V=Wg,e=120,y={svg:{lib:Le.default,pathInitial:"M-1,0h101c0,0-97.833,153.603-97.833,396.167C2.167,627.579,100,800,100,800H-1V0z",pathOpen:"M-1,0h101c0,0,0-1,0,395c0,404,0,405,0,405H-1V0z",animate:function(a){a.animate({path:this.pathOpen},400,window.mina.easeinout)}},morphShape:function(a,L,x){return{position:"absolute",width:e,height:"100%",right:x?"inherit":0,left:x?0:"inherit",MozTransform:x?"rotateY(180deg)":"",MsTransform:x?"rotateY(180deg)":"",OTransform:x?"rotateY(180deg)":"",WebkitTransform:x?"rotateY(180deg)":"",transform:x?"rotateY(180deg)":""}},menuWrap:function(a,L,x){return{MozTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",MsTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",OTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",WebkitTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",transform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",transition:"all 0.3s"}},menu:function(a,L,x){return{position:"fixed",right:x?0:"inherit",width:(0,V.pxToNum)(L)-e,whiteSpace:"nowrap",boxSizing:"border-box",overflow:"visible"}},itemList:function(a,L,x){if(x)return{position:"relative",left:"-110px",width:"170%",overflow:"auto"}},pageWrap:function(a,L,x){return{MozTransform:a?"":x?"translate3d(-100px, 0, 0)":"translate3d(100px, 0, 0)",MsTransform:a?"":x?"translate3d(-100px, 0, 0)":"translate3d(100px, 0, 0)",OTransform:a?"":x?"translate3d(-100px, 0, 0)":"translate3d(100px, 0, 0)",WebkitTransform:a?"":x?"translate3d(-100px, 0, 0)":"translate3d(100px, 0, 0)",transform:a?"":x?"translate3d(-100px, 0, 0)":"translate3d(100px, 0, 0)",transition:a?"all 0.3s":"all 0.3s 0.1s"}},outerContainer:function(a){return{overflow:a?"":"hidden"}}};G.default=(0,W.default)(y),k.exports=G.default})(dm,dm.exports);var B9=dm.exports,gm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(C){return C&&C.__esModule?C:{default:C}}var pe=UA,Le=ne(pe),Ye=cf,W=ne(Ye),V=Wg,e=140,y={svg:{lib:Le.default,pathInitial:"M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z",pathOpen:"M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z",animate:function(a){var L=0,x=this.pathOpen.split(";"),h=x.length,d=window.mina,t=function r(){L>h-1||(a.animate({path:x[L]},L===0?400:500,L===0?d.easein:d.elastic,function(){r()}),L++)};t()}},morphShape:function(a,L,x){return{position:"absolute",width:"100%",height:"100%",right:x?"inherit":0,left:x?0:"inherit",MozTransform:x?"rotateY(180deg)":"rotateY(0deg)",MsTransform:x?"rotateY(180deg)":"rotateY(0deg)",OTransform:x?"rotateY(180deg)":"rotateY(0deg)",WebkitTransform:x?"rotateY(180deg)":"rotateY(0deg)",transform:x?"rotateY(180deg)":"rotateY(0deg)"}},menuWrap:function(a,L,x){return{MozTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",MsTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",OTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",WebkitTransform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",transform:a?"translate3d(0, 0, 0)":x?"translate3d(100%, 0, 0)":"translate3d(-100%, 0, 0)",transition:a?"transform 0.4s 0s":"transform 0.4s"}},menu:function(a,L,x){var h=(0,V.pxToNum)(L)-e;return{position:"fixed",MozTransform:a?"":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",MsTransform:a?"":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",OTransform:a?"":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",WebkitTransform:a?"":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",transform:a?"":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",transition:a?"opacity 0.1s 0.4s cubic-bezier(.17, .67, .1, 1.27), transform 0.1s 0.4s cubic-bezier(.17, .67, .1, 1.27)":"opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)",opacity:a?1:0}},item:function(a,L,x,h){var d=(0,V.pxToNum)(L)-e;return{MozTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+d+", 0, 0)":"translate3d(-"+d+", 0, 0)",MsTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+d+", 0, 0)":"translate3d(-"+d+", 0, 0)",OTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+d+", 0, 0)":"translate3d(-"+d+", 0, 0)",WebkitTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+d+", 0, 0)":"translate3d(-"+d+", 0, 0)",transform:a?"translate3d(0, 0, 0)":x?"translate3d("+d+", 0, 0)":"translate3d(-"+d+", 0, 0)",transition:a?"opacity 0.3s 0.4s, transform 0.3s 0.4s":"opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)",opacity:a?1:0}},closeButton:function(a,L,x){var h=(0,V.pxToNum)(L)-e;return{MozTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",MsTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",OTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",WebkitTransform:a?"translate3d(0, 0, 0)":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",transform:a?"translate3d(0, 0, 0)":x?"translate3d("+h+", 0, 0)":"translate3d(-"+h+", 0, 0)",transition:a?"opacity 0.3s 0.4s cubic-bezier(.17, .67, .1, 1.27), transform 0.3s 0.4s cubic-bezier(.17, .67, .1, 1.27)":"opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)",opacity:a?1:0}}};G.default=(0,W.default)(y),k.exports=G.default})(gm,gm.exports);var N9=gm.exports,ym={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={pageWrap:function(V,e,y){return{MozTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",MsTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",OTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",WebkitTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",transform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",transition:"all 0.5s"}},outerContainer:function(V){return{overflow:V?"":"hidden"}}};G.default=(0,Le.default)(Ye),k.exports=G.default})(ym,ym.exports);var U9=ym.exports,mm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={pageWrap:function(V,e,y){return{MozTransform:V?"":y?"translate3d(-"+e+", 0, 0) rotateY(15deg)":"translate3d("+e+", 0, 0) rotateY(-15deg)",MsTransform:V?"":y?"translate3d(-"+e+", 0, 0) rotateY(15deg)":"translate3d("+e+", 0, 0) rotateY(-15deg)",OTransform:V?"":y?"translate3d(-"+e+", 0, 0) rotateY(15deg)":"translate3d("+e+", 0, 0) rotateY(-15deg)",WebkitTransform:V?"":y?"translate3d(-"+e+", 0, 0) rotateY(15deg)":"translate3d("+e+", 0, 0) rotateY(-15deg)",transform:V?"":y?"translate3d(-"+e+", 0, 0) rotateY(15deg)":"translate3d("+e+", 0, 0) rotateY(-15deg)",transformOrigin:y?"100% 50%":"0% 50%",transformStyle:"preserve-3d",transition:"all 0.5s"}},outerContainer:function(V){return{perspective:"1500px",overflow:V?"":"hidden"}}};G.default=(0,Le.default)(Ye),k.exports=G.default})(mm,mm.exports);var H9=mm.exports,xm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={pageWrap:function(V,e){return{MozTransform:V?"":"translate3d(0, 0, -"+e+")",MsTransform:V?"":"translate3d(0, 0, -"+e+")",OTransform:V?"":"translate3d(0, 0, -"+e+")",WebkitTransform:V?"":"translate3d(0, 0, -"+e+")",transform:V?"":"translate3d(0, 0, -"+e+")",transformOrigin:"100%",transformStyle:"preserve-3d",transition:"all 0.5s"}},outerContainer:function(){return{perspective:"1500px"}}};G.default=(0,Le.default)(Ye),k.exports=G.default})(xm,xm.exports);var V9=xm.exports,bm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={pageWrap:function(V,e,y){return{MozTransform:V?"":y?"translate3d(-100px, 0, -600px) rotateY(20deg)":"translate3d(100px, 0, -600px) rotateY(-20deg)",MsTransform:V?"":y?"translate3d(-100px, 0, -600px) rotateY(20deg)":"translate3d(100px, 0, -600px) rotateY(-20deg)",OTransform:V?"":y?"translate3d(-100px, 0, -600px) rotateY(20deg)":"translate3d(100px, 0, -600px) rotateY(-20deg)",WebkitTransform:V?"":y?"translate3d(-100px, 0, -600px) rotateY(20deg)":"translate3d(100px, 0, -600px) rotateY(-20deg)",transform:V?"":y?"translate3d(-100px, 0, -600px) rotateY(20deg)":"translate3d(100px, 0, -600px) rotateY(-20deg)",transformStyle:"preserve-3d",transition:"all 0.5s",overflow:V?"":"hidden"}},outerContainer:function(V){return{perspective:"1500px",overflow:V?"":"hidden"}}};G.default=(0,Le.default)(Ye),k.exports=G.default})(bm,bm.exports);var G9=bm.exports,wm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={menuWrap:function(V){return{MozTransform:V?"":"translate3d(0, -100%, 0)",MsTransform:V?"":"translate3d(0, -100%, 0)",OTransform:V?"":"translate3d(0, -100%, 0)",WebkitTransform:V?"":"translate3d(0, -100%, 0)",transform:V?"":"translate3d(0, -100%, 0)",transition:"all 0.5s ease-in-out"}},pageWrap:function(V,e,y){return{MozTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",MsTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",OTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",WebkitTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",transform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",transition:"all 0.5s"}},outerContainer:function(V){return{perspective:"1500px",perspectiveOrigin:"0% 50%",overflow:V?"":"hidden"}}};G.default=(0,Le.default)(Ye),k.exports=G.default})(wm,wm.exports);var W9=wm.exports,Tm={exports:{}};(function(k,G){Object.defineProperty(G,"__esModule",{value:!0});function ne(W){return W&&W.__esModule?W:{default:W}}var pe=cf,Le=ne(pe),Ye={menuWrap:function(V,e,y){return{MozTransform:"translate3d(0, 0, 0)",MsTransform:"translate3d(0, 0, 0)",OTransform:"translate3d(0, 0, 0)",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",zIndex:V?1e3:-1}},overlay:function(V,e,y){return{zIndex:1400,MozTransform:V?y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)":"translate3d(0, 0, 0)",MsTransform:V?y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)":"translate3d(0, 0, 0)",OTransform:V?y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)":"translate3d(0, 0, 0)",WebkitTransform:V?y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)":"translate3d(0, 0, 0)",transform:V?y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)":"translate3d(0, 0, 0)",transition:"all 0.5s",visibility:V?"visible":"hidden"}},pageWrap:function(V,e,y){return{MozTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",MsTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",OTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",WebkitTransform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",transform:V?"":y?"translate3d(-"+e+", 0, 0)":"translate3d("+e+", 0, 0)",transition:"all 0.5s",zIndex:1200,position:"relative"}},burgerIcon:function(V,e,y){return{MozTransform:V?y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)":"translate3d(0, 0, 0)",MsTransform:V?y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)":"translate3d(0, 0, 0)",OTransform:V?y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)":"translate3d(0, 0, 0)",WebkitTransform:V?y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)":"translate3d(0, 0, 0)",transform:V?y?"translate3d("+e+", 0, 0)":"translate3d(-"+e+", 0, 0)":"translate3d(0, 0, 0)",transition:"all 0.1s",position:"relative",zIndex:1300}},outerContainer:function(V){return{overflow:V?"":"hidden"}}};G.default=(0,Le.default)(Ye),k.exports=G.default})(Tm,Tm.exports);var Y9=Tm.exports;(function(k,G){Object.defineProperty(G,"__esModule",{value:!0}),G.default={slide:k9,stack:F9,elastic:B9,bubble:N9,push:U9,pushRotate:H9,scaleDown:V9,scaleRotate:G9,fallDown:W9,reveal:Y9},k.exports=G.default})(sm,sm.exports);var HA=sm.exports;const j9=({data:k})=>{const G=Sx(),[ne,pe]=ua.useState(),[Le,Ye]=ua.useState(!0),[W,V]=ua.useState([]),[e,y]=ua.useState([]),C=async h=>{h.preventDefault();const d=new FormData;d.append("file",ne);const t=await jh.post("http://15.206.216.109:4000/post",d);console.log(t.data.error),y(t.data.error),Ye(!1),k(ne.name)},a=h=>{Ye(!0),pe(h.target.files[0])},L=async()=>{const h=await jh.get("http://15.206.216.109:4000/getVectorStore");V(h.data.store),Ye(!0)},x=async h=>{h.preventDefault(),Ye(!1),k(h.target.value)};return ua.useEffect(()=>{L()},[]),Bn.jsxs(HA.slide,{isOpen:Le,children:[Bn.jsx("h1",{children:"upload File"}),Bn.jsxs("div",{children:[Bn.jsxs("form",{action:"",encType:"multipart/form-data",onSubmit:C,children:[Bn.jsx("input",{className:"inputstyle",type:"file",name:"file",onChange:a}),Bn.jsx("input",{className:"submit",type:"submit",value:"submit"})]}),Bn.jsx("br",{}),Bn.jsx("br",{}),e,Bn.jsxs("div",{children:[Bn.jsx("hr",{}),Bn.jsx("h1",{children:"Select File from Here"}),Bn.jsx("div",{className:"scroll-container",children:Bn.jsx("ol",{className:"item-list",children:W==null?void 0:W.map((h,d)=>Bn.jsx("input",{className:"list-input",value:h,onClick:x,readOnly:!0},d))})})]}),Bn.jsx("button",{className:"button1",onClick:()=>{G("/")},children:"Go to home"})]})]})};var VA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tw=Bi.createContext&&Bi.createContext(VA),Qc=globalThis&&globalThis.__assign||function(){return Qc=Object.assign||function(k){for(var G,ne=1,pe=arguments.length;ne<pe;ne++){G=arguments[ne];for(var Le in G)Object.prototype.hasOwnProperty.call(G,Le)&&(k[Le]=G[Le])}return k},Qc.apply(this,arguments)},Z9=globalThis&&globalThis.__rest||function(k,G){var ne={};for(var pe in k)Object.prototype.hasOwnProperty.call(k,pe)&&G.indexOf(pe)<0&&(ne[pe]=k[pe]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Le=0,pe=Object.getOwnPropertySymbols(k);Le<pe.length;Le++)G.indexOf(pe[Le])<0&&Object.prototype.propertyIsEnumerable.call(k,pe[Le])&&(ne[pe[Le]]=k[pe[Le]]);return ne};function GA(k){return k&&k.map(function(G,ne){return Bi.createElement(G.tag,Qc({key:ne},G.attr),GA(G.child))})}function Nx(k){return function(G){return Bi.createElement(X9,Qc({attr:Qc({},k.attr)},G),GA(k.child))}}function X9(k){var G=function(ne){var pe=k.attr,Le=k.size,Ye=k.title,W=Z9(k,["attr","size","title"]),V=Le||ne.size||"1em",e;return ne.className&&(e=ne.className),k.className&&(e=(e?e+" ":"")+k.className),Bi.createElement("svg",Qc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ne.attr,pe,W,{className:e,style:Qc(Qc({color:k.color||ne.color},ne.style),k.style),height:V,width:V,xmlns:"http://www.w3.org/2000/svg"}),Ye&&Bi.createElement("title",null,Ye),k.children)};return Tw!==void 0?Bi.createElement(Tw.Consumer,null,function(ne){return G(ne)}):G(VA)}function WA(k){return Nx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_Arrow_1"},child:[{tag:"path",attr:{d:"M14.472,20.937a1.438,1.438,0,0,1-1.3-.812L10.3,14.343a1.418,1.418,0,0,0-.642-.641L3.874,10.831A1.462,1.462,0,0,1,4.06,8.136l14.952-5a1.46,1.46,0,0,1,1.849,1.847l-5,14.952a1.439,1.439,0,0,1-1.284.994C14.543,20.936,14.507,20.937,14.472,20.937ZM19.479,4.063a.488.488,0,0,0-.149.024h0l-14.952,5a.46.46,0,0,0-.058.849L10.1,12.805A2.444,2.444,0,0,1,11.2,13.9l2.87,5.782a.443.443,0,0,0,.445.255.45.45,0,0,0,.4-.312l5-14.953a.462.462,0,0,0-.433-.607Z"}}]}]})(k)}function YA(k){return Nx({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}}]})(k)}function jA(k){return Nx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.928 11.607c-.202-.488-.635-.605-.928-.633V8c0-1.103-.897-2-2-2h-6V4.61c.305-.274.5-.668.5-1.11a1.5 1.5 0 0 0-3 0c0 .442.195.836.5 1.11V6H5c-1.103 0-2 .897-2 2v2.997l-.082.006A1 1 0 0 0 1.99 12v2a1 1 0 0 0 1 1H3v5c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5a1 1 0 0 0 1-1v-1.938a1.006 1.006 0 0 0-.072-.455zM5 20V8h14l.001 3.996L19 12v2l.001.005.001 5.995H5z"}},{tag:"ellipse",attr:{cx:"8.5",cy:"12",rx:"1.5",ry:"2"}},{tag:"ellipse",attr:{cx:"15.5",cy:"12",rx:"1.5",ry:"2"}},{tag:"path",attr:{d:"M8 16h8v2H8z"}}]})(k)}const K9=()=>{const[k,G]=ua.useState(["Please Ask Question"]),[ne,pe]=ua.useState(!1),[Le,Ye]=ua.useState(),[W,V]=ua.useState(),[e,y]=ua.useState(!1),[C,a]=ua.useState(),L=ua.useRef(),x=()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight)},h=u=>{Ye(u),pe(!0)},d={headers:{"Content-Type":"application/json"}},t=async u=>{if(u.preventDefault(),k.length%2!==0){const n=new FormData;n.append("filename",Le),n.append("prompt",C),G(s=>[...s,C]),y(!0);const i=await jh.post("http://15.206.216.109:4000/chatpdf",n,d);V(i.data.error),console.log(i.data.messages),G(s=>[...s,i.data.messages]),x(),y(!1)}};W&&y(!1);const r=u=>{a(u.target.value)};return Bn.jsxs(Bn.Fragment,{children:[Bn.jsx(j9,{data:h}),ne?Bn.jsxs("div",{children:[Bn.jsxs("h1",{className:"h1",children:["Chat with ",Le]}),Bn.jsxs("div",{className:"container-wrapper",children:[Bn.jsx("button",{className:"clearbtn",onClick:()=>{G(["Please Ask Question"])},children:"Clear Chat"}),Bn.jsxs("div",{className:"container1",children:[Bn.jsxs("form",{onSubmit:t,className:"chat",children:[Bn.jsx("input",{className:"question",type:"text",placeholder:"Enter Question",onChange:r}),Bn.jsx("button",{className:"button",type:"submit",value:"submit",children:Bn.jsx(WA,{})})]}),Bn.jsx("div",{children:Bn.jsxs("div",{className:"overflow",ref:L,children:[k.map((u,n)=>n%2===0?Bn.jsxs("div",{className:"chatbot",children:[Bn.jsx(jA,{className:"img"}),Bn.jsx("p",{children:u})]},n):Bn.jsxs("div",{className:"human",children:[Bn.jsx(YA,{className:"img1"}),Bn.jsx("p",{children:u})]},n)),e?Bn.jsx(Ox,{}):null,W]})})]})]})]}):Bn.jsx("div",{className:"container",children:Bn.jsx("h1",{className:"heading",children:"Please Choose file first!!!"})})]})},J9="modulepreload",Q9=function(k){return"/"+k},Aw={},$9=function(G,ne,pe){if(!ne||ne.length===0)return G();const Le=document.getElementsByTagName("link");return Promise.all(ne.map(Ye=>{if(Ye=Q9(Ye),Ye in Aw)return;Aw[Ye]=!0;const W=Ye.endsWith(".css"),V=W?'[rel="stylesheet"]':"";if(!!pe)for(let C=Le.length-1;C>=0;C--){const a=Le[C];if(a.href===Ye&&(!W||a.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Ye}"]${V}`))return;const y=document.createElement("link");if(y.rel=W?"stylesheet":J9,W||(y.as="script",y.crossOrigin=""),y.href=Ye,document.head.appendChild(y),W)return new Promise((C,a)=>{y.addEventListener("load",C),y.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${Ye}`)))})})).then(()=>G()).catch(Ye=>{const W=new Event("vite:preloadError",{cancelable:!0});if(W.payload=Ye,window.dispatchEvent(W),!W.defaultPrevented)throw Ye})};function q9(k,G,ne,pe){return new(ne||(ne=Promise))(function(Le,Ye){function W(y){try{e(pe.next(y))}catch(C){Ye(C)}}function V(y){try{e(pe.throw(y))}catch(C){Ye(C)}}function e(y){var C;y.done?Le(y.value):(C=y.value,C instanceof ne?C:new ne(function(a){a(C)})).then(W,V)}e((pe=pe.apply(k,G||[])).next())})}const ZA=k=>{const G=ua.useRef(null),[ne,pe]=ua.useState(!1);ua.useEffect(()=>(q9(void 0,void 0,void 0,function*(){yield $9(()=>import("./web-f90599c7.js"),[]),pe(!0)}),()=>{var W;(W=G.current)===null||W===void 0||W.remove()}),[]);const Le=ua.useCallback(W=>{const V=document.createElement("flowise-chatbot");G.current=V,Ye(G.current,W),document.body.append(G.current)},[]);ua.useEffect(()=>{ne&&(G.current||Le(k),Ye(G.current,k))},[Le,ne,k]);const Ye=(W,V)=>{Object.assign(W,V)};return null},eL=()=>(ua.useState(),ua.useState(),Bn.jsx(Bn.Fragment,{children:Bn.jsx("div",{children:Bn.jsx(ZA,{chatflowid:"401480d8-0085-4248-98ce-ed1f913763f3",apiHost:"http://localhost:3000"})})}));const tL=({database:k,data:G})=>{const[ne,pe]=ua.useState(),[Le,Ye]=ua.useState(!0),[W,V]=ua.useState({host:"",port:4564,username:"",password:"",databasename:""}),e=async a=>{a.preventDefault(),k==="sqlite"?G(ne):k==="postgres"&&G(W),Ye(!1)},y=a=>{pe(a.target.files[0])},C=a=>{Ye(!0),V({...W,[a.target.name]:a.target.value})};return Bn.jsxs(HA.slide,{isOpen:Le,children:[Bn.jsxs("h1",{children:["Set the ",k," Credentials"]}),k==="sqlite"?Bn.jsx("div",{children:Bn.jsxs("form",{action:"",encType:"multipart/form-data",onSubmit:e,children:[Bn.jsx("input",{className:"inputstyle",type:"file",name:"file",onChange:y}),Bn.jsx("br",{}),Bn.jsx("br",{}),Bn.jsx("input",{className:"submit",type:"submit",value:"submit"})]})}):null,k==="postgres"?Bn.jsx("div",{children:Bn.jsxs("form",{action:"",onSubmit:e,children:[Bn.jsx("input",{className:"input-prompt",type:"text",name:"host",onChange:C,placeholder:"Enert the host"}),Bn.jsx("br",{}),Bn.jsx("input",{className:"input-prompt",type:"number",name:"port",onChange:C,placeholder:"Enter Port number"}),Bn.jsx("br",{}),Bn.jsx("input",{className:"input-prompt",type:"text",name:"username",onChange:C,placeholder:"Enter Username"}),Bn.jsx("br",{}),Bn.jsx("input",{className:"input-prompt",type:"password",name:"password",onChange:C,placeholder:"password"}),Bn.jsx("br",{}),Bn.jsx("input",{className:"input-prompt",type:"text",name:"databasename",onChange:C,placeholder:"Enter Database Name"}),Bn.jsx("br",{}),Bn.jsx("input",{className:"button",type:"submit",value:"submit"})]})}):null]})};const rL=({database:k})=>{const[G,ne]=ua.useState(["Please Ask Question From Database"]),[pe,Le]=ua.useState(!1),[Ye,W]=ua.useState();ua.useState();const[V,e]=ua.useState(!1),[y,C]=ua.useState(""),[a,L]=ua.useState({host:"",port:4564,username:"",password:"",databasename:""}),x=ua.useRef(),h=()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},d=n=>{Le(!0),k==="sqlite"?W(n):L(n)},t={headers:{"Content-Type":"application/json"}},r=async n=>{n.preventDefault();const i=new FormData;let s;e(!0),ne(o=>[...o,y]),k==="sqlite"?(i.append("prompt",y),i.append("file",Ye),i.append("type",k),s=await jh.post("http://15.206.216.109:4000/chatDatabase",i)):k==="postgres"&&(i.append("prompt",y),i.append("postgres",JSON.stringify(a)),i.append("type",k),s=await jh.post("http://15.206.216.109:4000/chatDatabase",i,t)),e(!1),ne(o=>[...o,s.data.result.output])},u=n=>{C(n.target.value)};return ua.useLayoutEffect(()=>{h()},[G]),Bn.jsxs(Bn.Fragment,{children:[Bn.jsx(tL,{database:k,data:d}),pe?Bn.jsxs("div",{children:[Bn.jsx("h1",{className:"h1",children:"Chat with Database"}),Bn.jsxs("div",{className:"container1",children:[Bn.jsxs("form",{onSubmit:r,className:"chat",children:[Bn.jsx("input",{className:"question",type:"text",placeholder:"Enter Question",onChange:u}),Bn.jsx("button",{className:"button",type:"submit",value:"submit",children:Bn.jsx(WA,{})})]}),Bn.jsx("div",{children:Bn.jsxs("div",{className:"overflow",ref:x,children:[G.map((n,i)=>i%2===0?Bn.jsxs("div",{className:"chatbot",children:[Bn.jsx(jA,{className:"img"}),Bn.jsx("p",{children:n})]}):Bn.jsxs("div",{className:"human",children:[Bn.jsx(YA,{className:"img1"}),Bn.jsx("p",{children:n})]})),V?Bn.jsx(Ox,{}):null]})})]})]}):Bn.jsx("div",{className:"container",children:Bn.jsx("h1",{className:"heading",children:"Please Enter The Credential from the Sidebar First!!!!"})})]})},nL=()=>{const[k,G]=ua.useState(),ne=pe=>{G(pe.target.value)};return Bn.jsxs(Bn.Fragment,{children:[k?Bn.jsx(rL,{database:k}):Bn.jsxs("div",{children:[Bn.jsx("div",{className:"custom-select",children:Bn.jsxs("select",{onClick:ne,children:[Bn.jsx("option",{value:"",children:"Select the Database"}),Bn.jsx("option",{value:"sqlite",children:"Sqlite"}),Bn.jsx("option",{value:"postgres",children:"Postgres"}),Bn.jsx("option",{value:"mysql",children:"My SQL"})]})}),Bn.jsx("br",{}),Bn.jsx("br",{})]}),Bn.jsx("div",{children:Bn.jsx(ZA,{chatflowid:"34bb84ed-67ab-4f2d-8925-422daaa6d047",apiHost:"http://localhost:3000"})})]})};const aL=({files:k})=>{const[G,ne]=ua.useState(),[pe,Le]=ua.useState("");new FileReader;const Ye=async V=>{V.preventDefault();const e=new FormData;e.append("file",G);const y=await jh.post("http://15.206.216.109:4000/post",e);Le("setData",y.data)};k(G);const W=V=>{ne(V.target.files[0])};return Bn.jsx(Bn.Fragment,{children:Bn.jsxs("div",{children:[Bn.jsxs("form",{action:"",encType:"multipart/form-data",onSubmit:Ye,children:[Bn.jsx("input",{className:"inputstyle",type:"file",name:"file",onChange:W}),Bn.jsx("input",{className:"submit",type:"submit",value:"submit"})]}),pe?Bn.jsx(v7,{to:"/chat"}):null]})})};const iL=()=>{const k=Sx();return Bn.jsx(Bn.Fragment,{children:Bn.jsxs("div",{className:"container",children:[Bn.jsx("button",{type:"button",onClick:()=>{k("/chatwithdatabase")},children:"Chat with Database"}),Bn.jsx("button",{type:"button",onClick:()=>{k("/chat")},children:"Chat with documnet"}),Bn.jsx("button",{type:"button",onClick:()=>{k("/chatbot")},children:"Chat with bot"}),Bn.jsx("button",{type:"button",onClick:()=>{k("/audio")},children:"Transcibe audio"})]})})};const oL=()=>{const[k,G]=ua.useState(""),ne=Le=>{Le.preventDefault(),pe()},pe=async()=>{const Le=await jh.get("http://localhost:4000/translateAudio");console.log(Le.data);const Ye=Le.data.result[0].pageContent;G(Ye)};return Bn.jsxs(Bn.Fragment,{children:[Bn.jsx("div",{children:Bn.jsx("form",{action:"",encType:"multipart/form-data",onSubmit:ne,children:Bn.jsx("input",{className:"submit",type:"submit",value:"submit"})})}),k]})};function sL(){const[k,G]=ua.useState(),ne=pe=>{G(pe)};return Bn.jsx(Bn.Fragment,{children:Bn.jsxs(p7,{children:[Bn.jsx(Fc,{path:"/loader",element:Bn.jsx(Ox,{})}),Bn.jsx(Fc,{path:"/",element:Bn.jsx(iL,{})}),Bn.jsx(Fc,{path:"/upload",element:Bn.jsx(aL,{files:ne})}),Bn.jsx(Fc,{path:"/chat",element:Bn.jsx(K9,{filename:k})}),Bn.jsx(Fc,{path:"/chatbot",element:Bn.jsx(eL,{})}),Bn.jsx(Fc,{path:"/chatwithdatabase",element:Bn.jsx(nL,{})}),Bn.jsx(Fc,{path:"/audio",element:Bn.jsx(oL,{})})]})})}r1.createRoot(document.getElementById("root")).render(Bn.jsx(y7,{children:Bn.jsx(sL,{})}));
